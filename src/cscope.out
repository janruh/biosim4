cscope 15 $HOME/biosim4/src               0002764253
	@analysis.cpp

3 
	~<io¡»am
>

4 
	~<iomª
>

5 
	~<f¡»am
>

6 
	~<ÿs£¹
>

7 
	~<c¡ršg
>

8 
	~<¡ršg
>

9 
	~"simuÏtÜ.h
"

11 
Çme¥aû
 
	gBS
 {

14 
	g¡d
::
¡ršg
 
£nsÜName
(
S’sÜ
 
£nsÜ
)

16 
£nsÜ
) {

17 
AGE
:  "age"; ;

18 
	gBOUNDARY_DIST
:  "boundary dist"; ;

19 
	gBOUNDARY_DIST_X
:  "boundary dist X"; ;

20 
	gBOUNDARY_DIST_Y
:  "boundary dist Y"; ;

21 
	gLAST_MOVE_DIR_X
:  "last move dir X"; ;

22 
	gLAST_MOVE_DIR_Y
:  "last move dir Y"; ;

23 
	gLOC_X
:  "loc X"; ;

24 
	gLOC_Y
:  "loc Y"; ;

25 
	gLONGPROBE_POP_FWD
:  "long…robe…opulation fwd"; ;

26 
	gLONGPROBE_BAR_FWD
:  "long…robe barrier fwd"; ;

27 
	gBARRIER_FWD
:  "short…robe barrier fwd-rev"; ;

28 
	gBARRIER_LR
:  "short…robe barrier†eft-right"; ;

29 
	gOSC1
:  "osc1"; ;

30 
	gPOPULATION
:  "population"; ;

31 
	gPOPULATION_FWD
:  "population fwd"; ;

32 
	gPOPULATION_LR
:  "population LR"; ;

33 
	gRANDOM
:  "random"; ;

34 
	gSIGNAL0
:  "signal 0"; ;

35 
	gSIGNAL0_FWD
:  "signal 0 fwd"; ;

36 
	gSIGNAL0_LR
:  "signal 0 LR"; ;

37 
	gGENETIC_SIM_FWD
:  "genetic similarity fwd"; ;

38 : 
as£¹
(
çl£
); ;

44 
	g¡d
::
¡ršg
 
aùiÚName
(
AùiÚ
 
aùiÚ
)

46 
aùiÚ
) {

47 
MOVE_EAST
:  "moveƒast"; ;

48 
	gMOVE_WEST
:  "move west"; ;

49 
	gMOVE_NORTH
:  "move‚orth"; ;

50 
	gMOVE_SOUTH
:  "move south"; ;

51 
	gMOVE_FORWARD
:  "move fwd"; ;

52 
	gMOVE_X
:  "move X"; ;

53 
	gMOVE_Y
:  "move Y"; ;

54 
	gSET_RESPONSIVENESS
:  "set inv-responsiveness"; ;

55 
	gSET_OSCILLATOR_PERIOD
:  "set osc1"; ;

56 
	gEMIT_SIGNAL0
:  "emit signal 0"; ;

57 
	gKILL_FORWARD
:  "kill fwd"; ;

58 
	gMOVE_REVERSE
:  "move„everse"; ;

59 
	gMOVE_LEFT
:  "move†eft"; ;

60 
	gMOVE_RIGHT
:  "move„ight"; ;

61 
	gMOVE_RL
:  "move R-L"; ;

62 
	gMOVE_RANDOM
:  "move„andom"; ;

63 
	gSET_LONGPROBE_DIST
:  "set†ongprobe dist"; ;

64 : 
as£¹
(
çl£
); ;

71 
	g¡d
::
¡ršg
 
£nsÜShÜtName
(
S’sÜ
 
£nsÜ
)

73 
£nsÜ
) {

74 
AGE
:  "Age"; ;

75 
	gBOUNDARY_DIST
:  "ED"; ;

76 
	gBOUNDARY_DIST_X
:  "EDx"; ;

77 
	gBOUNDARY_DIST_Y
:  "EDy"; ;

78 
	gLAST_MOVE_DIR_X
:  "LMx"; ;

79 
	gLAST_MOVE_DIR_Y
:  "LMy"; ;

80 
	gLOC_X
:  "Lx"; ;

81 
	gLOC_Y
:  "Ly"; ;

82 
	gLONGPROBE_POP_FWD
:  "LPf"; ;

83 
	gLONGPROBE_BAR_FWD
:  "LPb"; ;

84 
	gBARRIER_FWD
:  "Bfd"; ;

85 
	gBARRIER_LR
:  "Blr"; ;

86 
	gOSC1
:  "Osc"; ;

87 
	gPOPULATION
:  "Pop"; ;

88 
	gPOPULATION_FWD
:  "Pfd"; ;

89 
	gPOPULATION_LR
:  "Plr"; ;

90 
	gRANDOM
:  "Rnd"; ;

91 
	gSIGNAL0
:  "Sg"; ;

92 
	gSIGNAL0_FWD
:  "Sfd"; ;

93 
	gSIGNAL0_LR
:  "Slr"; ;

94 
	gGENETIC_SIM_FWD
:  "Gen"; ;

95 : 
as£¹
(
çl£
); ;

102 
	g¡d
::
¡ršg
 
aùiÚShÜtName
(
AùiÚ
 
aùiÚ
)

104 
aùiÚ
) {

105 
MOVE_EAST
:  "MvE"; ;

106 
	gMOVE_WEST
:  "MvW"; ;

107 
	gMOVE_NORTH
:  "MvN"; ;

108 
	gMOVE_SOUTH
:  "MvS"; ;

109 
	gMOVE_X
:  "MvX"; ;

110 
	gMOVE_Y
:  "MvY"; ;

111 
	gMOVE_FORWARD
:  "Mfd"; ;

112 
	gSET_RESPONSIVENESS
:  "Res"; ;

113 
	gSET_OSCILLATOR_PERIOD
:  "OSC"; ;

114 
	gEMIT_SIGNAL0
:  "SG"; ;

115 
	gKILL_FORWARD
:  "Klf"; ;

116 
	gMOVE_REVERSE
:  "Mrv"; ;

117 
	gMOVE_LEFT
:  "MvL"; ;

118 
	gMOVE_RIGHT
:  "MvR"; ;

119 
	gMOVE_RL
:  "MRL"; ;

120 
	gMOVE_RANDOM
:  "Mrn"; ;

121 
	gSET_LONGPROBE_DIST
:  "LPD"; ;

122 : 
as£¹
(
çl£
); ;

130 
´štS’sÜsAùiÚs
()

132 
	gi
;

133 
	g¡d
::
cout
 << "S’sÜs:" << 
¡d
::
’dl
;

134 
	gi
 = 0; i < 
	gS’sÜ
::
NUM_SENSES
; ++i) {

135 
	g¡d
::
cout
 << " " << 
£nsÜName
((
S’sÜ
)
i
è<< 
¡d
::
’dl
;

137 
	g¡d
::
cout
 << "AùiÚs:" << 
¡d
::
’dl
;

138 
	gi
 = 0; i < 
	gAùiÚ
::
NUM_ACTIONS
; ++i) {

139 
	g¡d
::
cout
 << " " << 
aùiÚName
((
AùiÚ
)
i
è<< 
¡d
::
’dl
;

141 
	g¡d
::
cout
 << 
¡d
::
’dl
;

146 
	gIndiv
::
´štG’ome
() const

148 
cÚ¡ex´
 
g’esP”Lše
 = 8;

149 
	gcouÁ
 = 0;

150 
G’e
 
	gg’e
 : 
g’ome
) {

151 ià(
couÁ
 =ğ
g’esP”Lše
) {

152 
¡d
::
cout
 << std::
’dl
;

153 
	gcouÁ
 = 0;

154 } ià(
	gcouÁ
 != 0) {

155 
¡d
::
cout
 << " ";

158 
as£¹
((
G’e
) == 4);

159 
ušt32_t
 
	gn
;

160 
	g¡d
::
memıy
(&
n
, &
g’e
, (n));

161 
	g¡d
::
cout
 << 
¡d
::
hex
 << std::
£tfl
('0'è<< std::
£tw
(8è<< 
n
;

162 ++
	gcouÁ
;

164 
	g¡d
::
cout
 << 
¡d
::
dec
 << std::
’dl
;

233 
	gIndiv
::
´štIG¿phEdgeLi¡
() const

235 autØ& 
cÚn
 : 
Â‘
.
cÚÃùiÚs
) {

236 ià(
cÚn
.
sourûTy³
 =ğ
SENSOR
) {

237 
¡d
::
cout
 << 
£nsÜShÜtName
((
S’sÜ
)(
cÚn
.
sourûNum
));

239 
	g¡d
::
cout
 << "N" << 
¡d
::
to_¡ršg
(
cÚn
.
sourûNum
);

242 
	g¡d
::
cout
 << " ";

244 ià(
	gcÚn
.
	gsškTy³
 =ğ
ACTION
) {

245 
¡d
::
cout
 << 
aùiÚShÜtName
((
AùiÚ
)(
cÚn
.
sškNum
));

247 
	g¡d
::
cout
 << "N" << 
¡d
::
to_¡ršg
(
cÚn
.
sškNum
);

250 
	g¡d
::
cout
 << " " << 
¡d
::
to_¡ršg
(
cÚn
.
weight
è<< std::
’dl
;

255 
av”ageG’omeL’gth
()

257 
	gcouÁ
 = 100;

258 
	gnumb”Sam¶es
 = 0;

259 
	gsum
 = 0;

261 
	gcouÁ
-- > 0) {

262 
	gsum
 +ğ
³•s
[
¿ndomUšt
(1, 
p
.
pİuÏtiÚ
)].
	gg’ome
.
size
();

263 ++
	gnumb”Sam¶es
;

265  
	gsum
 / 
	gnumb”Sam¶es
;

272 
­³ndEpochLog
(
g’”©iÚ
, 
numb”SurvivÜs
, 
murd”CouÁ
)

274 
	g¡d
::
of¡»am
 
fouut
;

276 ià(
	gg’”©iÚ
 == 0) {

277 
fouut
.
İ’
(
p
.
logDœ
 + "/epoch-log.txt");

278 
	gfouut
.
şo£
();

281 
	gfouut
.
İ’
(
p
.
logDœ
 + "/•och-log.txt", 
¡d
::
ios
::
­p
);

283 ià(
	gfouut
.
is_İ’
()) {

284 
	gfouut
 << 
	gg’”©iÚ
 << " " << 
	gnumb”SurvivÜs
 << " " << 
g’‘icDiv”s™y
()

285 << " " << 
av”ageG’omeL’gth
(è<< " " << 
	gmurd”CouÁ
 << 
	g¡d
::
’dl
;

287 
as£¹
(
çl£
);

293 
di¥ÏySigÇlU£
()

295 ià(
	gS’sÜ
::
SIGNAL0
 > 
S’sÜ
::
NUM_SENSES
 && S’sÜ::
SIGNAL0_FWD
 > S’sÜ::NUM_SENSES && S’sÜ::
SIGNAL0_LR
 > Sensor::NUM_SENSES) {

299 
	gsum
 = 0;

300 
	gcouÁ
 = 0;

302 
št16_t
 
	gx
 = 0; x < 
	gp
.
	gsizeX
; ++x) {

303 
št16_t
 
	gy
 = 0; y < 
	gp
.
	gsizeY
; ++y) {

304 
	gmagn™ude
 = 
sigÇls
.
g‘Magn™ude
(0, { 
x
, 
y
 });

305 ià(
	gmagn™ude
 != 0) {

306 ++
couÁ
;

307 
	gsum
 +ğ
magn™ude
;

311 
	g¡d
::
cout
 << "SigÇÈ¥»ad " << (()
couÁ
 / (
p
.
sizeX
 *….
sizeY
)è<< "%,‡v”ag" << (()
sum
 / (p.sizeX *….sizeY)è<< 
¡d
::
’dl
;

318 
di¥ÏyS’sÜAùiÚReã»nûCouÁs
()

320 
	g¡d
::
veùÜ
<> 
£nsÜCouÁs
(
S’sÜ
::
NUM_SENSES
, 0);

321 
	g¡d
::
veùÜ
<> 
aùiÚCouÁs
(
AùiÚ
::
NUM_ACTIONS
, 0);

323 
	gšdex
 = 1; index <ğ
p
.
pİuÏtiÚ
; ++index) {

324 ià(
	g³•s
[
šdex
].
	g®ive
) {

325 cÚ¡ 
	gIndiv
 &
	gšdiv
 = 
³•s
[
šdex
];

326 cÚ¡ 
	gG’e
 &
	gg’e
 : 
šdiv
.
Â‘
.
cÚÃùiÚs
) {

327 ià(
g’e
.
sourûTy³
 =ğ
SENSOR
) {

328 
as£¹
(
g’e
.
sourûNum
 < 
S’sÜ
::
NUM_SENSES
);

329 ++
	g£nsÜCouÁs
[(
S’sÜ
)
g’e
.
sourûNum
];

331 ià(
	gg’e
.
	gsškTy³
 =ğ
ACTION
) {

332 
as£¹
(
g’e
.
sškNum
 < 
AùiÚ
::
NUM_ACTIONS
);

333 ++
	gaùiÚCouÁs
[(
AùiÚ
)
g’e
.
sškNum
];

339 
	g¡d
::
cout
 << "S’sÜ š u£:" << 
¡d
::
’dl
;

340 
	gi
 = 0; i < 
	g£nsÜCouÁs
.
size
(); ++i) {

341 ià(
	g£nsÜCouÁs
[
i
] > 0) {

342 
	g¡d
::
cout
 << " " << 
£nsÜCouÁs
[
i
] << " - " << 
£nsÜName
((
S’sÜ
)iè<< 
¡d
::
’dl
;

345 
	g¡d
::
cout
 << "AùiÚ š u£:" << 
¡d
::
’dl
;

346 
	gi
 = 0; i < 
	gaùiÚCouÁs
.
size
(); ++i) {

347 ià(
	gaùiÚCouÁs
[
i
] > 0) {

348 
	g¡d
::
cout
 << " " << 
aùiÚCouÁs
[
i
] << " - " << 
aùiÚName
((
AùiÚ
)iè<< 
¡d
::
’dl
;

354 
di¥ÏySam¶eG’omes
(
couÁ
)

356 
	gšdex
 = 1;

357 
	gšdex
 = 1; 
	gcouÁ
 > 0 && index <ğ
p
.
pİuÏtiÚ
; ++index) {

358 ià(
	g³•s
[
šdex
].
	g®ive
) {

359 
	g¡d
::
cout
 << "---------------------------\nIndividu® ID " << 
šdex
 << 
¡d
::
’dl
;

360 
	g³•s
[
šdex
].
´štG’ome
();

361 
	g¡d
::
cout
 << 
¡d
::
’dl
;

364 
	g³•s
[
šdex
].
´štIG¿phEdgeLi¡
();

367 
	g¡d
::
cout
 << "---------------------------" << 
¡d
::
’dl
;

368 --
	gcouÁ
;

372 
di¥ÏyS’sÜAùiÚReã»nûCouÁs
();

	@basicTypes.cpp

3 
	~<ÿs£¹
>

4 
	~"basicTy³s.h
"

6 
Çme¥aû
 
	gBS
 {

13 
Dœ
 
	gDœ
::
rÙ©e
(
n
) const

15 
cÚ¡ex´
 
ušt8_t
 
rÙ©eRight
[9] { 3, 0, 1, 6, 4, 2, 7, 8, 5 };

16 
cÚ¡ex´
 
ušt8_t
 
	grÙ©eLeá
[9] { 1, 2, 5, 0, 4, 8, 3, 6, 7 };

17 
ušt8_t
 
	gn9
 = 
asIÁ
();

18 ià(
	gn
 < 0) {

19 
	gn
++ < 0) {

20 
	gn9
 = 
rÙ©eLeá
[
n9
];

22 } ià(
	gn
 > 0) {

23 
	gn
-- > 0) {

24 
	gn9
 = 
rÙ©eRight
[
n9
];

27  
	gDœ
{(
	gCom·ss
)
	gn9
};

50 
CoÜd
 
	gDœ
::
asNÜm®izedCoÜd
() const

52 cÚ¡ 
d
 = 
asIÁ
();

53  
	gCoÜd
{(
	gšt16_t
)((
	gd
 % 3) - 1), (int16_t)((d / 3) - 1)};

57 
PŞ¬
 
	gDœ
::
asNÜm®izedPŞ¬
() const

59  
PŞ¬
{1, 
	gdœ9
};

69 
CoÜd
 
	gCoÜd
::
nÜm®ize
() const

71  
asDœ
().
asNÜm®izedCoÜd
();

77 
Dœ
 
	gCoÜd
::
asDœ
() const

79 ià(
x
 =ğ0 && 
y
 == 0) {

80  
Dœ
{
Com·ss
::
CENTER
};

83 cÚ¡ 
	gTWO_PI
 = 3.1415927f * 2.0f;

84 
	gªgË
 = 
¡d
::
©ª2
(()
y
, ()
x
);

86 ià(
	gªgË
 < 0.0f) {

87 
	gªgË
 = 3.1415927à+ (3.1415927à+ 
ªgË
);

91 
	gªgË
 +ğ(
TWO_PI
 / 16.0f);

92 ià(
	gªgË
 > 
	gTWO_PI
) {

93 
	gªgË
 -ğ
TWO_PI
;

95 
	g¦iû
 = ()(
ªgË
 / (
TWO_PI
/8.0f));

109 cÚ¡ 
Com·ss
 
	gdœcÚv”siÚ
[8] {

110 
	gCom·ss
::
E
, Com·ss::
NE
, Com·ss::
N
, Com·ss::
NW
,

111 
	gCom·ss
::
W
, Com·ss::
SW
, Com·ss::
S
, Com·ss::
SE
 };

112  
	gDœ
{
	gdœcÚv”siÚ
[
¦iû
]};

116 
PŞ¬
 
	gCoÜd
::
asPŞ¬
() const

118  
PŞ¬
{()
Ëngth
(), 
asDœ
()};

129 
CoÜd
 
	gPŞ¬
::
asCoÜd
() const

131 ià(
dœ
 =ğ
Com·ss
::
CENTER
) {

132  
CoÜd
{0, 0};

135 
cÚ¡ex´
 
	gS
 = (3.14159265359 * 2) / 8;

136 
	gcom·ssToRadŸns
[] { 5*
	gS
, 6*S, 7*S, 4*S, 0, 0*S, 3*S, 2*S, 1*S };

143 
št16_t
 
	gx
 = (št16_t)
¡d
::
round
(
mag
 * std::
cos
(
com·ssToRadŸns
[
dœ
.
asIÁ
()]));

144 
št16_t
 
	gy
 = (št16_t)
¡d
::
round
(
mag
 * std::
sš
(
com·ssToRadŸns
[
dœ
.
asIÁ
()]));

145  
	gCoÜd
{
	gx
, 
	gy
};

151 
	gCoÜd
::
¿ySam’ess
(
CoÜd
 
Ùh”
) const

153 
mag1
 = 
¡d
::
sq¹
(
x
 * x + 
y
 * y);

154 
	gmag2
 = 
¡d
::
sq¹
(
Ùh”
.
x
 * oth”.x + oth”.
y
 * other.y);

155 ià(
	gmag1
 =ğ0.0 || 
mag2
 == 0.0) {

158 
	gdÙ
 = 
x
 * 
Ùh”
.x + 
y
 * other.y;

159 
	gcos
 = 
dÙ
 / (
mag1
 * 
mag2
);

160 
as£¹
(
cos
 >= -1.0001 && cos <= 1.0001);

161 
	gcos
 = 
¡d
::
mš
<>(¡d::
max
<>(
cos
, -1.0), 1.0);

162  
	gcos
;

168 
	gCoÜd
::
¿ySam’ess
(
Dœ
 
d
) const

170  
¿ySam’ess
(
d
.
asNÜm®izedCoÜd
());

	@basicTypes.h

1 #iâdeà
BASICTYPES_H_INCLUDED


2 
	#BASICTYPES_H_INCLUDED


	)

46 
	~<c¡dšt
>

47 
	~<cm©h
>

48 
	~<®gÜ™hm
>

49 
	~"¿ndom.h
"

51 
Çme¥aû
 
	gBS
 {

53 
boŞ
 
un™Te¡BasicTy³s
();

55 şas 
	cCom·ss
 :
ušt8_t
 { 
SW
 = 0, 
	gS
, 
	gSE
, 
	gW
, 
	gCENTER
, 
	gE
, 
	gNW
, 
	gN
, 
	gNE
 };

57 
	gDœ
;

58 
	gCoÜd
;

59 
	gPŞ¬
;

62 
__©Œibu‹__
((
·cked
)è
	gDœ
 {

63 
Dœ
 
¿ndom8
(è{  Dœ(
Com·ss
::
N
).
rÙ©e
(
¿ndomUšt
(0, 7)); }

65 
Dœ
(
Com·ss
 
dœ
 = Com·ss::
CENTER
è: 
dœ9
{dir} {};

66 
Dœ
 
	gİ”©Ü
=(
Com·ss
 
d
è{ 
dœ9
 = d;  *
	gthis
; }

67 
ušt8_t
 
asIÁ
(ècÚ¡ {  (
	gušt8_t
)
	gdœ9
; }

68 
CoÜd
 
asNÜm®izedCoÜd
() const;

69 
PŞ¬
 
asNÜm®izedPŞ¬
() const;

71 
Dœ
 
rÙ©e
(
n
 = 0) const;

72 
Dœ
 
rÙ©e90DegCW
(ècÚ¡ {  
rÙ©e
(2); }

73 
Dœ
 
rÙ©e90DegCCW
(ècÚ¡ {  
rÙ©e
(-2); }

74 
Dœ
 
rÙ©e180Deg
(ècÚ¡ {  
rÙ©e
(4); }

76 
boŞ
 
	gİ”©Ü
==(
Com·ss
 
d
ècÚ¡ {  
asIÁ
(è=ğ(
ušt8_t
)d; }

77 
boŞ
 
	gİ”©Ü
!=(
Com·ss
 
d
ècÚ¡ {  
asIÁ
(è!ğ(
ušt8_t
)d; }

78 
boŞ
 
	gİ”©Ü
==(
Dœ
 
d
ècÚ¡ {  
asIÁ
() == d.asInt(); }

79 
boŞ
 
	gİ”©Ü
!=(
Dœ
 
d
ècÚ¡ {  
asIÁ
() != d.asInt(); }

80 
	g´iv©e
:

81 
Com·ss
 
dœ9
;

88 
__©Œibu‹__
((
·cked
)è
	gCoÜd
 {

89 
CoÜd
(
št16_t
 
x0
 = 0, iÁ16_ˆ
y0
 = 0è: 
x
{x0}, 
	gy
{
	gy0
} { }

90 
boŞ
 
isNÜm®ized
(ècÚ¡ {  
	gx
 >ğ-1 && 
x
 <ğ1 && 
y
 >= -1 && y <= 1; }

91 
CoÜd
 
nÜm®ize
() const;

92 
Ëngth
(ècÚ¡ {  ()(
	g¡d
::
sq¹
(
x
 * x + 
y
 * y)); }

93 
Dœ
 
asDœ
() const;

94 
PŞ¬
 
asPŞ¬
() const;

96 
boŞ
 
	gİ”©Ü
==(
CoÜd
 
c
ècÚ¡ {  
x
 =ğc.x && 
y
 == c.y; }

97 
boŞ
 
	gİ”©Ü
!=(
CoÜd
 
c
ècÚ¡ {  
x
 !ğc.x || 
y
 != c.y; }

98 
CoÜd
 
	gİ”©Ü
+(CoÜd 
	gc
ècÚ¡ {  
	gCoÜd
{(
	gšt16_t
)(
	gx
 + c.x), (št16_t)(
	gy
 + c.y)}; }

99 
CoÜd
 
	gİ”©Ü
-(CoÜd 
	gc
ècÚ¡ {  
	gCoÜd
{(
	gšt16_t
)(
	gx
 - c.x), (št16_t)(
	gy
 - c.y)}; }

100 
CoÜd
 
	gİ”©Ü
*(
	ga
ècÚ¡ {  
	gCoÜd
{(
	gšt16_t
)(
x
 *‡), (št16_t)(
y
 *‡)}; }

101 
CoÜd
 
	gİ”©Ü
+(
Dœ
 
	gd
ècÚ¡ {  *
	gthis
 + d.
asNÜm®izedCoÜd
(); }

102 
CoÜd
 
	gİ”©Ü
-(
Dœ
 
	gd
ècÚ¡ {  *
	gthis
 - d.
asNÜm®izedCoÜd
(); }

104 
¿ySam’ess
(
CoÜd
 
Ùh”
) const;

105 
¿ySam’ess
(
Dœ
 
d
) const;

106 
	gpublic
:

107 
št16_t
 
x
;

108 
št16_t
 
	gy
;

114 
__©Œibu‹__
((
·cked
)è
	gPŞ¬
 {

115 
ex¶ic™
 
PŞ¬
(
mag0
 = 0, 
Com·ss
 
dœ0
 = Com·ss::
CENTER
)

116 : 
mag
{
mag0
}, 
	gdœ
{
	gDœ
{
	gdœ0
}} { }

117 
ex¶ic™
 
PŞ¬
(
mag0
, 
Dœ
 
dœ0
)

118 : 
mag
{
mag0
}, 
	gdœ
{
	gdœ0
} { }

119 
CoÜd
 
asCoÜd
() const;

120 
	gpublic
:

121 
mag
;

122 
Dœ
 
	gdœ
;

	@createBarrier.cpp

3 
	~<ÿs£¹
>

4 
	~"simuÏtÜ.h
"

6 
Çme¥aû
 
	gBS
 {

18 
	gGrid
::
ü—‹B¬r›r
(
b¬r›rTy³
)

20 
b¬r›rLoÿtiÚs
.
ş—r
();

21 
	gb¬r›rC’‹rs
.
ş—r
();

23 autØ
	gd¿wBox
 = [&](
št16_t
 
mšX
, iÁ16_ˆ
	gmšY
, iÁ16_ˆ
	gmaxX
, iÁ16_ˆ
	gmaxY
) {

24 
št16_t
 
	gx
 = 
mšX
; x <ğ
maxX
; ++x) {

25 
št16_t
 
	gy
 = 
mšY
; y <ğ
maxY
; ++y) {

26 
	ggrid
.
£t
(
x
, 
y
, 
BARRIER
);

27 
	gb¬r›rLoÿtiÚs
.
push_back
Ğ{
x
, 
y
} );

32 
	gb¬r›rTy³
) {

39 
št16_t
 
mšX
 = 
p
.
sizeX
 / 2;

40 
št16_t
 
	gmaxX
 = 
mšX
 + 1;

41 
št16_t
 
	gmšY
 = 
p
.
sizeY
 / 4;

42 
št16_t
 
	gmaxY
 = 
mšY
 + 
p
.
sizeY
 / 2;

44 
št16_t
 
	gx
 = 
mšX
; x <ğ
maxX
; ++x) {

45 
št16_t
 
	gy
 = 
mšY
; y <ğ
maxY
; ++y) {

46 
	ggrid
.
£t
(
x
, 
y
, 
BARRIER
);

47 
	gb¬r›rLoÿtiÚs
.
push_back
Ğ{
x
, 
y
} );

56 
št16_t
 
mšX
 = 
¿ndomUšt
(20, 
p
.
sizeX
 - 20);

57 
št16_t
 
	gmaxX
 = 
mšX
 + 1;

58 
št16_t
 
	gmšY
 = 
¿ndomUšt
(20, 
p
.
sizeY
 / 2 - 20);

59 
št16_t
 
	gmaxY
 = 
mšY
 + 
p
.
sizeY
 / 2;

61 
št16_t
 
	gx
 = 
mšX
; x <ğ
maxX
; ++x) {

62 
št16_t
 
	gy
 = 
mšY
; y <ğ
maxY
; ++y) {

63 
	ggrid
.
£t
(
x
, 
y
, 
BARRIER
);

64 
	gb¬r›rLoÿtiÚs
.
push_back
Ğ{
x
, 
y
} );

73 
št16_t
 
blockSizeX
 = 2;

74 
št16_t
 
	gblockSizeY
 = 
p
.
sizeX
 / 3;

76 
št16_t
 
	gx0
 = 
p
.
sizeX
 / 4 - 
blockSizeX
 / 2;

77 
št16_t
 
	gy0
 = 
p
.
sizeY
 / 4 - 
blockSizeY
 / 2;

78 
št16_t
 
	gx1
 = 
x0
 + 
blockSizeX
;

79 
št16_t
 
	gy1
 = 
y0
 + 
blockSizeY
;

81 
d¿wBox
(
x0
, 
y0
, 
x1
, 
y1
);

82 
	gx0
 +ğ
p
.
sizeX
 / 2;

83 
	gx1
 = 
x0
 + 
blockSizeX
;

84 
d¿wBox
(
x0
, 
y0
, 
x1
, 
y1
);

85 
	gy0
 +ğ
p
.
sizeY
 / 2;

86 
	gy1
 = 
y0
 + 
blockSizeY
;

87 
d¿wBox
(
x0
, 
y0
, 
x1
, 
y1
);

88 
	gx0
 -ğ
p
.
sizeX
 / 2;

89 
	gx1
 = 
x0
 + 
blockSizeX
;

90 
d¿wBox
(
x0
, 
y0
, 
x1
, 
y1
);

91 
	gx0
 = 
p
.
sizeX
 / 2 - 
blockSizeX
 / 2;

92 
	gx1
 = 
x0
 + 
blockSizeX
;

93 
	gy0
 = 
p
.
sizeY
 / 2 - 
blockSizeY
 / 2;

94 
	gy1
 = 
y0
 + 
blockSizeY
;

95 
d¿wBox
(
x0
, 
y0
, 
x1
, 
y1
);

103 
št16_t
 
mšX
 = 
p
.
sizeX
 / 4;

104 
št16_t
 
	gmaxX
 = 
mšX
 + 
p
.
sizeX
 / 2;

105 
št16_t
 
	gmšY
 = 
p
.
sizeY
 / 2 +….sizeY / 4;

106 
št16_t
 
	gmaxY
 = 
mšY
 + 2;

108 
št16_t
 
	gx
 = 
mšX
; x <ğ
maxX
; ++x) {

109 
št16_t
 
	gy
 = 
mšY
; y <ğ
maxY
; ++y) {

110 
	ggrid
.
£t
(
x
, 
y
, 
BARRIER
);

111 
	gb¬r›rLoÿtiÚs
.
push_back
Ğ{
x
, 
y
} );

120 
¿dius
 = 3.0;

121 
	gm¬gš
 = 2 * ()
¿dius
;

123 autØ
	g¿ndomLoc
 = [&]() {

126  
CoÜd
Ğ(
št16_t
)
¿ndomUšt
(
m¬gš
, 
p
.
sizeX
 - margin),

127 (
št16_t
)
¿ndomUšt
(
m¬gš
, 
p
.
sizeY
 - margin) );

130 
CoÜd
 
	gûÁ”0
 = 
¿ndomLoc
();

131 
CoÜd
 
	gûÁ”1
;

132 
CoÜd
 
	gûÁ”2
;

135 
	gûÁ”1
 = 
¿ndomLoc
();

136 } (
	gûÁ”0
 - 
	gûÁ”1
).
Ëngth
(è< 
	gm¬gš
);

139 
	gûÁ”2
 = 
¿ndomLoc
();

140 } (
	gûÁ”0
 - 
	gûÁ”2
).
Ëngth
(è< 
	gm¬gš
 || (
	gûÁ”1
 - center2).length() < margin);

142 
	gb¬r›rC’‹rs
.
push_back
(
ûÁ”0
);

146 autØ
	gf
 = [&](
CoÜd
 
loc
) {

147 
grid
.
£t
(
loc
, 
BARRIER
);

148 
	gb¬r›rLoÿtiÚs
.
push_back
(
loc
);

151 
vis™NeighbÜhood
(
ûÁ”0
, 
¿dius
, 
f
);

160 
numb”OfLoÿtiÚs
 = 5;

161 
	g¿dius
 = 5.0;

163 autØ
	gf
 = [&](
CoÜd
 
loc
) {

164 
grid
.
£t
(
loc
, 
BARRIER
);

165 
	gb¬r›rLoÿtiÚs
.
push_back
(
loc
);

168 
	gv”tiÿlSliûSize
 = 
p
.
sizeY
 / (
numb”OfLoÿtiÚs
 + 1);

170 
	gn
 = 1;‚ <ğ
numb”OfLoÿtiÚs
; ++n) {

171 
CoÜd
 
	gloc
 = { (
št16_t
)(
p
.
sizeX
 / 2),

172 (
št16_t
)(
n
 * 
v”tiÿlSliûSize
) };

173 
vis™NeighbÜhood
(
loc
, 
¿dius
, 
f
);

174 
	gb¬r›rC’‹rs
.
push_back
(
loc
);

180 
as£¹
(
çl£
);

	@endOfGeneration.cpp

3 
	~<io¡»am
>

4 
	~<ut™y
>

5 
	~<ÿs£¹
>

6 
	~<c¡dlib
>

7 
	~<®gÜ™hm
>

8 
	~"simuÏtÜ.h
"

9 
	~"imageWr™”.h
"

11 
Çme¥aû
 
	gBS
 {

16 
’dOfG’”©iÚ
(
g’”©iÚ
)

19 ià(
	gp
.
	g§veVideo
 &&

20 ((
	gg’”©iÚ
 % 
	gp
.
	gvideoSŒide
) == 0

21 || 
g’”©iÚ
 <ğ
p
.
videoSaveFœ¡F¿mes


22 || (
g’”©iÚ
 >ğ
p
.
»¶aûB¬r›rTy³G’”©iÚNumb”


23 && 
g’”©iÚ
 <ğ
p
.
»¶aûB¬r›rTy³G’”©iÚNumb”
 +….
videoSaveFœ¡F¿mes
))) {

24 
imageWr™”
.
§veG’”©iÚVideo
(
g’”©iÚ
);

29 ià(
	gp
.
	gupd©eG¿phLog
 && (
	gg’”©iÚ
 =ğ1 || ((
g’”©iÚ
 % 
p
.
upd©eG¿phLogSŒide
) == 0))) {

30 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wunused-result"

31 
¡d
::
sy¡em
(
p
.
g¿phLogUpd©eCommªd
.
c_¡r
());

	@endOfSimStep.cpp

3 
	~<io¡»am
>

4 
	~<cm©h
>

5 
	~"simuÏtÜ.h
"

6 
	~"imageWr™”.h
"

8 
Çme¥aû
 
	gBS
 {

24 
’dOfSimS‹p
(
simS‹p
, 
g’”©iÚ
)

26 ià(
	gp
.
	gch®Ënge
 =ğ
CHALLENGE_RADIOACTIVE_WALLS
) {

31 
št16_t
 
¿dißùiveX
 = (
simS‹p
 < 
p
.
¡•sP”G’”©iÚ
 / 2è? 0 :….
sizeX
 - 1;

33 
ušt16_t
 
	gšdex
 = 1; index <ğ
p
.
pİuÏtiÚ
; ++index) {

34 
	gIndiv
 &
	gšdiv
 = 
³•s
[
šdex
];

35 
št16_t
 
	gdi¡ªûFromRadißùiveW®l
 = 
¡d
::
abs
(
šdiv
.
loc
.
x
 - 
¿dißùiveX
);

36 ià(
	gdi¡ªûFromRadißùiveW®l
 < 
	gp
.
	gsizeX
 / 2) {

37 
	gchªûOfD—th
 = 1.0 / 
di¡ªûFromRadißùiveW®l
;

38 ià(
¿ndomUšt
(è/ ()
	gRANDOM_UINT_MAX
 < 
	gchªûOfD—th
) {

39 
	g³•s
.
queueFÜD—th
(
šdiv
);

47 ià(
	gp
.
	gch®Ënge
 =ğ
CHALLENGE_TOUCH_ANY_WALL
) {

48 
ušt16_t
 
šdex
 = 1; 
	gšdex
 <ğ
p
.
pİuÏtiÚ
; ++index) {

49 
	gIndiv
 &
	gšdiv
 = 
³•s
[
šdex
];

50 ià(
	gšdiv
.
	gloc
.
	gx
 =ğ0 || 
šdiv
.
loc
.
x
 =ğ
p
.
sizeX
 - 1

51 || 
šdiv
.
loc
.
y
 =ğ0 || indiv.loc.y =ğ
p
.
sizeY
 - 1) {

52 
šdiv
.
ch®ËngeB™s
 = 
Œue
;

60 ià(
	gp
.
	gch®Ënge
 =ğ
CHALLENGE_LOCATION_SEQUENCE
) {

61 
¿dius
 = 9.0;

62 
ušt16_t
 
	gšdex
 = 1; index <ğ
p
.
pİuÏtiÚ
; ++index) {

63 
	gIndiv
 &
	gšdiv
 = 
³•s
[
šdex
];

64 
	gn
 = 0;‚ < 
	ggrid
.
g‘B¬r›rC’‹rs
().
size
(); ++n) {

65 
	gb™
 = 1 << 
n
;

66 ià((
	gšdiv
.
	gch®ËngeB™s
 & 
	gb™
) == 0) {

67 ià((
šdiv
.
loc
 - 
grid
.
g‘B¬r›rC’‹rs
()[
n
]).
Ëngth
(è<ğ
¿dius
) {

68 
šdiv
.
ch®ËngeB™s
 |ğ
b™
;

76 
	g³•s
.
d¿šD—thQueue
();

77 
	g³•s
.
d¿šMoveQueue
();

78 
	gsigÇls
.
çde
(0);

81 ià(
	gp
.
	g§veVideo
 &&

82 ((
	gg’”©iÚ
 % 
	gp
.
	gvideoSŒide
) == 0

83 || 
g’”©iÚ
 <ğ
p
.
videoSaveFœ¡F¿mes


84 || (
g’”©iÚ
 >ğ
p
.
»¶aûB¬r›rTy³G’”©iÚNumb”


85 && 
g’”©iÚ
 <ğ
p
.
»¶aûB¬r›rTy³G’”©iÚNumb”
 +….
videoSaveFœ¡F¿mes
))) {

86 ià(!
imageWr™”
.
§veVideoF¿meSync
(
simS‹p
, 
g’”©iÚ
)) {

87 
¡d
::
cout
 << "imageWr™” busy" << std::
’dl
;

	@executeActions.cpp

3 
	~<io¡»am
>

4 
	~<®gÜ™hm
>

5 
	~<cm©h
>

6 
	~<¬¿y
>

7 
	~<ÿs£¹
>

8 
	~"simuÏtÜ.h
"

9 
	~"omp.h
"

11 
Çme¥aû
 
	gBS
 {

17 
boŞ
 
´ob2boŞ
(
çùÜ
)

19 
as£¹
(
çùÜ
 >= 0.0 && factor <= 1.0);

20  (
¿ndomUšt
(è/ ()
	gRANDOM_UINT_MAX
è< 
	gçùÜ
;

28 
»¥Ú£Curve
(
r
)

30 cÚ¡ 
	gk
 = 
p
.
»¥Úsiv’essCurveKFaùÜ
;

31  
	g¡d
::
pow
((
r
 - 2.0), -2.0 * 
k
è- std::pow(2.0, -2.0 * kè* (1.0 - 
	gr
);

68 
execu‹AùiÚs
(
Indiv
 &
šdiv
, 
¡d
::
¬¿y
<, 
AùiÚ
::
NUM_ACTIONS
> &
aùiÚLev–s
)

73 autØ
isEÇbËd
 = [](
AùiÚ
 
aùiÚ
){  (ïùiÚ < ()AùiÚ::
NUM_ACTIONS
; };

78 ià(
isEÇbËd
(
AùiÚ
::
SET_RESPONSIVENESS
)) {

79 
Ëv–
 = 
aùiÚLev–s
[
AùiÚ
::
SET_RESPONSIVENESS
];

80 
	gËv–
 = (
¡d
::
nh
(
Ëv–
) + 1.0) / 2.0;

81 
	gšdiv
.
	g»¥Úsiv’ess
 = 
Ëv–
;

86 
	g»¥Úsiv’essAdju¡ed
 = 
»¥Ú£Curve
(
šdiv
.
»¥Úsiv’ess
);

91 ià(
isEÇbËd
(
AùiÚ
::
SET_OSCILLATOR_PERIOD
)) {

92 autØ
³riodf
 = 
aùiÚLev–s
[
AùiÚ
::
SET_OSCILLATOR_PERIOD
];

93 
	gÃwP”iodf01
 = (
¡d
::
nh
(
³riodf
) + 1.0) / 2.0;

94 
	gÃwP”iod
 = 1 + ()(1.5 + 
¡d
::
exp
(7.0 * 
ÃwP”iodf01
));

95 
as£¹
(
ÃwP”iod
 >= 2 &&‚ewPeriod <= 2048);

96 
	gšdiv
.
	goscP”iod
 = 
ÃwP”iod
;

102 ià(
isEÇbËd
(
AùiÚ
::
SET_LONGPROBE_DIST
)) {

103 
cÚ¡ex´
 
maxLÚgProbeDi¡ªû
 = 32;

104 
	gËv–
 = 
aùiÚLev–s
[
SET_LONGPROBE_DIST
];

105 
	gËv–
 = (
¡d
::
nh
(
Ëv–
) + 1.0) / 2.0;

106 
	gËv–
 = 1 + 
Ëv–
 * 
maxLÚgProbeDi¡ªû
;

107 
	gšdiv
.
	glÚgProbeDi¡
 = ()
Ëv–
;

115 ià(
isEÇbËd
(
AùiÚ
::
EMIT_SIGNAL0
)) {

116 
cÚ¡ex´
 
em™Th»shŞd
 = 0.5;

117 
	gËv–
 = 
aùiÚLev–s
[
AùiÚ
::
EMIT_SIGNAL0
];

118 
	gËv–
 = (
¡d
::
nh
(
Ëv–
) + 1.0) / 2.0;

119 
	gËv–
 *ğ
»¥Úsiv’essAdju¡ed
;

120 ià(
	gËv–
 > 
	gem™Th»shŞd
 && 
´ob2boŞ
(
Ëv–
)) {

121 
	gsigÇls
.
šüem’t
(0, 
šdiv
.
loc
);

128 ià(
isEÇbËd
(
AùiÚ
::
KILL_FORWARD
è&& 
p
.
klEÇbË
) {

129 
cÚ¡ex´
 
klTh»shŞd
 = 0.5;

130 
	gËv–
 = 
aùiÚLev–s
[
AùiÚ
::
KILL_FORWARD
];

131 
	gËv–
 = (
¡d
::
nh
(
Ëv–
) + 1.0) / 2.0;

132 
	gËv–
 *ğ
»¥Úsiv’essAdju¡ed
;

133 ià(
	gËv–
 > 
	gklTh»shŞd
 && 
´ob2boŞ
((
Ëv–
 - 
ACTION_MIN
è/ 
ACTION_RANGE
)) {

134 
CoÜd
 
	gÙh”Loc
 = 
šdiv
.
loc
 + indiv.
Ï¡MoveDœ
;

135 ià(
	ggrid
.
isInBounds
(
Ùh”Loc
è&& grid.
isOccup›dAt
(otherLoc)) {

136 
	gIndiv
 &
	gšdiv2
 = 
³•s
.
g‘Indiv
(
Ùh”Loc
);

137 ià(
	gšdiv2
.
	g®ive
) {

138 
as£¹
((
šdiv
.
loc
 - 
šdiv2
.loc).
Ëngth
() == 1);

139 
	g³•s
.
queueFÜD—th
(
šdiv2
);

163 
	gËv–
;

164 
CoÜd
 
	goff£t
;

165 
CoÜd
 
	gÏ¡MoveOff£t
 = 
šdiv
.
Ï¡MoveDœ
.
asNÜm®izedCoÜd
();

169 
	gmoveX
 = 
isEÇbËd
(
AùiÚ
::
MOVE_X
è? 
aùiÚLev–s
[Action::MOVE_X] : 0.0;

170 
	gmoveY
 = 
isEÇbËd
(
AùiÚ
::
MOVE_Y
è? 
aùiÚLev–s
[Action::MOVE_Y] : 0.0;

172 ià(
isEÇbËd
(
AùiÚ
::
MOVE_EAST
)è
moveX
 +ğ
aùiÚLev–s
[Action::MOVE_EAST];

173 ià(
isEÇbËd
(
AùiÚ
::
MOVE_WEST
)è
moveX
 -ğ
aùiÚLev–s
[Action::MOVE_WEST];

174 ià(
isEÇbËd
(
AùiÚ
::
MOVE_NORTH
)è
moveY
 +ğ
aùiÚLev–s
[Action::MOVE_NORTH];

175 ià(
isEÇbËd
(
AùiÚ
::
MOVE_SOUTH
)è
moveY
 -ğ
aùiÚLev–s
[Action::MOVE_SOUTH];

177 ià(
isEÇbËd
(
AùiÚ
::
MOVE_FORWARD
)) {

178 
Ëv–
 = 
aùiÚLev–s
[
AùiÚ
::
MOVE_FORWARD
];

179 
	gmoveX
 +ğ
Ï¡MoveOff£t
.
x
 * 
Ëv–
;

180 
	gmoveY
 +ğ
Ï¡MoveOff£t
.
y
 * 
Ëv–
;

182 ià(
isEÇbËd
(
AùiÚ
::
MOVE_REVERSE
)) {

183 
Ëv–
 = 
aùiÚLev–s
[
AùiÚ
::
MOVE_REVERSE
];

184 
	gmoveX
 -ğ
Ï¡MoveOff£t
.
x
 * 
Ëv–
;

185 
	gmoveY
 -ğ
Ï¡MoveOff£t
.
y
 * 
Ëv–
;

187 ià(
isEÇbËd
(
AùiÚ
::
MOVE_LEFT
)) {

188 
Ëv–
 = 
aùiÚLev–s
[
AùiÚ
::
MOVE_LEFT
];

189 
	goff£t
 = 
šdiv
.
Ï¡MoveDœ
.
rÙ©e90DegCCW
().
asNÜm®izedCoÜd
();

190 
	gmoveX
 +ğ
off£t
.
x
 * 
Ëv–
;

191 
	gmoveY
 +ğ
off£t
.
y
 * 
Ëv–
;

193 ià(
isEÇbËd
(
AùiÚ
::
MOVE_RIGHT
)) {

194 
Ëv–
 = 
aùiÚLev–s
[
AùiÚ
::
MOVE_RIGHT
];

195 
	goff£t
 = 
šdiv
.
Ï¡MoveDœ
.
rÙ©e90DegCW
().
asNÜm®izedCoÜd
();

196 
	gmoveX
 +ğ
off£t
.
x
 * 
Ëv–
;

197 
	gmoveY
 +ğ
off£t
.
y
 * 
Ëv–
;

199 ià(
isEÇbËd
(
AùiÚ
::
MOVE_RL
)) {

200 
Ëv–
 = 
aùiÚLev–s
[
AùiÚ
::
MOVE_RL
];

201 
	goff£t
 = 
šdiv
.
Ï¡MoveDœ
.
rÙ©e90DegCW
().
asNÜm®izedCoÜd
();

202 
	gmoveX
 +ğ
off£t
.
x
 * 
Ëv–
;

203 
	gmoveY
 +ğ
off£t
.
y
 * 
Ëv–
;

206 ià(
isEÇbËd
(
AùiÚ
::
MOVE_RANDOM
)) {

207 
Ëv–
 = 
aùiÚLev–s
[
AùiÚ
::
MOVE_RANDOM
];

208 
	goff£t
 = 
Dœ
::
¿ndom8
().
asNÜm®izedCoÜd
();

209 
	gmoveX
 +ğ
off£t
.
x
 * 
Ëv–
;

210 
	gmoveY
 +ğ
off£t
.
y
 * 
Ëv–
;

215 
	gmoveX
 = 
¡d
::
nh
(
moveX
);

216 
	gmoveY
 = 
¡d
::
nh
(
moveY
);

217 
	gmoveX
 *ğ
»¥Úsiv’essAdju¡ed
;

218 
	gmoveY
 *ğ
»¥Úsiv’essAdju¡ed
;

221 
št16_t
 
	g´obX
 = (št16_t)
´ob2boŞ
(
¡d
::
abs
(
moveX
));

222 
št16_t
 
	g´obY
 = (št16_t)
´ob2boŞ
(
¡d
::
abs
(
moveY
));

225 
št16_t
 
	gsignumX
 = 
moveX
 < 0.0 ? -1 : 1;

226 
št16_t
 
	gsignumY
 = 
moveY
 < 0.0 ? -1 : 1;

229 
CoÜd
 
	gmovem’tOff£t
 = { (
št16_t
)(
´obX
 * 
signumX
), (št16_t)(
´obY
 * 
signumY
) };

232 
CoÜd
 
	gÃwLoc
 = 
šdiv
.
loc
 + 
movem’tOff£t
;

233 ià(
	ggrid
.
isInBounds
(
ÃwLoc
è&& grid.
isEm±yAt
(newLoc)) {

234 
	g³•s
.
queueFÜMove
(
šdiv
, 
ÃwLoc
);

	@feedForward.cpp

3 
	~<io¡»am
>

4 
	~<ÿs£¹
>

5 
	~<cm©h
>

6 
	~"simuÏtÜ.h
"

8 
Çme¥aû
 
	gBS
 {

42 
	g¡d
::
¬¿y
<, 
	gAùiÚ
::
NUM_ACTIONS
> 
Indiv
::
ãedFÜw¬d
(
simS‹p
)

48 
¡d
::
¬¿y
<, 
	gAùiÚ
::
NUM_ACTIONS
> 
aùiÚLev–s
;

49 
	gaùiÚLev–s
.
fl
(0.0);

52 
	g¡d
::
veùÜ
<> 
ÃurÚAccumuÏtÜs
(
Â‘
.
ÃurÚs
.
size
(), 0.0);

61 
boŞ
 
	gÃurÚOuutsCompu‹d
 = 
çl£
;

62 
	gG’e
 & 
	gcÚn
 : 
Â‘
.
cÚÃùiÚs
) {

63 ià(
cÚn
.
sškTy³
 =ğ
ACTION
 && !
ÃurÚOuutsCompu‹d
) {

67 
ÃurÚIndex
 = 0; 
	gÃurÚIndex
 < 
	gÂ‘
.
	gÃurÚs
.
size
(); ++neuronIndex) {

68 ià(
	gÂ‘
.
	gÃurÚs
[
ÃurÚIndex
].
	gdriv’
) {

69 
	gÂ‘
.
	gÃurÚs
[
ÃurÚIndex
].
	gouut
 = 
¡d
::
nh
(
ÃurÚAccumuÏtÜs
[neuronIndex]);

72 
	gÃurÚOuutsCompu‹d
 = 
Œue
;

77 
	gšputV®
;

78 ià(
	gcÚn
.
	gsourûTy³
 =ğ
SENSOR
) {

79 
šputV®
 = 
g‘S’sÜ
((
S’sÜ
)
cÚn
.
sourûNum
, 
simS‹p
);

81 
	gšputV®
 = 
Â‘
.
ÃurÚs
[
cÚn
.
sourûNum
].
ouut
;

87 ià(
	gcÚn
.
	gsškTy³
 =ğ
ACTION
) {

88 
aùiÚLev–s
[
cÚn
.
sškNum
] +ğ
šputV®
 * cÚn.
weightAsFlßt
();

90 
	gÃurÚAccumuÏtÜs
[
cÚn
.
sškNum
] +ğ
šputV®
 * cÚn.
weightAsFlßt
();

94  
	gaùiÚLev–s
;

	@genome-compare.cpp

3 
	~<ÿs£¹
>

4 
	~"simuÏtÜ.h
"

6 
Çme¥aû
 
	gBS
 {

10 
boŞ
 
g’esM©ch
(cÚ¡ 
G’e
 &
g1
, cÚ¡ G’&
g2
)

12  
	gg1
.
	gsškNum
 =ğ
g2
.
sškNum


13 && 
g1
.
sourûNum
 =ğ
g2
.sourceNum

14 && 
g1
.
sškTy³
 =ğ
g2
.sinkType

15 && 
g1
.
sourûTy³
 =ğ
g2
.sourceType

16 && 
g1
.
weight
 =ğ
g2
.weight;

27 
j¬o_wškËr_di¡ªû
(cÚ¡ 
G’ome
 &
g’ome1
, cÚ¡ G’om&
g’ome2
) {

28 
	gdw
;

29 autØ
	gmax
 = [](
a
, 
	gb
è{  
	ga
 > b ?‡ : 
b
; };

30 autØ
	gmš
 = [](
a
, 
	gb
è{  
	ga
 < b ?‡ : 
b
; };

32 cÚ¡‡utØ&
	gs
 = 
g’ome1
;

33 cÚ¡‡utØ&
	ga
 = 
g’ome2
;

35 
	gi
, 
	gj
, 
	gl
;

36 
	gm
 = 0, 
	gt
 = 0;

37 
	g¦
 = 
s
.
size
();

38 
	g®
 = 
a
.
size
();

40 
cÚ¡ex´
 
	gmaxNumG’esToCom·»
 = 20;

41 
	g¦
 = 
mš
(
maxNumG’esToCom·»
, 
¦
);

42 
	g®
 = 
mš
(
maxNumG’esToCom·»
, 
®
);

44 
	g¡d
::
veùÜ
<> 
sæags
(
¦
, 0);

45 
	g¡d
::
veùÜ
<> 
aæags
(
®
, 0);

46 
	g¿nge
 = 
max
(0, max(
¦
, 
®
) / 2 - 1);

48 ià(!
	g¦
 || !
	g®
)

52 
	gi
 = 0; i < 
	g®
; i++) {

53 
	gj
 = 
max
(
i
 - 
¿nge
, 0), 
	gl
 = 
mš
(˜+„ªg+ 1, 
¦
); j <†; j++) {

54 ià(
g’esM©ch
(
a
[
i
], 
s
[
j
]è&& !
	gsæags
[j]) {

55 
	gsæags
[
j
] = 1;

56 
	gaæags
[
i
] = 1;

57 
	gm
++;

63 ià(!
	gm
)

67 
	gl
 = 0;

68 
	gi
 = 0; i < 
	g®
; i++) {

69 ià(
	gaæags
[
i
] == 1) {

70 
j
 = 
l
; 
	gj
 < 
	g¦
; j++) {

71 ià(
	gsæags
[
j
] == 1) {

72 
l
 = 
j
 + 1;

76 ià(!
g’esM©ch
(
a
[
i
], 
s
[
j
]))

77 
	gt
++;

80 
	gt
 /= 2;

83 
	gdw
 = ((()
m
 / 
¦
è+ (()m / 
®
è+ (()(m - 
t
) / m)) / 3.0f;

84  
	gdw
;

89 
hammšgDi¡ªûB™s
(cÚ¡ 
G’ome
 &
g’ome1
, cÚ¡ G’om&
g’ome2
)

91 
as£¹
(
g’ome1
.
size
(è=ğ
g’ome2
.size());

93 cÚ¡ *
	gp1
 = (cÚ¡ *)
g’ome1
.
d©a
();

94 cÚ¡ *
	gp2
 = (cÚ¡ *)
g’ome2
.
d©a
();

95 cÚ¡ 
	gnumEËm’ts
 = 
g’ome1
.
size
();

96 cÚ¡ 
	gby‹sP”EËm’t
 = (
g’ome1
[0]);

97 cÚ¡ 
	gËngthBy‹s
 = 
numEËm’ts
 * 
by‹sP”EËm’t
;

98 cÚ¡ 
	gËngthB™s
 = 
ËngthBy‹s
 * 8;

99 
	gb™CouÁ
 = 0;

101 
	gšdex
 = 0; index < 
	gg’ome1
.
size
(); ++
	gp1
, ++
	gp2
, ++index) {

102 
	gb™CouÁ
 +ğ
__butš_pİcouÁ
(*
p1
 ^ *
p2
);

109  1.0 - 
	g¡d
::
mš
(1.0, (2.0 * 
b™CouÁ
è/ ()
ËngthB™s
);

114 
hammšgDi¡ªûBy‹s
(cÚ¡ 
G’ome
 &
g’ome1
, cÚ¡ G’om&
g’ome2
)

116 
as£¹
(
g’ome1
.
size
(è=ğ
g’ome2
.size());

118 cÚ¡ *
	gp1
 = (cÚ¡ *)
g’ome1
.
d©a
();

119 cÚ¡ *
	gp2
 = (cÚ¡ *)
g’ome2
.
d©a
();

120 cÚ¡ 
	gnumEËm’ts
 = 
g’ome1
.
size
();

121 cÚ¡ 
	gby‹sP”EËm’t
 = (
g’ome1
[0]);

122 cÚ¡ 
	gËngthBy‹s
 = 
numEËm’ts
 * 
by‹sP”EËm’t
;

123 
	gby‹CouÁ
 = 0;

125 
	gšdex
 = 0; index < 
	gg’ome1
.
size
(); ++
	gp1
, ++
	gp2
, ++index) {

126 
	gby‹CouÁ
 +ğ()(*
p1
 =ğ*
p2
);

129  
	gby‹CouÁ
 / ()
	gËngthBy‹s
;

136 
g’omeSim¬™y
(cÚ¡ 
G’ome
 &
g1
, cÚ¡ G’om&
g2
)

138 
	gp
.
	gg’omeCom·risÚM‘hod
) {

140  
j¬o_wškËr_di¡ªû
(
g1
, 
g2
);

142  
hammšgDi¡ªûB™s
(
g1
, 
g2
);

144  
hammšgDi¡ªûBy‹s
(
g1
, 
g2
);

146 
as£¹
(
çl£
);

153 
g’‘icDiv”s™y
()

155 ià(
	gp
.
	gpİuÏtiÚ
 < 2) {

160 
	gcouÁ
 = 
¡d
::
mš
(1000U, 
p
.
pİuÏtiÚ
);

161 
	gnumSam¶es
 = 0;

162 
	gsim¬™ySum
 = 0.0f;

164 
	gcouÁ
 > 0) {

165 
	gšdex0
 = 
¿ndomUšt
(1, 
p
.
pİuÏtiÚ
 - 1);

166 
	gšdex1
 = 
šdex0
 + 1;

167 
	gsim¬™ySum
 +ğ
g’omeSim¬™y
(
³•s
[
šdex0
].
g’ome
,…“ps[
šdex1
].genome);

168 --
	gcouÁ
;

169 ++
	gnumSam¶es
;

171 
	gdiv”s™y
 = 1.0à- (
sim¬™ySum
 / 
numSam¶es
);

172  
	gdiv”s™y
;

	@genome-neurons.h

1 #iâdeà
GENOME_H_INCLUDED


2 
	#GENOME_H_INCLUDED


	)

4 
	~<c¡dšt
>

5 
	~<veùÜ
>

6 
	~<cm©h
>

7 
	~"£nsÜs-aùiÚs.h
"

8 
	~"¿ndom.h
"

10 
Çme¥aû
 
	gBS
 {

19 
cÚ¡ex´
 
ušt8_t
 
	gSENSOR
 = 1;

20 
cÚ¡ex´
 
ušt8_t
 
	gACTION
 = 1;

21 
cÚ¡ex´
 
ušt8_t
 
	gNEURON
 = 0;

23 
	sG’e
 {

24 
ušt16_t
 
	gsourûTy³
:1;

25 
ušt16_t
 
	gsourûNum
:7;

26 
ušt16_t
 
	gsškTy³
:1;

27 
ušt16_t
 
	gsškNum
:7;

28 
št16_t
 
	gweight
;

30 
cÚ¡ex´
 
	gf1
 = 8.0;

31 
cÚ¡ex´
 
	gf2
 = 64.0;

33 
weightAsFlßt
(ècÚ¡ {  
	gweight
 / 8192.0; }

34 
št16_t
 
makeRªdomWeight
(è{  
¿ndomUšt
(0, 0xffff) - 0x8000; }

41 
	g¡d
::
	tveùÜ
<
	tG’e
> 
	tG’ome
;

70 
	sNeu¿lN‘
 {

71 
	g¡d
::
veùÜ
<
G’e
> 
cÚÃùiÚs
;

73 
	sNeurÚ
 {

74 
	gouut
;

75 
boŞ
 
	gdriv’
;

77 
	g¡d
::
veùÜ
<
NeurÚ
> 
ÃurÚs
;

83 
cÚ¡ex´
 
š™ŸlNeurÚOuut
() {  0.5; }

85 
G’e
 
makeRªdomG’e
();

86 
G’ome
 
makeRªdomG’ome
();

87 
un™Te¡CÚÃùNeu¿lN‘WœšgFromG’ome
();

88 
g’omeSim¬™y
(cÚ¡ 
G’ome
 &
g1
, cÚ¡ G’om&
g2
);

89 
g’‘icDiv”s™y
();

	@genome.cpp

3 
	~<veùÜ
>

4 
	~<m­
>

5 
	~<li¡
>

6 
	~<io¡»am
>

7 
	~<ÿs£¹
>

8 
	~<¡ršg
>

9 
	~"simuÏtÜ.h
"

10 
	~"¿ndom.h
"

12 
Çme¥aû
 
	gBS
 {

21 
	sNode
 {

22 
ušt16_t
 
	g»m­³dNumb”
;

23 
ušt16_t
 
	gnumOuuts
;

24 
ušt16_t
 
	gnumS–fIÅuts
;

25 
ušt16_t
 
	gnumIÅutsFromS’sÜsOrOth”NeurÚs
;

34 
	g¡d
::
	tm­
<
	tušt16_t
, 
	tNode
> 
	tNodeM­
;

36 
	g¡d
::
	tli¡
<
	tG’e
> 
	tCÚÃùiÚLi¡
;

42 
G’e
 
makeRªdomG’e
()

44 
G’e
 
	gg’e
;

46 
	gg’e
.
	gsourûTy³
 = 
¿ndomUšt
() & 1;

47 
	gg’e
.
	gsourûNum
 = (
ušt16_t
)
¿ndomUšt
(0, 0x7fff);

48 
	gg’e
.
	gsškTy³
 = 
¿ndomUšt
() & 1;

49 
	gg’e
.
	gsškNum
 = (
ušt16_t
)
¿ndomUšt
(0, 0x7fff);

50 
	gg’e
.
	gweight
 = 
G’e
::
makeRªdomWeight
();

52  
	gg’e
;

57 
G’ome
 
makeRªdomG’ome
()

59 
G’ome
 
	gg’ome
;

61 
	gËngth
 = 
¿ndomUšt
(
p
.
g’omeIn™ŸlL’gthMš
,….
g’omeIn™ŸlL’gthMax
);

62 
	gn
 = 0;‚ < 
	gËngth
; ++n) {

63 
	gg’ome
.
push_back
(
makeRªdomG’e
());

66  
	gg’ome
;

75 
makeR’umb”edCÚÃùiÚLi¡
(
CÚÃùiÚLi¡
 &
cÚÃùiÚLi¡
, cÚ¡ 
G’ome
 &
g’ome
)

77 
	gcÚÃùiÚLi¡
.
ş—r
();

78 autØcÚ¡ &
	gg’e
 : 
g’ome
) {

79 
cÚÃùiÚLi¡
.
push_back
(
g’e
);

80 autØ&
	gcÚn
 = 
cÚÃùiÚLi¡
.
back
();

82 ià(
	gcÚn
.
	gsourûTy³
 =ğ
NEURON
) {

83 
cÚn
.
sourûNum
 %ğ
p
.
maxNumb”NeurÚs
;

85 
	gcÚn
.
	gsourûNum
 %ğ
S’sÜ
::
NUM_SENSES
;

88 ià(
	gcÚn
.
	gsškTy³
 =ğ
NEURON
) {

89 
cÚn
.
sškNum
 %ğ
p
.
maxNumb”NeurÚs
;

91 
	gcÚn
.
	gsškNum
 %ğ
AùiÚ
::
NUM_ACTIONS
;

100 
makeNodeLi¡
(
NodeM­
 &
nodeM­
, cÚ¡ 
CÚÃùiÚLi¡
 &
cÚÃùiÚLi¡
)

102 
	gnodeM­
.
ş—r
();

104 cÚ¡ 
	gG’e
 &
	gcÚn
 : 
cÚÃùiÚLi¡
) {

105 ià(
cÚn
.
sškTy³
 =ğ
NEURON
) {

106 autØ
™
 = 
nodeM­
.
fšd
(
cÚn
.
sškNum
);

107 ià(
	g™
 =ğ
nodeM­
.
’d
()) {

108 
as£¹
(
cÚn
.
sškNum
 < 
p
.
maxNumb”NeurÚs
);

109 
	gnodeM­
.
š£¹
(
¡d
::
·œ
<
ušt16_t
, 
Node
>(
cÚn
.
sškNum
, {} ));

110 
	g™
 = 
nodeM­
.
fšd
(
cÚn
.
sškNum
);

111 
as£¹
(
™
->
fœ¡
 < 
p
.
maxNumb”NeurÚs
);

112 
	g™
->
	g£cÚd
.
	gnumOuuts
 = 0;

113 
	g™
->
	g£cÚd
.
	gnumS–fIÅuts
 = 0;

114 
	g™
->
	g£cÚd
.
	gnumIÅutsFromS’sÜsOrOth”NeurÚs
 = 0;

117 ià(
	gcÚn
.
	gsourûTy³
 =ğ
NEURON
 && (
cÚn
.
sourûNum
 =ğcÚn.
sškNum
)) {

118 ++(
™
->
£cÚd
.
numS–fIÅuts
);

120 ++(
	g™
->
	g£cÚd
.
	gnumIÅutsFromS’sÜsOrOth”NeurÚs
);

122 
as£¹
(
nodeM­
.
couÁ
(
cÚn
.
sškNum
) == 1);

124 ià(
	gcÚn
.
	gsourûTy³
 =ğ
NEURON
) {

125 autØ
™
 = 
nodeM­
.
fšd
(
cÚn
.
sourûNum
);

126 ià(
	g™
 =ğ
nodeM­
.
’d
()) {

127 
as£¹
(
cÚn
.
sourûNum
 < 
p
.
maxNumb”NeurÚs
);

128 
	gnodeM­
.
š£¹
(
¡d
::
·œ
<
ušt16_t
, 
Node
>(
cÚn
.
sourûNum
, {} ));

129 
	g™
 = 
nodeM­
.
fšd
(
cÚn
.
sourûNum
);

130 
as£¹
(
™
->
fœ¡
 < 
p
.
maxNumb”NeurÚs
);

131 
	g™
->
	g£cÚd
.
	gnumOuuts
 = 0;

132 
	g™
->
	g£cÚd
.
	gnumS–fIÅuts
 = 0;

133 
	g™
->
	g£cÚd
.
	gnumIÅutsFromS’sÜsOrOth”NeurÚs
 = 0;

135 ++(
	g™
->
	g£cÚd
.
	gnumOuuts
);

136 
as£¹
(
nodeM­
.
couÁ
(
cÚn
.
sourûNum
) == 1);

144 
»moveCÚÃùiÚsToNeurÚ
(
CÚÃùiÚLi¡
 &
cÚÃùiÚs
, 
NodeM­
 &
nodeM­
, 
ušt16_t
 
ÃurÚNumb”
)

146 autØ
	g™CÚn
 = 
cÚÃùiÚs
.
begš
(); itCÚÀ!ğcÚÃùiÚs.
’d
(); ) {

147 ià(
	g™CÚn
->
	gsškTy³
 =ğ
NEURON
 && 
™CÚn
->
sškNum
 =ğ
ÃurÚNumb”
) {

150 ià(
™CÚn
->
sourûTy³
 =ğ
NEURON
) {

151 --(
nodeM­
[
™CÚn
->
sourûNum
].
numOuuts
);

153 
	g™CÚn
 = 
cÚÃùiÚs
.
”a£
(
™CÚn
);

155 ++
	g™CÚn
;

165 
cuÎU£ËssNeurÚs
(
CÚÃùiÚLi¡
 &
cÚÃùiÚs
, 
NodeM­
 &
nodeM­
)

167 
boŞ
 
	g®lDÚe
 = 
çl£
;

168 !
	g®lDÚe
) {

169 
	g®lDÚe
 = 
Œue
;

170 autØ
	g™NeurÚ
 = 
nodeM­
.
begš
(); itNeurÚ !ğnodeM­.
’d
(); ) {

171 
as£¹
(
™NeurÚ
->
fœ¡
 < 
p
.
maxNumb”NeurÚs
);

174 ià(
	g™NeurÚ
->
	g£cÚd
.
	gnumOuuts
 =ğ
™NeurÚ
->
£cÚd
.
numS–fIÅuts
) {

175 
®lDÚe
 = 
çl£
;

177 
»moveCÚÃùiÚsToNeurÚ
(
cÚÃùiÚs
, 
nodeM­
, 
™NeurÚ
->
fœ¡
);

178 
	g™NeurÚ
 = 
nodeM­
.
”a£
(
™NeurÚ
);

180 ++
	g™NeurÚ
;

197 
	gIndiv
::
ü—‹WœšgFromG’ome
()

199 
NodeM­
 
nodeM­
;

200 
CÚÃùiÚLi¡
 
	gcÚÃùiÚLi¡
;

203 
makeR’umb”edCÚÃùiÚLi¡
(
cÚÃùiÚLi¡
, 
g’ome
);

206 
makeNodeLi¡
(
nodeM­
, 
cÚÃùiÚLi¡
);

210 
cuÎU£ËssNeurÚs
(
cÚÃùiÚLi¡
, 
nodeM­
);

216 
as£¹
(
nodeM­
.
size
(è<ğ
p
.
maxNumb”NeurÚs
);

217 
ušt16_t
 
	gÃwNumb”
 = 0;

218 autØ& 
	gnode
 : 
nodeM­
) {

219 
as£¹
(
node
.
£cÚd
.
numOuuts
 != 0);

220 
	gnode
.
	g£cÚd
.
	g»m­³dNumb”
 = 
ÃwNumb”
++;

227 
	gÂ‘
.
	gcÚÃùiÚs
.
ş—r
();

230 autØcÚ¡ &
	gcÚn
 : 
cÚÃùiÚLi¡
) {

231 ià(
cÚn
.
sškTy³
 =ğ
NEURON
) {

232 
Â‘
.
cÚÃùiÚs
.
push_back
(
cÚn
);

233 autØ&
	gÃwCÚn
 = 
Â‘
.
cÚÃùiÚs
.
back
();

235 
	gÃwCÚn
.
	gsškNum
 = 
nodeM­
[
ÃwCÚn
.
sškNum
].
»m­³dNumb”
;

237 ià(
	gÃwCÚn
.
	gsourûTy³
 =ğ
NEURON
) {

238 
ÃwCÚn
.
sourûNum
 = 
nodeM­
[ÃwCÚn.sourûNum].
»m­³dNumb”
;

244 autØcÚ¡ &
	gcÚn
 : 
cÚÃùiÚLi¡
) {

245 ià(
cÚn
.
sškTy³
 =ğ
ACTION
) {

246 
Â‘
.
cÚÃùiÚs
.
push_back
(
cÚn
);

247 autØ&
	gÃwCÚn
 = 
Â‘
.
cÚÃùiÚs
.
back
();

249 ià(
	gÃwCÚn
.
	gsourûTy³
 =ğ
NEURON
) {

250 
ÃwCÚn
.
sourûNum
 = 
nodeM­
[ÃwCÚn.sourûNum].
»m­³dNumb”
;

256 
	gÂ‘
.
	gÃurÚs
.
ş—r
();

257 
	gÃurÚNum
 = 0;‚eurÚNum < 
	gnodeM­
.
size
(); ++neuronNum) {

258 
	gÂ‘
.
	gÃurÚs
.
push_back
( {} );

259 
	gÂ‘
.
	gÃurÚs
.
back
().
	gouut
 = 
š™ŸlNeurÚOuut
();

260 
	gÂ‘
.
	gÃurÚs
.
back
().
	gdriv’
 = (
nodeM­
[
ÃurÚNum
].
numIÅutsFromS’sÜsOrOth”NeurÚs
 != 0);

269 
¿ndomB™Fl
(
G’ome
 &
g’ome
)

271 
	gm‘hod
 = 1;

273 
	gby‹Index
 = 
¿ndomUšt
(0, 
g’ome
.
size
(è- 1è* (
	gG’e
);

274 
	g–em’tIndex
 = 
¿ndomUšt
(0, 
g’ome
.
size
() - 1);

275 
ušt8_t
 
	gb™Index8
 = 1 << 
¿ndomUšt
(0, 7);

277 ià(
	gm‘hod
 == 0) {

278 ((
ušt8_t
 *)&
g’ome
[0])[
by‹Index
] ^ğ
b™Index8
;

279 } ià(
	gm‘hod
 == 1) {

280 
chªû
 = 
¿ndomUšt
(è/ ()
RANDOM_UINT_MAX
;

281 ià(
	gchªû
 < 0.2) {

282 
	gg’ome
[
–em’tIndex
].
	gsourûTy³
 ^= 1;

283 } ià(
	gchªû
 < 0.4) {

284 
	gg’ome
[
–em’tIndex
].
	gsškTy³
 ^= 1;

285 } ià(
	gchªû
 < 0.6) {

286 
	gg’ome
[
–em’tIndex
].
	gsourûNum
 ^ğ
b™Index8
;

287 } ià(
	gchªû
 < 0.8) {

288 
	gg’ome
[
–em’tIndex
].
	gsškNum
 ^ğ
b™Index8
;

290 
	gg’ome
[
–em’tIndex
].
	gweight
 ^ğ(1 << 
¿ndomUšt
(1, 15));

293 
as£¹
(
çl£
);

302 
üİL’gth
(
G’ome
 &
g’ome
, 
Ëngth
)

304 ià(
	gg’ome
.
size
(è> 
	gËngth
 &&†ength > 0) {

305 ià(
¿ndomUšt
(è/ ()
	gRANDOM_UINT_MAX
 < 0.5) {

307 
	gnumb”EËm’tsToTrim
 = 
g’ome
.
size
(è- 
Ëngth
;

308 
	gg’ome
.
”a£
(
g’ome
.
begš
(), g’ome.begš(è+ 
numb”EËm’tsToTrim
);

311 
	gg’ome
.
”a£
(
g’ome
.
’d
(è- (g’ome.
size
(è- 
Ëngth
), genome.end());

320 
¿ndomIn£¹D–‘iÚ
(
G’ome
 &
g’ome
)

322 
	g´obab™y
 = 
p
.
g’eIn£¹iÚD–‘iÚR©e
;

323 ià(
¿ndomUšt
(è/ ()
	gRANDOM_UINT_MAX
 < 
	g´obab™y
) {

324 ià(
¿ndomUšt
(è/ ()
	gRANDOM_UINT_MAX
 < 
	gp
.
	gd–‘iÚR©io
) {

326 ià(
	gg’ome
.
size
() > 1) {

327 
	gg’ome
.
”a£
(
g’ome
.
begš
(è+ 
¿ndomUšt
(0, g’ome.
size
() - 1));

329 } ià(
	gg’ome
.
size
(è< 
	gp
.
	gg’omeMaxL’gth
) {

332 
	gg’ome
.
push_back
(
makeRªdomG’e
());

340 
­¶yPoštMutiÚs
(
G’ome
 &
g’ome
)

342 
	gnumb”OfG’es
 = 
g’ome
.
size
();

343 
	gnumb”OfG’es
-- > 0) {

344 ià((
¿ndomUšt
(è/ ()
	gRANDOM_UINT_MAX
è< 
	gp
.
	gpoštMutiÚR©e
) {

345 
¿ndomB™Fl
(
g’ome
);

355 
G’ome
 
g’”©eChdG’ome
(cÚ¡ 
¡d
::
veùÜ
<G’ome> &
·»ÁG’omes
)

359 
G’ome
 
g’ome
;

361 
ušt16_t
 
	g·»Á1Idx
;

362 
ušt16_t
 
	g·»Á2Idx
;

370 ià(
	gp
.
	gchoo£P¬’tsByF™Ãss
 && 
	g·»ÁG’omes
.
size
() > 1) {

371 
	g·»Á1Idx
 = 
¿ndomUšt
(1, 
·»ÁG’omes
.
size
() - 1);

372 
	g·»Á2Idx
 = 
¿ndomUšt
(0, 
·»Á1Idx
 - 1);

374 
	g·»Á1Idx
 = 
¿ndomUšt
(0, 
·»ÁG’omes
.
size
() - 1);

375 
	g·»Á2Idx
 = 
¿ndomUšt
(0, 
·»ÁG’omes
.
size
() - 1);

378 cÚ¡ 
	gG’ome
 &
	gg1
 = 
·»ÁG’omes
[
·»Á1Idx
];

379 cÚ¡ 
	gG’ome
 &
	gg2
 = 
·»ÁG’omes
[
·»Á2Idx
];

381 ià(
	gg1
.
size
(è=ğ0 || 
g2
.size() == 0) {

382 
¡d
::
cout
 << "šv®id g’ome" << std::
’dl
;

383 
as£¹
(
çl£
);

386 autØ
	gov”ÏyW™hSliûOf
 = [&](cÚ¡ 
G’ome
 &
gShÜ‹r
) {

387 
ušt16_t
 
šdex0
 = 
¿ndomUšt
(0, 
gShÜ‹r
.
size
() - 1);

388 
ušt16_t
 
	gšdex1
 = 
¿ndomUšt
(0, 
gShÜ‹r
.
size
());

389 ià(
	gšdex0
 > 
	gšdex1
) {

390 
	g¡d
::
sw­
(
šdex0
, 
šdex1
);

392 
	g¡d
::
cİy
(
gShÜ‹r
.
begš
(è+ 
šdex0
, gShÜ‹r.begš(è+ 
šdex1
, 
g’ome
.begin() + index0);

395 ià(
	gp
.
	g£xu®R•roduùiÚ
) {

396 ià(
	gg1
.
size
(è> 
	gg2
.size()) {

397 
	gg’ome
 = 
g1
;

398 
ov”ÏyW™hSliûOf
(
g2
);

399 
as£¹
(
g’ome
.
size
() > 0);

401 
	gg’ome
 = 
g2
;

402 
ov”ÏyW™hSliûOf
(
g1
);

403 
as£¹
(
g’ome
.
size
() > 0);

407 
	gsum
 = 
g1
.
size
(è+ 
g2
.size();

409 ià((
	gsum
 & 1è&& (
¿ndomUšt
() & 1)) {

410 ++
	gsum
;

412 
üİL’gth
(
g’ome
, 
sum
 / 2);

413 
as£¹
(
g’ome
.
size
() > 0);

415 
	gg’ome
 = 
g2
;

416 
as£¹
(
g’ome
.
size
() > 0);

419 
¿ndomIn£¹D–‘iÚ
(
g’ome
);

420 
as£¹
(
g’ome
.
size
() > 0);

421 
­¶yPoštMutiÚs
(
g’ome
);

422 
as£¹
(
g’ome
.
size
() > 0);

423 
as£¹
(
g’ome
.
size
(è<ğ
p
.
g’omeMaxL’gth
);

425  
	gg’ome
;

	@getSensor.cpp

3 
	~<io¡»am
>

4 
	~<ÿs£¹
>

5 
	~<cm©h
>

6 
	~"simuÏtÜ.h
"

8 
Çme¥aû
 
	gBS
 {

10 
g‘PİuÏtiÚD’s™yAlÚgAxis
(
CoÜd
 
loc
, 
Dœ
 
dœ
)

22 
as£¹
(
dœ
 !ğ
Com·ss
::
CENTER
);

24 
	gsum
 = 0.0;

25 
CoÜd
 
	gdœVec
 = 
dœ
.
asNÜm®izedCoÜd
();

26 
	gËn
 = 
¡d
::
sq¹
(
dœVec
.
x
 * dœVec.x + dœVec.
y
 * dirVec.y);

27 
	gdœVecX
 = 
dœVec
.
x
 / 
Ën
;

28 
	gdœVecY
 = 
dœVec
.
y
 / 
Ën
;

30 autØ
	gf
 = [&](
CoÜd
 
oc
) {

31 ià(
oc
 !ğ
loc
 && 
grid
.
isOccup›dAt
(tloc)) {

32 
CoÜd
 
off£t
 = 
oc
 - 
loc
;

33 
	g´oj
 = 
dœVecX
 * 
off£t
.
x
 + 
dœVecY
 * off£t.
y
;

34 
	gcÚŒib
 = 
´oj
 / (
off£t
.
x
 * off£t.x + off£t.
y
 * offset.y);

35 
	gsum
 +ğ
cÚŒib
;

39 
vis™NeighbÜhood
(
loc
, 
p
.
pİuÏtiÚS’sÜRadius
, 
f
);

41 
	gmaxSumMag
 = 6.0 * 
p
.
pİuÏtiÚS’sÜRadius
;

42 
as£¹
(
sum
 >ğ-
maxSumMag
 && sum <= maxSumMag);

44 
	g£nsÜV®
;

45 
	g£nsÜV®
 = 
sum
 / 
maxSumMag
;

46 
	g£nsÜV®
 = (
£nsÜV®
 + 1.0) / 2.0;

48  
	g£nsÜV®
;

55 
g‘ShÜtProbeB¬r›rDi¡ªû
(
CoÜd
 
loc0
, 
Dœ
 
dœ
, 
´obeDi¡ªû
)

57 
	gcouÁFwd
 = 0;

58 
	gcouÁRev
 = 0;

59 
CoÜd
 
	gloc
 = 
loc0
 + 
dœ
;

60 
	gnumLocsToTe¡
 = 
´obeDi¡ªû
;

62 
	gnumLocsToTe¡
 > 0 && 
	ggrid
.
isInBounds
(
loc
è&& !grid.
isB¬r›rAt
(loc)) {

63 ++
	gcouÁFwd
;

64 
	gloc
 = 
loc
 + 
dœ
;

65 --
	gnumLocsToTe¡
;

67 ià(
	gnumLocsToTe¡
 > 0 && !
	ggrid
.
isInBounds
(
loc
)) {

68 
	gcouÁFwd
 = 
´obeDi¡ªû
;

71 
	gnumLocsToTe¡
 = 
´obeDi¡ªû
;

72 
	gloc
 = 
loc0
 - 
dœ
;

73 
	gnumLocsToTe¡
 > 0 && 
	ggrid
.
isInBounds
(
loc
è&& !grid.
isB¬r›rAt
(loc)) {

74 ++
	gcouÁRev
;

75 
	gloc
 = 
loc
 - 
dœ
;

76 --
	gnumLocsToTe¡
;

78 ià(
	gnumLocsToTe¡
 > 0 && !
	ggrid
.
isInBounds
(
loc
)) {

79 
	gcouÁRev
 = 
´obeDi¡ªû
;

82 
	g£nsÜV®
 = ((
couÁFwd
 - 
couÁRev
è+ 
´obeDi¡ªû
);

83 
	g£nsÜV®
 = (
£nsÜV®
 / 2.0è/ 
´obeDi¡ªû
;

84  
	g£nsÜV®
;

88 
g‘SigÇlD’s™y
(
Ïy”Num
, 
CoÜd
 
loc
)

93 
	gcouÁLocs
 = 0;

94 
	gsum
 = 0;

95 
CoÜd
 
	gûÁ”
 = 
loc
;

97 autØ
	gf
 = [&](
CoÜd
 
oc
) {

98 ++
couÁLocs
;

99 
	gsum
 +ğ
sigÇls
.
g‘Magn™ude
(
Ïy”Num
, 
oc
);

102 
vis™NeighbÜhood
(
ûÁ”
, 
p
.
sigÇlS’sÜRadius
, 
f
);

103 
	gmaxSum
 = ()
couÁLocs
 * 
SIGNAL_MAX
;

104 
	g£nsÜV®
 = 
sum
 / 
maxSum
;

106  
	g£nsÜV®
;

110 
g‘SigÇlD’s™yAlÚgAxis
(
Ïy”Num
, 
CoÜd
 
loc
, 
Dœ
 
dœ
)

120 
as£¹
(
dœ
 !ğ
Com·ss
::
CENTER
);

122 
	gsum
 = 0.0;

123 
CoÜd
 
	gdœVec
 = 
dœ
.
asNÜm®izedCoÜd
();

124 
	gËn
 = 
¡d
::
sq¹
(
dœVec
.
x
 * dœVec.x + dœVec.
y
 * dirVec.y);

125 
	gdœVecX
 = 
dœVec
.
x
 / 
Ën
;

126 
	gdœVecY
 = 
dœVec
.
y
 / 
Ën
;

128 autØ
	gf
 = [&](
CoÜd
 
oc
) {

129 ià(
oc
 !ğ
loc
) {

130 
CoÜd
 
off£t
 = 
oc
 - 
loc
;

131 
	g´oj
 = (
dœVecX
 * 
off£t
.
x
 + 
dœVecY
 * off£t.
y
);

132 
	gcÚŒib
 = (
´oj
 * 
sigÇls
.
g‘Magn™ude
(
Ïy”Num
, 
loc
)) /

133 (
	goff£t
.
x
 * off£t.
	gx
 + off£t.
y
 * off£t.
	gy
);

134 
	gsum
 +ğ
cÚŒib
;

138 
vis™NeighbÜhood
(
loc
, 
p
.
pİuÏtiÚS’sÜRadius
, 
f
);

140 
	gmaxSumMag
 = 6.0 * 
p
.
sigÇlS’sÜRadius
 * 
SIGNAL_MAX
;

141 
as£¹
(
sum
 >ğ-
maxSumMag
 && sum <= maxSumMag);

142 
	g£nsÜV®
 = 
sum
 / 
maxSumMag
;

143 
	g£nsÜV®
 = (
£nsÜV®
 + 1.0) / 2.0;

145  
	g£nsÜV®
;

153 
lÚgProbePİuÏtiÚFwd
(
CoÜd
 
loc
, 
Dœ
 
dœ
, 
lÚgProbeDi¡
)

155 
as£¹
(
lÚgProbeDi¡
 > 0);

156 
	gcouÁ
 = 0;

157 
	gloc
 = 
loc
 + 
dœ
;

158 
	gnumLocsToTe¡
 = 
lÚgProbeDi¡
;

159 
	gnumLocsToTe¡
 > 0 && 
	ggrid
.
isInBounds
(
loc
è&& grid.
isEm±yAt
(loc)) {

160 ++
	gcouÁ
;

161 
	gloc
 = 
loc
 + 
dœ
;

162 --
	gnumLocsToTe¡
;

164 ià(
	gnumLocsToTe¡
 > 0 && (!
	ggrid
.
isInBounds
(
loc
è|| grid.
isB¬r›rAt
(loc))) {

165  
	glÚgProbeDi¡
;

167  
	gcouÁ
;

177 
lÚgProbeB¬r›rFwd
(
CoÜd
 
loc
, 
Dœ
 
dœ
, 
lÚgProbeDi¡
)

179 
as£¹
(
lÚgProbeDi¡
 > 0);

180 
	gcouÁ
 = 0;

181 
	gloc
 = 
loc
 + 
dœ
;

182 
	gnumLocsToTe¡
 = 
lÚgProbeDi¡
;

183 
	gnumLocsToTe¡
 > 0 && 
	ggrid
.
isInBounds
(
loc
è&& !grid.
isB¬r›rAt
(loc)) {

184 ++
	gcouÁ
;

185 
	gloc
 = 
loc
 + 
dœ
;

186 --
	gnumLocsToTe¡
;

188 ià(
	gnumLocsToTe¡
 > 0 && !
	ggrid
.
isInBounds
(
loc
)) {

189  
	glÚgProbeDi¡
;

191  
	gcouÁ
;

197 
	gIndiv
::
g‘S’sÜ
(
S’sÜ
 
£nsÜNum
, 
simS‹p
) const

199 
	g£nsÜV®
 = 0.0;

201 
	g£nsÜNum
) {

202 
	gS’sÜ
::
AGE
:

205 
£nsÜV®
 = ()
age
 / 
p
.
¡•sP”G’”©iÚ
;

207 
	gS’sÜ
::
BOUNDARY_DIST
:

212 
di¡X
 = 
¡d
::
mš
<>(
loc
.
x
, (
	gp
.
	gsizeX
 - 
	gloc
.
	gx
) - 1);

213 
	gdi¡Y
 = 
¡d
::
mš
<>(
loc
.
y
, (
	gp
.
	gsizeY
 - 
	gloc
.
	gy
) - 1);

214 
	gşo£¡
 = 
¡d
::
mš
<>(
di¡X
, 
	gdi¡Y
);

215 
	gmaxPossibË
 = 
¡d
::
max
<>(
p
.
sizeX
 / 2 - 1, 
	gp
.
	gsizeY
 / 2 - 1);

216 
	g£nsÜV®
 = ()
şo£¡
 / 
maxPossibË
;

219 
	gS’sÜ
::
BOUNDARY_DIST_X
:

223 
mšDi¡X
 = 
¡d
::
mš
<>(
loc
.
x
, (
	gp
.
	gsizeX
 - 
	gloc
.
	gx
) - 1);

224 
	g£nsÜV®
 = 
mšDi¡X
 / (
p
.
sizeX
 / 2.0);

227 
	gS’sÜ
::
BOUNDARY_DIST_Y
:

231 
mšDi¡Y
 = 
¡d
::
mš
<>(
loc
.
y
, (
	gp
.
	gsizeY
 - 
	gloc
.
	gy
) - 1);

232 
	g£nsÜV®
 = 
mšDi¡Y
 / (
p
.
sizeY
 / 2.0);

235 
	gS’sÜ
::
LAST_MOVE_DIR_X
:

238 autØ
Ï¡X
 = 
Ï¡MoveDœ
.
asNÜm®izedCoÜd
().
x
;

239 
	g£nsÜV®
 = 
Ï¡X
 == 0 ? 0.5 :

240 (
Ï¡X
 == -1 ? 0.0 : 1.0);

243 
	gS’sÜ
::
LAST_MOVE_DIR_Y
:

246 autØ
Ï¡Y
 = 
Ï¡MoveDœ
.
asNÜm®izedCoÜd
().
y
;

247 
	g£nsÜV®
 = 
Ï¡Y
 == 0 ? 0.5 :

248 (
Ï¡Y
 == -1 ? 0.0 : 1.0);

251 
	gS’sÜ
::
LOC_X
:

253 
£nsÜV®
 = ()
loc
.
x
 / (
p
.
sizeX
 - 1);

255 
	gS’sÜ
::
LOC_Y
:

257 
£nsÜV®
 = ()
loc
.
y
 / (
p
.
sizeY
 - 1);

259 
	gS’sÜ
::
OSC1
:

263 
pha£
 = (
simS‹p
 % 
oscP”iod
) / ()oscPeriod;

264 
	gçùÜ
 = -
¡d
::
cos
(
pha£
 * 2.0f * 3.1415927f);

265 
as£¹
(
çùÜ
 >= -1.0f && factor <= 1.0f);

266 
	gçùÜ
 += 1.0f;

267 
	gçùÜ
 /= 2.0;

268 
	g£nsÜV®
 = 
çùÜ
;

270 
	g£nsÜV®
 = 
¡d
::
mš
<>(1.0, 
	g¡d
::
max
<>(0.0, sensorVal));

273 
	gS’sÜ
::
LONGPROBE_POP_FWD
:

278 
£nsÜV®
 = 
lÚgProbePİuÏtiÚFwd
(
loc
, 
Ï¡MoveDœ
, 
lÚgProbeDi¡
è/ ()
	glÚgProbeDi¡
;

281 
	gS’sÜ
::
LONGPROBE_BAR_FWD
:

286 
£nsÜV®
 = 
lÚgProbeB¬r›rFwd
(
loc
, 
Ï¡MoveDœ
, 
lÚgProbeDi¡
è/ ()
	glÚgProbeDi¡
;

289 
	gS’sÜ
::
POPULATION
:

293 
couÁLocs
 = 0;

294 
	gcouÁOccup›d
 = 0;

295 
CoÜd
 
	gûÁ”
 = 
loc
;

297 autØ
	gf
 = [&](
CoÜd
 
oc
) {

298 ++
couÁLocs
;

299 ià(
	ggrid
.
isOccup›dAt
(
oc
)) {

300 ++
	gcouÁOccup›d
;

304 
vis™NeighbÜhood
(
ûÁ”
, 
p
.
pİuÏtiÚS’sÜRadius
, 
f
);

305 
	g£nsÜV®
 = ()
couÁOccup›d
 / 
couÁLocs
;

308 
	gS’sÜ
::
POPULATION_FWD
:

311 
£nsÜV®
 = 
g‘PİuÏtiÚD’s™yAlÚgAxis
(
loc
, 
Ï¡MoveDœ
);

313 
	gS’sÜ
::
POPULATION_LR
:

315 
£nsÜV®
 = 
g‘PİuÏtiÚD’s™yAlÚgAxis
(
loc
, 
Ï¡MoveDœ
.
rÙ©e90DegCW
());

317 
	gS’sÜ
::
BARRIER_FWD
:

320 
£nsÜV®
 = 
g‘ShÜtProbeB¬r›rDi¡ªû
(
loc
, 
Ï¡MoveDœ
, 
p
.
shÜtProbeB¬r›rDi¡ªû
);

322 
	gS’sÜ
::
BARRIER_LR
:

325 
£nsÜV®
 = 
g‘ShÜtProbeB¬r›rDi¡ªû
(
loc
, 
Ï¡MoveDœ
.
rÙ©e90DegCW
(), 
p
.
shÜtProbeB¬r›rDi¡ªû
);

327 
	gS’sÜ
::
RANDOM
:

329 
£nsÜV®
 = 
¿ndomUšt
(è/ ()
UINT_MAX
;

331 
	gS’sÜ
::
SIGNAL0
:

334 
£nsÜV®
 = 
g‘SigÇlD’s™y
(0, 
loc
);

336 
	gS’sÜ
::
SIGNAL0_FWD
:

338 
£nsÜV®
 = 
g‘SigÇlD’s™yAlÚgAxis
(0, 
loc
, 
Ï¡MoveDœ
);

340 
	gS’sÜ
::
SIGNAL0_LR
:

342 
£nsÜV®
 = 
g‘SigÇlD’s™yAlÚgAxis
(0, 
loc
, 
Ï¡MoveDœ
.
rÙ©e90DegCW
());

344 
	gS’sÜ
::
GENETIC_SIM_FWD
:

348 
CoÜd
 
loc2
 = 
loc
 + 
Ï¡MoveDœ
;

349 ià(
	ggrid
.
isInBounds
(
loc2
è&& grid.
isOccup›dAt
(loc2)) {

350 cÚ¡ 
	gIndiv
 &
	gšdiv2
 = 
³•s
.
g‘Indiv
(
loc2
);

351 ià(
	gšdiv2
.
	g®ive
) {

352 
	g£nsÜV®
 = 
g’omeSim¬™y
(
g’ome
, 
šdiv2
.genome);

358 
as£¹
(
çl£
);

362 ià(
	g¡d
::
i¢ª
(
£nsÜV®
) || sensorVal < -0.01 || sensorVal > 1.01) {

363 
¡d
::
cout
 << "£nsÜV®=" << ()
£nsÜV®
 << " fÜ " << 
£nsÜName
((
S’sÜ
)
£nsÜNum
è<< std::
’dl
;

364 
	g£nsÜV®
 = 
¡d
::
max
(0.0f, std::
mš
(
£nsÜV®
, 1.0f));

367 
as£¹
(!
¡d
::
i¢ª
(
£nsÜV®
) && sensorVal >= -0.01 && sensorVal <= 1.01);

369  
	g£nsÜV®
;

	@grid.cpp

3 
	~<funùiÚ®
>

4 
	~<ÿs£¹
>

5 
	~"simuÏtÜ.h
"

7 
Çme¥aû
 
	gBS
 {

10 
	gGrid
::
š™
(
ušt16_t
 
sizeX
, ušt16_ˆ
sizeY
)

12 autØ
	gcŞ
 = 
CŞumn
(
sizeY
);

13 
	gd©a
 = 
¡d
::
veùÜ
<
CŞumn
>(
sizeX
, 
	gcŞ
);

18 
CoÜd
 
	gGrid
::
fšdEm±yLoÿtiÚ
() const {

19 
CoÜd
 
loc
;

20 
boŞ
 
	gfound
 = 
çl£
;

22 !
	gfound
) {

23 
	gloc
.
	gx
 = 
¿ndomUšt
(0, 
p
.
sizeX
 - 1);

24 
	gloc
.
	gy
 = 
¿ndomUšt
(0, 
p
.
sizeY
 - 1);

25 ià(
	ggrid
.
isEm±yAt
(
loc
)) {

29  
	gloc
;

36 
vis™NeighbÜhood
(
CoÜd
 
loc
, 
¿dius
, 
¡d
::
funùiÚ
<(CoÜd)> 
f
)

38 
dx
 = -
¡d
::
mš
<>(
¿dius
, 
	gloc
.
	gx
); 
	gdx
 <ğ¡d::mš<>Ôadius, (
	gp
.
	gsizeX
 -†oc.x) - 1); ++dx) {

39 
št16_t
 
	gx
 = 
loc
.
x
 + 
dx
;

40 
as£¹
(
x
 >ğ0 && x < 
p
.
sizeX
);

41 
	gex‹ÁY
 = ()
sq¹
(
¿dius
 *„adiu - 
dx
 * dx);

42 
	gdy
 = -
¡d
::
mš
<>(
ex‹ÁY
, 
	gloc
.
	gy
); dy <ğ¡d::mš<>Óx‹ÁY, (
	gp
.
	gsizeY
 -†oc.y) - 1); ++dy) {

43 
št16_t
 
	gy
 = 
loc
.
y
 + 
dy
;

44 
as£¹
(
y
 >ğ0 && y < 
p
.
sizeY
);

45 
f
Ğ
CoÜd
 { 
x
, 
y
} );

	@grid.h

1 #iâdeà
GRID_H_INCLUDED


2 
	#GRID_H_INCLUDED


	)

6 
	~<c¡dšt
>

7 
	~<veùÜ
>

8 
	~<funùiÚ®
>

9 
	~"basicTy³s.h
"

11 
Çme¥aû
 
	gBS
 {

21 cÚ¡ 
ušt16_t
 
	gEMPTY
 = 0;

22 cÚ¡ 
ušt16_t
 
	gBARRIER
 = 0xffff;

24 şas 
	cGrid
 {

25 
	gpublic
:

28 
	sCŞumn
 {

29 
CŞumn
(
ušt16_t
 
numRows
è: 
d©a
 { 
¡d
::
veùÜ
<uint16_t>(numRows, 0) } { }

30 
z”oFl
(è{ 
	g¡d
::
fl
(
d©a
.
begš
(), d©a.
’d
(), 0); }

31 
	gušt16_t
& 
	gİ”©Ü
[](
ušt16_t
 
	growNum
è{  
	gd©a
[
rowNum
]; }

32 
ušt16_t
 
	gİ”©Ü
[](ušt16_ˆ
	growNum
ècÚ¡ {  
	gd©a
[
rowNum
]; }

33 
size_t
 
size
(ècÚ¡ {  
	gd©a
.size(); }

34 
	g´iv©e
:

35 
¡d
::
veùÜ
<
ušt16_t
> 
d©a
;

38 
š™
(
ušt16_t
 
sizeX
, ušt16_ˆ
sizeY
);

39 
z”oFl
(è{ 
	gCŞumn
 &
	gcŞumn
 : 
d©a
è
cŞumn
.zeroFill(); }

40 
ušt16_t
 
sizeX
(ècÚ¡ {  
	gd©a
.
size
(); }

41 
ušt16_t
 
sizeY
(ècÚ¡ {  
	gd©a
[0].
size
(); }

42 
boŞ
 
isInBounds
(
CoÜd
 
loc
ècÚ¡ {  
	gloc
.
	gx
 >ğ0 &&†oc.
x
 < 
sizeX
(è&&†oc.
y
 >ğ0 &&†oc.y < 
sizeY
(); }

43 
boŞ
 
isEm±yAt
(
CoÜd
 
loc
ècÚ¡ {  
©
Öocè=ğ
EMPTY
; }

44 
boŞ
 
isB¬r›rAt
(
CoÜd
 
loc
ècÚ¡ {  
©
Öocè=ğ
BARRIER
; }

46 
boŞ
 
isOccup›dAt
(
CoÜd
 
loc
ècÚ¡ {  
©
Öocè!ğ
EMPTY
 &&‡tÖocè!ğ
BARRIER
; }

47 
boŞ
 
isBÜd”
(
CoÜd
 
loc
ècÚ¡ {  
	gloc
.
	gx
 =ğ0 ||†oc.
x
 =ğ
sizeX
(è- 1 ||†oc.
y
 =ğ0 ||†oc.y =ğ
sizeY
() - 1; }

48 
ušt16_t
 
©
(
CoÜd
 
loc
ècÚ¡ {  
	gd©a
[loc.
x
][loc.
y
]; };

49 
ušt16_t
 
©
(ušt16_ˆ
x
, ušt16_ˆ
y
ècÚ¡ {  
	gd©a
[x][y]; }

51 
£t
(
CoÜd
 
loc
, 
ušt16_t
 
v®
è{ 
	gd©a
[loc.
x
][loc.
y
] = val; }

52 
£t
(
ušt16_t
 
x
, ušt16_ˆ
y
, ušt16_ˆ
v®
è{ 
	gd©a
[x][y] = val; }

53 
CoÜd
 
fšdEm±yLoÿtiÚ
() const;

54 
ü—‹B¬r›r
(
b¬r›rTy³
);

55 cÚ¡ 
	g¡d
::
veùÜ
<
CoÜd
> &
g‘B¬r›rLoÿtiÚs
(ècÚ¡ {  
b¬r›rLoÿtiÚs
; }

56 cÚ¡ 
	g¡d
::
veùÜ
<
CoÜd
> &
g‘B¬r›rC’‹rs
(ècÚ¡ {  
b¬r›rC’‹rs
; }

58 
	gCŞumn
 & 
	gİ”©Ü
[](
ušt16_t
 
	gcŞumnXNum
è{  
	gd©a
[
cŞumnXNum
]; }

59 cÚ¡ 
	gCŞumn
 & 
	gİ”©Ü
[](
ušt16_t
 
	gcŞumnXNum
ècÚ¡ {  
	gd©a
[
cŞumnXNum
]; }

60 
	g´iv©e
:

61 
¡d
::
veùÜ
<
CŞumn
> 
d©a
;

62 
	g¡d
::
veùÜ
<
CoÜd
> 
b¬r›rLoÿtiÚs
;

63 
	g¡d
::
veùÜ
<
CoÜd
> 
b¬r›rC’‹rs
;

66 
vis™NeighbÜhood
(
CoÜd
 
loc
, 
¿dius
, 
¡d
::
funùiÚ
<(CoÜd)> 
f
);

67 
un™Te¡GridVis™NeighbÜhood
();

	@imageWriter.cpp

3 
	~<io¡»am
>

4 
	~<s¡»am
>

5 
	~<iomª
>

6 
	~<th»ad
>

7 
	~<mu‹x
>

8 
	~<cÚd™iÚ_v¬ŸbË
>

9 
	~<chrÚo
>

10 
	~"simuÏtÜ.h
"

11 
	~"imageWr™”.h
"

12 
	#cimg_u£_İ’cv
 1

	)

13 
	~"CImg.h
"

15 
Çme¥aû
 
	gBS
 {

17 
	gcimg_lib¿ry
::
CImgLi¡
<
ušt8_t
> 
imageLi¡
;

21 
§veOÃF¿meImmed
(cÚ¡ 
ImageF¿meD©a
 &
d©a
)

23 
usšg
 
Çme¥aû
 
	gcimg_lib¿ry
;

25 
	gCImg
<
	gušt8_t
> 
image
(
p
.
sizeX
 *….
di¥ÏySÿË
,….
sizeY
 *….displayScale,

29 
ušt8_t
 
	gcŞÜ
[3];

30 
	g¡d
::
¡ršg¡»am
 
imageF’ame
;

31 
	gimageF’ame
 << 
	gp
.
	gimageDœ
 << "frame-"

32 << 
	g¡d
::
£tfl
('0'è<< 
¡d
::
£tw
(6è<< 
d©a
.
g’”©iÚ


33 << '-' << 
¡d
::
£tfl
('0'è<< std::
£tw
(6è<< 
d©a
.
simS‹p


38 
	gcŞÜ
[0] = 
cŞÜ
[1] = color[2] = 0x88;

39 
CoÜd
 
	gloc
 : 
d©a
.
b¬r›rLocs
) {

40 
image
.
d¿w_»ùªgË
(

41 
loc
.
x
 * 
p
.
di¥ÏySÿË
 - (p.di¥ÏySÿË / 2), (Õ.
sizeY
 -†oc.
y
) - 1) *….displayScale - (p.displayScale / 2),

42 (
loc
.
x
 + 1è* 
p
.
di¥ÏySÿË
, (Õ.
sizeY
 - (loc.
y
 - 0))) *….displayScale,

43 
cŞÜ
,

49 
cÚ¡ex´
 
ušt8_t
 
	gmaxCŞÜV®
 = 0xb0;

50 
cÚ¡ex´
 
ušt8_t
 
	gmaxLumaV®
 = 0xb0;

52 autØ
	grgbToLuma
 = [](
ušt8_t
 
r
, ušt8_ˆ
	gg
, ušt8_ˆ
	gb
è{  (
	gr
+r+r+b+g+g+g+g) / 8; };

54 
size_t
 
	gi
 = 0; i < 
	gd©a
.
	gšdivLocs
.
size
(); ++i) {

55 
	gc
 = 
d©a
.
šdivCŞÜs
[
i
];

56 
	gcŞÜ
[0] = (
c
);

57 
	gcŞÜ
[1] = ((
c
 & 0x1f) << 3);

58 
	gcŞÜ
[2] = ((
c
 & 7) << 5);

61 ià(
rgbToLuma
(
cŞÜ
[0], cŞÜ[1], cŞÜ[2]è> 
	gmaxLumaV®
) {

62 ià(
	gcŞÜ
[0] > 
	gmaxCŞÜV®
ècŞÜ[0] %ğ
maxCŞÜV®
;

63 ià(
	gcŞÜ
[1] > 
	gmaxCŞÜV®
ècŞÜ[1] %ğ
maxCŞÜV®
;

64 ià(
	gcŞÜ
[2] > 
	gmaxCŞÜV®
ècŞÜ[2] %ğ
maxCŞÜV®
;

67 
	gimage
.
d¿w_cœşe
(

68 
d©a
.
šdivLocs
[
i
].
x
 * 
p
.
di¥ÏySÿË
,

69 ((
p
.
sizeY
 - 
d©a
.
šdivLocs
[
i
].
y
è- 1è*….
di¥ÏySÿË
,

70 
p
.
ag’tSize
,

71 
cŞÜ
,

76 
	gimageLi¡
.
push_back
(
image
);

83 
	gImageWr™”
::
ImageWr™”
()

84 : 
drİ³dF¿meCouÁ
{0}, 
	gbusy
{
	gŒue
}, 
	gd©aR—dy
{
	gçl£
},

85 
	gabÜtReque¡ed
{
	gçl£
}

87 
¡¬tNewG’”©iÚ
();

91 
	gImageWr™”
::
¡¬tNewG’”©iÚ
()

93 
imageLi¡
.
ş—r
();

94 
	gsk³dF¿mes
 = 0;

98 
ušt8_t
 
makeG’‘icCŞÜ
(cÚ¡ 
G’ome
 &
g’ome
)

100  ((
	gg’ome
.
size
() & 1)

101 | ((
	gg’ome
.
äÚt
().
	gsourûTy³
) << 1)

102 | ((
	gg’ome
.
back
().
	gsourûTy³
) << 2)

103 | ((
	gg’ome
.
äÚt
().
	gsškTy³
) << 3)

104 | ((
	gg’ome
.
back
().
	gsškTy³
) << 4)

105 | ((
	gg’ome
.
äÚt
().
	gsourûNum
 & 1) << 5)

106 | ((
	gg’ome
.
äÚt
().
	gsškNum
 & 1) << 6)

107 | ((
	gg’ome
.
back
().
	gsourûNum
 & 1) << 7));

124 
boŞ
 
	gImageWr™”
::
§veVideoF¿me
(
simS‹p
, 
g’”©iÚ
)

126 ià(!
	gbusy
) {

127 
	gbusy
 = 
Œue
;

132 
	gd©a
.
	gsimS‹p
 = 
simS‹p
;

133 
	gd©a
.
	gg’”©iÚ
 = 
g’”©iÚ
;

134 
	gd©a
.
	gšdivLocs
.
ş—r
();

135 
	gd©a
.
	gšdivCŞÜs
.
ş—r
();

136 
	gd©a
.
	gb¬r›rLocs
.
ş—r
();

137 
	gd©a
.
	gsigÇlLay”s
.
ş—r
();

139 
ušt16_t
 
	gšdex
 = 1; index <ğ
p
.
pİuÏtiÚ
; ++index) {

140 cÚ¡ 
	gIndiv
 &
	gšdiv
 = 
³•s
[
šdex
];

141 ià(
	gšdiv
.
	g®ive
) {

142 
	gd©a
.
	gšdivLocs
.
push_back
(
šdiv
.
loc
);

143 
	gd©a
.
	gšdivCŞÜs
.
push_back
(
makeG’‘icCŞÜ
(
šdiv
.
g’ome
));

147 autØcÚ¡ &
	gb¬r›rLocs
 = 
grid
.
g‘B¬r›rLoÿtiÚs
();

148 
CoÜd
 
	gloc
 : 
b¬r›rLocs
) {

149 
d©a
.
b¬r›rLocs
.
push_back
(
loc
);

154 
	g¡d
::
lock_gu¬d
<
¡d
::
mu‹x
> 
lck
(
mu‹x_
);

155 
	gd©aR—dy
 = 
Œue
;

157 
	gcÚdV¬
.
nÙify_Úe
();

158  
	gŒue
;

161 ++
	gdrİ³dF¿meCouÁ
;

162  
	gçl£
;

168 
boŞ
 
	gImageWr™”
::
§veVideoF¿meSync
(
simS‹p
, 
g’”©iÚ
)

173 
	gd©a
.
	gsimS‹p
 = 
simS‹p
;

174 
	gd©a
.
	gg’”©iÚ
 = 
g’”©iÚ
;

175 
	gd©a
.
	gšdivLocs
.
ş—r
();

176 
	gd©a
.
	gšdivCŞÜs
.
ş—r
();

177 
	gd©a
.
	gb¬r›rLocs
.
ş—r
();

178 
	gd©a
.
	gsigÇlLay”s
.
ş—r
();

180 
ušt16_t
 
	gšdex
 = 1; index <ğ
p
.
pİuÏtiÚ
; ++index) {

181 cÚ¡ 
	gIndiv
 &
	gšdiv
 = 
³•s
[
šdex
];

182 ià(
	gšdiv
.
	g®ive
) {

183 
	gd©a
.
	gšdivLocs
.
push_back
(
šdiv
.
loc
);

184 
	gd©a
.
	gšdivCŞÜs
.
push_back
(
makeG’‘icCŞÜ
(
šdiv
.
g’ome
));

188 autØcÚ¡ &
	gb¬r›rLocs
 = 
grid
.
g‘B¬r›rLoÿtiÚs
();

189 
CoÜd
 
	gloc
 : 
b¬r›rLocs
) {

190 
d©a
.
b¬r›rLocs
.
push_back
(
loc
);

193 
§veOÃF¿meImmed
(
d©a
);

194  
	gŒue
;

199 
	gImageWr™”
::
§veG’”©iÚVideo
(
g’”©iÚ
)

201 ià(
imageLi¡
.
size
() > 0) {

202 
¡d
::
¡ršg¡»am
 
videoF’ame
;

203 
	gvideoF’ame
 << 
	gp
.
	gimageDœ
.
c_¡r
() << "/gen-"

204 << 
	g¡d
::
£tfl
('0'è<< 
¡d
::
£tw
(6è<< 
g’”©iÚ


206 
	gcv
::
£tNumTh»ads
(2);

207 
	gimageLi¡
.
§ve_video
(
videoF’ame
.
¡r
().
c_¡r
(),

210 ià(
	gsk³dF¿mes
 > 0) {

211 
	g¡d
::
cout
 << "VideØsk³d " << 
sk³dF¿mes
 << " f¿mes" << 
¡d
::
’dl
;

214 
¡¬tNewG’”©iÚ
();

218 
	gImageWr™”
::
abÜt
()

220 
busy
 =
Œue
;

221 
	gabÜtReque¡ed
 = 
Œue
;

223 
	g¡d
::
lock_gu¬d
<
¡d
::
mu‹x
> 
lck
(
mu‹x_
);

224 
	gd©aR—dy
 = 
Œue
;

226 
	gcÚdV¬
.
nÙify_Úe
();

233 
	gImageWr™”
::
§veF¿meTh»ad
()

235 
busy
 = 
çl£
;

236 
	g¡d
::
cout
 << "Imagewr™”h»ad s¹ed." << 
¡d
::
’dl
;

238 
	gŒue
) {

240 
	g¡d
::
unique_lock
<
¡d
::
mu‹x
> 
lck
(
mu‹x_
);

241 
	gcÚdV¬
.
wa™
(
lck
, [&]{  
d©aR—dy
 && 
busy
; });

243 
	gd©aR—dy
 = 
çl£
;

244 
	gbusy
 = 
çl£
;

246 ià(
	gabÜtReque¡ed
) {

251 
§veOÃF¿meImmed
(
imageWr™”
.
d©a
);

257 
	g¡d
::
cout
 << "Imagwr™”h»adƒx™šg." << 
¡d
::
’dl
;

	@imageWriter.h

1 #iâdeà
IMAGEWRITER_H_INCLUDED


2 
	#IMAGEWRITER_H_INCLUDED


	)

7 
	~<©omic
>

8 
	~<mu‹x
>

9 
	~<cÚd™iÚ_v¬ŸbË
>

10 
	~<th»ad
>

11 
	~"šdiv.h
"

12 
	~"·¿ms.h
"

13 
	~"³•s.h
"

15 
Çme¥aû
 
	gBS
 {

20 
	sImageF¿meD©a
 {

21 
	gsimS‹p
;

22 
	gg’”©iÚ
;

23 
	g¡d
::
veùÜ
<
CoÜd
> 
šdivLocs
;

24 
	g¡d
::
veùÜ
<
ušt8_t
> 
šdivCŞÜs
;

25 
	g¡d
::
veùÜ
<
CoÜd
> 
b¬r›rLocs
;

26 
	g¡d
::
	tveùÜ
<
	t¡d
::veùÜ<
	tušt8_t
>> 
	tSigÇlLay”
;

27 
	g¡d
::
veùÜ
<
SigÇlLay”
> 
sigÇlLay”s
;

31 
	sImageWr™”
 {

32 
ImageWr™”
();

33 
¡¬tNewG’”©iÚ
();

34 
boŞ
 
§veVideoF¿me
(
simS‹p
, 
g’”©iÚ
);

35 
boŞ
 
§veVideoF¿meSync
(
simS‹p
, 
g’”©iÚ
);

36 
§veG’”©iÚVideo
(
g’”©iÚ
);

37 
abÜt
();

38 
§veF¿meTh»ad
();

39 
	g¡d
::
©omic
<> 
drİ³dF¿meCouÁ
;

40 
	g´iv©e
:

41 
¡d
::
©omic
<
boŞ
> 
busy
;

42 
	g¡d
::
mu‹x
 
mu‹x_
;

43 
	g¡d
::
cÚd™iÚ_v¬ŸbË
 
cÚdV¬
;

44 
boŞ
 
	gd©aR—dy
;

46 
ImageF¿meD©a
 
	gd©a
;

47 
boŞ
 
	gabÜtReque¡ed
;

48 
	gsk³dF¿mes
;

51 
ImageWr™”
 
imageWr™”
;

	@indiv.cpp

3 
	~<io¡»am
>

4 
	~<ÿs£¹
>

5 
	~"simuÏtÜ.h
"

7 
Çme¥aû
 
	gBS
 {

13 
	gIndiv
::
š™Ÿlize
(
ušt16_t
 
šdex_
, 
CoÜd
 
loc_
, cÚ¡ 
G’ome
 &&
g’ome_
)

15 
	gšdex
 = 
šdex_
;

16 
	gloc
 = 
loc_
;

18 
	ggrid
.
£t
(
loc_
, 
šdex_
);

19 
	gage
 = 0;

20 
	goscP”iod
 = 34;

21 
	g®ive
 = 
Œue
;

22 
	gÏ¡MoveDœ
 = 
Dœ
::
¿ndom8
();

23 
	g»¥Úsiv’ess
 = 0.5;

24 
	glÚgProbeDi¡
 = 
p
.
lÚgProbeDi¡ªû
;

25 
	gch®ËngeB™s
 = ()
çl£
;

26 
	gg’ome
 = 
¡d
::
move
(
g’ome_
);

27 
ü—‹WœšgFromG’ome
();

	@indiv.h

1 #iâdeà
INDIV_H_INCLUDED


2 
	#INDIV_H_INCLUDED


	)

6 
	~<®gÜ™hm
>

7 
	~<c¡dšt
>

8 
	~<¬¿y
>

9 
	~"basicTy³s.h
"

10 
	~"g’ome-ÃurÚs.h
"

12 
Çme¥aû
 
	gBS
 {

16 
	sIndiv
 {

17 
boŞ
 
	g®ive
;

18 
ušt16_t
 
	gšdex
;

19 
CoÜd
 
	gloc
;

20 
CoÜd
 
	gbœthLoc
;

21 
	gage
;

22 
G’ome
 
	gg’ome
;

23 
Neu¿lN‘
 
	gÂ‘
;

24 
	g»¥Úsiv’ess
;

25 
	goscP”iod
;

26 
	glÚgProbeDi¡
;

27 
Dœ
 
	gÏ¡MoveDœ
;

28 
	gch®ËngeB™s
;

29 
	g¡d
::
¬¿y
<, 
	gAùiÚ
::
NUM_ACTIONS
> 
ãedFÜw¬d
(
simS‹p
);

30 
g‘S’sÜ
(
S’sÜ
, 
simS‹p
) const;

31 
š™Ÿlize
(
ušt16_t
 
šdex
, 
CoÜd
 
loc
, cÚ¡ 
G’ome
 &&
g’ome
);

32 
ü—‹WœšgFromG’ome
();

33 
´štNeu¿lN‘
() const;

34 
´štIG¿phEdgeLi¡
() const;

35 
´štG’ome
() const;

	@main.cpp

1 
	~<io¡»am
>

4 
	~"basicTy³s.h
"

14 
Çme¥aû
 
	gBS
 {

15 
simuÏtÜ
(
¬gc
, **
¬gv
);

19 
	$maš
(
¬gc
, **
¬gv
)

21 
BS
::
	`un™Te¡BasicTy³s
();

25 
BS
::
	`simuÏtÜ
(
¬gc
, 
¬gv
);

28 
	}
}

	@params.cpp

4 
	~<io¡»am
>

5 
	~<f¡»am
>

6 
	~<s¡»am
>

7 
	~<®gÜ™hm
>

8 
	~<¡ršg
>

9 
	~<cùy³
>

10 
	~<c¡dšt
>

11 
	~<m­
>

12 
	~"·¿ms.h
"

21 
Çme¥aû
 
	gBS
 {

23 
	gP¬amMªag”
::
£tDeçuÉs
()

25 
´ivP¬ams
.
sizeX
 = 128;

26 
	g´ivP¬ams
.
	gsizeY
 = 128;

27 
	g´ivP¬ams
.
	gch®Ënge
 = 0;

29 
	g´ivP¬ams
.
	gg’omeIn™ŸlL’gthMš
 = 16;

30 
	g´ivP¬ams
.
	gg’omeIn™ŸlL’gthMax
 = 16;

31 
	g´ivP¬ams
.
	gg’omeMaxL’gth
 = 20;

32 
	g´ivP¬ams
.
	glogDœ
 = "./logs/";

33 
	g´ivP¬ams
.
	gimageDœ
 = "./images/";

34 
	g´ivP¬ams
.
	gpİuÏtiÚ
 = 100;

35 
	g´ivP¬ams
.
	g¡•sP”G’”©iÚ
 = 100;

36 
	g´ivP¬ams
.
	gmaxG’”©iÚs
 = 100;

37 
	g´ivP¬ams
.
	gb¬r›rTy³
 = 0;

38 
	g´ivP¬ams
.
	g»¶aûB¬r›rTy³
 = 0;

39 
	g´ivP¬ams
.
	g»¶aûB¬r›rTy³G’”©iÚNumb”
 = (
ušt32_t
)-1;

40 
	g´ivP¬ams
.
	gnumTh»ads
 = 1;

41 
	g´ivP¬ams
.
	gsigÇlLay”s
 = 1;

42 
	g´ivP¬ams
.
	gmaxNumb”NeurÚs
 = 
´ivP¬ams
.
g’omeMaxL’gth
 / 2;

43 
	g´ivP¬ams
.
	gpoštMutiÚR©e
 = 0.0001;

44 
	g´ivP¬ams
.
	gg’eIn£¹iÚD–‘iÚR©e
 = 0.0001;

45 
	g´ivP¬ams
.
	gd–‘iÚR©io
 = 0.7;

46 
	g´ivP¬ams
.
	gklEÇbË
 = 
çl£
;

47 
	g´ivP¬ams
.
	g£xu®R•roduùiÚ
 = 
Œue
;

48 
	g´ivP¬ams
.
	gchoo£P¬’tsByF™Ãss
 = 
Œue
;

49 
	g´ivP¬ams
.
	gpİuÏtiÚS’sÜRadius
 = 2.0;

50 
	g´ivP¬ams
.
	gsigÇlS’sÜRadius
 = 1;

51 
	g´ivP¬ams
.
	g»¥Úsiv’ess
 = 0.5;

52 
	g´ivP¬ams
.
	g»¥Úsiv’essCurveKFaùÜ
 = 2;

53 
	g´ivP¬ams
.
	glÚgProbeDi¡ªû
 = 16;

54 
	g´ivP¬ams
.
	gshÜtProbeB¬r›rDi¡ªû
 = 3;

55 
	g´ivP¬ams
.
	gv®’ûS©u¿tiÚMag
 = 0.5;

56 
	g´ivP¬ams
.
	g§veVideo
 = 
Œue
;

57 
	g´ivP¬ams
.
	gvideoSŒide
 = 1;

58 
	g´ivP¬ams
.
	gvideoSaveFœ¡F¿mes
 = 0;

59 
	g´ivP¬ams
.
	gdi¥ÏySÿË
 = 1;

60 
	g´ivP¬ams
.
	gag’tSize
 = 2;

61 
	g´ivP¬ams
.
	gg’omeAÇlysisSŒide
 = 1;

62 
	g´ivP¬ams
.
	gdi¥ÏySam¶eG’omes
 = 0;

63 
	g´ivP¬ams
.
	gg’omeCom·risÚM‘hod
 = 1;

64 
	g´ivP¬ams
.
	gupd©eG¿phLog
 = 
çl£
;

65 
	g´ivP¬ams
.
	gupd©eG¿phLogSŒide
 = 16;

66 
	g´ivP¬ams
.
	gg¿phLogUpd©eCommªd
 = "/usr/bin/gnuplot --persist ./tools/graphlog.gp";

70 
	gP¬amMªag”
::
»gi¡”CÚfigFe
(cÚ¡ *
f’ame
)

72 
cÚfigF’ame
 = 
¡d
::
¡ršg
(
f’ame
);

76 
boŞ
 
checkIfUšt
(cÚ¡ 
¡d
::
¡ršg
 &
s
)

78  
s
.
fšd_fœ¡_nÙ_of
("0123456789"è=ğ
¡d
::
¡ršg
::
Åos
;

82 
boŞ
 
checkIfIÁ
(cÚ¡ 
¡d
::
¡ršg
 &
s
)

85 
¡d
::
i¡ršg¡»am
 
iss
(
s
);

86 
	gi
;

87 
	giss
 >> 
	g¡d
::
noskws
 >> 
i
;

89  
	giss
.
eof
(è&& !iss.
ç
();

93 
boŞ
 
checkIfFlßt
(cÚ¡ 
¡d
::
¡ršg
 &
s
)

95 
¡d
::
i¡ršg¡»am
 
iss
(
s
);

96 
	gd
;

97 
	giss
 >> 
	g¡d
::
noskws
 >> 
d
;

99  
	giss
.
eof
(è&& !iss.
ç
();

103 
boŞ
 
checkIfBoŞ
(cÚ¡ 
¡d
::
¡ršg
 &
s
)

105  
s
 == "0" || s == "1" || s == "true" || s == "false";

109 
boŞ
 
g‘BoŞV®
(cÚ¡ 
¡d
::
¡ršg
 &
s
)

111 ià(
s
 == "true" || s == "1")

112  
Œue
;

113 ià(
	gs
 =ğ"çl£" || 
s
 == "0")

114  
çl£
;

116  
	gçl£
;

120 
	gP¬amMªag”
::
šge¡P¬am‘”
(
¡d
::
¡ršg
 
Çme
, std::¡ršg 
v®
)

122 
¡d
::
ŒªsfÜm
(
Çme
.
begš
(),‚ame.
’d
(),‚ame.begin(),

123 [](
c
){  
¡d
::
tŞow”
(c); });

126 
boŞ
 
	gisUšt
 = 
checkIfUšt
(
v®
);

127 
	guV®
 = 
isUšt
 ? ()
¡d
::
¡Ş
(
v®
.
c_¡r
()) : 0;

128 
boŞ
 
	gisIÁ
 = 
checkIfIÁ
(
v®
);

129 
	giV®
 = 
isIÁ
 ? 
¡d
::
¡oi
(
v®
.
c_¡r
()) : 0;

130 
boŞ
 
	gisFlßt
 = 
checkIfFlßt
(
v®
);

131 
	gdV®
 = 
isFlßt
 ? 
¡d
::
¡od
(
v®
.
c_¡r
()) : 0.0;

132 
boŞ
 
	gisBoŞ
 = 
checkIfBoŞ
(
v®
);

133 
boŞ
 
	gbV®
 = 
g‘BoŞV®
(
v®
);

136 ià(
	gÇme
 =ğ"sizex" && 
isUšt
 && 
uV®
 >ğ2 && uV® <ğ(
ušt16_t
)-1) {

137 
´ivP¬ams
.
sizeX
 = 
uV®
; ;

139 ià(
	gÇme
 =ğ"sizey" && 
isUšt
 && 
uV®
 >ğ2 && uV® <ğ(
ušt16_t
)-1) {

140 
´ivP¬ams
.
sizeY
 = 
uV®
; ;

142 ià(
	gÇme
 =ğ"ch®Ënge" && 
isUšt
 && 
uV®
 < (
ušt16_t
)-1) {

143 
´ivP¬ams
.
ch®Ënge
 = 
uV®
; ;

145 ià(
	gÇme
 =ğ"g’omeš™ŸÎ’gthmš" && 
isUšt
 && 
uV®
 > 0 && uV® < (
ušt16_t
)-1) {

146 
´ivP¬ams
.
g’omeIn™ŸlL’gthMš
 = 
uV®
; ;

148 ià(
	gÇme
 =ğ"g’omeš™ŸÎ’gthmax" && 
isUšt
 && 
uV®
 > 0 && uV® < (
ušt16_t
)-1) {

149 
´ivP¬ams
.
g’omeIn™ŸlL’gthMax
 = 
uV®
; ;

151 ià(
	gÇme
 == "logdir") {

152 
´ivP¬ams
.
logDœ
 = 
v®
; ;

154 ià(
	gÇme
 == "imagedir") {

155 
´ivP¬ams
.
imageDœ
 = 
v®
; ;

157 ià(
	gÇme
 =ğ"pİuÏtiÚ" && 
isUšt
 && 
uV®
 > 0 && uV® < (
ušt32_t
)-1) {

158 
´ivP¬ams
.
pİuÏtiÚ
 = 
uV®
; ;

160 ià(
	gÇme
 =ğ"¡•¥”g’”©iÚ" && 
isUšt
 && 
uV®
 > 0 && uV® < (
ušt16_t
)-1) {

161 
´ivP¬ams
.
¡•sP”G’”©iÚ
 = 
uV®
; ;

163 ià(
	gÇme
 =ğ"maxg’”©iÚs" && 
isUšt
 && 
uV®
 > 0 && uVal < 0x7fffffff) {

164 
´ivP¬ams
.
maxG’”©iÚs
 = 
uV®
; ;

166 ià(
	gÇme
 =ğ"b¬r›¹y³" && 
isUšt
 && 
uV®
 < (
ušt32_t
)-1) {

167 
´ivP¬ams
.
b¬r›rTy³
 = 
uV®
; ;

169 ià(
	gÇme
 =ğ"»¶aûb¬r›¹y³" && 
isUšt
 && 
uV®
 < (
ušt32_t
)-1) {

170 
´ivP¬ams
.
»¶aûB¬r›rTy³
 = 
uV®
; ;

172 ià(
	gÇme
 =ğ"»¶aûb¬r›¹y³g’”©iÚnumb”" && 
isIÁ
 && 
iV®
 >= -1) {

173 
´ivP¬ams
.
»¶aûB¬r›rTy³G’”©iÚNumb”
 = (
iV®
 =ğ-1 ? (
ušt32_t
)-1 : iVal); ;

175 ià(
	gÇme
 =ğ"numth»ads" && 
isUšt
 && 
uV®
 > 0 && uV® < (
ušt16_t
)-1) {

176 
´ivP¬ams
.
numTh»ads
 = 
uV®
; ;

178 ià(
	gÇme
 =ğ"sigÇÎay”s" && 
isUšt
 && 
uV®
 < (
ušt16_t
)-1) {

179 
´ivP¬ams
.
sigÇlLay”s
 = 
uV®
; ;

181 ià(
	gÇme
 =ğ"g’omemaxËngth" && 
isUšt
 && 
uV®
 > 0 && uV® < (
ušt16_t
)-1) {

182 
´ivP¬ams
.
g’omeMaxL’gth
 = 
uV®
; ;

184 ià(
	gÇme
 =ğ"maxnumb”ÃurÚs" && 
isUšt
 && 
uV®
 > 0 && uV® < (
ušt16_t
)-1) {

185 
´ivP¬ams
.
maxNumb”NeurÚs
 = 
uV®
; ;

187 ià(
	gÇme
 =ğ"poštmutiÚ¿‹" && 
isFlßt
 && 
dV®
 >= 0.0 && dVal <= 1.0) {

188 
´ivP¬ams
.
poštMutiÚR©e
 = 
dV®
; ;

190 ià(
	gÇme
 =ğ"g’eš£¹iÚd–‘iÚ¿‹" && 
isFlßt
 && 
dV®
 >= 0.0 && dVal <= 1.0) {

191 
´ivP¬ams
.
g’eIn£¹iÚD–‘iÚR©e
 = 
dV®
; ;

193 ià(
	gÇme
 =ğ"d–‘iÚ¿tio" && 
isFlßt
 && 
dV®
 >= 0.0 && dVal <= 1.0) {

194 
´ivP¬ams
.
d–‘iÚR©io
 = 
dV®
; ;

196 ià(
	gÇme
 =ğ"kËÇbË" && 
isBoŞ
) {

197 
´ivP¬ams
.
klEÇbË
 = 
bV®
; ;

199 ià(
	gÇme
 =ğ"£xu®»´oduùiÚ" && 
isBoŞ
) {

200 
´ivP¬ams
.
£xu®R•roduùiÚ
 = 
bV®
; ;

202 ià(
	gÇme
 =ğ"choo£·»Ásbyf™Ãss" && 
isBoŞ
) {

203 
´ivP¬ams
.
choo£P¬’tsByF™Ãss
 = 
bV®
; ;

205 ià(
	gÇme
 =ğ"pİuÏtiÚ£nsÜ¿dius" && 
isFlßt
 && 
dV®
 > 0.0) {

206 
´ivP¬ams
.
pİuÏtiÚS’sÜRadius
 = 
dV®
; ;

208 ià(
	gÇme
 =ğ"sigÇl£nsÜ¿dius" && 
isFlßt
 && 
dV®
 > 0.0) {

209 
´ivP¬ams
.
sigÇlS’sÜRadius
 = 
dV®
; ;

211 ià(
	gÇme
 =ğ"»¥Úsiv’ess" && 
isFlßt
 && 
dV®
 >= 0.0) {

212 
´ivP¬ams
.
»¥Úsiv’ess
 = 
dV®
; ;

214 ià(
	gÇme
 =ğ"»¥Úsiv’esscurvekçùÜ" && 
isUšt
 && 
uV®
 >= 1 && uVal <= 20) {

215 
´ivP¬ams
.
»¥Úsiv’essCurveKFaùÜ
 = 
uV®
; ;

217 ià(
	gÇme
 =ğ"lÚg´obedi¡ªû" && 
isUšt
 && 
uV®
 > 0) {

218 
´ivP¬ams
.
lÚgProbeDi¡ªû
 = 
uV®
; ;

220 ià(
	gÇme
 =ğ"shÜrobeb¬r›rdi¡ªû" && 
isUšt
 && 
uV®
 > 0) {

221 
´ivP¬ams
.
shÜtProbeB¬r›rDi¡ªû
 = 
uV®
; ;

223 ià(
	gÇme
 =ğ"v®’û§tu¿tiÚmag" && 
isFlßt
 && 
dV®
 >= 0.0) {

224 
´ivP¬ams
.
v®’ûS©u¿tiÚMag
 = 
dV®
; ;

226 ià(
	gÇme
 =ğ"§vevideo" && 
isBoŞ
) {

227 
´ivP¬ams
.
§veVideo
 = 
bV®
; ;

229 ià(
	gÇme
 =ğ"video¡ride" && 
isUšt
 && 
uV®
 > 0) {

230 
´ivP¬ams
.
videoSŒide
 = 
uV®
; ;

232 ià(
	gÇme
 =ğ"video§vefœ¡äames" && 
isUšt
) {

233 
´ivP¬ams
.
videoSaveFœ¡F¿mes
 = 
uV®
; ;

235 ià(
	gÇme
 =ğ"di¥ÏysÿË" && 
isUšt
 && 
uV®
 > 0) {

236 
´ivP¬ams
.
di¥ÏySÿË
 = 
uV®
; ;

238 ià(
	gÇme
 =ğ"ag’tsize" && 
isFlßt
 && 
dV®
 > 0.0) {

239 
´ivP¬ams
.
ag’tSize
 = 
dV®
; ;

241 ià(
	gÇme
 =ğ"g’om—Çlysis¡ride" && 
isUšt
 && 
uV®
 > 0) {

242 
´ivP¬ams
.
g’omeAÇlysisSŒide
 = 
uV®
; ;

244 ià(
	gÇme
 =ğ"g’om—Çlysis¡ride" && 
v®
 == "videoStride") {

245 
´ivP¬ams
.
g’omeAÇlysisSŒide
 =…rivP¬ams.
videoSŒide
; ;

247 ià(
	gÇme
 =ğ"di¥Ïy§m¶eg’omes" && 
isUšt
) {

248 
´ivP¬ams
.
di¥ÏySam¶eG’omes
 = 
uV®
; ;

250 ià(
	gÇme
 =ğ"g’omecom·risÚm‘hod" && 
isUšt
) {

251 
´ivP¬ams
.
g’omeCom·risÚM‘hod
 = 
uV®
; ;

253 ià(
	gÇme
 =ğ"upd©eg¿phlog" && 
isBoŞ
) {

254 
´ivP¬ams
.
upd©eG¿phLog
 = 
bV®
; ;

256 ià(
	gÇme
 =ğ"upd©eg¿phlog¡ride" && 
isUšt
 && 
uV®
 > 0) {

257 
´ivP¬ams
.
upd©eG¿phLogSŒide
 = 
uV®
; ;

259 ià(
	gÇme
 =ğ"upd©eg¿phlog¡ride" && 
v®
 == "videoStride") {

260 
´ivP¬ams
.
upd©eG¿phLogSŒide
 =…rivP¬ams.
videoSŒide
; ;

263 
	g¡d
::
cout
 << "Inv®id…¬am: " << 
Çme
 << " = " << 
v®
 << 
¡d
::
’dl
;

269 
	gP¬amMªag”
::
upd©eFromCÚfigFe
()

272 
¡d
::
if¡»am
 
cFe
(
cÚfigF’ame
.
c_¡r
());

273 ià(
	gcFe
.
is_İ’
()) {

274 
	g¡d
::
¡ršg
 
lše
;

275 
g‘lše
(
cFe
, 
lše
)){

276 
	glše
.
”a£
(
¡d
::
»move_if
(
lše
.
begš
(),†še.
’d
(), 
is¥aû
),

277 
lše
.
’d
());

278 if(
	glše
[0] =ğ'#' || 
lše
.
em±y
()) {

281 autØ
	gd–im™”Pos
 = 
lše
.
fšd
("=");

282 autØ
	gÇme
 = 
lše
.
sub¡r
(0, 
d–im™”Pos
);

283 
	g¡d
::
ŒªsfÜm
(
Çme
.
begš
(),‚ame.
’d
(),‚ame.begin(),

284 [](
c
){  
¡d
::
tŞow”
(c); });

285 autØ
	gv®ue0
 = 
lše
.
sub¡r
(
d–im™”Pos
 + 1);

286 autØ
	gd–im™”Comm’t
 = 
v®ue0
.
fšd
("#");

287 autØ
	gv®ue
 = 
v®ue0
.
sub¡r
(0, 
d–im™”Comm’t
);

288 autØ
	g¿wV®ue
 = 
v®ue
;

289 
	gv®ue
.
”a£
(
¡d
::
»move_if
(
v®ue
.
begš
(), v®ue.
’d
(), 
is¥aû
),

290 
v®ue
.
’d
());

292 
šge¡P¬am‘”
(
Çme
, 
v®ue
);

296 
	g¡d
::
û¼
 << "Couldn'ˆİ’ cÚfig f" << 
cÚfigF’ame
 << ".\n" << 
¡d
::
’dl
;

	@params.h

1 #iâdeà
PARAMS_H_INCLUDED


2 
	#PARAMS_H_INCLUDED


	)

6 
	~<¡ršg
>

15 
Çme¥aû
 
	gBS
 {

17 şas 
	cRunMode
 { 
	gSTOP
, 
	gRUN
, 
	gPAUSE
, 
	gABORT
 };

18 
RunMode
 
runMode
;

24 
	sP¬ams
 {

25 
	gpİuÏtiÚ
;

26 
	g¡•sP”G’”©iÚ
;

27 
	gmaxG’”©iÚs
;

28 
	gnumTh»ads
;

29 
	gsigÇlLay”s
;

30 
	gg’omeMaxL’gth
;

31 
	gmaxNumb”NeurÚs
;

32 
	gpoštMutiÚR©e
;

33 
	gg’eIn£¹iÚD–‘iÚR©e
;

34 
	gd–‘iÚR©io
;

35 
boŞ
 
	gklEÇbË
;

36 
boŞ
 
	g£xu®R•roduùiÚ
;

37 
boŞ
 
	gchoo£P¬’tsByF™Ãss
;

38 
	gpİuÏtiÚS’sÜRadius
;

39 
	gsigÇlS’sÜRadius
;

40 
	g»¥Úsiv’ess
;

41 
	g»¥Úsiv’essCurveKFaùÜ
;

42 
	glÚgProbeDi¡ªû
;

43 
	gshÜtProbeB¬r›rDi¡ªû
;

44 
	gv®’ûS©u¿tiÚMag
;

45 
boŞ
 
	g§veVideo
;

46 
	gvideoSŒide
;

47 
	gvideoSaveFœ¡F¿mes
;

48 
	gdi¥ÏySÿË
;

49 
	gag’tSize
;

50 
	gg’omeAÇlysisSŒide
;

51 
	gdi¥ÏySam¶eG’omes
;

52 
	gg’omeCom·risÚM‘hod
;

53 
boŞ
 
	gupd©eG¿phLog
;

54 
	gupd©eG¿phLogSŒide
;

55 
	gch®Ënge
;

56 
	gb¬r›rTy³
;

57 
	g»¶aûB¬r›rTy³
;

58 
	g»¶aûB¬r›rTy³G’”©iÚNumb”
;

61 
ušt16_t
 
	gsizeX
;

62 
ušt16_t
 
	gsizeY
;

63 
	gg’omeIn™ŸlL’gthMš
;

64 
	gg’omeIn™ŸlL’gthMax
;

65 
	g¡d
::
¡ršg
 
logDœ
;

66 
	g¡d
::
¡ršg
 
imageDœ
;

67 
	g¡d
::
¡ršg
 
g¿phLogUpd©eCommªd
;

70 şas 
	cP¬amMªag”
 {

71 
	gpublic
:

72 cÚ¡ 
P¬ams
 &
g‘P¬amRef
(ècÚ¡ {  
´ivP¬ams
; }

73 
£tDeçuÉs
();

74 
»gi¡”CÚfigFe
(cÚ¡ *
f’ame
);

75 
upd©eFromCÚfigFe
();

76 
	g´iv©e
:

77 
P¬ams
 
´ivP¬ams
;

78 
	g¡d
::
¡ršg
 
cÚfigF’ame
;

79 
time_t
 
	gÏ¡ModTime
;

80 
šge¡P¬am‘”
(
¡d
::
¡ršg
 
Çme
, std::¡ršg 
v®
);

86 
P¬ams
 
·¿msIn™
(
¬gc
, **
¬gv
);

	@peeps.cpp

5 
	~<io¡»am
>

6 
	~<ÿs£¹
>

7 
	~<num”ic
>

8 
	~<ut™y
>

9 
	~"simuÏtÜ.h
"

11 
Çme¥aû
 
	gBS
 {

14 
	gP“ps
::
P“ps
()

19 
P“ps
::
š™
(
pİuÏtiÚ
)

22 
šdividu®s
.
»size
(
pİuÏtiÚ
 + 1);

29 
	gP“ps
::
queueFÜD—th
(cÚ¡ 
Indiv
 &
šdiv
)

31 #´agm¨
omp
 
ü™iÿl


33 
d—thQueue
.
push_back
(
šdiv
.
šdex
);

40 
	gP“ps
::
d¿šD—thQueue
()

42 
ušt16_t
 
šdex
 : 
d—thQueue
) {

43 autØ& 
šdiv
 = 
³•s
[
šdex
];

44 
	ggrid
.
£t
(
šdiv
.
loc
, 0);

45 
	gšdiv
.
	g®ive
 = 
çl£
;

47 
	gd—thQueue
.
ş—r
();

53 
	gP“ps
::
queueFÜMove
(cÚ¡ 
Indiv
 &
šdiv
, 
CoÜd
 
ÃwLoc
)

55 #´agm¨
omp
 
ü™iÿl


57 autØ
	g»cÜd
 = 
¡d
::
make_·œ
<
ušt16_t
, 
	gCoÜd
>(ušt16_t(
šdiv
.
šdex
), 
CoÜd
(
ÃwLoc
));

58 
	gmoveQueue
.
push_back
(
»cÜd
);

66 
	gP“ps
::
d¿šMoveQueue
()

68 autØ
moveRecÜd
 : 
moveQueue
) {

69 autØ& 
šdiv
 = 
³•s
[
moveRecÜd
.
fœ¡
];

70 
CoÜd
 
	gÃwLoc
 = 
moveRecÜd
.
£cÚd
;

71 
Dœ
 
	gmoveDœ
 = (
ÃwLoc
 - 
šdiv
.
loc
).
asDœ
();

72 ià(
	ggrid
.
isEm±yAt
(
ÃwLoc
)) {

73 
	ggrid
.
£t
(
šdiv
.
loc
, 0);

74 
	ggrid
.
£t
(
ÃwLoc
, 
šdiv
.
šdex
);

75 
	gšdiv
.
	gloc
 = 
ÃwLoc
;

76 
	gšdiv
.
	gÏ¡MoveDœ
 = 
moveDœ
;

79 
	gmoveQueue
.
ş—r
();

	@peeps.h

1 #iâdeà
PEEPS_H_INCLUDED


2 
	#PEEPS_H_INCLUDED


	)

4 
	~<c¡dšt
>

5 
	~<veùÜ
>

6 
	~"basicTy³s.h
"

7 
	~"grid.h
"

8 
	~"·¿ms.h
"

9 
	~"šdiv.h
"

11 
Çme¥aû
 
	gBS
 {

13 
şass
 
	gIndiv
;

14 
şass
 
Grid
 
grid
;

31 şas 
	cP“ps
 {

32 
	gpublic
:

33 
P“ps
();

34 
š™
(
pİuÏtiÚ
);

35 
queueFÜD—th
(cÚ¡ 
Indiv
 &);

36 
d¿šD—thQueue
();

37 
queueFÜMove
(cÚ¡ 
Indiv
 &, 
CoÜd
 
ÃwLoc
);

38 
d¿šMoveQueue
();

39 
d—thQueueSize
(ècÚ¡ {  
	gd—thQueue
.
size
(); }

41 
	gIndiv
 & 
g‘Indiv
(
CoÜd
 
loc
è{  
	gšdividu®s
[
grid
.
©
(loc)]; }

42 cÚ¡ 
	gIndiv
 & 
g‘Indiv
(
CoÜd
 
loc
ècÚ¡ {  
	gšdividu®s
[
grid
.
©
(loc)]; }

44 
	gIndiv
 & 
	gİ”©Ü
[](
ušt16_t
 
	gšdex
è{  
	gšdividu®s
[
šdex
]; }

45 
Indiv
 cÚ¡ & 
	gİ”©Ü
[](
ušt16_t
 
	gšdex
ècÚ¡ {  
	gšdividu®s
[
šdex
]; }

46 
	g´iv©e
:

47 
¡d
::
veùÜ
<
Indiv
> 
šdividu®s
;

48 
	g¡d
::
veùÜ
<
ušt16_t
> 
d—thQueue
;

49 
	g¡d
::
veùÜ
<
¡d
::
·œ
<
ušt16_t
, 
	gCoÜd
>> 
	gmoveQueue
;

	@random.cpp

5 
	~<ÿs£¹
>

6 
	~<cm©h
>

7 
	~<¿ndom
>

8 
	~<chrÚo
>

9 
	~<şim™s
>

10 
	~"¿ndom.h
"

11 
	~"omp.h
"

13 
Çme¥aû
 
	gBS
 {

17 
	gRªdomUštG’”©Ü
::
RªdomUštG’”©Ü
(
boŞ
 
d‘”mši¡ic
)

19 ià(
d‘”mši¡ic
) {

21 
ºgx
 = 123456789;

22 
	gºgy
 = 362436000;

23 
	gºgz
 = 521288629;

24 
	gºgc
 = 7654321;

27 
	ga
 = 0xf1—5“d, 
	gb
 = 
c
 = 
d
 = 123456789;

29 
¿ndomize
();

34 
	gRªdomUštG’”©Ü
::
¿ndomize
()

36 
¡d
::
mt19937
 
g’”©Ü
(
time
(0));

39 dØ{ 
	gºgx
 = 
g’”©Ü
(); } rngx == 0);

40 dØ{ 
	gºgy
 = 
g’”©Ü
(); } rngy == 0);

41 dØ{ 
	gºgz
 = 
g’”©Ü
(); } rngz == 0);

42 dØ{ 
	gºgc
 = 
g’”©Ü
(); } rngc == 0);

45 
	ga
 = 0xf1—5“d, 
	gb
 = 
c
 = 
d
 = 
g’”©Ü
();

52 
ušt32_t
 
	gRªdomUštG’”©Ü
::
İ”©Ü
()()

54 ià(
çl£
) {

56 
ušt64_t
 
t
, 
	ga
 = 698769069ULL;

57 
	gºgx
 = 69069 * 
ºgx
 + 12345;

58 
	gºgy
 ^ğ(
ºgy
 << 13);

59 
	gºgy
 ^ğ(
ºgy
 >> 17);

60 
	gºgy
 ^ğ(
ºgy
 << 5);

61 
	gt
 = 
a
 * 
ºgz
 + 
ºgc
;

62 
	gºgc
 = (
t
 >> 32);

63  
	gºgx
 + 
	gºgy
 + (
	gºgz
 = 
t
);

66 
	#rÙ32
(
x
,
k
è(((x)<<(k))|((x)>>(32-(k))))

	)

67 
ušt32_t
 
	ge
 = 
a
 - 
rÙ32
(
b
, 27);

68 
	ga
 = 
b
 ^ 
rÙ32
(
c
, 17);

69 
	gb
 = 
c
 + 
d
;

70 
	gc
 = 
d
 + 
e
;

71 
	gd
 = 
e
 + 
a
;

72  
	gd
;

83 
	gRªdomUštG’”©Ü
::
İ”©Ü
()(
mš
, 
	gmax
)

85 
as£¹
(
max
 >ğ
mš
);

86  ((*
	gthis
)(è% (
	gmax
 - 
	gmš
 + 1)) + min;

92 
RªdomUštG’”©Ü
 
	g¿ndomUšt
;

	@random.h

1 #iâdeà
RANDOM_H_INCLUDED


2 
	#RANDOM_H_INCLUDED


	)

6 
	~<c¡dšt
>

7 
	~<şim™s
>

9 
Çme¥aû
 
	gBS
 {

11 
¿ndomIÁ
(
mš
 = 0, 
max
 = 
INT_MAX
);

12 
ušt16_t
 
¿ndomU16
(ušt16_ˆ
mš
 = 0, ušt16_ˆ
max
 = (uint16_t)-1);

13 
¿ndomFlßt01
();

14 
¿ndomFlßt11
();

16 şas 
	cRªdomUštG’”©Ü
{

17 
	g´iv©e
:

19 
ušt32_t
 
ºgx
;

20 
ušt32_t
 
	gºgy
;

21 
ušt32_t
 
	gºgz
;

22 
ušt32_t
 
	gºgc
;

24 
ušt32_t
 
	ga
, 
	gb
, 
	gc
, 
	gd
;

25 
	gpublic
:

26 
RªdomUštG’”©Ü
(
boŞ
 
d‘”mši¡ic
 = 
çl£
);

27 
	gRªdomUštG’”©Ü
& 
	gİ”©Ü
=(cÚ¡ 
RªdomUštG’”©Ü
 &
rhs
) = ;

28 
¿ndomize
();

29 
ušt32_t
 
İ”©Ü
()();

30 
İ”©Ü
()(
	gmš
, 
	gmax
);

34 
RªdomUštG’”©Ü
 
¿ndomUšt
;

35 
cÚ¡ex´
 
ušt32_t
 
	gRANDOM_UINT_MAX
 = 0xffffffff;

	@sensors-actions.h

1 #iâdeà
SENSORS_ACTIONS_H_INCLUDED


2 
	#SENSORS_ACTIONS_H_INCLUDED


	)

8 
	~<¡ršg
>

10 
Çme¥aû
 
	gBS
 {

17 
cÚ¡ex´
 
	gSENSOR_MIN
 = 0.0;

18 
cÚ¡ex´
 
	gSENSOR_MAX
 = 1.0;

19 
cÚ¡ex´
 
	gSENSOR_RANGE
 = 
SENSOR_MAX
 - 
SENSOR_MIN
;

21 
cÚ¡ex´
 
	gNEURON_MIN
 = -1.0;

22 
cÚ¡ex´
 
	gNEURON_MAX
 = 1.0;

23 
cÚ¡ex´
 
	gNEURON_RANGE
 = 
NEURON_MAX
 - 
NEURON_MIN
;

25 
cÚ¡ex´
 
	gACTION_MIN
 = 0.0;

26 
cÚ¡ex´
 
	gACTION_MAX
 = 1.0;

27 
cÚ¡ex´
 
	gACTION_RANGE
 = 
ACTION_MAX
 - 
ACTION_MIN
;

36 
	eS’sÜ
 {

37 
	gLOC_X
,

38 
	gLOC_Y
,

39 
	gBOUNDARY_DIST_X
,

40 
	gBOUNDARY_DIST
,

41 
	gBOUNDARY_DIST_Y
,

42 
	gGENETIC_SIM_FWD
,

43 
	gLAST_MOVE_DIR_X
,

44 
	gLAST_MOVE_DIR_Y
,

45 
	gLONGPROBE_POP_FWD
,

46 
	gLONGPROBE_BAR_FWD
,

47 
	gPOPULATION
,

48 
	gPOPULATION_FWD
,

49 
	gPOPULATION_LR
,

50 
	gOSC1
,

51 
	gAGE
,

52 
	gBARRIER_FWD
,

53 
	gBARRIER_LR
,

54 
	gRANDOM
,

55 
	gSIGNAL0
,

56 
	gSIGNAL0_FWD
,

57 
	gSIGNAL0_LR
,

58 
	gNUM_SENSES
,

68 
	eAùiÚ
 {

69 
	gMOVE_X
,

70 
	gMOVE_Y
,

71 
	gMOVE_FORWARD
,

72 
	gMOVE_RL
,

73 
	gMOVE_RANDOM
,

74 
	gSET_OSCILLATOR_PERIOD
,

75 
	gSET_LONGPROBE_DIST
,

76 
	gSET_RESPONSIVENESS
,

77 
	gEMIT_SIGNAL0
,

78 
	gMOVE_EAST
,

79 
	gMOVE_WEST
,

80 
	gMOVE_NORTH
,

81 
	gMOVE_SOUTH
,

82 
	gMOVE_LEFT
,

83 
	gMOVE_RIGHT
,

84 
	gMOVE_REVERSE
,

85 
	gNUM_ACTIONS
,

86 
	gKILL_FORWARD
,

89 
¡d
::
¡ršg
 
£nsÜName
(
S’sÜ
 
£nsÜ
);

90 
¡d
::
¡ršg
 
aùiÚName
(
AùiÚ
 
aùiÚ
);

91 
´štS’sÜsAùiÚs
();

	@signals.cpp

4 
	~<c¡dšt
>

5 
	~"simuÏtÜ.h
"

7 
Çme¥aû
 
	gBS
 {

9 
	gSigÇls
::
š™
(
ušt16_t
 
numLay”s
, ušt16_ˆ
sizeX
, ušt16_ˆ
sizeY
)

11 
	gd©a
 = 
¡d
::
veùÜ
<
Lay”
>(
numLay”s
, Lay”(
sizeX
, 
sizeY
));

20 
	gSigÇls
::
šüem’t
(
ušt16_t
 
Ïy”Num
, 
CoÜd
 
loc
)

22 
cÚ¡ex´
 
	g¿dius
 = 1.5;

23 
cÚ¡ex´
 
ušt8_t
 
	gûÁ”Inü—£AmouÁ
 = 2;

24 
cÚ¡ex´
 
ušt8_t
 
	gÃighbÜInü—£AmouÁ
 = 1;

26 #´agm¨
omp
 
ü™iÿl


28 
vis™NeighbÜhood
(
loc
, 
¿dius
, [
Ïy”Num
](
CoÜd
†oc) {

29 ià(
sigÇls
[
Ïy”Num
][
loc
.
x
][loc.
y
] < 
SIGNAL_MAX
) {

30 
sigÇls
[
Ïy”Num
][
loc
.
x
][loc.
y
] =

31 
¡d
::
mš
<>(
SIGNAL_MAX
,

32 
sigÇls
[
Ïy”Num
][
loc
.
x
][loc.
y
] + 
ÃighbÜInü—£AmouÁ
);

36 ià(
	gsigÇls
[
Ïy”Num
][
loc
.
x
][loc.
y
] < 
	gSIGNAL_MAX
) {

37 
	gsigÇls
[
Ïy”Num
][
loc
.
x
][loc.
y
] =

38 
¡d
::
mš
<>(
SIGNAL_MAX
,

39 
	gsigÇls
[
Ïy”Num
][
loc
.
x
][loc.
y
] + 
	gûÁ”Inü—£AmouÁ
);

46 
	gSigÇls
::
çde
(
Ïy”Num
)

48 
cÚ¡ex´
 
çdeAmouÁ
 = 1;

50 
št16_t
 
	gx
 = 0; x < 
	gp
.
	gsizeX
; ++x) {

51 
št16_t
 
	gy
 = 0; y < 
	gp
.
	gsizeY
; ++y) {

52 ià(
	gsigÇls
[
Ïy”Num
][
x
][
y
] >ğ
çdeAmouÁ
) {

53 
sigÇls
[
Ïy”Num
][
x
][
y
] -ğ
çdeAmouÁ
;

55 
	gsigÇls
[
Ïy”Num
][
x
][
y
] = 0;

	@signals.h

1 #iâdeà
SIGNALS_H_INCLUDED


2 
	#SIGNALS_H_INCLUDED


	)

6 
	~<veùÜ
>

7 
	~<c¡dšt
>

8 
	~"basicTy³s.h
"

10 
Çme¥aû
 
	gBS
 {

16 
cÚ¡ex´
 
	gSIGNAL_MIN
 = 0;

17 
cÚ¡ex´
 
	gSIGNAL_MAX
 = 
UINT8_MAX
;

19 
	sSigÇls
 {

20 
	sCŞumn
 {

21 
CŞumn
(
ušt16_t
 
numRows
è: 
d©a
 { 
¡d
::
veùÜ
<
ušt8_t
>(numRows, 0) } { }

22 
	gušt8_t
& 
	gİ”©Ü
[](
ušt16_t
 
	growNum
è{  
	gd©a
[
rowNum
]; }

23 
ušt8_t
 
	gİ”©Ü
[](
ušt16_t
 
	growNum
ècÚ¡ {  
	gd©a
[
rowNum
]; }

24 
z”oFl
(è{ 
	g¡d
::
fl
(
d©a
.
begš
(), d©a.
’d
(), 0); }

25 
	g´iv©e
:

26 
¡d
::
veùÜ
<
ušt8_t
> 
d©a
;

29 
	sLay”
 {

30 
Lay”
(
ušt16_t
 
numCŞs
, ušt16_ˆ
numRows
è: 
d©a
 { 
¡d
::
veùÜ
<
CŞumn
>(numCols, Column(numRows)) } { }

31 
	gCŞumn
& 
	gİ”©Ü
[](
ušt16_t
 
	gcŞNum
è{  
	gd©a
[
cŞNum
]; }

32 cÚ¡ 
	gCŞumn
& 
	gİ”©Ü
[](
ušt16_t
 
	gcŞNum
ècÚ¡ {  
	gd©a
[
cŞNum
]; }

33 
z”oFl
(è{ 
	gCŞumn
 &
	gcŞ
 : 
d©a
è{ 
cŞ
.zeroFill(); } }

34 
	g´iv©e
:

35 
¡d
::
veùÜ
<
CŞumn
> 
d©a
;

38 
š™
(
ušt16_t
 
Ïy”s
, ušt16_ˆ
sizeX
, ušt16_ˆ
sizeY
);

39 
	gLay”
& 
	gİ”©Ü
[](
ušt16_t
 
	gÏy”Num
è{  
	gd©a
[
Ïy”Num
]; }

40 cÚ¡ 
	gLay”
& 
	gİ”©Ü
[](
ušt16_t
 
	gÏy”Num
ècÚ¡ {  
	gd©a
[
Ïy”Num
]; }

41 
ušt8_t
 
g‘Magn™ude
(
ušt16_t
 
Ïy”Num
, 
CoÜd
 
loc
ècÚ¡ {  (*
	gthis
)[Ïy”Num][loc.
x
][loc.
y
]; }

42 
šüem’t
(
ušt16_t
 
Ïy”Num
, 
CoÜd
 
loc
);

43 
z”oFl
(è{ 
	gLay”
 &
	gÏy”
 : 
d©a
è{ 
Ïy”
.zeroFill(); } }

44 
çde
(
Ïy”Num
);

45 
	g´iv©e
:

46 
¡d
::
veùÜ
<
Lay”
> 
d©a
;

	@simulator.cpp

11 
	~<io¡»am
>

12 
	~<chrÚo
>

13 
	~<ÿs£¹
>

14 
	~<ut™y
>

15 
	~<®gÜ™hm
>

16 
	~"simuÏtÜ.h
"

17 
	~"imageWr™”.h
"

19 
Çme¥aû
 
	gBS
 {

21 
š™ŸlizeG’”©iÚ0
();

22 
¥awnNewG’”©iÚ
(
g’”©iÚ
, 
murd”CouÁ
);

23 
di¥ÏySam¶eG’omes
(
couÁ
);

24 
execu‹AùiÚs
(
Indiv
 &
šdiv
, 
¡d
::
¬¿y
<, 
AùiÚ
::
NUM_ACTIONS
> &
aùiÚLev–s
);

25 
’dOfSimS‹p
(
simS‹p
, 
g’”©iÚ
);

26 
’dOfG’”©iÚ
(
g’”©iÚ
);

28 
RunMode
 
	grunMode
 = RunMode::
STOP
;

29 
Grid
 
	ggrid
;

30 
SigÇls
 
	gsigÇls
;

31 
P“ps
 
	g³•s
;

32 
ImageWr™”
 
	gimageWr™”
;

38 
P¬amMªag”
 
	g·¿mMªag”
;

39 cÚ¡ 
	gP¬ams
 &
	gp
 { 
	g·¿mMªag”
.
g‘P¬amRef
() };

66 
simS‹pOÃIndiv
(
Indiv
 &
šdiv
, 
simS‹p
)

68 ++
	gšdiv
.
	gage
;

69 autØ
	gaùiÚLev–s
 = 
šdiv
.
ãedFÜw¬d
(
simS‹p
);

70 
execu‹AùiÚs
(
šdiv
, 
aùiÚLev–s
);

104 
simuÏtÜ
(
¬gc
, **
¬gv
)

106 
´štS’sÜsAùiÚs
();

111 
	g·¿mMªag”
.
£tDeçuÉs
();

112 
	g·¿mMªag”
.
»gi¡”CÚfigFe
(
¬gc
 > 1 ? 
¬gv
[1] : "biosim4.ini");

113 
	g·¿mMªag”
.
upd©eFromCÚfigFe
();

117 
	ggrid
.
š™
(
p
.
sizeX
,….
sizeY
);

118 
	gsigÇls
.
š™
(
p
.
sigÇlLay”s
,….
sizeX
,….
sizeY
);

119 
	g³•s
.
š™
(
p
.
pİuÏtiÚ
);

128 
	gg’”©iÚ
 = 0;

129 
š™ŸlizeG’”©iÚ0
();

131 
	grunMode
 = 
RunMode
::
RUN
;

132 
	grunMode
 =ğ
RunMode
::
RUN
 && 
g’”©iÚ
 < 
p
.
maxG’”©iÚs
) {

133 
murd”CouÁ
 = 0;

134 
	gsimS‹p
 = 0; simS‹°< 
	gp
.
	g¡•sP”G’”©iÚ
; ++simStep) {

137 #´agm¨
omp
 
·¿Î–
 
num_th»ads
(
p
.
numTh»ads
è(
sh¬ed
è
fœ¡´iv©e
(
¿ndomUšt
è
Ï¡´iv©e
ÔªdomUštè
scheduË
(auto)

138 
	gšdivIndex
 = 1; indivIndex <ğ
p
.
pİuÏtiÚ
; ++indivIndex) {

139 ià(
	g³•s
[
šdivIndex
].
	g®ive
) {

140 
simS‹pOÃIndiv
(
³•s
[
šdivIndex
], 
simS‹p
);

145 
	gmurd”CouÁ
 +ğ
³•s
.
d—thQueueSize
();

146 
’dOfSimS‹p
(
simS‹p
, 
g’”©iÚ
);

149 
’dOfG’”©iÚ
(
g’”©iÚ
);

150 
	g·¿mMªag”
.
upd©eFromCÚfigFe
();

151 
	gnumb”SurvivÜs
 = 
¥awnNewG’”©iÚ
(
g’”©iÚ
, 
murd”CouÁ
);

152 ià(
	gnumb”SurvivÜs
 > 0 && (
	gg’”©iÚ
 % 
	gp
.
	gg’omeAÇlysisSŒide
 == 0)) {

153 
di¥ÏySam¶eG’omes
(
p
.displaySampleGenomes);

155 ià(
	gnumb”SurvivÜs
 == 0) {

156 
g’”©iÚ
 = 0;

158 ++
	gg’”©iÚ
;

161 
di¥ÏySam¶eG’omes
(3);

163 
	g¡d
::
cout
 << "SimuÏtÜ wa™šg..." << 
¡d
::
’dl
;

164 
	g¡d
::
cout
 << "SimuÏtÜƒx™." << 
¡d
::
’dl
;

	@simulator.h

1 #iâdeà
SIMULATOR_H_INCLUDED


2 
	#SIMULATOR_H_INCLUDED


	)

6 
	~"basicTy³s.h
"

7 
	~"·¿ms.h
"

8 
	~"šdiv.h
"

9 
	~"grid.h
"

10 
	~"sigÇls.h
"

11 
	~"³•s.h
"

12 
	~"¿ndom.h
"

14 
Çme¥aû
 
	gBS
 {

19 
cÚ¡ex´
 
	gCHALLENGE_CIRCLE
 = 0;

20 
cÚ¡ex´
 
	gCHALLENGE_RIGHT_HALF
 = 1;

21 
cÚ¡ex´
 
	gCHALLENGE_RIGHT_QUARTER
 = 2;

22 
cÚ¡ex´
 
	gCHALLENGE_STRING
 = 3;

23 
cÚ¡ex´
 
	gCHALLENGE_CENTER_WEIGHTED
 = 4;

24 
cÚ¡ex´
 
	gCHALLENGE_CENTER_UNWEIGHTED
 = 40;

25 
cÚ¡ex´
 
	gCHALLENGE_CORNER
 = 5;

26 
cÚ¡ex´
 
	gCHALLENGE_CORNER_WEIGHTED
 = 6;

27 
cÚ¡ex´
 
	gCHALLENGE_MIGRATE_DISTANCE
 = 7;

28 
cÚ¡ex´
 
	gCHALLENGE_CENTER_SPARSE
 = 8;

29 
cÚ¡ex´
 
	gCHALLENGE_LEFT_EIGHTH
 = 9;

30 
cÚ¡ex´
 
	gCHALLENGE_RADIOACTIVE_WALLS
 = 10;

31 
cÚ¡ex´
 
	gCHALLENGE_AGAINST_ANY_WALL
 = 11;

32 
cÚ¡ex´
 
	gCHALLENGE_TOUCH_ANY_WALL
 = 12;

33 
cÚ¡ex´
 
	gCHALLENGE_EAST_WEST_EIGHTHS
 = 13;

34 
cÚ¡ex´
 
	gCHALLENGE_NEAR_BARRIER
 = 14;

35 
cÚ¡ex´
 
	gCHALLENGE_PAIRS
 = 15;

36 
cÚ¡ex´
 
	gCHALLENGE_LOCATION_SEQUENCE
 = 16;

37 
cÚ¡ex´
 
	gCHALLENGE_ALTRUISM
 = 17;

38 
cÚ¡ex´
 
	gCHALLENGE_ALTRUISM_SACRIFICE
 = 18;

40 
P¬amMªag”
 
·¿mMªag”
;

41 cÚ¡ 
P¬ams
 &
p
;

42 
Grid
 
grid
;

43 
SigÇls
 
sigÇls
;

44 
P“ps
 
³•s
;

45 
simuÏtÜ
(
¬gc
, **
¬gv
);

49 
vis™NeighbÜhood
(
CoÜd
 
loc
, 
¿dius
, 
¡d
::
funùiÚ
<(CoÜd)> 
f
);

	@spawnNewGeneration.cpp

3 
	~<io¡»am
>

4 
	~<f¡»am
>

5 
	~<veùÜ
>

6 
	~<®gÜ™hm
>

7 
	~<ÿs£¹
>

8 
	~"simuÏtÜ.h
"

10 
Çme¥aû
 
	gBS
 {

12 
¡d
::
·œ
<
boŞ
, > 
·s£dSurviv®Cr™”iÚ
(cÚ¡ 
Indiv
 &
šdiv
, 
ch®Ënge
);

18 
š™ŸlizeG’”©iÚ0
()

21 
	ggrid
.
z”oFl
();

22 
	ggrid
.
ü—‹B¬r›r
(
p
.
»¶aûB¬r›rTy³G’”©iÚNumb”
 == 0

23 ? 
p
.
»¶aûB¬r›rTy³
 :….
b¬r›rTy³
);

26 
	gsigÇls
.
z”oFl
();

30 
ušt16_t
 
	gšdex
 = 1; index <ğ
p
.
pİuÏtiÚ
; ++index) {

31 
	g³•s
[
šdex
].
š™Ÿlize
(šdex, 
grid
.
fšdEm±yLoÿtiÚ
(), 
makeRªdomG’ome
());

41 
š™ŸlizeNewG’”©iÚ
(cÚ¡ 
¡d
::
veùÜ
<
G’ome
> &
·»ÁG’omes
, 
g’”©iÚ
)

43 
G’ome
 
g’”©eChdG’ome
(cÚ¡ 
¡d
::
veùÜ
<G’ome> &
·»ÁG’omes
);

47 
	ggrid
.
z”oFl
();

48 
	ggrid
.
ü—‹B¬r›r
(
g’”©iÚ
 >ğ
p
.
»¶aûB¬r›rTy³G’”©iÚNumb”


49 ? 
p
.
»¶aûB¬r›rTy³
 :….
b¬r›rTy³
);

50 
	gsigÇls
.
z”oFl
();

53 
ušt16_t
 
	gšdex
 = 1; index <ğ
p
.
pİuÏtiÚ
; ++index) {

54 
	g³•s
[
šdex
].
š™Ÿlize
(šdex, 
grid
.
fšdEm±yLoÿtiÚ
(), 
g’”©eChdG’ome
(
·»ÁG’omes
));

69 
¥awnNewG’”©iÚ
(
g’”©iÚ
, 
murd”CouÁ
)

71 
	g§üifiûdCouÁ
 = 0;

73 
­³ndEpochLog
(
g’”©iÚ
, 
numb”SurvivÜs
, 
murd”CouÁ
);

74 
¡d
::
·œ
<
boŞ
, > 
·s£dSurviv®Cr™”iÚ
(cÚ¡ 
Indiv
 &
šdiv
, 
ch®Ënge
);

75 
di¥ÏySigÇlU£
();

79 
	g¡d
::
veùÜ
<
¡d
::
·œ
<
ušt16_t
, >> 
	g·»Ás
;

82 
	g¡d
::
veùÜ
<
G’ome
> 
·»ÁG’omes
;

84 ià(
	gp
.
	gch®Ënge
 !ğ
CHALLENGE_ALTRUISM
) {

87 
ušt16_t
 
šdex
 = 1; 
	gšdex
 <ğ
p
.
pİuÏtiÚ
; ++index) {

88 
	g¡d
::
·œ
<
boŞ
, > 
	g·s£d
 = 
·s£dSurviv®Cr™”iÚ
(
³•s
[
šdex
], 
p
.
ch®Ënge
);

93 ià(
	g·s£d
.
	gfœ¡
 && 
	g³•s
[
šdex
].
	gÂ‘
.
	gcÚÃùiÚs
.
size
() > 0) {

94 
	g·»Ás
.
push_back
Ğ{ 
šdex
, 
·s£d
.
£cÚd
 } );

103 
boŞ
 
	gcÚsid”Kšsh
 = 
Œue
;

104 
	g¡d
::
veùÜ
<
ušt16_t
> 
§üifiûsIndexes
;

106 
ušt16_t
 
	gšdex
 = 1; index <ğ
p
.
pİuÏtiÚ
; ++index) {

108 
	g¡d
::
·œ
<
boŞ
, > 
	g·s£d
 = 
·s£dSurviv®Cr™”iÚ
(
³•s
[
šdex
], 
CHALLENGE_ALTRUISM
);

109 ià(
	g·s£d
.
	gfœ¡
 && 
	g³•s
[
šdex
].
	gÂ‘
.
	gcÚÃùiÚs
.
size
() > 0) {

110 
	g·»Ás
.
push_back
Ğ{ 
šdex
, 
·s£d
.
£cÚd
 } );

113 
	g·s£d
 = 
·s£dSurviv®Cr™”iÚ
(
³•s
[
šdex
], 
CHALLENGE_ALTRUISM_SACRIFICE
);

114 ià(
	g·s£d
.
	gfœ¡
 && 
	g³•s
[
šdex
].
	gÂ‘
.
	gcÚÃùiÚs
.
size
() > 0) {

115 ià(
	gcÚsid”Kšsh
) {

116 
	g§üifiûsIndexes
.
push_back
(
šdex
);

118 ++
	g§üifiûdCouÁ
;

124 
	gg’”©iÚToAµlyKšsh
 = 10;

125 
cÚ¡ex´
 
	g®ŒuismFaùÜ
 = 10;

127 ià(
	gcÚsid”Kšsh
) {

128 ià(
	gg’”©iÚ
 > 
	gg’”©iÚToAµlyKšsh
) {

130 
	gth»shŞd
 = 0.7;

132 
	g¡d
::
veùÜ
<
¡d
::
·œ
<
ušt16_t
, >> 
	gsurvivšgKš
;

133 
	g·s£s
 = 0;…as£ < 
	g®ŒuismFaùÜ
; ++passes) {

134 
ušt16_t
 
	g§üifiûdIndex
 : 
§üifiûsIndexes
) {

136 
¡¬tIndex
 = 
¿ndomUšt
(0, 
·»Ás
.
size
() - 1);

137 
	gcouÁ
 = 0; couÁ < 
	g·»Ás
.
size
(); ++count) {

138 cÚ¡ 
	g¡d
::
·œ
<
ušt16_t
, > &
	gpossibËP¬’t
 = 
·»Ás
[(
¡¬tIndex
 + 
couÁ
è%…¬’ts.
size
()];

139 cÚ¡ 
	gG’ome
 &
	gg1
 = 
³•s
[
§üifiûdIndex
].
g’ome
;

140 cÚ¡ 
	gG’ome
 &
	gg2
 = 
³•s
[
possibËP¬’t
.
fœ¡
].
g’ome
;

141 
	gsim¬™y
 = 
g’omeSim¬™y
(
g1
, 
g2
);

142 ià(
	gsim¬™y
 >ğ
th»shŞd
) {

143 
survivšgKš
.
push_back
(
possibËP¬’t
);

150 
	g¡d
::
cout
 << 
·»Ás
.
size
() << "…assed, "

151 << 
§üifiûsIndexes
.
size
() << " sacrificed, "

152 << 
survivšgKš
.
size
(è<< " saved" << 
¡d
::
’dl
;

153 
	g·»Ás
 = 
¡d
::
move
(
survivšgKš
);

157 
	gnumb”Saved
 = 
§üifiûdCouÁ
 * 
®ŒuismFaùÜ
;

158 
	g¡d
::
cout
 << 
·»Ás
.
size
(è<< "…as£d, " << 
§üifiûdCouÁ
 << " saüifiûd, " << 
numb”Saved
 << " saved" << 
¡d
::
’dl
;

159 ià(
	g·»Ás
.
size
(è> 0 && 
	gnumb”Saved
 <…arents.size()) {

160 
	g·»Ás
.
”a£
(
·»Ás
.
begš
(è+ 
numb”Saved
,…¬’ts.
’d
());

166 
	g¡d
::
sÜt
(
·»Ás
.
begš
(),…¬’ts.
’d
(),

167 [](cÚ¡ 
¡d
::
·œ
<
ušt16_t
, > &
·»Á1
, cÚ¡ std::·œ<ušt16_t, > &
·»Á2
) {

168  
·»Á1
.
£cÚd
 > 
·»Á2
.second;

173 cÚ¡ 
	g¡d
::
·œ
<
ušt16_t
, > &
	g·»Á
 : 
·»Ás
) {

174 
·»ÁG’omes
.
push_back
(
³•s
[
·»Á
.
fœ¡
].
g’ome
);

177 
	g¡d
::
cout
 << "G’ " << 
g’”©iÚ
 << ", " << 
·»ÁG’omes
.
size
(è<< " survivÜs" << 
¡d
::
’dl
;

178 
­³ndEpochLog
(
g’”©iÚ
, 
·»ÁG’omes
.
size
(), 
murd”CouÁ
);

183 ià(
	g·»ÁG’omes
.
size
() != 0) {

185 
š™ŸlizeNewG’”©iÚ
(
·»ÁG’omes
, 
g’”©iÚ
 + 1);

189 
š™ŸlizeG’”©iÚ0
();

192  
	g·»ÁG’omes
.
size
();

	@survival-criteria.cpp

3 
	~<ÿs£¹
>

4 
	~<ut™y
>

5 
	~"simuÏtÜ.h
"

7 
Çme¥aû
 
	gBS
 {

10 
	g¡d
::
·œ
<
boŞ
, > 
·s£dSurviv®Cr™”iÚ
(cÚ¡ 
Indiv
 &
šdiv
, 
ch®Ënge
)

12 ià(!
	gšdiv
.
	g®ive
) {

13  { 
	gçl£
, 0.0 };

16 
	gch®Ënge
) {

20 
	gCHALLENGE_CIRCLE
:

22 
CoÜd
 
§ãC’‹r
 { (
št16_t
)(
p
.
sizeX
 / 4.0), (
	gšt16_t
)(
	gp
.
	gsizeY
 / 4.0) };

23 
	g¿dius
 = 
p
.
sizeX
 / 4.0;

25 
CoÜd
 
	goff£t
 = 
§ãC’‹r
 - 
šdiv
.
loc
;

26 
	gdi¡ªû
 = 
off£t
.
Ëngth
();

27  
	gdi¡ªû
 <ğ
¿dius
 ?

28 
¡d
::
·œ
<
boŞ
, > { 
	gŒue
, (
	g¿dius
 - 
	gdi¡ªû
) /„adius }

29 : 
¡d
::
·œ
<
boŞ
, > { 
	gçl£
, 0.0 };

33 
	gCHALLENGE_RIGHT_HALF
:

34  
šdiv
.
loc
.
x
 > 
p
.
sizeX
 / 2 ?

35 
¡d
::
·œ
<
boŞ
, > { 
	gŒue
, 1.0 }

36 : 
¡d
::
·œ
<
boŞ
, > { 
	gçl£
, 0.0 };

39 
	gCHALLENGE_RIGHT_QUARTER
:

40  
šdiv
.
loc
.
x
 > 
p
.
sizeX
 / 2 +….sizeX / 4 ?

41 
¡d
::
·œ
<
boŞ
, > { 
	gŒue
, 1.0 }

42 : 
¡d
::
·œ
<
boŞ
, > { 
	gçl£
, 0.0 };

45 
	gCHALLENGE_LEFT_EIGHTH
:

46  
šdiv
.
loc
.
x
 < 
p
.
sizeX
 / 8 ?

47 
¡d
::
·œ
<
boŞ
, > { 
	gŒue
, 1.0 }

48 : 
¡d
::
·œ
<
boŞ
, > { 
	gçl£
, 0.0 };

52 
	gCHALLENGE_STRING
:

54 
mšNeighbÜs
 = 22;

55 
	gmaxNeighbÜs
 = 2;

56 
	g¿dius
 = 1.5;

58 ià(
	ggrid
.
isBÜd”
(
šdiv
.
loc
)) {

59  { 
	gçl£
, 0.0 };

62 
	gcouÁ
 = 0;

63 autØ
	gf
 = [&](
CoÜd
 
loc2
){

64 ià(
grid
.
isOccup›dAt
(
loc2
)è++
couÁ
;

67 
vis™NeighbÜhood
(
šdiv
.
loc
, 
¿dius
, 
f
);

68 ià(
	gcouÁ
 >ğ
mšNeighbÜs
 && 
couÁ
 <ğ
maxNeighbÜs
) {

69  { 
Œue
, 1.0 };

71  { 
	gçl£
, 0.0 };

77 
	gCHALLENGE_CENTER_WEIGHTED
:

79 
CoÜd
 
§ãC’‹r
 { (
št16_t
)(
p
.
sizeX
 / 2.0), (
	gšt16_t
)(
	gp
.
	gsizeY
 / 2.0) };

80 
	g¿dius
 = 
p
.
sizeX
 / 3.0;

82 
CoÜd
 
	goff£t
 = 
§ãC’‹r
 - 
šdiv
.
loc
;

83 
	gdi¡ªû
 = 
off£t
.
Ëngth
();

84  
	gdi¡ªû
 <ğ
¿dius
 ?

85 
¡d
::
·œ
<
boŞ
, > { 
	gŒue
, (
	g¿dius
 - 
	gdi¡ªû
) /„adius }

86 : 
¡d
::
·œ
<
boŞ
, > { 
	gçl£
, 0.0 };

90 
	gCHALLENGE_CENTER_UNWEIGHTED
:

92 
CoÜd
 
§ãC’‹r
 { (
št16_t
)(
p
.
sizeX
 / 2.0), (
	gšt16_t
)(
	gp
.
	gsizeY
 / 2.0) };

93 
	g¿dius
 = 
p
.
sizeX
 / 3.0;

95 
CoÜd
 
	goff£t
 = 
§ãC’‹r
 - 
šdiv
.
loc
;

96 
	gdi¡ªû
 = 
off£t
.
Ëngth
();

97  
	gdi¡ªû
 <ğ
¿dius
 ?

98 
¡d
::
·œ
<
boŞ
, > { 
	gŒue
, 1.0 }

99 : 
¡d
::
·œ
<
boŞ
, > { 
	gçl£
, 0.0 };

105 
	gCHALLENGE_CENTER_SPARSE
:

107 
CoÜd
 
§ãC’‹r
 { (
št16_t
)(
p
.
sizeX
 / 2.0), (
	gšt16_t
)(
	gp
.
	gsizeY
 / 2.0) };

108 
	gou‹rRadius
 = 
p
.
sizeX
 / 4.0;

109 
	gšÃrRadius
 = 1.5;

110 
	gmšNeighbÜs
 = 5;

111 
	gmaxNeighbÜs
 = 8;

113 
CoÜd
 
	goff£t
 = 
§ãC’‹r
 - 
šdiv
.
loc
;

114 
	gdi¡ªû
 = 
off£t
.
Ëngth
();

115 ià(
	gdi¡ªû
 <ğ
ou‹rRadius
) {

116 
couÁ
 = 0;

117 autØ
	gf
 = [&](
CoÜd
 
loc2
){

118 ià(
grid
.
isOccup›dAt
(
loc2
)è++
couÁ
;

121 
vis™NeighbÜhood
(
šdiv
.
loc
, 
šÃrRadius
, 
f
);

122 ià(
	gcouÁ
 >ğ
mšNeighbÜs
 && 
couÁ
 <ğ
maxNeighbÜs
) {

123  { 
Œue
, 1.0 };

126  { 
	gçl£
, 0.0 };

131 
	gCHALLENGE_CORNER
:

133 
as£¹
(
p
.
sizeX
 =ğp.
sizeY
);

134 
	g¿dius
 = 
p
.
sizeX
 / 8.0;

136 
	gdi¡ªû
 = (
CoÜd
(0, 0è- 
	gšdiv
.
	gloc
).
Ëngth
();

137 ià(
	gdi¡ªû
 <ğ
¿dius
) {

138  { 
Œue
, 1.0 };

140 
	gdi¡ªû
 = (
CoÜd
(0, 
p
.
sizeY
 - 1è- 
	gšdiv
.
	gloc
).
Ëngth
();

141 ià(
	gdi¡ªû
 <ğ
¿dius
) {

142  { 
Œue
, 1.0 };

144 
	gdi¡ªû
 = (
CoÜd
(
p
.
sizeX
 - 1, 0è- 
	gšdiv
.
	gloc
).
Ëngth
();

145 ià(
	gdi¡ªû
 <ğ
¿dius
) {

146  { 
Œue
, 1.0 };

148 
	gdi¡ªû
 = (
CoÜd
(
p
.
sizeX
 - 1,….
sizeY
 - 1è- 
	gšdiv
.
	gloc
).
Ëngth
();

149 ià(
	gdi¡ªû
 <ğ
¿dius
) {

150  { 
Œue
, 1.0 };

152  { 
	gçl£
, 0.0 };

157 
	gCHALLENGE_CORNER_WEIGHTED
:

159 
as£¹
(
p
.
sizeX
 =ğp.
sizeY
);

160 
	g¿dius
 = 
p
.
sizeX
 / 4.0;

162 
	gdi¡ªû
 = (
CoÜd
(0, 0è- 
	gšdiv
.
	gloc
).
Ëngth
();

163 ià(
	gdi¡ªû
 <ğ
¿dius
) {

164  { 
Œue
, (
¿dius
 - 
di¡ªû
) /„adius };

166 
	gdi¡ªû
 = (
CoÜd
(0, 
p
.
sizeY
 - 1è- 
	gšdiv
.
	gloc
).
Ëngth
();

167 ià(
	gdi¡ªû
 <ğ
¿dius
) {

168  { 
Œue
, (
¿dius
 - 
di¡ªû
) /„adius };

170 
	gdi¡ªû
 = (
CoÜd
(
p
.
sizeX
 - 1, 0è- 
	gšdiv
.
	gloc
).
Ëngth
();

171 ià(
	gdi¡ªû
 <ğ
¿dius
) {

172  { 
Œue
, (
¿dius
 - 
di¡ªû
) /„adius };

174 
	gdi¡ªû
 = (
CoÜd
(
p
.
sizeX
 - 1,….
sizeY
 - 1è- 
	gšdiv
.
	gloc
).
Ëngth
();

175 ià(
	gdi¡ªû
 <ğ
¿dius
) {

176  { 
Œue
, (
¿dius
 - 
di¡ªû
) /„adius };

178  { 
	gçl£
, 0.0 };

184 
	gCHALLENGE_RADIOACTIVE_WALLS
:

185  { 
Œue
, 1.0 };

188 
	gCHALLENGE_AGAINST_ANY_WALL
:

190 
boŞ
 
ÚEdge
 = 
šdiv
.
loc
.
x
 =ğ0 || indiv.loc.x =ğ
p
.
sizeX
 - 1

191 || 
šdiv
.
loc
.
y
 =ğ0 || indiv.loc.y =ğ
p
.
sizeY
 - 1;

193 ià(
	gÚEdge
) {

194  { 
	gŒue
, 1.0 };

196  { 
	gçl£
, 0.0 };

205 
	gCHALLENGE_TOUCH_ANY_WALL
:

206 ià(
šdiv
.
ch®ËngeB™s
 != 0) {

207  { 
Œue
, 1.0 };

209  { 
	gçl£
, 0.0 };

214 
	gCHALLENGE_MIGRATE_DISTANCE
:

217 
di¡ªû
 = (
šdiv
.
loc
 - indiv.
bœthLoc
).
Ëngth
();

218 
	gdi¡ªû
 = 
di¡ªû
 / ()(
¡d
::
max
(
p
.
sizeX
,….
sizeY
));

219  { 
	gŒue
, 
	gdi¡ªû
 };

223 
	gCHALLENGE_EAST_WEST_EIGHTHS
:

224  
šdiv
.
loc
.
x
 < 
p
.
sizeX
 / 8 || indiv.loc.x >= (p.sizeX -….sizeX / 8)?

225 
¡d
::
·œ
<
boŞ
, > { 
	gŒue
, 1.0 }

226 : 
¡d
::
·œ
<
boŞ
, > { 
	gçl£
, 0.0 };

229 
	gCHALLENGE_NEAR_BARRIER
:

231 
¿dius
;

233 
	g¿dius
 = 
p
.
sizeX
 / 2;

236 cÚ¡ 
	g¡d
::
veùÜ
<
CoÜd
> 
b¬r›rC’‹rs
 = 
grid
.
g‘B¬r›rC’‹rs
();

237 
	gmšDi¡ªû
 = 1e8;

238 
CoÜd
 
	gûÁ”
 : 
b¬r›rC’‹rs
) {

239 
di¡ªû
 = (
šdiv
.
loc
 - 
ûÁ”
).
Ëngth
();

240 ià(
	gdi¡ªû
 < 
	gmšDi¡ªû
) {

241 
	gmšDi¡ªû
 = 
di¡ªû
;

244 ià(
	gmšDi¡ªû
 <ğ
¿dius
) {

245  { 
Œue
, 1.0 - (
mšDi¡ªû
 / 
¿dius
) };

247  { 
	gçl£
, 0.0 };

252 
	gCHALLENGE_PAIRS
:

254 
boŞ
 
ÚEdge
 = 
šdiv
.
loc
.
x
 =ğ0 || indiv.loc.x =ğ
p
.
sizeX
 - 1

255 || 
šdiv
.
loc
.
y
 =ğ0 || indiv.loc.y =ğ
p
.
sizeY
 - 1;

257 ià(
	gÚEdge
) {

258  { 
	gçl£
, 0.0 };

261 
	gcouÁ
 = 0;

262 
št16_t
 
	gx
 = 
šdiv
.
loc
.
x
 - 1; x < 
	gšdiv
.
	gloc
.x + 1; ++x) {

263 
št16_t
 
	gy
 = 
šdiv
.
loc
.
y
 - 1; y < 
	gšdiv
.
	gloc
.y + 1; ++y) {

264 
CoÜd
 
	goc
 = { 
x
, 
y
 };

265 ià(
	goc
 !ğ
šdiv
.
loc
 && 
grid
.
isInBounds
(
oc
è&& grid.
isOccup›dAt
(tloc)) {

266 ++
couÁ
;

267 ià(
	gcouÁ
 == 1) {

268 
št16_t
 
x1
 = 
oc
.
x
 - 1; 
	gx1
 < 
	goc
.
	gx
 + 1; ++x1) {

269 
št16_t
 
	gy1
 = 
oc
.
y
 - 1; y1 < 
	goc
.
	gy
 + 1; ++y1) {

270 
CoÜd
 
	goc1
 = { 
x1
, 
y1
 };

271 ià(
	goc1
 !ğ
oc
 && 
oc1
 !ğ
šdiv
.
loc
 && 
grid
.
isInBounds
Ñloc1è&& grid.
isOccup›dAt
(tloc1)) {

272  { 
çl£
, 0.0 };

277  { 
	gçl£
, 0.0 };

282 ià(
	gcouÁ
 == 1) {

283  { 
Œue
, 1.0 };

285  { 
	gçl£
, 0.0 };

292 
	gCHALLENGE_LOCATION_SEQUENCE
:

294 
couÁ
 = 0;

295 
	gb™s
 = 
šdiv
.
ch®ËngeB™s
;

296 
	gmaxNumb”OfB™s
 = (
b™s
) * 8;

298 
	gn
 = 0;‚ < 
	gmaxNumb”OfB™s
; ++n) {

299 ià((
	gb™s
 & (1 << 
	gn
)) != 0) {

300 ++
couÁ
;

303 ià(
	gcouÁ
 > 0) {

304  { 
	gŒue
, 
	gcouÁ
 / ()
	gmaxNumb”OfB™s
 };

306  { 
	gçl£
, 0.0 };

312 
	gCHALLENGE_ALTRUISM_SACRIFICE
:

315 
¿dius
 = 
p
.
sizeX
 / 4.0;

318 
	gdi¡ªû
 = (
CoÜd
(
p
.
sizeX
 -….sizeX / 4,….
sizeY
 -….sizeY / 4è- 
	gšdiv
.
	gloc
).
Ëngth
();

319 ià(
	gdi¡ªû
 <ğ
¿dius
) {

320  { 
Œue
, (
¿dius
 - 
di¡ªû
) /„adius };

322  { 
	gçl£
, 0.0 };

328 
	gCHALLENGE_ALTRUISM
:

330 
CoÜd
 
§ãC’‹r
 { (
št16_t
)(
p
.
sizeX
 / 4.0), (
	gšt16_t
)(
	gp
.
	gsizeY
 / 4.0) };

331 
	g¿dius
 = 
p
.
sizeX
 / 4.0;

333 
CoÜd
 
	goff£t
 = 
§ãC’‹r
 - 
šdiv
.
loc
;

334 
	gdi¡ªû
 = 
off£t
.
Ëngth
();

335  
	gdi¡ªû
 <ğ
¿dius
 ?

336 
¡d
::
·œ
<
boŞ
, > { 
	gŒue
, (
	g¿dius
 - 
	gdi¡ªû
) /„adius }

337 : 
¡d
::
·œ
<
boŞ
, > { 
	gçl£
, 0.0 };

341 
as£¹
(
çl£
);

	@unitTestBasicTypes.cpp

5 
	~<ÿs£¹
>

6 
	~<cm©h
>

7 
	~"basicTy³s.h
"

9 
Çme¥aû
 
	gBS
 {

13 
boŞ
 
¬eClo£f
(
a
, 
b
)

15  
	g¡d
::
abs
(
a
 - 
b
) < 0.0001;

19 
boŞ
 
un™Te¡BasicTy³s
()

26 
Dœ
 
	gd1
 = Dœ(
Com·ss
::
N
);

27 
Dœ
 
	gd2
 = Dœ(
Com·ss
::
CENTER
);

28 
	gd1
 = 
d2
;

29 
as£¹
(
d1
.
asIÁ
(è=ğ()
Com·ss
::
CENTER
);

30 
	gd1
 = 
Dœ
(
Com·ss
::
SW
);

31 
as£¹
(
d1
.
asIÁ
() == 0);

32 
	gd1
 = 
Dœ
(
Com·ss
::
S
);

33 
as£¹
(
d1
.
asIÁ
() == 1);

34 
	gd1
 = 
Dœ
(
Com·ss
::
SE
);

35 
as£¹
(
d1
.
asIÁ
() == 2);

36 
	gd1
 = 
Dœ
(
Com·ss
::
W
);

37 
as£¹
(
d1
.
asIÁ
() == 3);

38 
	gd1
 = 
Dœ
(
Com·ss
::
CENTER
);

39 
as£¹
(
d1
.
asIÁ
() == 4);

40 
	gd1
 = 
Dœ
(
Com·ss
::
E
);

41 
as£¹
(
d1
.
asIÁ
() == 5);

42 
	gd1
 = 
Dœ
(
Com·ss
::
NW
);

43 
as£¹
(
d1
.
asIÁ
() == 6);

44 
	gd1
 = 
Dœ
(
Com·ss
::
N
);

45 
as£¹
(
d1
.
asIÁ
() == 7);

46 
	gd1
 = 
Dœ
(
Com·ss
::
NE
);

47 
as£¹
(
d1
.
asIÁ
() == 8);

49 
as£¹
(
Dœ
(
Com·ss
::
SW
).
asIÁ
() == 0);

50 
as£¹
(
Dœ
(
Com·ss
::
S
).
asIÁ
() == 1);

51 
as£¹
(
Dœ
(
Com·ss
::
SE
).
asIÁ
() == 2);

52 
as£¹
(
Dœ
(
Com·ss
::
W
).
asIÁ
() == 3);

53 
as£¹
(
Dœ
(
Com·ss
::
CENTER
).
asIÁ
() == 4);

54 
as£¹
(
Dœ
(
Com·ss
::
E
).
asIÁ
() == 5);

55 
as£¹
(
Dœ
(
Com·ss
::
NW
).
asIÁ
() == 6);

56 
as£¹
(
Dœ
(
Com·ss
::
N
).
asIÁ
() == 7);

57 
as£¹
(
Dœ
(
Com·ss
::
NE
).
asIÁ
() == 8);

58 
as£¹
(
Dœ
((
Com·ss
)8).
asIÁ
() == 8);

59 
as£¹
(
Dœ
((
Com·ss
)((Dœ((Com·ss)8)).
asIÁ
())).asInt() == 8);

60 
as£¹
(
Dœ
((
Com·ss
)(Dœ(Com·ss::
NE
).
asIÁ
())).asInt() == 8);

61 
	gd2
 = 
Com·ss
::
E
;

62 
	gd1
 = 
d2
;

63 
as£¹
(
d1
.
asIÁ
() == 5);

64 
	gd2
 = 
d1
;

65 
as£¹
(
d1
.
asIÁ
() == 5);

68 
	gd1
 = 
Com·ss
::
SW
;

69 
as£¹
(
d1
.
asIÁ
() == 0);

70 
	gd1
 = 
Com·ss
::
SE
;

71 
as£¹
(
d1
.
asIÁ
() == 2);

74 
	gd1
 = 
Com·ss
::
CENTER
;

75 
as£¹
(
d1
 =ğ
Com·ss
::
CENTER
);

76 
	gd1
 = 
Com·ss
::
SE
;

77 
as£¹
(
d1
 =ğ
Com·ss
::
SE
);

78 
as£¹
(
Dœ
(
Com·ss
::
W
) == Compass::W);

79 
as£¹
(
Dœ
(
Com·ss
::
W
è!ğCom·ss::
NW
);

82 
	gd1
 = 
Com·ss
::
N
;

83 
	gd2
 = 
Com·ss
::
N
;

84 
as£¹
(
d1
 =ğ
d2
);

85 
as£¹
(
d2
 =ğ
d1
);

86 
	gd1
 = 
Com·ss
::
NE
;

87 
as£¹
(
d1
 !ğ
d2
);

88 
as£¹
(
d2
 !ğ
d1
);

91 
as£¹
(
d1
.
rÙ©e
(1è=ğ
Com·ss
::
E
);

92 
as£¹
(
d1
.
rÙ©e
(2è=ğ
Com·ss
::
SE
);

93 
as£¹
(
d1
.
rÙ©e
(-1è=ğ
Com·ss
::
N
);

94 
as£¹
(
d1
.
rÙ©e
(-2è=ğ
Com·ss
::
NW
);

95 
as£¹
(
Dœ
(
Com·ss
::
N
).
rÙ©e
(1è=ğ
d1
);

96 
as£¹
(
Dœ
(
Com·ss
::
SW
).
rÙ©e
(-2è=ğCom·ss::
SE
);

99 
CoÜd
 
	gc1
 = 
Dœ
(
Com·ss
::
CENTER
).
asNÜm®izedCoÜd
();

100 
as£¹
(
c1
.
x
 =ğ0 && c1.
y
 == 0);

101 
	gd1
 = 
Com·ss
::
SW
;

102 
	gc1
 = 
d1
.
asNÜm®izedCoÜd
();

103 
as£¹
(
c1
.
x
 =ğ-1 && c1.
y
 == -1);

104 
	gc1
 = 
Dœ
(
Com·ss
::
S
).
asNÜm®izedCoÜd
();

105 
as£¹
(
c1
.
x
 =ğ0 && c1.
y
 == -1);

106 
	gc1
 = 
Dœ
(
Com·ss
::
SE
).
asNÜm®izedCoÜd
();

107 
as£¹
(
c1
.
x
 =ğ1 && c1.
y
 == -1);

108 
	gc1
 = 
Dœ
(
Com·ss
::
W
).
asNÜm®izedCoÜd
();

109 
as£¹
(
c1
.
x
 =ğ-1 && c1.
y
 == 0);

110 
	gc1
 = 
Dœ
(
Com·ss
::
E
).
asNÜm®izedCoÜd
();

111 
as£¹
(
c1
.
x
 =ğ1 && c1.
y
 == 0);

112 
	gc1
 = 
Dœ
(
Com·ss
::
NW
).
asNÜm®izedCoÜd
();

113 
as£¹
(
c1
.
x
 =ğ-1 && c1.
y
 == 1);

114 
	gc1
 = 
Dœ
(
Com·ss
::
N
).
asNÜm®izedCoÜd
();

115 
as£¹
(
c1
.
x
 =ğ0 && c1.
y
 == 1);

116 
	gc1
 = 
Dœ
(
Com·ss
::
NE
).
asNÜm®izedCoÜd
();

117 
as£¹
(
c1
.
x
 =ğ1 && c1.
y
 == 1);

120 
	gd1
 = 
Com·ss
::
SW
;

121 
PŞ¬
 
	gp1
 = 
d1
.
asNÜm®izedPŞ¬
();

122 
as£¹
(
p1
.
mag
 =ğ1 &&…1.
dœ
 =ğ
Com·ss
::
SW
);

123 
	gp1
 = 
Dœ
(
Com·ss
::
S
).
asNÜm®izedPŞ¬
();

124 
as£¹
(
p1
.
mag
 =ğ1 &&…1.
dœ
 =ğ
Com·ss
::
S
);

125 
	gp1
 = 
Dœ
(
Com·ss
::
SE
).
asNÜm®izedPŞ¬
();

126 
as£¹
(
p1
.
mag
 =ğ1 &&…1.
dœ
 =ğ
Com·ss
::
SE
);

127 
	gp1
 = 
Dœ
(
Com·ss
::
W
).
asNÜm®izedPŞ¬
();

128 
as£¹
(
p1
.
mag
 =ğ1 &&…1.
dœ
 =ğ
Com·ss
::
W
);

129 
	gp1
 = 
Dœ
(
Com·ss
::
E
).
asNÜm®izedPŞ¬
();

130 
as£¹
(
p1
.
mag
 =ğ1 &&…1.
dœ
 =ğ
Com·ss
::
E
);

131 
	gp1
 = 
Dœ
(
Com·ss
::
NW
).
asNÜm®izedPŞ¬
();

132 
as£¹
(
p1
.
mag
 =ğ1 &&…1.
dœ
 =ğ
Com·ss
::
NW
);

133 
	gp1
 = 
Dœ
(
Com·ss
::
N
).
asNÜm®izedPŞ¬
();

134 
as£¹
(
p1
.
mag
 =ğ1 &&…1.
dœ
 =ğ
Com·ss
::
N
);

135 
	gp1
 = 
Dœ
(
Com·ss
::
NE
).
asNÜm®izedPŞ¬
();

136 
as£¹
(
p1
.
mag
 =ğ1 &&…1.
dœ
 =ğ
Com·ss
::
NE
);

140 
	gc1
 = 
CoÜd
();

141 
as£¹
(
c1
.
x
 =ğ0 && c1.
y
 == 0);

142 
	gc1
 = 
CoÜd
(1, 1);

143 
as£¹
(
c1
.
x
 =ğ1 && c1.
y
 == 1);

144 
	gc1
 = 
CoÜd
(-6, 12);

145 
as£¹
(
c1
.
x
 =ğ-6 && c1.
y
 == 12);

148 
CoÜd
 
	gc2
 = Coord(9, 101);

149 
as£¹
(
c2
.
x
 =ğ9 && c2.
y
 == 101);

150 
	gc1
 = 
c2
;

151 
as£¹
(
c1
.
x
 =ğ9 && 
c2
.
y
 == 101);

154 
as£¹
(!
c1
.
isNÜm®ized
());

155 
as£¹
(
CoÜd
(0, 0).
isNÜm®ized
());

156 
as£¹
(
CoÜd
(0, 1).
isNÜm®ized
());

157 
as£¹
(
CoÜd
(1, 1).
isNÜm®ized
());

158 
as£¹
(
CoÜd
(-1, 0).
isNÜm®ized
());

159 
as£¹
(
CoÜd
(-1, -1).
isNÜm®ized
());

160 
as£¹
(!
CoÜd
(0, 2).
isNÜm®ized
());

161 
as£¹
(!
CoÜd
(1, 2).
isNÜm®ized
());

162 
as£¹
(!
CoÜd
(-1, 2).
isNÜm®ized
());

163 
as£¹
(!
CoÜd
(-2, 0).
isNÜm®ized
());

167 
	gc1
 = 
CoÜd
(0, 0);

168 
	gc2
 = 
c1
.
nÜm®ize
();

169 
as£¹
(
c2
.
x
 =ğ0 && c2.
y
 == 0);

170 
as£¹
(
c2
.
asDœ
(è=ğ
Com·ss
::
CENTER
);

171 
	gc1
 = 
CoÜd
(0, 1).
nÜm®ize
();

172 
as£¹
(
c1
.
x
 =ğ0 && c1.
y
 == 1);

173 
as£¹
(
c1
.
asDœ
(è=ğ
Com·ss
::
N
);

174 
	gc1
 = 
CoÜd
(-1, 1).
nÜm®ize
();

175 
as£¹
(
c1
.
x
 =ğ-1 && c1.
y
 == 1);

176 
as£¹
(
c1
.
asDœ
(è=ğ
Com·ss
::
NW
);

177 
	gc1
 = 
CoÜd
(100, 5).
nÜm®ize
();

178 
as£¹
(
c1
.
x
 =ğ1 && c1.
y
 == 0);

179 
as£¹
(
c1
.
asDœ
(è=ğ
Com·ss
::
E
);

180 
	gc1
 = 
CoÜd
(100, 105).
nÜm®ize
();

181 
as£¹
(
c1
.
x
 =ğ1 && c1.
y
 == 1);

182 
as£¹
(
c1
.
asDœ
(è=ğ
Com·ss
::
NE
);

183 
	gc1
 = 
CoÜd
(-5, 101).
nÜm®ize
();

184 
as£¹
(
c1
.
x
 =ğ0 && c1.
y
 == 1);

185 
as£¹
(
c1
.
asDœ
(è=ğ
Com·ss
::
N
);

186 
	gc1
 = 
CoÜd
(-500, 10).
nÜm®ize
();

187 
as£¹
(
c1
.
x
 =ğ-1 && c1.
y
 == 0);

188 
as£¹
(
c1
.
asDœ
(è=ğ
Com·ss
::
W
);

189 
	gc1
 = 
CoÜd
(-500, -490).
nÜm®ize
();

190 
as£¹
(
c1
.
x
 =ğ-1 && c1.
y
 == -1);

191 
as£¹
(
c1
.
asDœ
(è=ğ
Com·ss
::
SW
);

192 
	gc1
 = 
CoÜd
(-1, -490).
nÜm®ize
();

193 
as£¹
(
c1
.
x
 =ğ0 && c1.
y
 == -1);

194 
as£¹
(
c1
.
asDœ
(è=ğ
Com·ss
::
S
);

195 
	gc1
 = 
CoÜd
(1101, -1090).
nÜm®ize
();

196 
as£¹
(
c1
.
x
 =ğ1 && c1.
y
 == -1);

197 
as£¹
(
c1
.
asDœ
(è=ğ
Com·ss
::
SE
);

198 
	gc1
 = 
CoÜd
(1101, -3).
nÜm®ize
();

199 
as£¹
(
c1
.
x
 =ğ1 && c1.
y
 == 0);

200 
as£¹
(
c1
.
asDœ
(è=ğ
Com·ss
::
E
);

203 
as£¹
(
CoÜd
(0, 0).
Ëngth
() == 0);

204 
as£¹
(
CoÜd
(0, 1).
Ëngth
() == 1);

205 
as£¹
(
CoÜd
(-1, 0).
Ëngth
() == 1);

206 
as£¹
(
CoÜd
(-1, -1).
Ëngth
() == 1);

207 
as£¹
(
CoÜd
(22, 0).
Ëngth
() == 22);

208 
as£¹
(
CoÜd
(22, 22).
Ëngth
() == 31);

209 
as£¹
(
CoÜd
(10, -10).
Ëngth
() == 14);

210 
as£¹
(
CoÜd
(-310, 0).
Ëngth
() == 310);

213 
	gp1
 = 
CoÜd
(0, 0).
asPŞ¬
();

214 
as£¹
(
p1
.
mag
 =ğ0 &&…1.
dœ
 =ğ
Com·ss
::
CENTER
);

215 
	gp1
 = 
CoÜd
(0, 1).
asPŞ¬
();

216 
as£¹
(
p1
.
mag
 =ğ1 &&…1.
dœ
 =ğ
Com·ss
::
N
);

217 
	gp1
 = 
CoÜd
(-10, -10).
asPŞ¬
();

218 
as£¹
(
p1
.
mag
 =ğ14 &&…1.
dœ
 =ğ
Com·ss
::
SW
);

219 
	gp1
 = 
CoÜd
(100, 1).
asPŞ¬
();

220 
as£¹
(
p1
.
mag
 =ğ100 &&…1.
dœ
 =ğ
Com·ss
::
E
);

223 
	gc1
 = 
CoÜd
(0, 0) + Coord(6, 8);

224 
as£¹
(
c1
.
x
 =ğ6 && c1.
y
 == 8);

225 
	gc1
 = 
CoÜd
(-70, 20) + Coord(10, -10);

226 
as£¹
(
c1
.
x
 =ğ-60 && c1.
y
 == 10);

227 
	gc1
 = 
CoÜd
(-70, 20) - Coord(10, -10);

228 
as£¹
(
c1
.
x
 =ğ-80 && c1.
y
 == 30);

231 
	gc1
 = 
CoÜd
(0, 0) * 1;

232 
as£¹
(
c1
.
x
 =ğ0 && c1.
y
 == 0);

233 
	gc1
 = 
CoÜd
(1, 1) * -5;

234 
as£¹
(
c1
.
x
 =ğ-5 && c1.
y
 == -5);

235 
	gc1
 = 
CoÜd
(11, 5) * -5;

236 
as£¹
(
c1
.
x
 =ğ-55 && c1.
y
 == -25);

239 
	gc1
 = 
CoÜd
(0, 0);

240 
	gc2
 = 
c1
 + 
Dœ
(
Com·ss
::
CENTER
);

241 
as£¹
(
c2
.
x
 =ğ0 && c2.
y
 == 0);

242 
	gc2
 = 
c1
 + 
Dœ
(
Com·ss
::
E
);

243 
as£¹
(
c2
.
x
 =ğ1 && c2.
y
 == 0);

244 
	gc2
 = 
c1
 + 
Dœ
(
Com·ss
::
W
);

245 
as£¹
(
c2
.
x
 =ğ-1 && c2.
y
 == 0);

246 
	gc2
 = 
c1
 + 
Dœ
(
Com·ss
::
SW
);

247 
as£¹
(
c2
.
x
 =ğ-1 && c2.
y
 == -1);

249 
	gc2
 = 
c1
 - 
Dœ
(
Com·ss
::
CENTER
);

250 
as£¹
(
c2
.
x
 =ğ0 && c2.
y
 == 0);

251 
	gc2
 = 
c1
 - 
Dœ
(
Com·ss
::
E
);

252 
as£¹
(
c2
.
x
 =ğ-1 && c2.
y
 == 0);

253 
	gc2
 = 
c1
 - 
Dœ
(
Com·ss
::
W
);

254 
as£¹
(
c2
.
x
 =ğ1 && c2.
y
 == 0);

255 
	gc2
 = 
c1
 - 
Dœ
(
Com·ss
::
SW
);

256 
as£¹
(
c2
.
x
 =ğ1 && c2.
y
 == 1);

259 
	gc1
 = 
CoÜd
 { 0, 0 };

260 
	gc2
 = 
CoÜd
 { 10, 11 };

261 
	gd1
 = 
Com·ss
::
CENTER
;

262 
as£¹
(
c1
.
¿ySam’ess
(
c2
) == 1.0);

263 
as£¹
(
c2
.
¿ySam’ess
(
c1
) == 1.0);

264 
as£¹
(
c2
.
¿ySam’ess
(
d1
) == 1.0);

265 
	gc1
 = 
c2
;

266 
as£¹
(
c1
.
¿ySam’ess
(
c2
) == 1.0);

267 
as£¹
(
¬eClo£f
(
CoÜd
(-10,-10).
¿ySam’ess
(Coord(10,10)), -1.0));

268 
	gc1
 = 
CoÜd
{0,11};

269 
	gc2
 = 
CoÜd
{20,0};

270 
as£¹
(
¬eClo£f
(
c1
.
¿ySam’ess
(
c2
), 0.0));

271 
as£¹
(
¬eClo£f
(
c2
.
¿ySam’ess
(
c1
), 0.0));

272 
	gc1
 = 
CoÜd
{0,444};

273 
	gc2
 = 
CoÜd
{113,113};

274 
as£¹
(
¬eClo£f
(
c1
.
¿ySam’ess
(
c2
), 0.707106781));

275 
	gc2
 = 
CoÜd
{113,-113};

276 
as£¹
(
¬eClo£f
(
c1
.
¿ySam’ess
(
c2
), -0.707106781));

280 
	gp1
 = 
PŞ¬
();

281 
as£¹
(
p1
.
mag
 =ğ0 &&…1.
dœ
 =ğ
Com·ss
::
CENTER
);

282 
	gp1
 = 
PŞ¬
(0, 
Com·ss
::
S
);

283 
as£¹
(
p1
.
mag
 =ğ0 &&…1.
dœ
 =ğ
Com·ss
::
S
);

284 
	gp1
 = 
PŞ¬
(10, 
Com·ss
::
SE
);

285 
as£¹
(
p1
.
mag
 =ğ10 &&…1.
dœ
 =ğ
Com·ss
::
SE
);

286 
	gp1
 = 
PŞ¬
(-10, 
Com·ss
::
NW
);

287 
as£¹
(
p1
.
mag
 =ğ-10 &&…1.
dœ
 =ğ
Com·ss
::
NW
);

290 
	gc1
 = 
PŞ¬
(0, 
Com·ss
::
CENTER
).
asCoÜd
();

291 
as£¹
(
c1
.
x
 =ğ0 && c1.
y
 == 0);

292 
	gc1
 = 
PŞ¬
(10, 
Com·ss
::
CENTER
).
asCoÜd
();

293 
as£¹
(
c1
.
x
 =ğ0 && c1.
y
 == 0);

294 
	gc1
 = 
PŞ¬
(20, 
Com·ss
::
N
).
asCoÜd
();

295 
as£¹
(
c1
.
x
 =ğ0 && c1.
y
 == 20);

297 
	gp1
 = 
PŞ¬
(12, 
Com·ss
::
W
);

298 
	gc1
 = 
p1
.
asCoÜd
();

299 
as£¹
(
c1
.
x
 =ğ-12 && c1.
y
 == 0);

300 
	gc1
 = 
PŞ¬
(14, 
Com·ss
::
NE
).
asCoÜd
();

301 
as£¹
(
c1
.
x
 =ğ10 && c1.
y
 == 10);

302 
	gc1
 = 
PŞ¬
(-14, 
Com·ss
::
NE
).
asCoÜd
();

303 
as£¹
(
c1
.
x
 =ğ-10 && c1.
y
 == -10);

304 
	gc1
 = 
PŞ¬
(14, 
Com·ss
::
E
).
asCoÜd
();

305 
as£¹
(
c1
.
x
 =ğ14 && c1.
y
 == 0);

306 
	gc1
 = 
PŞ¬
(-14, 
Com·ss
::
E
).
asCoÜd
();

307 
as£¹
(
c1
.
x
 =ğ-14 && c1.
y
 == 0);

309  
	gŒue
;

	@unitTestConnectNeuralNetWiringFromGenome.cpp

3 
	~<io¡»am
>

4 
	~"simuÏtÜ.h
"

6 
Çme¥aû
 
	gBS
 {

8 
un™Te¡CÚÃùNeu¿lN‘WœšgFromG’ome
()

10 
Indiv
 
	gšdiv
;

11 
G’ome
 
	gg’ome1
 {

26 
	gšdiv
.
	gg’ome
 = { 
g’ome1
 };

28 
	gšdiv
.
ü—‹WœšgFromG’ome
();

30 autØ& 
	gcÚn
 : 
šdiv
.
Â‘
.
cÚÃùiÚs
) {

31 
¡d
::
cout
 << (
cÚn
.
sourûTy³
 =ğ
SENSOR
 ? "SENSOR" : "NEURON") << " "

32 << 
cÚn
.
sourûNum
 << " -> "

33 << (
cÚn
.
sškTy³
 =ğ
ACTION
 ? "ACTION" : "NEURON") << " "

34 << 
cÚn
.
sškNum
 << "‡ˆ" << cÚn.
weight
 << 
¡d
::
’dl
;

	@unitTestGridVisitNeighborhood.cpp

3 
	~<io¡»am
>

4 
	~"simuÏtÜ.h
"

6 
Çme¥aû
 
	gBS
 {

8 
un™Te¡GridVis™NeighbÜhood
()

11 autØ
	g´štLoc
 = [&](
CoÜd
 
loc
){ 
¡d
::
cout
 <<†oc.
x
 << ", " <<†oc.
y
 << std::
’dl
; };

13 
	g¡d
::
cout
 << "Te¡†oø10,10„adiu 1" << 
¡d
::
’dl
;

14 
vis™NeighbÜhood
(
CoÜd
 { 10, 10 }, 1.0, 
´štLoc
);

16 
	g¡d
::
cout
 << "\nTe¡†oø0,0„adiu 1" << 
¡d
::
’dl
;

17 
vis™NeighbÜhood
(
CoÜd
 { 0, 0 }, 1.0, 
´štLoc
);

19 
	g¡d
::
cout
 << "\nTe¡†oø10,10„adiu 1.4" << 
¡d
::
’dl
;

20 
vis™NeighbÜhood
(
CoÜd
 { 10, 10 }, 1.4, 
´štLoc
);

22 
	g¡d
::
cout
 << "\nTe¡†oø10,10„adiu 1.5" << 
¡d
::
’dl
;

23 
vis™NeighbÜhood
(
CoÜd
 { 10, 10 }, 1.5, 
´štLoc
);

25 
	g¡d
::
cout
 << "\nTe¡†oø1,1„adiu 1.4" << 
¡d
::
’dl
;

26 
vis™NeighbÜhood
(
CoÜd
 { 1, 1 }, 1.4, 
´štLoc
);

28 
	g¡d
::
cout
 << "\nTe¡†oø10,10„adiu 2.0" << 
¡d
::
’dl
;

29 
vis™NeighbÜhood
(
CoÜd
 { 10, 10 }, 2.0, 
´štLoc
);

31 
	g¡d
::
cout
 << "\nTe¡†oøp.sizeX-1,….sizeY-1„adiu 2.0" << 
¡d
::
’dl
;

32 
vis™NeighbÜhood
(
CoÜd
 { (
št16_t
)(
p
.
sizeX
-1), (št16_t)Õ.
sizeY
-1è}, 2.0, 
´štLoc
);

	@/usr/include/CImg.h

56 #iâdeà
cimg_v”siÚ


57 
	#cimg_v”siÚ
 294

	)

73 
	~<c¡dio
>

74 
	~<c¡dlib
>

75 
	~<c¡d¬g
>

76 
	~<c¡ršg
>

77 
	~<cm©h
>

78 
	~<cæßt
>

79 
	~<şim™s
>

80 
	~<ùime
>

81 
	~<exû±iÚ
>

82 
	~<®gÜ™hm
>

90 #iâdeà
cimg_OS


91 #ià
defšed
(
unix
è|| defšed(
__unix
è|| defšed(
__unix__
) \

92 || 
defšed
(
lšux
è|| defšed(
__lšux
è|| defšed(
__lšux__
) \

93 || 
defšed
(
sun
è|| defšed(
__sun
) \

94 || 
defšed
(
BSD
è|| defšed(
__O³nBSD__
è|| defšed(
__N‘BSD__
) \

95 || 
defšed
(
__F»eBSD__
è|| defšed (
__D¿gÚFly__
) \

96 || 
defšed
(
sgi
è|| defšed(
__sgi
) \

97 || 
defšed
(
__MACOSX__
è|| defšed(
__APPLE__
) \

98 || 
	$defšed
(
__CYGWIN__
)

99 
	#cimg_OS
 1

	)

100 #–ià
	`defšed
(
_MSC_VER
è|| defšed(
WIN32
è|| defšed(
_WIN32
è|| defšed(
__WIN32__
) \

101 || 
	`defšed
(
WIN64
è|| defšed(
_WIN64
è|| 
	$defšed
(
__WIN64__
)

102 
	#cimg_OS
 2

	)

104 
	#cimg_OS
 0

	)

106 #–ià!(
cimg_OS
==0 || cimg_OS==1 || cimg_OS==2)

107 #”rÜ 
CImg
 
Lib¿ry
: 
Inv®id
 
cÚfigu¿tiÚ
 
v¬ŸbË
 'cimg_OS'.

108 #”rÜ (
cÜ»ù
 
v®ues
 
¬e
 '0 = unknown OS', '1 = Unix-like OS', '2 = Microsoft Windows').

110 #iâdeà
cimg_d©e


111 
	#cimg_d©e
 
__DATE__


	)

113 #iâdeà
cimg_time


114 
	#cimg_time
 
__TIME__


	)

118 #ifdeà
_MSC_VER


119 #´agm¨
	`w¬nšg
(
push
)

120 #´agm¨
	`w¬nšg
(
di§bË
:4127)

121 #´agm¨
	`w¬nšg
(
di§bË
:4244)

122 #´agm¨
	`w¬nšg
(
di§bË
:4311)

123 #´agm¨
	`w¬nšg
(
di§bË
:4312)

124 #´agm¨
	`w¬nšg
(
di§bË
:4319)

125 #´agm¨
	`w¬nšg
(
di§bË
:4512)

126 #´agm¨
	`w¬nšg
(
di§bË
:4571)

127 #´agm¨
	`w¬nšg
(
di§bË
:4640)

128 #´agm¨
	`w¬nšg
(
di§bË
:4706)

129 #´agm¨
	`w¬nšg
(
di§bË
:4710)

130 #´agm¨
	`w¬nšg
(
di§bË
:4800)

131 #´agm¨
	`w¬nšg
(
di§bË
:4804)

132 #´agm¨
	`w¬nšg
(
di§bË
:4820)

133 #´agm¨
	`w¬nšg
(
di§bË
:4996)

135 #iâdeà
_CRT_SECURE_NO_DEPRECATE


136 
	#_CRT_SECURE_NO_DEPRECATE
 1

	)

138 #iâdeà
_CRT_SECURE_NO_WARNINGS


139 
	#_CRT_SECURE_NO_WARNINGS
 1

	)

141 #iâdeà
_CRT_NONSTDC_NO_DEPRECATE


142 
	#_CRT_NONSTDC_NO_DEPRECATE
 1

	)

147 #ià
cimg_OS
==2 && 
	`defšed
(
_MSC_VER
)

148 
	#cimg_ssÿnf
 
¡d
::
ssÿnf


	)

149 
	#cimg_¥rštf
 
¡d
::
¥rštf


	)

150 
	#cimg_¢´štf
 
cimg
::
_¢´štf


	)

151 
	#cimg_v¢´štf
 
cimg
::
_v¢´štf


	)

153 
	~<¡dio.h
>

154 #ià
	`defšed
(
__MACOSX__
è|| defšed(
__APPLE__
)

155 
	#cimg_ssÿnf
 
cimg
::
_ssÿnf


	)

156 
	#cimg_¥rštf
 
cimg
::
_¥rštf


	)

157 
	#cimg_¢´štf
 
cimg
::
_¢´štf


	)

158 
	#cimg_v¢´štf
 
cimg
::
_v¢´štf


	)

160 
	#cimg_ssÿnf
 
¡d
::
ssÿnf


	)

161 
	#cimg_¥rštf
 
¡d
::
¥rštf


	)

162 
	#cimg_¢´štf
 
¢´štf


	)

163 
	#cimg_v¢´štf
 
v¢´štf


	)

168 #ià
cimg_OS
==1

169 
	~<sys/ty³s.h
>

170 
	~<sys/time.h
>

171 
	~<sys/¡©.h
>

172 
	~<uni¡d.h
>

173 
	~<dœ’t.h
>

174 
	~<âm©ch.h
>

175 #–ià
cimg_OS
==2

176 #iâdeà
NOMINMAX


177 
	#NOMINMAX


	)

179 #iâdeà
WIN32_LEAN_AND_MEAN


180 
	#WIN32_LEAN_AND_MEAN


	)

182 
	~<wšdows.h
>

183 #iâdeà
_WIN32_IE


184 
	#_WIN32_IE
 0x0400

	)

186 
	~<shlobj.h
>

187 
	~<´oûss.h
>

188 
	~<io.h
>

189 ’um {
FALSE_WIN
 = 0};

193 #iâdeà
cimg_u£_ıp11


194 #ià
__ılu¥lus
>201100

195 
	#cimg_u£_ıp11
 1

	)

197 
	#cimg_u£_ıp11
 0

	)

200 #ià
cimg_u£_ıp11
==1

201 
	~<š™Ÿliz”_li¡
>

202 
	~<ut™y
>

206 #ifdeà
_MSC_VER


207 
	#cimg_´agma
(
x
è
	`__´agma
(x)

	)

209 
	#cimg_´agma
(
x
è
	`_P¿gma
(#x)

	)

214 #ià
cimg_OS
==2

216 
	#cimg_ušt64
 
__št64


	)

217 
	#cimg_št64
 
__št64


	)

218 
	#cimg_ulÚg
 
UINT_PTR


	)

219 
	#cimg_lÚg
 
INT_PTR


	)

220 #ifdeà
_MSC_VER


221 
	#cimg_fušt64
 "%I64u"

	)

222 
	#cimg_fšt64
 "%I64d"

	)

224 
	#cimg_fušt64
 "%Îu"

	)

225 
	#cimg_fšt64
 "%Îd"

	)

230 #ià
UINTPTR_MAX
==0xfffffffà|| 
	`defšed
(
__¬m__
è|| defšed(
_M_ARM
è|| ((
ULONG_MAX
)==(
UINT_MAX
))

231 
	#cimg_ušt64
 

	)

232 
	#cimg_št64
 

	)

233 
	#cimg_fušt64
 "%Îu"

	)

234 
	#cimg_fšt64
 "%Îd"

	)

236 
	#cimg_ušt64
 

	)

237 
	#cimg_št64
 

	)

238 
	#cimg_fušt64
 "%lu"

	)

239 
	#cimg_fšt64
 "%ld"

	)

242 #ià
	`defšed
(
__¬m__
è|| defšed(
_M_ARM
)

243 
	#cimg_ulÚg
 

	)

244 
	#cimg_lÚg
 

	)

246 
	#cimg_ulÚg
 

	)

247 
	#cimg_lÚg
 

	)

255 #iâdeà
cimg_fe_£·¿tÜ


256 #ià
cimg_OS
==2

257 
	#cimg_fe_£·¿tÜ
 '\\'

	)

259 
	#cimg_fe_£·¿tÜ
 '/'

	)

274 #iâdeà
cimg_v”bos™y


275 #ià
cimg_OS
==2

276 
	#cimg_v”bos™y
 2

	)

278 
	#cimg_v”bos™y
 1

	)

280 #–ià!(
cimg_v”bos™y
==0 || cimg_verbosity==1 || cimg_verbosity==2 || cimg_verbosity==3 || cimg_verbosity==4)

281 #”rÜ 
CImg
 
Lib¿ry
: 
CÚfigu¿tiÚ
 
v¬ŸbË
 'cimg_v”bos™y' 
is
 
badly
 
defšed
.

282 #”rÜ (
should
 
be
 { 0=
qu›t
 | 1=
cÚsŞe
 | 2=
dŸlog
 | 3=cÚsŞe+
w¬nšgs
 | 4=dŸlog+w¬nšg 
	}
}).

292 #ià!
defšed
(
cimg_u£_İ’mp
)

293 #ifdeà
_OPENMP


294 
	#cimg_u£_İ’mp
 1

	)

296 
	#cimg_u£_İ’mp
 0

	)

299 #ià
cimg_u£_İ’mp
!=0

300 
	~<omp.h
>

301 
	#cimg_´agma_İ’mp
(
p
è
	`cimg_´agma
(
omp
…)

	)

303 
	#cimg_´agma_İ’mp
(
p
)

	)

312 #ià
defšed
(
cimg_abÜt_‹¡
è&& 
cimg_u£_İ’mp
!=0

315 #iâdeà
_cimg_abÜt_š™_İ’mp


316 
	#_cimg_abÜt_š™_İ’mp
 
boŞ
 
_cimg_abÜt_go_İ’mp
 = 
Œue
; 
cimg
::
	`unu£d
(_cimg_abÜt_go_İ’mp)

	)

318 #iâdeà
_cimg_abÜt_Œy_İ’mp


319 
	#_cimg_abÜt_Œy_İ’mp
 ià(
_cimg_abÜt_go_İ’mp
è
Œy


	)

321 #iâdeà
_cimg_abÜt_ÿtch_İ’mp


322 
	#_cimg_abÜt_ÿtch_İ’mp
 
	`ÿtch
 (
CImgAbÜtExû±iÚ
&è{ 
	`cimg_´agma
(
omp
 
©omic
è
_cimg_abÜt_go_İ’mp
&=
çl£
; }

	)

324 #iâdeà
_cimg_abÜt_ÿtch_fl_İ’mp


325 
	#_cimg_abÜt_ÿtch_fl_İ’mp
 \

326 
	`ÿtch
 (
CImgExû±iÚ
& 
e
è{ 
	`cimg_´agma
(
omp
 
	`ü™iÿl
(
abÜt
)è
CImg
<
ch¬T
>::
	`¡ršg
Ó.
_mes§ge
).
	`move_to
(
is_”rÜ
); \

327 
	`cimg_´agma
(
omp
 
©omic
è
_cimg_abÜt_go_İ’mp
&=
çl£
; }

	)

329 #ifdeà
cimg_abÜt_‹¡2


330 #iâdeà
_cimg_abÜt_Œy_İ’mp2


331 
	#_cimg_abÜt_Œy_İ’mp2
 
_cimg_abÜt_Œy_İ’mp


	)

333 #iâdeà
_cimg_abÜt_ÿtch_İ’mp2


334 
	#_cimg_abÜt_ÿtch_İ’mp2
 
_cimg_abÜt_ÿtch_İ’mp


	)

339 #iâdeà
_cimg_abÜt_š™_İ’mp


340 
	#_cimg_abÜt_š™_İ’mp


	)

342 #iâdeà
_cimg_abÜt_Œy_İ’mp


343 
	#_cimg_abÜt_Œy_İ’mp


	)

345 #iâdeà
_cimg_abÜt_ÿtch_İ’mp


346 
	#_cimg_abÜt_ÿtch_İ’mp


	)

348 #iâdeà
_cimg_abÜt_Œy_İ’mp2


349 
	#_cimg_abÜt_Œy_İ’mp2


	)

351 #iâdeà
_cimg_abÜt_ÿtch_İ’mp2


352 
	#_cimg_abÜt_ÿtch_İ’mp2


	)

354 #iâdeà
_cimg_abÜt_ÿtch_fl_İ’mp


355 
	#_cimg_abÜt_ÿtch_fl_İ’mp


	)

357 #iâdeà
cimg_abÜt_š™


358 
	#cimg_abÜt_š™


	)

360 #iâdeà
cimg_abÜt_‹¡


361 
	#cimg_abÜt_‹¡


	)

363 #iâdeà
cimg_abÜt_‹¡2


364 
	#cimg_abÜt_‹¡2


	)

372 #iâdeà
cimg_di¥Ïy


373 #ià
cimg_OS
==0

374 
	#cimg_di¥Ïy
 0

	)

375 #–ià
cimg_OS
==1

376 
	#cimg_di¥Ïy
 1

	)

377 #–ià
cimg_OS
==2

378 
	#cimg_di¥Ïy
 2

	)

380 #–ià!(
cimg_di¥Ïy
==0 || cimg_display==1 || cimg_display==2)

381 #”rÜ 
CImg
 
Lib¿ry
: 
CÚfigu¿tiÚ
 
v¬ŸbË
 'cimg_di¥Ïy' 
is
 
badly
 
defšed
.

382 #”rÜ (
should
 
be
 { 0=
nÚe
 | 1=
X
-
Wšdow
 (
X11
è| 2=
Miüosoá
 
GDI32
 }).

386 #ià
cimg_di¥Ïy
==1

387 
	~<X11/Xlib.h
>

388 
	~<X11/Xut.h
>

389 
	~<X11/keysym.h
>

390 
	~<±h»ad.h
>

391 #ifdeà
cimg_u£_xshm


392 
	~<sys/c.h
>

393 
	~<sys/shm.h
>

394 
	~<X11/ex‹nsiÚs/XShm.h
>

396 #ifdeà
cimg_u£_x¿ndr


397 
	~<X11/ex‹nsiÚs/X¿ndr.h
>

400 #iâdeà
cimg_­²ame


401 
	#cimg_­²ame
 "CImg"

	)

411 #ifdeà
cimg_u£_İ’cv


412 #ifdeà
True


413 #undeà
True


414 
	#_cimg_»defše_True


	)

416 #ifdeà
F®£


417 #undeà
F®£


418 
	#_cimg_»defše_F®£


	)

420 #ifdeà
Stus


421 #undeà
Stus


422 
	#_cimg_»defše_Stus


	)

424 
	~<c¡ddef
>

425 
	~<İ’cv2/İ’cv.hµ
>

426 #ià
CV_MAJOR_VERSION
>=3

427 
	#_cimg_fourcc
 
cv
::
VideoWr™”
::
fourcc


	)

428 
	#_cimg_ÿp_´İ_äame_width
 
cv
::
VideoC­tu»Prİ”t›s
::
CAP_PROP_FRAME_WIDTH


	)

429 
	#_cimg_ÿp_´İ_äame_height
 
cv
::
VideoC­tu»Prİ”t›s
::
CAP_PROP_FRAME_HEIGHT


	)

430 
	#_cimg_ÿp_´İ_äame_couÁ
 
cv
::
VideoC­tu»Prİ”t›s
::
CAP_PROP_FRAME_COUNT


	)

432 
	#_cimg_fourcc
 
CV_FOURCC


	)

433 
	#_cimg_ÿp_´İ_äame_width
 
CV_CAP_PROP_FRAME_WIDTH


	)

434 
	#_cimg_ÿp_´İ_äame_height
 
CV_CAP_PROP_FRAME_HEIGHT


	)

435 
	#_cimg_ÿp_´İ_äame_couÁ
 
CV_CAP_PROP_FRAME_COUNT


	)

446 #ifdeà
cimg_u£_²g


448 
	~"²g.h
"

459 #ifdeà
cimg_u£_j³g


461 
	~"j³glib.h
"

462 
	~"£tjmp.h
"

473 #ifdeà
cimg_u£_tiff


475 
	#ušt64
 
ušt64_hack_


	)

476 
	#št64
 
št64_hack_


	)

477 
	~"tiffio.h
"

478 #undeà
ušt64


479 #undeà
št64


490 #ifdeà
cimg_u£_mšc2


491 
	~"mšc_io_sim¶e_vŞume.h
"

492 
	~"mšc_1_sim¶e.h
"

493 
	~"mšc_1_sim¶e_rw.h
"

503 #ifdeà
cimg_u£_zlib


505 
	~"zlib.h
"

516 #ifdeà
cimg_u£_cu¾


517 
	~"cu¾/cu¾.h
"

527 #ifdeà
cimg_u£_magick


528 
	~"Magick++.h
"

539 #ifdeà
cimg_u£_fáw3


541 
	~"fáw3.h
"

553 #ifdeà
cimg_u£_bßrd


554 
	~"Bßrd.h
"

564 #ifdeà
cimg_u£_İ’exr


565 #ià
__GNUC__
>=5

566 #´agm¨
GCC
 
dŸgno¡ic
 
push


567 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wdeprecated"

568 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wdeprecated-copy"

569 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wshadow"

571 
	~"ImfRgbaFe.h
"

572 
	~"ImfIÅutFe.h
"

573 
	~"ImfChªÃlLi¡.h
"

574 
	~"ImfM©rixA‰ribu‹.h
"

575 
	~"ImfA¼ay.h
"

576 #ià
__GNUC__
>=5

577 #´agm¨
GCC
 
dŸgno¡ic
 
pİ


587 #ifdeà
cimg_u£_tšyexr


588 #iâdeà
TINYEXR_IMPLEMENTATION


589 
	#TINYEXR_IMPLEMENTATION


	)

591 
	~"tšyexr.h
"

601 #ifdeà
cimg_u£_Ï·ck


603 
sg‘rf_
(*, *, *, *, *, *);

604 
sg‘ri_
(*, *, *, *, *, *, *);

605 
sg‘rs_
(*, *, *, *, *, *, *, *, *);

606 
sgesvd_
(*, *, *, *, *, *, *, *, *, *, *, *, *, *);

607 
ssyev_
(*, *, *, *, *, *, *, *, *);

608 
dg‘rf_
(*, *, *, *, *, *);

609 
dg‘ri_
(*, *, *, *, *, *, *);

610 
dg‘rs_
(*, *, *, *, *, *, *, *, *);

611 
dgesvd_
(*, *, *, *, *, *, *, *,

613 
dsyev_
(*, *, *, *, *, *, *, *, *);

614 
dg–s_
(*, *,*,*,*,*,*,*,*,*,*);

615 
sg–s_
(*, *,*,*,*,*,*,*,*,*,*);

625 #ifdeà
mš


626 #undeà
mš


627 
	#_cimg_»defše_mš


	)

629 #ifdeà
max


630 #undeà
max


631 
	#_cimg_»defše_max


	)

633 #ifdeà
PI


634 #undeà
PI


635 
	#_cimg_»defše_PI


	)

642 #ifdeà
cimg_Çme¥aû_suffix


643 
	#__cimg_lib¿ry_suffixed
(
s
è
cimg_lib¿ry_
##
	)
s

644 
	#_cimg_lib¿ry_suffixed
(
s
è
	`__cimg_lib¿ry_suffixed
(s)

	)

645 
	#cimg_lib¿ry_suffixed
 
	`_cimg_lib¿ry_suffixed
(
cimg_Çme¥aû_suffix
)

	)

647 
	#cimg_lib¿ry_suffixed
 
cimg_lib¿ry


	)

660 
	#cimg_u§ge
(
u§ge
è
cimg_lib¿ry_suffixed
::
cimg
::
	`İtiÚ
((*)0,
¬gc
,
¬gv
,(*)0,u§ge,
çl£
)

	)

661 
	#cimg_h–p
(
¡r
è
cimg_lib¿ry_suffixed
::
cimg
::
	`İtiÚ
((*)0,
¬gc
,
¬gv
,¡r,(*)0)

	)

662 
	#cimg_İtiÚ
(
Çme
,
_deçuÉ
,
u§ge
è
cimg_lib¿ry_suffixed
::
cimg
::
	`İtiÚ
Òame,
¬gc
,
¬gv
,_deçuÉ,u§ge)

	)

665 
	#CImg_2x2
(
I
,
T
) T I[4]; \

666 
T
& 
I
##
cc
 = I[0]; T& I##
nc
 = I[1]; \

667 
T
& 
I
##
ú
 = I[2]; T& I##
Â
 = I[3]; \

668 
I
##
cc
 = I##
nc
 = \

669 
I
##
ú
 = I##
Â
 = 0

	)

671 
	#CImg_3x3
(
I
,
T
) T I[9]; \

672 
T
& 
I
##
µ
 = I[0]; T& I##
ı
 = I[1]; T& I##
Å
 = I[2]; \

673 
T
& 
I
##
pc
 = I[3]; T& I##
cc
 = I[4]; T& I##
nc
 = I[5]; \

674 
T
& 
I
##
²
 = I[6]; T& I##
ú
 = I[7]; T& I##
Â
 = I[8]; \

675 
I
##
µ
 = I##
ı
 = I##
Å
 = \

676 
I
##
pc
 = I##
cc
 = I##
nc
 = \

677 
I
##
²
 = I##
ú
 = I##
Â
 = 0

	)

679 
	#CImg_4x4
(
I
,
T
) T I[16]; \

680 
T
& 
I
##
µ
 = I[0]; T& I##
ı
 = I[1]; T& I##
Å
 = I[2]; T& I##
­
 = I[3]; \

681 
T
& 
I
##
pc
 = I[4]; T& I##
cc
 = I[5]; T& I##
nc
 = I[6]; T& I##
ac
 = I[7]; \

682 
T
& 
I
##
²
 = I[8]; T& I##
ú
 = I[9]; T& I##
Â
 = I[10]; T& I##
ª
 = I[11]; \

683 
T
& 
I
##
·
 = I[12]; T& I##
ÿ
 = I[13]; T& I##
Ç
 = I[14]; T& I##
¯
 = I[15]; \

684 
I
##
µ
 = I##
ı
 = I##
Å
 = I##
­
 = \

685 
I
##
pc
 = I##
cc
 = I##
nc
 = I##
ac
 = \

686 
I
##
²
 = I##
ú
 = I##
Â
 = I##
ª
 = \

687 
I
##
·
 = I##
ÿ
 = I##
Ç
 = I##
¯
 = 0

	)

689 
	#CImg_5x5
(
I
,
T
) T I[25]; \

690 
T
& 
I
##
bb
 = I[0]; T& I##
pb
 = I[1]; T& I##
cb
 = I[2]; T& I##
nb
 = I[3]; T& I##
ab
 = I[4]; \

691 
T
& 
I
##
bp
 = I[5]; T& I##
µ
 = I[6]; T& I##
ı
 = I[7]; T& I##
Å
 = I[8]; T& I##
­
 = I[9]; \

692 
T
& 
I
##
bc
 = I[10]; T& I##
pc
 = I[11]; T& I##
cc
 = I[12]; T& I##
nc
 = I[13]; T& I##
ac
 = I[14]; \

693 
T
& 
I
##
bn
 = I[15]; T& I##
²
 = I[16]; T& I##
ú
 = I[17]; T& I##
Â
 = I[18]; T& I##
ª
 = I[19]; \

694 
T
& 
I
##
ba
 = I[20]; T& I##
·
 = I[21]; T& I##
ÿ
 = I[22]; T& I##
Ç
 = I[23]; T& I##
¯
 = I[24]; \

695 
I
##
bb
 = I##
pb
 = I##
cb
 = I##
nb
 = I##
ab
 = \

696 
I
##
bp
 = I##
µ
 = I##
ı
 = I##
Å
 = I##
­
 = \

697 
I
##
bc
 = I##
pc
 = I##
cc
 = I##
nc
 = I##
ac
 = \

698 
I
##
bn
 = I##
²
 = I##
ú
 = I##
Â
 = I##
ª
 = \

699 
I
##
ba
 = I##
·
 = I##
ÿ
 = I##
Ç
 = I##
¯
 = 0

	)

701 
	#CImg_2x2x2
(
I
,
T
) T I[8]; \

702 
T
& 
I
##
ccc
 = I[0]; T& I##
ncc
 = I[1]; \

703 
T
& 
I
##
úc
 = I[2]; T& I##
Âc
 = I[3]; \

704 
T
& 
I
##
cú
 = I[4]; T& I##
nú
 = I[5]; \

705 
T
& 
I
##
ún
 = I[6]; T& I##
Ân
 = I[7]; \

706 
I
##
ccc
 = I##
ncc
 = \

707 
I
##
úc
 = I##
Âc
 = \

708 
I
##
cú
 = I##
nú
 = \

709 
I
##
ún
 = I##
Ân
 = 0

	)

711 
	#CImg_3x3x3
(
I
,
T
) T I[27]; \

712 
T
& 
I
##
µp
 = I[0]; T& I##
ıp
 = I[1]; T& I##
Åp
 = I[2]; \

713 
T
& 
I
##
pı
 = I[3]; T& I##
cı
 = I[4]; T& I##
nı
 = I[5]; \

714 
T
& 
I
##
²p
 = I[6]; T& I##
úp
 = I[7]; T& I##
Âp
 = I[8]; \

715 
T
& 
I
##
µc
 = I[9]; T& I##
ıc
 = I[10]; T& I##
Åc
 = I[11]; \

716 
T
& 
I
##
pcc
 = I[12]; T& I##
ccc
 = I[13]; T& I##
ncc
 = I[14]; \

717 
T
& 
I
##
²c
 = I[15]; T& I##
úc
 = I[16]; T& I##
Âc
 = I[17]; \

718 
T
& 
I
##
µn
 = I[18]; T& I##
ın
 = I[19]; T& I##
Ån
 = I[20]; \

719 
T
& 
I
##
pú
 = I[21]; T& I##
cú
 = I[22]; T& I##
nú
 = I[23]; \

720 
T
& 
I
##
²n
 = I[24]; T& I##
ún
 = I[25]; T& I##
Ân
 = I[26]; \

721 
I
##
µp
 = I##
ıp
 = I##
Åp
 = \

722 
I
##
pı
 = I##
cı
 = I##
nı
 = \

723 
I
##
²p
 = I##
úp
 = I##
Âp
 = \

724 
I
##
µc
 = I##
ıc
 = I##
Åc
 = \

725 
I
##
pcc
 = I##
ccc
 = I##
ncc
 = \

726 
I
##
²c
 = I##
úc
 = I##
Âc
 = \

727 
I
##
µn
 = I##
ın
 = I##
Ån
 = \

728 
I
##
pú
 = I##
cú
 = I##
nú
 = \

729 
I
##
²n
 = I##
ún
 = I##
Ân
 = 0

	)

731 
	#cimg_def2x2
(
img
,
x
,
y
) \

732 
_n1
##
x
 = x<(
img
).
	`width
() - 1?x + 1:(img).width() - 1, \

733 
_n1
##
y
 = y<(
img
).
	`height
(è- 1?y + 1:(img).height(è- 1

	)

735 
	#cimg_def3x3
(
img
,
x
,
y
) \

736 
	`cimg_def2x2
(
img
,
x
,
y
); \

737 
_p1
##
x
 = x>1?x - 1:0, \

738 
_p1
##
y
 = y>1?y - 1:0

	)

740 
	#cimg_def4x4
(
img
,
x
,
y
) \

741 
	`cimg_def3x3
(
img
,
x
,
y
); \

742 
_n2
##
x
 = x<(
img
).
	`width
() - 2?x + 2:(img).width() - 1, \

743 
_n2
##
y
 = y<(
img
).
	`height
(è- 2?y + 2:(img).height(è- 1

	)

745 
	#cimg_def5x5
(
img
,
x
,
y
) \

746 
	`cimg_def4x4
(
img
,
x
,
y
); \

747 
_p2
##
x
 = x>2?x - 2:0, \

748 
_p2
##
y
 = y>2?y - 2:0

	)

750 
	#cimg_def6x6
(
img
,
x
,
y
) \

751 
	`cimg_def5x5
(
img
,
x
,
y
); \

752 
_n3
##
x
 = x<(
img
).
	`width
() - 3?x + 3:(img).width() - 1, \

753 
_n3
##
y
 = y<(
img
).
	`height
(è- 3?y + 3:(img).height(è- 1

	)

755 
	#cimg_def7x7
(
img
,
x
,
y
) \

756 
	`cimg_def6x6
(
img
,
x
,
y
); \

757 
_p3
##
x
 = x>3?x - 3:0, \

758 
_p3
##
y
 = y>3?y - 3:0

	)

760 
	#cimg_def8x8
(
img
,
x
,
y
) \

761 
	`cimg_def7x7
(
img
,
x
,
y
); \

762 
_n4
##
x
 = x<(
img
).
	`width
() - 4?x + 4:(img).width() - 1, \

763 
_n4
##
y
 = y<(
img
).
	`height
(è- 4?y + 4:(img).height(è- 1

	)

765 
	#cimg_def9x9
(
img
,
x
,
y
) \

766 
	`cimg_def8x8
(
img
,
x
,
y
); \

767 
_p4
##
x
 = x>4?x - 4:0, \

768 
_p4
##
y
 = y>4?y - 4:0

	)

770 
	#cimg_def2x2x2
(
img
,
x
,
y
,
z
) \

771 
	`cimg_def2x2
(
img
,
x
,
y
); \

772 
_n1
##
z
 = z<(
img
).
	`d•th
(è- 1?z + 1:(img).d•th(è- 1

	)

774 
	#cimg_def3x3x3
(
img
,
x
,
y
,
z
) \

775 
	`cimg_def2x2x2
(
img
,
x
,
y
,
z
); \

776 
_p1
##
x
 = x>1?x - 1:0, \

777 
_p1
##
y
 = y>1?y - 1:0, \

778 
_p1
##
z
 = z>1?z - 1:0

	)

780 
	#cimg_g‘2x2
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

781 
I
[0] = (
T
)(
img
)(
x
,
y
,
z
,
c
), I[1] = (T)(img)(
_n1
##x,y,z,c), I[2] = (T)(img)(x,_n1##y,z,c), \

782 
I
[3] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)

	)

784 
	#cimg_g‘3x3
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

785 
I
[0] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
), I[1] = (T)(img)(x,_p1##y,z,c), I[2] = (T)(img)(
_n1
##x,_p1##y,z,c), \

786 
I
[3] = (
T
)(
img
)(
_p1
##
x
,
y
,
z
,
c
), I[4] = (T)(img)(x,y,z,c), I[5] = (T)(img)(
_n1
##x,y,z,c), \

787 
I
[6] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,
z
,
c
), I[7] = (T)(img)(x,_n1##y,z,c), I[8] = (T)(img)(_n1##x,_n1##y,z,c)

	)

789 
	#cimg_g‘4x4
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

790 
I
[0] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
), I[1] = (T)(img)(x,_p1##y,z,c), I[2] = (T)(img)(
_n1
##x,_p1##y,z,c), \

791 
I
[3] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
), I[4] = (T)(img)(_p1##x,y,z,c), I[5] = (T)(img)(x,y,z,c), \

792 
I
[6] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
), I[7] = (T)(img)(
_n2
##x,y,z,c), I[8] = (T)(img)(
_p1
##x,_n1##y,z,c), \

793 
I
[9] = (
T
)(
img
)(
x
,
_n1
##
y
,
z
,
c
), I[10] = (T)(img)(_n1##x,_n1##y,z,c), I[11] = (T)(img)(
_n2
##x,_n1##y,z,c), \

794 
I
[12] = (
T
)(
img
)(
_p1
##
x
,
_n2
##
y
,
z
,
c
), I[13] = (T)(img)(x,_n2##y,z,c), I[14] = (T)(img)(
_n1
##x,_n2##y,z,c), \

795 
I
[15] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)

	)

797 
	#cimg_g‘5x5
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

798 
I
[0] = (
T
)(
img
)(
_p2
##
x
,_p2##
y
,
z
,
c
), I[1] = (T)(img)(
_p1
##x,_p2##y,z,c), I[2] = (T)(img)(x,_p2##y,z,c), \

799 
I
[3] = (
T
)(
img
)(
_n1
##
x
,
_p2
##
y
,
z
,
c
), I[4] = (T)(img)(
_n2
##x,_p2##y,z,c), I[5] = (T)(img)(_p2##x,
_p1
##y,z,c), \

800 
I
[6] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
), I[7] = (T)(img)(x,_p1##y,z,c), I[8] = (T)(img)(
_n1
##x,_p1##y,z,c), \

801 
I
[9] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
), I[10] = (T)(img)(
_p2
##x,y,z,c), I[11] = (T)(img)(_p1##x,y,z,c), \

802 
I
[12] = (
T
)(
img
)(
x
,
y
,
z
,
c
), I[13] = (T)(img)(
_n1
##x,y,z,c), I[14] = (T)(img)(
_n2
##x,y,z,c), \

803 
I
[15] = (
T
)(
img
)(
_p2
##
x
,
_n1
##
y
,
z
,
c
), I[16] = (T)(img)(
_p1
##x,_n1##y,z,c), I[17] = (T)(img)(x,_n1##y,z,c), \

804 
I
[18] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
), I[19] = (T)(img)(
_n2
##x,_n1##y,z,c), I[20] = (T)(img)(
_p2
##x,_n2##y,z,c), \

805 
I
[21] = (
T
)(
img
)(
_p1
##
x
,
_n2
##
y
,
z
,
c
), I[22] = (T)(img)(x,_n2##y,z,c), I[23] = (T)(img)(
_n1
##x,_n2##y,z,c), \

806 
I
[24] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)

	)

808 
	#cimg_g‘6x6
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

809 
I
[0] = (
T
)(
img
)(
_p2
##
x
,_p2##
y
,
z
,
c
), I[1] = (T)(img)(
_p1
##x,_p2##y,z,c), I[2] = (T)(img)(x,_p2##y,z,c), \

810 
I
[3] = (
T
)(
img
)(
_n1
##
x
,
_p2
##
y
,
z
,
c
), I[4] = (T)(img)(
_n2
##x,_p2##y,z,c), I[5] = (T)(img)(
_n3
##x,_p2##y,z,c), \

811 
I
[6] = (
T
)(
img
)(
_p2
##
x
,
_p1
##
y
,
z
,
c
), I[7] = (T)(img)(_p1##x,_p1##y,z,c), I[8] = (T)(img)(x,_p1##y,z,c), \

812 
I
[9] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
), I[10] = (T)(img)(
_n2
##x,_p1##y,z,c), I[11] = (T)(img)(
_n3
##x,_p1##y,z,c), \

813 
I
[12] = (
T
)(
img
)(
_p2
##
x
,
y
,
z
,
c
), I[13] = (T)(img)(
_p1
##x,y,z,c), I[14] = (T)(img)(x,y,z,c), \

814 
I
[15] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
), I[16] = (T)(img)(
_n2
##x,y,z,c), I[17] = (T)(img)(
_n3
##x,y,z,c), \

815 
I
[18] = (
T
)(
img
)(
_p2
##
x
,
_n1
##
y
,
z
,
c
), I[19] = (T)(img)(
_p1
##x,_n1##y,z,c), I[20] = (T)(img)(x,_n1##y,z,c), \

816 
I
[21] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
), I[22] = (T)(img)(
_n2
##x,_n1##y,z,c), I[23] = (T)(img)(
_n3
##x,_n1##y,z,c), \

817 
I
[24] = (
T
)(
img
)(
_p2
##
x
,
_n2
##
y
,
z
,
c
), I[25] = (T)(img)(
_p1
##x,_n2##y,z,c), I[26] = (T)(img)(x,_n2##y,z,c), \

818 
I
[27] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
), I[28] = (T)(img)(_n2##x,_n2##y,z,c), I[29] = (T)(img)(
_n3
##x,_n2##y,z,c), \

819 
I
[30] = (
T
)(
img
)(
_p2
##
x
,
_n3
##
y
,
z
,
c
), I[31] = (T)(img)(
_p1
##x,_n3##y,z,c), I[32] = (T)(img)(x,_n3##y,z,c), \

820 
I
[33] = (
T
)(
img
)(
_n1
##
x
,
_n3
##
y
,
z
,
c
), I[34] = (T)(img)(
_n2
##x,_n3##y,z,c), I[35] = (T)(img)(_n3##x,_n3##y,z,c)

	)

822 
	#cimg_g‘7x7
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

823 
I
[0] = (
T
)(
img
)(
_p3
##
x
,_p3##
y
,
z
,
c
), I[1] = (T)(img)(
_p2
##x,_p3##y,z,c), I[2] = (T)(img)(
_p1
##x,_p3##y,z,c), \

824 
I
[3] = (
T
)(
img
)(
x
,
_p3
##
y
,
z
,
c
), I[4] = (T)(img)(
_n1
##x,_p3##y,z,c), I[5] = (T)(img)(
_n2
##x,_p3##y,z,c), \

825 
I
[6] = (
T
)(
img
)(
_n3
##
x
,
_p3
##
y
,
z
,
c
), I[7] = (T)(img)(_p3##x,
_p2
##y,z,c), I[8] = (T)(img)(_p2##x,_p2##y,z,c), \

826 
I
[9] = (
T
)(
img
)(
_p1
##
x
,
_p2
##
y
,
z
,
c
), I[10] = (T)(img)(x,_p2##y,z,c), I[11] = (T)(img)(
_n1
##x,_p2##y,z,c), \

827 
I
[12] = (
T
)(
img
)(
_n2
##
x
,
_p2
##
y
,
z
,
c
), I[13] = (T)(img)(
_n3
##x,_p2##y,z,c), I[14] = (T)(img)(
_p3
##x,
_p1
##y,z,c), \

828 
I
[15] = (
T
)(
img
)(
_p2
##
x
,
_p1
##
y
,
z
,
c
), I[16] = (T)(img)(_p1##x,_p1##y,z,c), I[17] = (T)(img)(x,_p1##y,z,c), \

829 
I
[18] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
), I[19] = (T)(img)(
_n2
##x,_p1##y,z,c), I[20] = (T)(img)(
_n3
##x,_p1##y,z,c), \

830 
I
[21] = (
T
)(
img
)(
_p3
##
x
,
y
,
z
,
c
), I[22] = (T)(img)(
_p2
##x,y,z,c), I[23] = (T)(img)(
_p1
##x,y,z,c), \

831 
I
[24] = (
T
)(
img
)(
x
,
y
,
z
,
c
), I[25] = (T)(img)(
_n1
##x,y,z,c), I[26] = (T)(img)(
_n2
##x,y,z,c), \

832 
I
[27] = (
T
)(
img
)(
_n3
##
x
,
y
,
z
,
c
), I[28] = (T)(img)(
_p3
##x,
_n1
##y,z,c), I[29] = (T)(img)(
_p2
##x,_n1##y,z,c), \

833 
I
[30] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,
z
,
c
), I[31] = (T)(img)(x,_n1##y,z,c), I[32] = (T)(img)(_n1##x,_n1##y,z,c), \

834 
I
[33] = (
T
)(
img
)(
_n2
##
x
,
_n1
##
y
,
z
,
c
), I[34] = (T)(img)(
_n3
##x,_n1##y,z,c), I[35] = (T)(img)(
_p3
##x,_n2##y,z,c), \

835 
I
[36] = (
T
)(
img
)(
_p2
##
x
,
_n2
##
y
,
z
,
c
), I[37] = (T)(img)(
_p1
##x,_n2##y,z,c), I[38] = (T)(img)(x,_n2##y,z,c), \

836 
I
[39] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
), I[40] = (T)(img)(_n2##x,_n2##y,z,c), I[41] = (T)(img)(
_n3
##x,_n2##y,z,c), \

837 
I
[42] = (
T
)(
img
)(
_p3
##
x
,
_n3
##
y
,
z
,
c
), I[43] = (T)(img)(
_p2
##x,_n3##y,z,c), I[44] = (T)(img)(
_p1
##x,_n3##y,z,c), \

838 
I
[45] = (
T
)(
img
)(
x
,
_n3
##
y
,
z
,
c
), I[46] = (T)(img)(
_n1
##x,_n3##y,z,c), I[47] = (T)(img)(
_n2
##x,_n3##y,z,c), \

839 
I
[48] = (
T
)(
img
)(
_n3
##
x
,_n3##
y
,
z
,
c
)

	)

841 
	#cimg_g‘8x8
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

842 
I
[0] = (
T
)(
img
)(
_p3
##
x
,_p3##
y
,
z
,
c
), I[1] = (T)(img)(
_p2
##x,_p3##y,z,c), I[2] = (T)(img)(
_p1
##x,_p3##y,z,c), \

843 
I
[3] = (
T
)(
img
)(
x
,
_p3
##
y
,
z
,
c
), I[4] = (T)(img)(
_n1
##x,_p3##y,z,c), I[5] = (T)(img)(
_n2
##x,_p3##y,z,c), \

844 
I
[6] = (
T
)(
img
)(
_n3
##
x
,
_p3
##
y
,
z
,
c
), I[7] = (T)(img)(
_n4
##x,_p3##y,z,c), I[8] = (T)(img)(_p3##x,
_p2
##y,z,c), \

845 
I
[9] = (
T
)(
img
)(
_p2
##
x
,_p2##
y
,
z
,
c
), I[10] = (T)(img)(
_p1
##x,_p2##y,z,c), I[11] = (T)(img)(x,_p2##y,z,c), \

846 
I
[12] = (
T
)(
img
)(
_n1
##
x
,
_p2
##
y
,
z
,
c
), I[13] = (T)(img)(
_n2
##x,_p2##y,z,c), I[14] = (T)(img)(
_n3
##x,_p2##y,z,c), \

847 
I
[15] = (
T
)(
img
)(
_n4
##
x
,
_p2
##
y
,
z
,
c
), I[16] = (T)(img)(
_p3
##x,
_p1
##y,z,c), I[17] = (T)(img)(_p2##x,_p1##y,z,c), \

848 
I
[18] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
), I[19] = (T)(img)(x,_p1##y,z,c), I[20] = (T)(img)(
_n1
##x,_p1##y,z,c), \

849 
I
[21] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
), I[22] = (T)(img)(
_n3
##x,_p1##y,z,c), I[23] = (T)(img)(
_n4
##x,_p1##y,z,c), \

850 
I
[24] = (
T
)(
img
)(
_p3
##
x
,
y
,
z
,
c
), I[25] = (T)(img)(
_p2
##x,y,z,c), I[26] = (T)(img)(
_p1
##x,y,z,c), \

851 
I
[27] = (
T
)(
img
)(
x
,
y
,
z
,
c
), I[28] = (T)(img)(
_n1
##x,y,z,c), I[29] = (T)(img)(
_n2
##x,y,z,c), \

852 
I
[30] = (
T
)(
img
)(
_n3
##
x
,
y
,
z
,
c
), I[31] = (T)(img)(
_n4
##x,y,z,c), I[32] = (T)(img)(
_p3
##x,
_n1
##y,z,c), \

853 
I
[33] = (
T
)(
img
)(
_p2
##
x
,
_n1
##
y
,
z
,
c
), I[34] = (T)(img)(
_p1
##x,_n1##y,z,c), I[35] = (T)(img)(x,_n1##y,z,c), \

854 
I
[36] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
), I[37] = (T)(img)(
_n2
##x,_n1##y,z,c), I[38] = (T)(img)(
_n3
##x,_n1##y,z,c), \

855 
I
[39] = (
T
)(
img
)(
_n4
##
x
,
_n1
##
y
,
z
,
c
), I[40] = (T)(img)(
_p3
##x,
_n2
##y,z,c), I[41] = (T)(img)(
_p2
##x,_n2##y,z,c), \

856 
I
[42] = (
T
)(
img
)(
_p1
##
x
,
_n2
##
y
,
z
,
c
), I[43] = (T)(img)(x,_n2##y,z,c), I[44] = (T)(img)(
_n1
##x,_n2##y,z,c), \

857 
I
[45] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
), I[46] = (T)(img)(
_n3
##x,_n2##y,z,c), I[47] = (T)(img)(
_n4
##x,_n2##y,z,c), \

858 
I
[48] = (
T
)(
img
)(
_p3
##
x
,
_n3
##
y
,
z
,
c
), I[49] = (T)(img)(
_p2
##x,_n3##y,z,c), I[50] = (T)(img)(
_p1
##x,_n3##y,z,c), \

859 
I
[51] = (
T
)(
img
)(
x
,
_n3
##
y
,
z
,
c
), I[52] = (T)(img)(
_n1
##x,_n3##y,z,c), I[53] = (T)(img)(
_n2
##x,_n3##y,z,c), \

860 
I
[54] = (
T
)(
img
)(
_n3
##
x
,_n3##
y
,
z
,
c
), I[55] = (T)(img)(
_n4
##x,_n3##y,z,c), I[56] = (T)(img)(
_p3
##x,_n4##y,z,c), \

861 
I
[57] = (
T
)(
img
)(
_p2
##
x
,
_n4
##
y
,
z
,
c
), I[58] = (T)(img)(
_p1
##x,_n4##y,z,c), I[59] = (T)(img)(x,_n4##y,z,c), \

862 
I
[60] = (
T
)(
img
)(
_n1
##
x
,
_n4
##
y
,
z
,
c
), I[61] = (T)(img)(
_n2
##x,_n4##y,z,c), I[62] = (T)(img)(
_n3
##x,_n4##y,z,c), \

863 
I
[63] = (
T
)(
img
)(
_n4
##
x
,_n4##
y
,
z
,
c
);

	)

865 
	#cimg_g‘9x9
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

866 
I
[0] = (
T
)(
img
)(
_p4
##
x
,_p4##
y
,
z
,
c
), I[1] = (T)(img)(
_p3
##x,_p4##y,z,c), I[2] = (T)(img)(
_p2
##x,_p4##y,z,c), \

867 
I
[3] = (
T
)(
img
)(
_p1
##
x
,
_p4
##
y
,
z
,
c
), I[4] = (T)(img)(x,_p4##y,z,c), I[5] = (T)(img)(
_n1
##x,_p4##y,z,c), \

868 
I
[6] = (
T
)(
img
)(
_n2
##
x
,
_p4
##
y
,
z
,
c
), I[7] = (T)(img)(
_n3
##x,_p4##y,z,c), I[8] = (T)(img)(
_n4
##x,_p4##y,z,c), \

869 
I
[9] = (
T
)(
img
)(
_p4
##
x
,
_p3
##
y
,
z
,
c
), I[10] = (T)(img)(_p3##x,_p3##y,z,c), I[11] = (T)(img)(
_p2
##x,_p3##y,z,c), \

870 
I
[12] = (
T
)(
img
)(
_p1
##
x
,
_p3
##
y
,
z
,
c
), I[13] = (T)(img)(x,_p3##y,z,c), I[14] = (T)(img)(
_n1
##x,_p3##y,z,c), \

871 
I
[15] = (
T
)(
img
)(
_n2
##
x
,
_p3
##
y
,
z
,
c
), I[16] = (T)(img)(
_n3
##x,_p3##y,z,c), I[17] = (T)(img)(
_n4
##x,_p3##y,z,c), \

872 
I
[18] = (
T
)(
img
)(
_p4
##
x
,
_p2
##
y
,
z
,
c
), I[19] = (T)(img)(
_p3
##x,_p2##y,z,c), I[20] = (T)(img)(_p2##x,_p2##y,z,c), \

873 
I
[21] = (
T
)(
img
)(
_p1
##
x
,
_p2
##
y
,
z
,
c
), I[22] = (T)(img)(x,_p2##y,z,c), I[23] = (T)(img)(
_n1
##x,_p2##y,z,c), \

874 
I
[24] = (
T
)(
img
)(
_n2
##
x
,
_p2
##
y
,
z
,
c
), I[25] = (T)(img)(
_n3
##x,_p2##y,z,c), I[26] = (T)(img)(
_n4
##x,_p2##y,z,c), \

875 
I
[27] = (
T
)(
img
)(
_p4
##
x
,
_p1
##
y
,
z
,
c
), I[28] = (T)(img)(
_p3
##x,_p1##y,z,c), I[29] = (T)(img)(
_p2
##x,_p1##y,z,c), \

876 
I
[30] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
), I[31] = (T)(img)(x,_p1##y,z,c), I[32] = (T)(img)(
_n1
##x,_p1##y,z,c), \

877 
I
[33] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
), I[34] = (T)(img)(
_n3
##x,_p1##y,z,c), I[35] = (T)(img)(
_n4
##x,_p1##y,z,c), \

878 
I
[36] = (
T
)(
img
)(
_p4
##
x
,
y
,
z
,
c
), I[37] = (T)(img)(
_p3
##x,y,z,c), I[38] = (T)(img)(
_p2
##x,y,z,c), \

879 
I
[39] = (
T
)(
img
)(
_p1
##
x
,
y
,
z
,
c
), I[40] = (T)(img)(x,y,z,c), I[41] = (T)(img)(
_n1
##x,y,z,c), \

880 
I
[42] = (
T
)(
img
)(
_n2
##
x
,
y
,
z
,
c
), I[43] = (T)(img)(
_n3
##x,y,z,c), I[44] = (T)(img)(
_n4
##x,y,z,c), \

881 
I
[45] = (
T
)(
img
)(
_p4
##
x
,
_n1
##
y
,
z
,
c
), I[46] = (T)(img)(
_p3
##x,_n1##y,z,c), I[47] = (T)(img)(
_p2
##x,_n1##y,z,c), \

882 
I
[48] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,
z
,
c
), I[49] = (T)(img)(x,_n1##y,z,c), I[50] = (T)(img)(_n1##x,_n1##y,z,c), \

883 
I
[51] = (
T
)(
img
)(
_n2
##
x
,
_n1
##
y
,
z
,
c
), I[52] = (T)(img)(
_n3
##x,_n1##y,z,c), I[53] = (T)(img)(
_n4
##x,_n1##y,z,c), \

884 
I
[54] = (
T
)(
img
)(
_p4
##
x
,
_n2
##
y
,
z
,
c
), I[55] = (T)(img)(
_p3
##x,_n2##y,z,c), I[56] = (T)(img)(
_p2
##x,_n2##y,z,c), \

885 
I
[57] = (
T
)(
img
)(
_p1
##
x
,
_n2
##
y
,
z
,
c
), I[58] = (T)(img)(x,_n2##y,z,c), I[59] = (T)(img)(
_n1
##x,_n2##y,z,c), \

886 
I
[60] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
), I[61] = (T)(img)(
_n3
##x,_n2##y,z,c), I[62] = (T)(img)(
_n4
##x,_n2##y,z,c), \

887 
I
[63] = (
T
)(
img
)(
_p4
##
x
,
_n3
##
y
,
z
,
c
), I[64] = (T)(img)(
_p3
##x,_n3##y,z,c), I[65] = (T)(img)(
_p2
##x,_n3##y,z,c), \

888 
I
[66] = (
T
)(
img
)(
_p1
##
x
,
_n3
##
y
,
z
,
c
), I[67] = (T)(img)(x,_n3##y,z,c), I[68] = (T)(img)(
_n1
##x,_n3##y,z,c), \

889 
I
[69] = (
T
)(
img
)(
_n2
##
x
,
_n3
##
y
,
z
,
c
), I[70] = (T)(img)(_n3##x,_n3##y,z,c), I[71] = (T)(img)(
_n4
##x,_n3##y,z,c), \

890 
I
[72] = (
T
)(
img
)(
_p4
##
x
,
_n4
##
y
,
z
,
c
), I[73] = (T)(img)(
_p3
##x,_n4##y,z,c), I[74] = (T)(img)(
_p2
##x,_n4##y,z,c), \

891 
I
[75] = (
T
)(
img
)(
_p1
##
x
,
_n4
##
y
,
z
,
c
), I[76] = (T)(img)(x,_n4##y,z,c), I[77] = (T)(img)(
_n1
##x,_n4##y,z,c), \

892 
I
[78] = (
T
)(
img
)(
_n2
##
x
,
_n4
##
y
,
z
,
c
), I[79] = (T)(img)(
_n3
##x,_n4##y,z,c), I[80] = (T)(img)(_n4##x,_n4##y,z,c)

	)

894 
	#cimg_g‘2x2x2
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

895 
I
[0] = (
T
)(
img
)(
x
,
y
,
z
,
c
), I[1] = (T)(img)(
_n1
##x,y,z,c), I[2] = (T)(img)(x,_n1##y,z,c), \

896 
I
[3] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
), I[4] = (T)(img)(x,y,_n1##z,c), I[5] = (T)(img)(_n1##x,y,_n1##z,c), \

897 
I
[6] = (
T
)(
img
)(
x
,
_n1
##
y
,_n1##
z
,
c
), I[7] = (T)(img)(_n1##x,_n1##y,_n1##z,c)

	)

899 
	#cimg_g‘3x3x3
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

900 
I
[0] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,_p1##
z
,
c
), I[1] = (T)(img)(x,_p1##y,_p1##z,c), \

901 
I
[2] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,_p1##
z
,
c
), I[3] = (T)(img)(_p1##x,y,_p1##z,c), I[4] = (T)(img)(x,y,_p1##z,c), \

902 
I
[5] = (
T
)(
img
)(
_n1
##
x
,
y
,
_p1
##
z
,
c
), I[6] = (T)(img)(_p1##x,_n1##y,_p1##z,c), I[7] = (T)(img)(x,_n1##y,_p1##z,c), \

903 
I
[8] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
_p1
##
z
,
c
), I[9] = (T)(img)(_p1##x,_p1##y,z,c), I[10] = (T)(img)(x,_p1##y,z,c), \

904 
I
[11] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
), I[12] = (T)(img)(_p1##x,y,z,c), I[13] = (T)(img)(x,y,z,c), \

905 
I
[14] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
), I[15] = (T)(img)(
_p1
##x,_n1##y,z,c), I[16] = (T)(img)(x,_n1##y,z,c), \

906 
I
[17] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
), I[18] = (T)(img)(
_p1
##x,_p1##y,_n1##z,c), I[19] = (T)(img)(x,_p1##y,_n1##z,c), \

907 
I
[20] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,_n1##
z
,
c
), I[21] = (T)(img)(_p1##x,y,_n1##z,c), I[22] = (T)(img)(x,y,_n1##z,c), \

908 
I
[23] = (
T
)(
img
)(
_n1
##
x
,
y
,_n1##
z
,
c
), I[24] = (T)(img)(
_p1
##x,_n1##y,_n1##z,c), I[25] = (T)(img)(x,_n1##y,_n1##z,c), \

909 
I
[26] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,_n1##
z
,
c
)

	)

914 
	#cimg_fÜ
(
img
,
±rs
,
T_±rs
) \

915 
T_±rs
 *
±rs
 = (
img
).
_d©a
, *
_max
##±r ğ(img)._d©¨+ (img).
	`size
();…Œs<_max##±rs; ++±rs)

	)

916 
	#cimg_rof
(
img
,
±rs
,
T_±rs
èT_±r *±r ğ(img).
_d©a
 + (img).
	`size
(è- 1;…Œs>=(img)._d©a; --±rs)

	)

917 
	#cimg_fÜoff
(
img
,
off
è
cimg_ulÚg
 ofàğ0, 
_max
##ofàğ(img).
	`size
(); off<_max##off; ++off)

	)

918 
	#cimg_rofoff
(
img
,
off
è
cimg_lÚg
 ofàğ(cimg_lÚg)((img).
	`size
(è- 1); off>=0; --off)

	)

920 
	#cimg_fÜ1
(
bound
,
i
è˜ğ0; i<()(bound); ++i)

	)

921 
	#cimg_fÜX
(
img
,
x
è
	`cimg_fÜ1
((img).
_width
,x)

	)

922 
	#cimg_fÜY
(
img
,
y
è
	`cimg_fÜ1
((img).
_height
,y)

	)

923 
	#cimg_fÜZ
(
img
,
z
è
	`cimg_fÜ1
((img).
_d•th
,z)

	)

924 
	#cimg_fÜC
(
img
,
c
è
	`cimg_fÜ1
((img).
_¥eùrum
,c)

	)

925 
	#cimg_fÜXY
(
img
,
x
,
y
è
	`cimg_fÜY
(img,yè
	`cimg_fÜX
(img,x)

	)

926 
	#cimg_fÜXZ
(
img
,
x
,
z
è
	`cimg_fÜZ
(img,zè
	`cimg_fÜX
(img,x)

	)

927 
	#cimg_fÜYZ
(
img
,
y
,
z
è
	`cimg_fÜZ
(img,zè
	`cimg_fÜY
(img,y)

	)

928 
	#cimg_fÜXC
(
img
,
x
,
c
è
	`cimg_fÜC
(img,cè
	`cimg_fÜX
(img,x)

	)

929 
	#cimg_fÜYC
(
img
,
y
,
c
è
	`cimg_fÜC
(img,cè
	`cimg_fÜY
(img,y)

	)

930 
	#cimg_fÜZC
(
img
,
z
,
c
è
	`cimg_fÜC
(img,cè
	`cimg_fÜZ
(img,z)

	)

931 
	#cimg_fÜXYZ
(
img
,
x
,
y
,
z
è
	`cimg_fÜZ
(img,zè
	`cimg_fÜXY
(img,x,y)

	)

932 
	#cimg_fÜXYC
(
img
,
x
,
y
,
c
è
	`cimg_fÜC
(img,cè
	`cimg_fÜXY
(img,x,y)

	)

933 
	#cimg_fÜXZC
(
img
,
x
,
z
,
c
è
	`cimg_fÜC
(img,cè
	`cimg_fÜXZ
(img,x,z)

	)

934 
	#cimg_fÜYZC
(
img
,
y
,
z
,
c
è
	`cimg_fÜC
(img,cè
	`cimg_fÜYZ
(img,y,z)

	)

935 
	#cimg_fÜXYZC
(
img
,
x
,
y
,
z
,
c
è
	`cimg_fÜC
(img,cè
	`cimg_fÜXYZ
(img,x,y,z)

	)

937 
	#cimg_rof1
(
bound
,
i
è˜ğ()(boundè- 1; i>=0; --i)

	)

938 
	#cimg_rofX
(
img
,
x
è
	`cimg_rof1
((img).
_width
,x)

	)

939 
	#cimg_rofY
(
img
,
y
è
	`cimg_rof1
((img).
_height
,y)

	)

940 
	#cimg_rofZ
(
img
,
z
è
	`cimg_rof1
((img).
_d•th
,z)

	)

941 
	#cimg_rofC
(
img
,
c
è
	`cimg_rof1
((img).
_¥eùrum
,c)

	)

942 
	#cimg_rofXY
(
img
,
x
,
y
è
	`cimg_rofY
(img,yè
	`cimg_rofX
(img,x)

	)

943 
	#cimg_rofXZ
(
img
,
x
,
z
è
	`cimg_rofZ
(img,zè
	`cimg_rofX
(img,x)

	)

944 
	#cimg_rofYZ
(
img
,
y
,
z
è
	`cimg_rofZ
(img,zè
	`cimg_rofY
(img,y)

	)

945 
	#cimg_rofXC
(
img
,
x
,
c
è
	`cimg_rofC
(img,cè
	`cimg_rofX
(img,x)

	)

946 
	#cimg_rofYC
(
img
,
y
,
c
è
	`cimg_rofC
(img,cè
	`cimg_rofY
(img,y)

	)

947 
	#cimg_rofZC
(
img
,
z
,
c
è
	`cimg_rofC
(img,cè
	`cimg_rofZ
(img,z)

	)

948 
	#cimg_rofXYZ
(
img
,
x
,
y
,
z
è
	`cimg_rofZ
(img,zè
	`cimg_rofXY
(img,x,y)

	)

949 
	#cimg_rofXYC
(
img
,
x
,
y
,
c
è
	`cimg_rofC
(img,cè
	`cimg_rofXY
(img,x,y)

	)

950 
	#cimg_rofXZC
(
img
,
x
,
z
,
c
è
	`cimg_rofC
(img,cè
	`cimg_rofXZ
(img,x,z)

	)

951 
	#cimg_rofYZC
(
img
,
y
,
z
,
c
è
	`cimg_rofC
(img,cè
	`cimg_rofYZ
(img,y,z)

	)

952 
	#cimg_rofXYZC
(
img
,
x
,
y
,
z
,
c
è
	`cimg_rofC
(img,cè
	`cimg_rofXYZ
(img,x,y,z)

	)

954 
	#cimg_fÜ_š1
(
bound
,
i0
,
i1
,
i
) \

955 
i
 = ()(
i0
)<0?0:()(i0), 
_max
##˜ğ()(
i1
)<()(
bound
)?()(i1):()(boundè- 1; i<=_max##i; ++i)

	)

956 
	#cimg_fÜ_šX
(
img
,
x0
,
x1
,
x
è
	`cimg_fÜ_š1
((img).
_width
,x0,x1,x)

	)

957 
	#cimg_fÜ_šY
(
img
,
y0
,
y1
,
y
è
	`cimg_fÜ_š1
((img).
_height
,y0,y1,y)

	)

958 
	#cimg_fÜ_šZ
(
img
,
z0
,
z1
,
z
è
	`cimg_fÜ_š1
((img).
_d•th
,z0,z1,z)

	)

959 
	#cimg_fÜ_šC
(
img
,
c0
,
c1
,
c
è
	`cimg_fÜ_š1
((img).
_¥eùrum
,c0,c1,c)

	)

960 
	#cimg_fÜ_šXY
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
è
	`cimg_fÜ_šY
(img,y0,y1,yè
	`cimg_fÜ_šX
(img,x0,x1,x)

	)

961 
	#cimg_fÜ_šXZ
(
img
,
x0
,
z0
,
x1
,
z1
,
x
,
z
è
	`cimg_fÜ_šZ
(img,z0,z1,zè
	`cimg_fÜ_šX
(img,x0,x1,x)

	)

962 
	#cimg_fÜ_šXC
(
img
,
x0
,
c0
,
x1
,
c1
,
x
,
c
è
	`cimg_fÜ_šC
(img,c0,c1,cè
	`cimg_fÜ_šX
(img,x0,x1,x)

	)

963 
	#cimg_fÜ_šYZ
(
img
,
y0
,
z0
,
y1
,
z1
,
y
,
z
è
	`cimg_fÜ_šZ
(img,
x0
,z1,zè
	`cimg_fÜ_šY
(img,y0,y1,y)

	)

964 
	#cimg_fÜ_šYC
(
img
,
y0
,
c0
,
y1
,
c1
,
y
,
c
è
	`cimg_fÜ_šC
(img,c0,c1,cè
	`cimg_fÜ_šY
(img,y0,y1,y)

	)

965 
	#cimg_fÜ_šZC
(
img
,
z0
,
c0
,
z1
,
c1
,
z
,
c
è
	`cimg_fÜ_šC
(img,c0,c1,cè
	`cimg_fÜ_šZ
(img,z0,z1,z)

	)

966 
	#cimg_fÜ_šXYZ
(
img
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
è
	`cimg_fÜ_šZ
(img,z0,z1,zè
	`cimg_fÜ_šXY
(img,x0,y0,x1,y1,x,y)

	)

967 
	#cimg_fÜ_šXYC
(
img
,
x0
,
y0
,
c0
,
x1
,
y1
,
c1
,
x
,
y
,
c
è
	`cimg_fÜ_šC
(img,c0,c1,cè
	`cimg_fÜ_šXY
(img,x0,y0,x1,y1,x,y)

	)

968 
	#cimg_fÜ_šXZC
(
img
,
x0
,
z0
,
c0
,
x1
,
z1
,
c1
,
x
,
z
,
c
è
	`cimg_fÜ_šC
(img,c0,c1,cè
	`cimg_fÜ_šXZ
(img,x0,z0,x1,z1,x,z)

	)

969 
	#cimg_fÜ_šYZC
(
img
,
y0
,
z0
,
c0
,
y1
,
z1
,
c1
,
y
,
z
,
c
è
	`cimg_fÜ_šC
(img,c0,c1,cè
	`cimg_fÜ_šYZ
(img,y0,z0,y1,z1,y,z)

	)

970 
	#cimg_fÜ_šXYZC
(
img
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
x
,
y
,
z
,
c
) \

971 
	`cimg_fÜ_šC
(
img
,
c0
,
c1
,
c
è
	`cimg_fÜ_šXYZ
(img,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
)

	)

972 
	#cimg_fÜ_šsideX
(
img
,
x
,
n
è
	`cimg_fÜ_šX
(img,n,(img).
_width
 - 1 - (n),x)

	)

973 
	#cimg_fÜ_šsideY
(
img
,
y
,
n
è
	`cimg_fÜ_šY
(img,n,(img).
_height
 - 1 - (n),y)

	)

974 
	#cimg_fÜ_šsideZ
(
img
,
z
,
n
è
	`cimg_fÜ_šZ
(img,n,(img).
_d•th
 - 1 - (n),z)

	)

975 
	#cimg_fÜ_šsideC
(
img
,
c
,
n
è
	`cimg_fÜ_šC
(img,n,(img).
_¥eùrum
 - 1 - (n),c)

	)

976 
	#cimg_fÜ_šsideXY
(
img
,
x
,
y
,
n
è
	`cimg_fÜ_šXY
(img,n,n,(img).
_width
 - 1 - (n),(img).
_height
 - 1 - (n),x,y)

	)

977 
	#cimg_fÜ_šsideXYZ
(
img
,
x
,
y
,
z
,
n
) \

978 
	`cimg_fÜ_šXYZ
(
img
,
n
,n,n,(img).
_width
 - 1 - (n),(img).
_height
 - 1 - (n),(img).
_d•th
 - 1 - (n),
x
,
y
,
z
)

	)

979 
	#cimg_fÜ_šsideXYZC
(
img
,
x
,
y
,
z
,
c
,
n
) \

980 
	`cimg_fÜ_šXYZ
(
img
,
n
,n,n,(img).
_width
 - 1 - (n),(img).
_height
 - 1 - (n),(img).
_d•th
 - 1 - (n),
x
,
y
,
z
)

	)

982 
	#cimg_fÜ_out1
(
boundi
,
i0
,
i1
,
i
) \

983 
i
 = ()(
i0
)>0?0:()(
i1
è+ 1; i<()(
boundi
); ++i, i = i==()(i0)?()(i1è+ 1:i)

	)

984 
	#cimg_fÜ_out2
(
boundi
,
boundj
,
i0
,
j0
,
i1
,
j1
,
i
,
j
) \

985 
j
 = 0; j<()(
boundj
); ++j) \

986 
_n1j
 = ()(
j
<()(
j0
è|| j>()(
j1
)), 
i
 = _n1j?0:()(
i0
)>0?0:()(
i1
è+ 1; i<()(
boundi
); \

987 ++
i
, i = 
_n1j
?i:(i==()(
i0
)?()(
i1
è+ 1:i))

	)

988 
	#cimg_fÜ_out3
(
boundi
,
boundj
,
boundk
,
i0
,
j0
,
k0
,
i1
,
j1
,
k1
,
i
,
j
,
k
) \

989 
k
 = 0; k<()(
boundk
); ++k) \

990 
_n1k
 = ()(
k
<()(
k0
è|| k>()(
k1
)), 
j
 = 0; j<()(
boundj
); ++j) \

991 
_n1j
 = ()(
j
<()(
j0
è|| j>()(
j1
)), 
i
 = _n1j || 
_n1k
?0:()(
i0
)>0?0:()(
i1
è+ 1; i<()(
boundi
); \

992 ++
i
, i = 
_n1j
 || 
_n1k
?i:(i==()(
i0
)?()(
i1
è+ 1:i))

	)

993 
	#cimg_fÜ_out4
(
boundi
,
boundj
,
boundk
,
boundl
,
i0
,
j0
,
k0
,
l0
,
i1
,
j1
,
k1
,
l1
,
i
,
j
,
k
,
l
) \

994 
l
 = 0;†<()(
boundl
); ++l) \

995 
_n1l
 = ()(
l
<()(
l0
è||†>()(
l1
)), 
k
 = 0; k<()(
boundk
); ++k) \

996 
_n1k
 = ()(
k
<()(
k0
è|| k>()(
k1
)), 
j
 = 0; j<()(
boundj
); ++j) \

997 
_n1j
 = ()(
j
<()(
j0
è|| j>()(
j1
)), 
i
 = _n1j || 
_n1k
 || 
_n1l
?0:()(
i0
)>0?0:()(
i1
) + 1; \

998 
i
<()(
boundi
); ++i, i = 
_n1j
 || 
_n1k
 || 
_n1l
?i:(i==()(
i0
)?()(
i1
è+ 1:i))

	)

999 
	#cimg_fÜ_outX
(
img
,
x0
,
x1
,
x
è
	`cimg_fÜ_out1
((img).
_width
,x0,x1,x)

	)

1000 
	#cimg_fÜ_outY
(
img
,
y0
,
y1
,
y
è
	`cimg_fÜ_out1
((img).
_height
,y0,y1,y)

	)

1001 
	#cimg_fÜ_outZ
(
img
,
z0
,
z1
,
z
è
	`cimg_fÜ_out1
((img).
_d•th
,z0,z1,z)

	)

1002 
	#cimg_fÜ_outC
(
img
,
c0
,
c1
,
c
è
	`cimg_fÜ_out1
((img).
_¥eùrum
,c0,c1,c)

	)

1003 
	#cimg_fÜ_outXY
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
è
	`cimg_fÜ_out2
((img).
_width
,(img).
_height
,x0,y0,x1,y1,x,y)

	)

1004 
	#cimg_fÜ_outXZ
(
img
,
x0
,
z0
,
x1
,
z1
,
x
,
z
è
	`cimg_fÜ_out2
((img).
_width
,(img).
_d•th
,x0,z0,x1,z1,x,z)

	)

1005 
	#cimg_fÜ_outXC
(
img
,
x0
,
c0
,
x1
,
c1
,
x
,
c
è
	`cimg_fÜ_out2
((img).
_width
,(img).
_¥eùrum
,x0,c0,x1,c1,x,c)

	)

1006 
	#cimg_fÜ_outYZ
(
img
,
y0
,
z0
,
y1
,
z1
,
y
,
z
è
	`cimg_fÜ_out2
((img).
_height
,(img).
_d•th
,y0,z0,y1,z1,y,z)

	)

1007 
	#cimg_fÜ_outYC
(
img
,
y0
,
c0
,
y1
,
c1
,
y
,
c
è
	`cimg_fÜ_out2
((img).
_height
,(img).
_¥eùrum
,y0,c0,y1,c1,y,c)

	)

1008 
	#cimg_fÜ_outZC
(
img
,
z0
,
c0
,
z1
,
c1
,
z
,
c
è
	`cimg_fÜ_out2
((img).
_d•th
,(img).
_¥eùrum
,z0,c0,z1,c1,z,c)

	)

1009 
	#cimg_fÜ_outXYZ
(
img
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
) \

1010 
	`cimg_fÜ_out3
((
img
).
_width
,(img).
_height
,(img).
_d•th
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
)

	)

1011 
	#cimg_fÜ_outXYC
(
img
,
x0
,
y0
,
c0
,
x1
,
y1
,
c1
,
x
,
y
,
c
) \

1012 
	`cimg_fÜ_out3
((
img
).
_width
,(img).
_height
,(img).
_¥eùrum
,
x0
,
y0
,
c0
,
x1
,
y1
,
c1
,
x
,
y
,
c
)

	)

1013 
	#cimg_fÜ_outXZC
(
img
,
x0
,
z0
,
c0
,
x1
,
z1
,
c1
,
x
,
z
,
c
) \

1014 
	`cimg_fÜ_out3
((
img
).
_width
,(img).
_d•th
,(img).
_¥eùrum
,
x0
,
z0
,
c0
,
x1
,
z1
,
c1
,
x
,
z
,
c
)

	)

1015 
	#cimg_fÜ_outYZC
(
img
,
y0
,
z0
,
c0
,
y1
,
z1
,
c1
,
y
,
z
,
c
) \

1016 
	`cimg_fÜ_out3
((
img
).
_height
,(img).
_d•th
,(img).
_¥eùrum
,
y0
,
z0
,
c0
,
y1
,
z1
,
c1
,
y
,
z
,
c
)

	)

1017 
	#cimg_fÜ_outXYZC
(
img
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
x
,
y
,
z
,
c
) \

1018 
	`cimg_fÜ_out4
((
img
).
_width
,(img).
_height
,(img).
_d•th
,(img).
_¥eùrum
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
x
,
y
,
z
,
c
)

	)

1019 
	#cimg_fÜ_bÜd”X
(
img
,
x
,
n
è
	`cimg_fÜ_outX
(img,n,(img).
_width
 - 1 - (n),x)

	)

1020 
	#cimg_fÜ_bÜd”Y
(
img
,
y
,
n
è
	`cimg_fÜ_outY
(img,n,(img).
_height
 - 1 - (n),y)

	)

1021 
	#cimg_fÜ_bÜd”Z
(
img
,
z
,
n
è
	`cimg_fÜ_outZ
(img,n,(img).
_d•th
 - 1 - (n),z)

	)

1022 
	#cimg_fÜ_bÜd”C
(
img
,
c
,
n
è
	`cimg_fÜ_outC
(img,n,(img).
_¥eùrum
 - 1 - (n),c)

	)

1023 
	#cimg_fÜ_bÜd”XY
(
img
,
x
,
y
,
n
è
	`cimg_fÜ_outXY
(img,n,n,(img).
_width
 - 1 - (n),(img).
_height
 - 1 - (n),x,y)

	)

1024 
	#cimg_fÜ_bÜd”XYZ
(
img
,
x
,
y
,
z
,
n
) \

1025 
	`cimg_fÜ_outXYZ
(
img
,
n
,n,n,(img).
_width
 - 1 - (n),(img).
_height
 - 1 - (n),(img).
_d•th
 - 1 - (n),
x
,
y
,
z
)

	)

1026 
	#cimg_fÜ_bÜd”XYZC
(
img
,
x
,
y
,
z
,
c
,
n
) \

1027 
	`cimg_fÜ_outXYZC
(
img
,
n
,n,n,n,(img).
_width
 - 1 - (n),(img).
_height
 - 1 - (n), \

1028 (
img
).
_d•th
 - 1 - (
n
),(img).
_¥eùrum
 - 1 - (n),
x
,
y
,
z
,
c
)

	)

1030 
	#cimg_fÜ_¥œ®XY
(
img
,
x
,
y
) \

1031 
x
 = 0, 
y
 = 0, 
_n1
##x = 1, _n1##y = (
img
).
	`width
()*(img).
	`height
(); _n1##y; \

1032 --
_n1
##
y
, _n1##
x
+=(_n1##x>>2è- ((!(_n1##x&3)?--y:((_n1##x&3)==1?(
img
).
_width
 - 1 - ++x:\

1033 ((
_n1
##
x
&3)==2?(
img
).
_height
 - 1 - ++
y
:--x))))?0:1)

	)

1035 
	#cimg_fÜ_lšeXY
(
x
,
y
,
x0
,
y0
,
x1
,
y1
) \

1036 
x
 = ()(
x0
), 
y
 = ()(
y0
), 
_sx
 = 1, 
_sy
 = 1, 
_¡“p
 = 0, \

1037 
_dx
=(
x1
)>(
x0
)?()(x1è- ()(x0):(
_sx
=-1,()(x0) - ()(x1)), \

1038 
_dy
=(
y1
)>(
y0
)?()(y1è- ()(y0):(
_sy
=-1,()(y0) - ()(y1)), \

1039 
_couÁ”
 = 
_dx
, \

1040 
_”r
 = 
_dx
>
_dy
?(_dy>>1):((
_¡“p
=1),(
_couÁ”
=_dy),(_dx>>1)); \

1041 
_couÁ”
>=0; \

1042 --
_couÁ”
, 
x
+=
_¡“p
? \

1043 (
y
+=
_sy
,(
_”r
-=
_dx
)<0?_”r+=
_dy
,
_sx
:0): \

1044 (
y
+=(
_”r
-=
_dy
)<0?_”r+=
_dx
,
_sy
:0,
_sx
))

	)

1046 
	#cimg_fÜ2
(
bound
,
i
) \

1047 
i
 = 0, 
_n1
##˜ğ1>=(
bound
)?()(bound) - 1:1; \

1048 
_n1
##
i
<()(
bound
) || i==--_n1##i; \

1049 ++
i
, ++
_n1
##i)

	)

1050 
	#cimg_fÜ2X
(
img
,
x
è
	`cimg_fÜ2
((img).
_width
,x)

	)

1051 
	#cimg_fÜ2Y
(
img
,
y
è
	`cimg_fÜ2
((img).
_height
,y)

	)

1052 
	#cimg_fÜ2Z
(
img
,
z
è
	`cimg_fÜ2
((img).
_d•th
,z)

	)

1053 
	#cimg_fÜ2C
(
img
,
c
è
	`cimg_fÜ2
((img).
_¥eùrum
,c)

	)

1054 
	#cimg_fÜ2XY
(
img
,
x
,
y
è
	`cimg_fÜ2Y
(img,yè
	`cimg_fÜ2X
(img,x)

	)

1055 
	#cimg_fÜ2XZ
(
img
,
x
,
z
è
	`cimg_fÜ2Z
(img,zè
	`cimg_fÜ2X
(img,x)

	)

1056 
	#cimg_fÜ2XC
(
img
,
x
,
c
è
	`cimg_fÜ2C
(img,cè
	`cimg_fÜ2X
(img,x)

	)

1057 
	#cimg_fÜ2YZ
(
img
,
y
,
z
è
	`cimg_fÜ2Z
(img,zè
	`cimg_fÜ2Y
(img,y)

	)

1058 
	#cimg_fÜ2YC
(
img
,
y
,
c
è
	`cimg_fÜ2C
(img,cè
	`cimg_fÜ2Y
(img,y)

	)

1059 
	#cimg_fÜ2ZC
(
img
,
z
,
c
è
	`cimg_fÜ2C
(img,cè
	`cimg_fÜ2Z
(img,z)

	)

1060 
	#cimg_fÜ2XYZ
(
img
,
x
,
y
,
z
è
	`cimg_fÜ2Z
(img,zè
	`cimg_fÜ2XY
(img,x,y)

	)

1061 
	#cimg_fÜ2XZC
(
img
,
x
,
z
,
c
è
	`cimg_fÜ2C
(img,cè
	`cimg_fÜ2XZ
(img,x,z)

	)

1062 
	#cimg_fÜ2YZC
(
img
,
y
,
z
,
c
è
	`cimg_fÜ2C
(img,cè
	`cimg_fÜ2YZ
(img,y,z)

	)

1063 
	#cimg_fÜ2XYZC
(
img
,
x
,
y
,
z
,
c
è
	`cimg_fÜ2C
(img,cè
	`cimg_fÜ2XYZ
(img,x,y,z)

	)

1065 
	#cimg_fÜ_š2
(
bound
,
i0
,
i1
,
i
) \

1066 
i
 = ()(
i0
)<0?0:()(i0), \

1067 
_n1
##
i
 = i + 1>=()(
bound
)?()(bound) - 1:i + 1; \

1068 
i
<=()(
i1
è&& (
_n1
##i<()(
bound
) || i==--_n1##i); \

1069 ++
i
, ++
_n1
##i)

	)

1070 
	#cimg_fÜ_š2X
(
img
,
x0
,
x1
,
x
è
	`cimg_fÜ_š2
((img).
_width
,x0,x1,x)

	)

1071 
	#cimg_fÜ_š2Y
(
img
,
y0
,
y1
,
y
è
	`cimg_fÜ_š2
((img).
_height
,y0,y1,y)

	)

1072 
	#cimg_fÜ_š2Z
(
img
,
z0
,
z1
,
z
è
	`cimg_fÜ_š2
((img).
_d•th
,z0,z1,z)

	)

1073 
	#cimg_fÜ_š2C
(
img
,
c0
,
c1
,
c
è
	`cimg_fÜ_š2
((img).
_¥eùrum
,c0,c1,c)

	)

1074 
	#cimg_fÜ_š2XY
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
è
	`cimg_fÜ_š2Y
(img,y0,y1,yè
	`cimg_fÜ_š2X
(img,x0,x1,x)

	)

1075 
	#cimg_fÜ_š2XZ
(
img
,
x0
,
z0
,
x1
,
z1
,
x
,
z
è
	`cimg_fÜ_š2Z
(img,z0,z1,zè
	`cimg_fÜ_š2X
(img,x0,x1,x)

	)

1076 
	#cimg_fÜ_š2XC
(
img
,
x0
,
c0
,
x1
,
c1
,
x
,
c
è
	`cimg_fÜ_š2C
(img,c0,c1,cè
	`cimg_fÜ_š2X
(img,x0,x1,x)

	)

1077 
	#cimg_fÜ_š2YZ
(
img
,
y0
,
z0
,
y1
,
z1
,
y
,
z
è
	`cimg_fÜ_š2Z
(img,z0,z1,zè
	`cimg_fÜ_š2Y
(img,y0,y1,y)

	)

1078 
	#cimg_fÜ_š2YC
(
img
,
y0
,
c0
,
y1
,
c1
,
y
,
c
è
	`cimg_fÜ_š2C
(img,c0,c1,cè
	`cimg_fÜ_š2Y
(img,y0,y1,y)

	)

1079 
	#cimg_fÜ_š2ZC
(
img
,
z0
,
c0
,
z1
,
c1
,
z
,
c
è
	`cimg_fÜ_š2C
(img,c0,c1,cè
	`cimg_fÜ_š2Z
(img,z0,z1,z)

	)

1080 
	#cimg_fÜ_š2XYZ
(
img
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
è
	`cimg_fÜ_š2Z
(img,z0,z1,zè
	`cimg_fÜ_š2XY
(img,x0,y0,x1,y1,x,y)

	)

1081 
	#cimg_fÜ_š2XZC
(
img
,
x0
,
z0
,
c0
,
x1
,
y1
,
c1
,
x
,
z
,
c
è
	`cimg_fÜ_š2C
(img,c0,c1,cè
	`cimg_fÜ_š2XZ
(img,x0,
y0
,x1,y1,x,z)

	)

1082 
	#cimg_fÜ_š2YZC
(
img
,
y0
,
z0
,
c0
,
y1
,
z1
,
c1
,
y
,
z
,
c
è
	`cimg_fÜ_š2C
(img,c0,c1,cè
	`cimg_fÜ_š2YZ
(img,y0,z0,y1,z1,y,z)

	)

1083 
	#cimg_fÜ_š2XYZC
(
img
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
x
,
y
,
z
,
c
) \

1084 
	`cimg_fÜ_š2C
(
img
,
c0
,
c1
,
c
è
	`cimg_fÜ_š2XYZ
(img,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
)

	)

1086 
	#cimg_fÜ3
(
bound
,
i
) \

1087 
i
 = 0, 
_p1
##i = 0, \

1088 
_n1
##
i
 = 1>=(
bound
)?()(bound) - 1:1; \

1089 
_n1
##
i
<()(
bound
) || i==--_n1##i; \

1090 
_p1
##
i
 = i++, ++
_n1
##i)

	)

1091 
	#cimg_fÜ3X
(
img
,
x
è
	`cimg_fÜ3
((img).
_width
,x)

	)

1092 
	#cimg_fÜ3Y
(
img
,
y
è
	`cimg_fÜ3
((img).
_height
,y)

	)

1093 
	#cimg_fÜ3Z
(
img
,
z
è
	`cimg_fÜ3
((img).
_d•th
,z)

	)

1094 
	#cimg_fÜ3C
(
img
,
c
è
	`cimg_fÜ3
((img).
_¥eùrum
,c)

	)

1095 
	#cimg_fÜ3XY
(
img
,
x
,
y
è
	`cimg_fÜ3Y
(img,yè
	`cimg_fÜ3X
(img,x)

	)

1096 
	#cimg_fÜ3XZ
(
img
,
x
,
z
è
	`cimg_fÜ3Z
(img,zè
	`cimg_fÜ3X
(img,x)

	)

1097 
	#cimg_fÜ3XC
(
img
,
x
,
c
è
	`cimg_fÜ3C
(img,cè
	`cimg_fÜ3X
(img,x)

	)

1098 
	#cimg_fÜ3YZ
(
img
,
y
,
z
è
	`cimg_fÜ3Z
(img,zè
	`cimg_fÜ3Y
(img,y)

	)

1099 
	#cimg_fÜ3YC
(
img
,
y
,
c
è
	`cimg_fÜ3C
(img,cè
	`cimg_fÜ3Y
(img,y)

	)

1100 
	#cimg_fÜ3ZC
(
img
,
z
,
c
è
	`cimg_fÜ3C
(img,cè
	`cimg_fÜ3Z
(img,z)

	)

1101 
	#cimg_fÜ3XYZ
(
img
,
x
,
y
,
z
è
	`cimg_fÜ3Z
(img,zè
	`cimg_fÜ3XY
(img,x,y)

	)

1102 
	#cimg_fÜ3XZC
(
img
,
x
,
z
,
c
è
	`cimg_fÜ3C
(img,cè
	`cimg_fÜ3XZ
(img,x,z)

	)

1103 
	#cimg_fÜ3YZC
(
img
,
y
,
z
,
c
è
	`cimg_fÜ3C
(img,cè
	`cimg_fÜ3YZ
(img,y,z)

	)

1104 
	#cimg_fÜ3XYZC
(
img
,
x
,
y
,
z
,
c
è
	`cimg_fÜ3C
(img,cè
	`cimg_fÜ3XYZ
(img,x,y,z)

	)

1106 
	#cimg_fÜ_š3
(
bound
,
i0
,
i1
,
i
) \

1107 
i
 = ()(
i0
)<0?0:()(i0), \

1108 
_p1
##
i
 = i - 1<0?0:i - 1, \

1109 
_n1
##
i
 = i + 1>=()(
bound
)?()(bound) - 1:i + 1; \

1110 
i
<=()(
i1
è&& (
_n1
##i<()(
bound
) || i==--_n1##i); \

1111 
_p1
##
i
 = i++, ++
_n1
##i)

	)

1112 
	#cimg_fÜ_š3X
(
img
,
x0
,
x1
,
x
è
	`cimg_fÜ_š3
((img).
_width
,x0,x1,x)

	)

1113 
	#cimg_fÜ_š3Y
(
img
,
y0
,
y1
,
y
è
	`cimg_fÜ_š3
((img).
_height
,y0,y1,y)

	)

1114 
	#cimg_fÜ_š3Z
(
img
,
z0
,
z1
,
z
è
	`cimg_fÜ_š3
((img).
_d•th
,z0,z1,z)

	)

1115 
	#cimg_fÜ_š3C
(
img
,
c0
,
c1
,
c
è
	`cimg_fÜ_š3
((img).
_¥eùrum
,c0,c1,c)

	)

1116 
	#cimg_fÜ_š3XY
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
è
	`cimg_fÜ_š3Y
(img,y0,y1,yè
	`cimg_fÜ_š3X
(img,x0,x1,x)

	)

1117 
	#cimg_fÜ_š3XZ
(
img
,
x0
,
z0
,
x1
,
z1
,
x
,
z
è
	`cimg_fÜ_š3Z
(img,z0,z1,zè
	`cimg_fÜ_š3X
(img,x0,x1,x)

	)

1118 
	#cimg_fÜ_š3XC
(
img
,
x0
,
c0
,
x1
,
c1
,
x
,
c
è
	`cimg_fÜ_š3C
(img,c0,c1,cè
	`cimg_fÜ_š3X
(img,x0,x1,x)

	)

1119 
	#cimg_fÜ_š3YZ
(
img
,
y0
,
z0
,
y1
,
z1
,
y
,
z
è
	`cimg_fÜ_š3Z
(img,z0,z1,zè
	`cimg_fÜ_š3Y
(img,y0,y1,y)

	)

1120 
	#cimg_fÜ_š3YC
(
img
,
y0
,
c0
,
y1
,
c1
,
y
,
c
è
	`cimg_fÜ_š3C
(img,c0,c1,cè
	`cimg_fÜ_š3Y
(img,y0,y1,y)

	)

1121 
	#cimg_fÜ_š3ZC
(
img
,
z0
,
c0
,
z1
,
c1
,
z
,
c
è
	`cimg_fÜ_š3C
(img,c0,c1,cè
	`cimg_fÜ_š3Z
(img,z0,z1,z)

	)

1122 
	#cimg_fÜ_š3XYZ
(
img
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
è
	`cimg_fÜ_š3Z
(img,z0,z1,zè
	`cimg_fÜ_š3XY
(img,x0,y0,x1,y1,x,y)

	)

1123 
	#cimg_fÜ_š3XZC
(
img
,
x0
,
z0
,
c0
,
x1
,
y1
,
c1
,
x
,
z
,
c
è
	`cimg_fÜ_š3C
(img,c0,c1,cè
	`cimg_fÜ_š3XZ
(img,x0,
y0
,x1,y1,x,z)

	)

1124 
	#cimg_fÜ_š3YZC
(
img
,
y0
,
z0
,
c0
,
y1
,
z1
,
c1
,
y
,
z
,
c
è
	`cimg_fÜ_š3C
(img,c0,c1,cè
	`cimg_fÜ_š3YZ
(img,y0,z0,y1,z1,y,z)

	)

1125 
	#cimg_fÜ_š3XYZC
(
img
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
x
,
y
,
z
,
c
) \

1126 
	`cimg_fÜ_š3C
(
img
,
c0
,
c1
,
c
è
	`cimg_fÜ_š3XYZ
(img,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
)

	)

1128 
	#cimg_fÜ4
(
bound
,
i
) \

1129 
i
 = 0, 
_p1
##˜ğ0, 
_n1
##˜ğ1>=(
bound
)?()(bound) - 1:1, \

1130 
_n2
##
i
 = 2>=(
bound
)?()(bound) - 1:2; \

1131 
_n2
##
i
<()(
bound
è|| 
_n1
##i==--_n2##i || i==(_n2##i = --_n1##i); \

1132 
_p1
##
i
 = i++, ++
_n1
##i, ++
_n2
##i)

	)

1133 
	#cimg_fÜ4X
(
img
,
x
è
	`cimg_fÜ4
((img).
_width
,x)

	)

1134 
	#cimg_fÜ4Y
(
img
,
y
è
	`cimg_fÜ4
((img).
_height
,y)

	)

1135 
	#cimg_fÜ4Z
(
img
,
z
è
	`cimg_fÜ4
((img).
_d•th
,z)

	)

1136 
	#cimg_fÜ4C
(
img
,
c
è
	`cimg_fÜ4
((img).
_¥eùrum
,c)

	)

1137 
	#cimg_fÜ4XY
(
img
,
x
,
y
è
	`cimg_fÜ4Y
(img,yè
	`cimg_fÜ4X
(img,x)

	)

1138 
	#cimg_fÜ4XZ
(
img
,
x
,
z
è
	`cimg_fÜ4Z
(img,zè
	`cimg_fÜ4X
(img,x)

	)

1139 
	#cimg_fÜ4XC
(
img
,
x
,
c
è
	`cimg_fÜ4C
(img,cè
	`cimg_fÜ4X
(img,x)

	)

1140 
	#cimg_fÜ4YZ
(
img
,
y
,
z
è
	`cimg_fÜ4Z
(img,zè
	`cimg_fÜ4Y
(img,y)

	)

1141 
	#cimg_fÜ4YC
(
img
,
y
,
c
è
	`cimg_fÜ4C
(img,cè
	`cimg_fÜ4Y
(img,y)

	)

1142 
	#cimg_fÜ4ZC
(
img
,
z
,
c
è
	`cimg_fÜ4C
(img,cè
	`cimg_fÜ4Z
(img,z)

	)

1143 
	#cimg_fÜ4XYZ
(
img
,
x
,
y
,
z
è
	`cimg_fÜ4Z
(img,zè
	`cimg_fÜ4XY
(img,x,y)

	)

1144 
	#cimg_fÜ4XZC
(
img
,
x
,
z
,
c
è
	`cimg_fÜ4C
(img,cè
	`cimg_fÜ4XZ
(img,x,z)

	)

1145 
	#cimg_fÜ4YZC
(
img
,
y
,
z
,
c
è
	`cimg_fÜ4C
(img,cè
	`cimg_fÜ4YZ
(img,y,z)

	)

1146 
	#cimg_fÜ4XYZC
(
img
,
x
,
y
,
z
,
c
è
	`cimg_fÜ4C
(img,cè
	`cimg_fÜ4XYZ
(img,x,y,z)

	)

1148 
	#cimg_fÜ_š4
(
bound
,
i0
,
i1
,
i
) \

1149 
i
 = ()(
i0
)<0?0:()(i0), \

1150 
_p1
##
i
 = i - 1<0?0:i - 1, \

1151 
_n1
##
i
 = i + 1>=()(
bound
)?()(bound) - 1:i + 1, \

1152 
_n2
##
i
 = i + 2>=()(
bound
)?()(bound) - 1:i + 2; \

1153 
i
<=()(
i1
è&& (
_n2
##i<()(
bound
è|| 
_n1
##i==--_n2##i || i==(_n2##i = --_n1##i)); \

1154 
_p1
##
i
 = i++, ++
_n1
##i, ++
_n2
##i)

	)

1155 
	#cimg_fÜ_š4X
(
img
,
x0
,
x1
,
x
è
	`cimg_fÜ_š4
((img).
_width
,x0,x1,x)

	)

1156 
	#cimg_fÜ_š4Y
(
img
,
y0
,
y1
,
y
è
	`cimg_fÜ_š4
((img).
_height
,y0,y1,y)

	)

1157 
	#cimg_fÜ_š4Z
(
img
,
z0
,
z1
,
z
è
	`cimg_fÜ_š4
((img).
_d•th
,z0,z1,z)

	)

1158 
	#cimg_fÜ_š4C
(
img
,
c0
,
c1
,
c
è
	`cimg_fÜ_š4
((img).
_¥eùrum
,c0,c1,c)

	)

1159 
	#cimg_fÜ_š4XY
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
è
	`cimg_fÜ_š4Y
(img,y0,y1,yè
	`cimg_fÜ_š4X
(img,x0,x1,x)

	)

1160 
	#cimg_fÜ_š4XZ
(
img
,
x0
,
z0
,
x1
,
z1
,
x
,
z
è
	`cimg_fÜ_š4Z
(img,z0,z1,zè
	`cimg_fÜ_š4X
(img,x0,x1,x)

	)

1161 
	#cimg_fÜ_š4XC
(
img
,
x0
,
c0
,
x1
,
c1
,
x
,
c
è
	`cimg_fÜ_š4C
(img,c0,c1,cè
	`cimg_fÜ_š4X
(img,x0,x1,x)

	)

1162 
	#cimg_fÜ_š4YZ
(
img
,
y0
,
z0
,
y1
,
z1
,
y
,
z
è
	`cimg_fÜ_š4Z
(img,z0,z1,zè
	`cimg_fÜ_š4Y
(img,y0,y1,y)

	)

1163 
	#cimg_fÜ_š4YC
(
img
,
y0
,
c0
,
y1
,
c1
,
y
,
c
è
	`cimg_fÜ_š4C
(img,c0,c1,cè
	`cimg_fÜ_š4Y
(img,y0,y1,y)

	)

1164 
	#cimg_fÜ_š4ZC
(
img
,
z0
,
c0
,
z1
,
c1
,
z
,
c
è
	`cimg_fÜ_š4C
(img,c0,c1,cè
	`cimg_fÜ_š4Z
(img,z0,z1,z)

	)

1165 
	#cimg_fÜ_š4XYZ
(
img
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
è
	`cimg_fÜ_š4Z
(img,z0,z1,zè
	`cimg_fÜ_š4XY
(img,x0,y0,x1,y1,x,y)

	)

1166 
	#cimg_fÜ_š4XZC
(
img
,
x0
,
z0
,
c0
,
x1
,
y1
,
c1
,
x
,
z
,
c
è
	`cimg_fÜ_š4C
(img,c0,c1,cè
	`cimg_fÜ_š4XZ
(img,x0,
y0
,x1,y1,x,z)

	)

1167 
	#cimg_fÜ_š4YZC
(
img
,
y0
,
z0
,
c0
,
y1
,
z1
,
c1
,
y
,
z
,
c
è
	`cimg_fÜ_š4C
(img,c0,c1,cè
	`cimg_fÜ_š4YZ
(img,y0,z0,y1,z1,y,z)

	)

1168 
	#cimg_fÜ_š4XYZC
(
img
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
x
,
y
,
z
,
c
) \

1169 
	`cimg_fÜ_š4C
(
img
,
c0
,
c1
,
c
è
	`cimg_fÜ_š4XYZ
(img,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
)

	)

1171 
	#cimg_fÜ5
(
bound
,
i
) \

1172 
i
 = 0, 
_p2
##˜ğ0, 
_p1
##i = 0, \

1173 
_n1
##
i
 = 1>=(
bound
)?()(bound) - 1:1, \

1174 
_n2
##
i
 = 2>=(
bound
)?()(bound) - 1:2; \

1175 
_n2
##
i
<()(
bound
è|| 
_n1
##i==--_n2##i || i==(_n2##i = --_n1##i); \

1176 
_p2
##
i
 = 
_p1
##i, _p1##˜ği++, ++
_n1
##i, ++
_n2
##i)

	)

1177 
	#cimg_fÜ5X
(
img
,
x
è
	`cimg_fÜ5
((img).
_width
,x)

	)

1178 
	#cimg_fÜ5Y
(
img
,
y
è
	`cimg_fÜ5
((img).
_height
,y)

	)

1179 
	#cimg_fÜ5Z
(
img
,
z
è
	`cimg_fÜ5
((img).
_d•th
,z)

	)

1180 
	#cimg_fÜ5C
(
img
,
c
è
	`cimg_fÜ5
((img).
_¥eùrum
,c)

	)

1181 
	#cimg_fÜ5XY
(
img
,
x
,
y
è
	`cimg_fÜ5Y
(img,yè
	`cimg_fÜ5X
(img,x)

	)

1182 
	#cimg_fÜ5XZ
(
img
,
x
,
z
è
	`cimg_fÜ5Z
(img,zè
	`cimg_fÜ5X
(img,x)

	)

1183 
	#cimg_fÜ5XC
(
img
,
x
,
c
è
	`cimg_fÜ5C
(img,cè
	`cimg_fÜ5X
(img,x)

	)

1184 
	#cimg_fÜ5YZ
(
img
,
y
,
z
è
	`cimg_fÜ5Z
(img,zè
	`cimg_fÜ5Y
(img,y)

	)

1185 
	#cimg_fÜ5YC
(
img
,
y
,
c
è
	`cimg_fÜ5C
(img,cè
	`cimg_fÜ5Y
(img,y)

	)

1186 
	#cimg_fÜ5ZC
(
img
,
z
,
c
è
	`cimg_fÜ5C
(img,cè
	`cimg_fÜ5Z
(img,z)

	)

1187 
	#cimg_fÜ5XYZ
(
img
,
x
,
y
,
z
è
	`cimg_fÜ5Z
(img,zè
	`cimg_fÜ5XY
(img,x,y)

	)

1188 
	#cimg_fÜ5XZC
(
img
,
x
,
z
,
c
è
	`cimg_fÜ5C
(img,cè
	`cimg_fÜ5XZ
(img,x,z)

	)

1189 
	#cimg_fÜ5YZC
(
img
,
y
,
z
,
c
è
	`cimg_fÜ5C
(img,cè
	`cimg_fÜ5YZ
(img,y,z)

	)

1190 
	#cimg_fÜ5XYZC
(
img
,
x
,
y
,
z
,
c
è
	`cimg_fÜ5C
(img,cè
	`cimg_fÜ5XYZ
(img,x,y,z)

	)

1192 
	#cimg_fÜ_š5
(
bound
,
i0
,
i1
,
i
) \

1193 
i
 = ()(
i0
)<0?0:()(i0), \

1194 
_p2
##
i
 = i - 2<0?0:i - 2, \

1195 
_p1
##
i
 = i - 1<0?0:i - 1, \

1196 
_n1
##
i
 = i + 1>=()(
bound
)?()(bound) - 1:i + 1, \

1197 
_n2
##
i
 = i + 2>=()(
bound
)?()(bound) - 1:i + 2; \

1198 
i
<=()(
i1
è&& (
_n2
##i<()(
bound
è|| 
_n1
##i==--_n2##i || i==(_n2##i = --_n1##i)); \

1199 
_p2
##
i
 = 
_p1
##i, _p1##˜ği++, ++
_n1
##i, ++
_n2
##i)

	)

1200 
	#cimg_fÜ_š5X
(
img
,
x0
,
x1
,
x
è
	`cimg_fÜ_š5
((img).
_width
,x0,x1,x)

	)

1201 
	#cimg_fÜ_š5Y
(
img
,
y0
,
y1
,
y
è
	`cimg_fÜ_š5
((img).
_height
,y0,y1,y)

	)

1202 
	#cimg_fÜ_š5Z
(
img
,
z0
,
z1
,
z
è
	`cimg_fÜ_š5
((img).
_d•th
,z0,z1,z)

	)

1203 
	#cimg_fÜ_š5C
(
img
,
c0
,
c1
,
c
è
	`cimg_fÜ_š5
((img).
_¥eùrum
,c0,c1,c)

	)

1204 
	#cimg_fÜ_š5XY
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
è
	`cimg_fÜ_š5Y
(img,y0,y1,yè
	`cimg_fÜ_š5X
(img,x0,x1,x)

	)

1205 
	#cimg_fÜ_š5XZ
(
img
,
x0
,
z0
,
x1
,
z1
,
x
,
z
è
	`cimg_fÜ_š5Z
(img,z0,z1,zè
	`cimg_fÜ_š5X
(img,x0,x1,x)

	)

1206 
	#cimg_fÜ_š5XC
(
img
,
x0
,
c0
,
x1
,
c1
,
x
,
c
è
	`cimg_fÜ_š5C
(img,c0,c1,cè
	`cimg_fÜ_š5X
(img,x0,x1,x)

	)

1207 
	#cimg_fÜ_š5YZ
(
img
,
y0
,
z0
,
y1
,
z1
,
y
,
z
è
	`cimg_fÜ_š5Z
(img,z0,z1,zè
	`cimg_fÜ_š5Y
(img,y0,y1,y)

	)

1208 
	#cimg_fÜ_š5YC
(
img
,
y0
,
c0
,
y1
,
c1
,
y
,
c
è
	`cimg_fÜ_š5C
(img,c0,c1,cè
	`cimg_fÜ_š5Y
(img,y0,y1,y)

	)

1209 
	#cimg_fÜ_š5ZC
(
img
,
z0
,
c0
,
z1
,
c1
,
z
,
c
è
	`cimg_fÜ_š5C
(img,c0,c1,cè
	`cimg_fÜ_š5Z
(img,z0,z1,z)

	)

1210 
	#cimg_fÜ_š5XYZ
(
img
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
è
	`cimg_fÜ_š5Z
(img,z0,z1,zè
	`cimg_fÜ_š5XY
(img,x0,y0,x1,y1,x,y)

	)

1211 
	#cimg_fÜ_š5XZC
(
img
,
x0
,
z0
,
c0
,
x1
,
y1
,
c1
,
x
,
z
,
c
è
	`cimg_fÜ_š5C
(img,c0,c1,cè
	`cimg_fÜ_š5XZ
(img,x0,
y0
,x1,y1,x,z)

	)

1212 
	#cimg_fÜ_š5YZC
(
img
,
y0
,
z0
,
c0
,
y1
,
z1
,
c1
,
y
,
z
,
c
è
	`cimg_fÜ_š5C
(img,c0,c1,cè
	`cimg_fÜ_š5YZ
(img,y0,z0,y1,z1,y,z)

	)

1213 
	#cimg_fÜ_š5XYZC
(
img
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
x
,
y
,
z
,
c
) \

1214 
	`cimg_fÜ_š5C
(
img
,
c0
,
c1
,
c
è
	`cimg_fÜ_š5XYZ
(img,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
)

	)

1216 
	#cimg_fÜ6
(
bound
,
i
) \

1217 
i
 = 0, 
_p2
##˜ğ0, 
_p1
##i = 0, \

1218 
_n1
##
i
 = 1>=(
bound
)?()(bound) - 1:1, \

1219 
_n2
##
i
 = 2>=(
bound
)?()(bound) - 1:2, \

1220 
_n3
##
i
 = 3>=(
bound
)?()(bound) - 1:3; \

1221 
_n3
##
i
<()(
bound
è|| 
_n2
##i==--_n3##˜|| 
_n1
##i==--_n2##i || i==(_n3##i = _n2##i = --_n1##i); \

1222 
_p2
##
i
 = 
_p1
##i, _p1##˜ği++, ++
_n1
##i, ++
_n2
##i, ++
_n3
##i)

	)

1223 
	#cimg_fÜ6X
(
img
,
x
è
	`cimg_fÜ6
((img).
_width
,x)

	)

1224 
	#cimg_fÜ6Y
(
img
,
y
è
	`cimg_fÜ6
((img).
_height
,y)

	)

1225 
	#cimg_fÜ6Z
(
img
,
z
è
	`cimg_fÜ6
((img).
_d•th
,z)

	)

1226 
	#cimg_fÜ6C
(
img
,
c
è
	`cimg_fÜ6
((img).
_¥eùrum
,c)

	)

1227 
	#cimg_fÜ6XY
(
img
,
x
,
y
è
	`cimg_fÜ6Y
(img,yè
	`cimg_fÜ6X
(img,x)

	)

1228 
	#cimg_fÜ6XZ
(
img
,
x
,
z
è
	`cimg_fÜ6Z
(img,zè
	`cimg_fÜ6X
(img,x)

	)

1229 
	#cimg_fÜ6XC
(
img
,
x
,
c
è
	`cimg_fÜ6C
(img,cè
	`cimg_fÜ6X
(img,x)

	)

1230 
	#cimg_fÜ6YZ
(
img
,
y
,
z
è
	`cimg_fÜ6Z
(img,zè
	`cimg_fÜ6Y
(img,y)

	)

1231 
	#cimg_fÜ6YC
(
img
,
y
,
c
è
	`cimg_fÜ6C
(img,cè
	`cimg_fÜ6Y
(img,y)

	)

1232 
	#cimg_fÜ6ZC
(
img
,
z
,
c
è
	`cimg_fÜ6C
(img,cè
	`cimg_fÜ6Z
(img,z)

	)

1233 
	#cimg_fÜ6XYZ
(
img
,
x
,
y
,
z
è
	`cimg_fÜ6Z
(img,zè
	`cimg_fÜ6XY
(img,x,y)

	)

1234 
	#cimg_fÜ6XZC
(
img
,
x
,
z
,
c
è
	`cimg_fÜ6C
(img,cè
	`cimg_fÜ6XZ
(img,x,z)

	)

1235 
	#cimg_fÜ6YZC
(
img
,
y
,
z
,
c
è
	`cimg_fÜ6C
(img,cè
	`cimg_fÜ6YZ
(img,y,z)

	)

1236 
	#cimg_fÜ6XYZC
(
img
,
x
,
y
,
z
,
c
è
	`cimg_fÜ6C
(img,cè
	`cimg_fÜ6XYZ
(img,x,y,z)

	)

1238 
	#cimg_fÜ_š6
(
bound
,
i0
,
i1
,
i
) \

1239 
i
 = ()(
i0
)<0?0:()(i0), \

1240 
_p2
##
i
 = i - 2<0?0:i - 2, \

1241 
_p1
##
i
 = i - 1<0?0:i - 1, \

1242 
_n1
##
i
 = i + 1>=()(
bound
)?()(bound) - 1:i + 1, \

1243 
_n2
##
i
 = i + 2>=()(
bound
)?()(bound) - 1:i + 2, \

1244 
_n3
##
i
 = i + 3>=()(
bound
)?()(bound) - 1:i + 3; \

1245 
i
<=()(
i1
) && \

1246 (
_n3
##
i
<()(
bound
è|| 
_n2
##i==--_n3##˜|| 
_n1
##i==--_n2##i || i==(_n3##i = _n2##i = --_n1##i)); \

1247 
_p2
##
i
 = 
_p1
##i, _p1##˜ği++, ++
_n1
##i, ++
_n2
##i, ++
_n3
##i)

	)

1248 
	#cimg_fÜ_š6X
(
img
,
x0
,
x1
,
x
è
	`cimg_fÜ_š6
((img).
_width
,x0,x1,x)

	)

1249 
	#cimg_fÜ_š6Y
(
img
,
y0
,
y1
,
y
è
	`cimg_fÜ_š6
((img).
_height
,y0,y1,y)

	)

1250 
	#cimg_fÜ_š6Z
(
img
,
z0
,
z1
,
z
è
	`cimg_fÜ_š6
((img).
_d•th
,z0,z1,z)

	)

1251 
	#cimg_fÜ_š6C
(
img
,
c0
,
c1
,
c
è
	`cimg_fÜ_š6
((img).
_¥eùrum
,c0,c1,c)

	)

1252 
	#cimg_fÜ_š6XY
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
è
	`cimg_fÜ_š6Y
(img,y0,y1,yè
	`cimg_fÜ_š6X
(img,x0,x1,x)

	)

1253 
	#cimg_fÜ_š6XZ
(
img
,
x0
,
z0
,
x1
,
z1
,
x
,
z
è
	`cimg_fÜ_š6Z
(img,z0,z1,zè
	`cimg_fÜ_š6X
(img,x0,x1,x)

	)

1254 
	#cimg_fÜ_š6XC
(
img
,
x0
,
c0
,
x1
,
c1
,
x
,
c
è
	`cimg_fÜ_š6C
(img,c0,c1,cè
	`cimg_fÜ_š6X
(img,x0,x1,x)

	)

1255 
	#cimg_fÜ_š6YZ
(
img
,
y0
,
z0
,
y1
,
z1
,
y
,
z
è
	`cimg_fÜ_š6Z
(img,z0,z1,zè
	`cimg_fÜ_š6Y
(img,y0,y1,y)

	)

1256 
	#cimg_fÜ_š6YC
(
img
,
y0
,
c0
,
y1
,
c1
,
y
,
c
è
	`cimg_fÜ_š6C
(img,c0,c1,cè
	`cimg_fÜ_š6Y
(img,y0,y1,y)

	)

1257 
	#cimg_fÜ_š6ZC
(
img
,
z0
,
c0
,
z1
,
c1
,
z
,
c
è
	`cimg_fÜ_š6C
(img,c0,c1,cè
	`cimg_fÜ_š6Z
(img,z0,z1,z)

	)

1258 
	#cimg_fÜ_š6XYZ
(
img
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
è
	`cimg_fÜ_š6Z
(img,z0,z1,zè
	`cimg_fÜ_š6XY
(img,x0,y0,x1,y1,x,y)

	)

1259 
	#cimg_fÜ_š6XZC
(
img
,
x0
,
z0
,
c0
,
x1
,
y1
,
c1
,
x
,
z
,
c
è
	`cimg_fÜ_š6C
(img,c0,c1,cè
	`cimg_fÜ_š6XZ
(img,x0,
y0
,x1,y1,x,z)

	)

1260 
	#cimg_fÜ_š6YZC
(
img
,
y0
,
z0
,
c0
,
y1
,
z1
,
c1
,
y
,
z
,
c
è
	`cimg_fÜ_š6C
(img,c0,c1,cè
	`cimg_fÜ_š6YZ
(img,y0,z0,y1,z1,y,z)

	)

1261 
	#cimg_fÜ_š6XYZC
(
img
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
x
,
y
,
z
,
c
) \

1262 
	`cimg_fÜ_š6C
(
img
,
c0
,
c1
,
c
è
	`cimg_fÜ_š6XYZ
(img,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
)

	)

1264 
	#cimg_fÜ7
(
bound
,
i
) \

1265 
i
 = 0, 
_p3
##˜ğ0, 
_p2
##˜ğ0, 
_p1
##i = 0, \

1266 
_n1
##
i
 = 1>=(
bound
)?()(bound) - 1:1, \

1267 
_n2
##
i
 = 2>=(
bound
)?()(bound) - 1:2, \

1268 
_n3
##
i
 = 3>=(
bound
)?()(bound) - 1:3; \

1269 
_n3
##
i
<()(
bound
è|| 
_n2
##i==--_n3##˜|| 
_n1
##i==--_n2##i || i==(_n3##i = _n2##i = --_n1##i); \

1270 
_p3
##
i
 = 
_p2
##i, _p2##˜ğ
_p1
##i, _p1##˜ği++, ++
_n1
##i, ++
_n2
##i, ++
_n3
##i)

	)

1271 
	#cimg_fÜ7X
(
img
,
x
è
	`cimg_fÜ7
((img).
_width
,x)

	)

1272 
	#cimg_fÜ7Y
(
img
,
y
è
	`cimg_fÜ7
((img).
_height
,y)

	)

1273 
	#cimg_fÜ7Z
(
img
,
z
è
	`cimg_fÜ7
((img).
_d•th
,z)

	)

1274 
	#cimg_fÜ7C
(
img
,
c
è
	`cimg_fÜ7
((img).
_¥eùrum
,c)

	)

1275 
	#cimg_fÜ7XY
(
img
,
x
,
y
è
	`cimg_fÜ7Y
(img,yè
	`cimg_fÜ7X
(img,x)

	)

1276 
	#cimg_fÜ7XZ
(
img
,
x
,
z
è
	`cimg_fÜ7Z
(img,zè
	`cimg_fÜ7X
(img,x)

	)

1277 
	#cimg_fÜ7XC
(
img
,
x
,
c
è
	`cimg_fÜ7C
(img,cè
	`cimg_fÜ7X
(img,x)

	)

1278 
	#cimg_fÜ7YZ
(
img
,
y
,
z
è
	`cimg_fÜ7Z
(img,zè
	`cimg_fÜ7Y
(img,y)

	)

1279 
	#cimg_fÜ7YC
(
img
,
y
,
c
è
	`cimg_fÜ7C
(img,cè
	`cimg_fÜ7Y
(img,y)

	)

1280 
	#cimg_fÜ7ZC
(
img
,
z
,
c
è
	`cimg_fÜ7C
(img,cè
	`cimg_fÜ7Z
(img,z)

	)

1281 
	#cimg_fÜ7XYZ
(
img
,
x
,
y
,
z
è
	`cimg_fÜ7Z
(img,zè
	`cimg_fÜ7XY
(img,x,y)

	)

1282 
	#cimg_fÜ7XZC
(
img
,
x
,
z
,
c
è
	`cimg_fÜ7C
(img,cè
	`cimg_fÜ7XZ
(img,x,z)

	)

1283 
	#cimg_fÜ7YZC
(
img
,
y
,
z
,
c
è
	`cimg_fÜ7C
(img,cè
	`cimg_fÜ7YZ
(img,y,z)

	)

1284 
	#cimg_fÜ7XYZC
(
img
,
x
,
y
,
z
,
c
è
	`cimg_fÜ7C
(img,cè
	`cimg_fÜ7XYZ
(img,x,y,z)

	)

1286 
	#cimg_fÜ_š7
(
bound
,
i0
,
i1
,
i
) \

1287 
i
 = ()(
i0
)<0?0:()(i0), \

1288 
_p3
##
i
 = i - 3<0?0:i - 3, \

1289 
_p2
##
i
 = i - 2<0?0:i - 2, \

1290 
_p1
##
i
 = i - 1<0?0:i - 1, \

1291 
_n1
##
i
 = i + 1>=()(
bound
)?()(bound) - 1:i + 1, \

1292 
_n2
##
i
 = i + 2>=()(
bound
)?()(bound) - 1:i + 2, \

1293 
_n3
##
i
 = i + 3>=()(
bound
)?()(bound) - 1:i + 3; \

1294 
i
<=()(
i1
) && \

1295 (
_n3
##
i
<()(
bound
è|| 
_n2
##i==--_n3##˜|| 
_n1
##i==--_n2##i || i==(_n3##i = _n2##i = --_n1##i)); \

1296 
_p3
##
i
 = 
_p2
##i, _p2##˜ğ
_p1
##i, _p1##˜ği++, ++
_n1
##i, ++
_n2
##i, ++
_n3
##i)

	)

1297 
	#cimg_fÜ_š7X
(
img
,
x0
,
x1
,
x
è
	`cimg_fÜ_š7
((img).
_width
,x0,x1,x)

	)

1298 
	#cimg_fÜ_š7Y
(
img
,
y0
,
y1
,
y
è
	`cimg_fÜ_š7
((img).
_height
,y0,y1,y)

	)

1299 
	#cimg_fÜ_š7Z
(
img
,
z0
,
z1
,
z
è
	`cimg_fÜ_š7
((img).
_d•th
,z0,z1,z)

	)

1300 
	#cimg_fÜ_š7C
(
img
,
c0
,
c1
,
c
è
	`cimg_fÜ_š7
((img).
_¥eùrum
,c0,c1,c)

	)

1301 
	#cimg_fÜ_š7XY
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
è
	`cimg_fÜ_š7Y
(img,y0,y1,yè
	`cimg_fÜ_š7X
(img,x0,x1,x)

	)

1302 
	#cimg_fÜ_š7XZ
(
img
,
x0
,
z0
,
x1
,
z1
,
x
,
z
è
	`cimg_fÜ_š7Z
(img,z0,z1,zè
	`cimg_fÜ_š7X
(img,x0,x1,x)

	)

1303 
	#cimg_fÜ_š7XC
(
img
,
x0
,
c0
,
x1
,
c1
,
x
,
c
è
	`cimg_fÜ_š7C
(img,c0,c1,cè
	`cimg_fÜ_š7X
(img,x0,x1,x)

	)

1304 
	#cimg_fÜ_š7YZ
(
img
,
y0
,
z0
,
y1
,
z1
,
y
,
z
è
	`cimg_fÜ_š7Z
(img,z0,z1,zè
	`cimg_fÜ_š7Y
(img,y0,y1,y)

	)

1305 
	#cimg_fÜ_š7YC
(
img
,
y0
,
c0
,
y1
,
c1
,
y
,
c
è
	`cimg_fÜ_š7C
(img,c0,c1,cè
	`cimg_fÜ_š7Y
(img,y0,y1,y)

	)

1306 
	#cimg_fÜ_š7ZC
(
img
,
z0
,
c0
,
z1
,
c1
,
z
,
c
è
	`cimg_fÜ_š7C
(img,c0,c1,cè
	`cimg_fÜ_š7Z
(img,z0,z1,z)

	)

1307 
	#cimg_fÜ_š7XYZ
(
img
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
è
	`cimg_fÜ_š7Z
(img,z0,z1,zè
	`cimg_fÜ_š7XY
(img,x0,y0,x1,y1,x,y)

	)

1308 
	#cimg_fÜ_š7XZC
(
img
,
x0
,
z0
,
c0
,
x1
,
y1
,
c1
,
x
,
z
,
c
è
	`cimg_fÜ_š7C
(img,c0,c1,cè
	`cimg_fÜ_š7XZ
(img,x0,
y0
,x1,y1,x,z)

	)

1309 
	#cimg_fÜ_š7YZC
(
img
,
y0
,
z0
,
c0
,
y1
,
z1
,
c1
,
y
,
z
,
c
è
	`cimg_fÜ_š7C
(img,c0,c1,cè
	`cimg_fÜ_š7YZ
(img,y0,z0,y1,z1,y,z)

	)

1310 
	#cimg_fÜ_š7XYZC
(
img
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
x
,
y
,
z
,
c
) \

1311 
	`cimg_fÜ_š7C
(
img
,
c0
,
c1
,
c
è
	`cimg_fÜ_š7XYZ
(img,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
)

	)

1313 
	#cimg_fÜ8
(
bound
,
i
) \

1314 
i
 = 0, 
_p3
##˜ğ0, 
_p2
##˜ğ0, 
_p1
##i = 0, \

1315 
_n1
##
i
 = 1>=(
bound
)?()(bound) - 1:1, \

1316 
_n2
##
i
 = 2>=(
bound
)?()(bound) - 1:2, \

1317 
_n3
##
i
 = 3>=(
bound
)?()(bound) - 1:3, \

1318 
_n4
##
i
 = 4>=(
bound
)?()(bound) - 1:4; \

1319 
_n4
##
i
<()(
bound
è|| 
_n3
##i==--_n4##˜|| 
_n2
##i==--_n3##˜|| 
_n1
##i==--_n2##i || \

1320 
i
==(
_n4
##˜ğ
_n3
##˜ğ
_n2
##˜ğ--
_n1
##i); \

1321 
_p3
##
i
 = 
_p2
##i, _p2##˜ğ
_p1
##i, _p1##˜ği++, ++
_n1
##i, ++
_n2
##i, ++
_n3
##i, ++
_n4
##i)

	)

1322 
	#cimg_fÜ8X
(
img
,
x
è
	`cimg_fÜ8
((img).
_width
,x)

	)

1323 
	#cimg_fÜ8Y
(
img
,
y
è
	`cimg_fÜ8
((img).
_height
,y)

	)

1324 
	#cimg_fÜ8Z
(
img
,
z
è
	`cimg_fÜ8
((img).
_d•th
,z)

	)

1325 
	#cimg_fÜ8C
(
img
,
c
è
	`cimg_fÜ8
((img).
_¥eùrum
,c)

	)

1326 
	#cimg_fÜ8XY
(
img
,
x
,
y
è
	`cimg_fÜ8Y
(img,yè
	`cimg_fÜ8X
(img,x)

	)

1327 
	#cimg_fÜ8XZ
(
img
,
x
,
z
è
	`cimg_fÜ8Z
(img,zè
	`cimg_fÜ8X
(img,x)

	)

1328 
	#cimg_fÜ8XC
(
img
,
x
,
c
è
	`cimg_fÜ8C
(img,cè
	`cimg_fÜ8X
(img,x)

	)

1329 
	#cimg_fÜ8YZ
(
img
,
y
,
z
è
	`cimg_fÜ8Z
(img,zè
	`cimg_fÜ8Y
(img,y)

	)

1330 
	#cimg_fÜ8YC
(
img
,
y
,
c
è
	`cimg_fÜ8C
(img,cè
	`cimg_fÜ8Y
(img,y)

	)

1331 
	#cimg_fÜ8ZC
(
img
,
z
,
c
è
	`cimg_fÜ8C
(img,cè
	`cimg_fÜ8Z
(img,z)

	)

1332 
	#cimg_fÜ8XYZ
(
img
,
x
,
y
,
z
è
	`cimg_fÜ8Z
(img,zè
	`cimg_fÜ8XY
(img,x,y)

	)

1333 
	#cimg_fÜ8XZC
(
img
,
x
,
z
,
c
è
	`cimg_fÜ8C
(img,cè
	`cimg_fÜ8XZ
(img,x,z)

	)

1334 
	#cimg_fÜ8YZC
(
img
,
y
,
z
,
c
è
	`cimg_fÜ8C
(img,cè
	`cimg_fÜ8YZ
(img,y,z)

	)

1335 
	#cimg_fÜ8XYZC
(
img
,
x
,
y
,
z
,
c
è
	`cimg_fÜ8C
(img,cè
	`cimg_fÜ8XYZ
(img,x,y,z)

	)

1337 
	#cimg_fÜ_š8
(
bound
,
i0
,
i1
,
i
) \

1338 
i
 = ()(
i0
)<0?0:()(i0), \

1339 
_p3
##
i
 = i - 3<0?0:i - 3, \

1340 
_p2
##
i
 = i - 2<0?0:i - 2, \

1341 
_p1
##
i
 = i - 1<0?0:i - 1, \

1342 
_n1
##
i
 = i + 1>=()(
bound
)?()(bound) - 1:i + 1, \

1343 
_n2
##
i
 = i + 2>=()(
bound
)?()(bound) - 1:i + 2, \

1344 
_n3
##
i
 = i + 3>=()(
bound
)?()(bound) - 1:i + 3, \

1345 
_n4
##
i
 = i + 4>=()(
bound
)?()(bound) - 1:i + 4; \

1346 
i
<=()(
i1
è&& (
_n4
##i<()(
bound
è|| 
_n3
##i==--_n4##˜|| 
_n2
##i==--_n3##˜|| 
_n1
##i==--_n2##i || \

1347 
i
==(
_n4
##˜ğ
_n3
##˜ğ
_n2
##˜ğ--
_n1
##i)); \

1348 
_p3
##
i
 = 
_p2
##i, _p2##˜ğ
_p1
##i, _p1##˜ği++, ++
_n1
##i, ++
_n2
##i, ++
_n3
##i, ++
_n4
##i)

	)

1349 
	#cimg_fÜ_š8X
(
img
,
x0
,
x1
,
x
è
	`cimg_fÜ_š8
((img).
_width
,x0,x1,x)

	)

1350 
	#cimg_fÜ_š8Y
(
img
,
y0
,
y1
,
y
è
	`cimg_fÜ_š8
((img).
_height
,y0,y1,y)

	)

1351 
	#cimg_fÜ_š8Z
(
img
,
z0
,
z1
,
z
è
	`cimg_fÜ_š8
((img).
_d•th
,z0,z1,z)

	)

1352 
	#cimg_fÜ_š8C
(
img
,
c0
,
c1
,
c
è
	`cimg_fÜ_š8
((img).
_¥eùrum
,c0,c1,c)

	)

1353 
	#cimg_fÜ_š8XY
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
è
	`cimg_fÜ_š8Y
(img,y0,y1,yè
	`cimg_fÜ_š8X
(img,x0,x1,x)

	)

1354 
	#cimg_fÜ_š8XZ
(
img
,
x0
,
z0
,
x1
,
z1
,
x
,
z
è
	`cimg_fÜ_š8Z
(img,z0,z1,zè
	`cimg_fÜ_š8X
(img,x0,x1,x)

	)

1355 
	#cimg_fÜ_š8XC
(
img
,
x0
,
c0
,
x1
,
c1
,
x
,
c
è
	`cimg_fÜ_š8C
(img,c0,c1,cè
	`cimg_fÜ_š8X
(img,x0,x1,x)

	)

1356 
	#cimg_fÜ_š8YZ
(
img
,
y0
,
z0
,
y1
,
z1
,
y
,
z
è
	`cimg_fÜ_š8Z
(img,z0,z1,zè
	`cimg_fÜ_š8Y
(img,y0,y1,y)

	)

1357 
	#cimg_fÜ_š8YC
(
img
,
y0
,
c0
,
y1
,
c1
,
y
,
c
è
	`cimg_fÜ_š8C
(img,c0,c1,cè
	`cimg_fÜ_š8Y
(img,y0,y1,y)

	)

1358 
	#cimg_fÜ_š8ZC
(
img
,
z0
,
c0
,
z1
,
c1
,
z
,
c
è
	`cimg_fÜ_š8C
(img,c0,c1,cè
	`cimg_fÜ_š8Z
(img,z0,z1,z)

	)

1359 
	#cimg_fÜ_š8XYZ
(
img
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
è
	`cimg_fÜ_š8Z
(img,z0,z1,zè
	`cimg_fÜ_š8XY
(img,x0,y0,x1,y1,x,y)

	)

1360 
	#cimg_fÜ_š8XZC
(
img
,
x0
,
z0
,
c0
,
x1
,
y1
,
c1
,
x
,
z
,
c
è
	`cimg_fÜ_š8C
(img,c0,c1,cè
	`cimg_fÜ_š8XZ
(img,x0,
y0
,x1,y1,x,z)

	)

1361 
	#cimg_fÜ_š8YZC
(
img
,
y0
,
z0
,
c0
,
y1
,
z1
,
c1
,
y
,
z
,
c
è
	`cimg_fÜ_š8C
(img,c0,c1,cè
	`cimg_fÜ_š8YZ
(img,y0,z0,y1,z1,y,z)

	)

1362 
	#cimg_fÜ_š8XYZC
(
img
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
x
,
y
,
z
,
c
) \

1363 
	`cimg_fÜ_š8C
(
img
,
c0
,
c1
,
c
è
	`cimg_fÜ_š8XYZ
(img,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
)

	)

1365 
	#cimg_fÜ9
(
bound
,
i
) \

1366 
i
 = 0, 
_p4
##˜ğ0, 
_p3
##˜ğ0, 
_p2
##˜ğ0, 
_p1
##i = 0, \

1367 
_n1
##
i
 = 1>=()(
bound
)?()(bound) - 1:1, \

1368 
_n2
##
i
 = 2>=()(
bound
)?()(bound) - 1:2, \

1369 
_n3
##
i
 = 3>=()(
bound
)?()(bound) - 1:3, \

1370 
_n4
##
i
 = 4>=()(
bound
)?()(bound) - 1:4; \

1371 
_n4
##
i
<()(
bound
è|| 
_n3
##i==--_n4##˜|| 
_n2
##i==--_n3##˜|| 
_n1
##i==--_n2##i || \

1372 
i
==(
_n4
##˜ğ
_n3
##˜ğ
_n2
##˜ğ--
_n1
##i); \

1373 
_p4
##
i
 = 
_p3
##i, _p3##˜ğ
_p2
##i, _p2##˜ğ
_p1
##i, _p1##˜ği++, ++
_n1
##i, ++
_n2
##i, ++
_n3
##i, ++
_n4
##i)

	)

1374 
	#cimg_fÜ9X
(
img
,
x
è
	`cimg_fÜ9
((img).
_width
,x)

	)

1375 
	#cimg_fÜ9Y
(
img
,
y
è
	`cimg_fÜ9
((img).
_height
,y)

	)

1376 
	#cimg_fÜ9Z
(
img
,
z
è
	`cimg_fÜ9
((img).
_d•th
,z)

	)

1377 
	#cimg_fÜ9C
(
img
,
c
è
	`cimg_fÜ9
((img).
_¥eùrum
,c)

	)

1378 
	#cimg_fÜ9XY
(
img
,
x
,
y
è
	`cimg_fÜ9Y
(img,yè
	`cimg_fÜ9X
(img,x)

	)

1379 
	#cimg_fÜ9XZ
(
img
,
x
,
z
è
	`cimg_fÜ9Z
(img,zè
	`cimg_fÜ9X
(img,x)

	)

1380 
	#cimg_fÜ9XC
(
img
,
x
,
c
è
	`cimg_fÜ9C
(img,cè
	`cimg_fÜ9X
(img,x)

	)

1381 
	#cimg_fÜ9YZ
(
img
,
y
,
z
è
	`cimg_fÜ9Z
(img,zè
	`cimg_fÜ9Y
(img,y)

	)

1382 
	#cimg_fÜ9YC
(
img
,
y
,
c
è
	`cimg_fÜ9C
(img,cè
	`cimg_fÜ9Y
(img,y)

	)

1383 
	#cimg_fÜ9ZC
(
img
,
z
,
c
è
	`cimg_fÜ9C
(img,cè
	`cimg_fÜ9Z
(img,z)

	)

1384 
	#cimg_fÜ9XYZ
(
img
,
x
,
y
,
z
è
	`cimg_fÜ9Z
(img,zè
	`cimg_fÜ9XY
(img,x,y)

	)

1385 
	#cimg_fÜ9XZC
(
img
,
x
,
z
,
c
è
	`cimg_fÜ9C
(img,cè
	`cimg_fÜ9XZ
(img,x,z)

	)

1386 
	#cimg_fÜ9YZC
(
img
,
y
,
z
,
c
è
	`cimg_fÜ9C
(img,cè
	`cimg_fÜ9YZ
(img,y,z)

	)

1387 
	#cimg_fÜ9XYZC
(
img
,
x
,
y
,
z
,
c
è
	`cimg_fÜ9C
(img,cè
	`cimg_fÜ9XYZ
(img,x,y,z)

	)

1389 
	#cimg_fÜ_š9
(
bound
,
i0
,
i1
,
i
) \

1390 
i
 = ()(
i0
)<0?0:()(i0), \

1391 
_p4
##
i
 = i - 4<0?0:i - 4, \

1392 
_p3
##
i
 = i - 3<0?0:i - 3, \

1393 
_p2
##
i
 = i - 2<0?0:i - 2, \

1394 
_p1
##
i
 = i - 1<0?0:i - 1, \

1395 
_n1
##
i
 = i + 1>=()(
bound
)?()(bound) - 1:i + 1, \

1396 
_n2
##
i
 = i + 2>=()(
bound
)?()(bound) - 1:i + 2, \

1397 
_n3
##
i
 = i + 3>=()(
bound
)?()(bound) - 1:i + 3, \

1398 
_n4
##
i
 = i + 4>=()(
bound
)?()(bound) - 1:i + 4; \

1399 
i
<=()(
i1
è&& (
_n4
##i<()(
bound
è|| 
_n3
##i==--_n4##˜|| 
_n2
##i==--_n3##˜|| 
_n1
##i==--_n2##i || \

1400 
i
==(
_n4
##˜ğ
_n3
##˜ğ
_n2
##˜ğ--
_n1
##i)); \

1401 
_p4
##
i
 = 
_p3
##i, _p3##˜ğ
_p2
##i, _p2##˜ğ
_p1
##i, _p1##˜ği++, ++
_n1
##i, ++
_n2
##i, ++
_n3
##i, ++
_n4
##i)

	)

1402 
	#cimg_fÜ_š9X
(
img
,
x0
,
x1
,
x
è
	`cimg_fÜ_š9
((img).
_width
,x0,x1,x)

	)

1403 
	#cimg_fÜ_š9Y
(
img
,
y0
,
y1
,
y
è
	`cimg_fÜ_š9
((img).
_height
,y0,y1,y)

	)

1404 
	#cimg_fÜ_š9Z
(
img
,
z0
,
z1
,
z
è
	`cimg_fÜ_š9
((img).
_d•th
,z0,z1,z)

	)

1405 
	#cimg_fÜ_š9C
(
img
,
c0
,
c1
,
c
è
	`cimg_fÜ_š9
((img).
_¥eùrum
,c0,c1,c)

	)

1406 
	#cimg_fÜ_š9XY
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
è
	`cimg_fÜ_š9Y
(img,y0,y1,yè
	`cimg_fÜ_š9X
(img,x0,x1,x)

	)

1407 
	#cimg_fÜ_š9XZ
(
img
,
x0
,
z0
,
x1
,
z1
,
x
,
z
è
	`cimg_fÜ_š9Z
(img,z0,z1,zè
	`cimg_fÜ_š9X
(img,x0,x1,x)

	)

1408 
	#cimg_fÜ_š9XC
(
img
,
x0
,
c0
,
x1
,
c1
,
x
,
c
è
	`cimg_fÜ_š9C
(img,c0,c1,cè
	`cimg_fÜ_š9X
(img,x0,x1,x)

	)

1409 
	#cimg_fÜ_š9YZ
(
img
,
y0
,
z0
,
y1
,
z1
,
y
,
z
è
	`cimg_fÜ_š9Z
(img,z0,z1,zè
	`cimg_fÜ_š9Y
(img,y0,y1,y)

	)

1410 
	#cimg_fÜ_š9YC
(
img
,
y0
,
c0
,
y1
,
c1
,
y
,
c
è
	`cimg_fÜ_š9C
(img,c0,c1,cè
	`cimg_fÜ_š9Y
(img,y0,y1,y)

	)

1411 
	#cimg_fÜ_š9ZC
(
img
,
z0
,
c0
,
z1
,
c1
,
z
,
c
è
	`cimg_fÜ_š9C
(img,c0,c1,cè
	`cimg_fÜ_š9Z
(img,z0,z1,z)

	)

1412 
	#cimg_fÜ_š9XYZ
(
img
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
è
	`cimg_fÜ_š9Z
(img,z0,z1,zè
	`cimg_fÜ_š9XY
(img,x0,y0,x1,y1,x,y)

	)

1413 
	#cimg_fÜ_š9XZC
(
img
,
x0
,
z0
,
c0
,
x1
,
y1
,
c1
,
x
,
z
,
c
è
	`cimg_fÜ_š9C
(img,c0,c1,cè
	`cimg_fÜ_š9XZ
(img,x0,
y0
,x1,y1,x,z)

	)

1414 
	#cimg_fÜ_š9YZC
(
img
,
y0
,
z0
,
c0
,
y1
,
z1
,
c1
,
y
,
z
,
c
è
	`cimg_fÜ_š9C
(img,c0,c1,cè
	`cimg_fÜ_š9YZ
(img,y0,z0,y1,z1,y,z)

	)

1415 
	#cimg_fÜ_š9XYZC
(
img
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
x
,
y
,
z
,
c
) \

1416 
	`cimg_fÜ_š9C
(
img
,
c0
,
c1
,
c
è
	`cimg_fÜ_š9XYZ
(img,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
)

	)

1418 
	#cimg_fÜ2x2
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

1419 
	`cimg_fÜ2
((
img
).
_height
,
y
è
x
 = 0, \

1420 
_n1
##
x
 = ()( \

1421 (
I
[0] = (
T
)(
img
)(0,
y
,
z
,
c
)), \

1422 (
I
[2] = (
T
)(
img
)(0,
_n1
##
y
,
z
,
c
)), \

1423 1>=(
img
).
_width
?(img).
	`width
() - 1:1); \

1424 (
_n1
##
x
<(
img
).
	`width
() && ( \

1425 (
I
[1] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1426 (
I
[3] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)),1)) || \

1427 
x
==--
_n1
##x; \

1428 
I
[0] = I[1], \

1429 
I
[2] = I[3], \

1430 ++
x
, ++
_n1
##x)

	)

1432 
	#cimg_fÜ_š2x2
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
,
z
,
c
,
I
,
T
) \

1433 
	`cimg_fÜ_š2
((
img
).
_height
,
y0
,
y1
,
y
è
x
 = ()(
x0
)<0?0:()(x0), \

1434 
_n1
##
x
 = ()( \

1435 (
I
[0] = (
T
)(
img
)(
x
,
y
,
z
,
c
)), \

1436 (
I
[2] = (
T
)(
img
)(
x
,
_n1
##
y
,
z
,
c
)), \

1437 
x
 + 1>=()(
img
).
_width
?(img).
	`width
() - 1:x + 1); \

1438 
x
<=()(
x1
è&& ((
_n1
##x<(
img
).
	`width
() && ( \

1439 (
I
[1] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1440 (
I
[3] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)),1)) || \

1441 
x
==--
_n1
##x); \

1442 
I
[0] = I[1], \

1443 
I
[2] = I[3], \

1444 ++
x
, ++
_n1
##x)

	)

1446 
	#cimg_fÜ3x3
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

1447 
	`cimg_fÜ3
((
img
).
_height
,
y
è
x
 = 0, \

1448 
_p1
##
x
 = 0, \

1449 
_n1
##
x
 = ()( \

1450 (
I
[0] = I[1] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
)), \

1451 (
I
[3] = I[4] = (
T
)(
img
)(0,
y
,
z
,
c
)), \

1452 (
I
[6] = I[7] = (
T
)(
img
)(0,
_n1
##
y
,
z
,
c
)), \

1453 1>=(
img
).
_width
?(img).
	`width
() - 1:1); \

1454 (
_n1
##
x
<(
img
).
	`width
() && ( \

1455 (
I
[2] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1456 (
I
[5] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1457 (
I
[8] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)),1)) || \

1458 
x
==--
_n1
##x; \

1459 
I
[0] = I[1], I[1] = I[2], \

1460 
I
[3] = I[4], I[4] = I[5], \

1461 
I
[6] = I[7], I[7] = I[8], \

1462 
_p1
##
x
 = x++, ++
_n1
##x)

	)

1464 
	#cimg_fÜ_š3x3
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
,
z
,
c
,
I
,
T
) \

1465 
	`cimg_fÜ_š3
((
img
).
_height
,
y0
,
y1
,
y
è
x
 = ()(
x0
)<0?0:()(x0), \

1466 
_p1
##
x
 = x - 1<0?0:x - 1, \

1467 
_n1
##
x
 = ()( \

1468 (
I
[0] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
)), \

1469 (
I
[3] = (
T
)(
img
)(
_p1
##
x
,
y
,
z
,
c
)), \

1470 (
I
[6] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,
z
,
c
)), \

1471 (
I
[1] = (
T
)(
img
)(
x
,
_p1
##
y
,
z
,
c
)), \

1472 (
I
[4] = (
T
)(
img
)(
x
,
y
,
z
,
c
)), \

1473 (
I
[7] = (
T
)(
img
)(
x
,
_n1
##
y
,
z
,
c
)), \

1474 
x
 + 1>=()(
img
).
_width
?(img).
	`width
() - 1:x + 1); \

1475 
x
<=()(
x1
è&& ((
_n1
##x<(
img
).
	`width
() && ( \

1476 (
I
[2] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1477 (
I
[5] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1478 (
I
[8] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)),1)) || \

1479 
x
==--
_n1
##x); \

1480 
I
[0] = I[1], I[1] = I[2], \

1481 
I
[3] = I[4], I[4] = I[5], \

1482 
I
[6] = I[7], I[7] = I[8], \

1483 
_p1
##
x
 = x++, ++
_n1
##x)

	)

1485 
	#cimg_fÜ4x4
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

1486 
	`cimg_fÜ4
((
img
).
_height
,
y
è
x
 = 0, \

1487 
_p1
##
x
 = 0, \

1488 
_n1
##
x
 = 1>=(
img
).
_width
?(img).
	`width
() - 1:1, \

1489 
_n2
##
x
 = ()( \

1490 (
I
[0] = I[1] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
)), \

1491 (
I
[4] = I[5] = (
T
)(
img
)(0,
y
,
z
,
c
)), \

1492 (
I
[8] = I[9] = (
T
)(
img
)(0,
_n1
##
y
,
z
,
c
)), \

1493 (
I
[12] = I[13] = (
T
)(
img
)(0,
_n2
##
y
,
z
,
c
)), \

1494 (
I
[2] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1495 (
I
[6] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1496 (
I
[10] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1497 (
I
[14] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
)), \

1498 2>=(
img
).
_width
?(img).
	`width
() - 1:2); \

1499 (
_n2
##
x
<(
img
).
	`width
() && ( \

1500 (
I
[3] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
)), \

1501 (
I
[7] = (
T
)(
img
)(
_n2
##
x
,
y
,
z
,
c
)), \

1502 (
I
[11] = (
T
)(
img
)(
_n2
##
x
,
_n1
##
y
,
z
,
c
)), \

1503 (
I
[15] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)),1)) || \

1504 
_n1
##
x
==--
_n2
##x || x==(_n2##x = --_n1##x); \

1505 
I
[0] = I[1], I[1] = I[2], I[2] = I[3], \

1506 
I
[4] = I[5], I[5] = I[6], I[6] = I[7], \

1507 
I
[8] = I[9], I[9] = I[10], I[10] = I[11], \

1508 
I
[12] = I[13], I[13] = I[14], I[14] = I[15], \

1509 
_p1
##
x
 = x++, ++
_n1
##x, ++
_n2
##x)

	)

1511 
	#cimg_fÜ_š4x4
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
,
z
,
c
,
I
,
T
) \

1512 
	`cimg_fÜ_š4
((
img
).
_height
,
y0
,
y1
,
y
è
x
 = ()(
x0
)<0?0:()(x0), \

1513 
_p1
##
x
 = x - 1<0?0:x - 1, \

1514 
_n1
##
x
 = x + 1>=()(
img
).
_width
?(img).
	`width
() - 1:x + 1, \

1515 
_n2
##
x
 = ()( \

1516 (
I
[0] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
)), \

1517 (
I
[4] = (
T
)(
img
)(
_p1
##
x
,
y
,
z
,
c
)), \

1518 (
I
[8] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,
z
,
c
)), \

1519 (
I
[12] = (
T
)(
img
)(
_p1
##
x
,
_n2
##
y
,
z
,
c
)), \

1520 (
I
[1] = (
T
)(
img
)(
x
,
_p1
##
y
,
z
,
c
)), \

1521 (
I
[5] = (
T
)(
img
)(
x
,
y
,
z
,
c
)), \

1522 (
I
[9] = (
T
)(
img
)(
x
,
_n1
##
y
,
z
,
c
)), \

1523 (
I
[13] = (
T
)(
img
)(
x
,
_n2
##
y
,
z
,
c
)), \

1524 (
I
[2] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1525 (
I
[6] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1526 (
I
[10] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1527 (
I
[14] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
)), \

1528 
x
 + 2>=()(
img
).
_width
?(img).
	`width
() - 1:x + 2); \

1529 
x
<=()(
x1
è&& ((
_n2
##x<(
img
).
	`width
() && ( \

1530 (
I
[3] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
)), \

1531 (
I
[7] = (
T
)(
img
)(
_n2
##
x
,
y
,
z
,
c
)), \

1532 (
I
[11] = (
T
)(
img
)(
_n2
##
x
,
_n1
##
y
,
z
,
c
)), \

1533 (
I
[15] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)),1)) || \

1534 
_n1
##
x
==--
_n2
##x || x==(_n2##x = --_n1##x)); \

1535 
I
[0] = I[1], I[1] = I[2], I[2] = I[3], \

1536 
I
[4] = I[5], I[5] = I[6], I[6] = I[7], \

1537 
I
[8] = I[9], I[9] = I[10], I[10] = I[11], \

1538 
I
[12] = I[13], I[13] = I[14], I[14] = I[15], \

1539 
_p1
##
x
 = x++, ++
_n1
##x, ++
_n2
##x)

	)

1541 
	#cimg_fÜ5x5
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

1542 
	`cimg_fÜ5
((
img
).
_height
,
y
è
x
 = 0, \

1543 
_p2
##
x
 = 0, 
_p1
##x = 0, \

1544 
_n1
##
x
 = 1>=(
img
).
_width
?(img).
	`width
() - 1:1, \

1545 
_n2
##
x
 = ()( \

1546 (
I
[0] = I[1] = I[2] = (
T
)(
img
)(
_p2
##
x
,_p2##
y
,
z
,
c
)), \

1547 (
I
[5] = I[6] = I[7] = (
T
)(
img
)(0,
_p1
##
y
,
z
,
c
)), \

1548 (
I
[10] = I[11] = I[12] = (
T
)(
img
)(0,
y
,
z
,
c
)), \

1549 (
I
[15] = I[16] = I[17] = (
T
)(
img
)(0,
_n1
##
y
,
z
,
c
)), \

1550 (
I
[20] = I[21] = I[22] = (
T
)(
img
)(0,
_n2
##
y
,
z
,
c
)), \

1551 (
I
[3] = (
T
)(
img
)(
_n1
##
x
,
_p2
##
y
,
z
,
c
)), \

1552 (
I
[8] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1553 (
I
[13] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1554 (
I
[18] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1555 (
I
[23] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
)), \

1556 2>=(
img
).
_width
?(img).
	`width
() - 1:2); \

1557 (
_n2
##
x
<(
img
).
	`width
() && ( \

1558 (
I
[4] = (
T
)(
img
)(
_n2
##
x
,
_p2
##
y
,
z
,
c
)), \

1559 (
I
[9] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
)), \

1560 (
I
[14] = (
T
)(
img
)(
_n2
##
x
,
y
,
z
,
c
)), \

1561 (
I
[19] = (
T
)(
img
)(
_n2
##
x
,
_n1
##
y
,
z
,
c
)), \

1562 (
I
[24] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)),1)) || \

1563 
_n1
##
x
==--
_n2
##x || x==(_n2##x = --_n1##x); \

1564 
I
[0] = I[1], I[1] = I[2], I[2] = I[3], I[3] = I[4], \

1565 
I
[5] = I[6], I[6] = I[7], I[7] = I[8], I[8] = I[9], \

1566 
I
[10] = I[11], I[11] = I[12], I[12] = I[13], I[13] = I[14], \

1567 
I
[15] = I[16], I[16] = I[17], I[17] = I[18], I[18] = I[19], \

1568 
I
[20] = I[21], I[21] = I[22], I[22] = I[23], I[23] = I[24], \

1569 
_p2
##
x
 = 
_p1
##x, _p1##x = x++, ++
_n1
##x, ++
_n2
##x)

	)

1571 
	#cimg_fÜ_š5x5
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
,
z
,
c
,
I
,
T
) \

1572 
	`cimg_fÜ_š5
((
img
).
_height
,
y0
,
y1
,
y
è
x
 = ()(
x0
)<0?0:()(x0), \

1573 
_p2
##
x
 = x - 2<0?0:x - 2, \

1574 
_p1
##
x
 = x - 1<0?0:x - 1, \

1575 
_n1
##
x
 = x + 1>=()(
img
).
_width
?(img).
	`width
() - 1:x + 1, \

1576 
_n2
##
x
 = ()( \

1577 (
I
[0] = (
T
)(
img
)(
_p2
##
x
,_p2##
y
,
z
,
c
)), \

1578 (
I
[5] = (
T
)(
img
)(
_p2
##
x
,
_p1
##
y
,
z
,
c
)), \

1579 (
I
[10] = (
T
)(
img
)(
_p2
##
x
,
y
,
z
,
c
)), \

1580 (
I
[15] = (
T
)(
img
)(
_p2
##
x
,
_n1
##
y
,
z
,
c
)), \

1581 (
I
[20] = (
T
)(
img
)(
_p2
##
x
,
_n2
##
y
,
z
,
c
)), \

1582 (
I
[1] = (
T
)(
img
)(
_p1
##
x
,
_p2
##
y
,
z
,
c
)), \

1583 (
I
[6] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
)), \

1584 (
I
[11] = (
T
)(
img
)(
_p1
##
x
,
y
,
z
,
c
)), \

1585 (
I
[16] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,
z
,
c
)), \

1586 (
I
[21] = (
T
)(
img
)(
_p1
##
x
,
_n2
##
y
,
z
,
c
)), \

1587 (
I
[2] = (
T
)(
img
)(
x
,
_p2
##
y
,
z
,
c
)), \

1588 (
I
[7] = (
T
)(
img
)(
x
,
_p1
##
y
,
z
,
c
)), \

1589 (
I
[12] = (
T
)(
img
)(
x
,
y
,
z
,
c
)), \

1590 (
I
[17] = (
T
)(
img
)(
x
,
_n1
##
y
,
z
,
c
)), \

1591 (
I
[22] = (
T
)(
img
)(
x
,
_n2
##
y
,
z
,
c
)), \

1592 (
I
[3] = (
T
)(
img
)(
_n1
##
x
,
_p2
##
y
,
z
,
c
)), \

1593 (
I
[8] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1594 (
I
[13] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1595 (
I
[18] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1596 (
I
[23] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
)), \

1597 
x
 + 2>=()(
img
).
_width
?(img).
	`width
() - 1:x + 2); \

1598 
x
<=()(
x1
è&& ((
_n2
##x<(
img
).
	`width
() && ( \

1599 (
I
[4] = (
T
)(
img
)(
_n2
##
x
,
_p2
##
y
,
z
,
c
)), \

1600 (
I
[9] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
)), \

1601 (
I
[14] = (
T
)(
img
)(
_n2
##
x
,
y
,
z
,
c
)), \

1602 (
I
[19] = (
T
)(
img
)(
_n2
##
x
,
_n1
##
y
,
z
,
c
)), \

1603 (
I
[24] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)),1)) || \

1604 
_n1
##
x
==--
_n2
##x || x==(_n2##x = --_n1##x)); \

1605 
I
[0] = I[1], I[1] = I[2], I[2] = I[3], I[3] = I[4], \

1606 
I
[5] = I[6], I[6] = I[7], I[7] = I[8], I[8] = I[9], \

1607 
I
[10] = I[11], I[11] = I[12], I[12] = I[13], I[13] = I[14], \

1608 
I
[15] = I[16], I[16] = I[17], I[17] = I[18], I[18] = I[19], \

1609 
I
[20] = I[21], I[21] = I[22], I[22] = I[23], I[23] = I[24], \

1610 
_p2
##
x
 = 
_p1
##x, _p1##x = x++, ++
_n1
##x, ++
_n2
##x)

	)

1612 
	#cimg_fÜ6x6
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

1613 
	`cimg_fÜ6
((
img
).
_height
,
y
è
x
 = 0, \

1614 
_p2
##
x
 = 0, 
_p1
##x = 0, \

1615 
_n1
##
x
 = 1>=(
img
).
_width
?(img).
	`width
() - 1:1, \

1616 
_n2
##
x
 = 2>=(
img
).
_width
?(img).
	`width
() - 1:2, \

1617 
_n3
##
x
 = ()( \

1618 (
I
[0] = I[1] = I[2] = (
T
)(
img
)(
_p2
##
x
,_p2##
y
,
z
,
c
)), \

1619 (
I
[6] = I[7] = I[8] = (
T
)(
img
)(0,
_p1
##
y
,
z
,
c
)), \

1620 (
I
[12] = I[13] = I[14] = (
T
)(
img
)(0,
y
,
z
,
c
)), \

1621 (
I
[18] = I[19] = I[20] = (
T
)(
img
)(0,
_n1
##
y
,
z
,
c
)), \

1622 (
I
[24] = I[25] = I[26] = (
T
)(
img
)(0,
_n2
##
y
,
z
,
c
)), \

1623 (
I
[30] = I[31] = I[32] = (
T
)(
img
)(0,
_n3
##
y
,
z
,
c
)), \

1624 (
I
[3] = (
T
)(
img
)(
_n1
##
x
,
_p2
##
y
,
z
,
c
)), \

1625 (
I
[9] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1626 (
I
[15] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1627 (
I
[21] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1628 (
I
[27] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
)), \

1629 (
I
[33] = (
T
)(
img
)(
_n1
##
x
,
_n3
##
y
,
z
,
c
)), \

1630 (
I
[4] = (
T
)(
img
)(
_n2
##
x
,
_p2
##
y
,
z
,
c
)), \

1631 (
I
[10] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
)), \

1632 (
I
[16] = (
T
)(
img
)(
_n2
##
x
,
y
,
z
,
c
)), \

1633 (
I
[22] = (
T
)(
img
)(
_n2
##
x
,
_n1
##
y
,
z
,
c
)), \

1634 (
I
[28] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)), \

1635 (
I
[34] = (
T
)(
img
)(
_n2
##
x
,
_n3
##
y
,
z
,
c
)), \

1636 3>=(
img
).
_width
?(img).
	`width
() - 1:3); \

1637 (
_n3
##
x
<(
img
).
	`width
() && ( \

1638 (
I
[5] = (
T
)(
img
)(
_n3
##
x
,
_p2
##
y
,
z
,
c
)), \

1639 (
I
[11] = (
T
)(
img
)(
_n3
##
x
,
_p1
##
y
,
z
,
c
)), \

1640 (
I
[17] = (
T
)(
img
)(
_n3
##
x
,
y
,
z
,
c
)), \

1641 (
I
[23] = (
T
)(
img
)(
_n3
##
x
,
_n1
##
y
,
z
,
c
)), \

1642 (
I
[29] = (
T
)(
img
)(
_n3
##
x
,
_n2
##
y
,
z
,
c
)), \

1643 (
I
[35] = (
T
)(
img
)(
_n3
##
x
,_n3##
y
,
z
,
c
)),1)) || \

1644 
_n2
##
x
==--
_n3
##x || 
_n1
##x==--_n2##x || x==(_n3## x = _n2##x = --_n1##x); \

1645 
I
[0] = I[1], I[1] = I[2], I[2] = I[3], I[3] = I[4], I[4] = I[5], \

1646 
I
[6] = I[7], I[7] = I[8], I[8] = I[9], I[9] = I[10], I[10] = I[11], \

1647 
I
[12] = I[13], I[13] = I[14], I[14] = I[15], I[15] = I[16], I[16] = I[17], \

1648 
I
[18] = I[19], I[19] = I[20], I[20] = I[21], I[21] = I[22], I[22] = I[23], \

1649 
I
[24] = I[25], I[25] = I[26], I[26] = I[27], I[27] = I[28], I[28] = I[29], \

1650 
I
[30] = I[31], I[31] = I[32], I[32] = I[33], I[33] = I[34], I[34] = I[35], \

1651 
_p2
##
x
 = 
_p1
##x, _p1##x = x++, ++
_n1
##x, ++
_n2
##x, ++
_n3
##x)

	)

1653 
	#cimg_fÜ_š6x6
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
,
z
,
c
,
I
,
T
) \

1654 
	`cimg_fÜ_š6
((
img
).
_height
,
y0
,
y1
,
y
è
x
 = ()(
x0
)<0?0:()x0, \

1655 
_p2
##
x
 = x - 2<0?0:x - 2, \

1656 
_p1
##
x
 = x - 1<0?0:x - 1, \

1657 
_n1
##
x
 = x + 1>=()(
img
).
_width
?(img).
	`width
() - 1:x + 1, \

1658 
_n2
##
x
 = x + 2>=()(
img
).
_width
?(img).
	`width
() - 1:x + 2, \

1659 
_n3
##
x
 = ()( \

1660 (
I
[0] = (
T
)(
img
)(
_p2
##
x
,_p2##
y
,
z
,
c
)), \

1661 (
I
[6] = (
T
)(
img
)(
_p2
##
x
,
_p1
##
y
,
z
,
c
)), \

1662 (
I
[12] = (
T
)(
img
)(
_p2
##
x
,
y
,
z
,
c
)), \

1663 (
I
[18] = (
T
)(
img
)(
_p2
##
x
,
_n1
##
y
,
z
,
c
)), \

1664 (
I
[24] = (
T
)(
img
)(
_p2
##
x
,
_n2
##
y
,
z
,
c
)), \

1665 (
I
[30] = (
T
)(
img
)(
_p2
##
x
,
_n3
##
y
,
z
,
c
)), \

1666 (
I
[1] = (
T
)(
img
)(
_p1
##
x
,
_p2
##
y
,
z
,
c
)), \

1667 (
I
[7] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
)), \

1668 (
I
[13] = (
T
)(
img
)(
_p1
##
x
,
y
,
z
,
c
)), \

1669 (
I
[19] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,
z
,
c
)), \

1670 (
I
[25] = (
T
)(
img
)(
_p1
##
x
,
_n2
##
y
,
z
,
c
)), \

1671 (
I
[31] = (
T
)(
img
)(
_p1
##
x
,
_n3
##
y
,
z
,
c
)), \

1672 (
I
[2] = (
T
)(
img
)(
x
,
_p2
##
y
,
z
,
c
)), \

1673 (
I
[8] = (
T
)(
img
)(
x
,
_p1
##
y
,
z
,
c
)), \

1674 (
I
[14] = (
T
)(
img
)(
x
,
y
,
z
,
c
)), \

1675 (
I
[20] = (
T
)(
img
)(
x
,
_n1
##
y
,
z
,
c
)), \

1676 (
I
[26] = (
T
)(
img
)(
x
,
_n2
##
y
,
z
,
c
)), \

1677 (
I
[32] = (
T
)(
img
)(
x
,
_n3
##
y
,
z
,
c
)), \

1678 (
I
[3] = (
T
)(
img
)(
_n1
##
x
,
_p2
##
y
,
z
,
c
)), \

1679 (
I
[9] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1680 (
I
[15] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1681 (
I
[21] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1682 (
I
[27] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
)), \

1683 (
I
[33] = (
T
)(
img
)(
_n1
##
x
,
_n3
##
y
,
z
,
c
)), \

1684 (
I
[4] = (
T
)(
img
)(
_n2
##
x
,
_p2
##
y
,
z
,
c
)), \

1685 (
I
[10] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
)), \

1686 (
I
[16] = (
T
)(
img
)(
_n2
##
x
,
y
,
z
,
c
)), \

1687 (
I
[22] = (
T
)(
img
)(
_n2
##
x
,
_n1
##
y
,
z
,
c
)), \

1688 (
I
[28] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)), \

1689 (
I
[34] = (
T
)(
img
)(
_n2
##
x
,
_n3
##
y
,
z
,
c
)), \

1690 
x
 + 3>=()(
img
).
_width
?(img).
	`width
() - 1:x + 3); \

1691 
x
<=()(
x1
è&& ((
_n3
##x<(
img
).
	`width
() && ( \

1692 (
I
[5] = (
T
)(
img
)(
_n3
##
x
,
_p2
##
y
,
z
,
c
)), \

1693 (
I
[11] = (
T
)(
img
)(
_n3
##
x
,
_p1
##
y
,
z
,
c
)), \

1694 (
I
[17] = (
T
)(
img
)(
_n3
##
x
,
y
,
z
,
c
)), \

1695 (
I
[23] = (
T
)(
img
)(
_n3
##
x
,
_n1
##
y
,
z
,
c
)), \

1696 (
I
[29] = (
T
)(
img
)(
_n3
##
x
,
_n2
##
y
,
z
,
c
)), \

1697 (
I
[35] = (
T
)(
img
)(
_n3
##
x
,_n3##
y
,
z
,
c
)),1)) || \

1698 
_n2
##
x
==--
_n3
##x || 
_n1
##x==--_n2##x || x==(_n3## x = _n2##x = --_n1##x)); \

1699 
I
[0] = I[1], I[1] = I[2], I[2] = I[3], I[3] = I[4], I[4] = I[5], \

1700 
I
[6] = I[7], I[7] = I[8], I[8] = I[9], I[9] = I[10], I[10] = I[11], \

1701 
I
[12] = I[13], I[13] = I[14], I[14] = I[15], I[15] = I[16], I[16] = I[17], \

1702 
I
[18] = I[19], I[19] = I[20], I[20] = I[21], I[21] = I[22], I[22] = I[23], \

1703 
I
[24] = I[25], I[25] = I[26], I[26] = I[27], I[27] = I[28], I[28] = I[29], \

1704 
I
[30] = I[31], I[31] = I[32], I[32] = I[33], I[33] = I[34], I[34] = I[35], \

1705 
_p2
##
x
 = 
_p1
##x, _p1##x = x++, ++
_n1
##x, ++
_n2
##x, ++
_n3
##x)

	)

1707 
	#cimg_fÜ7x7
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

1708 
	`cimg_fÜ7
((
img
).
_height
,
y
è
x
 = 0, \

1709 
_p3
##
x
 = 0, 
_p2
##x = 0, 
_p1
##x = 0, \

1710 
_n1
##
x
 = 1>=(
img
).
_width
?(img).
	`width
() - 1:1, \

1711 
_n2
##
x
 = 2>=(
img
).
_width
?(img).
	`width
() - 1:2, \

1712 
_n3
##
x
 = ()( \

1713 (
I
[0] = I[1] = I[2] = I[3] = (
T
)(
img
)(
_p3
##
x
,_p3##
y
,
z
,
c
)), \

1714 (
I
[7] = I[8] = I[9] = I[10] = (
T
)(
img
)(0,
_p2
##
y
,
z
,
c
)), \

1715 (
I
[14] = I[15] = I[16] = I[17] = (
T
)(
img
)(0,
_p1
##
y
,
z
,
c
)), \

1716 (
I
[21] = I[22] = I[23] = I[24] = (
T
)(
img
)(0,
y
,
z
,
c
)), \

1717 (
I
[28] = I[29] = I[30] = I[31] = (
T
)(
img
)(0,
_n1
##
y
,
z
,
c
)), \

1718 (
I
[35] = I[36] = I[37] = I[38] = (
T
)(
img
)(0,
_n2
##
y
,
z
,
c
)), \

1719 (
I
[42] = I[43] = I[44] = I[45] = (
T
)(
img
)(0,
_n3
##
y
,
z
,
c
)), \

1720 (
I
[4] = (
T
)(
img
)(
_n1
##
x
,
_p3
##
y
,
z
,
c
)), \

1721 (
I
[11] = (
T
)(
img
)(
_n1
##
x
,
_p2
##
y
,
z
,
c
)), \

1722 (
I
[18] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1723 (
I
[25] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1724 (
I
[32] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1725 (
I
[39] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
)), \

1726 (
I
[46] = (
T
)(
img
)(
_n1
##
x
,
_n3
##
y
,
z
,
c
)), \

1727 (
I
[5] = (
T
)(
img
)(
_n2
##
x
,
_p3
##
y
,
z
,
c
)), \

1728 (
I
[12] = (
T
)(
img
)(
_n2
##
x
,
_p2
##
y
,
z
,
c
)), \

1729 (
I
[19] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
)), \

1730 (
I
[26] = (
T
)(
img
)(
_n2
##
x
,
y
,
z
,
c
)), \

1731 (
I
[33] = (
T
)(
img
)(
_n2
##
x
,
_n1
##
y
,
z
,
c
)), \

1732 (
I
[40] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)), \

1733 (
I
[47] = (
T
)(
img
)(
_n2
##
x
,
_n3
##
y
,
z
,
c
)), \

1734 3>=(
img
).
_width
?(img).
	`width
() - 1:3); \

1735 (
_n3
##
x
<(
img
).
	`width
() && ( \

1736 (
I
[6] = (
T
)(
img
)(
_n3
##
x
,
_p3
##
y
,
z
,
c
)), \

1737 (
I
[13] = (
T
)(
img
)(
_n3
##
x
,
_p2
##
y
,
z
,
c
)), \

1738 (
I
[20] = (
T
)(
img
)(
_n3
##
x
,
_p1
##
y
,
z
,
c
)), \

1739 (
I
[27] = (
T
)(
img
)(
_n3
##
x
,
y
,
z
,
c
)), \

1740 (
I
[34] = (
T
)(
img
)(
_n3
##
x
,
_n1
##
y
,
z
,
c
)), \

1741 (
I
[41] = (
T
)(
img
)(
_n3
##
x
,
_n2
##
y
,
z
,
c
)), \

1742 (
I
[48] = (
T
)(
img
)(
_n3
##
x
,_n3##
y
,
z
,
c
)),1)) || \

1743 
_n2
##
x
==--
_n3
##x || 
_n1
##x==--_n2##x || x==(_n3##x = _n2##x = --_n1##x); \

1744 
I
[0] = I[1], I[1] = I[2], I[2] = I[3], I[3] = I[4], I[4] = I[5], I[5] = I[6], \

1745 
I
[7] = I[8], I[8] = I[9], I[9] = I[10], I[10] = I[11], I[11] = I[12], I[12] = I[13], \

1746 
I
[14] = I[15], I[15] = I[16], I[16] = I[17], I[17] = I[18], I[18] = I[19], I[19] = I[20], \

1747 
I
[21] = I[22], I[22] = I[23], I[23] = I[24], I[24] = I[25], I[25] = I[26], I[26] = I[27], \

1748 
I
[28] = I[29], I[29] = I[30], I[30] = I[31], I[31] = I[32], I[32] = I[33], I[33] = I[34], \

1749 
I
[35] = I[36], I[36] = I[37], I[37] = I[38], I[38] = I[39], I[39] = I[40], I[40] = I[41], \

1750 
I
[42] = I[43], I[43] = I[44], I[44] = I[45], I[45] = I[46], I[46] = I[47], I[47] = I[48], \

1751 
_p3
##
x
 = 
_p2
##x, _p2##x = 
_p1
##x, _p1##x = x++, ++
_n1
##x, ++
_n2
##x, ++
_n3
##x)

	)

1753 
	#cimg_fÜ_š7x7
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
,
z
,
c
,
I
,
T
) \

1754 
	`cimg_fÜ_š7
((
img
).
_height
,
y0
,
y1
,
y
è
x
 = ()(
x0
)<0?0:()(x0), \

1755 
_p3
##
x
 = x - 3<0?0:x - 3, \

1756 
_p2
##
x
 = x - 2<0?0:x - 2, \

1757 
_p1
##
x
 = x - 1<0?0:x - 1, \

1758 
_n1
##
x
 = x + 1>=()(
img
).
_width
?(img).
	`width
() - 1:x + 1, \

1759 
_n2
##
x
 = x + 2>=()(
img
).
_width
?(img).
	`width
() - 1:x + 2, \

1760 
_n3
##
x
 = ()( \

1761 (
I
[0] = (
T
)(
img
)(
_p3
##
x
,_p3##
y
,
z
,
c
)), \

1762 (
I
[7] = (
T
)(
img
)(
_p3
##
x
,
_p2
##
y
,
z
,
c
)), \

1763 (
I
[14] = (
T
)(
img
)(
_p3
##
x
,
_p1
##
y
,
z
,
c
)), \

1764 (
I
[21] = (
T
)(
img
)(
_p3
##
x
,
y
,
z
,
c
)), \

1765 (
I
[28] = (
T
)(
img
)(
_p3
##
x
,
_n1
##
y
,
z
,
c
)), \

1766 (
I
[35] = (
T
)(
img
)(
_p3
##
x
,
_n2
##
y
,
z
,
c
)), \

1767 (
I
[42] = (
T
)(
img
)(
_p3
##
x
,
_n3
##
y
,
z
,
c
)), \

1768 (
I
[1] = (
T
)(
img
)(
_p2
##
x
,
_p3
##
y
,
z
,
c
)), \

1769 (
I
[8] = (
T
)(
img
)(
_p2
##
x
,_p2##
y
,
z
,
c
)), \

1770 (
I
[15] = (
T
)(
img
)(
_p2
##
x
,
_p1
##
y
,
z
,
c
)), \

1771 (
I
[22] = (
T
)(
img
)(
_p2
##
x
,
y
,
z
,
c
)), \

1772 (
I
[29] = (
T
)(
img
)(
_p2
##
x
,
_n1
##
y
,
z
,
c
)), \

1773 (
I
[36] = (
T
)(
img
)(
_p2
##
x
,
_n2
##
y
,
z
,
c
)), \

1774 (
I
[43] = (
T
)(
img
)(
_p2
##
x
,
_n3
##
y
,
z
,
c
)), \

1775 (
I
[2] = (
T
)(
img
)(
_p1
##
x
,
_p3
##
y
,
z
,
c
)), \

1776 (
I
[9] = (
T
)(
img
)(
_p1
##
x
,
_p2
##
y
,
z
,
c
)), \

1777 (
I
[16] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
)), \

1778 (
I
[23] = (
T
)(
img
)(
_p1
##
x
,
y
,
z
,
c
)), \

1779 (
I
[30] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,
z
,
c
)), \

1780 (
I
[37] = (
T
)(
img
)(
_p1
##
x
,
_n2
##
y
,
z
,
c
)), \

1781 (
I
[44] = (
T
)(
img
)(
_p1
##
x
,
_n3
##
y
,
z
,
c
)), \

1782 (
I
[3] = (
T
)(
img
)(
x
,
_p3
##
y
,
z
,
c
)), \

1783 (
I
[10] = (
T
)(
img
)(
x
,
_p2
##
y
,
z
,
c
)), \

1784 (
I
[17] = (
T
)(
img
)(
x
,
_p1
##
y
,
z
,
c
)), \

1785 (
I
[24] = (
T
)(
img
)(
x
,
y
,
z
,
c
)), \

1786 (
I
[31] = (
T
)(
img
)(
x
,
_n1
##
y
,
z
,
c
)), \

1787 (
I
[38] = (
T
)(
img
)(
x
,
_n2
##
y
,
z
,
c
)), \

1788 (
I
[45] = (
T
)(
img
)(
x
,
_n3
##
y
,
z
,
c
)), \

1789 (
I
[4] = (
T
)(
img
)(
_n1
##
x
,
_p3
##
y
,
z
,
c
)), \

1790 (
I
[11] = (
T
)(
img
)(
_n1
##
x
,
_p2
##
y
,
z
,
c
)), \

1791 (
I
[18] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1792 (
I
[25] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1793 (
I
[32] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1794 (
I
[39] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
)), \

1795 (
I
[46] = (
T
)(
img
)(
_n1
##
x
,
_n3
##
y
,
z
,
c
)), \

1796 (
I
[5] = (
T
)(
img
)(
_n2
##
x
,
_p3
##
y
,
z
,
c
)), \

1797 (
I
[12] = (
T
)(
img
)(
_n2
##
x
,
_p2
##
y
,
z
,
c
)), \

1798 (
I
[19] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
)), \

1799 (
I
[26] = (
T
)(
img
)(
_n2
##
x
,
y
,
z
,
c
)), \

1800 (
I
[33] = (
T
)(
img
)(
_n2
##
x
,
_n1
##
y
,
z
,
c
)), \

1801 (
I
[40] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)), \

1802 (
I
[47] = (
T
)(
img
)(
_n2
##
x
,
_n3
##
y
,
z
,
c
)), \

1803 
x
 + 3>=()(
img
).
_width
?(img).
	`width
() - 1:x + 3); \

1804 
x
<=()(
x1
è&& ((
_n3
##x<(
img
).
	`width
() && ( \

1805 (
I
[6] = (
T
)(
img
)(
_n3
##
x
,
_p3
##
y
,
z
,
c
)), \

1806 (
I
[13] = (
T
)(
img
)(
_n3
##
x
,
_p2
##
y
,
z
,
c
)), \

1807 (
I
[20] = (
T
)(
img
)(
_n3
##
x
,
_p1
##
y
,
z
,
c
)), \

1808 (
I
[27] = (
T
)(
img
)(
_n3
##
x
,
y
,
z
,
c
)), \

1809 (
I
[34] = (
T
)(
img
)(
_n3
##
x
,
_n1
##
y
,
z
,
c
)), \

1810 (
I
[41] = (
T
)(
img
)(
_n3
##
x
,
_n2
##
y
,
z
,
c
)), \

1811 (
I
[48] = (
T
)(
img
)(
_n3
##
x
,_n3##
y
,
z
,
c
)),1)) || \

1812 
_n2
##
x
==--
_n3
##x || 
_n1
##x==--_n2##x || x==(_n3##x = _n2##x = --_n1##x)); \

1813 
I
[0] = I[1], I[1] = I[2], I[2] = I[3], I[3] = I[4], I[4] = I[5], I[5] = I[6], \

1814 
I
[7] = I[8], I[8] = I[9], I[9] = I[10], I[10] = I[11], I[11] = I[12], I[12] = I[13], \

1815 
I
[14] = I[15], I[15] = I[16], I[16] = I[17], I[17] = I[18], I[18] = I[19], I[19] = I[20], \

1816 
I
[21] = I[22], I[22] = I[23], I[23] = I[24], I[24] = I[25], I[25] = I[26], I[26] = I[27], \

1817 
I
[28] = I[29], I[29] = I[30], I[30] = I[31], I[31] = I[32], I[32] = I[33], I[33] = I[34], \

1818 
I
[35] = I[36], I[36] = I[37], I[37] = I[38], I[38] = I[39], I[39] = I[40], I[40] = I[41], \

1819 
I
[42] = I[43], I[43] = I[44], I[44] = I[45], I[45] = I[46], I[46] = I[47], I[47] = I[48], \

1820 
_p3
##
x
 = 
_p2
##x, _p2##x = 
_p1
##x, _p1##x = x++, ++
_n1
##x, ++
_n2
##x, ++
_n3
##x)

	)

1822 
	#cimg_fÜ8x8
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

1823 
	`cimg_fÜ8
((
img
).
_height
,
y
è
x
 = 0, \

1824 
_p3
##
x
 = 0, 
_p2
##x = 0, 
_p1
##x = 0, \

1825 
_n1
##
x
 = 1>=((
img
).
_width
)?(img).
	`width
() - 1:1, \

1826 
_n2
##
x
 = 2>=((
img
).
_width
)?(img).
	`width
() - 1:2, \

1827 
_n3
##
x
 = 3>=((
img
).
_width
)?(img).
	`width
() - 1:3, \

1828 
_n4
##
x
 = ()( \

1829 (
I
[0] = I[1] = I[2] = I[3] = (
T
)(
img
)(
_p3
##
x
,_p3##
y
,
z
,
c
)), \

1830 (
I
[8] = I[9] = I[10] = I[11] = (
T
)(
img
)(0,
_p2
##
y
,
z
,
c
)), \

1831 (
I
[16] = I[17] = I[18] = I[19] = (
T
)(
img
)(0,
_p1
##
y
,
z
,
c
)), \

1832 (
I
[24] = I[25] = I[26] = I[27] = (
T
)(
img
)(0,
y
,
z
,
c
)), \

1833 (
I
[32] = I[33] = I[34] = I[35] = (
T
)(
img
)(0,
_n1
##
y
,
z
,
c
)), \

1834 (
I
[40] = I[41] = I[42] = I[43] = (
T
)(
img
)(0,
_n2
##
y
,
z
,
c
)), \

1835 (
I
[48] = I[49] = I[50] = I[51] = (
T
)(
img
)(0,
_n3
##
y
,
z
,
c
)), \

1836 (
I
[56] = I[57] = I[58] = I[59] = (
T
)(
img
)(0,
_n4
##
y
,
z
,
c
)), \

1837 (
I
[4] = (
T
)(
img
)(
_n1
##
x
,
_p3
##
y
,
z
,
c
)), \

1838 (
I
[12] = (
T
)(
img
)(
_n1
##
x
,
_p2
##
y
,
z
,
c
)), \

1839 (
I
[20] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1840 (
I
[28] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1841 (
I
[36] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1842 (
I
[44] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
)), \

1843 (
I
[52] = (
T
)(
img
)(
_n1
##
x
,
_n3
##
y
,
z
,
c
)), \

1844 (
I
[60] = (
T
)(
img
)(
_n1
##
x
,
_n4
##
y
,
z
,
c
)), \

1845 (
I
[5] = (
T
)(
img
)(
_n2
##
x
,
_p3
##
y
,
z
,
c
)), \

1846 (
I
[13] = (
T
)(
img
)(
_n2
##
x
,
_p2
##
y
,
z
,
c
)), \

1847 (
I
[21] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
)), \

1848 (
I
[29] = (
T
)(
img
)(
_n2
##
x
,
y
,
z
,
c
)), \

1849 (
I
[37] = (
T
)(
img
)(
_n2
##
x
,
_n1
##
y
,
z
,
c
)), \

1850 (
I
[45] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)), \

1851 (
I
[53] = (
T
)(
img
)(
_n2
##
x
,
_n3
##
y
,
z
,
c
)), \

1852 (
I
[61] = (
T
)(
img
)(
_n2
##
x
,
_n4
##
y
,
z
,
c
)), \

1853 (
I
[6] = (
T
)(
img
)(
_n3
##
x
,
_p3
##
y
,
z
,
c
)), \

1854 (
I
[14] = (
T
)(
img
)(
_n3
##
x
,
_p2
##
y
,
z
,
c
)), \

1855 (
I
[22] = (
T
)(
img
)(
_n3
##
x
,
_p1
##
y
,
z
,
c
)), \

1856 (
I
[30] = (
T
)(
img
)(
_n3
##
x
,
y
,
z
,
c
)), \

1857 (
I
[38] = (
T
)(
img
)(
_n3
##
x
,
_n1
##
y
,
z
,
c
)), \

1858 (
I
[46] = (
T
)(
img
)(
_n3
##
x
,
_n2
##
y
,
z
,
c
)), \

1859 (
I
[54] = (
T
)(
img
)(
_n3
##
x
,_n3##
y
,
z
,
c
)), \

1860 (
I
[62] = (
T
)(
img
)(
_n3
##
x
,
_n4
##
y
,
z
,
c
)), \

1861 4>=((
img
).
_width
)?(img).
	`width
() - 1:4); \

1862 (
_n4
##
x
<(
img
).
	`width
() && ( \

1863 (
I
[7] = (
T
)(
img
)(
_n4
##
x
,
_p3
##
y
,
z
,
c
)), \

1864 (
I
[15] = (
T
)(
img
)(
_n4
##
x
,
_p2
##
y
,
z
,
c
)), \

1865 (
I
[23] = (
T
)(
img
)(
_n4
##
x
,
_p1
##
y
,
z
,
c
)), \

1866 (
I
[31] = (
T
)(
img
)(
_n4
##
x
,
y
,
z
,
c
)), \

1867 (
I
[39] = (
T
)(
img
)(
_n4
##
x
,
_n1
##
y
,
z
,
c
)), \

1868 (
I
[47] = (
T
)(
img
)(
_n4
##
x
,
_n2
##
y
,
z
,
c
)), \

1869 (
I
[55] = (
T
)(
img
)(
_n4
##
x
,
_n3
##
y
,
z
,
c
)), \

1870 (
I
[63] = (
T
)(
img
)(
_n4
##
x
,_n4##
y
,
z
,
c
)),1)) || \

1871 
_n3
##
x
==--
_n4
##x || 
_n2
##x==--_n3##x || 
_n1
##x==--_n2##x || x==(_n4##x = _n3##x = _n2##x = --_n1##x); \

1872 
I
[0] = I[1], I[1] = I[2], I[2] = I[3], I[3] = I[4], I[4] = I[5], I[5] = I[6], I[6] = I[7], \

1873 
I
[8] = I[9], I[9] = I[10], I[10] = I[11], I[11] = I[12], I[12] = I[13], I[13] = I[14], I[14] = I[15], \

1874 
I
[16] = I[17], I[17] = I[18], I[18] = I[19], I[19] = I[20], I[20] = I[21], I[21] = I[22], I[22] = I[23], \

1875 
I
[24] = I[25], I[25] = I[26], I[26] = I[27], I[27] = I[28], I[28] = I[29], I[29] = I[30], I[30] = I[31], \

1876 
I
[32] = I[33], I[33] = I[34], I[34] = I[35], I[35] = I[36], I[36] = I[37], I[37] = I[38], I[38] = I[39], \

1877 
I
[40] = I[41], I[41] = I[42], I[42] = I[43], I[43] = I[44], I[44] = I[45], I[45] = I[46], I[46] = I[47], \

1878 
I
[48] = I[49], I[49] = I[50], I[50] = I[51], I[51] = I[52], I[52] = I[53], I[53] = I[54], I[54] = I[55], \

1879 
I
[56] = I[57], I[57] = I[58], I[58] = I[59], I[59] = I[60], I[60] = I[61], I[61] = I[62], I[62] = I[63], \

1880 
_p3
##
x
 = 
_p2
##x, _p2##x = 
_p1
##x, _p1##x = x++, ++
_n1
##x, ++
_n2
##x, ++
_n3
##x, ++
_n4
##x)

	)

1882 
	#cimg_fÜ_š8x8
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
,
z
,
c
,
I
,
T
) \

1883 
	`cimg_fÜ_š8
((
img
).
_height
,
y0
,
y1
,
y
è
x
 = ()(
x0
)<0?0:()(x0), \

1884 
_p3
##
x
 = x - 3<0?0:x - 3, \

1885 
_p2
##
x
 = x - 2<0?0:x - 2, \

1886 
_p1
##
x
 = x - 1<0?0:x - 1, \

1887 
_n1
##
x
 = x + 1>=(
img
).
	`width
()?(img).width() - 1:x + 1, \

1888 
_n2
##
x
 = x + 2>=(
img
).
	`width
()?(img).width() - 1:x + 2, \

1889 
_n3
##
x
 = x + 3>=(
img
).
	`width
()?(img).width() - 1:x + 3, \

1890 
_n4
##
x
 = ()( \

1891 (
I
[0] = (
T
)(
img
)(
_p3
##
x
,_p3##
y
,
z
,
c
)), \

1892 (
I
[8] = (
T
)(
img
)(
_p3
##
x
,
_p2
##
y
,
z
,
c
)), \

1893 (
I
[16] = (
T
)(
img
)(
_p3
##
x
,
_p1
##
y
,
z
,
c
)), \

1894 (
I
[24] = (
T
)(
img
)(
_p3
##
x
,
y
,
z
,
c
)), \

1895 (
I
[32] = (
T
)(
img
)(
_p3
##
x
,
_n1
##
y
,
z
,
c
)), \

1896 (
I
[40] = (
T
)(
img
)(
_p3
##
x
,
_n2
##
y
,
z
,
c
)), \

1897 (
I
[48] = (
T
)(
img
)(
_p3
##
x
,
_n3
##
y
,
z
,
c
)), \

1898 (
I
[56] = (
T
)(
img
)(
_p3
##
x
,
_n4
##
y
,
z
,
c
)), \

1899 (
I
[1] = (
T
)(
img
)(
_p2
##
x
,
_p3
##
y
,
z
,
c
)), \

1900 (
I
[9] = (
T
)(
img
)(
_p2
##
x
,_p2##
y
,
z
,
c
)), \

1901 (
I
[17] = (
T
)(
img
)(
_p2
##
x
,
_p1
##
y
,
z
,
c
)), \

1902 (
I
[25] = (
T
)(
img
)(
_p2
##
x
,
y
,
z
,
c
)), \

1903 (
I
[33] = (
T
)(
img
)(
_p2
##
x
,
_n1
##
y
,
z
,
c
)), \

1904 (
I
[41] = (
T
)(
img
)(
_p2
##
x
,
_n2
##
y
,
z
,
c
)), \

1905 (
I
[49] = (
T
)(
img
)(
_p2
##
x
,
_n3
##
y
,
z
,
c
)), \

1906 (
I
[57] = (
T
)(
img
)(
_p2
##
x
,
_n4
##
y
,
z
,
c
)), \

1907 (
I
[2] = (
T
)(
img
)(
_p1
##
x
,
_p3
##
y
,
z
,
c
)), \

1908 (
I
[10] = (
T
)(
img
)(
_p1
##
x
,
_p2
##
y
,
z
,
c
)), \

1909 (
I
[18] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
)), \

1910 (
I
[26] = (
T
)(
img
)(
_p1
##
x
,
y
,
z
,
c
)), \

1911 (
I
[34] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,
z
,
c
)), \

1912 (
I
[42] = (
T
)(
img
)(
_p1
##
x
,
_n2
##
y
,
z
,
c
)), \

1913 (
I
[50] = (
T
)(
img
)(
_p1
##
x
,
_n3
##
y
,
z
,
c
)), \

1914 (
I
[58] = (
T
)(
img
)(
_p1
##
x
,
_n4
##
y
,
z
,
c
)), \

1915 (
I
[3] = (
T
)(
img
)(
x
,
_p3
##
y
,
z
,
c
)), \

1916 (
I
[11] = (
T
)(
img
)(
x
,
_p2
##
y
,
z
,
c
)), \

1917 (
I
[19] = (
T
)(
img
)(
x
,
_p1
##
y
,
z
,
c
)), \

1918 (
I
[27] = (
T
)(
img
)(
x
,
y
,
z
,
c
)), \

1919 (
I
[35] = (
T
)(
img
)(
x
,
_n1
##
y
,
z
,
c
)), \

1920 (
I
[43] = (
T
)(
img
)(
x
,
_n2
##
y
,
z
,
c
)), \

1921 (
I
[51] = (
T
)(
img
)(
x
,
_n3
##
y
,
z
,
c
)), \

1922 (
I
[59] = (
T
)(
img
)(
x
,
_n4
##
y
,
z
,
c
)), \

1923 (
I
[4] = (
T
)(
img
)(
_n1
##
x
,
_p3
##
y
,
z
,
c
)), \

1924 (
I
[12] = (
T
)(
img
)(
_n1
##
x
,
_p2
##
y
,
z
,
c
)), \

1925 (
I
[20] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1926 (
I
[28] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1927 (
I
[36] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1928 (
I
[44] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
)), \

1929 (
I
[52] = (
T
)(
img
)(
_n1
##
x
,
_n3
##
y
,
z
,
c
)), \

1930 (
I
[60] = (
T
)(
img
)(
_n1
##
x
,
_n4
##
y
,
z
,
c
)), \

1931 (
I
[5] = (
T
)(
img
)(
_n2
##
x
,
_p3
##
y
,
z
,
c
)), \

1932 (
I
[13] = (
T
)(
img
)(
_n2
##
x
,
_p2
##
y
,
z
,
c
)), \

1933 (
I
[21] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
)), \

1934 (
I
[29] = (
T
)(
img
)(
_n2
##
x
,
y
,
z
,
c
)), \

1935 (
I
[37] = (
T
)(
img
)(
_n2
##
x
,
_n1
##
y
,
z
,
c
)), \

1936 (
I
[45] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)), \

1937 (
I
[53] = (
T
)(
img
)(
_n2
##
x
,
_n3
##
y
,
z
,
c
)), \

1938 (
I
[61] = (
T
)(
img
)(
_n2
##
x
,
_n4
##
y
,
z
,
c
)), \

1939 (
I
[6] = (
T
)(
img
)(
_n3
##
x
,
_p3
##
y
,
z
,
c
)), \

1940 (
I
[14] = (
T
)(
img
)(
_n3
##
x
,
_p2
##
y
,
z
,
c
)), \

1941 (
I
[22] = (
T
)(
img
)(
_n3
##
x
,
_p1
##
y
,
z
,
c
)), \

1942 (
I
[30] = (
T
)(
img
)(
_n3
##
x
,
y
,
z
,
c
)), \

1943 (
I
[38] = (
T
)(
img
)(
_n3
##
x
,
_n1
##
y
,
z
,
c
)), \

1944 (
I
[46] = (
T
)(
img
)(
_n3
##
x
,
_n2
##
y
,
z
,
c
)), \

1945 (
I
[54] = (
T
)(
img
)(
_n3
##
x
,_n3##
y
,
z
,
c
)), \

1946 (
I
[62] = (
T
)(
img
)(
_n3
##
x
,
_n4
##
y
,
z
,
c
)), \

1947 
x
 + 4>=(
img
).
	`width
()?(img).width() - 1:x + 4); \

1948 
x
<=()(
x1
è&& ((
_n4
##x<(
img
).
	`width
() && ( \

1949 (
I
[7] = (
T
)(
img
)(
_n4
##
x
,
_p3
##
y
,
z
,
c
)), \

1950 (
I
[15] = (
T
)(
img
)(
_n4
##
x
,
_p2
##
y
,
z
,
c
)), \

1951 (
I
[23] = (
T
)(
img
)(
_n4
##
x
,
_p1
##
y
,
z
,
c
)), \

1952 (
I
[31] = (
T
)(
img
)(
_n4
##
x
,
y
,
z
,
c
)), \

1953 (
I
[39] = (
T
)(
img
)(
_n4
##
x
,
_n1
##
y
,
z
,
c
)), \

1954 (
I
[47] = (
T
)(
img
)(
_n4
##
x
,
_n2
##
y
,
z
,
c
)), \

1955 (
I
[55] = (
T
)(
img
)(
_n4
##
x
,
_n3
##
y
,
z
,
c
)), \

1956 (
I
[63] = (
T
)(
img
)(
_n4
##
x
,_n4##
y
,
z
,
c
)),1)) || \

1957 
_n3
##
x
==--
_n4
##x || 
_n2
##x==--_n3##x || 
_n1
##x==--_n2##x || x==(_n4##x = _n3##x = _n2##x = --_n1##x)); \

1958 
I
[0] = I[1], I[1] = I[2], I[2] = I[3], I[3] = I[4], I[4] = I[5], I[5] = I[6], I[6] = I[7], \

1959 
I
[8] = I[9], I[9] = I[10], I[10] = I[11], I[11] = I[12], I[12] = I[13], I[13] = I[14], I[14] = I[15], \

1960 
I
[16] = I[17], I[17] = I[18], I[18] = I[19], I[19] = I[20], I[20] = I[21], I[21] = I[22], I[22] = I[23], \

1961 
I
[24] = I[25], I[25] = I[26], I[26] = I[27], I[27] = I[28], I[28] = I[29], I[29] = I[30], I[30] = I[31], \

1962 
I
[32] = I[33], I[33] = I[34], I[34] = I[35], I[35] = I[36], I[36] = I[37], I[37] = I[38], I[38] = I[39], \

1963 
I
[40] = I[41], I[41] = I[42], I[42] = I[43], I[43] = I[44], I[44] = I[45], I[45] = I[46], I[46] = I[47], \

1964 
I
[48] = I[49], I[49] = I[50], I[50] = I[51], I[51] = I[52], I[52] = I[53], I[53] = I[54], I[54] = I[55], \

1965 
I
[56] = I[57], I[57] = I[58], I[58] = I[59], I[59] = I[60], I[60] = I[61], I[61] = I[62], I[62] = I[63], \

1966 
_p3
##
x
 = 
_p2
##x, _p2##x = 
_p1
##x, _p1##x = x++, ++
_n1
##x, ++
_n2
##x, ++
_n3
##x, ++
_n4
##x)

	)

1968 
	#cimg_fÜ9x9
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

1969 
	`cimg_fÜ9
((
img
).
_height
,
y
è
x
 = 0, \

1970 
_p4
##
x
 = 0, 
_p3
##x = 0, 
_p2
##x = 0, 
_p1
##x = 0, \

1971 
_n1
##
x
 = 1>=((
img
).
_width
)?(img).
	`width
() - 1:1, \

1972 
_n2
##
x
 = 2>=((
img
).
_width
)?(img).
	`width
() - 1:2, \

1973 
_n3
##
x
 = 3>=((
img
).
_width
)?(img).
	`width
() - 1:3, \

1974 
_n4
##
x
 = ()( \

1975 (
I
[0] = I[1] = I[2] = I[3] = I[4] = (
T
)(
img
)(
_p4
##
x
,_p4##
y
,
z
,
c
)), \

1976 (
I
[9] = I[10] = I[11] = I[12] = I[13] = (
T
)(
img
)(0,
_p3
##
y
,
z
,
c
)), \

1977 (
I
[18] = I[19] = I[20] = I[21] = I[22] = (
T
)(
img
)(0,
_p2
##
y
,
z
,
c
)), \

1978 (
I
[27] = I[28] = I[29] = I[30] = I[31] = (
T
)(
img
)(0,
_p1
##
y
,
z
,
c
)), \

1979 (
I
[36] = I[37] = I[38] = I[39] = I[40] = (
T
)(
img
)(0,
y
,
z
,
c
)), \

1980 (
I
[45] = I[46] = I[47] = I[48] = I[49] = (
T
)(
img
)(0,
_n1
##
y
,
z
,
c
)), \

1981 (
I
[54] = I[55] = I[56] = I[57] = I[58] = (
T
)(
img
)(0,
_n2
##
y
,
z
,
c
)), \

1982 (
I
[63] = I[64] = I[65] = I[66] = I[67] = (
T
)(
img
)(0,
_n3
##
y
,
z
,
c
)), \

1983 (
I
[72] = I[73] = I[74] = I[75] = I[76] = (
T
)(
img
)(0,
_n4
##
y
,
z
,
c
)), \

1984 (
I
[5] = (
T
)(
img
)(
_n1
##
x
,
_p4
##
y
,
z
,
c
)), \

1985 (
I
[14] = (
T
)(
img
)(
_n1
##
x
,
_p3
##
y
,
z
,
c
)), \

1986 (
I
[23] = (
T
)(
img
)(
_n1
##
x
,
_p2
##
y
,
z
,
c
)), \

1987 (
I
[32] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1988 (
I
[41] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1989 (
I
[50] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1990 (
I
[59] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
)), \

1991 (
I
[68] = (
T
)(
img
)(
_n1
##
x
,
_n3
##
y
,
z
,
c
)), \

1992 (
I
[77] = (
T
)(
img
)(
_n1
##
x
,
_n4
##
y
,
z
,
c
)), \

1993 (
I
[6] = (
T
)(
img
)(
_n2
##
x
,
_p4
##
y
,
z
,
c
)), \

1994 (
I
[15] = (
T
)(
img
)(
_n2
##
x
,
_p3
##
y
,
z
,
c
)), \

1995 (
I
[24] = (
T
)(
img
)(
_n2
##
x
,
_p2
##
y
,
z
,
c
)), \

1996 (
I
[33] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
)), \

1997 (
I
[42] = (
T
)(
img
)(
_n2
##
x
,
y
,
z
,
c
)), \

1998 (
I
[51] = (
T
)(
img
)(
_n2
##
x
,
_n1
##
y
,
z
,
c
)), \

1999 (
I
[60] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)), \

2000 (
I
[69] = (
T
)(
img
)(
_n2
##
x
,
_n3
##
y
,
z
,
c
)), \

2001 (
I
[78] = (
T
)(
img
)(
_n2
##
x
,
_n4
##
y
,
z
,
c
)), \

2002 (
I
[7] = (
T
)(
img
)(
_n3
##
x
,
_p4
##
y
,
z
,
c
)), \

2003 (
I
[16] = (
T
)(
img
)(
_n3
##
x
,
_p3
##
y
,
z
,
c
)), \

2004 (
I
[25] = (
T
)(
img
)(
_n3
##
x
,
_p2
##
y
,
z
,
c
)), \

2005 (
I
[34] = (
T
)(
img
)(
_n3
##
x
,
_p1
##
y
,
z
,
c
)), \

2006 (
I
[43] = (
T
)(
img
)(
_n3
##
x
,
y
,
z
,
c
)), \

2007 (
I
[52] = (
T
)(
img
)(
_n3
##
x
,
_n1
##
y
,
z
,
c
)), \

2008 (
I
[61] = (
T
)(
img
)(
_n3
##
x
,
_n2
##
y
,
z
,
c
)), \

2009 (
I
[70] = (
T
)(
img
)(
_n3
##
x
,_n3##
y
,
z
,
c
)), \

2010 (
I
[79] = (
T
)(
img
)(
_n3
##
x
,
_n4
##
y
,
z
,
c
)), \

2011 4>=((
img
).
_width
)?(img).
	`width
() - 1:4); \

2012 (
_n4
##
x
<(
img
).
	`width
() && ( \

2013 (
I
[8] = (
T
)(
img
)(
_n4
##
x
,
_p4
##
y
,
z
,
c
)), \

2014 (
I
[17] = (
T
)(
img
)(
_n4
##
x
,
_p3
##
y
,
z
,
c
)), \

2015 (
I
[26] = (
T
)(
img
)(
_n4
##
x
,
_p2
##
y
,
z
,
c
)), \

2016 (
I
[35] = (
T
)(
img
)(
_n4
##
x
,
_p1
##
y
,
z
,
c
)), \

2017 (
I
[44] = (
T
)(
img
)(
_n4
##
x
,
y
,
z
,
c
)), \

2018 (
I
[53] = (
T
)(
img
)(
_n4
##
x
,
_n1
##
y
,
z
,
c
)), \

2019 (
I
[62] = (
T
)(
img
)(
_n4
##
x
,
_n2
##
y
,
z
,
c
)), \

2020 (
I
[71] = (
T
)(
img
)(
_n4
##
x
,
_n3
##
y
,
z
,
c
)), \

2021 (
I
[80] = (
T
)(
img
)(
_n4
##
x
,_n4##
y
,
z
,
c
)),1)) || \

2022 
_n3
##
x
==--
_n4
##x || 
_n2
##x==--_n3##x || 
_n1
##x==--_n2##x || x==(_n4##x = _n3##x = _n2##x = --_n1##x); \

2023 
I
[0] = I[1], I[1] = I[2], I[2] = I[3], I[3] = I[4], I[4] = I[5], I[5] = I[6], I[6] = I[7], I[7] = I[8], \

2024 
I
[9] = I[10], I[10] = I[11], I[11] = I[12], I[12] = I[13], I[13] = I[14], I[14] = I[15], I[15] = I[16], \

2025 
I
[16] = I[17], I[18] = I[19], I[19] = I[20], I[20] = I[21], I[21] = I[22], I[22] = I[23], I[23] = I[24], \

2026 
I
[24] = I[25], I[25] = I[26], I[27] = I[28], I[28] = I[29], I[29] = I[30], I[30] = I[31], I[31] = I[32], \

2027 
I
[32] = I[33], I[33] = I[34], I[34] = I[35], I[36] = I[37], I[37] = I[38], I[38] = I[39], I[39] = I[40], \

2028 
I
[40] = I[41], I[41] = I[42], I[42] = I[43], I[43] = I[44], I[45] = I[46], I[46] = I[47], I[47] = I[48], \

2029 
I
[48] = I[49], I[49] = I[50], I[50] = I[51], I[51] = I[52], I[52] = I[53], I[54] = I[55], I[55] = I[56], \

2030 
I
[56] = I[57], I[57] = I[58], I[58] = I[59], I[59] = I[60], I[60] = I[61], I[61] = I[62], I[63] = I[64], \

2031 
I
[64] = I[65], I[65] = I[66], I[66] = I[67], I[67] = I[68], I[68] = I[69], I[69] = I[70], I[70] = I[71], \

2032 
I
[72] = I[73], I[73] = I[74], I[74] = I[75], I[75] = I[76], I[76] = I[77], I[77] = I[78], I[78] = I[79], \

2033 
I
[79] = I[80], \

2034 
_p4
##
x
 = 
_p3
##x, _p3##x = 
_p2
##x, _p2##x = 
_p1
##x, _p1##x = x++, ++
_n1
##x, ++
_n2
##x, ++
_n3
##x, ++
_n4
##x)

	)

2036 
	#cimg_fÜ_š9x9
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
,
z
,
c
,
I
,
T
) \

2037 
	`cimg_fÜ_š9
((
img
).
_height
,
y0
,
y1
,
y
è
x
 = ()(
x0
)<0?0:()(x0), \

2038 
_p4
##
x
 = x - 4<0?0:x - 4, \

2039 
_p3
##
x
 = x - 3<0?0:x - 3, \

2040 
_p2
##
x
 = x - 2<0?0:x - 2, \

2041 
_p1
##
x
 = x - 1<0?0:x - 1, \

2042 
_n1
##
x
 = x + 1>=(
img
).
	`width
()?(img).width() - 1:x + 1, \

2043 
_n2
##
x
 = x + 2>=(
img
).
	`width
()?(img).width() - 1:x + 2, \

2044 
_n3
##
x
 = x + 3>=(
img
).
	`width
()?(img).width() - 1:x + 3, \

2045 
_n4
##
x
 = ()( \

2046 (
I
[0] = (
T
)(
img
)(
_p4
##
x
,_p4##
y
,
z
,
c
)), \

2047 (
I
[9] = (
T
)(
img
)(
_p4
##
x
,
_p3
##
y
,
z
,
c
)), \

2048 (
I
[18] = (
T
)(
img
)(
_p4
##
x
,
_p2
##
y
,
z
,
c
)), \

2049 (
I
[27] = (
T
)(
img
)(
_p4
##
x
,
_p1
##
y
,
z
,
c
)), \

2050 (
I
[36] = (
T
)(
img
)(
_p4
##
x
,
y
,
z
,
c
)), \

2051 (
I
[45] = (
T
)(
img
)(
_p4
##
x
,
_n1
##
y
,
z
,
c
)), \

2052 (
I
[54] = (
T
)(
img
)(
_p4
##
x
,
_n2
##
y
,
z
,
c
)), \

2053 (
I
[63] = (
T
)(
img
)(
_p4
##
x
,
_n3
##
y
,
z
,
c
)), \

2054 (
I
[72] = (
T
)(
img
)(
_p4
##
x
,
_n4
##
y
,
z
,
c
)), \

2055 (
I
[1] = (
T
)(
img
)(
_p3
##
x
,
_p4
##
y
,
z
,
c
)), \

2056 (
I
[10] = (
T
)(
img
)(
_p3
##
x
,_p3##
y
,
z
,
c
)), \

2057 (
I
[19] = (
T
)(
img
)(
_p3
##
x
,
_p2
##
y
,
z
,
c
)), \

2058 (
I
[28] = (
T
)(
img
)(
_p3
##
x
,
_p1
##
y
,
z
,
c
)), \

2059 (
I
[37] = (
T
)(
img
)(
_p3
##
x
,
y
,
z
,
c
)), \

2060 (
I
[46] = (
T
)(
img
)(
_p3
##
x
,
_n1
##
y
,
z
,
c
)), \

2061 (
I
[55] = (
T
)(
img
)(
_p3
##
x
,
_n2
##
y
,
z
,
c
)), \

2062 (
I
[64] = (
T
)(
img
)(
_p3
##
x
,
_n3
##
y
,
z
,
c
)), \

2063 (
I
[73] = (
T
)(
img
)(
_p3
##
x
,
_n4
##
y
,
z
,
c
)), \

2064 (
I
[2] = (
T
)(
img
)(
_p2
##
x
,
_p4
##
y
,
z
,
c
)), \

2065 (
I
[11] = (
T
)(
img
)(
_p2
##
x
,
_p3
##
y
,
z
,
c
)), \

2066 (
I
[20] = (
T
)(
img
)(
_p2
##
x
,_p2##
y
,
z
,
c
)), \

2067 (
I
[29] = (
T
)(
img
)(
_p2
##
x
,
_p1
##
y
,
z
,
c
)), \

2068 (
I
[38] = (
T
)(
img
)(
_p2
##
x
,
y
,
z
,
c
)), \

2069 (
I
[47] = (
T
)(
img
)(
_p2
##
x
,
_n1
##
y
,
z
,
c
)), \

2070 (
I
[56] = (
T
)(
img
)(
_p2
##
x
,
_n2
##
y
,
z
,
c
)), \

2071 (
I
[65] = (
T
)(
img
)(
_p2
##
x
,
_n3
##
y
,
z
,
c
)), \

2072 (
I
[74] = (
T
)(
img
)(
_p2
##
x
,
_n4
##
y
,
z
,
c
)), \

2073 (
I
[3] = (
T
)(
img
)(
_p1
##
x
,
_p4
##
y
,
z
,
c
)), \

2074 (
I
[12] = (
T
)(
img
)(
_p1
##
x
,
_p3
##
y
,
z
,
c
)), \

2075 (
I
[21] = (
T
)(
img
)(
_p1
##
x
,
_p2
##
y
,
z
,
c
)), \

2076 (
I
[30] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
)), \

2077 (
I
[39] = (
T
)(
img
)(
_p1
##
x
,
y
,
z
,
c
)), \

2078 (
I
[48] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,
z
,
c
)), \

2079 (
I
[57] = (
T
)(
img
)(
_p1
##
x
,
_n2
##
y
,
z
,
c
)), \

2080 (
I
[66] = (
T
)(
img
)(
_p1
##
x
,
_n3
##
y
,
z
,
c
)), \

2081 (
I
[75] = (
T
)(
img
)(
_p1
##
x
,
_n4
##
y
,
z
,
c
)), \

2082 (
I
[4] = (
T
)(
img
)(
x
,
_p4
##
y
,
z
,
c
)), \

2083 (
I
[13] = (
T
)(
img
)(
x
,
_p3
##
y
,
z
,
c
)), \

2084 (
I
[22] = (
T
)(
img
)(
x
,
_p2
##
y
,
z
,
c
)), \

2085 (
I
[31] = (
T
)(
img
)(
x
,
_p1
##
y
,
z
,
c
)), \

2086 (
I
[40] = (
T
)(
img
)(
x
,
y
,
z
,
c
)), \

2087 (
I
[49] = (
T
)(
img
)(
x
,
_n1
##
y
,
z
,
c
)), \

2088 (
I
[58] = (
T
)(
img
)(
x
,
_n2
##
y
,
z
,
c
)), \

2089 (
I
[67] = (
T
)(
img
)(
x
,
_n3
##
y
,
z
,
c
)), \

2090 (
I
[76] = (
T
)(
img
)(
x
,
_n4
##
y
,
z
,
c
)), \

2091 (
I
[5] = (
T
)(
img
)(
_n1
##
x
,
_p4
##
y
,
z
,
c
)), \

2092 (
I
[14] = (
T
)(
img
)(
_n1
##
x
,
_p3
##
y
,
z
,
c
)), \

2093 (
I
[23] = (
T
)(
img
)(
_n1
##
x
,
_p2
##
y
,
z
,
c
)), \

2094 (
I
[32] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

2095 (
I
[41] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

2096 (
I
[50] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

2097 (
I
[59] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
)), \

2098 (
I
[68] = (
T
)(
img
)(
_n1
##
x
,
_n3
##
y
,
z
,
c
)), \

2099 (
I
[77] = (
T
)(
img
)(
_n1
##
x
,
_n4
##
y
,
z
,
c
)), \

2100 (
I
[6] = (
T
)(
img
)(
_n2
##
x
,
_p4
##
y
,
z
,
c
)), \

2101 (
I
[15] = (
T
)(
img
)(
_n2
##
x
,
_p3
##
y
,
z
,
c
)), \

2102 (
I
[24] = (
T
)(
img
)(
_n2
##
x
,
_p2
##
y
,
z
,
c
)), \

2103 (
I
[33] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
)), \

2104 (
I
[42] = (
T
)(
img
)(
_n2
##
x
,
y
,
z
,
c
)), \

2105 (
I
[51] = (
T
)(
img
)(
_n2
##
x
,
_n1
##
y
,
z
,
c
)), \

2106 (
I
[60] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)), \

2107 (
I
[69] = (
T
)(
img
)(
_n2
##
x
,
_n3
##
y
,
z
,
c
)), \

2108 (
I
[78] = (
T
)(
img
)(
_n2
##
x
,
_n4
##
y
,
z
,
c
)), \

2109 (
I
[7] = (
T
)(
img
)(
_n3
##
x
,
_p4
##
y
,
z
,
c
)), \

2110 (
I
[16] = (
T
)(
img
)(
_n3
##
x
,
_p3
##
y
,
z
,
c
)), \

2111 (
I
[25] = (
T
)(
img
)(
_n3
##
x
,
_p2
##
y
,
z
,
c
)), \

2112 (
I
[34] = (
T
)(
img
)(
_n3
##
x
,
_p1
##
y
,
z
,
c
)), \

2113 (
I
[43] = (
T
)(
img
)(
_n3
##
x
,
y
,
z
,
c
)), \

2114 (
I
[52] = (
T
)(
img
)(
_n3
##
x
,
_n1
##
y
,
z
,
c
)), \

2115 (
I
[61] = (
T
)(
img
)(
_n3
##
x
,
_n2
##
y
,
z
,
c
)), \

2116 (
I
[70] = (
T
)(
img
)(
_n3
##
x
,_n3##
y
,
z
,
c
)), \

2117 (
I
[79] = (
T
)(
img
)(
_n3
##
x
,
_n4
##
y
,
z
,
c
)), \

2118 
x
 + 4>=(
img
).
	`width
()?(img).width() - 1:x + 4); \

2119 
x
<=()(
x1
è&& ((
_n4
##x<(
img
).
	`width
() && ( \

2120 (
I
[8] = (
T
)(
img
)(
_n4
##
x
,
_p4
##
y
,
z
,
c
)), \

2121 (
I
[17] = (
T
)(
img
)(
_n4
##
x
,
_p3
##
y
,
z
,
c
)), \

2122 (
I
[26] = (
T
)(
img
)(
_n4
##
x
,
_p2
##
y
,
z
,
c
)), \

2123 (
I
[35] = (
T
)(
img
)(
_n4
##
x
,
_p1
##
y
,
z
,
c
)), \

2124 (
I
[44] = (
T
)(
img
)(
_n4
##
x
,
y
,
z
,
c
)), \

2125 (
I
[53] = (
T
)(
img
)(
_n4
##
x
,
_n1
##
y
,
z
,
c
)), \

2126 (
I
[62] = (
T
)(
img
)(
_n4
##
x
,
_n2
##
y
,
z
,
c
)), \

2127 (
I
[71] = (
T
)(
img
)(
_n4
##
x
,
_n3
##
y
,
z
,
c
)), \

2128 (
I
[80] = (
T
)(
img
)(
_n4
##
x
,_n4##
y
,
z
,
c
)),1)) || \

2129 
_n3
##
x
==--
_n4
##x || 
_n2
##x==--_n3##x || 
_n1
##x==--_n2##x || x==(_n4##x = _n3##x = _n2##x = --_n1##x)); \

2130 
I
[0] = I[1], I[1] = I[2], I[2] = I[3], I[3] = I[4], I[4] = I[5], I[5] = I[6], I[6] = I[7], I[7] = I[8], \

2131 
I
[9] = I[10], I[10] = I[11], I[11] = I[12], I[12] = I[13], I[13] = I[14], I[14] = I[15], I[15] = I[16], \

2132 
I
[16] = I[17], I[18] = I[19], I[19] = I[20], I[20] = I[21], I[21] = I[22], I[22] = I[23], I[23] = I[24], \

2133 
I
[24] = I[25], I[25] = I[26], I[27] = I[28], I[28] = I[29], I[29] = I[30], I[30] = I[31], I[31] = I[32], \

2134 
I
[32] = I[33], I[33] = I[34], I[34] = I[35], I[36] = I[37], I[37] = I[38], I[38] = I[39], I[39] = I[40], \

2135 
I
[40] = I[41], I[41] = I[42], I[42] = I[43], I[43] = I[44], I[45] = I[46], I[46] = I[47], I[47] = I[48], \

2136 
I
[48] = I[49], I[49] = I[50], I[50] = I[51], I[51] = I[52], I[52] = I[53], I[54] = I[55], I[55] = I[56], \

2137 
I
[56] = I[57], I[57] = I[58], I[58] = I[59], I[59] = I[60], I[60] = I[61], I[61] = I[62], I[63] = I[64], \

2138 
I
[64] = I[65], I[65] = I[66], I[66] = I[67], I[67] = I[68], I[68] = I[69], I[69] = I[70], I[70] = I[71], \

2139 
I
[72] = I[73], I[73] = I[74], I[74] = I[75], I[75] = I[76], I[76] = I[77], I[77] = I[78], I[78] = I[79], \

2140 
I
[79] = I[80], \

2141 
_p4
##
x
 = 
_p3
##x, _p3##x = 
_p2
##x, _p2##x = 
_p1
##x, _p1##x = x++, ++
_n1
##x, ++
_n2
##x, ++
_n3
##x, ++
_n4
##x)

	)

2143 
	#cimg_fÜ2x2x2
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

2144 
	`cimg_fÜ2
((
img
).
_d•th
,
z
ècimg_fÜ2((img).
_height
,
y
è
x
 = 0, \

2145 
_n1
##
x
 = ()( \

2146 (
I
[0] = (
T
)(
img
)(0,
y
,
z
,
c
)), \

2147 (
I
[2] = (
T
)(
img
)(0,
_n1
##
y
,
z
,
c
)), \

2148 (
I
[4] = (
T
)(
img
)(0,
y
,
_n1
##
z
,
c
)), \

2149 (
I
[6] = (
T
)(
img
)(0,
_n1
##
y
,_n1##
z
,
c
)), \

2150 1>=(
img
).
_width
?(img).
	`width
() - 1:1); \

2151 (
_n1
##
x
<(
img
).
	`width
() && ( \

2152 (
I
[1] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

2153 (
I
[3] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

2154 (
I
[5] = (
T
)(
img
)(
_n1
##
x
,
y
,_n1##
z
,
c
)), \

2155 (
I
[7] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,_n1##
z
,
c
)),1)) || \

2156 
x
==--
_n1
##x; \

2157 
I
[0] = I[1], I[2] = I[3], I[4] = I[5], I[6] = I[7], \

2158 ++
x
, ++
_n1
##x)

	)

2160 
	#cimg_fÜ_š2x2x2
(
img
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
,
c
,
I
,
T
) \

2161 
	`cimg_fÜ_š2
((
img
).
_d•th
,
z0
,
z1
,
z
ècimg_fÜ_š2((img).
_height
,
y0
,
y1
,
y
è
x
 = ()(
x0
)<0?0:()(x0), \

2162 
_n1
##
x
 = ()( \

2163 (
I
[0] = (
T
)(
img
)(
x
,
y
,
z
,
c
)), \

2164 (
I
[2] = (
T
)(
img
)(
x
,
_n1
##
y
,
z
,
c
)), \

2165 (
I
[4] = (
T
)(
img
)(
x
,
y
,
_n1
##
z
,
c
)), \

2166 (
I
[6] = (
T
)(
img
)(
x
,
_n1
##
y
,_n1##
z
,
c
)), \

2167 
x
 + 1>=()(
img
).
_width
?(img).
	`width
() - 1:x + 1); \

2168 
x
<=()(
x1
è&& ((
_n1
##x<(
img
).
	`width
() && ( \

2169 (
I
[1] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

2170 (
I
[3] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

2171 (
I
[5] = (
T
)(
img
)(
_n1
##
x
,
y
,_n1##
z
,
c
)), \

2172 (
I
[7] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,_n1##
z
,
c
)),1)) || \

2173 
x
==--
_n1
##x); \

2174 
I
[0] = I[1], I[2] = I[3], I[4] = I[5], I[6] = I[7], \

2175 ++
x
, ++
_n1
##x)

	)

2177 
	#cimg_fÜ3x3x3
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

2178 
	`cimg_fÜ3
((
img
).
_d•th
,
z
ècimg_fÜ3((img).
_height
,
y
è
x
 = 0, \

2179 
_p1
##
x
 = 0, \

2180 
_n1
##
x
 = ()( \

2181 (
I
[0] = I[1] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,_p1##
z
,
c
)), \

2182 (
I
[3] = I[4] = (
T
)(
img
)(0,
y
,
_p1
##
z
,
c
)), \

2183 (
I
[6] = I[7] = (
T
)(
img
)(0,
_n1
##
y
,
_p1
##
z
,
c
)), \

2184 (
I
[9] = I[10] = (
T
)(
img
)(0,
_p1
##
y
,
z
,
c
)), \

2185 (
I
[12] = I[13] = (
T
)(
img
)(0,
y
,
z
,
c
)), \

2186 (
I
[15] = I[16] = (
T
)(
img
)(0,
_n1
##
y
,
z
,
c
)), \

2187 (
I
[18] = I[19] = (
T
)(
img
)(0,
_p1
##
y
,
_n1
##
z
,
c
)), \

2188 (
I
[21] = I[22] = (
T
)(
img
)(0,
y
,
_n1
##
z
,
c
)), \

2189 (
I
[24] = I[25] = (
T
)(
img
)(0,
_n1
##
y
,_n1##
z
,
c
)), \

2190 1>=(
img
).
_width
?(img).
	`width
() - 1:1); \

2191 (
_n1
##
x
<(
img
).
	`width
() && ( \

2192 (
I
[2] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,_p1##
z
,
c
)), \

2193 (
I
[5] = (
T
)(
img
)(
_n1
##
x
,
y
,
_p1
##
z
,
c
)), \

2194 (
I
[8] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
_p1
##
z
,
c
)), \

2195 (
I
[11] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

2196 (
I
[14] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

2197 (
I
[17] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

2198 (
I
[20] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,_n1##
z
,
c
)), \

2199 (
I
[23] = (
T
)(
img
)(
_n1
##
x
,
y
,_n1##
z
,
c
)), \

2200 (
I
[26] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,_n1##
z
,
c
)),1)) || \

2201 
x
==--
_n1
##x; \

2202 
I
[0] = I[1], I[1] = I[2], I[3] = I[4], I[4] = I[5], I[6] = I[7], I[7] = I[8], \

2203 
I
[9] = I[10], I[10] = I[11], I[12] = I[13], I[13] = I[14], I[15] = I[16], I[16] = I[17], \

2204 
I
[18] = I[19], I[19] = I[20], I[21] = I[22], I[22] = I[23], I[24] = I[25], I[25] = I[26], \

2205 
_p1
##
x
 = x++, ++
_n1
##x)

	)

2207 
	#cimg_fÜ_š3x3x3
(
img
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
,
c
,
I
,
T
) \

2208 
	`cimg_fÜ_š3
((
img
).
_d•th
,
z0
,
z1
,
z
ècimg_fÜ_š3((img).
_height
,
y0
,
y1
,
y
è
x
 = ()(
x0
)<0?0:()(x0), \

2209 
_p1
##
x
 = x - 1<0?0:x - 1, \

2210 
_n1
##
x
 = ()( \

2211 (
I
[0] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,_p1##
z
,
c
)), \

2212 (
I
[3] = (
T
)(
img
)(
_p1
##
x
,
y
,_p1##
z
,
c
)), \

2213 (
I
[6] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,_p1##
z
,
c
)), \

2214 (
I
[9] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
)), \

2215 (
I
[12] = (
T
)(
img
)(
_p1
##
x
,
y
,
z
,
c
)), \

2216 (
I
[15] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,
z
,
c
)), \

2217 (
I
[18] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
_n1
##
z
,
c
)), \

2218 (
I
[21] = (
T
)(
img
)(
_p1
##
x
,
y
,
_n1
##
z
,
c
)), \

2219 (
I
[24] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,_n1##
z
,
c
)), \

2220 (
I
[1] = (
T
)(
img
)(
x
,
_p1
##
y
,_p1##
z
,
c
)), \

2221 (
I
[4] = (
T
)(
img
)(
x
,
y
,
_p1
##
z
,
c
)), \

2222 (
I
[7] = (
T
)(
img
)(
x
,
_n1
##
y
,
_p1
##
z
,
c
)), \

2223 (
I
[10] = (
T
)(
img
)(
x
,
_p1
##
y
,
z
,
c
)), \

2224 (
I
[13] = (
T
)(
img
)(
x
,
y
,
z
,
c
)), \

2225 (
I
[16] = (
T
)(
img
)(
x
,
_n1
##
y
,
z
,
c
)), \

2226 (
I
[19] = (
T
)(
img
)(
x
,
_p1
##
y
,
_n1
##
z
,
c
)), \

2227 (
I
[22] = (
T
)(
img
)(
x
,
y
,
_n1
##
z
,
c
)), \

2228 (
I
[25] = (
T
)(
img
)(
x
,
_n1
##
y
,_n1##
z
,
c
)), \

2229 
x
 + 1>=()(
img
).
_width
?(img).
	`width
() - 1:x + 1); \

2230 
x
<=()(
x1
è&& ((
_n1
##x<(
img
).
	`width
() && ( \

2231 (
I
[2] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,_p1##
z
,
c
)), \

2232 (
I
[5] = (
T
)(
img
)(
_n1
##
x
,
y
,
_p1
##
z
,
c
)), \

2233 (
I
[8] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
_p1
##
z
,
c
)), \

2234 (
I
[11] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

2235 (
I
[14] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

2236 (
I
[17] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

2237 (
I
[20] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,_n1##
z
,
c
)), \

2238 (
I
[23] = (
T
)(
img
)(
_n1
##
x
,
y
,_n1##
z
,
c
)), \

2239 (
I
[26] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,_n1##
z
,
c
)),1)) || \

2240 
x
==--
_n1
##x); \

2241 
I
[0] = I[1], I[1] = I[2], I[3] = I[4], I[4] = I[5], I[6] = I[7], I[7] = I[8], \

2242 
I
[9] = I[10], I[10] = I[11], I[12] = I[13], I[13] = I[14], I[15] = I[16], I[16] = I[17], \

2243 
I
[18] = I[19], I[19] = I[20], I[21] = I[22], I[22] = I[23], I[24] = I[25], I[25] = I[26], \

2244 
_p1
##
x
 = x++, ++
_n1
##x)

	)

2246 
	#cimgli¡_fÜ
(
li¡
,
l
èÈğ0;†<()Öi¡).
_width
; ++l)

	)

2247 
	#cimgli¡_rof
(
li¡
,
l
èÈğ()Öi¡).
_width
 - 1;†>=0; --l)

	)

2248 
	#cimgli¡_fÜ_š
(
li¡
,
l0
,
l1
,
l
) \

2249 
l
 = ()(
l0
)<0?0:()Ö0), 
_max
##Èğ()
l1
<(
li¡
).
_width
?()(l1):()(list)._width - 1; \

2250 
l
<=
_max
##l; ++l)

	)

2252 
	#cimgli¡_­¶y
(
li¡
,
â
è
	`cimgli¡_fÜ
Öi¡,
__
##âèÖi¡)[__##â].
	)
fn

2256 
	#_cimgdi¥Ïy_š¡ªû
 "[š¡ªû(%u,%u,%u,%c%s%c)] CImgDi¥Ïy::"

	)

2257 
	#cimgdi¥Ïy_š¡ªû
 
_width
,
_height
,
_nÜm®iz©iÚ
,
_t™Ë
?'\"':'[',_t™Ë?_t™Ë:"uÁ™Ëd",_t™Ë?'\"':']'

	)

2258 
	#_cimg_š¡ªû
 "[š¡ªû(%u,%u,%u,%u,%p,%ssh¬ed)] CImg<%s>::"

	)

2259 
	#cimg_š¡ªû
 
_width
,
_height
,
_d•th
,
_¥eùrum
,
_d©a
,
_is_sh¬ed
?"":"nÚ-",
	`pix–_ty³
()

	)

2260 
	#_cimgli¡_š¡ªû
 "[š¡ªû(%u,%u,%p)] CImgLi¡<%s>::"

	)

2261 
	#cimgli¡_š¡ªû
 
_width
,
_®loÿ‹d_width
,
_d©a
,
	`pix–_ty³
()

	)

2282 
Çme¥aû
 
	gcimg_lib¿ry_suffixed
 {

2285 
	g‹m¶©e
<
ty³Çme
 
	gT
=> 
CImg
;

2286 
	g‹m¶©e
<
ty³Çme
 
	gT
=> 
CImgLi¡
;

2287 
	gCImgDi¥Ïy
;

2288 
	gCImgExû±iÚ
;

2294 
Çme¥aû
 
	gcimg
 {

2297 #ifdeà
cimg_u£_vt100


2298 cÚ¡ 
	gt_nÜm®
[] = { 0x1b, '[', '0', ';', '0', ';', '0', 'm', 0 };

2299 cÚ¡ 
	gt_bÏck
[] = { 0x1b, '[', '0', ';', '3', '0', ';', '5', '9', 'm', 0 };

2300 cÚ¡ 
	gt_»d
[] = { 0x1b, '[', '0', ';', '3', '1', ';', '5', '9', 'm', 0 };

2301 cÚ¡ 
	gt_g»’
[] = { 0x1b, '[', '0', ';', '3', '2', ';', '5', '9', 'm', 0 };

2302 cÚ¡ 
	gt_y–low
[] = { 0x1b, '[', '0', ';', '3', '3', ';', '5', '9', 'm', 0 };

2303 cÚ¡ 
	gt_blue
[] = { 0x1b, '[', '0', ';', '3', '4', ';', '5', '9', 'm', 0 };

2304 cÚ¡ 
	gt_mag’
[] = { 0x1b, '[', '0', ';', '3', '5', ';', '5', '9', 'm', 0 };

2305 cÚ¡ 
	gt_cyª
[] = { 0x1b, '[', '0', ';', '3', '6', ';', '5', '9', 'm', 0 };

2306 cÚ¡ 
	gt_wh™e
[] = { 0x1b, '[', '0', ';', '3', '7', ';', '5', '9', 'm', 0 };

2307 cÚ¡ 
	gt_bŞd
[] = { 0x1b, '[', '1', 'm', 0 };

2308 cÚ¡ 
	gt_und”scÜe
[] = { 0x1b, '[', '4', 'm', 0 };

2310 cÚ¡ 
	gt_nÜm®
[] = { 0 };

2311 cÚ¡ *cÚ¡ 
	gt_bÏck
 = 
cimg
::
t_nÜm®
,

2312 *cÚ¡ 
	gt_»d
 = 
cimg
::
t_nÜm®
,

2313 *cÚ¡ 
	gt_g»’
 = 
cimg
::
t_nÜm®
,

2314 *cÚ¡ 
	gt_y–low
 = 
cimg
::
t_nÜm®
,

2315 *cÚ¡ 
	gt_blue
 = 
cimg
::
t_nÜm®
,

2316 *cÚ¡ 
	gt_mag’
 = 
cimg
::
t_nÜm®
,

2317 *cÚ¡ 
	gt_cyª
 = 
cimg
::
t_nÜm®
,

2318 *cÚ¡ 
	gt_wh™e
 = 
cimg
::
t_nÜm®
,

2319 *cÚ¡ 
	gt_bŞd
 = 
cimg
::
t_nÜm®
,

2320 *cÚ¡ 
	gt_und”scÜe
 = 
cimg
::
t_nÜm®
;

2323 
šlše
 
	g¡d
::
FILE
* 
ouut
(
¡d
::FILE *
fe
=0);

2324 
šlše
 
šfo
();

2327 
	g‹m¶©e
<
ty³Çme
 
	gT
>

2328 
šlše
 
unu£d
(cÚ¡ 
T
&, ...) {}

2333 
šlše
 
mu‹x
(cÚ¡ 
n
, cÚ¡ 
lock_mode
=1);

2335 
šlše
 & 
exû±iÚ_mode
(cÚ¡ 
v®ue
, cÚ¡ 
boŞ
 
is_£t
) {

2336 
	gmode
 = 
cimg_v”bos™y
;

2337 ià(
	gis_£t
è{ 
	gcimg
::
mu‹x
(0); 
	gmode
 = 
v®ue
<4?value:4; cimg::mutex(0,0); }

2338  
	gmode
;

2342 
šlše
 
FILE
* 
_¡dš
(cÚ¡ 
boŞ
 
throw_exû±iÚ
=
Œue
);

2343 
šlše
 
FILE
* 
_¡dout
(cÚ¡ 
boŞ
 
throw_exû±iÚ
=
Œue
);

2344 
šlše
 
FILE
* 
_¡d”r
(cÚ¡ 
boŞ
 
throw_exû±iÚ
=
Œue
);

2348 #ià
cimg_OS
==2 && 
defšed
(
_MSC_VER
)

2349 
šlše
 
_¢´štf
(*cÚ¡ 
s
, cÚ¡ 
size_t
 
size
, cÚ¡ *cÚ¡ 
fÜm©
, ...) {

2350 
va_li¡
 
	g­
;

2351 
va_¡¬t
(
­
,
fÜm©
);

2352 cÚ¡ 
	g»suÉ
 = 
_v¢´štf
(
s
,
size
,
fÜm©
,
­
);

2353 
va_’d
(
­
);

2354  
	g»suÉ
;

2357 
šlše
 
_v¢´štf
(*cÚ¡ 
s
, cÚ¡ 
size_t
 
size
, cÚ¡ *cÚ¡ 
fÜm©
, 
va_li¡
 
­
) {

2358 
	g»suÉ
 = -1;

2359 
	gcimg
::
mu‹x
(6);

2360 ià(
	gsize
è
	g»suÉ
 = 
_v¢´štf_s
(
s
,
size
,
_TRUNCATE
,
fÜm©
,
­
);

2361 ià(
	g»suÉ
==-1è
»suÉ
 = 
_vsırštf
(
fÜm©
,
­
);

2362 
	gcimg
::
mu‹x
(6,0);

2363  
	g»suÉ
;

2368 #–ià
defšed
(
__MACOSX__
è|| defšed(
__APPLE__
)

2369 
šlše
 
_ssÿnf
(cÚ¡ *cÚ¡ 
s
, cÚ¡ *cÚ¡ 
fÜm©
, ...) {

2370 
	gcimg
::
mu‹x
(6);

2371 
va_li¡
 
	g¬gs
;

2372 
va_¡¬t
(
¬gs
,
fÜm©
);

2373 cÚ¡ 
	g»suÉ
 = 
¡d
::
vssÿnf
(
s
,
fÜm©
,
¬gs
);

2374 
va_’d
(
¬gs
);

2375 
	gcimg
::
mu‹x
(6,0);

2376  
	g»suÉ
;

2379 
šlše
 
_¥rštf
(*cÚ¡ 
s
, cÚ¡ *cÚ¡ 
fÜm©
, ...) {

2380 
	gcimg
::
mu‹x
(6);

2381 
va_li¡
 
	g¬gs
;

2382 
va_¡¬t
(
¬gs
,
fÜm©
);

2383 cÚ¡ 
	g»suÉ
 = 
¡d
::
v¥rštf
(
s
,
fÜm©
,
¬gs
);

2384 
va_’d
(
¬gs
);

2385 
	gcimg
::
mu‹x
(6,0);

2386  
	g»suÉ
;

2389 
šlše
 
_¢´štf
(*cÚ¡ 
s
, cÚ¡ 
size_t
 
n
, cÚ¡ *cÚ¡ 
fÜm©
, ...) {

2390 
	gcimg
::
mu‹x
(6);

2391 
va_li¡
 
	g¬gs
;

2392 
va_¡¬t
(
¬gs
,
fÜm©
);

2393 cÚ¡ 
	g»suÉ
 = 
¡d
::
v¢´štf
(
s
,
n
,
fÜm©
,
¬gs
);

2394 
va_’d
(
¬gs
);

2395 
	gcimg
::
mu‹x
(6,0);

2396  
	g»suÉ
;

2399 
šlše
 
_v¢´štf
(*cÚ¡ 
s
, cÚ¡ 
size_t
 
size
, cÚ¡ * 
fÜm©
, 
va_li¡
 
­
) {

2400 
	gcimg
::
mu‹x
(6);

2401 cÚ¡ 
	g»suÉ
 = 
¡d
::
v¢´štf
(
s
,
size
,
fÜm©
,
­
);

2402 
	gcimg
::
mu‹x
(6,0);

2403  
	g»suÉ
;

2417 
šlše
 & 
exû±iÚ_mode
(cÚ¡ 
mode
) {

2418  
exû±iÚ_mode
(
mode
,
Œue
);

2425 
šlše
 & 
exû±iÚ_mode
() {

2426  
exû±iÚ_mode
(0,
çl£
);

2429 
šlše
 
İ’mp_mode
(cÚ¡ 
v®ue
, cÚ¡ 
boŞ
 
is_£t
) {

2430 
	gmode
 = 2;

2431 ià(
	gis_£t
è{ 
	gcimg
::
mu‹x
(0); 
	gmode
 = 
v®ue
<2?value:2; cimg::mutex(0,0); }

2432  
	gmode
;

2443 
šlše
 
İ’mp_mode
(cÚ¡ 
mode
) {

2444  
İ’mp_mode
(
mode
,
Œue
);

2448 
šlše
 
İ’mp_mode
() {

2449  
İ’mp_mode
(0,
çl£
);

2452 #iâdeà
cimg_İ’mp_sizeçùÜ


2453 
	#cimg_İ’mp_sizeçùÜ
 1

	)

2455 
	#cimg_İ’mp_if
(
cÚd
èià((
cimg
::
	`İ’mp_mode
()==1 || (cimg::İ’mp_mode()>1 && (cÚd))))

	)

2456 
	#cimg_İ’mp_if_size
(
size
,
mš_size
è
	`cimg_İ’mp_if
((size)>=(
cimg_İ’mp_sizeçùÜ
)*(mš_size))

	)

2457 #ifdeà
_MSC_VER


2459 
	#cimg_İ’mp_cŞÏp£
(
k
)

	)

2461 
	#cimg_İ’mp_cŞÏp£
(
k
è
	`cŞÏp£
(k)

	)

2464 #ià
cimg_OS
==2

2466 
	#cimg_İ’mp_fÜ
(
š¡ªû
,
ex´
,
mš_size
è
	`cimg_rof
((š¡ªû),
±r
,
T
è*±¸ğ(T)Óx´);

	)

2468 
	#cimg_İ’mp_fÜ
(
š¡ªû
,
ex´
,
mš_size
) \

2469 
	`cimg_´agma_İ’mp
(
·¿Î–
 
	`cimg_İ’mp_if_size
((
š¡ªû
).
	`size
(),
mš_size
)) \

2470 
	`cimg_rof
((
š¡ªû
),
±r
,
T
è*±¸ğ(T)(
ex´
);

	)

2474 
šlše
 
dŸlog
(cÚ¡ *cÚ¡ 
t™Ë
, cÚ¡ *cÚ¡ 
msg
,

2475 cÚ¡ *cÚ¡ 
bu‰Ú1_Ïb–
="OK", cÚ¡ *cÚ¡ 
bu‰Ú2_Ïb–
=0,

2476 cÚ¡ *cÚ¡ 
bu‰Ú3_Ïb–
=0, cÚ¡ *cÚ¡ 
bu‰Ú4_Ïb–
=0,

2477 cÚ¡ *cÚ¡ 
bu‰Ú5_Ïb–
=0, cÚ¡ *cÚ¡ 
bu‰Ú6_Ïb–
=0,

2478 cÚ¡ 
boŞ
 
ûÁ”šg
=
çl£
);

2481 
šlše
 
ev®
(cÚ¡ *cÚ¡ 
ex´essiÚ
,

2482 cÚ¡ 
x
=0, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0);

2556 
	gCImgExû±iÚ
 : 
public
 
¡d
::
exû±iÚ
 {

2557 
	#_cimg_exû±iÚ_”r
(
‘y³
,
di¥_æag
) \

2558 
¡d
::
va_li¡
 
­
, 
­2
; \

2559 
	`va_¡¬t
(
­
,
fÜm©
); va_¡¬t(
­2
,format); \

2560 
size
 = 
	`cimg_v¢´štf
(0,0,
fÜm©
,
­2
); \

2561 ià(
size
++>=0) { \

2562 
d–‘e
[] 
_mes§ge
; \

2563 
_mes§ge
 = 
Ãw
 [
size
]; \

2564 
	`cimg_v¢´štf
(
_mes§ge
,
size
,
fÜm©
,
­
); \

2565 ià(
cimg
::
	`exû±iÚ_mode
()) { \

2566 
¡d
::
	`årštf
(
cimg
::
	`ouut
(),"\n%s[CImg] *** % ***% %s\n",cimg::
t_»d
,
‘y³
,cimg::
t_nÜm®
,
_mes§ge
); \

2567 ià(
cimg_di¥Ïy
 && 
di¥_æag
 && !(
cimg
::
	`exû±iÚ_mode
()%2)è
Œy
 { cimg::
	`dŸlog
(
‘y³
,
_mes§ge
,"Abort"); } \

2568 
	`ÿtch
 (
CImgExû±iÚ
&) {} \

2569 ià(
cimg
::
	`exû±iÚ_mode
()>=3è
cimg_lib¿ry_suffixed
::cimg::
	`šfo
(); \

2572 
	`va_’d
(
­
); va_’d(
­2
); \

2573 

	)

2574 *
	g_mes§ge
;

2575 
CImgExû±iÚ
(è{ 
	g_mes§ge
 = 
Ãw
 [1]; *_message = 0; }

2576 
CImgExû±iÚ
(cÚ¡ *cÚ¡ 
fÜm©
, ...):
_mes§ge
(0è{ 
_cimg_exû±iÚ_”r
("CImgExû±iÚ",
Œue
); }

2577 
CImgExû±iÚ
(cÚ¡ CImgExû±iÚ& 
e
):
¡d
::
exû±iÚ
(e) {

2578 cÚ¡ 
size_t
 
size
 = 
¡d
::
¡¾’
(
e
.
_mes§ge
);

2579 
	g_mes§ge
 = 
Ãw
 [
size
 + 1];

2580 
	g¡d
::
¡ºıy
(
_mes§ge
,
e
._mes§ge,
size
);

2581 
	g_mes§ge
[
size
] = 0;

2583 ~
CImgExû±iÚ
(è
throw
(è{ 
	gd–‘e
[] 
	g_mes§ge
; }

2584 
	gCImgExû±iÚ
& 
	gİ”©Ü
=(cÚ¡ 
CImgExû±iÚ
& 
e
) {

2585 cÚ¡ 
size_t
 
size
 = 
¡d
::
¡¾’
(
e
.
_mes§ge
);

2586 
	g_mes§ge
 = 
Ãw
 [
size
 + 1];

2587 
	g¡d
::
¡ºıy
(
_mes§ge
,
e
._mes§ge,
size
);

2588 
	g_mes§ge
[
size
] = 0;

2589  *
	gthis
;

2592 cÚ¡ *
wh©
(ècÚ¡ 
throw
(è{  
	g_mes§ge
; }

2597 
	gCImgAbÜtExû±iÚ
 : 
public
 
¡d
::
exû±iÚ
 {

2598 *
_mes§ge
;

2599 
CImgAbÜtExû±iÚ
(è{ 
	g_mes§ge
 = 
Ãw
 [1]; *_message = 0; }

2600 
CImgAbÜtExû±iÚ
(cÚ¡ *cÚ¡ 
fÜm©
, ...):
_mes§ge
(0è{ 
_cimg_exû±iÚ_”r
("CImgAbÜtExû±iÚ",
Œue
); }

2601 
CImgAbÜtExû±iÚ
(cÚ¡ CImgAbÜtExû±iÚ& 
e
):
¡d
::
exû±iÚ
(e) {

2602 cÚ¡ 
size_t
 
size
 = 
¡d
::
¡¾’
(
e
.
_mes§ge
);

2603 
	g_mes§ge
 = 
Ãw
 [
size
 + 1];

2604 
	g¡d
::
¡ºıy
(
_mes§ge
,
e
._mes§ge,
size
);

2605 
	g_mes§ge
[
size
] = 0;

2607 ~
CImgAbÜtExû±iÚ
(è
throw
(è{ 
	gd–‘e
[] 
	g_mes§ge
; }

2608 
	gCImgAbÜtExû±iÚ
& 
	gİ”©Ü
=(cÚ¡ 
CImgAbÜtExû±iÚ
& 
e
) {

2609 cÚ¡ 
size_t
 
size
 = 
¡d
::
¡¾’
(
e
.
_mes§ge
);

2610 
	g_mes§ge
 = 
Ãw
 [
size
 + 1];

2611 
	g¡d
::
¡ºıy
(
_mes§ge
,
e
._mes§ge,
size
);

2612 
	g_mes§ge
[
size
] = 0;

2613  *
	gthis
;

2616 cÚ¡ *
wh©
(ècÚ¡ 
throw
(è{  
	g_mes§ge
; }

2621 
	gCImgArgum’tExû±iÚ
 : 
public
 
CImgExû±iÚ
 {

2622 
CImgArgum’tExû±iÚ
(cÚ¡ *cÚ¡ 
fÜm©
, ...è{ 
_cimg_exû±iÚ_”r
("CImgArgum’tExû±iÚ",
Œue
); }

2627 
	gCImgDi¥ÏyExû±iÚ
 : 
public
 
CImgExû±iÚ
 {

2628 
CImgDi¥ÏyExû±iÚ
(cÚ¡ *cÚ¡ 
fÜm©
, ...è{ 
_cimg_exû±iÚ_”r
("CImgDi¥ÏyExû±iÚ",
çl£
); }

2633 
	gCImgIn¡ªûExû±iÚ
 : 
public
 
CImgExû±iÚ
 {

2634 
CImgIn¡ªûExû±iÚ
(cÚ¡ *cÚ¡ 
fÜm©
, ...è{ 
_cimg_exû±iÚ_”r
("CImgIn¡ªûExû±iÚ",
Œue
); }

2639 
	gCImgIOExû±iÚ
 : 
public
 
CImgExû±iÚ
 {

2640 
CImgIOExû±iÚ
(cÚ¡ *cÚ¡ 
fÜm©
, ...è{ 
_cimg_exû±iÚ_”r
("CImgIOExû±iÚ",
Œue
); }

2645 
	gCImgW¬nšgExû±iÚ
 : 
public
 
CImgExû±iÚ
 {

2646 
CImgW¬nšgExû±iÚ
(cÚ¡ *cÚ¡ 
fÜm©
, ...è{ 
_cimg_exû±iÚ_”r
("CImgW¬nšgExû±iÚ",
çl£
); }

2662 
Çme¥aû
 
	gcimg
 {

2666 
	g‹m¶©e
<
ty³Çme
 
	gT
> 
	sty³
 {

2667 cÚ¡ * 
¡ršg
() {

2668 cÚ¡ * 
	gs
[] = { "unknown", "unknown8", "unknown16", "unknown24",

2673  
	gs
[((
T
)<17)?(T):0];

2675 
boŞ
 
is_æßt
(è{  
	gçl£
; }

2676 
boŞ
 
is_šf
(cÚ¡ 
T
è{  
	gçl£
; }

2677 
boŞ
 
is_Çn
(cÚ¡ 
T
è{  
	gçl£
; }

2678 
boŞ
 
is_fš™e
(cÚ¡ 
T
è{  
	gŒue
; }

2679 
T
 
mš
(è{  ~
max
(); }

2680 
T
 
max
(è{  (
	gT
)1<<(8*(T) - 1); }

2681 
T
 
šf
(è{  
max
(); }

2682 
T
 
cut
(cÚ¡ 
v®
è{  
	gv®
<()
mš
()?mš():v®>()
max
()?max():(T)val; }

2683 cÚ¡ * 
fÜm©
() {  "%s"; }

2684 cÚ¡ * 
fÜm©_s
() {  "%s"; }

2685 cÚ¡ * 
fÜm©
(cÚ¡ 
T
& 
v®
è{ cÚ¡ *cÚ¡ 
	gs
 = "unknown"; 
	gcimg
::
unu£d
(val);  s; }

2688 
	g‹m¶©e
<> 
	gty³
<
	gboŞ
> {

2689 cÚ¡ * 
¡ršg
(è{ cÚ¡ *cÚ¡ 
	gs
 = "bool";  s; }

2690 
boŞ
 
is_æßt
(è{  
	gçl£
; }

2691 
boŞ
 
is_šf
(cÚ¡ boŞè{  
	gçl£
; }

2692 
boŞ
 
is_Çn
(cÚ¡ boŞè{  
	gçl£
; }

2693 
boŞ
 
is_fš™e
(cÚ¡ boŞè{  
	gŒue
; }

2694 
boŞ
 
mš
(è{  
	gçl£
; }

2695 
boŞ
 
max
(è{  
	gŒue
; }

2696 
boŞ
 
šf
(è{  
max
(); }

2697 
boŞ
 
is_šf
(è{  
	gçl£
; }

2698 
boŞ
 
cut
(cÚ¡ 
v®
è{  
	gv®
<()
mš
()?mš():v®>()
max
()?max():(bool)val; }

2699 cÚ¡ * 
fÜm©
() {  "%s"; }

2700 cÚ¡ * 
fÜm©_s
() {  "%s"; }

2701 cÚ¡ * 
fÜm©
(cÚ¡ 
boŞ
 
v®
è{ cÚ¡ * 
	gs
[] = { "false", "true" };  s[val?1:0]; }

2704 
	g‹m¶©e
<> 
	gty³
<> {

2705 cÚ¡ * 
¡ršg
(è{ cÚ¡ *cÚ¡ 
	gs
 = "unsigned char";  s; }

2706 
boŞ
 
is_æßt
(è{  
	gçl£
; }

2707 
boŞ
 
is_šf
(cÚ¡ è{  
	gçl£
; }

2708 
boŞ
 
is_Çn
(cÚ¡ è{  
	gçl£
; }

2709 
boŞ
 
is_fš™e
(cÚ¡ è{  
	gŒue
; }

2710 
mš
() {  0; }

2711 
max
() {  ()-1; }

2712 
šf
(è{  
max
(); }

2713 
cut
(cÚ¡ 
v®
) {

2714  
	gv®
<()
mš
()?mš():
v®
>()
max
()?max():()val; }

2715 cÚ¡ * 
fÜm©
() {  "%u"; }

2716 cÚ¡ * 
fÜm©_s
() {  "%u"; }

2717 
fÜm©
(cÚ¡ 
v®
è{  ()
	gv®
; }

2720 #ià
defšed
(
CHAR_MAX
) && CHAR_MAX==255

2721 
	g‹m¶©e
<> 
	gty³
<> {

2722 cÚ¡ * 
¡ršg
(è{ cÚ¡ *cÚ¡ 
	gs
 = "char";  s; }

2723 
boŞ
 
is_æßt
(è{  
	gçl£
; }

2724 
boŞ
 
is_šf
(cÚ¡ è{  
	gçl£
; }

2725 
boŞ
 
is_Çn
(cÚ¡ è{  
	gçl£
; }

2726 
boŞ
 
is_fš™e
(cÚ¡ è{  
	gŒue
; }

2727 
mš
() {  0; }

2728 
max
() {  ()-1; }

2729 
šf
(è{  
max
(); }

2730 
cut
(cÚ¡ 
v®
) {

2731  
	gv®
<()
mš
()?mš():
v®
>()
max
()?max():()val; }

2732 cÚ¡ * 
fÜm©
() {  "%u"; }

2733 cÚ¡ * 
fÜm©_s
() {  "%u"; }

2734 
fÜm©
(cÚ¡ 
v®
è{  ()
	gv®
; }

2737 
	g‹m¶©e
<> 
	gty³
<> {

2738 cÚ¡ * 
¡ršg
(è{ cÚ¡ *cÚ¡ 
	gs
 = "char";  s; }

2739 
boŞ
 
is_æßt
(è{  
	gçl£
; }

2740 
boŞ
 
is_šf
(cÚ¡ è{  
	gçl£
; }

2741 
boŞ
 
is_Çn
(cÚ¡ è{  
	gçl£
; }

2742 
boŞ
 
is_fš™e
(cÚ¡ è{  
	gŒue
; }

2743 
mš
(è{  ~
max
(); }

2744 
max
() {  ()(()-1>>1); }

2745 
šf
(è{  
max
(); }

2746 
cut
(cÚ¡ 
v®
è{  
	gv®
<()
mš
()?mš():v®>()
max
()?max():()val; }

2747 cÚ¡ * 
fÜm©
() {  "%d"; }

2748 cÚ¡ * 
fÜm©_s
() {  "%d"; }

2749 
fÜm©
(cÚ¡ 
v®
è{  ()
	gv®
; }

2753 
	g‹m¶©e
<> 
	gty³
<signed > {

2754 cÚ¡ * 
¡ršg
(è{ cÚ¡ *cÚ¡ 
	gs
 = "signed char";  s; }

2755 
boŞ
 
is_æßt
(è{  
	gçl£
; }

2756 
boŞ
 
is_šf
(cÚ¡ sigÃd è{  
	gçl£
; }

2757 
boŞ
 
is_Çn
(cÚ¡ sigÃd è{  
	gçl£
; }

2758 
boŞ
 
is_fš™e
(cÚ¡ sigÃd è{  
	gŒue
; }

2759 sigÃd 
mš
(è{  ~
max
(); }

2760 sigÃd 
max
() {  (signed )(()-1>>1); }

2761 sigÃd 
šf
(è{  
max
(); }

2762 sigÃd 
cut
(cÚ¡ 
v®
) {

2763  
	gv®
<()
mš
()?mš():
v®
>()
max
()?max():(signed )val; }

2764 cÚ¡ * 
fÜm©
() {  "%d"; }

2765 cÚ¡ * 
fÜm©_s
() {  "%d"; }

2766 
fÜm©
(cÚ¡ sigÃd 
v®
è{  ()
	gv®
; }

2769 
	g‹m¶©e
<> 
	gty³
<> {

2770 cÚ¡ * 
¡ršg
(è{ cÚ¡ *cÚ¡ 
	gs
 = "unsigned short";  s; }

2771 
boŞ
 
is_æßt
(è{  
	gçl£
; }

2772 
boŞ
 
is_šf
(cÚ¡ è{  
	gçl£
; }

2773 
boŞ
 
is_Çn
(cÚ¡ è{  
	gçl£
; }

2774 
boŞ
 
is_fš™e
(cÚ¡ è{  
	gŒue
; }

2775 
mš
() {  0; }

2776 
max
() {  ()-1; }

2777 
šf
(è{  
max
(); }

2778 
cut
(cÚ¡ 
v®
) {

2779  
	gv®
<()
mš
()?mš():
v®
>()
max
()?max():()val; }

2780 cÚ¡ * 
fÜm©
() {  "%u"; }

2781 cÚ¡ * 
fÜm©_s
() {  "%u"; }

2782 
fÜm©
(cÚ¡ 
v®
è{  ()
	gv®
; }

2785 
	g‹m¶©e
<> 
	gty³
<> {

2786 cÚ¡ * 
¡ršg
(è{ cÚ¡ *cÚ¡ 
	gs
 = "short";  s; }

2787 
boŞ
 
is_æßt
(è{  
	gçl£
; }

2788 
boŞ
 
is_šf
(cÚ¡ è{  
	gçl£
; }

2789 
boŞ
 
is_Çn
(cÚ¡ è{  
	gçl£
; }

2790 
boŞ
 
is_fš™e
(cÚ¡ è{  
	gŒue
; }

2791 
mš
(è{  ~
max
(); }

2792 
max
() {  ()(()-1>>1); }

2793 
šf
(è{  
max
(); }

2794 
cut
(cÚ¡ 
v®
è{  
	gv®
<()
mš
()?mš():v®>()
max
()?max():()val; }

2795 cÚ¡ * 
fÜm©
() {  "%d"; }

2796 cÚ¡ * 
fÜm©_s
() {  "%d"; }

2797 
fÜm©
(cÚ¡ 
v®
è{  ()
	gv®
; }

2800 
	g‹m¶©e
<> 
	gty³
<> {

2801 cÚ¡ * 
¡ršg
(è{ cÚ¡ *cÚ¡ 
	gs
 = "unsigned int";  s; }

2802 
boŞ
 
is_æßt
(è{  
	gçl£
; }

2803 
boŞ
 
is_šf
(cÚ¡ è{  
	gçl£
; }

2804 
boŞ
 
is_Çn
(cÚ¡ è{  
	gçl£
; }

2805 
boŞ
 
is_fš™e
(cÚ¡ è{  
	gŒue
; }

2806 
mš
() {  0; }

2807 
max
() {  ()-1; }

2808 
šf
(è{  
max
(); }

2809 
cut
(cÚ¡ 
v®
) {

2810  
	gv®
<()
mš
()?mš():
v®
>()
max
()?max():()val; }

2811 cÚ¡ * 
fÜm©
() {  "%u"; }

2812 cÚ¡ * 
fÜm©_s
() {  "%u"; }

2813 
fÜm©
(cÚ¡ 
v®
è{  
	gv®
; }

2816 
	g‹m¶©e
<> 
	gty³
<> {

2817 cÚ¡ * 
¡ršg
(è{ cÚ¡ *cÚ¡ 
	gs
 = "int";  s; }

2818 
boŞ
 
is_æßt
(è{  
	gçl£
; }

2819 
boŞ
 
is_šf
(cÚ¡ è{  
	gçl£
; }

2820 
boŞ
 
is_Çn
(cÚ¡ è{  
	gçl£
; }

2821 
boŞ
 
is_fš™e
(cÚ¡ è{  
	gŒue
; }

2822 
mš
(è{  ~
max
(); }

2823 
max
() {  ()(()-1>>1); }

2824 
šf
(è{  
max
(); }

2825 
cut
(cÚ¡ 
v®
è{  
	gv®
<()
mš
()?mš():v®>()
max
()?max():()val; }

2826 cÚ¡ * 
fÜm©
() {  "%d"; }

2827 cÚ¡ * 
fÜm©_s
() {  "%d"; }

2828 
fÜm©
(cÚ¡ 
v®
è{  
	gv®
; }

2831 
	g‹m¶©e
<> 
	gty³
<
	gcimg_ušt64
> {

2832 cÚ¡ * 
¡ršg
(è{ cÚ¡ *cÚ¡ 
	gs
 = "unsigned int64";  s; }

2833 
boŞ
 
is_æßt
(è{  
	gçl£
; }

2834 
boŞ
 
is_šf
(cÚ¡ 
cimg_ušt64
è{  
	gçl£
; }

2835 
boŞ
 
is_Çn
(cÚ¡ 
cimg_ušt64
è{  
	gçl£
; }

2836 
boŞ
 
is_fš™e
(cÚ¡ 
cimg_ušt64
è{  
	gŒue
; }

2837 
cimg_ušt64
 
mš
() {  0; }

2838 
cimg_ušt64
 
max
(è{  (
	gcimg_ušt64
)-1; }

2839 
cimg_ušt64
 
šf
(è{  
max
(); }

2840 
cimg_ušt64
 
cut
(cÚ¡ 
v®
) {

2841  
	gv®
<()
mš
()?mš():
v®
>()
max
()?max():(
cimg_ušt64
)val; }

2842 cÚ¡ * 
fÜm©
(è{  
	gcimg_fušt64
; }

2843 cÚ¡ * 
fÜm©_s
(è{  
	gcimg_fušt64
; }

2844 
fÜm©
(cÚ¡ 
cimg_ušt64
 
v®
è{  ()
	gv®
; }

2847 
	g‹m¶©e
<> 
	gty³
<
	gcimg_št64
> {

2848 cÚ¡ * 
¡ršg
(è{ cÚ¡ *cÚ¡ 
	gs
 = "int64";  s; }

2849 
boŞ
 
is_æßt
(è{  
	gçl£
; }

2850 
boŞ
 
is_šf
(cÚ¡ 
cimg_št64
è{  
	gçl£
; }

2851 
boŞ
 
is_Çn
(cÚ¡ 
cimg_št64
è{  
	gçl£
; }

2852 
boŞ
 
is_fš™e
(cÚ¡ 
cimg_št64
è{  
	gŒue
; }

2853 
cimg_št64
 
mš
(è{  ~
max
(); }

2854 
cimg_št64
 
max
(è{  (
	gcimg_št64
)((
	gcimg_ušt64
)-1>>1); }

2855 
cimg_št64
 
šf
(è{  
max
(); }

2856 
cimg_št64
 
cut
(cÚ¡ 
v®
) {

2857  
	gv®
<()
mš
()?mš():
v®
>()
max
()?max():(
cimg_št64
)val;

2859 cÚ¡ * 
fÜm©
(è{  
	gcimg_fšt64
; }

2860 cÚ¡ * 
fÜm©_s
(è{  
	gcimg_fšt64
; }

2861 
fÜm©
(cÚ¡ 
v®
è{  ()
	gv®
; }

2864 
	g‹m¶©e
<> 
	gty³
<> {

2865 cÚ¡ * 
¡ršg
(è{ cÚ¡ *cÚ¡ 
	gs
 = "double";  s; }

2866 
boŞ
 
is_æßt
(è{  
	gŒue
; }

2867 
boŞ
 
is_šf
(cÚ¡ 
v®
) {

2868 #ifdeà
isšf


2869  (
	gboŞ
)
isšf
(
v®
);

2871  !
is_Çn
(
v®
è&& (
	gv®
<
	gcimg
::
ty³
<>::
mš
(è|| v®>
cimg
::ty³<>::
max
());

2874 
boŞ
 
is_Çn
(cÚ¡ 
v®
) {

2876 
cimg_ušt64
 
u
;

2877 
	g¡d
::
memıy
(&
u
,&
v®
,());

2878  (()(
	gu
>>32)&0x7fffffff) + (()u!=0)>0x7ff00000;

2880 #ifdeà
i¢ª


2881  (
	gboŞ
)
i¢ª
(
v®
);

2883  !(
	gv®
==
v®
);

2886 
boŞ
 
is_fš™e
(cÚ¡ 
v®
) {

2887 #ifdeà
isfš™e


2888  (
	gboŞ
)
isfš™e
(
v®
);

2890  !
is_Çn
(
v®
è&& !
is_šf
(val);

2893 
mš
(è{  -
	gDBL_MAX
; }

2894 
max
(è{  
	gDBL_MAX
; }

2895 
šf
() {

2896 #ifdeà
INFINITY


2897  ()
	gINFINITY
;

2899  
max
()*max();

2902 
Çn
() {

2903 #ifdeà
NAN


2904  ()
	gNAN
;

2906 cÚ¡ 
	gv®_Çn
 = -
¡d
::
sq¹
(-1.);  val_nan;

2909 
cut
(cÚ¡ 
v®
è{  
	gv®
; }

2910 cÚ¡ * 
fÜm©
() {  "%.17g"; }

2911 cÚ¡ * 
fÜm©_s
() {  "%g"; }

2912 
fÜm©
(cÚ¡ 
v®
è{  
	gv®
; }

2915 
	g‹m¶©e
<> 
	gty³
<> {

2916 cÚ¡ * 
¡ršg
(è{ cÚ¡ *cÚ¡ 
	gs
 = "float";  s; }

2917 
boŞ
 
is_æßt
(è{  
	gŒue
; }

2918 
boŞ
 
is_šf
(cÚ¡ 
v®
) {

2919 #ifdeà
isšf


2920  (
	gboŞ
)
isšf
(
v®
);

2922  !
is_Çn
(
v®
è&& (
	gv®
<
	gcimg
::
ty³
<>::
mš
(è|| v®>
cimg
::ty³<>::
max
());

2925 
boŞ
 
is_Çn
(cÚ¡ 
v®
) {

2927 
u
;

2928 
	g¡d
::
memıy
(&
u
,&
v®
,());

2929  (
	gu
&0x7fffffff)>0x7f800000;

2931 #ifdeà
i¢ª


2932  (
	gboŞ
)
i¢ª
(
v®
);

2934  !(
	gv®
==
v®
);

2937 
boŞ
 
is_fš™e
(cÚ¡ 
v®
) {

2938 #ifdeà
isfš™e


2939  (
	gboŞ
)
isfš™e
(
v®
);

2941  !
is_Çn
(
v®
è&& !
is_šf
(val);

2944 
mš
(è{  -
	gFLT_MAX
; }

2945 
max
(è{  
	gFLT_MAX
; }

2946 
šf
(è{  ()
	gcimg
::
ty³
<>::inf(); }

2947 
Çn
(è{  ()
	gcimg
::
ty³
<>::nan(); }

2948 
cut
(cÚ¡ 
v®
è{  ()
	gv®
; }

2949 
cut
(cÚ¡ 
v®
è{  ()
	gv®
; }

2950 cÚ¡ * 
fÜm©
() {  "%.9g"; }

2951 cÚ¡ * 
fÜm©_s
() {  "%g"; }

2952 
fÜm©
(cÚ¡ 
v®
è{  ()
	gv®
; }

2955 
	g‹m¶©e
<> 
	gty³
<> {

2956 cÚ¡ * 
¡ršg
(è{ cÚ¡ *cÚ¡ 
	gs
 = "long double";  s; }

2957 
boŞ
 
is_æßt
(è{  
	gŒue
; }

2958 
boŞ
 
is_šf
(cÚ¡ 
v®
) {

2959 #ifdeà
isšf


2960  (
	gboŞ
)
isšf
(
v®
);

2962  !
is_Çn
(
v®
è&& (
	gv®
<
	gcimg
::
ty³
<>::
mš
(è|| v®>
cimg
::ty³<>::
max
());

2965 
boŞ
 
is_Çn
(cÚ¡ 
v®
) {

2966 #ifdeà
i¢ª


2967  (
	gboŞ
)
i¢ª
(
v®
);

2969  !(
	gv®
==
v®
);

2972 
boŞ
 
is_fš™e
(cÚ¡ 
v®
) {

2973 #ifdeà
isfš™e


2974  (
	gboŞ
)
isfš™e
(
v®
);

2976  !
is_Çn
(
v®
è&& !
is_šf
(val);

2979 
mš
(è{  -
	gLDBL_MAX
; }

2980 
max
(è{  
	gLDBL_MAX
; }

2981 
šf
(è{  
max
()*max(); }

2982 
Çn
(è{ cÚ¡ 
	gv®_Çn
 = -
¡d
::
sq¹
(-1.L);  val_nan; }

2983 
cut
(cÚ¡ 
v®
è{  
	gv®
; }

2984 cÚ¡ * 
fÜm©
() {  "%.17g"; }

2985 cÚ¡ * 
fÜm©_s
() {  "%g"; }

2986 
fÜm©
(cÚ¡ 
v®
è{  ()
	gv®
; }

2989 #ifdeà
cimg_u£_h®f


2990 
	g‹m¶©e
<> 
	gty³
<
	gh®f
> {

2991 cÚ¡ * 
¡ršg
(è{ cÚ¡ *cÚ¡ 
	gs
 = "half";  s; }

2992 
boŞ
 
is_æßt
(è{  
	gŒue
; }

2993 
boŞ
 
is_šf
(cÚ¡ 
v®
) {

2994 #ifdeà
isšf


2995  (
	gboŞ
)
isšf
(
v®
);

2997  !
is_Çn
(
v®
è&& (
	gv®
<
	gcimg
::
ty³
<
h®f
>::
mš
(è|| v®>
cimg
::ty³<h®f>::
max
());

3000 
boŞ
 
is_Çn
(cÚ¡ 
h®f
 
v®
) {

3001 ià((
	gh®f
)==2) {

3002 
u
;

3003 
	g¡d
::
memıy
(&
u
,&
v®
,());

3004  (
	gboŞ
)((
	gu
&0x7fff)>0x7c00);

3006  
	gcimg
::
ty³
<>::
is_Çn
(()
v®
);

3008 
boŞ
 
is_fš™e
(cÚ¡ 
h®f
 
v®
) {

3009 #ifdeà
isfš™e


3010  (
	gboŞ
)
isfš™e
(
v®
);

3012  !
is_Çn
(
v®
è&& !
is_šf
(val);

3015 
h®f
 
mš
(è{  (
	gh®f
)-65504; }

3016 
h®f
 
max
(è{  (
	gh®f
)65504; }

3017 
h®f
 
šf
(è{  
max
()*max(); }

3018 
h®f
 
Çn
(è{ cÚ¡ h®à
	gv®_Çn
 = (h®f)-
¡d
::
sq¹
(-1.);  val_nan; }

3019 
h®f
 
cut
(cÚ¡ 
v®
è{  (
	gh®f
)
	gv®
; }

3020 cÚ¡ * 
fÜm©
() {  "%.9g"; }

3021 cÚ¡ * 
fÜm©_s
() {  "%g"; }

3022 
fÜm©
(cÚ¡ 
h®f
 
v®
è{  ()
	gv®
; }

3026 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gt
> 
	ssu³r£t
 { 
T
 
	tty³
; };

3027 
	g‹m¶©e
<> 
	gsu³r£t
<
	gboŞ
,> { 
	tty³
; };

3028 
	g‹m¶©e
<> 
	gsu³r£t
<
	gboŞ
,> { 
	tty³
; };

3029 
	g‹m¶©e
<> 
	gsu³r£t
<
	gboŞ
,sigÃd > { sigÃd 
	tty³
; };

3030 
	g‹m¶©e
<> 
	gsu³r£t
<
	gboŞ
,> { 
	tty³
; };

3031 
	g‹m¶©e
<> 
	gsu³r£t
<
	gboŞ
,> { 
	tty³
; };

3032 
	g‹m¶©e
<> 
	gsu³r£t
<
	gboŞ
,> { 
	tty³
; };

3033 
	g‹m¶©e
<> 
	gsu³r£t
<
	gboŞ
,> { 
	tty³
; };

3034 
	g‹m¶©e
<> 
	gsu³r£t
<
	gboŞ
,
	gcimg_ušt64
> { 
cimg_ušt64
 
	tty³
; };

3035 
	g‹m¶©e
<> 
	gsu³r£t
<
	gboŞ
,
	gcimg_št64
> { 
cimg_št64
 
	tty³
; };

3036 
	g‹m¶©e
<> 
	gsu³r£t
<
	gboŞ
,> { 
	tty³
; };

3037 
	g‹m¶©e
<> 
	gsu³r£t
<
	gboŞ
,> { 
	tty³
; };

3038 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3039 
	g‹m¶©e
<> 
	gsu³r£t
<,sigÃd > { 
	tty³
; };

3040 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3041 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3042 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3043 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3044 
	g‹m¶©e
<> 
	gsu³r£t
<,
	gcimg_ušt64
> { 
cimg_ušt64
 
	tty³
; };

3045 
	g‹m¶©e
<> 
	gsu³r£t
<,
	gcimg_št64
> { 
cimg_št64
 
	tty³
; };

3046 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3047 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3048 
	g‹m¶©e
<> 
	gsu³r£t
<sigÃd ,> { 
	tty³
; };

3049 
	g‹m¶©e
<> 
	gsu³r£t
<sigÃd ,> { 
	tty³
; };

3050 
	g‹m¶©e
<> 
	gsu³r£t
<sigÃd ,> { 
	tty³
; };

3051 
	g‹m¶©e
<> 
	gsu³r£t
<sigÃd ,> { 
	tty³
; };

3052 
	g‹m¶©e
<> 
	gsu³r£t
<sigÃd ,> { 
cimg_št64
 
	tty³
; };

3053 
	g‹m¶©e
<> 
	gsu³r£t
<sigÃd ,> { 
	tty³
; };

3054 
	g‹m¶©e
<> 
	gsu³r£t
<sigÃd ,
	gcimg_ušt64
> { 
cimg_št64
 
	tty³
; };

3055 
	g‹m¶©e
<> 
	gsu³r£t
<sigÃd ,
	gcimg_št64
> { 
cimg_št64
 
	tty³
; };

3056 
	g‹m¶©e
<> 
	gsu³r£t
<sigÃd ,> { 
	tty³
; };

3057 
	g‹m¶©e
<> 
	gsu³r£t
<sigÃd ,> { 
	tty³
; };

3058 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3059 
	g‹m¶©e
<> 
	gsu³r£t
<,sigÃd > { 
	tty³
; };

3060 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3061 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3062 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
cimg_št64
 
	tty³
; };

3063 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3064 
	g‹m¶©e
<> 
	gsu³r£t
<,
	gcimg_ušt64
> { 
cimg_št64
 
	tty³
; };

3065 
	g‹m¶©e
<> 
	gsu³r£t
<,
	gcimg_št64
> { 
cimg_št64
 
	tty³
; };

3066 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3067 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3068 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3069 
	g‹m¶©e
<> 
	gsu³r£t
<,sigÃd > { 
	tty³
; };

3070 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3071 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3072 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3073 
	g‹m¶©e
<> 
	gsu³r£t
<,
	gcimg_ušt64
> { 
cimg_ušt64
 
	tty³
; };

3074 
	g‹m¶©e
<> 
	gsu³r£t
<,
	gcimg_št64
> { 
cimg_št64
 
	tty³
; };

3075 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3076 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3077 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3078 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
cimg_št64
 
	tty³
; };

3079 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3080 
	g‹m¶©e
<> 
	gsu³r£t
<,
	gcimg_ušt64
> { 
cimg_št64
 
	tty³
; };

3081 
	g‹m¶©e
<> 
	gsu³r£t
<,
	gcimg_št64
> { 
cimg_št64
 
	tty³
; };

3082 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3083 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3084 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
cimg_št64
 
	tty³
; };

3085 
	g‹m¶©e
<> 
	gsu³r£t
<,sigÃd > { 
cimg_št64
 
	tty³
; };

3086 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
cimg_št64
 
	tty³
; };

3087 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
cimg_št64
 
	tty³
; };

3088 
	g‹m¶©e
<> 
	gsu³r£t
<,
	gcimg_ušt64
> { 
cimg_ušt64
 
	tty³
; };

3089 
	g‹m¶©e
<> 
	gsu³r£t
<,
	gcimg_št64
> { 
cimg_št64
 
	tty³
; };

3090 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3091 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3092 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
cimg_št64
 
	tty³
; };

3093 
	g‹m¶©e
<> 
	gsu³r£t
<,
	gcimg_ušt64
> { 
cimg_št64
 
	tty³
; };

3094 
	g‹m¶©e
<> 
	gsu³r£t
<,
	gcimg_št64
> { 
cimg_št64
 
	tty³
; };

3095 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3096 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3097 
	g‹m¶©e
<> 
	gsu³r£t
<
	gcimg_ušt64
,> { 
cimg_št64
 
	tty³
; };

3098 
	g‹m¶©e
<> 
	gsu³r£t
<
	gcimg_ušt64
,sigÃd > { 
cimg_št64
 
	tty³
; };

3099 
	g‹m¶©e
<> 
	gsu³r£t
<
	gcimg_ušt64
,> { 
cimg_št64
 
	tty³
; };

3100 
	g‹m¶©e
<> 
	gsu³r£t
<
	gcimg_ušt64
,> { 
cimg_št64
 
	tty³
; };

3101 
	g‹m¶©e
<> 
	gsu³r£t
<
	gcimg_ušt64
,
	gcimg_št64
> { 
cimg_št64
 
	tty³
; };

3102 
	g‹m¶©e
<> 
	gsu³r£t
<
	gcimg_ušt64
,> { 
	tty³
; };

3103 
	g‹m¶©e
<> 
	gsu³r£t
<
	gcimg_ušt64
,> { 
	tty³
; };

3104 
	g‹m¶©e
<> 
	gsu³r£t
<
	gcimg_št64
,> { 
	tty³
; };

3105 
	g‹m¶©e
<> 
	gsu³r£t
<
	gcimg_št64
,> { 
	tty³
; };

3106 
	g‹m¶©e
<> 
	gsu³r£t
<,> { 
	tty³
; };

3108 #ifdeà
cimg_u£_h®f


3109 
	g‹m¶©e
<> 
	gsu³r£t
<
	gh®f
,> { 
	tty³
; };

3110 
	g‹m¶©e
<> 
	gsu³r£t
<
	gh®f
,> { 
	tty³
; };

3111 
	g‹m¶©e
<> 
	gsu³r£t
<
	gh®f
,> { 
	tty³
; };

3112 
	g‹m¶©e
<> 
	gsu³r£t
<
	gh®f
,> { 
	tty³
; };

3113 
	g‹m¶©e
<> 
	gsu³r£t
<
	gh®f
,
	gcimg_ušt64
> { 
	tty³
; };

3114 
	g‹m¶©e
<> 
	gsu³r£t
<
	gh®f
,
	gcimg_št64
> { 
	tty³
; };

3115 
	g‹m¶©e
<> 
	gsu³r£t
<
	gh®f
,> { 
	tty³
; };

3116 
	g‹m¶©e
<> 
	gsu³r£t
<
	gh®f
,> { 
	tty³
; };

3119 
	g‹m¶©e
<
ty³Çme
 
	gt1
,y³Çm
	gt2
,y³Çm
	gt3
> 
	ssu³r£t2
 {

3120 
ty³Çme
 
	tsu³r£t
<
	tt1
, 
	tty³Çme
 su³r£t<
	tt2
,
	tt3
>::
	tty³
>::typeype;

3123 
	g‹m¶©e
<
ty³Çme
 
	gt1
,y³Çm
	gt2
,y³Çm
	gt3
,y³Çm
	gt4
> 
	ssu³r£t3
 {

3124 
ty³Çme
 
	tsu³r£t
<
	tt1
, 
	tty³Çme
 
	tsu³r£t2
<
	tt2
,
	tt3
,
	tt4
>::
	tty³
>::typeype;

3127 
	g‹m¶©e
<
ty³Çme
 
	gt1
,y³Çm
	gt2
> 
	sÏ¡
 { 
t2
 
	tty³
; };

3129 
	#_cimg_Tt
 
ty³Çme
 
cimg
::
su³r£t
<
T
,
t
>::
ty³


	)

3130 
	#_cimg_Tæßt
 
ty³Çme
 
cimg
::
su³r£t
<
T
,>::
ty³


	)

3131 
	#_cimg_tæßt
 
ty³Çme
 
cimg
::
su³r£t
<
t
,>::
ty³


	)

3132 
	#_cimg_Ttæßt
 
ty³Çme
 
cimg
::
su³r£t2
<
T
,
t
,>::
ty³


	)

3133 
	#_cimg_TtdoubË
 
ty³Çme
 
cimg
::
su³r£t2
<
T
,
t
,>::
ty³


	)

3136 #ià
cimg_di¥Ïy
==1

3137 
	sX11_¡©ic
 {

3138 
	gnb_wšs
;

3139 
±h»ad_t
 *
	gev’ts_th»ad
;

3140 
±h»ad_cÚd_t
 
	gwa™_ev’t
;

3141 
±h»ad_mu‹x_t
 
	gwa™_ev’t_mu‹x
;

3142 
CImgDi¥Ïy
 **
	gwšs
;

3143 
Di¥Ïy
 *
	gdi¥Ïy
;

3144 
	gnb_b™s
;

3145 
boŞ
 
	gis_blue_fœ¡
;

3146 
boŞ
 
	gis_shm_’abËd
;

3147 
boŞ
 
	gby‹_Üd”
;

3149 #ifdeà
cimg_u£_x¿ndr


3150 
XRRSü“nSize
 *
	g»sŞutiÚs
;

3151 
RÙ©iÚ
 
	gcu¼_rÙ©iÚ
;

3152 
	gcu¼_»sŞutiÚ
;

3153 
	gnb_»sŞutiÚs
;

3155 
X11_¡©ic
():
nb_wšs
(0),
ev’ts_th»ad
(0),
di¥Ïy
(0),

3156 
nb_b™s
(0),
is_blue_fœ¡
(
çl£
),
is_shm_’abËd
(çl£),
by‹_Üd”
(false) {

3157 #ifdeà
__F»eBSD__


3158 
XIn™Th»ads
();

3160 
	gwšs
 = 
Ãw
 
CImgDi¥Ïy
*[1024];

3161 
±h»ad_mu‹x_š™
(&
wa™_ev’t_mu‹x
,0);

3162 
±h»ad_cÚd_š™
(&
wa™_ev’t
,0);

3164 #ifdeà
cimg_u£_x¿ndr


3165 
	g»sŞutiÚs
 = 0;

3166 
	gcu¼_rÙ©iÚ
 = 0;

3167 
	gcu¼_»sŞutiÚ
 = 
nb_»sŞutiÚs
 = 0;

3171 ~
X11_¡©ic
() {

3172 
	gd–‘e
[] 
	gwšs
;

3185 #ià
defšed
(
cimg_moduË
)

3186 
	gX11_¡©ic
& 
X11_©Œ
();

3187 #–ià
defšed
(
cimg_maš
)

3188 
	gX11_¡©ic
& 
X11_©Œ
(è{ 
X11_¡©ic
 
	gv®
;  val; }

3190 
šlše
 
	gX11_¡©ic
& 
X11_©Œ
(è{ 
X11_¡©ic
 
	gv®
;  val; }

3193 #–ià
cimg_di¥Ïy
==2

3194 
	sWš32_¡©ic
 {

3195 
HANDLE
 
	gwa™_ev’t
;

3196 
Wš32_¡©ic
(è{ 
	gwa™_ev’t
 = 
C»©eEv’t
(0,
FALSE_WIN
,FALSE_WIN,0); }

3198 #ià
defšed
(
cimg_moduË
)

3199 
	gWš32_¡©ic
& 
Wš32_©Œ
();

3200 #–ià
defšed
(
cimg_maš
)

3201 
	gWš32_¡©ic
& 
Wš32_©Œ
(è{ 
Wš32_¡©ic
 
	gv®
;  val; }

3203 
šlše
 
	gWš32_¡©ic
& 
Wš32_©Œ
(è{ 
Wš32_¡©ic
 
	gv®
;  val; }

3206 
	#cimg_lock_di¥Ïy
(è
cimg
::
	`mu‹x
(15)

	)

3207 
	#cimg_uÆock_di¥Ïy
(è
cimg
::
	`mu‹x
(15,0)

	)

3209 
	sMu‹x_¡©ic
 {

3210 #ià
cimg_OS
==1 && (
defšed
(
cimg_u£_±h»ad
è|| 
cimg_di¥Ïy
==1)

3211 
±h»ad_mu‹x_t
 
	gmu‹x
[32];

3212 
Mu‹x_¡©ic
(è{ 
	gi
 = 0; i<32; ++iè
±h»ad_mu‹x_š™
(&
mu‹x
[
i
],0); }

3213 
lock
(cÚ¡ 
n
è{ 
±h»ad_mu‹x_lock
(&
mu‹x
[n]); }

3214 
uÆock
(cÚ¡ 
n
è{ 
±h»ad_mu‹x_uÆock
(&
mu‹x
[n]); }

3215 
Œylock
(cÚ¡ 
n
è{  
±h»ad_mu‹x_Œylock
(&
mu‹x
[n]); }

3216 #–ià
cimg_OS
==2

3217 
HANDLE
 
	gmu‹x
[32];

3218 
Mu‹x_¡©ic
(è{ 
	gi
 = 0; i<32; ++iè
	gmu‹x
[
i
] = 
C»©eMu‹x
(0,
FALSE_WIN
,0); }

3219 
lock
(cÚ¡ 
n
è{ 
Wa™FÜSšgËObjeù
(
mu‹x
[n],
INFINITE
); }

3220 
uÆock
(cÚ¡ 
n
è{ 
R–—£Mu‹x
(
mu‹x
[n]); }

3221 
Œylock
(const ) {  0; }

3223 
Mu‹x_¡©ic
() {}

3224 
lock
(const ) {}

3225 
uÆock
(const ) {}

3226 
Œylock
(const ) {  0; }

3229 #ià
defšed
(
cimg_moduË
)

3230 
	gMu‹x_¡©ic
& 
Mu‹x_©Œ
();

3231 #–ià
defšed
(
cimg_maš
)

3232 
	gMu‹x_¡©ic
& 
Mu‹x_©Œ
(è{ 
Mu‹x_¡©ic
 
	gv®
;  val; }

3234 
šlše
 
	gMu‹x_¡©ic
& 
Mu‹x_©Œ
(è{ 
Mu‹x_¡©ic
 
	gv®
;  val; }

3237 #ià
defšed
(
cimg_u£_magick
)

3238 
	sMagick_¡©ic
 {

3239 
Magick_¡©ic
() {

3240 
	gMagick
::
In™ŸlizeMagick
("");

3243 
Magick_¡©ic
 
	g_Magick_¡©ic
;

3246 #ià
defšed
(
cimg_u£_fáw3
è&& !defšed(
cimg_u£_fáw3_sšgËth»ad
)

3247 
	sFFTW3_¡©ic
 {

3248 
FFTW3_¡©ic
() {

3249 
fáw_š™_th»ads
();

3252 
FFTW3_¡©ic
 
	g_FFTW3_¡©ic
;

3255 #ià
cimg_di¥Ïy
==1

3257 cÚ¡ 
	gkeyESC
 = 
XK_Esÿ³
;

3258 cÚ¡ 
	gkeyF1
 = 
XK_F1
;

3259 cÚ¡ 
	gkeyF2
 = 
XK_F2
;

3260 cÚ¡ 
	gkeyF3
 = 
XK_F3
;

3261 cÚ¡ 
	gkeyF4
 = 
XK_F4
;

3262 cÚ¡ 
	gkeyF5
 = 
XK_F5
;

3263 cÚ¡ 
	gkeyF6
 = 
XK_F6
;

3264 cÚ¡ 
	gkeyF7
 = 
XK_F7
;

3265 cÚ¡ 
	gkeyF8
 = 
XK_F8
;

3266 cÚ¡ 
	gkeyF9
 = 
XK_F9
;

3267 cÚ¡ 
	gkeyF10
 = 
XK_F10
;

3268 cÚ¡ 
	gkeyF11
 = 
XK_F11
;

3269 cÚ¡ 
	gkeyF12
 = 
XK_F12
;

3270 cÚ¡ 
	gkeyPAUSE
 = 
XK_Pau£
;

3271 cÚ¡ 
	gkey1
 = 
XK_1
;

3272 cÚ¡ 
	gkey2
 = 
XK_2
;

3273 cÚ¡ 
	gkey3
 = 
XK_3
;

3274 cÚ¡ 
	gkey4
 = 
XK_4
;

3275 cÚ¡ 
	gkey5
 = 
XK_5
;

3276 cÚ¡ 
	gkey6
 = 
XK_6
;

3277 cÚ¡ 
	gkey7
 = 
XK_7
;

3278 cÚ¡ 
	gkey8
 = 
XK_8
;

3279 cÚ¡ 
	gkey9
 = 
XK_9
;

3280 cÚ¡ 
	gkey0
 = 
XK_0
;

3281 cÚ¡ 
	gkeyBACKSPACE
 = 
XK_BackS·û
;

3282 cÚ¡ 
	gkeyINSERT
 = 
XK_In£¹
;

3283 cÚ¡ 
	gkeyHOME
 = 
XK_Home
;

3284 cÚ¡ 
	gkeyPAGEUP
 = 
XK_Page_Up
;

3285 cÚ¡ 
	gkeyTAB
 = 
XK_Tab
;

3286 cÚ¡ 
	gkeyQ
 = 
XK_q
;

3287 cÚ¡ 
	gkeyW
 = 
XK_w
;

3288 cÚ¡ 
	gkeyE
 = 
XK_e
;

3289 cÚ¡ 
	gkeyR
 = 
XK_r
;

3290 cÚ¡ 
	gkeyT
 = 
XK_t
;

3291 cÚ¡ 
	gkeyY
 = 
XK_y
;

3292 cÚ¡ 
	gkeyU
 = 
XK_u
;

3293 cÚ¡ 
	gkeyI
 = 
XK_i
;

3294 cÚ¡ 
	gkeyO
 = 
XK_o
;

3295 cÚ¡ 
	gkeyP
 = 
XK_p
;

3296 cÚ¡ 
	gkeyDELETE
 = 
XK_D–‘e
;

3297 cÚ¡ 
	gkeyEND
 = 
XK_End
;

3298 cÚ¡ 
	gkeyPAGEDOWN
 = 
XK_Page_Down
;

3299 cÚ¡ 
	gkeyCAPSLOCK
 = 
XK_C­s_Lock
;

3300 cÚ¡ 
	gkeyA
 = 
XK_a
;

3301 cÚ¡ 
	gkeyS
 = 
XK_s
;

3302 cÚ¡ 
	gkeyD
 = 
XK_d
;

3303 cÚ¡ 
	gkeyF
 = 
XK_f
;

3304 cÚ¡ 
	gkeyG
 = 
XK_g
;

3305 cÚ¡ 
	gkeyH
 = 
XK_h
;

3306 cÚ¡ 
	gkeyJ
 = 
XK_j
;

3307 cÚ¡ 
	gkeyK
 = 
XK_k
;

3308 cÚ¡ 
	gkeyL
 = 
XK_l
;

3309 cÚ¡ 
	gkeyENTER
 = 
XK_R‘uº
;

3310 cÚ¡ 
	gkeySHIFTLEFT
 = 
XK_Shiá_L
;

3311 cÚ¡ 
	gkeyZ
 = 
XK_z
;

3312 cÚ¡ 
	gkeyX
 = 
XK_x
;

3313 cÚ¡ 
	gkeyC
 = 
XK_c
;

3314 cÚ¡ 
	gkeyV
 = 
XK_v
;

3315 cÚ¡ 
	gkeyB
 = 
XK_b
;

3316 cÚ¡ 
	gkeyN
 = 
XK_n
;

3317 cÚ¡ 
	gkeyM
 = 
XK_m
;

3318 cÚ¡ 
	gkeySHIFTRIGHT
 = 
XK_Shiá_R
;

3319 cÚ¡ 
	gkeyARROWUP
 = 
XK_Up
;

3320 cÚ¡ 
	gkeyCTRLLEFT
 = 
XK_CÚŒŞ_L
;

3321 cÚ¡ 
	gkeyAPPLEFT
 = 
XK_Su³r_L
;

3322 cÚ¡ 
	gkeyALT
 = 
XK_AÉ_L
;

3323 cÚ¡ 
	gkeySPACE
 = 
XK_¥aû
;

3324 cÚ¡ 
	gkeyALTGR
 = 
XK_AÉ_R
;

3325 cÚ¡ 
	gkeyAPPRIGHT
 = 
XK_Su³r_R
;

3326 cÚ¡ 
	gkeyMENU
 = 
XK_M’u
;

3327 cÚ¡ 
	gkeyCTRLRIGHT
 = 
XK_CÚŒŞ_R
;

3328 cÚ¡ 
	gkeyARROWLEFT
 = 
XK_Leá
;

3329 cÚ¡ 
	gkeyARROWDOWN
 = 
XK_Down
;

3330 cÚ¡ 
	gkeyARROWRIGHT
 = 
XK_Right
;

3331 cÚ¡ 
	gkeyPAD0
 = 
XK_KP_0
;

3332 cÚ¡ 
	gkeyPAD1
 = 
XK_KP_1
;

3333 cÚ¡ 
	gkeyPAD2
 = 
XK_KP_2
;

3334 cÚ¡ 
	gkeyPAD3
 = 
XK_KP_3
;

3335 cÚ¡ 
	gkeyPAD4
 = 
XK_KP_4
;

3336 cÚ¡ 
	gkeyPAD5
 = 
XK_KP_5
;

3337 cÚ¡ 
	gkeyPAD6
 = 
XK_KP_6
;

3338 cÚ¡ 
	gkeyPAD7
 = 
XK_KP_7
;

3339 cÚ¡ 
	gkeyPAD8
 = 
XK_KP_8
;

3340 cÚ¡ 
	gkeyPAD9
 = 
XK_KP_9
;

3341 cÚ¡ 
	gkeyPADADD
 = 
XK_KP_Add
;

3342 cÚ¡ 
	gkeyPADSUB
 = 
XK_KP_SubŒaù
;

3343 cÚ¡ 
	gkeyPADMUL
 = 
XK_KP_MuÉly
;

3344 cÚ¡ 
	gkeyPADDIV
 = 
XK_KP_Divide
;

3346 #–ià
cimg_di¥Ïy
==2

3348 cÚ¡ 
	gkeyESC
 = 
VK_ESCAPE
;

3349 cÚ¡ 
	gkeyF1
 = 
VK_F1
;

3350 cÚ¡ 
	gkeyF2
 = 
VK_F2
;

3351 cÚ¡ 
	gkeyF3
 = 
VK_F3
;

3352 cÚ¡ 
	gkeyF4
 = 
VK_F4
;

3353 cÚ¡ 
	gkeyF5
 = 
VK_F5
;

3354 cÚ¡ 
	gkeyF6
 = 
VK_F6
;

3355 cÚ¡ 
	gkeyF7
 = 
VK_F7
;

3356 cÚ¡ 
	gkeyF8
 = 
VK_F8
;

3357 cÚ¡ 
	gkeyF9
 = 
VK_F9
;

3358 cÚ¡ 
	gkeyF10
 = 
VK_F10
;

3359 cÚ¡ 
	gkeyF11
 = 
VK_F11
;

3360 cÚ¡ 
	gkeyF12
 = 
VK_F12
;

3361 cÚ¡ 
	gkeyPAUSE
 = 
VK_PAUSE
;

3362 cÚ¡ 
	gkey1
 = '1';

3363 cÚ¡ 
	gkey2
 = '2';

3364 cÚ¡ 
	gkey3
 = '3';

3365 cÚ¡ 
	gkey4
 = '4';

3366 cÚ¡ 
	gkey5
 = '5';

3367 cÚ¡ 
	gkey6
 = '6';

3368 cÚ¡ 
	gkey7
 = '7';

3369 cÚ¡ 
	gkey8
 = '8';

3370 cÚ¡ 
	gkey9
 = '9';

3371 cÚ¡ 
	gkey0
 = '0';

3372 cÚ¡ 
	gkeyBACKSPACE
 = 
VK_BACK
;

3373 cÚ¡ 
	gkeyINSERT
 = 
VK_INSERT
;

3374 cÚ¡ 
	gkeyHOME
 = 
VK_HOME
;

3375 cÚ¡ 
	gkeyPAGEUP
 = 
VK_PRIOR
;

3376 cÚ¡ 
	gkeyTAB
 = 
VK_TAB
;

3377 cÚ¡ 
	gkeyQ
 = 'Q';

3378 cÚ¡ 
	gkeyW
 = 'W';

3379 cÚ¡ 
	gkeyE
 = 'E';

3380 cÚ¡ 
	gkeyR
 = 'R';

3381 cÚ¡ 
	gkeyT
 = 'T';

3382 cÚ¡ 
	gkeyY
 = 'Y';

3383 cÚ¡ 
	gkeyU
 = 'U';

3384 cÚ¡ 
	gkeyI
 = 'I';

3385 cÚ¡ 
	gkeyO
 = 'O';

3386 cÚ¡ 
	gkeyP
 = 'P';

3387 cÚ¡ 
	gkeyDELETE
 = 
VK_DELETE
;

3388 cÚ¡ 
	gkeyEND
 = 
VK_END
;

3389 cÚ¡ 
	gkeyPAGEDOWN
 = 
VK_NEXT
;

3390 cÚ¡ 
	gkeyCAPSLOCK
 = 
VK_CAPITAL
;

3391 cÚ¡ 
	gkeyA
 = 'A';

3392 cÚ¡ 
	gkeyS
 = 'S';

3393 cÚ¡ 
	gkeyD
 = 'D';

3394 cÚ¡ 
	gkeyF
 = 'F';

3395 cÚ¡ 
	gkeyG
 = 'G';

3396 cÚ¡ 
	gkeyH
 = 'H';

3397 cÚ¡ 
	gkeyJ
 = 'J';

3398 cÚ¡ 
	gkeyK
 = 'K';

3399 cÚ¡ 
	gkeyL
 = 'L';

3400 cÚ¡ 
	gkeyENTER
 = 
VK_RETURN
;

3401 cÚ¡ 
	gkeySHIFTLEFT
 = 
VK_SHIFT
;

3402 cÚ¡ 
	gkeyZ
 = 'Z';

3403 cÚ¡ 
	gkeyX
 = 'X';

3404 cÚ¡ 
	gkeyC
 = 'C';

3405 cÚ¡ 
	gkeyV
 = 'V';

3406 cÚ¡ 
	gkeyB
 = 'B';

3407 cÚ¡ 
	gkeyN
 = 'N';

3408 cÚ¡ 
	gkeyM
 = 'M';

3409 cÚ¡ 
	gkeySHIFTRIGHT
 = 
VK_SHIFT
;

3410 cÚ¡ 
	gkeyARROWUP
 = 
VK_UP
;

3411 cÚ¡ 
	gkeyCTRLLEFT
 = 
VK_CONTROL
;

3412 cÚ¡ 
	gkeyAPPLEFT
 = 
VK_LWIN
;

3413 cÚ¡ 
	gkeyALT
 = 
VK_LMENU
;

3414 cÚ¡ 
	gkeySPACE
 = 
VK_SPACE
;

3415 cÚ¡ 
	gkeyALTGR
 = 
VK_CONTROL
;

3416 cÚ¡ 
	gkeyAPPRIGHT
 = 
VK_RWIN
;

3417 cÚ¡ 
	gkeyMENU
 = 
VK_APPS
;

3418 cÚ¡ 
	gkeyCTRLRIGHT
 = 
VK_CONTROL
;

3419 cÚ¡ 
	gkeyARROWLEFT
 = 
VK_LEFT
;

3420 cÚ¡ 
	gkeyARROWDOWN
 = 
VK_DOWN
;

3421 cÚ¡ 
	gkeyARROWRIGHT
 = 
VK_RIGHT
;

3422 cÚ¡ 
	gkeyPAD0
 = 0x60;

3423 cÚ¡ 
	gkeyPAD1
 = 0x61;

3424 cÚ¡ 
	gkeyPAD2
 = 0x62;

3425 cÚ¡ 
	gkeyPAD3
 = 0x63;

3426 cÚ¡ 
	gkeyPAD4
 = 0x64;

3427 cÚ¡ 
	gkeyPAD5
 = 0x65;

3428 cÚ¡ 
	gkeyPAD6
 = 0x66;

3429 cÚ¡ 
	gkeyPAD7
 = 0x67;

3430 cÚ¡ 
	gkeyPAD8
 = 0x68;

3431 cÚ¡ 
	gkeyPAD9
 = 0x69;

3432 cÚ¡ 
	gkeyPADADD
 = 
VK_ADD
;

3433 cÚ¡ 
	gkeyPADSUB
 = 
VK_SUBTRACT
;

3434 cÚ¡ 
	gkeyPADMUL
 = 
VK_MULTIPLY
;

3435 cÚ¡ 
	gkeyPADDIV
 = 
VK_DIVIDE
;

3440 cÚ¡ 
	gkeyESC
 = 1U;

3441 cÚ¡ 
	gkeyF1
 = 2U;

3442 cÚ¡ 
	gkeyF2
 = 3U;

3443 cÚ¡ 
	gkeyF3
 = 4U;

3444 cÚ¡ 
	gkeyF4
 = 5U;

3445 cÚ¡ 
	gkeyF5
 = 6U;

3446 cÚ¡ 
	gkeyF6
 = 7U;

3447 cÚ¡ 
	gkeyF7
 = 8U;

3448 cÚ¡ 
	gkeyF8
 = 9U;

3449 cÚ¡ 
	gkeyF9
 = 10U;

3450 cÚ¡ 
	gkeyF10
 = 11U;

3451 cÚ¡ 
	gkeyF11
 = 12U;

3452 cÚ¡ 
	gkeyF12
 = 13U;

3453 cÚ¡ 
	gkeyPAUSE
 = 14U;

3454 cÚ¡ 
	gkey1
 = 15U;

3455 cÚ¡ 
	gkey2
 = 16U;

3456 cÚ¡ 
	gkey3
 = 17U;

3457 cÚ¡ 
	gkey4
 = 18U;

3458 cÚ¡ 
	gkey5
 = 19U;

3459 cÚ¡ 
	gkey6
 = 20U;

3460 cÚ¡ 
	gkey7
 = 21U;

3461 cÚ¡ 
	gkey8
 = 22U;

3462 cÚ¡ 
	gkey9
 = 23U;

3463 cÚ¡ 
	gkey0
 = 24U;

3464 cÚ¡ 
	gkeyBACKSPACE
 = 25U;

3465 cÚ¡ 
	gkeyINSERT
 = 26U;

3466 cÚ¡ 
	gkeyHOME
 = 27U;

3467 cÚ¡ 
	gkeyPAGEUP
 = 28U;

3468 cÚ¡ 
	gkeyTAB
 = 29U;

3469 cÚ¡ 
	gkeyQ
 = 30U;

3470 cÚ¡ 
	gkeyW
 = 31U;

3471 cÚ¡ 
	gkeyE
 = 32U;

3472 cÚ¡ 
	gkeyR
 = 33U;

3473 cÚ¡ 
	gkeyT
 = 34U;

3474 cÚ¡ 
	gkeyY
 = 35U;

3475 cÚ¡ 
	gkeyU
 = 36U;

3476 cÚ¡ 
	gkeyI
 = 37U;

3477 cÚ¡ 
	gkeyO
 = 38U;

3478 cÚ¡ 
	gkeyP
 = 39U;

3479 cÚ¡ 
	gkeyDELETE
 = 40U;

3480 cÚ¡ 
	gkeyEND
 = 41U;

3481 cÚ¡ 
	gkeyPAGEDOWN
 = 42U;

3482 cÚ¡ 
	gkeyCAPSLOCK
 = 43U;

3483 cÚ¡ 
	gkeyA
 = 44U;

3484 cÚ¡ 
	gkeyS
 = 45U;

3485 cÚ¡ 
	gkeyD
 = 46U;

3486 cÚ¡ 
	gkeyF
 = 47U;

3487 cÚ¡ 
	gkeyG
 = 48U;

3488 cÚ¡ 
	gkeyH
 = 49U;

3489 cÚ¡ 
	gkeyJ
 = 50U;

3490 cÚ¡ 
	gkeyK
 = 51U;

3491 cÚ¡ 
	gkeyL
 = 52U;

3492 cÚ¡ 
	gkeyENTER
 = 53U;

3493 cÚ¡ 
	gkeySHIFTLEFT
 = 54U;

3494 cÚ¡ 
	gkeyZ
 = 55U;

3495 cÚ¡ 
	gkeyX
 = 56U;

3496 cÚ¡ 
	gkeyC
 = 57U;

3497 cÚ¡ 
	gkeyV
 = 58U;

3498 cÚ¡ 
	gkeyB
 = 59U;

3499 cÚ¡ 
	gkeyN
 = 60U;

3500 cÚ¡ 
	gkeyM
 = 61U;

3501 cÚ¡ 
	gkeySHIFTRIGHT
 = 62U;

3502 cÚ¡ 
	gkeyARROWUP
 = 63U;

3503 cÚ¡ 
	gkeyCTRLLEFT
 = 64U;

3504 cÚ¡ 
	gkeyAPPLEFT
 = 65U;

3505 cÚ¡ 
	gkeyALT
 = 66U;

3506 cÚ¡ 
	gkeySPACE
 = 67U;

3507 cÚ¡ 
	gkeyALTGR
 = 68U;

3508 cÚ¡ 
	gkeyAPPRIGHT
 = 69U;

3509 cÚ¡ 
	gkeyMENU
 = 70U;

3510 cÚ¡ 
	gkeyCTRLRIGHT
 = 71U;

3511 cÚ¡ 
	gkeyARROWLEFT
 = 72U;

3512 cÚ¡ 
	gkeyARROWDOWN
 = 73U;

3513 cÚ¡ 
	gkeyARROWRIGHT
 = 74U;

3514 cÚ¡ 
	gkeyPAD0
 = 75U;

3515 cÚ¡ 
	gkeyPAD1
 = 76U;

3516 cÚ¡ 
	gkeyPAD2
 = 77U;

3517 cÚ¡ 
	gkeyPAD3
 = 78U;

3518 cÚ¡ 
	gkeyPAD4
 = 79U;

3519 cÚ¡ 
	gkeyPAD5
 = 80U;

3520 cÚ¡ 
	gkeyPAD6
 = 81U;

3521 cÚ¡ 
	gkeyPAD7
 = 82U;

3522 cÚ¡ 
	gkeyPAD8
 = 83U;

3523 cÚ¡ 
	gkeyPAD9
 = 84U;

3524 cÚ¡ 
	gkeyPADADD
 = 85U;

3525 cÚ¡ 
	gkeyPADSUB
 = 86U;

3526 cÚ¡ 
	gkeyPADMUL
 = 87U;

3527 cÚ¡ 
	gkeyPADDIV
 = 88U;

3530 cÚ¡ 
	gPI
 = 3.14159265358979323846;

3533 cÚ¡ *cÚ¡ 
	gd©a_fÚt_sm®l
[] = {

3585 cÚ¡ *cÚ¡ 
	gd©a_fÚt_nÜm®
[] = {

3916 cÚ¡ *cÚ¡ 
	gd©a_fÚt_Ïrge
[] = {

4612 cÚ¡ *cÚ¡ 
	gd©a_fÚt_huge
[] = {

5597 cÚ¡ 
	glogo40x38
[4576] = {

5628 
šlše
 
	g¡d
::
FILE
* 
ouut
(
¡d
::FILE *
fe
) {

5629 
cimg
::
mu‹x
(1);

5630 
	g¡d
::
FILE
 *
»s
 = 
cimg
::
_¡d”r
();

5631 ià(
	gfe
è
	g»s
 = 
fe
;

5632 
	gcimg
::
mu‹x
(1,0);

5633  
	g»s
;

5637 
šlše
 
nb_ıus
() {

5638 
	g»s
 = 1;

5639 #ià
cimg_OS
==2

5640 
SYSTEM_INFO
 
	gsysšfo
;

5641 
G‘Sy¡emInfo
(&
sysšfo
);

5642 
	g»s
 = ()
sysšfo
.
dwNumb”OfProûssÜs
;

5643 #–ià
cimg_OS
 == 1

5644 
	g»s
 = ()
syscÚf
(
_SC_NPROCESSORS_ONLN
);

5646  
	g»s
?res:1U;

5650 
šlše
 
mu‹x
(cÚ¡ 
n
, cÚ¡ 
lock_mode
) {

5651 
	glock_mode
) {

5652 0 : 
cimg
::
Mu‹x_©Œ
().
uÆock
(
n
);  0;

5653 1 : 
cimg
::
Mu‹x_©Œ
().
lock
(
n
);  0;

5654  :  
cimg
::
Mu‹x_©Œ
().
Œylock
(
n
);

5673 
šlše
 
w¬n
(cÚ¡ *cÚ¡ 
fÜm©
, ...) {

5674 ià(
	gcimg
::
exû±iÚ_mode
()>=1) {

5675 *cÚ¡ 
mes§ge
 = 
Ãw
 [16384];

5676 
	g¡d
::
va_li¡
 
­
;

5677 
va_¡¬t
(
­
,
fÜm©
);

5678 
cimg_v¢´štf
(
mes§ge
,16384,
fÜm©
,
­
);

5679 
va_’d
(
­
);

5680 #ifdeà
cimg_¡riù_w¬nšgs


5681 
throw
 
CImgW¬nšgExû±iÚ
(
mes§ge
);

5683 
	g¡d
::
årštf
(
cimg
::
ouut
(),"\n%s[CImg] *** W¬nšg ***%s%s\n",cimg::
t_»d
,cimg::
t_nÜm®
,
mes§ge
);

5685 
	gd–‘e
[] 
	gmes§ge
;

5698 
šlše
 
sy¡em
(cÚ¡ *cÚ¡ 
commªd
, cÚ¡ *cÚ¡ 
moduË_Çme
=0, cÚ¡ 
boŞ
 
is_v”bo£
=
çl£
) {

5699 
cimg
::
unu£d
(
moduË_Çme
);

5700 #ifdeà
cimg_no_sy¡em_ÿÎs


5703 ià(
	gis_v”bo£
è 
	g¡d
::
sy¡em
(
commªd
);

5704 #ià
cimg_OS
==1

5705 cÚ¡ 
	gl
 = ()
¡d
::
¡¾’
(
commªd
);

5706 ià(
	gl
) {

5707 *cÚ¡ 
	gncommªd
 = 
Ãw
 [
l
 + 24];

5708 
	g¡d
::
memıy
(
ncommªd
,
commªd
,
l
);

5709 
	g¡d
::
¡rıy
(
ncommªd
 + 
l
," >/dev/null 2>&1");

5710 cÚ¡ 
	gout_v®
 = 
¡d
::
sy¡em
(
ncommªd
);

5711 
	gd–‘e
[] 
	gncommªd
;

5712  
	gout_v®
;

5714 #–ià
cimg_OS
==2

5715 
PROCESS_INFORMATION
 
	gpi
;

5716 
STARTUPINFOA
 
	gsi
;

5717 
	g¡d
::
mem£t
(&
pi
,0,(
PROCESS_INFORMATION
));

5718 
	g¡d
::
mem£t
(&
si
,0,(
STARTUPINFO
));

5719 
G‘S¹upInfoA
(&
si
);

5720 
	gsi
.
	gcb
 = (
si
);

5721 
	gsi
.
	gwShowWšdow
 = 
SW_HIDE
;

5722 
	gsi
.
	gdwFÏgs
 |ğ
SW_HIDE
 | 
STARTF_USESHOWWINDOW
;

5723 cÚ¡ 
BOOL
 
	g»s
 = 
C»©eProûssA
((
LPCSTR
)
moduË_Çme
,(
LPSTR
)
commªd
,0,0,
FALSE
,0,0,0,&
si
,&
pi
);

5724 ià(
	g»s
) {

5725 
Wa™FÜSšgËObjeù
(
pi
.
hProûss
,
INFINITE
);

5726 
Clo£HªdË
(
pi
.
hTh»ad
);

5727 
Clo£HªdË
(
pi
.
hProûss
);

5730 * 
	gÍMsgBuf
;

5733 
DWORD
 
	g”rÜCode
 = 
G‘La¡E¼Ü
();

5734 
FÜm©Mes§geA
(
FORMAT_MESSAGE_ALLOCATE_BUFFER
 | 
FORMAT_MESSAGE_FROM_SYSTEM
 | 
FORMAT_MESSAGE_IGNORE_INSERTS
,

5735 0,
”rÜCode
,
MAKELANGID
(
LANG_NEUTRAL
,
SUBLANG_DEFAULT
),(
LPSTR
)&
ÍMsgBuf
,0,0);

5736 
	gcimg
::
w¬n
("cimg::system() : Command '%s' (module‚ame '%s) failed withƒrror %lu: %s",

5737 
moduË_Çme
==0?"(null)":module_name,

5738 
commªd
==0?"(null)":command,

5739 
”rÜCode
,
ÍMsgBuf
);

5743  
	g¡d
::
sy¡em
(
commªd
);

5749 
	g‹m¶©e
<
ty³Çme
 
	gT
>

5750 
šlše
 
	gT
& 
‹mpÜ¬y
(cÚ¡ 
T
&) {

5751 
T
 
	g‹mp
;

5752  
	g‹mp
;

5756 
	g‹m¶©e
<
ty³Çme
 
	gT
>

5757 
šlše
 
sw­
(
T
& 
a
, T& 
b
è{ T 
	gt
 =‡; 
	ga
 = b; 
	gb
 = 
t
; }

5760 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
>

5761 
šlše
 
sw­
(
T1
& 
a1
, T1& 
b1
, 
T2
& 
a2
, T2& 
b2
) {

5762 
	gcimg
::
sw­
(
a1
,
b1
); cimg::sw­(
a2
,
b2
);

5766 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
>

5767 
šlše
 
sw­
(
T1
& 
a1
, T1& 
b1
, 
T2
& 
a2
, T2& 
b2
, 
T3
& 
a3
, T3& 
b3
) {

5768 
	gcimg
::
sw­
(
a1
,
b1
,
a2
,
b2
); cimg::sw­(
a3
,
b3
);

5772 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
>

5773 
šlše
 
sw­
(
T1
& 
a1
, T1& 
b1
, 
T2
& 
a2
, T2& 
b2
, 
T3
& 
a3
, T3& 
b3
, 
T4
& 
a4
, T4& 
b4
) {

5774 
	gcimg
::
sw­
(
a1
,
b1
,
a2
,
b2
,
a3
,
b3
); cimg::sw­(
a4
,
b4
);

5778 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,y³Çm
	gT5
>

5779 
šlše
 
sw­
(
T1
& 
a1
, T1& 
b1
, 
T2
& 
a2
, T2& 
b2
, 
T3
& 
a3
, T3& 
b3
, 
T4
& 
a4
, T4& 
b4
, 
T5
& 
a5
, T5& 
b5
) {

5780 
	gcimg
::
sw­
(
a1
,
b1
,
a2
,
b2
,
a3
,
b3
,
a4
,
b4
); cimg::sw­(
a5
,
b5
);

5784 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,y³Çm
	gT5
,y³Çm
	gT6
>

5785 
šlše
 
sw­
(
T1
& 
a1
, T1& 
b1
, 
T2
& 
a2
, T2& 
b2
, 
T3
& 
a3
, T3& 
b3
, 
T4
& 
a4
, T4& 
b4
, 
T5
& 
a5
, T5& 
b5
, 
T6
& 
a6
, T6& 
b6
) {

5786 
	gcimg
::
sw­
(
a1
,
b1
,
a2
,
b2
,
a3
,
b3
,
a4
,
b4
,
a5
,
b5
); cimg::sw­(
a6
,
b6
);

5790 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,y³Çm
	gT5
,y³Çm
	gT6
,y³Çm
	gT7
>

5791 
šlše
 
sw­
(
T1
& 
a1
, T1& 
b1
, 
T2
& 
a2
, T2& 
b2
, 
T3
& 
a3
, T3& 
b3
, 
T4
& 
a4
, T4& 
b4
, 
T5
& 
a5
, T5& 
b5
, 
T6
& 
a6
, T6& 
b6
,

5792 
T7
& 
a7
, T7& 
b7
) {

5793 
	gcimg
::
sw­
(
a1
,
b1
,
a2
,
b2
,
a3
,
b3
,
a4
,
b4
,
a5
,
b5
,
a6
,
b6
); cimg::sw­(
a7
,
b7
);

5797 
	g‹m¶©e
<
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gT3
,y³Çm
	gT4
,y³Çm
	gT5
,y³Çm
	gT6
,y³Çm
	gT7
,y³Çm
	gT8
>

5798 
šlše
 
sw­
(
T1
& 
a1
, T1& 
b1
, 
T2
& 
a2
, T2& 
b2
, 
T3
& 
a3
, T3& 
b3
, 
T4
& 
a4
, T4& 
b4
, 
T5
& 
a5
, T5& 
b5
, 
T6
& 
a6
, T6& 
b6
,

5799 
T7
& 
a7
, T7& 
b7
, 
T8
& 
a8
, T8& 
b8
) {

5800 
	gcimg
::
sw­
(
a1
,
b1
,
a2
,
b2
,
a3
,
b3
,
a4
,
b4
,
a5
,
b5
,
a6
,
b6
,
a7
,
b7
); cimg::sw­(
a8
,
b8
);

5807 
šlše
 
boŞ
 
’dŸÂess
() {

5808 cÚ¡ 
	gx
 = 1;

5809  ((*)&
	gx
)[0]?
	gçl£
:
Œue
;

5817 
	g‹m¶©e
<
ty³Çme
 
	gT
>

5818 
šlše
 
šv”t_’dŸÂess
(
T
* cÚ¡ 
bufãr
, cÚ¡ 
cimg_ulÚg
 
size
) {

5819 ià(
	gsize
è(
	gT
)) {

5822 *
±r
 = (*)
bufãr
 + 
size
; 
	g±r
>(*)
	gbufãr
; ) {

5823 cÚ¡ 
	gv®
 = *(--
±r
);

5824 *
	g±r
 = ()((
v®
>>8) | ((val<<8)));

5828 *
±r
 = (*)
bufãr
 + 
size
; 
	g±r
>(*)
	gbufãr
; ) {

5829 cÚ¡ 
	gv®
 = *(--
±r
);

5830 *
	g±r
 = (
v®
>>24) | ((val>>8)&0xff00) | ((val<<8)&0xff0000) | (val<<24);

5834 cÚ¡ 
cimg_ušt64


5835 
m0
 = (
cimg_ušt64
)0xff, 
	gm1
 = m0<<8, 
	gm2
 = m0<<16, 
	gm3
 = m0<<24,

5836 
	gm4
 = 
m0
<<32, 
	gm5
 = m0<<40, 
	gm6
 = m0<<48, 
	gm7
 = m0<<56;

5837 
cimg_ušt64
 *
	g±r
 = (cimg_ušt64*)
bufãr
 + 
size
;…Œ>(
	gcimg_ušt64
*)
	gbufãr
; ) {

5838 cÚ¡ 
cimg_ušt64
 
	gv®
 = *(--
±r
);

5839 *
	g±r
 = (((
v®
&
m7
)>>56è| ((v®&
m6
)>>40è| ((v®&
m5
)>>24è| ((v®&
m4
)>>8) |

5840 ((
v®
&
m3
)<<8è|((v®&
m2
)<<24è| ((v®&
m1
)<<40è| ((v®&
m0
)<<56));

5844 
T
* 
±r
 = 
bufãr
 + 
size
; 
	g±r
>
	gbufãr
; ) {

5845 *
	gpb
 = (*)(--
±r
), *
	g³
 = 
pb
 + (
T
);

5846 
	gi
 = 0; i<()(
	gT
)/2; ++iè
sw­
(*(
pb
++),*(--
³
));

5857 
	g‹m¶©e
<
ty³Çme
 
	gT
>

5858 
šlše
 
	gT
& 
šv”t_’dŸÂess
(
T
& 
a
) {

5859 
šv”t_’dŸÂess
(&
a
,1);

5860  
	ga
;

5864 
šlše
 
æßt2ušt
(cÚ¡ 
f
) {

5865 
	gtmp
 = 0;

5866 
	g¡d
::
memıy
(&
tmp
,&
f
,());

5867 ià(
	gtmp
>=0è ()
f
;

5868 
	gu
;

5870 
	g¡d
::
memıy
(&
u
,&
f
,());

5871  ((
	gu
)<<2)>>2;

5874 
šlše
 
ušt2æßt
(cÚ¡ 
u
) {

5875 ià(
	gu
<(1U<<19))  ()u;

5876 
	gf
;

5877 cÚ¡ 
	gv
 = 
u
|(3U<<(8*()-2));

5879 
	g¡d
::
memıy
(&
f
,&
v
,());

5880  
	gf
;

5887 
šlše
 
cimg_ušt64
 
time
() {

5888 #ià
cimg_OS
==1

5889 
timev®
 
	g¡_time
;

5890 
g‘timeofday
(&
¡_time
,0);

5891  (
	gcimg_ušt64
)
	g¡_time
.
	gtv_£c
*1000 + (cimg_ušt64)¡_time.
	gtv_u£c
/1000;

5892 #–ià
cimg_OS
==2

5893 
ULARGE_INTEGER
 
	gul
;

5894 
FILETIME
 
	gá
;

5895 
G‘Sy¡emTimeAsFeTime
(&
á
);

5896 
	gul
.
	gLowP¬t
 = 
á
.
dwLowD©eTime
;

5897 
	gul
.
	gHighP¬t
 = 
á
.
dwHighD©eTime
;

5898  (
	gcimg_ušt64
)
	gul
.
	gQuadP¬t
/10000;

5905 
šlše
 
cimg_ušt64
 
tiùoc
(cÚ¡ 
boŞ
 
is_tic
);

5911 
šlše
 
cimg_ušt64
 
tic
() {

5912  
	gcimg
::
tiùoc
(
Œue
);

5919 
šlše
 
cimg_ušt64
 
toc
() {

5920  
	gcimg
::
tiùoc
(
çl£
);

5929 
šlše
 
¦“p
(cÚ¡ 
mli£cÚds
) {

5930 #ià
cimg_OS
==1

5931 
time¥ec
 
	gtv
;

5932 
	gtv
.
	gtv_£c
 = 
mli£cÚds
/1000;

5933 
	gtv
.
	gtv_n£c
 = (
mli£cÚds
%1000)*1000000;

5934 
Çno¦“p
(&
tv
,0);

5935 #–ià
cimg_OS
==2

5936 
SË•
(
mli£cÚds
);

5938 
	gcimg
::
unu£d
(
mli£cÚds
);

5942 
šlše
 
wa™
(cÚ¡ 
mli£cÚds
, 
cimg_ušt64
 *cÚ¡ 
p_tim”
) {

5943 ià(!*
	gp_tim”
è*p_tim” = 
cimg
::
time
();

5944 cÚ¡ 
cimg_ušt64
 
	gcu¼’t_time
 = 
cimg
::
time
();

5945 ià(
	gcu¼’t_time
<*
	gp_tim”
 || cu¼’t_time>=*
p_tim”
 + 
mli£cÚds
è{ *p_tim” = 
cu¼’t_time
;  0; }

5946 cÚ¡ 
	gtime_diff
 = ()(*
p_tim”
 + 
mli£cÚds
 - 
cu¼’t_time
);

5947 *
	gp_tim”
 = 
cu¼’t_time
 + 
time_diff
;

5948 
	gcimg
::
¦“p
(
time_diff
);

5949  
	gtime_diff
;

5959 
šlše
 
wa™
(cÚ¡ 
mli£cÚds
) {

5960 
	gcimg
::
mu‹x
(3);

5961 
cimg_ušt64
 
	gtim”
 = 
cimg
::
time
();

5962 
	gcimg
::
mu‹x
(3,0);

5963  
	gcimg
::
wa™
(
mli£cÚds
,&
tim”
);

5967 
šlše
 
	gcimg_ušt64
& 
ºg
() {

5968 
cimg_ušt64
 
	gºg
 = 0xB16B00B5U;

5969  
	gºg
;

5972 
šlše
 
_¿nd
(
cimg_ušt64
 *cÚ¡ 
p_ºg
) {

5973 *
	gp_ºg
 = *
p_ºg
*1103515245 + 12345U;

5974  ()*
	gp_ºg
;

5977 
šlše
 
_¿nd
() {

5978 
	gcimg
::
mu‹x
(4);

5979 cÚ¡ 
	g»s
 = 
cimg
::
_¿nd
(&cimg::
ºg
());

5980 
	gcimg
::
mu‹x
(4,0);

5981  
	g»s
;

5984 
šlše
 
¤ªd
(
cimg_ušt64
 *cÚ¡ 
p_ºg
) {

5985 #ià
cimg_OS
==1

5986 *
	gp_ºg
 = 
cimg
::
time
(è+ (
cimg_ušt64
)
g‘pid
();

5987 #–ià
cimg_OS
==2

5988 *
	gp_ºg
 = 
cimg
::
time
(è+ (
cimg_ušt64
)
_g‘pid
();

5992 
šlše
 
¤ªd
() {

5993 
	gcimg
::
mu‹x
(4);

5994 
	gcimg
::
¤ªd
(&
cimg
::
ºg
());

5995 
	gcimg
::
mu‹x
(4,0);

5998 
šlše
 
¤ªd
(cÚ¡ 
cimg_ušt64
 
£ed
) {

5999 
	gcimg
::
mu‹x
(4);

6000 
	gcimg
::
ºg
(èğ
£ed
;

6001 
	gcimg
::
mu‹x
(4,0);

6004 
šlše
 
¿nd
(cÚ¡ 
v®_mš
, cÚ¡ 
v®_max
, 
cimg_ušt64
 *cÚ¡ 
p_ºg
) {

6005 cÚ¡ 
	gv®
 = 
cimg
::
_¿nd
(
p_ºg
)/()~0U;

6006  
	gv®_mš
 + (
	gv®_max
 - v®_mš)*
	gv®
;

6009 
šlše
 
¿nd
(cÚ¡ 
v®_mš
, cÚ¡ 
v®_max
) {

6010 
	gcimg
::
mu‹x
(4);

6011 cÚ¡ 
	g»s
 = 
cimg
::
¿nd
(
v®_mš
,
v®_max
,&cimg::
ºg
());

6012 
	gcimg
::
mu‹x
(4,0);

6013  
	g»s
;

6016 
šlše
 
¿nd
(cÚ¡ 
v®_max
, 
cimg_ušt64
 *cÚ¡ 
p_ºg
) {

6017 cÚ¡ 
	gv®
 = 
cimg
::
_¿nd
(
p_ºg
)/()~0U;

6018  
v®_max
*
	gv®
;

6021 
šlše
 
¿nd
(cÚ¡ 
v®_max
=1) {

6022 
cimg
::
mu‹x
(4);

6023 cÚ¡ 
	g»s
 = 
cimg
::
¿nd
(
v®_max
,&cimg::
ºg
());

6024 
	gcimg
::
mu‹x
(4,0);

6025  
	g»s
;

6028 
šlše
 
g¿nd
(
cimg_ušt64
 *cÚ¡ 
p_ºg
) {

6029 
	gx1
, 
	gw
;

6031 cÚ¡ 
	gx2
 = 
cimg
::
¿nd
(-1,1,
p_ºg
);

6032 
	gx1
 = 
cimg
::
¿nd
(-1,1,
p_ºg
);

6033 
	gw
 = 
x1
*x1 + 
x2
*x2;

6034 } 
	gw
<=0 || 
w
>=1.);

6035  
x1
*
	g¡d
::
sq¹
((-2*
¡d
::
log
(
w
))/w);

6038 
šlše
 
g¿nd
() {

6039 
	gcimg
::
mu‹x
(4);

6040 cÚ¡ 
	g»s
 = 
cimg
::
g¿nd
(&cimg::
ºg
());

6041 
	gcimg
::
mu‹x
(4,0);

6042  
	g»s
;

6045 
šlše
 
´ªd
(cÚ¡ 
z
, 
cimg_ušt64
 *cÚ¡ 
p_ºg
) {

6046 ià(
	gz
<=1.e-10)  0;

6047 ià(
	gz
>100è ()((
	g¡d
::
sq¹
(
z
è* 
cimg
::
g¿nd
(
p_ºg
)) + z);

6048 
	gk
 = 0;

6049 cÚ¡ 
	gy
 = 
¡d
::
exp
(-
z
);

6050 
	gs
 = 1.; s>=
y
; ++
	gk
ès*=
cimg
::
¿nd
(1,
p_ºg
);

6051  
	gk
 - 1;

6054 
šlše
 
´ªd
(cÚ¡ 
z
) {

6055 
	gcimg
::
mu‹x
(4);

6056 cÚ¡ 
	g»s
 = 
cimg
::
´ªd
(
z
,&cimg::
ºg
());

6057 
	gcimg
::
mu‹x
(4,0);

6058  
	g»s
;

6062 
	g‹m¶©e
<
ty³Çme
 
	gT
,y³Çm
	gt
>

6063 
šlše
 
T
 
cut
(cÚ¡ T& 
v®
, cÚ¡ 
t
& 
v®_mš
, cÚ¡& 
v®_max
) {

6064  
	gv®
<=
v®_mš
?(
T
)v®_mš:
v®
>=
v®_max
?(T)val_max:val;

6068 
	g‹m¶©e
<
ty³Çme
 
	gT
>

6069 
šlše
 
T
 
rŞ
(cÚ¡ T& 
a
, cÚ¡ 
n
=1) {

6070  
n
?(
T
)((
a
<<n)|(a>>(((T)<<3) -‚))):a;

6073 
šlše
 
rŞ
(cÚ¡ 
a
, cÚ¡ 
n
=1) {

6074  ()
rŞ
(()
a
,
n
);

6077 
šlše
 
rŞ
(cÚ¡ 
a
, cÚ¡ 
n
=1) {

6078  ()
rŞ
((
cimg_lÚg
)
a
,
n
);

6081 
šlše
 
rŞ
(cÚ¡ 
a
, cÚ¡ 
n
=1) {

6082  ()
rŞ
((
cimg_lÚg
)
a
,
n
);

6085 #ifdeà
cimg_u£_h®f


6086 
šlše
 
h®f
 
rŞ
(cÚ¡ h®à
a
, cÚ¡ 
n
=1) {

6087  (
h®f
)
rŞ
(()
a
,
n
);

6092 
	g‹m¶©e
<
ty³Çme
 
	gT
>

6093 
šlše
 
T
 
rÜ
(cÚ¡ T& 
a
, cÚ¡ 
n
=1) {

6094  
n
?(
T
)((
a
>>n)|(a<<(((T)<<3) -‚))):a;

6097 
šlše
 
rÜ
(cÚ¡ 
a
, cÚ¡ 
n
=1) {

6098  ()
rÜ
(()
a
,
n
);

6101 
šlše
 
rÜ
(cÚ¡ 
a
, cÚ¡ 
n
=1) {

6102  ()
rÜ
((
cimg_lÚg
)
a
,
n
);

6105 
šlše
 
rÜ
(cÚ¡ 
a
, cÚ¡ 
n
=1) {

6106  ()
rÜ
((
cimg_lÚg
)
a
,
n
);

6109 #ifdeà
cimg_u£_h®f


6110 
šlše
 
h®f
 
rÜ
(cÚ¡ h®à
a
, cÚ¡ 
n
=1) {

6111  (
h®f
)
rÜ
(()
a
,
n
);

6116 
	g‹m¶©e
<
ty³Çme
 
	gT
>

6117 
šlše
 
T
 
abs
(cÚ¡ T& 
a
) {

6118  
	ga
>=0?
a
:-a;

6120 
šlše
 
boŞ
 
abs
(cÚ¡ boŞ 
a
) {

6121  
	ga
;

6123 
šlše
 
abs
(cÚ¡ 
a
) {

6124  ()
	ga
;

6126 
šlše
 
abs
(cÚ¡ 
a
) {

6127  ()
	ga
;

6129 
šlše
 
abs
(cÚ¡ 
a
) {

6130  ()
	ga
;

6132 
šlše
 
abs
(cÚ¡ 
a
) {

6133  
	g¡d
::
abs
(
a
);

6135 
šlše
 
cimg_št64
 
abs
(cÚ¡ 
cimg_ušt64
 
a
) {

6136  (
	gcimg_št64
)
	ga
;

6138 
šlše
 
abs
(cÚ¡ 
a
) {

6139  
	g¡d
::
çbs
(
a
);

6141 
šlše
 
abs
(cÚ¡ 
a
) {

6142  ()
	g¡d
::
çbs
(()
a
);

6146 
šlše
 
acosh
(cÚ¡ 
x
) {

6147 #ià
cimg_u£_ıp11
==1 && !
defšed
(
_MSC_VER
)

6148  
	g¡d
::
acosh
(
x
);

6150  
	g¡d
::
log
(
x
 + 
¡d
::
sq¹
(x*x - 1));

6155 
šlše
 
asšh
(cÚ¡ 
x
) {

6156 #ià
cimg_u£_ıp11
==1 && !
defšed
(
_MSC_VER
)

6157  
	g¡d
::
asšh
(
x
);

6159  
	g¡d
::
log
(
x
 + 
¡d
::
sq¹
(x*x + 1));

6164 
šlše
 
©ªh
(cÚ¡ 
x
) {

6165 #ià
cimg_u£_ıp11
==1 && !
defšed
(
_MSC_VER
)

6166  
	g¡d
::
©ªh
(
x
);

6168  0.5*
	g¡d
::
log
((1. + 
x
)/(1. - x));

6173 
šlše
 
sšc
(cÚ¡ 
x
) {

6174  
	gx
?
	g¡d
::
sš
(
x
)/x:1;

6178 
šlše
 
log2
(cÚ¡ 
x
) {

6179 #ià
cimg_u£_ıp11
==1 && !
defšed
(
_MSC_VER
)

6180  
	g¡d
::
log2
(
x
);

6182 cÚ¡ 
	gba£2
 = 
¡d
::
log
(2.);

6183  
	g¡d
::
log
(
x
)/
ba£2
;

6188 
	g‹m¶©e
<
ty³Çme
 
	gT
>

6189 
šlše
 
T
 
sqr
(cÚ¡ T& 
v®
) {

6190  
v®
*
	gv®
;

6194 
	g‹m¶©e
<
ty³Çme
 
	gT
>

6195 
šlše
 
cb¹
(cÚ¡ 
T
& 
x
) {

6196 #ià
cimg_u£_ıp11
==1

6197  
	g¡d
::
cb¹
(
x
);

6199  
	gx
>=0?
¡d
::
pow
(()
x
,1./3):-std::pow(-()x,1./3);

6203 
	g‹m¶©e
<
ty³Çme
 
	gT
>

6204 
šlše
 
T
 
pow3
(cÚ¡ T& 
v®
) {

6205  
v®
*v®*
	gv®
;

6207 
	g‹m¶©e
<
ty³Çme
 
	gT
>

6208 
šlše
 
T
 
pow4
(cÚ¡ T& 
v®
) {

6209  
v®
*v®*v®*
	gv®
;

6213 
	g‹m¶©e
<
ty³Çme
 
	gt
>

6214 
šlše
 
t
 
mš
(cÚ¡& 
a
, cÚ¡& 
b
, cÚ¡& 
c
) {

6215  
	g¡d
::
mš
(
¡d
::mš(
a
,
b
),
c
);

6219 
	g‹m¶©e
<
ty³Çme
 
	gt
>

6220 
šlše
 
t
 
mš
(cÚ¡& 
a
, cÚ¡& 
b
, cÚ¡& 
c
, cÚ¡& 
d
) {

6221  
	g¡d
::
mš
(
¡d
::mš(
a
,
b
),¡d::mš(
c
,
d
));

6225 
	g‹m¶©e
<
ty³Çme
 
	gt
>

6226 
šlše
 
t
 
mšabs
(cÚ¡& 
a
, cÚ¡& 
b
) {

6227  
	gcimg
::
abs
(
b
)<
cimg
::abs(
a
)?b:a;

6230 
	g‹m¶©e
<
ty³Çme
 
	gt
>

6231 
šlše
 
t
 
mšabs
(cÚ¡& 
a
, cÚ¡& 
b
, cÚ¡& 
abs_b
) {

6232  
	gabs_b
<
	gcimg
::
abs
(
a
)?
b
:a;

6236 
	g‹m¶©e
<
ty³Çme
 
	gt
>

6237 
šlše
 
t
 
max
(cÚ¡& 
a
, cÚ¡& 
b
, cÚ¡& 
c
) {

6238  
	g¡d
::
max
(
¡d
::max(
a
,
b
),
c
);

6242 
	g‹m¶©e
<
ty³Çme
 
	gt
>

6243 
šlše
 
t
 
max
(cÚ¡& 
a
, cÚ¡& 
b
, cÚ¡& 
c
, cÚ¡& 
d
) {

6244  
	g¡d
::
max
(
¡d
::max(
a
,
b
),¡d::max(
c
,
d
));

6248 
	g‹m¶©e
<
ty³Çme
 
	gt
>

6249 
šlše
 
t
 
maxabs
(cÚ¡& 
a
, cÚ¡& 
b
) {

6250  
	gcimg
::
abs
(
b
)>
cimg
::abs(
a
)?b:a;

6253 
	g‹m¶©e
<
ty³Çme
 
	gt
>

6254 
šlše
 
t
 
maxabs
(cÚ¡& 
a
, cÚ¡& 
b
, cÚ¡& 
abs_b
) {

6255  
	gabs_b
>
	gcimg
::
abs
(
a
)?
b
:a;

6259 
	g‹m¶©e
<
ty³Çme
 
	gT
>

6260 
šlše
 
T
 
sign
(cÚ¡ T& 
x
) {

6261  (
	gT
)(
	gcimg
::
ty³
<
T
>::
is_Çn
(
x
)?0:x<0?-1:x>0);

6265 
	g‹m¶©e
<
ty³Çme
 
	gT
>

6266 
šlše
 
cimg_ušt64
 
Ã¬e¡_pow2
(cÚ¡ 
T
& 
x
) {

6267 
cimg_ušt64
 
	gi
 = 1;

6268 
	gx
>
	gi
) i<<=1;

6269  
	gi
;

6278 
	g‹m¶©e
<
ty³Çme
 
	gT
>

6279 
šlše
 
T
 
mod
(cÚ¡ T& 
x
, cÚ¡ T& 
m
) {

6280 cÚ¡ 
	gdx
 = ()
x
, 
	gdm
 = ()
m
;

6281 ià(!
	gcimg
::
ty³
<>::
is_fš™e
(
dm
)è 
x
;

6282 ià(
	gcimg
::
ty³
<>::
is_fš™e
(
dx
)è (
T
)(dx - 
dm
 * 
¡d
::
æoÜ
(dx / dm));

6283  (
	gT
)0;

6285 
šlše
 
mod
(cÚ¡ 
boŞ
 
x
, cÚ¡ boŞ 
m
) {

6286  
	gm
?(
	gx
?1:0):0;

6288 
šlše
 
mod
(cÚ¡ 
x
, cÚ¡ 
m
) {

6289  
	gx
%
	gm
;

6291 
šlše
 
mod
(cÚ¡ 
x
, cÚ¡ 
m
) {

6292 #ià
defšed
(
CHAR_MAX
) && CHAR_MAX==255

6293  
	gx
%
	gm
;

6295  
	gx
>=0?
x
%
m
:(x%m?m + x%m:0);

6298 
šlše
 
mod
(cÚ¡ 
x
, cÚ¡ 
m
) {

6299  
	gx
%
	gm
;

6301 
šlše
 
mod
(cÚ¡ 
x
, cÚ¡ 
m
) {

6302  
	gx
>=0?
x
%
m
:(x%m?m + x%m:0);

6304 
šlše
 
mod
(cÚ¡ 
x
, cÚ¡ 
m
) {

6305  ()(
	gx
%
	gm
);

6307 
šlše
 
mod
(cÚ¡ 
x
, cÚ¡ 
m
) {

6308  
	gx
>=0?
x
%
m
:(x%m?m + x%m:0);

6310 
šlše
 
cimg_št64
 
mod
(cÚ¡ 
cimg_ušt64
 
x
, cÚ¡ cimg_ušt64 
m
) {

6311  
	gx
%
	gm
;

6313 
šlše
 
cimg_št64
 
mod
(cÚ¡ cimg_št64 
x
, cÚ¡ cimg_št64 
m
) {

6314  
	gx
>=0?
x
%
m
:(x%m?m + x%m:0);

6323 
	g‹m¶©e
<
ty³Çme
 
	gT
>

6324 
šlše
 
T
 
mšmod
(cÚ¡ T& 
a
, cÚ¡ T& 
b
) {

6325  
a
*
	gb
<=0?0:×>0?×<
b
?a:b):(a<b?b:a));

6328 
	g‹m¶©e
<
ty³Çme
 
	gT
>

6329 
šlše
 
T
 
round
(cÚ¡ T& 
x
) {

6330  (
	gT
)
	g¡d
::
æoÜ
((
_cimg_Tæßt
)
x
 + 0.5f);

6333 
	g‹m¶©e
<
ty³Çme
 
	gT
>

6334 
šlše
 
uœound
(cÚ¡ 
T
 
x
) {

6335  
	gcimg
::
ty³
<
T
>::
is_æßt
()?()(
x
 + 0.5f):()x;

6345 
	g‹m¶©e
<
ty³Çme
 
	gT
>

6346 
šlše
 
T
 
round
(cÚ¡ T& 
x
, cÚ¡ 
y
, cÚ¡ 
roundšg_ty³
=0) {

6347 ià(
y
<=0è 
x
;

6348 ià(
	gy
==1è
roundšg_ty³
) {

6349 0 :  
cimg
::
round
(
x
);

6350 1 :  (
T
)
¡d
::
û
((
_cimg_Tæßt
)
x
);

6351  :  (
T
)
¡d
::
æoÜ
((
_cimg_Tæßt
)
x
);

6353 cÚ¡ 
	gsx
 = ()
x
/
y
, 
	gæoÜ
 = 
¡d
::
æoÜ
(
sx
), 
	gd–
 = sx - floor;

6354  (
	gT
)(
	gy
*(
	groundšg_ty³
<0?
	gæoÜ
:
roundšg_ty³
>0?
¡d
::
û
(
sx
):
d–
<0.5?
æoÜ
:std::ceil(sx)));

6359 
	g‹m¶©e
<
ty³Çme
 
	gT
>

6360 
šlše
 
T
 
medŸn
(T 
v®0
, T 
v®1
) {

6361  (
	gv®0
 + 
	gv®1
)/2;

6364 
	g‹m¶©e
<
ty³Çme
 
	gT
>

6365 
šlše
 
T
 
medŸn
(T 
v®0
, T 
v®1
, T 
v®2
) {

6366  
	g¡d
::
max
(
¡d
::
mš
(
v®0
,
v®1
),¡d::mš(
v®2
,std::max(val0,val1)));

6369 
	g‹m¶©e
<
ty³Çme
 
	gT
>

6370 
šlše
 
T
 
medŸn
(T 
v®0
, T 
v®1
, T 
v®2
, T 
v®3
, T 
v®4
) {

6371 
T
 
	gtmp
 = 
¡d
::
mš
(
v®0
,
v®1
);

6372 
	gv®1
 = 
¡d
::
max
(
v®0
,
v®1
); 
	gv®0
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®3
,
v®4
); 
	gv®4
 = std::max(val3,val4);

6373 
	gv®3
 = 
¡d
::
max
(
v®0
,
tmp
); 
	gv®1
 = std::
mš
(
v®1
,
v®4
); 
	gtmp
 = std::mš(v®1,
v®2
); 
	gv®2
 = std::max(val1,val2);

6374 
	gv®1
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®2
,
v®3
);

6375  
	g¡d
::
max
(
v®1
,
tmp
);

6378 
	g‹m¶©e
<
ty³Çme
 
	gT
>

6379 
šlše
 
T
 
medŸn
(T 
v®0
, T 
v®1
, T 
v®2
, T 
v®3
, T 
v®4
, T 
v®5
, T 
v®6
) {

6380 
T
 
	gtmp
 = 
¡d
::
mš
(
v®0
,
v®5
);

6381 
	gv®5
 = 
¡d
::
max
(
v®0
,
v®5
); 
	gv®0
 = 
tmp
; 
	gtmp
 = std::
mš
(v®0,
v®3
); 
	gv®3
 = std::max(val0,val3); val0 =mp;

6382 
	gtmp
 = 
¡d
::
mš
(
v®1
,
v®6
); 
	gv®6
 = std::
max
(v®1,v®6); 
	gv®1
 = 
tmp
;m°ğ¡d::mš(
v®2
,
v®4
);

6383 
	gv®4
 = 
¡d
::
max
(
v®2
,
v®4
); 
	gv®2
 = 
tmp
; 
	gv®1
 = std::max(
v®0
,
v®1
); 
	gtmp
 = std::
mš
(
v®3
,
v®5
);

6384 
	gv®5
 = 
¡d
::
max
(
v®3
,
v®5
); 
	gv®3
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®2
,
v®6
); 
	gv®6
 = std::max(val2,val6);

6385 
	gv®3
 = 
¡d
::
max
(
tmp
,
v®3
); v®3 = std::
mš
(v®3,
v®6
); 
	gtmp
 = std::mš(
v®4
,
v®5
); 
	gv®4
 = std::max(
v®1
,tmp);

6386 
	gtmp
 = 
¡d
::
mš
(
v®1
,
tmp
); 
	gv®3
 = std::
max
Ñmp,
v®3
);

6387  
	g¡d
::
mš
(
v®3
,
v®4
);

6390 
	g‹m¶©e
<
ty³Çme
 
	gT
>

6391 
šlše
 
T
 
medŸn
(T 
v®0
, T 
v®1
, T 
v®2
, T 
v®3
, T 
v®4
, T 
v®5
, T 
v®6
, T 
v®7
, T 
v®8
) {

6392 
T
 
	gtmp
 = 
¡d
::
mš
(
v®1
,
v®2
);

6393 
	gv®2
 = 
¡d
::
max
(
v®1
,
v®2
); 
	gv®1
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®4
,
v®5
);

6394 
	gv®5
 = 
¡d
::
max
(
v®4
,
v®5
); 
	gv®4
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®7
,
v®8
);

6395 
	gv®8
 = 
¡d
::
max
(
v®7
,
v®8
); 
	gv®7
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®0
,
v®1
);

6396 
	gv®1
 = 
¡d
::
max
(
v®0
,
v®1
); 
	gv®0
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®3
,
v®4
);

6397 
	gv®4
 = 
¡d
::
max
(
v®3
,
v®4
); 
	gv®3
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®6
,
v®7
);

6398 
	gv®7
 = 
¡d
::
max
(
v®6
,
v®7
); 
	gv®6
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®1
,
v®2
);

6399 
	gv®2
 = 
¡d
::
max
(
v®1
,
v®2
); 
	gv®1
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®4
,
v®5
);

6400 
	gv®5
 = 
¡d
::
max
(
v®4
,
v®5
); 
	gv®4
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®7
,
v®8
);

6401 
	gv®8
 = 
¡d
::
max
(
v®7
,
v®8
); 
	gv®3
 = std::max(
v®0
,
v®3
); 
	gv®5
 = std::
mš
(
v®5
,val8);

6402 
	gv®7
 = 
¡d
::
max
(
v®4
,
tmp
); 
	gtmp
 = std::
mš
(v®4,tmp); 
	gv®6
 = std::max(
v®3
,
v®6
);

6403 
	gv®4
 = 
¡d
::
max
(
v®1
,
tmp
); 
	gv®2
 = std::
mš
(
v®2
,
v®5
); v®4 = std::mš(
v®4
,
v®7
);

6404 
	gtmp
 = 
¡d
::
mš
(
v®4
,
v®2
); 
	gv®2
 = std::
max
(v®4,v®2); 
	gv®4
 = std::max(
v®6
,
tmp
);

6405  
	g¡d
::
mš
(
v®4
,
v®2
);

6408 
	g‹m¶©e
<
ty³Çme
 
	gT
>

6409 
šlše
 
T
 
medŸn
(T 
v®0
, T 
v®1
, T 
v®2
, T 
v®3
, T 
v®4
, T 
v®5
, T 
v®6
, T 
v®7
, T 
v®8
, T 
v®9
, T 
v®10
, T 
v®11
,

6410 
T
 
v®12
) {

6411 
T
 
	gtmp
 = 
¡d
::
mš
(
v®1
,
v®7
);

6412 
	gv®7
 = 
¡d
::
max
(
v®1
,
v®7
); 
	gv®1
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®9
,
v®11
); 
	gv®11
 = std::max(v®9,v®11); 
	gv®9
 =mp;

6413 
	gtmp
 = 
¡d
::
mš
(
v®3
,
v®4
); 
	gv®4
 = std::
max
(v®3,v®4); 
	gv®3
 = 
tmp
;m°ğ¡d::mš(
v®5
,
v®8
);

6414 
	gv®8
 = 
¡d
::
max
(
v®5
,
v®8
); 
	gv®5
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®0
,
v®12
); 
	gv®12
 = std::max(val0,val12);

6415 
	gv®0
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®2
,
v®6
); 
	gv®6
 = std::
max
(v®2,v®6); 
	gv®2
 =mp;m°ğ¡d::mš(
v®0
,
v®1
);

6416 
	gv®1
 = 
¡d
::
max
(
v®0
,
v®1
); 
	gv®0
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®2
,
v®3
); 
	gv®3
 = std::max(v®2,v®3); 
	gv®2
 =mp;

6417 
	gtmp
 = 
¡d
::
mš
(
v®4
,
v®6
); 
	gv®6
 = std::
max
(v®4,v®6); 
	gv®4
 = 
tmp
;m°ğ¡d::mš(
v®8
,
v®11
);

6418 
	gv®11
 = 
¡d
::
max
(
v®8
,
v®11
); 
	gv®8
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®7
,
v®12
); 
	gv®12
 = std::max(v®7,v®12); 
	gv®7
 =mp;

6419 
	gtmp
 = 
¡d
::
mš
(
v®5
,
v®9
); 
	gv®9
 = std::
max
(v®5,v®9); 
	gv®5
 = 
tmp
;m°ğ¡d::mš(
v®0
,
v®2
);

6420 
	gv®2
 = 
¡d
::
max
(
v®0
,
v®2
); 
	gv®0
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®3
,
v®7
); 
	gv®7
 = std::max(v®3,v®7); 
	gv®3
 =mp;

6421 
	gtmp
 = 
¡d
::
mš
(
v®10
,
v®11
); 
	gv®11
 = std::
max
(v®10,v®11); 
	gv®10
 = 
tmp
;m°ğ¡d::mš(
v®1
,
v®4
);

6422 
	gv®4
 = 
¡d
::
max
(
v®1
,
v®4
); 
	gv®1
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®6
,
v®12
); 
	gv®12
 = std::max(v®6,v®12); 
	gv®6
 =mp;

6423 
	gtmp
 = 
¡d
::
mš
(
v®7
,
v®8
); 
	gv®8
 = std::
max
(v®7,v®8); 
	gv®7
 = 
tmp
; 
	gv®11
 = std::mš(
v®11
,
v®12
);

6424 
	gtmp
 = 
¡d
::
mš
(
v®4
,
v®9
); 
	gv®9
 = std::
max
(v®4,v®9); 
	gv®4
 = 
tmp
;m°ğ¡d::mš(
v®6
,
v®10
);

6425 
	gv®10
 = 
¡d
::
max
(
v®6
,
v®10
); 
	gv®6
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®3
,
v®4
); 
	gv®4
 = std::max(v®3,v®4); 
	gv®3
 =mp;

6426 
	gtmp
 = 
¡d
::
mš
(
v®5
,
v®6
); 
	gv®6
 = std::
max
(v®5,v®6); 
	gv®5
 = 
tmp
; 
	gv®8
 = std::mš(
v®8
,
v®9
);

6427 
	gv®10
 = 
¡d
::
mš
(
v®10
,
v®11
); 
	gtmp
 = std::mš(
v®1
,
v®7
); 
	gv®7
 = std::
max
(v®1,v®7); 
	gv®1
 = 
tmp
;

6428 
	gtmp
 = 
¡d
::
mš
(
v®2
,
v®6
); 
	gv®6
 = std::
max
(v®2,v®6); 
	gv®2
 = 
tmp
; 
	gv®3
 = std::max(
v®1
,
v®3
);

6429 
	gtmp
 = 
¡d
::
mš
(
v®4
,
v®7
); 
	gv®7
 = std::
max
(v®4,v®7); 
	gv®4
 = 
tmp
; 
	gv®8
 = std::mš(
v®8
,
v®10
);

6430 
	gv®5
 = 
¡d
::
max
(
v®0
,
v®5
); v®5 = std::max(
v®2
,v®5); 
	gtmp
 = std::
mš
(
v®6
,
v®8
); 
	gv®8
 = std::max(val6,val8);

6431 
	gv®5
 = 
¡d
::
max
(
v®3
,
v®5
); 
	gv®7
 = std::
mš
(
v®7
,
v®8
); 
	gv®6
 = std::max(
v®4
,
tmp
); 
	gtmp
 = std::min(val4,tmp);

6432 
	gv®5
 = 
¡d
::
max
(
tmp
,
v®5
); 
	gv®6
 = std::
mš
(
v®6
,
v®7
);

6433  
	g¡d
::
max
(
v®5
,
v®6
);

6436 
	g‹m¶©e
<
ty³Çme
 
	gT
>

6437 
šlše
 
T
 
medŸn
(T 
v®0
, T 
v®1
, T 
v®2
, T 
v®3
, T 
v®4
,

6438 
T
 
v®5
, T 
v®6
, T 
v®7
, T 
v®8
, T 
v®9
,

6439 
T
 
v®10
, T 
v®11
, T 
v®12
, T 
v®13
, T 
v®14
,

6440 
T
 
v®15
, T 
v®16
, T 
v®17
, T 
v®18
, T 
v®19
,

6441 
T
 
v®20
, T 
v®21
, T 
v®22
, T 
v®23
, T 
v®24
) {

6442 
T
 
	gtmp
 = 
¡d
::
mš
(
v®0
,
v®1
);

6443 
	gv®1
 = 
¡d
::
max
(
v®0
,
v®1
); 
	gv®0
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®3
,
v®4
); 
	gv®4
 = std::max(val3,val4);

6444 
	gv®3
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®2
,
v®4
); 
	gv®4
 = std::
max
(v®2,v®4); 
	gv®2
 = std::mšÑmp,
v®3
);

6445 
	gv®3
 = 
¡d
::
max
(
tmp
,
v®3
); 
	gtmp
 = std::
mš
(
v®6
,
v®7
); 
	gv®7
 = std::max(v®6,v®7); 
	gv®6
 =mp;

6446 
	gtmp
 = 
¡d
::
mš
(
v®5
,
v®7
); 
	gv®7
 = std::
max
(v®5,v®7); 
	gv®5
 = std::mš(
tmp
,
v®6
); 
	gv®6
 = std::max(tmp,val6);

6447 
	gtmp
 = 
¡d
::
mš
(
v®9
,
v®10
); 
	gv®10
 = std::
max
(v®9,v®10); 
	gv®9
 = 
tmp
;m°ğ¡d::mš(
v®8
,val10);

6448 
	gv®10
 = 
¡d
::
max
(
v®8
,
v®10
); 
	gv®8
 = std::
mš
(
tmp
,
v®9
); 
	gv®9
 = std::max(tmp,val9);

6449 
	gtmp
 = 
¡d
::
mš
(
v®12
,
v®13
); 
	gv®13
 = std::
max
(v®12,v®13); 
	gv®12
 = 
tmp
;m°ğ¡d::mš(
v®11
,val13);

6450 
	gv®13
 = 
¡d
::
max
(
v®11
,
v®13
); 
	gv®11
 = std::
mš
(
tmp
,
v®12
); 
	gv®12
 = std::max(tmp,val12);

6451 
	gtmp
 = 
¡d
::
mš
(
v®15
,
v®16
); 
	gv®16
 = std::
max
(v®15,v®16); 
	gv®15
 = 
tmp
;m°ğ¡d::mš(
v®14
,val16);

6452 
	gv®16
 = 
¡d
::
max
(
v®14
,
v®16
); 
	gv®14
 = std::
mš
(
tmp
,
v®15
); 
	gv®15
 = std::max(tmp,val15);

6453 
	gtmp
 = 
¡d
::
mš
(
v®18
,
v®19
); 
	gv®19
 = std::
max
(v®18,v®19); 
	gv®18
 = 
tmp
;m°ğ¡d::mš(
v®17
,val19);

6454 
	gv®19
 = 
¡d
::
max
(
v®17
,
v®19
); 
	gv®17
 = std::
mš
(
tmp
,
v®18
); 
	gv®18
 = std::max(tmp,val18);

6455 
	gtmp
 = 
¡d
::
mš
(
v®21
,
v®22
); 
	gv®22
 = std::
max
(v®21,v®22); 
	gv®21
 = 
tmp
;m°ğ¡d::mš(
v®20
,val22);

6456 
	gv®22
 = 
¡d
::
max
(
v®20
,
v®22
); 
	gv®20
 = std::
mš
(
tmp
,
v®21
); 
	gv®21
 = std::max(tmp,val21);

6457 
	gtmp
 = 
¡d
::
mš
(
v®23
,
v®24
); 
	gv®24
 = std::
max
(v®23,v®24); 
	gv®23
 = 
tmp
;m°ğ¡d::mš(
v®2
,
v®5
);

6458 
	gv®5
 = 
¡d
::
max
(
v®2
,
v®5
); 
	gv®2
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®3
,
v®6
); 
	gv®6
 = std::max(v®3,v®6); 
	gv®3
 =mp;

6459 
	gtmp
 = 
¡d
::
mš
(
v®0
,
v®6
); 
	gv®6
 = std::
max
(v®0,v®6); 
	gv®0
 = std::mš(
tmp
,
v®3
); 
	gv®3
 = std::max(tmp,val3);

6460 
	gtmp
 = 
¡d
::
mš
(
v®4
,
v®7
); 
	gv®7
 = std::
max
(v®4,v®7); 
	gv®4
 = 
tmp
;m°ğ¡d::mš(
v®1
,val7);

6461 
	gv®7
 = 
¡d
::
max
(
v®1
,
v®7
); 
	gv®1
 = std::
mš
(
tmp
,
v®4
); 
	gv®4
 = std::maxÑmp,v®4); 
	gtmp
 = std::mš(
v®11
,
v®14
);

6462 
	gv®14
 = 
¡d
::
max
(
v®11
,
v®14
); 
	gv®11
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®8
,val14); val14 = std::max(val8,val14);

6463 
	gv®8
 = 
¡d
::
mš
(
tmp
,
v®11
); 
	gv®11
 = std::
max
Ñmp,v®11); 
	gtmp
 = std::mš(
v®12
,
v®15
);

6464 
	gv®15
 = 
¡d
::
max
(
v®12
,
v®15
); 
	gv®12
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®9
,val15); val15 = std::max(val9,val15);

6465 
	gv®9
 = 
¡d
::
mš
(
tmp
,
v®12
); 
	gv®12
 = std::
max
Ñmp,v®12); 
	gtmp
 = std::mš(
v®13
,
v®16
);

6466 
	gv®16
 = 
¡d
::
max
(
v®13
,
v®16
); 
	gv®13
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®10
,val16); val16 = std::max(val10,val16);

6467 
	gv®10
 = 
¡d
::
mš
(
tmp
,
v®13
); 
	gv®13
 = std::
max
Ñmp,v®13); 
	gtmp
 = std::mš(
v®20
,
v®23
);

6468 
	gv®23
 = 
¡d
::
max
(
v®20
,
v®23
); 
	gv®20
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®17
,val23); val23 = std::max(val17,val23);

6469 
	gv®17
 = 
¡d
::
mš
(
tmp
,
v®20
); 
	gv®20
 = std::
max
Ñmp,v®20); 
	gtmp
 = std::mš(
v®21
,
v®24
);

6470 
	gv®24
 = 
¡d
::
max
(
v®21
,
v®24
); 
	gv®21
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®18
,val24); val24 = std::max(val18,val24);

6471 
	gv®18
 = 
¡d
::
mš
(
tmp
,
v®21
); 
	gv®21
 = std::
max
Ñmp,v®21); 
	gtmp
 = std::mš(
v®19
,
v®22
);

6472 
	gv®22
 = 
¡d
::
max
(
v®19
,
v®22
); 
	gv®19
 = 
tmp
; 
	gv®17
 = std::max(
v®8
,
v®17
); 
	gtmp
 = std::
mš
(
v®9
,
v®18
);

6473 
	gv®18
 = 
¡d
::
max
(
v®9
,
v®18
); 
	gv®9
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®0
,val18); val18 = std::max(val0,val18);

6474 
	gv®9
 = 
¡d
::
max
(
tmp
,
v®9
); 
	gtmp
 = std::
mš
(
v®10
,
v®19
); 
	gv®19
 = std::max(v®10,v®19); 
	gv®10
 =mp;

6475 
	gtmp
 = 
¡d
::
mš
(
v®1
,
v®19
); 
	gv®19
 = std::
max
(v®1,v®19); 
	gv®1
 = std::mš(
tmp
,
v®10
);

6476 
	gv®10
 = 
¡d
::
max
(
tmp
,
v®10
); 
	gtmp
 = std::
mš
(
v®11
,
v®20
); 
	gv®20
 = std::max(v®11,v®20); 
	gv®11
 =mp;

6477 
	gtmp
 = 
¡d
::
mš
(
v®2
,
v®20
); 
	gv®20
 = std::
max
(v®2,v®20); 
	gv®11
 = std::max(
tmp
,
v®11
);

6478 
	gtmp
 = 
¡d
::
mš
(
v®12
,
v®21
); 
	gv®21
 = std::
max
(v®12,v®21); 
	gv®12
 = 
tmp
;m°ğ¡d::mš(
v®3
,val21);

6479 
	gv®21
 = 
¡d
::
max
(
v®3
,
v®21
); 
	gv®3
 = std::
mš
(
tmp
,
v®12
); 
	gv®12
 = std::max(tmp,val12);

6480 
	gtmp
 = 
¡d
::
mš
(
v®13
,
v®22
); 
	gv®22
 = std::
max
(v®13,v®22); 
	gv®4
 = std::mš(
v®4
,val22);

6481 
	gv®13
 = 
¡d
::
max
(
v®4
,
tmp
); 
	gtmp
 = std::
mš
(v®4,tmp); 
	gv®4
 =mp;m°ğ¡d::mš(
v®14
,
v®23
);

6482 
	gv®23
 = 
¡d
::
max
(
v®14
,
v®23
); 
	gv®14
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®5
,val23); val23 = std::max(val5,val23);

6483 
	gv®5
 = 
¡d
::
mš
(
tmp
,
v®14
); 
	gv®14
 = std::
max
Ñmp,v®14); 
	gtmp
 = std::mš(
v®15
,
v®24
);

6484 
	gv®24
 = 
¡d
::
max
(
v®15
,
v®24
); 
	gv®15
 = 
tmp
; 
	gv®6
 = std::
mš
(
v®6
,v®24); 
	gtmp
 = std::min(val6,val15);

6485 
	gv®15
 = 
¡d
::
max
(
v®6
,
v®15
); 
	gv®6
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®7
,
v®16
); 
	gv®7
 = std::mšÑmp,
v®19
);

6486 
	gtmp
 = 
¡d
::
mš
(
v®13
,
v®21
); 
	gv®15
 = std::mš(
v®15
,
v®23
);m°ğ¡d::mš(
v®7
,
tmp
);

6487 
	gv®7
 = 
¡d
::
mš
(
tmp
,
v®15
); 
	gv®9
 = std::
max
(
v®1
,
v®9
); 
	gv®11
 = std::max(
v®3
,
v®11
);

6488 
	gv®17
 = 
¡d
::
max
(
v®5
,
v®17
); v®17 = std::max(
v®11
,v®17); v®17 = std::max(
v®9
,val17);

6489 
	gtmp
 = 
¡d
::
mš
(
v®4
,
v®10
); 
	gv®10
 = std::
max
(v®4,v®10); 
	gv®4
 = 
tmp
;m°ğ¡d::mš(
v®6
,
v®12
);

6490 
	gv®12
 = 
¡d
::
max
(
v®6
,
v®12
); 
	gv®6
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®7
,
v®14
); 
	gv®14
 = std::max(val7,val14);

6491 
	gv®7
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®4
,
v®6
); 
	gv®6
 = std::
max
(v®4,v®6); v®7 = std::maxÑmp,
v®7
);

6492 
	gtmp
 = 
¡d
::
mš
(
v®12
,
v®14
); 
	gv®14
 = std::
max
(v®12,v®14); 
	gv®12
 = 
tmp
; 
	gv®10
 = std::mš(
v®10
,val14);

6493 
	gtmp
 = 
¡d
::
mš
(
v®6
,
v®7
); 
	gv®7
 = std::
max
(v®6,v®7); 
	gv®6
 = 
tmp
;m°ğ¡d::mš(
v®10
,
v®12
);

6494 
	gv®12
 = 
¡d
::
max
(
v®10
,
v®12
); 
	gv®10
 = std::max(
v®6
,
tmp
); 
	gtmp
 = std::
mš
(val6,tmp);

6495 
	gv®17
 = 
¡d
::
max
(
tmp
,
v®17
); 
	gtmp
 = std::
mš
(
v®12
,v®17); v®17 = std::max(v®12,v®17); 
	gv®12
 =mp;

6496 
	gv®7
 = 
¡d
::
mš
(
v®7
,
v®17
); 
	gtmp
 = std::mš(v®7,
v®10
); 
	gv®10
 = std::
max
(v®7,v®10); v®7 = 
tmp
;

6497 
	gtmp
 = 
¡d
::
mš
(
v®12
,
v®18
); 
	gv®18
 = std::
max
(v®12,v®18); 
	gv®12
 = std::max(
v®7
,
tmp
);

6498 
	gv®10
 = 
¡d
::
mš
(
v®10
,
v®18
); 
	gtmp
 = std::mš(
v®12
,
v®20
); 
	gv®20
 = std::
max
(v®12,v®20); 
	gv®12
 = 
tmp
;

6499 
	gtmp
 = 
¡d
::
mš
(
v®10
,
v®20
);

6500  
	g¡d
::
max
(
tmp
,
v®12
);

6503 
	g‹m¶©e
<
ty³Çme
 
	gT
>

6504 
šlše
 
T
 
medŸn
(T 
v®0
, T 
v®1
, T 
v®2
, T 
v®3
, T 
v®4
, T 
v®5
, T 
v®6
,

6505 
T
 
v®7
, T 
v®8
, T 
v®9
, T 
v®10
, T 
v®11
, T 
v®12
, T 
v®13
,

6506 
T
 
v®14
, T 
v®15
, T 
v®16
, T 
v®17
, T 
v®18
, T 
v®19
, T 
v®20
,

6507 
T
 
v®21
, T 
v®22
, T 
v®23
, T 
v®24
, T 
v®25
, T 
v®26
, T 
v®27
,

6508 
T
 
v®28
, T 
v®29
, T 
v®30
, T 
v®31
, T 
v®32
, T 
v®33
, T 
v®34
,

6509 
T
 
v®35
, T 
v®36
, T 
v®37
, T 
v®38
, T 
v®39
, T 
v®40
, T 
v®41
,

6510 
T
 
v®42
, T 
v®43
, T 
v®44
, T 
v®45
, T 
v®46
, T 
v®47
, T 
v®48
) {

6511 
T
 
	gtmp
 = 
¡d
::
mš
(
v®0
,
v®32
);

6512 
	gv®32
 = 
¡d
::
max
(
v®0
,
v®32
); 
	gv®0
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®1
,
v®33
); 
	gv®33
 = std::max(v®1,v®33); 
	gv®1
 =mp;

6513 
	gtmp
 = 
¡d
::
mš
(
v®2
,
v®34
); 
	gv®34
 = std::
max
(v®2,v®34); 
	gv®2
 = 
tmp
;m°ğ¡d::mš(
v®3
,
v®35
);

6514 
	gv®35
 = 
¡d
::
max
(
v®3
,
v®35
); 
	gv®3
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®4
,
v®36
); 
	gv®36
 = std::max(v®4,v®36); 
	gv®4
 =mp;

6515 
	gtmp
 = 
¡d
::
mš
(
v®5
,
v®37
); 
	gv®37
 = std::
max
(v®5,v®37); 
	gv®5
 = 
tmp
;m°ğ¡d::mš(
v®6
,
v®38
);

6516 
	gv®38
 = 
¡d
::
max
(
v®6
,
v®38
); 
	gv®6
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®7
,
v®39
); 
	gv®39
 = std::max(v®7,v®39); 
	gv®7
 =mp;

6517 
	gtmp
 = 
¡d
::
mš
(
v®8
,
v®40
); 
	gv®40
 = std::
max
(v®8,v®40); 
	gv®8
 = 
tmp
;m°ğ¡d::mš(
v®9
,
v®41
);

6518 
	gv®41
 = 
¡d
::
max
(
v®9
,
v®41
); 
	gv®9
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®10
,
v®42
); 
	gv®42
 = std::max(val10,val42);

6519 
	gv®10
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®11
,
v®43
); 
	gv®43
 = std::
max
(v®11,v®43); 
	gv®11
 =mp;

6520 
	gtmp
 = 
¡d
::
mš
(
v®12
,
v®44
); 
	gv®44
 = std::
max
(v®12,v®44); 
	gv®12
 = 
tmp
;m°ğ¡d::mš(
v®13
,
v®45
);

6521 
	gv®45
 = 
¡d
::
max
(
v®13
,
v®45
); 
	gv®13
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®14
,
v®46
); 
	gv®46
 = std::max(val14,val46);

6522 
	gv®14
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®15
,
v®47
); 
	gv®47
 = std::
max
(v®15,v®47); 
	gv®15
 =mp;

6523 
	gtmp
 = 
¡d
::
mš
(
v®16
,
v®48
); 
	gv®48
 = std::
max
(v®16,v®48); 
	gv®16
 = 
tmp
;m°ğ¡d::mš(
v®0
,val16);

6524 
	gv®16
 = 
¡d
::
max
(
v®0
,
v®16
); 
	gv®0
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®1
,
v®17
); 
	gv®17
 = std::max(val1,val17);

6525 
	gv®1
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®2
,
v®18
); 
	gv®18
 = std::
max
(v®2,v®18); 
	gv®2
 =mp;m°ğ¡d::mš(
v®3
,
v®19
);

6526 
	gv®19
 = 
¡d
::
max
(
v®3
,
v®19
); 
	gv®3
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®4
,
v®20
); 
	gv®20
 = std::max(v®4,v®20); 
	gv®4
 =mp;

6527 
	gtmp
 = 
¡d
::
mš
(
v®5
,
v®21
); 
	gv®21
 = std::
max
(v®5,v®21); 
	gv®5
 = 
tmp
;m°ğ¡d::mš(
v®6
,
v®22
);

6528 
	gv®22
 = 
¡d
::
max
(
v®6
,
v®22
); 
	gv®6
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®7
,
v®23
); 
	gv®23
 = std::max(v®7,v®23); 
	gv®7
 =mp;

6529 
	gtmp
 = 
¡d
::
mš
(
v®8
,
v®24
); 
	gv®24
 = std::
max
(v®8,v®24); 
	gv®8
 = 
tmp
;m°ğ¡d::mš(
v®9
,
v®25
);

6530 
	gv®25
 = 
¡d
::
max
(
v®9
,
v®25
); 
	gv®9
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®10
,
v®26
); 
	gv®26
 = std::max(val10,val26);

6531 
	gv®10
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®11
,
v®27
); 
	gv®27
 = std::
max
(v®11,v®27); 
	gv®11
 =mp;

6532 
	gtmp
 = 
¡d
::
mš
(
v®12
,
v®28
); 
	gv®28
 = std::
max
(v®12,v®28); 
	gv®12
 = 
tmp
;m°ğ¡d::mš(
v®13
,
v®29
);

6533 
	gv®29
 = 
¡d
::
max
(
v®13
,
v®29
); 
	gv®13
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®14
,
v®30
); 
	gv®30
 = std::max(val14,val30);

6534 
	gv®14
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®15
,
v®31
); 
	gv®31
 = std::
max
(v®15,v®31); 
	gv®15
 =mp;

6535 
	gtmp
 = 
¡d
::
mš
(
v®32
,
v®48
); 
	gv®48
 = std::
max
(v®32,v®48); 
	gv®32
 = 
tmp
;m°ğ¡d::mš(
v®16
,val32);

6536 
	gv®32
 = 
¡d
::
max
(
v®16
,
v®32
); 
	gv®16
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®17
,
v®33
); 
	gv®33
 = std::max(val17,val33);

6537 
	gv®17
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®18
,
v®34
); 
	gv®34
 = std::
max
(v®18,v®34); 
	gv®18
 =mp;

6538 
	gtmp
 = 
¡d
::
mš
(
v®19
,
v®35
); 
	gv®35
 = std::
max
(v®19,v®35); 
	gv®19
 = 
tmp
;m°ğ¡d::mš(
v®20
,
v®36
);

6539 
	gv®36
 = 
¡d
::
max
(
v®20
,
v®36
); 
	gv®20
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®21
,
v®37
); 
	gv®37
 = std::max(val21,val37);

6540 
	gv®21
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®22
,
v®38
); 
	gv®38
 = std::
max
(v®22,v®38); 
	gv®22
 =mp;

6541 
	gtmp
 = 
¡d
::
mš
(
v®23
,
v®39
); 
	gv®39
 = std::
max
(v®23,v®39); 
	gv®23
 = 
tmp
;m°ğ¡d::mš(
v®24
,
v®40
);

6542 
	gv®40
 = 
¡d
::
max
(
v®24
,
v®40
); 
	gv®24
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®25
,
v®41
); 
	gv®41
 = std::max(val25,val41);

6543 
	gv®25
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®26
,
v®42
); 
	gv®42
 = std::
max
(v®26,v®42); 
	gv®26
 =mp;

6544 
	gtmp
 = 
¡d
::
mš
(
v®27
,
v®43
); 
	gv®43
 = std::
max
(v®27,v®43); 
	gv®27
 = 
tmp
;m°ğ¡d::mš(
v®28
,
v®44
);

6545 
	gv®44
 = 
¡d
::
max
(
v®28
,
v®44
); 
	gv®28
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®29
,
v®45
); 
	gv®45
 = std::max(val29,val45);

6546 
	gv®29
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®30
,
v®46
); 
	gv®46
 = std::
max
(v®30,v®46); 
	gv®30
 =mp;

6547 
	gtmp
 = 
¡d
::
mš
(
v®31
,
v®47
); 
	gv®47
 = std::
max
(v®31,v®47); 
	gv®31
 = 
tmp
;m°ğ¡d::mš(
v®0
,
v®8
);

6548 
	gv®8
 = 
¡d
::
max
(
v®0
,
v®8
); 
	gv®0
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®1
,
v®9
); 
	gv®9
 = std::max(v®1,v®9); 
	gv®1
 =mp;

6549 
	gtmp
 = 
¡d
::
mš
(
v®2
,
v®10
); 
	gv®10
 = std::
max
(v®2,v®10); 
	gv®2
 = 
tmp
;m°ğ¡d::mš(
v®3
,
v®11
);

6550 
	gv®11
 = 
¡d
::
max
(
v®3
,
v®11
); 
	gv®3
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®4
,
v®12
); 
	gv®12
 = std::max(v®4,v®12); 
	gv®4
 =mp;

6551 
	gtmp
 = 
¡d
::
mš
(
v®5
,
v®13
); 
	gv®13
 = std::
max
(v®5,v®13); 
	gv®5
 = 
tmp
;m°ğ¡d::mš(
v®6
,
v®14
);

6552 
	gv®14
 = 
¡d
::
max
(
v®6
,
v®14
); 
	gv®6
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®7
,
v®15
); 
	gv®15
 = std::max(v®7,v®15); 
	gv®7
 =mp;

6553 
	gtmp
 = 
¡d
::
mš
(
v®16
,
v®24
); 
	gv®24
 = std::
max
(v®16,v®24); 
	gv®16
 = 
tmp
;m°ğ¡d::mš(
v®17
,
v®25
);

6554 
	gv®25
 = 
¡d
::
max
(
v®17
,
v®25
); 
	gv®17
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®18
,
v®26
); 
	gv®26
 = std::max(val18,val26);

6555 
	gv®18
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®19
,
v®27
); 
	gv®27
 = std::
max
(v®19,v®27); 
	gv®19
 =mp;

6556 
	gtmp
 = 
¡d
::
mš
(
v®20
,
v®28
); 
	gv®28
 = std::
max
(v®20,v®28); 
	gv®20
 = 
tmp
;m°ğ¡d::mš(
v®21
,
v®29
);

6557 
	gv®29
 = 
¡d
::
max
(
v®21
,
v®29
); 
	gv®21
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®22
,
v®30
); 
	gv®30
 = std::max(val22,val30);

6558 
	gv®22
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®23
,
v®31
); 
	gv®31
 = std::
max
(v®23,v®31); 
	gv®23
 =mp;

6559 
	gtmp
 = 
¡d
::
mš
(
v®32
,
v®40
); 
	gv®40
 = std::
max
(v®32,v®40); 
	gv®32
 = 
tmp
;m°ğ¡d::mš(
v®33
,
v®41
);

6560 
	gv®41
 = 
¡d
::
max
(
v®33
,
v®41
); 
	gv®33
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®34
,
v®42
); 
	gv®42
 = std::max(val34,val42);

6561 
	gv®34
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®35
,
v®43
); 
	gv®43
 = std::
max
(v®35,v®43); 
	gv®35
 =mp;

6562 
	gtmp
 = 
¡d
::
mš
(
v®36
,
v®44
); 
	gv®44
 = std::
max
(v®36,v®44); 
	gv®36
 = 
tmp
;m°ğ¡d::mš(
v®37
,
v®45
);

6563 
	gv®45
 = 
¡d
::
max
(
v®37
,
v®45
); 
	gv®37
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®38
,
v®46
); 
	gv®46
 = std::max(val38,val46);

6564 
	gv®38
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®39
,
v®47
); 
	gv®47
 = std::
max
(v®39,v®47); 
	gv®39
 =mp;

6565 
	gtmp
 = 
¡d
::
mš
(
v®8
,
v®32
); 
	gv®32
 = std::
max
(v®8,v®32); 
	gv®8
 = 
tmp
;m°ğ¡d::mš(
v®9
,
v®33
);

6566 
	gv®33
 = 
¡d
::
max
(
v®9
,
v®33
); 
	gv®9
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®10
,
v®34
); 
	gv®34
 = std::max(val10,val34);

6567 
	gv®10
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®11
,
v®35
); 
	gv®35
 = std::
max
(v®11,v®35); 
	gv®11
 =mp;

6568 
	gtmp
 = 
¡d
::
mš
(
v®12
,
v®36
); 
	gv®36
 = std::
max
(v®12,v®36); 
	gv®12
 = 
tmp
;m°ğ¡d::mš(
v®13
,
v®37
);

6569 
	gv®37
 = 
¡d
::
max
(
v®13
,
v®37
); 
	gv®13
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®14
,
v®38
); 
	gv®38
 = std::max(val14,val38);

6570 
	gv®14
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®15
,
v®39
); 
	gv®39
 = std::
max
(v®15,v®39); 
	gv®15
 =mp;

6571 
	gtmp
 = 
¡d
::
mš
(
v®24
,
v®48
); 
	gv®48
 = std::
max
(v®24,v®48); 
	gv®24
 = 
tmp
;m°ğ¡d::mš(
v®8
,
v®16
);

6572 
	gv®16
 = 
¡d
::
max
(
v®8
,
v®16
); 
	gv®8
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®9
,
v®17
); 
	gv®17
 = std::max(val9,val17);

6573 
	gv®9
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®10
,
v®18
); 
	gv®18
 = std::
max
(v®10,v®18); 
	gv®10
 =mp;

6574 
	gtmp
 = 
¡d
::
mš
(
v®11
,
v®19
); 
	gv®19
 = std::
max
(v®11,v®19); 
	gv®11
 = 
tmp
;m°ğ¡d::mš(
v®12
,
v®20
);

6575 
	gv®20
 = 
¡d
::
max
(
v®12
,
v®20
); 
	gv®12
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®13
,
v®21
); 
	gv®21
 = std::max(val13,val21);

6576 
	gv®13
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®14
,
v®22
); 
	gv®22
 = std::
max
(v®14,v®22); 
	gv®14
 =mp;

6577 
	gtmp
 = 
¡d
::
mš
(
v®15
,
v®23
); 
	gv®23
 = std::
max
(v®15,v®23); 
	gv®15
 = 
tmp
;m°ğ¡d::mš(
v®24
,
v®32
);

6578 
	gv®32
 = 
¡d
::
max
(
v®24
,
v®32
); 
	gv®24
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®25
,
v®33
); 
	gv®33
 = std::max(val25,val33);

6579 
	gv®25
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®26
,
v®34
); 
	gv®34
 = std::
max
(v®26,v®34); 
	gv®26
 =mp;

6580 
	gtmp
 = 
¡d
::
mš
(
v®27
,
v®35
); 
	gv®35
 = std::
max
(v®27,v®35); 
	gv®27
 = 
tmp
;m°ğ¡d::mš(
v®28
,
v®36
);

6581 
	gv®36
 = 
¡d
::
max
(
v®28
,
v®36
); 
	gv®28
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®29
,
v®37
); 
	gv®37
 = std::max(val29,val37);

6582 
	gv®29
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®30
,
v®38
); 
	gv®38
 = std::
max
(v®30,v®38); 
	gv®30
 =mp;

6583 
	gtmp
 = 
¡d
::
mš
(
v®31
,
v®39
); 
	gv®39
 = std::
max
(v®31,v®39); 
	gv®31
 = 
tmp
;m°ğ¡d::mš(
v®40
,
v®48
);

6584 
	gv®48
 = 
¡d
::
max
(
v®40
,
v®48
); 
	gv®40
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®0
,
v®4
); 
	gv®4
 = std::max(val0,val4);

6585 
	gv®0
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®1
,
v®5
); 
	gv®5
 = std::
max
(v®1,v®5); 
	gv®1
 =mp;m°ğ¡d::mš(
v®2
,
v®6
);

6586 
	gv®6
 = 
¡d
::
max
(
v®2
,
v®6
); 
	gv®2
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®3
,
v®7
); 
	gv®7
 = std::max(v®3,v®7); 
	gv®3
 =mp;

6587 
	gtmp
 = 
¡d
::
mš
(
v®8
,
v®12
); 
	gv®12
 = std::
max
(v®8,v®12); 
	gv®8
 = 
tmp
;m°ğ¡d::mš(
v®9
,
v®13
);

6588 
	gv®13
 = 
¡d
::
max
(
v®9
,
v®13
); 
	gv®9
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®10
,
v®14
); 
	gv®14
 = std::max(val10,val14);

6589 
	gv®10
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®11
,
v®15
); 
	gv®15
 = std::
max
(v®11,v®15); 
	gv®11
 =mp;

6590 
	gtmp
 = 
¡d
::
mš
(
v®16
,
v®20
); 
	gv®20
 = std::
max
(v®16,v®20); 
	gv®16
 = 
tmp
;m°ğ¡d::mš(
v®17
,
v®21
);

6591 
	gv®21
 = 
¡d
::
max
(
v®17
,
v®21
); 
	gv®17
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®18
,
v®22
); 
	gv®22
 = std::max(val18,val22);

6592 
	gv®18
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®19
,
v®23
); 
	gv®23
 = std::
max
(v®19,v®23); 
	gv®19
 =mp;

6593 
	gtmp
 = 
¡d
::
mš
(
v®24
,
v®28
); 
	gv®28
 = std::
max
(v®24,v®28); 
	gv®24
 = 
tmp
;m°ğ¡d::mš(
v®25
,
v®29
);

6594 
	gv®29
 = 
¡d
::
max
(
v®25
,
v®29
); 
	gv®25
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®26
,
v®30
); 
	gv®30
 = std::max(val26,val30);

6595 
	gv®26
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®27
,
v®31
); 
	gv®31
 = std::
max
(v®27,v®31); 
	gv®27
 =mp;

6596 
	gtmp
 = 
¡d
::
mš
(
v®32
,
v®36
); 
	gv®36
 = std::
max
(v®32,v®36); 
	gv®32
 = 
tmp
;m°ğ¡d::mš(
v®33
,
v®37
);

6597 
	gv®37
 = 
¡d
::
max
(
v®33
,
v®37
); 
	gv®33
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®34
,
v®38
); 
	gv®38
 = std::max(val34,val38);

6598 
	gv®34
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®35
,
v®39
); 
	gv®39
 = std::
max
(v®35,v®39); 
	gv®35
 =mp;

6599 
	gtmp
 = 
¡d
::
mš
(
v®40
,
v®44
); 
	gv®44
 = std::
max
(v®40,v®44); 
	gv®40
 = 
tmp
;m°ğ¡d::mš(
v®41
,
v®45
);

6600 
	gv®45
 = 
¡d
::
max
(
v®41
,
v®45
); 
	gv®41
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®42
,
v®46
); 
	gv®46
 = std::max(val42,val46);

6601 
	gv®42
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®43
,
v®47
); 
	gv®47
 = std::
max
(v®43,v®47); 
	gv®43
 =mp;

6602 
	gtmp
 = 
¡d
::
mš
(
v®4
,
v®32
); 
	gv®32
 = std::
max
(v®4,v®32); 
	gv®4
 = 
tmp
;m°ğ¡d::mš(
v®5
,
v®33
);

6603 
	gv®33
 = 
¡d
::
max
(
v®5
,
v®33
); 
	gv®5
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®6
,
v®34
); 
	gv®34
 = std::max(val6,val34);

6604 
	gv®6
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®7
,
v®35
); 
	gv®35
 = std::
max
(v®7,v®35); 
	gv®7
 =mp;

6605 
	gtmp
 = 
¡d
::
mš
(
v®12
,
v®40
); 
	gv®40
 = std::
max
(v®12,v®40); 
	gv®12
 = 
tmp
;m°ğ¡d::mš(
v®13
,
v®41
);

6606 
	gv®41
 = 
¡d
::
max
(
v®13
,
v®41
); 
	gv®13
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®14
,
v®42
); 
	gv®42
 = std::max(val14,val42);

6607 
	gv®14
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®15
,
v®43
); 
	gv®43
 = std::
max
(v®15,v®43); 
	gv®15
 =mp;

6608 
	gtmp
 = 
¡d
::
mš
(
v®20
,
v®48
); 
	gv®48
 = std::
max
(v®20,v®48); 
	gv®20
 = 
tmp
;m°ğ¡d::mš(
v®4
,
v®16
);

6609 
	gv®16
 = 
¡d
::
max
(
v®4
,
v®16
); 
	gv®4
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®5
,
v®17
); 
	gv®17
 = std::max(val5,val17);

6610 
	gv®5
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®6
,
v®18
); 
	gv®18
 = std::
max
(v®6,v®18); 
	gv®6
 =mp;

6611 
	gtmp
 = 
¡d
::
mš
(
v®7
,
v®19
); 
	gv®19
 = std::
max
(v®7,v®19); 
	gv®7
 = 
tmp
;m°ğ¡d::mš(
v®12
,
v®24
);

6612 
	gv®24
 = 
¡d
::
max
(
v®12
,
v®24
); 
	gv®12
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®13
,
v®25
); 
	gv®25
 = std::max(val13,val25);

6613 
	gv®13
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®14
,
v®26
); 
	gv®26
 = std::
max
(v®14,v®26); 
	gv®14
 =mp;

6614 
	gtmp
 = 
¡d
::
mš
(
v®15
,
v®27
); 
	gv®27
 = std::
max
(v®15,v®27); 
	gv®15
 = 
tmp
;m°ğ¡d::mš(
v®20
,
v®32
);

6615 
	gv®32
 = 
¡d
::
max
(
v®20
,
v®32
); 
	gv®20
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®21
,
v®33
); 
	gv®33
 = std::max(val21,val33);

6616 
	gv®21
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®22
,
v®34
); 
	gv®34
 = std::
max
(v®22,v®34); 
	gv®22
 =mp;

6617 
	gtmp
 = 
¡d
::
mš
(
v®23
,
v®35
); 
	gv®35
 = std::
max
(v®23,v®35); 
	gv®23
 = 
tmp
;m°ğ¡d::mš(
v®28
,
v®40
);

6618 
	gv®40
 = 
¡d
::
max
(
v®28
,
v®40
); 
	gv®28
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®29
,
v®41
); 
	gv®41
 = std::max(val29,val41);

6619 
	gv®29
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®30
,
v®42
); 
	gv®42
 = std::
max
(v®30,v®42); 
	gv®30
 =mp;

6620 
	gtmp
 = 
¡d
::
mš
(
v®31
,
v®43
); 
	gv®43
 = std::
max
(v®31,v®43); 
	gv®31
 = 
tmp
;m°ğ¡d::mš(
v®36
,
v®48
);

6621 
	gv®48
 = 
¡d
::
max
(
v®36
,
v®48
); 
	gv®36
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®4
,
v®8
); 
	gv®8
 = std::max(val4,val8);

6622 
	gv®4
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®5
,
v®9
); 
	gv®9
 = std::
max
(v®5,v®9); 
	gv®5
 =mp;m°ğ¡d::mš(
v®6
,
v®10
);

6623 
	gv®10
 = 
¡d
::
max
(
v®6
,
v®10
); 
	gv®6
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®7
,
v®11
); 
	gv®11
 = std::max(v®7,v®11); 
	gv®7
 =mp;

6624 
	gtmp
 = 
¡d
::
mš
(
v®12
,
v®16
); 
	gv®16
 = std::
max
(v®12,v®16); 
	gv®12
 = 
tmp
;m°ğ¡d::mš(
v®13
,
v®17
);

6625 
	gv®17
 = 
¡d
::
max
(
v®13
,
v®17
); 
	gv®13
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®14
,
v®18
); 
	gv®18
 = std::max(val14,val18);

6626 
	gv®14
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®15
,
v®19
); 
	gv®19
 = std::
max
(v®15,v®19); 
	gv®15
 =mp;

6627 
	gtmp
 = 
¡d
::
mš
(
v®20
,
v®24
); 
	gv®24
 = std::
max
(v®20,v®24); 
	gv®20
 = 
tmp
;m°ğ¡d::mš(
v®21
,
v®25
);

6628 
	gv®25
 = 
¡d
::
max
(
v®21
,
v®25
); 
	gv®21
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®22
,
v®26
); 
	gv®26
 = std::max(val22,val26);

6629 
	gv®22
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®23
,
v®27
); 
	gv®27
 = std::
max
(v®23,v®27); 
	gv®23
 =mp;

6630 
	gtmp
 = 
¡d
::
mš
(
v®28
,
v®32
); 
	gv®32
 = std::
max
(v®28,v®32); 
	gv®28
 = 
tmp
;m°ğ¡d::mš(
v®29
,
v®33
);

6631 
	gv®33
 = 
¡d
::
max
(
v®29
,
v®33
); 
	gv®29
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®30
,
v®34
); 
	gv®34
 = std::max(val30,val34);

6632 
	gv®30
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®31
,
v®35
); 
	gv®35
 = std::
max
(v®31,v®35); 
	gv®31
 =mp;

6633 
	gtmp
 = 
¡d
::
mš
(
v®36
,
v®40
); 
	gv®40
 = std::
max
(v®36,v®40); 
	gv®36
 = 
tmp
;m°ğ¡d::mš(
v®37
,
v®41
);

6634 
	gv®41
 = 
¡d
::
max
(
v®37
,
v®41
); 
	gv®37
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®38
,
v®42
); 
	gv®42
 = std::max(val38,val42);

6635 
	gv®38
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®39
,
v®43
); 
	gv®43
 = std::
max
(v®39,v®43); 
	gv®39
 =mp;

6636 
	gtmp
 = 
¡d
::
mš
(
v®44
,
v®48
); 
	gv®48
 = std::
max
(v®44,v®48); 
	gv®44
 = 
tmp
;m°ğ¡d::mš(
v®0
,
v®2
);

6637 
	gv®2
 = 
¡d
::
max
(
v®0
,
v®2
); 
	gv®0
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®1
,
v®3
); 
	gv®3
 = std::max(v®1,v®3); 
	gv®1
 =mp;

6638 
	gtmp
 = 
¡d
::
mš
(
v®4
,
v®6
); 
	gv®6
 = std::
max
(v®4,v®6); 
	gv®4
 = 
tmp
;m°ğ¡d::mš(
v®5
,
v®7
);

6639 
	gv®7
 = 
¡d
::
max
(
v®5
,
v®7
); 
	gv®5
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®8
,
v®10
); 
	gv®10
 = std::max(v®8,v®10); 
	gv®8
 =mp;

6640 
	gtmp
 = 
¡d
::
mš
(
v®9
,
v®11
); 
	gv®11
 = std::
max
(v®9,v®11); 
	gv®9
 = 
tmp
;m°ğ¡d::mš(
v®12
,
v®14
);

6641 
	gv®14
 = 
¡d
::
max
(
v®12
,
v®14
); 
	gv®12
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®13
,
v®15
); 
	gv®15
 = std::max(val13,val15);

6642 
	gv®13
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®16
,
v®18
); 
	gv®18
 = std::
max
(v®16,v®18); 
	gv®16
 =mp;

6643 
	gtmp
 = 
¡d
::
mš
(
v®17
,
v®19
); 
	gv®19
 = std::
max
(v®17,v®19); 
	gv®17
 = 
tmp
;m°ğ¡d::mš(
v®20
,
v®22
);

6644 
	gv®22
 = 
¡d
::
max
(
v®20
,
v®22
); 
	gv®20
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®21
,
v®23
); 
	gv®23
 = std::max(val21,val23);

6645 
	gv®21
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®24
,
v®26
); 
	gv®26
 = std::
max
(v®24,v®26); 
	gv®24
 =mp;

6646 
	gtmp
 = 
¡d
::
mš
(
v®25
,
v®27
); 
	gv®27
 = std::
max
(v®25,v®27); 
	gv®25
 = 
tmp
;m°ğ¡d::mš(
v®28
,
v®30
);

6647 
	gv®30
 = 
¡d
::
max
(
v®28
,
v®30
); 
	gv®28
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®29
,
v®31
); 
	gv®31
 = std::max(val29,val31);

6648 
	gv®29
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®32
,
v®34
); 
	gv®34
 = std::
max
(v®32,v®34); 
	gv®32
 =mp;

6649 
	gtmp
 = 
¡d
::
mš
(
v®33
,
v®35
); 
	gv®35
 = std::
max
(v®33,v®35); 
	gv®33
 = 
tmp
;m°ğ¡d::mš(
v®36
,
v®38
);

6650 
	gv®38
 = 
¡d
::
max
(
v®36
,
v®38
); 
	gv®36
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®37
,
v®39
); 
	gv®39
 = std::max(val37,val39);

6651 
	gv®37
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®40
,
v®42
); 
	gv®42
 = std::
max
(v®40,v®42); 
	gv®40
 =mp;

6652 
	gtmp
 = 
¡d
::
mš
(
v®41
,
v®43
); 
	gv®43
 = std::
max
(v®41,v®43); 
	gv®41
 = 
tmp
;m°ğ¡d::mš(
v®44
,
v®46
);

6653 
	gv®46
 = 
¡d
::
max
(
v®44
,
v®46
); 
	gv®44
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®45
,
v®47
); 
	gv®47
 = std::max(val45,val47);

6654 
	gv®45
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®2
,
v®32
); 
	gv®32
 = std::
max
(v®2,v®32); 
	gv®2
 =mp;m°ğ¡d::mš(
v®3
,
v®33
);

6655 
	gv®33
 = 
¡d
::
max
(
v®3
,
v®33
); 
	gv®3
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®6
,
v®36
); 
	gv®36
 = std::max(v®6,v®36); 
	gv®6
 =mp;

6656 
	gtmp
 = 
¡d
::
mš
(
v®7
,
v®37
); 
	gv®37
 = std::
max
(v®7,v®37); 
	gv®7
 = 
tmp
;m°ğ¡d::mš(
v®10
,
v®40
);

6657 
	gv®40
 = 
¡d
::
max
(
v®10
,
v®40
); 
	gv®10
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®11
,
v®41
); 
	gv®41
 = std::max(val11,val41);

6658 
	gv®11
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®14
,
v®44
); 
	gv®44
 = std::
max
(v®14,v®44); 
	gv®14
 =mp;

6659 
	gtmp
 = 
¡d
::
mš
(
v®15
,
v®45
); 
	gv®45
 = std::
max
(v®15,v®45); 
	gv®15
 = 
tmp
;m°ğ¡d::mš(
v®18
,
v®48
);

6660 
	gv®48
 = 
¡d
::
max
(
v®18
,
v®48
); 
	gv®18
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®2
,
v®16
); 
	gv®16
 = std::max(val2,val16);

6661 
	gv®2
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®3
,
v®17
); 
	gv®17
 = std::
max
(v®3,v®17); 
	gv®3
 =mp;

6662 
	gtmp
 = 
¡d
::
mš
(
v®6
,
v®20
); 
	gv®20
 = std::
max
(v®6,v®20); 
	gv®6
 = 
tmp
;m°ğ¡d::mš(
v®7
,
v®21
);

6663 
	gv®21
 = 
¡d
::
max
(
v®7
,
v®21
); 
	gv®7
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®10
,
v®24
); 
	gv®24
 = std::max(val10,val24);

6664 
	gv®10
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®11
,
v®25
); 
	gv®25
 = std::
max
(v®11,v®25); 
	gv®11
 =mp;

6665 
	gtmp
 = 
¡d
::
mš
(
v®14
,
v®28
); 
	gv®28
 = std::
max
(v®14,v®28); 
	gv®14
 = 
tmp
;m°ğ¡d::mš(
v®15
,
v®29
);

6666 
	gv®29
 = 
¡d
::
max
(
v®15
,
v®29
); 
	gv®15
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®18
,
v®32
); 
	gv®32
 = std::max(val18,val32);

6667 
	gv®18
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®19
,
v®33
); 
	gv®33
 = std::
max
(v®19,v®33); 
	gv®19
 =mp;

6668 
	gtmp
 = 
¡d
::
mš
(
v®22
,
v®36
); 
	gv®36
 = std::
max
(v®22,v®36); 
	gv®22
 = 
tmp
;m°ğ¡d::mš(
v®23
,
v®37
);

6669 
	gv®37
 = 
¡d
::
max
(
v®23
,
v®37
); 
	gv®23
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®26
,
v®40
); 
	gv®40
 = std::max(val26,val40);

6670 
	gv®26
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®27
,
v®41
); 
	gv®41
 = std::
max
(v®27,v®41); 
	gv®27
 =mp;

6671 
	gtmp
 = 
¡d
::
mš
(
v®30
,
v®44
); 
	gv®44
 = std::
max
(v®30,v®44); 
	gv®30
 = 
tmp
;m°ğ¡d::mš(
v®31
,
v®45
);

6672 
	gv®45
 = 
¡d
::
max
(
v®31
,
v®45
); 
	gv®31
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®34
,
v®48
); 
	gv®48
 = std::max(val34,val48);

6673 
	gv®34
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®2
,
v®8
); 
	gv®8
 = std::
max
(v®2,v®8); 
	gv®2
 =mp;m°ğ¡d::mš(
v®3
,
v®9
);

6674 
	gv®9
 = 
¡d
::
max
(
v®3
,
v®9
); 
	gv®3
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®6
,
v®12
); 
	gv®12
 = std::max(v®6,v®12); 
	gv®6
 =mp;

6675 
	gtmp
 = 
¡d
::
mš
(
v®7
,
v®13
); 
	gv®13
 = std::
max
(v®7,v®13); 
	gv®7
 = 
tmp
;m°ğ¡d::mš(
v®10
,
v®16
);

6676 
	gv®16
 = 
¡d
::
max
(
v®10
,
v®16
); 
	gv®10
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®11
,
v®17
); 
	gv®17
 = std::max(val11,val17);

6677 
	gv®11
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®14
,
v®20
); 
	gv®20
 = std::
max
(v®14,v®20); 
	gv®14
 =mp;

6678 
	gtmp
 = 
¡d
::
mš
(
v®15
,
v®21
); 
	gv®21
 = std::
max
(v®15,v®21); 
	gv®15
 = 
tmp
;m°ğ¡d::mš(
v®18
,
v®24
);

6679 
	gv®24
 = 
¡d
::
max
(
v®18
,
v®24
); 
	gv®18
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®19
,
v®25
); 
	gv®25
 = std::max(val19,val25);

6680 
	gv®19
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®22
,
v®28
); 
	gv®28
 = std::
max
(v®22,v®28); 
	gv®22
 =mp;

6681 
	gtmp
 = 
¡d
::
mš
(
v®23
,
v®29
); 
	gv®29
 = std::
max
(v®23,v®29); 
	gv®23
 = 
tmp
;m°ğ¡d::mš(
v®26
,
v®32
);

6682 
	gv®32
 = 
¡d
::
max
(
v®26
,
v®32
); 
	gv®26
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®27
,
v®33
); 
	gv®33
 = std::max(val27,val33);

6683 
	gv®27
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®30
,
v®36
); 
	gv®36
 = std::
max
(v®30,v®36); 
	gv®30
 =mp;

6684 
	gtmp
 = 
¡d
::
mš
(
v®31
,
v®37
); 
	gv®37
 = std::
max
(v®31,v®37); 
	gv®31
 = 
tmp
;m°ğ¡d::mš(
v®34
,
v®40
);

6685 
	gv®40
 = 
¡d
::
max
(
v®34
,
v®40
); 
	gv®34
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®35
,
v®41
); 
	gv®41
 = std::max(val35,val41);

6686 
	gv®35
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®38
,
v®44
); 
	gv®44
 = std::
max
(v®38,v®44); 
	gv®38
 =mp;

6687 
	gtmp
 = 
¡d
::
mš
(
v®39
,
v®45
); 
	gv®45
 = std::
max
(v®39,v®45); 
	gv®39
 = 
tmp
;m°ğ¡d::mš(
v®42
,
v®48
);

6688 
	gv®48
 = 
¡d
::
max
(
v®42
,
v®48
); 
	gv®42
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®2
,
v®4
); 
	gv®4
 = std::max(val2,val4);

6689 
	gv®2
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®3
,
v®5
); 
	gv®5
 = std::
max
(v®3,v®5); 
	gv®3
 =mp;m°ğ¡d::mš(
v®6
,
v®8
);

6690 
	gv®8
 = 
¡d
::
max
(
v®6
,
v®8
); 
	gv®6
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®7
,
v®9
); 
	gv®9
 = std::max(v®7,v®9); 
	gv®7
 =mp;

6691 
	gtmp
 = 
¡d
::
mš
(
v®10
,
v®12
); 
	gv®12
 = std::
max
(v®10,v®12); 
	gv®10
 = 
tmp
;m°ğ¡d::mš(
v®11
,
v®13
);

6692 
	gv®13
 = 
¡d
::
max
(
v®11
,
v®13
); 
	gv®11
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®14
,
v®16
); 
	gv®16
 = std::max(val14,val16);

6693 
	gv®14
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®15
,
v®17
); 
	gv®17
 = std::
max
(v®15,v®17); 
	gv®15
 =mp;

6694 
	gtmp
 = 
¡d
::
mš
(
v®18
,
v®20
); 
	gv®20
 = std::
max
(v®18,v®20); 
	gv®18
 = 
tmp
;m°ğ¡d::mš(
v®19
,
v®21
);

6695 
	gv®21
 = 
¡d
::
max
(
v®19
,
v®21
); 
	gv®19
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®22
,
v®24
); 
	gv®24
 = std::max(val22,val24);

6696 
	gv®22
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®23
,
v®25
); 
	gv®25
 = std::
max
(v®23,v®25); 
	gv®23
 =mp;

6697 
	gtmp
 = 
¡d
::
mš
(
v®26
,
v®28
); 
	gv®28
 = std::
max
(v®26,v®28); 
	gv®26
 = 
tmp
;m°ğ¡d::mš(
v®27
,
v®29
);

6698 
	gv®29
 = 
¡d
::
max
(
v®27
,
v®29
); 
	gv®27
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®30
,
v®32
); 
	gv®32
 = std::max(val30,val32);

6699 
	gv®30
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®31
,
v®33
); 
	gv®33
 = std::
max
(v®31,v®33); 
	gv®31
 =mp;

6700 
	gtmp
 = 
¡d
::
mš
(
v®34
,
v®36
); 
	gv®36
 = std::
max
(v®34,v®36); 
	gv®34
 = 
tmp
;m°ğ¡d::mš(
v®35
,
v®37
);

6701 
	gv®37
 = 
¡d
::
max
(
v®35
,
v®37
); 
	gv®35
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®38
,
v®40
); 
	gv®40
 = std::max(val38,val40);

6702 
	gv®38
 = 
tmp
; 
	gtmp
 = 
¡d
::
mš
(
v®39
,
v®41
); 
	gv®41
 = std::
max
(v®39,v®41); 
	gv®39
 =mp;

6703 
	gtmp
 = 
¡d
::
mš
(
v®42
,
v®44
); 
	gv®44
 = std::
max
(v®42,v®44); 
	gv®42
 = 
tmp
;m°ğ¡d::mš(
v®43
,
v®45
);

6704 
	gv®45
 = 
¡d
::
max
(
v®43
,
v®45
); 
	gv®43
 = 
tmp
; 
	gtmp
 = std::
mš
(
v®46
,
v®48
); 
	gv®48
 = std::max(val46,val48);

6705 
	gv®46
 = 
tmp
; 
	gv®1
 = 
¡d
::
max
(
v®0
,
v®1
); 
	gv®3
 = std::max(
v®2
,
v®3
); 
	gv®5
 = std::max(
v®4
,
v®5
);

6706 
	gv®7
 = 
¡d
::
max
(
v®6
,
v®7
); 
	gv®9
 = std::max(
v®8
,
v®9
); 
	gv®11
 = std::max(
v®10
,
v®11
);

6707 
	gv®13
 = 
¡d
::
max
(
v®12
,
v®13
); 
	gv®15
 = std::max(
v®14
,
v®15
); 
	gv®17
 = std::max(
v®16
,
v®17
);

6708 
	gv®19
 = 
¡d
::
max
(
v®18
,
v®19
); 
	gv®21
 = std::max(
v®20
,
v®21
); 
	gv®23
 = std::max(
v®22
,
v®23
);

6709 
	gv®24
 = 
¡d
::
mš
(
v®24
,
v®25
); 
	gv®26
 = std::mš(
v®26
,
v®27
); 
	gv®28
 = std::mš(
v®28
,
v®29
);

6710 
	gv®30
 = 
¡d
::
mš
(
v®30
,
v®31
); 
	gv®32
 = std::mš(
v®32
,
v®33
); 
	gv®34
 = std::mš(
v®34
,
v®35
);

6711 
	gv®36
 = 
¡d
::
mš
(
v®36
,
v®37
); 
	gv®38
 = std::mš(
v®38
,
v®39
); 
	gv®40
 = std::mš(
v®40
,
v®41
);

6712 
	gv®42
 = 
¡d
::
mš
(
v®42
,
v®43
); 
	gv®44
 = std::mš(
v®44
,
v®45
); 
	gv®46
 = std::mš(
v®46
,
v®47
);

6713 
	gv®32
 = 
¡d
::
max
(
v®1
,
v®32
); 
	gv®34
 = std::max(
v®3
,
v®34
); 
	gv®36
 = std::max(
v®5
,
v®36
);

6714 
	gv®38
 = 
¡d
::
max
(
v®7
,
v®38
); 
	gv®9
 = std::
mš
(
v®9
,
v®40
); 
	gv®11
 = std::mš(
v®11
,
v®42
);

6715 
	gv®13
 = 
¡d
::
mš
(
v®13
,
v®44
); 
	gv®15
 = std::mš(
v®15
,
v®46
); 
	gv®17
 = std::mš(
v®17
,
v®48
);

6716 
	gv®24
 = 
¡d
::
max
(
v®9
,
v®24
); 
	gv®26
 = std::max(
v®11
,
v®26
); 
	gv®28
 = std::max(
v®13
,
v®28
);

6717 
	gv®30
 = 
¡d
::
max
(
v®15
,
v®30
); 
	gv®17
 = std::
mš
(
v®17
,
v®32
); 
	gv®19
 = std::mš(
v®19
,
v®34
);

6718 
	gv®21
 = 
¡d
::
mš
(
v®21
,
v®36
); 
	gv®23
 = std::mš(
v®23
,
v®38
); 
	gv®24
 = std::
max
(
v®17
,
v®24
);

6719 
	gv®26
 = 
¡d
::
max
(
v®19
,
v®26
); 
	gv®21
 = std::
mš
(
v®21
,
v®28
); 
	gv®23
 = std::mš(
v®23
,
v®30
);

6720 
	gv®24
 = 
¡d
::
max
(
v®21
,
v®24
); 
	gv®23
 = std::
mš
(
v®23
,
v®26
);

6721  
	g¡d
::
max
(
v®23
,
v®24
);

6725 
	g‹m¶©e
<
ty³Çme
 
	gT
>

6726 
šlše
 
T
 
hypÙ
(cÚ¡ T 
x
, cÚ¡ T 
y
) {

6727  
	g¡d
::
sq¹
(
x
*x + 
y
*y);

6730 
	g‹m¶©e
<
ty³Çme
 
	gT
>

6731 
šlše
 
T
 
hypÙ
(cÚ¡ T 
x
, cÚ¡ T 
y
, cÚ¡ T 
z
) {

6732  
	g¡d
::
sq¹
(
x
*x + 
y
*y + 
z
*z);

6735 
	g‹m¶©e
<
ty³Çme
 
	gT
>

6736 
šlše
 
T
 
_hypÙ
(cÚ¡ T 
x
, cÚ¡ T 
y
) {

6737 
T
 
	gnx
 = 
cimg
::
abs
(
x
), 
	gny
 = cimg::abs(
y
), 
	gt
;

6738 ià(
	gnx
<
	gny
è{ 
	gt
 = 
nx
;‚x = 
ny
; } t =‚y;

6739 ià(
	gnx
>0è{ 
	gt
/=
nx
; ‚x*
	g¡d
::
sq¹
(1 + 
t
*t); }

6744 
šlše
 
çùÜŸl
(cÚ¡ 
n
) {

6745 ià(
	gn
<0è 
	gcimg
::
ty³
<>::
Çn
();

6746 ià(
	gn
<2)  1;

6747 
	g»s
 = 2;

6748 
	gi
 = 3; i<=
n
; ++iè
	g»s
*=
i
;

6749  
	g»s
;

6753 
šlše
 
³rmutiÚs
(cÚ¡ 
k
, cÚ¡ 
n
, cÚ¡ 
boŞ
 
w™h_Üd”
) {

6754 ià(
	gn
<0 || 
	gk
<0è 
	gcimg
::
ty³
<>::
Çn
();

6755 ià(
	gk
>
	gn
)  0;

6756 
	g»s
 = 1;

6757 
	gi
 = 
n
; i>ò - 
k
 + 1; --iè
	g»s
*=
i
;

6758  
	gw™h_Üd”
?
	g»s
:
»s
/
cimg
::
çùÜŸl
(
k
);

6761 
šlše
 
_fibÚacci
(
exp
) {

6763 
	gba£
 = (1 + 
¡d
::
sq¹
(5.))/2,

6764 
	g»suÉ
 = 1/
¡d
::
sq¹
(5.);

6765 
	gexp
) {

6766 ià(
	gexp
&1è
	g»suÉ
*=
ba£
;

6767 
	gexp
>>=1;

6768 
	gba£
*=
ba£
;

6770  
	g»suÉ
;

6775 
šlše
 
fibÚacci
(cÚ¡ 
n
) {

6776 ià(
	gn
<0è 
	gcimg
::
ty³
<>::
Çn
();

6777 ià(
	gn
<3)  1;

6778 ià(
	gn
<11) {

6779 
cimg_ušt64
 
	gâ1
 = 1, 
	gâ2
 = 1, 
	gâ
 = 0;

6780 
	gi
 = 3; i<=
n
; ++iè{ 
	gâ
 = 
â1
 + 
â2
; 
	gâ2
 = fn1; 
	gâ1
 = 
â
; }

6781  ()
	gâ
;

6783 ià(
	gn
<75)

6784  ()((
	gcimg_ušt64
)(
_fibÚacci
(
n
) + 0.5));

6786 ià(
	gn
<94) {

6787 
cimg_ušt64


6788 
	gâ1
 = ((
cimg_ušt64
)303836)<<32 | 3861581201UL,

6789 
	gâ2
 = ((
cimg_ušt64
)187781)<<32 | 2279239217UL,

6790 
	gâ
 = 0;

6791 
	gi
 = 75; i<=
n
; ++iè{ 
	gâ
 = 
â1
 + 
â2
; 
	gâ2
 = fn1; 
	gâ1
 = 
â
; }

6792  ()
	gâ
;

6794  
_fibÚacci
(
n
);

6798 
šlše
 
gcd
(
a
, 
b
) {

6799 
	ga
è{ cÚ¡ 
	gc
 = 
a
;‡ = 
b
%a; 
	gb
 = 
c
; }

6800  
	gb
;

6804 
šlše
 
low”ÿ£
(cÚ¡ 
x
) {

6805  ()((
	gx
<'A'||x>'Z')?x:
x
 - 'A' + 'a');

6807 
šlše
 
low”ÿ£
(cÚ¡ 
x
) {

6808  ()((
	gx
<'A'||x>'Z')?x:
x
 - 'A' + 'a');

6812 
šlše
 
low”ÿ£
(*cÚ¡ 
¡r
) {

6813 ià(
	g¡r
è*
	g±r
 = 
¡r
; *±r; ++±rè*±¸ğ
low”ÿ£
(*
±r
);

6817 
šlše
 
uµ”ÿ£
(cÚ¡ 
x
) {

6818  ()((
	gx
<'a'||x>'z')?x:
x
 - 'a' + 'A');

6821 
šlše
 
uµ”ÿ£
(cÚ¡ 
x
) {

6822  ()((
	gx
<'a'||x>'z')?x:
x
 - 'a' + 'A');

6826 
šlše
 
uµ”ÿ£
(*cÚ¡ 
¡r
) {

6827 ià(
	g¡r
è*
	g±r
 = 
¡r
; *±r; ++±rè*±¸ğ
uµ”ÿ£
(*
±r
);

6831 
šlše
 
boŞ
 
is_bÏnk
(cÚ¡ 
c
) {

6832  
	gc
>=0 && ()
c
<=' ';

6842 
šlše
 
©of
(cÚ¡ *cÚ¡ 
¡r
) {

6843 
	gx
 = 0, 
	gy
 = 1;

6844  
	g¡r
 && 
cimg_ssÿnf
(
¡r
,"%lf/%lf",&
x
,&
y
)>0?
	gx
/
	gy
:0;

6855 
šlše
 
¡ºÿ£cmp
(cÚ¡ *cÚ¡ 
¡r1
, cÚ¡ *cÚ¡ 
¡r2
, cÚ¡ 
l
) {

6856 ià(!
	gl
)  0;

6857 ià(!
	g¡r1
è 
	g¡r2
?-1:0;

6858 cÚ¡ *
	gn¡r1
 = 
¡r1
, *
	gn¡r2
 = 
¡r2
;

6859 
	gk
, 
	gdiff
 = 0; k = 0; k<
	gl
 && !(difàğ
low”ÿ£
(*
n¡r1
è-†ow”ÿ£(*
n¡r2
)); ++kè{ ++
	gn¡r1
; ++
	gn¡r2
; }

6860  
	gk
!=
l
?
diff
:0;

6870 
šlše
 
¡rÿ£cmp
(cÚ¡ *cÚ¡ 
¡r1
, cÚ¡ *cÚ¡ 
¡r2
) {

6871 ià(!
	g¡r1
è 
	g¡r2
?-1:0;

6873 
	gl1
 = ()
¡d
::
¡¾’
(
¡r1
),

6874 
	gl2
 = ()
¡d
::
¡¾’
(
¡r2
);

6875  
	gcimg
::
¡ºÿ£cmp
(
¡r1
,
¡r2
,1 + (
l1
<
l2
?l1:l2));

6884 
šlše
 *
¡»Îsize
(*cÚ¡ 
¡r
, cÚ¡ 
l
=64,

6885 cÚ¡ 
boŞ
 
is_’dšg
=
Œue
) {

6886 ià(!
¡r
)  str;

6887 cÚ¡ 
	gÆ
 = 
l
<5?5:l, 
	gls
 = ()
¡d
::
¡¾’
(
¡r
);

6888 ià(
	gls
<=
Æ
è 
¡r
;

6889 ià(
	gis_’dšg
è
	g¡d
::
¡rıy
(
¡r
 + 
Æ
 - 5,"(...)");

6891 cÚ¡ 
	gÎ
 = (
Æ
 - 5)/2 + 1 - (Æ%2), 
	gÌ
 =‚È- 
Î
 - 5;

6892 
	g¡d
::
¡rıy
(
¡r
 + 
Î
,"(...)");

6893 
	g¡d
::
memmove
(
¡r
 + 
Î
 + 5,¡¸+ 
ls
 - 
Ì
,lr);

6895 
	g¡r
[
Æ
] = 0;

6896  
	g¡r
;

6906 
šlše
 *
¡»Îsize
(cÚ¡ *cÚ¡ 
¡r
, *cÚ¡ 
»s
, cÚ¡ 
l
=64,

6907 cÚ¡ 
boŞ
 
is_’dšg
=
Œue
) {

6908 cÚ¡ 
Æ
 = 
l
<5?5:l, 
	gls
 = ()
¡d
::
¡¾’
(
¡r
);

6909 ià(
	gls
<=
Æ
è{ 
¡d
::
¡rıy
(
»s
,
¡r
);  
	g»s
; }

6910 ià(
	gis_’dšg
) {

6911 
	g¡d
::
¡ºıy
(
»s
,
¡r
,
Æ
 - 5);

6912 
	g¡d
::
¡rıy
(
»s
 + 
Æ
 -5,"(...)");

6914 cÚ¡ 
	gÎ
 = (
Æ
 - 5)/2 + 1 - (Æ%2), 
	gÌ
 =‚È- 
Î
 - 5;

6915 
	g¡d
::
¡ºıy
(
»s
,
¡r
,
Î
);

6916 
	g¡d
::
¡rıy
(
»s
 + 
Î
,"(...)");

6917 
	g¡d
::
¡ºıy
(
»s
 + 
Î
 + 5,
¡r
 + 
ls
 - 
Ì
,lr);

6919 
	g»s
[
Æ
] = 0;

6920  
	g»s
;

6932 
šlše
 
boŞ
 
¡½¬e
(*cÚ¡ 
¡r
, cÚ¡ 
d–im™”
,

6933 cÚ¡ 
boŞ
 
is_symm‘ric
, cÚ¡ boŞ 
is_™”©ive
) {

6934 ià(!
	g¡r
è 
	gçl£
;

6935 cÚ¡ 
	gl
 = ()
¡d
::
¡¾’
(
¡r
);

6936 
	gp
, 
	gq
;

6937 ià(
	gis_symm‘ric
è
	gp
 = 0, 
	gq
 = 
l
 - 1;…<q && 
	g¡r
[
p
]==
d–im™”
 && 
¡r
[
q
]==delimiter; ) {

6938 --
	gq
; ++
	gp
; ià(!
	gis_™”©ive
) ;

6940 
	gp
 = 0;…<
	gl
 && 
	g¡r
[
p
]==
d–im™”
; ) { ++p; ià(!
	gis_™”©ive
) ; }

6941 
	gq
 = 
l
 - 1; q>
	gp
 && 
	g¡r
[
q
]==
d–im™”
; ) { --q; ià(!
	gis_™”©ive
) ; }

6943 cÚ¡ 
	gn
 = 
q
 - 
p
 + 1;

6944 ià(
	gn
!=
l
è{ 
¡d
::
memmove
(
¡r
,¡¸+ 
p
,()
n
); 
	g¡r
[n] = 0;  
	gŒue
; }

6945  
	gçl£
;

6949 
šlše
 
boŞ
 
¡½¬e
(*cÚ¡ 
¡r
, cÚ¡ boŞ 
is_symm‘ric
, cÚ¡ boŞ 
is_™”©ive
) {

6950 ià(!
	g¡r
è 
	gçl£
;

6951 cÚ¡ 
	gl
 = ()
¡d
::
¡¾’
(
¡r
);

6952 
	gp
, 
	gq
;

6953 ià(
	gis_symm‘ric
è
	gp
 = 0, 
	gq
 = 
l
 - 1;…<q && 
is_bÏnk
(
¡r
[
p
]è&& is_bÏnk(¡r[
q
]); ) {

6954 --
	gq
; ++
	gp
; ià(!
	gis_™”©ive
) ;

6956 
	gp
 = 0;…<
	gl
 && 
is_bÏnk
(
¡r
[
p
]); ) { ++p; ià(!
	gis_™”©ive
) ; }

6957 
	gq
 = 
l
 - 1; q>
	gp
 && 
is_bÏnk
(
¡r
[
q
]); ) { --q; ià(!
	gis_™”©ive
) ; }

6959 cÚ¡ 
	gn
 = 
q
 - 
p
 + 1;

6960 ià(
	gn
!=
l
è{ 
¡d
::
memmove
(
¡r
,¡¸+ 
p
,()
n
); 
	g¡r
[n] = 0;  
	gŒue
; }

6961  
	gçl£
;

6969 
šlše
 
¡rwšdows_»£rved
(*cÚ¡ 
¡r
, cÚ¡ 
c
='_') {

6970 *
s
 = 
¡r
; *
	gs
; ++s) {

6971 cÚ¡ 
	gi
 = *
s
;

6972 ià(
	gi
=='<' || 
i
=='>' || i==':' || i=='\"' || i=='/' || i=='\\' || i=='|' || i=='?' || i=='*'è*
s
 = 
c
;

6980 
šlše
 
¡ruÃsÿ³
(*cÚ¡ 
¡r
) {

6981 
	#cimg_¡ruÃsÿ³
(
ci
,
co
èc˜: *
nd
 = co; ++
ns
; ;

	)

6983 
	gv®
 = 0;

6984 *
	gns
 = 
¡r
, *
	gnd
 = sŒ; *n || (
	gboŞ
)(*nd = 0); ++ndèià(*ns=='\\'è*(++
ns
)) {

6985 
cimg_¡ruÃsÿ³
('a','\a');

6986 
cimg_¡ruÃsÿ³
('b','\b');

6987 
cimg_¡ruÃsÿ³
('e',0x1B);

6988 
cimg_¡ruÃsÿ³
('f','\f');

6989 
cimg_¡ruÃsÿ³
('n','\n');

6990 
cimg_¡ruÃsÿ³
('r','\r');

6991 
cimg_¡ruÃsÿ³
('t','\t');

6992 
cimg_¡ruÃsÿ³
('v','\v');

6993 
cimg_¡ruÃsÿ³
('\\','\\');

6994 
cimg_¡ruÃsÿ³
('\'','\'');

6995 
cimg_¡ruÃsÿ³
('\"','\"');

6996 
cimg_¡ruÃsÿ³
('\?','\?');

6998 
v®
 = *(
ns
++) - '0';

6999 ià(*
	gns
>='0' && *
ns
<='7'è(
v®
<<=3)|=*(ns++) - '0';

7000 ià(*
	gns
>='0' && *
ns
<='7'è(
v®
<<=3)|=*(ns++) - '0';

7001 *
	gnd
 = ()
v®
;

7004 
c
 = 
low”ÿ£
(*(++
ns
));

7005 ià((
	gc
>='0' && 
c
<='9') || (c>='a' && c<='f')) {

7006 
v®
 = (
c
<='9'?c - '0':c - 'a' + 10);

7007 
	gc
 = 
low”ÿ£
(*(++
ns
));

7008 ià((
	gc
>='0' && 
c
<='9') || (c>='a' && c<='f')) {

7009 (
v®
<<=4)|=(
c
<='9'?c - '0':c - 'a' + 10);

7010 ++
	gns
;

7012 *
	gnd
 = 
v®
;

7013 } *
	gnd
 = 
c
;

7016 
c1
, 
	gc2
, 
	gc3
, 
	gc4
;

7017 ià((((
	gc1
 = 
low”ÿ£
(
ns
[1]))>='0' && 
c1
<='9') || (c1>='a' && c1<='f')) &&

7018 (((
c2
 = 
low”ÿ£
(
ns
[2]))>='0' && c2<='9') || (c2>='a' && c2<='f')) &&

7019 (((
c3
 = 
low”ÿ£
(
ns
[3]))>='0' && c3<='9') || (c3>='a' && c3<='f')) &&

7020 (((
c4
 = 
low”ÿ£
(
ns
[4]))>='0' && c4<='9') || (c4>='a' && c4<='f'))) {

7021 
c1
 = (c1<='9'?c1 - '0':c1 - 'a' + 10);

7022 
	gc2
 = (
c2
<='9'?c2 - '0':c2 - 'a' + 10);

7023 
	gc3
 = (
c3
<='9'?c3 - '0':c3 - 'a' + 10);

7024 
	gc4
 = (
c4
<='9'?c4 - '0':c4 - 'a' + 10);

7025 cÚ¡ 
	giv®
 =

7026 (()
c1
<<12è| (()
c2
<<8è| (()
c3
<<4è| 
c4
;

7027 ià(
	giv®
<=0x007fè*
nd
 = ()
iv®
;

7028 ià(
	giv®
<=0x07ff) {

7029 *(
nd
++èğ()((
iv®
>>6)|0xc0);

7030 *
	gnd
 = ()((
iv®
&0x3f)|0x80);

7032 *(
	gnd
++èğ()((
iv®
>>12)|0xe0);

7033 *(
	gnd
++èğ()(((
iv®
>>6)&0x3f)|0x80);

7034 *
	gnd
 = ()((
iv®
&0x3f)|0x80);

7036 
	gns
+=5;

7037 } *
	gnd
 = *(
ns
++);

7040 
c1
, 
	gc2
, 
	gc3
, 
	gc4
, 
	gc5
, 
	gc6
, 
	gc7
, 
	gc8
;

7041 ià((((
	gc1
 = 
low”ÿ£
(
ns
[1]))>='0' && 
c1
<='9') || (c1>='a' && c1<='f')) &&

7042 (((
c2
 = 
low”ÿ£
(
ns
[2]))>='0' && c2<='9') || (c2>='a' && c2<='f')) &&

7043 (((
c3
 = 
low”ÿ£
(
ns
[3]))>='0' && c3<='9') || (c3>='a' && c3<='f')) &&

7044 (((
c4
 = 
low”ÿ£
(
ns
[4]))>='0' && c4<='9') || (c4>='a' && c4<='f')) &&

7045 (((
c5
 = 
low”ÿ£
(
ns
[5]))>='0' && c5<='9') || (c5>='a' && c5<='f')) &&

7046 (((
c6
 = 
low”ÿ£
(
ns
[6]))>='0' && c6<='9') || (c6>='a' && c6<='f')) &&

7047 (((
c7
 = 
low”ÿ£
(
ns
[7]))>='0' && c7<='9') || (c7>='a' && c7<='f')) &&

7048 (((
c8
 = 
low”ÿ£
(
ns
[8]))>='0' && c8<='9') || (c8>='a' && c8<='f'))) {

7049 
c1
 = (c1<='9'?c1 - '0':c1 - 'a' + 10);

7050 
	gc2
 = (
c2
<='9'?c2 - '0':c2 - 'a' + 10);

7051 
	gc3
 = (
c3
<='9'?c3 - '0':c3 - 'a' + 10);

7052 
	gc4
 = (
c4
<='9'?c4 - '0':c4 - 'a' + 10);

7053 
	gc5
 = (
c5
<='9'?c5 - '0':c5 - 'a' + 10);

7054 
	gc6
 = (
c6
<='9'?c6 - '0':c6 - 'a' + 10);

7055 
	gc7
 = (
c7
<='9'?c7 - '0':c7 - 'a' + 10);

7056 
	gc8
 = (
c8
<='9'?c8 - '0':c8 - 'a' + 10);

7057 cÚ¡ 
	giv®
 =

7058 (()
c1
<<28è| (()
c2
<<24è| (()
c3
<<20è| (()
c4
<<16) |

7059 (()
c5
<<12è| (()
c6
<<8è| (()
c7
<<4è| ()
c8
;

7060 ià(
	giv®
<=0x007fè*
nd
 = ()
iv®
;

7061 ià(
	giv®
<=0x07ff) {

7062 *(
nd
++èğ()((
iv®
>>6)|0xc0);

7063 *
	gnd
 = ()((
iv®
&0x3f)|0x80);

7064 } ià(
	giv®
<=0xffff) {

7065 *(
nd
++èğ()((
iv®
>>12)|0xe0);

7066 *(
	gnd
++èğ()(((
iv®
>>6)&0x3f)|0x80);

7067 *
	gnd
 = ()((
iv®
&0x3f)|0x80);

7069 *(
	gnd
++èğ()((
iv®
>>18)|0xf0);

7070 *(
	gnd
++èğ()(((
iv®
>>12)&0x3f)|0x80);

7071 *(
	gnd
++èğ()(((
iv®
>>6)&0x3f)|0x80);

7072 *
	gnd
 = ()((
iv®
&0x3f)|0x80);

7074 
	gns
+=9;

7075 } *
	gnd
 = *(
ns
++);

7077  : ià(*
ns
è*
nd
 = *(ns++);

7079 *
	gnd
 = *(
ns
++);

7083 
šlše
 cÚ¡ *
¡rbufãrsize
(cÚ¡ 
cimg_ulÚg
 
size
);

7086 
šlše
 cÚ¡ *
¡ros
() {

7087 #ià
defšed
(
lšux
è|| defšed(
__lšux
è|| defšed(
__lšux__
)

7088 cÚ¡ *cÚ¡ 
	g¡r
 = "Linux";

7089 #–ià
defšed
(
sun
è|| defšed(
__sun
)

7090 cÚ¡ *cÚ¡ 
	g¡r
 = "Sun OS";

7091 #–ià
defšed
(
BSD
è|| defšed(
__O³nBSD__
è|| defšed(
__N‘BSD__
è|| defšed(
__F»eBSD__
è|| defšed (
__D¿gÚFly__
)

7092 cÚ¡ *cÚ¡ 
	g¡r
 = "BSD";

7093 #–ià
defšed
(
sgi
è|| defšed(
__sgi
)

7094 cÚ¡ *cÚ¡ 
	g¡r
 = "Irix";

7095 #–ià
defšed
(
__MACOSX__
è|| defšed(
__APPLE__
)

7096 cÚ¡ *cÚ¡ 
	g¡r
 = "Mac OS";

7097 #–ià
defšed
(
unix
è|| defšed(
__unix
è|| defšed(
__unix__
)

7098 cÚ¡ *cÚ¡ 
	g¡r
 = "Generic Unix";

7099 #–ià
defšed
(
_MSC_VER
è|| defšed(
WIN32
è|| defšed(
_WIN32
è|| defšed(
__WIN32__
) || \

7100 
defšed
(
WIN64
è|| defšed(
_WIN64
è|| defšed(
__WIN64__
)

7101 cÚ¡ *cÚ¡ 
	g¡r
 = "Windows";

7104 *cÚ¡ 
	g_¡r1
 = 
¡d
::
g‘’v
("OSTYPE"),

7105 *cÚ¡ 
	g_¡r2
 = 
_¡r1
?_¡r1:
¡d
::
g‘’v
("OS"),

7106 *cÚ¡ 
	g¡r
 = 
_¡r2
?_str2:"Unknown OS";

7108  
	g¡r
;

7112 
šlše
 cÚ¡ * 
ba£Çme
(cÚ¡ *cÚ¡ 
s
, cÚ¡ 
£·¿tÜ
=
cimg_fe_£·¿tÜ
) {

7113 cÚ¡ *
p
 = 0, *
	gÅ
 = 
s
;

7114 
	gÅ
>=
s
 && (
p
=
Å
)èÅ = 
¡d
::
¡rchr
Òp,
£·¿tÜ
) + 1;

7115  
	gp
;

7119 
šlše
 cÚ¡ * 
f’am”ªd
() {

7120 
	gcimg
::
mu‹x
(6);

7121 
	g¿ndomid
[9];

7122 
	gk
 = 0; k<8; ++k) {

7123 cÚ¡ 
	gv
 = ()
cimg
::
¿nd
(65535)%3;

7124 
	g¿ndomid
[
k
] = ()(
v
==0?('0' + (()
cimg
::
¿nd
(65535)%10)):

7125 (
v
==1?('a' + (()
cimg
::
¿nd
(65535)%26)):

7126 ('A' + (()
cimg
::
¿nd
(65535)%26))));

7128 
	gcimg
::
mu‹x
(6,0);

7129  
	g¿ndomid
;

7133 
šlše
 
wšfÜm©_¡ršg
(*cÚ¡ 
¡r
) {

7134 ià(
	g¡r
 && *str) {

7135 #ià
cimg_OS
==2

7136 *cÚ¡ 
	gn¡r
 = 
Ãw
 [
MAX_PATH
];

7137 ià(
G‘ShÜtP©hNameA
(
¡r
,
n¡r
,
MAX_PATH
)è
	g¡d
::
¡rıy
(str,nstr);

7138 
	gd–‘e
[] 
	gn¡r
;

7144 
šlše
 
	g¡d
::
FILE
 *
¡d_fİ’
(cÚ¡ *cÚ¡ 
·th
, cÚ¡ *cÚ¡ 
mode
);

7155 
šlše
 
	g¡d
::
FILE
 *
fİ’
(cÚ¡ *cÚ¡ 
·th
, cÚ¡ *cÚ¡ 
mode
) {

7156 ià(!
	g·th
)

7157 
throw
 
CImgArgum’tExû±iÚ
("cimg::fopen(): Specified file…ath is (null).");

7158 ià(!
	gmode
)

7159 
throw
 
CImgArgum’tExû±iÚ
("cimg::fopen(): File '%s', specified mode is (null).",

7160 
·th
);

7161 
	g¡d
::
FILE
 *
»s
 = 0;

7162 ià(*
	g·th
=='-' && (!
·th
[1] ||…ath[1]=='.')) {

7163 
»s
 = (*
mode
=='r')?
cimg
::
_¡dš
():cimg::
_¡dout
();

7164 #ià
cimg_OS
==2

7165 ià(*
	gmode
 && mode[1]=='b') {

7166 #ifdeà
__BORLANDC__


7167 ià(
£tmode
(
_f’o
(
»s
),0x8000)==-1)„es = 0;

7169 ià(
_£tmode
(
_f’o
(
»s
),0x8000)==-1)„es = 0;

7173 } 
	g»s
 = 
cimg
::
¡d_fİ’
(
·th
,
mode
);

7174 ià(!
	g»s
è
throw
 
CImgIOExû±iÚ
("cimg::fopen(): Failedo open file '%s' with mode '%s'.",

7175 
·th
,
mode
);

7176  
	g»s
;

7186 
šlše
 
fşo£
(
¡d
::
FILE
 *
fe
) {

7187 ià(!
fe
è{ 
w¬n
("cimg::fclose(): Specified file is (null).");  0; }

7188 ià(
	gfe
==
cimg
::
_¡dš
(
çl£
è|| 
fe
==cimg::
_¡dout
(false))  0;

7189 cÚ¡ 
	g”º
 = 
¡d
::
fşo£
(
fe
);

7190 ià(
	g”º
!=0è
w¬n
("cimg::fclose(): Error code %d„eturned during file closing.",

7191 
”º
);

7192  
	g”º
;

7196 
šlše
 
f£ek
(
FILE
 *
¡»am
, 
cimg_lÚg
 
off£t
, 
Üigš
) {

7197 #ià
defšed
(
WIN64
è|| defšed(
_WIN64
è|| defšed(
__WIN64__
)

7198  
_f£eki64
(
¡»am
,(
__št64
)
off£t
,
Üigš
);

7200  
	g¡d
::
f£ek
(
¡»am
,
off£t
,
Üigš
);

7205 
šlše
 
cimg_lÚg
 
á–l
(
FILE
 *
¡»am
) {

7206 #ià
defšed
(
WIN64
è|| defšed(
_WIN64
è|| defšed(
__WIN64__
)

7207  (
	gcimg_lÚg
)
_á–li64
(
¡»am
);

7209  (
	gcimg_lÚg
)
	g¡d
::
á–l
(
¡»am
);

7214 #ià
cimg_OS
==2

7215 
šlše
 
DWORD
 
wš_g‘f—‰ribu‹s
(cÚ¡ *cÚ¡ 
·th
);

7222 
šlše
 
boŞ
 
is_dœeùÜy
(cÚ¡ *cÚ¡ 
·th
) {

7223 ià(!
	g·th
 || !*·thè 
	gçl£
;

7224 #ià
cimg_OS
==1

7225 
¡©
 
	g¡_buf
;

7226  (!
¡©
(
·th
,&
¡_buf
è&& 
S_ISDIR
(¡_buf.
¡_mode
));

7227 #–ià
cimg_OS
==2

7228 cÚ¡ 
DWORD
 
	g»s
 = 
wš_g‘f—‰ribu‹s
(
·th
);

7229  
	g»s
!=
INVALID_FILE_ATTRIBUTES
 && (
»s
&
FILE_ATTRIBUTE_DIRECTORY
);

7231  
	gçl£
;

7239 
šlše
 
boŞ
 
is_fe
(cÚ¡ *cÚ¡ 
·th
) {

7240 ià(!
	g·th
 || !*·thè 
	gçl£
;

7241 #ià
cimg_OS
==2

7242 cÚ¡ 
DWORD
 
	g»s
 = 
cimg
::
wš_g‘f—‰ribu‹s
(
·th
);

7243  
	g»s
!=
INVALID_FILE_ATTRIBUTES
 && !(
»s
&
FILE_ATTRIBUTE_DIRECTORY
);

7245 
	g¡d
::
FILE
 *cÚ¡ 
fe
 = 
cimg
::
¡d_fİ’
(
·th
,"rb");

7246 ià(!
	gfe
è 
	gçl£
;

7247 
	gcimg
::
fşo£
(
fe
);

7248  !
is_dœeùÜy
(
·th
);

7257 
šlše
 
cimg_št64
 
fsize
(cÚ¡ *cÚ¡ 
f’ame
) {

7258 
	g¡d
::
FILE
 *cÚ¡ 
fe
 = 
cimg
::
¡d_fİ’
(
f’ame
,"rb");

7259 ià(!
	gfe
è (
	gcimg_št64
)-1;

7260 
	g¡d
::
f£ek
(
fe
,0,
SEEK_END
);

7261 cÚ¡ 
cimg_št64
 
	gsiz
 = (cimg_št64)
¡d
::
á–l
(
fe
);

7262 
	gcimg
::
fşo£
(
fe
);

7263  
	gsiz
;

7275 
	g‹m¶©e
<
ty³Çme
 
	gT
>

7276 
šlše
 
fd©e
(cÚ¡ *cÚ¡ 
·th
, 
T
 *
©Œ
, cÚ¡ 
nb_©Œ
) {

7277 
	#_cimg_fd©e_”r
(è
i
 = 0; i<
nb_©Œ
; ++iè
©Œ
[i] = (
T
)-1

	)

7278 
	g»s
 = -1;

7279 ià(!
	g·th
 || !*·thè{ 
_cimg_fd©e_”r
();  -1; }

7280 
	gcimg
::
mu‹x
(6);

7281 #ià
cimg_OS
==2

7282 
HANDLE
 
	gfe
 = 
C»©eFeA
(
·th
,
GENERIC_READ
,0,0,
OPEN_EXISTING
,
FILE_ATTRIBUTE_NORMAL
,0);

7283 ià(
	gfe
!=
INVALID_HANDLE_VALUE
) {

7284 
FILETIME
 
_á
;

7285 
SYSTEMTIME
 
	gá
;

7286 ià(
G‘FeTime
(
fe
,0,0,&
_á
è&& 
FeTimeToSy¡emTime
(&_á,&
á
)) {

7287 
	gi
 = 0; i<
	gnb_©Œ
; ++i) {

7288 
	g»s
 = ()(
©Œ
[
i
]==0?
á
.
wY—r
:©Œ[i]==1?á.
wMÚth
:©Œ[i]==2?á.
wDay
:

7289 
©Œ
[
i
]==3?
á
.
wDayOfW“k
:©Œ[i]==4?á.
wHour
:©Œ[i]==5?á.
wMšu‹
:

7290 
©Œ
[
i
]==6?
á
.
wSecÚd
:-1);

7291 
	g©Œ
[
i
] = (
T
)
»s
;

7293 } 
_cimg_fd©e_”r
();

7294 
Clo£HªdË
(
fe
);

7295 } 
_cimg_fd©e_”r
();

7296 #–ià
cimg_OS
==1

7297 
¡©
 
	g¡_buf
;

7298 ià(!
¡©
(
·th
,&
¡_buf
)) {

7299 cÚ¡ 
time_t
 
	g_á
 = 
¡_buf
.
¡_mtime
;

7300 cÚ¡ 
	gtm
& 
	gá
 = *
¡d
::
loÿÉime
(&
_á
);

7301 
	gi
 = 0; i<
	gnb_©Œ
; ++i) {

7302 
	g»s
 = ()(
©Œ
[
i
]==0?
á
.
tm_y—r
 + 1900:©Œ[i]==1?á.
tm_mÚ
 + 1:©Œ[i]==2?á.
tm_mday
:

7303 
©Œ
[
i
]==3?
á
.
tm_wday
:©Œ[i]==4?á.
tm_hour
:©Œ[i]==5?á.
tm_mš
:

7304 
©Œ
[
i
]==6?
á
.
tm_£c
:-1);

7305 
	g©Œ
[
i
] = (
T
)
»s
;

7307 } 
_cimg_fd©e_”r
();

7309 
	gcimg
::
mu‹x
(6,0);

7310  
	g»s
;

7320 
šlše
 
fd©e
(cÚ¡ *cÚ¡ 
·th
, 
©Œ
) {

7321 
	gout
 = ()
©Œ
;

7322  
fd©e
(
·th
,&
out
,1);

7334 
	g‹m¶©e
<
ty³Çme
 
	gT
>

7335 
šlše
 
d©e
(
T
 *
©Œ
, cÚ¡ 
nb_©Œ
) {

7336 
	g»s
 = -1;

7337 
	gcimg
::
mu‹x
(6);

7338 #ià
cimg_OS
==2

7339 
SYSTEMTIME
 
	g¡
;

7340 
G‘LoÿlTime
(&
¡
);

7341 
	gi
 = 0; i<
	gnb_©Œ
; ++i) {

7342 
	g»s
 = ()(
©Œ
[
i
]==0?
¡
.
wY—r
:

7343 
©Œ
[
i
]==1?
¡
.
wMÚth
:

7344 
©Œ
[
i
]==2?
¡
.
wDay
:

7345 
©Œ
[
i
]==3?
¡
.
wDayOfW“k
:

7346 
©Œ
[
i
]==4?
¡
.
wHour
:

7347 
©Œ
[
i
]==5?
¡
.
wMšu‹
:

7348 
©Œ
[
i
]==6?
¡
.
wSecÚd
:

7349 
©Œ
[
i
]==7?
¡
.
wMli£cÚds
:-1);

7350 
	g©Œ
[
i
] = (
T
)
»s
;

7353 
timev®
 
	g_¡
;

7354 
g‘timeofday
(&
_¡
,0);

7355 
tm
 *
	g¡
 = 
¡d
::
loÿÉime
(&
_¡
.
tv_£c
);

7356 
	gi
 = 0; i<
	gnb_©Œ
; ++i) {

7357 
	g»s
 = ()(
©Œ
[
i
]==0?
¡
->
tm_y—r
 + 1900:

7358 
©Œ
[
i
]==1?
¡
->
tm_mÚ
 + 1:

7359 
©Œ
[
i
]==2?
¡
->
tm_mday
:

7360 
©Œ
[
i
]==3?
¡
->
tm_wday
:

7361 
©Œ
[
i
]==4?
¡
->
tm_hour
:

7362 
©Œ
[
i
]==5?
¡
->
tm_mš
:

7363 
©Œ
[
i
]==6?
¡
->
tm_£c
:

7364 
©Œ
[
i
]==7?
_¡
.
tv_u£c
/1000:-1);

7365 
	g©Œ
[
i
] = (
T
)
»s
;

7368 
	gcimg
::
mu‹x
(6,0);

7369  
	g»s
;

7379 
šlše
 
d©e
(
©Œ
) {

7380 
	gout
 = ()
©Œ
;

7381  
d©e
(&
out
,1);

7385 
šlše
 cÚ¡ * 
‹mpÜ¬y_·th
(cÚ¡ *cÚ¡ 
u£r_·th
=0, cÚ¡ 
boŞ
 
»š™_·th
=
çl£
);

7388 #ià
cimg_OS
==2

7389 
šlše
 cÚ¡ * 
´og¿mfes_·th
(cÚ¡ *cÚ¡ 
u£r_·th
=0, cÚ¡ 
boŞ
 
»š™_·th
=
çl£
);

7393 
šlše
 cÚ¡ * 
imagemagick_·th
(cÚ¡ *cÚ¡ 
u£r_·th
=0, cÚ¡ 
boŞ
 
»š™_·th
=
çl£
);

7396 
šlše
 cÚ¡ * 
g¿phicsmagick_·th
(cÚ¡ *cÚ¡ 
u£r_·th
=0, cÚ¡ 
boŞ
 
»š™_·th
=
çl£
);

7399 
šlše
 cÚ¡ * 
medcÚ_·th
(cÚ¡ *cÚ¡ 
u£r_·th
=0, cÚ¡ 
boŞ
 
»š™_·th
=
çl£
);

7402 
šlše
 cÚ¡ *
ffm³g_·th
(cÚ¡ *cÚ¡ 
u£r_·th
=0, cÚ¡ 
boŞ
 
»š™_·th
=
çl£
);

7405 
šlše
 cÚ¡ *
gz_·th
(cÚ¡ *cÚ¡ 
u£r_·th
=0, cÚ¡ 
boŞ
 
»š™_·th
=
çl£
);

7408 
šlše
 cÚ¡ *
gunz_·th
(cÚ¡ *cÚ¡ 
u£r_·th
=0, cÚ¡ 
boŞ
 
»š™_·th
=
çl£
);

7411 
šlše
 cÚ¡ *
düaw_·th
(cÚ¡ *cÚ¡ 
u£r_·th
=0, cÚ¡ 
boŞ
 
»š™_·th
=
çl£
);

7414 
šlše
 cÚ¡ *
wg‘_·th
(cÚ¡ *cÚ¡ 
u£r_·th
=0, cÚ¡ 
boŞ
 
»š™_·th
=
çl£
);

7417 
šlše
 cÚ¡ *
cu¾_·th
(cÚ¡ *cÚ¡ 
u£r_·th
=0, cÚ¡ 
boŞ
 
»š™_·th
=
çl£
);

7423 
šlše
 cÚ¡ *
¥l™_f’ame
(cÚ¡ *cÚ¡ 
f’ame
, *cÚ¡ 
body
=0) {

7424 ià(!
f’ame
è{ ià(
body
) *body = 0;  ""; }

7425 cÚ¡ * 
	gp
 = 
¡d
::
¡¼chr
(
f’ame
,'.');

7426 ià(!
	gp
 || 
	g¡d
::
¡rchr
(
p
,'/') || std::strchr(p,'\\')) {

7427 ià(
	gbody
è
	g¡d
::
¡rıy
(
body
,
f’ame
);

7428  
	gf’ame
 + 
	g¡d
::
¡¾’
(
f’ame
);

7430 cÚ¡ 
	gl
 = ()(
p
 - 
f’ame
);

7431 ià(
	gbody
è{ ià(
	gl
è
	g¡d
::
memıy
(
body
,
f’ame
,
l
); body[l] = 0; }

7432  
	gp
 + 1;

7436 
šlše
 * 
numb”_f’ame
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
numb”
,

7437 cÚ¡ 
dig™s
, *cÚ¡ 
¡r
);

7447 
	g‹m¶©e
<
ty³Çme
 
	gT
>

7448 
šlše
 
size_t
 
ä—d
(
T
 *cÚ¡ 
±r
, cÚ¡ size_ˆ
nmemb
, 
¡d
::
FILE
 *
¡»am
) {

7449 ià(!
±r
 || !
¡»am
)

7450 
throw
 
CImgArgum’tExû±iÚ
("cimg::fread(): Invalid„eading„equest of %u %s%s from file %po buffer %p.",

7451 
nmemb
,
cimg
::
ty³
<
T
>::
¡ršg
(),nmemb>1?"s":"",
¡»am
,
±r
);

7452 ià(!
	gnmemb
)  0;

7453 cÚ¡ 
size_t
 
	gwlim™T
 = 63*1024*1024, 
	gwlim™
 = 
wlim™T
/(
T
);

7454 
size_t
 
	gto_»ad
 = 
nmemb
, 
	g®_»ad
 = 0, 
	gl_to_»ad
 = 0, 
	gl_®_»ad
 = 0;

7456 
	gl_to_»ad
 = (
to_»ad
*(
T
))<
wlim™T
?to_»ad:
wlim™
;

7457 
	gl_®_»ad
 = 
¡d
::
ä—d
((*)(
±r
 + 
®_»ad
),(
T
),
l_to_»ad
,
¡»am
);

7458 
	g®_»ad
+=
l_®_»ad
;

7459 
	gto_»ad
-=
l_®_»ad
;

7460 } 
	gl_to_»ad
==
l_®_»ad
 && 
to_»ad
>0);

7461 ià(
	gto_»ad
>0)

7462 
w¬n
("cimg::fread(): Only %lu/%luƒlements could be„ead from file.",

7463 ()
®_»ad
,()
nmemb
);

7464  
	g®_»ad
;

7475 
	g‹m¶©e
<
ty³Çme
 
	gT
>

7476 
šlše
 
size_t
 
fwr™e
(cÚ¡ 
T
 *
±r
, cÚ¡ size_ˆ
nmemb
, 
¡d
::
FILE
 *
¡»am
) {

7477 ià(!
±r
 || !
¡»am
)

7478 
throw
 
CImgArgum’tExû±iÚ
("cimg::fwrite(): Invalid writing„equest of %u %s%s from buffer %po file %p.",

7479 
nmemb
,
cimg
::
ty³
<
T
>::
¡ršg
(),nmemb>1?"s":"",
±r
,
¡»am
);

7480 ià(!
	gnmemb
)  0;

7481 cÚ¡ 
size_t
 
	gwlim™T
 = 63*1024*1024, 
	gwlim™
 = 
wlim™T
/(
T
);

7482 
size_t
 
	gto_wr™e
 = 
nmemb
, 
	g®_wr™e
 = 0, 
	gl_to_wr™e
 = 0, 
	gl_®_wr™e
 = 0;

7484 
	gl_to_wr™e
 = (
to_wr™e
*(
T
))<
wlim™T
?to_wr™e:
wlim™
;

7485 
	gl_®_wr™e
 = 
¡d
::
fwr™e
((*)(
±r
 + 
®_wr™e
),(
T
),
l_to_wr™e
,
¡»am
);

7486 
	g®_wr™e
+=
l_®_wr™e
;

7487 
	gto_wr™e
-=
l_®_wr™e
;

7488 } 
	gl_to_wr™e
==
l_®_wr™e
 && 
to_wr™e
>0);

7489 ià(
	gto_wr™e
>0)

7490 
w¬n
("cimg::fwrite(): Only %lu/%luƒlements could be written in file.",

7491 ()
®_wr™e
,()
nmemb
);

7492  
	g®_wr™e
;

7500 
šlše
 
ãm±y
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
) {

7501 ià(!
	gfe
 && !
	gf’ame
)

7502 
throw
 
CImgArgum’tExû±iÚ
("cimg::fempty(): Specified filename is (null).");

7503 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"wb");

7504 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

7508 
šlše
 cÚ¡ *
áy³
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
);

7511 
šlše
 
	gboŞ
& 
ÃtwÜk_mode
(cÚ¡ 
boŞ
 
v®ue
, cÚ¡ boŞ 
is_£t
) {

7512 
boŞ
 
	gmode
 = 
Œue
;

7513 ià(
	gis_£t
è{ 
	gcimg
::
mu‹x
(0); 
	gmode
 = 
v®ue
; cimg::mutex(0,0); }

7514  
	gmode
;

7517 
šlše
 
	gboŞ
& 
ÃtwÜk_mode
() {

7518  
ÃtwÜk_mode
(
çl£
,false);

7522 
šlše
 *
lßd_ÃtwÜk
(cÚ¡ *cÚ¡ 
u¾
, *cÚ¡ 
f’ame_loÿl
,

7523 cÚ¡ 
timeout
=0, cÚ¡ 
boŞ
 
Œy_çÎback
=
çl£
,

7524 cÚ¡ *cÚ¡ 
»ã»r
=0);

7527 
šlše
 cÚ¡ * 
İtiÚ
(cÚ¡ *cÚ¡ 
Çme
, cÚ¡ 
¬gc
, cÚ¡ *cÚ¡ *cÚ¡ 
¬gv
,

7528 cÚ¡ *cÚ¡ 
_deçuÉ
, cÚ¡ *cÚ¡ 
u§ge
, cÚ¡ 
boŞ
 
»£t_¡©ic
) {

7529 
boŞ
 
	gfœ¡
 = 
Œue
, 
	gvisu
 = 
çl£
;

7530 ià(
	g»£t_¡©ic
è{ 
	gfœ¡
 = 
Œue
;  0; }

7531 cÚ¡ *
	g»s
 = 0;

7532 ià(
	gfœ¡
) {

7533 
	gfœ¡
 = 
çl£
;

7534 
	gvisu
 = 
cimg
::
İtiÚ
("-h",
¬gc
,
¬gv
,(*)0,(*)0,
çl£
)!=0;

7535 
	gvisu
 |ğ
cimg
::
İtiÚ
("-h–p",
¬gc
,
¬gv
,(*)0,(*)0,
çl£
)!=0;

7536 
	gvisu
 |ğ
cimg
::
İtiÚ
("--h–p",
¬gc
,
¬gv
,(*)0,(*)0,
çl£
)!=0;

7538 ià(!
	gÇme
 && 
	gvisu
) {

7539 ià(
	gu§ge
) {

7540 
	g¡d
::
årštf
(
cimg
::
ouut
(),"\À%s%s%s",cimg::
t_»d
,cimg::
ba£Çme
(
¬gv
[0]),cimg::
t_nÜm®
);

7541 
	g¡d
::
årštf
(
cimg
::
ouut
(),": %s",
u§ge
);

7542 
	g¡d
::
årštf
(
cimg
::
ouut
()," (%s, %s)\n\n",
cimg_d©e
,
cimg_time
);

7544 ià(
	g_deçuÉ
è
	g¡d
::
årštf
(
cimg
::
ouut
(),"%s\n",
_deçuÉ
);

7546 ià(
	gÇme
) {

7547 ià(
	g¬gc
>0) {

7548 
	gk
 = 0;

7549 
	gk
<
	g¬gc
 && 
	g¡d
::
¡rcmp
(
¬gv
[
k
],
Çme
)) ++k;

7550 
	g»s
 = (
k
++==
¬gc
?
_deçuÉ
:(k=÷rgc?
¬gv
[--k]:argv[k]));

7551 } 
	g»s
 = 
_deçuÉ
;

7552 ià(
	gvisu
 && 
	gu§ge
è
	g¡d
::
årštf
(
cimg
::
ouut
()," %s%-16s%s %-24s %s%s%s\n",

7553 
cimg
::
t_bŞd
,
Çme
,cimg::
t_nÜm®
,
»s
?res:"0",

7554 
cimg
::
t_g»’
,
u§ge
,cimg::
t_nÜm®
);

7556  
	g»s
;

7559 
šlše
 cÚ¡ * 
İtiÚ
(cÚ¡ *cÚ¡ 
Çme
, cÚ¡ 
¬gc
, cÚ¡ *cÚ¡ *cÚ¡ 
¬gv
,

7560 cÚ¡ *cÚ¡ 
_deçuÉ
, cÚ¡ *cÚ¡ 
u§ge
=0) {

7561  
İtiÚ
(
Çme
,
¬gc
,
¬gv
,
_deçuÉ
,
u§ge
,
çl£
);

7564 
šlše
 
boŞ
 
İtiÚ
(cÚ¡ *cÚ¡ 
Çme
, cÚ¡ 
¬gc
, cÚ¡ *cÚ¡ *cÚ¡ 
¬gv
,

7565 cÚ¡ 
boŞ
 
_deçuÉ
, cÚ¡ *cÚ¡ 
u§ge
=0) {

7566 cÚ¡ *cÚ¡ 
s
 = 
cimg
::
İtiÚ
(
Çme
,
¬gc
,
¬gv
,(*)0);

7567 cÚ¡ 
boŞ
 
	g»s
 = 
s
?(
cimg
::
¡rÿ£cmp
(s,"çl£"è&& 
	gcimg
::¡rÿ£cmp(s,"off"è&& cimg::¡rÿ£cmp(s,"0")):
_deçuÉ
;

7568 
	gcimg
::
İtiÚ
(
Çme
,0,0,
»s
?"Œue":"çl£",
u§ge
);

7569  
	g»s
;

7572 
šlše
 
İtiÚ
(cÚ¡ *cÚ¡ 
Çme
, cÚ¡ 
¬gc
, cÚ¡ *cÚ¡ *cÚ¡ 
¬gv
,

7573 cÚ¡ 
_deçuÉ
, cÚ¡ *cÚ¡ 
u§ge
=0) {

7574 cÚ¡ *cÚ¡ 
s
 = 
cimg
::
İtiÚ
(
Çme
,
¬gc
,
¬gv
,(*)0);

7575 cÚ¡ 
	g»s
 = 
s
?
¡d
::
©oi
(s):
_deçuÉ
;

7576 *cÚ¡ 
	gtmp
 = 
Ãw
 [256];

7577 
cimg_¢´štf
(
tmp
,256,"%d",
»s
);

7578 
	gcimg
::
İtiÚ
(
Çme
,0,0,
tmp
,
u§ge
);

7579 
	gd–‘e
[] 
	gtmp
;

7580  
	g»s
;

7583 
šlše
 
İtiÚ
(cÚ¡ *cÚ¡ 
Çme
, cÚ¡ 
¬gc
, cÚ¡ *cÚ¡ *cÚ¡ 
¬gv
,

7584 cÚ¡ 
_deçuÉ
, cÚ¡ *cÚ¡ 
u§ge
=0) {

7585 cÚ¡ *cÚ¡ 
s
 = 
cimg
::
İtiÚ
(
Çme
,
¬gc
,
¬gv
,(*)0);

7586 cÚ¡ 
	g»s
 = 
s
?*s:
_deçuÉ
;

7587 
	gtmp
[8];

7588 *
	gtmp
 = 
»s
;mp[1] = 0;

7589 
	gcimg
::
İtiÚ
(
Çme
,0,0,
tmp
,
u§ge
);

7590  
	g»s
;

7593 
šlše
 
İtiÚ
(cÚ¡ *cÚ¡ 
Çme
, cÚ¡ 
¬gc
, cÚ¡ *cÚ¡ *cÚ¡ 
¬gv
,

7594 cÚ¡ 
_deçuÉ
, cÚ¡ *cÚ¡ 
u§ge
=0) {

7595 cÚ¡ *cÚ¡ 
s
 = 
cimg
::
İtiÚ
(
Çme
,
¬gc
,
¬gv
,(*)0);

7596 cÚ¡ 
	g»s
 = 
s
?()
cimg
::
©of
(s):
_deçuÉ
;

7597 *cÚ¡ 
	gtmp
 = 
Ãw
 [256];

7598 
cimg_¢´štf
(
tmp
,256,"%g",
»s
);

7599 
	gcimg
::
İtiÚ
(
Çme
,0,0,
tmp
,
u§ge
);

7600 
	gd–‘e
[] 
	gtmp
;

7601  
	g»s
;

7604 
šlše
 
İtiÚ
(cÚ¡ *cÚ¡ 
Çme
, cÚ¡ 
¬gc
, cÚ¡ *cÚ¡ *cÚ¡ 
¬gv
,

7605 cÚ¡ 
_deçuÉ
, cÚ¡ *cÚ¡ 
u§ge
=0) {

7606 cÚ¡ *cÚ¡ 
s
 = 
cimg
::
İtiÚ
(
Çme
,
¬gc
,
¬gv
,(*)0);

7607 cÚ¡ 
	g»s
 = 
s
?
cimg
::
©of
(s):
_deçuÉ
;

7608 *cÚ¡ 
	gtmp
 = 
Ãw
 [256];

7609 
cimg_¢´štf
(
tmp
,256,"%g",
»s
);

7610 
	gcimg
::
İtiÚ
(
Çme
,0,0,
tmp
,
u§ge
);

7611 
	gd–‘e
[] 
	gtmp
;

7612  
	g»s
;

7619 
šlše
 
šfo
() {

7620 
	g¡d
::
årštf
(
cimg
::
ouut
(),"\n %s%sCImg Library %u.%u.%u%s, compiled %s ( %s ) withhe following flags:\n\n",

7621 
cimg
::
t_»d
,cimg::
t_bŞd
,
cimg_v”siÚ
/100,(cimg_version/10)%10,cimg_version%10,

7622 
cimg
::
t_nÜm®
,
cimg_d©e
,
cimg_time
);

7624 
	g¡d
::
årštf
(
cimg
::
ouut
()," > Operating System: %s%-13s%s %s('cimg_OS'=%d)%s\n",

7625 
cimg
::
t_bŞd
,

7626 
cimg_OS
==1?"Unix":(cimg_OS==2?"Windows":"Unknown"),

7627 
cimg
::
t_nÜm®
,cimg::
t_g»’
,

7628 
cimg_OS
,

7629 
cimg
::
t_nÜm®
);

7631 
	g¡d
::
årštf
(
cimg
::
ouut
()," > CPUƒndianness: %s%s Endian%s\n",

7632 
cimg
::
t_bŞd
,

7633 
cimg
::
’dŸÂess
()?"Big":"Little",

7634 
cimg
::
t_nÜm®
);

7636 
	g¡d
::
årštf
(
cimg
::
ouut
()," > Verbosity mode: %s%-13s%s %s('cimg_verbosity'=%d)%s\n",

7637 
cimg
::
t_bŞd
,

7638 
cimg_v”bos™y
==0?"Quiet":

7639 
cimg_v”bos™y
==1?"Console":

7640 
cimg_v”bos™y
==2?"Dialog":

7641 
cimg_v”bos™y
==3?"Console+Warnings":"Dialog+Warnings",

7642 
cimg
::
t_nÜm®
,cimg::
t_g»’
,

7643 
cimg_v”bos™y
,

7644 
cimg
::
t_nÜm®
);

7646 
	g¡d
::
årštf
(
cimg
::
ouut
()," > Stricts warnings: %s%-13s%s %s('cimg_strict_warnings' %s)%s\n",

7647 
cimg
::
t_bŞd
,

7648 #ifdeà
cimg_¡riù_w¬nšgs


7649 "Yes",
cimg
::
t_nÜm®
,cimg::
t_g»’
,"defined",

7651 "No",
cimg
::
t_nÜm®
,cimg::
t_g»’
,"undefined",

7653 
cimg
::
t_nÜm®
);

7655 
	g¡d
::
årštf
(
cimg
::
ouut
()," > Support for C++11: %s%-13s%s %s('cimg_use_cpp11'=%d)%s\n",

7656 
cimg
::
t_bŞd
,

7657 
cimg_u£_ıp11
?"Yes":"No",

7658 
cimg
::
t_nÜm®
,cimg::
t_g»’
,

7659 ()
cimg_u£_ıp11
,

7660 
cimg
::
t_nÜm®
);

7662 
	g¡d
::
årštf
(
cimg
::
ouut
()," > Using VT100 messages: %s%-13s%s %s('cimg_use_vt100' %s)%s\n",

7663 
cimg
::
t_bŞd
,

7664 #ifdeà
cimg_u£_vt100


7665 "Yes",
cimg
::
t_nÜm®
,cimg::
t_g»’
,"defined",

7667 "No",
cimg
::
t_nÜm®
,cimg::
t_g»’
,"undefined",

7669 
cimg
::
t_nÜm®
);

7671 
	g¡d
::
årštf
(
cimg
::
ouut
()," > Displayype: %s%-13s%s %s('cimg_display'=%d)%s\n",

7672 
cimg
::
t_bŞd
,

7673 
cimg_di¥Ïy
==0?"No display":cimg_display==1?"X11":cimg_display==2?"Windows GDI":"Unknown",

7674 
cimg
::
t_nÜm®
,cimg::
t_g»’
,

7675 ()
cimg_di¥Ïy
,

7676 
cimg
::
t_nÜm®
);

7678 #ià
cimg_di¥Ïy
==1

7679 
	g¡d
::
årštf
(
cimg
::
ouut
()," > Using XShm for X11: %s%-13s%s %s('cimg_use_xshm' %s)%s\n",

7680 
cimg
::
t_bŞd
,

7681 #ifdeà
cimg_u£_xshm


7682 "Yes",
cimg
::
t_nÜm®
,cimg::
t_g»’
,"defined",

7684 "No",
cimg
::
t_nÜm®
,cimg::
t_g»’
,"undefined",

7686 
cimg
::
t_nÜm®
);

7688 
	g¡d
::
årštf
(
cimg
::
ouut
()," > Using XRand for X11: %s%-13s%s %s('cimg_use_xrandr' %s)%s\n",

7689 
cimg
::
t_bŞd
,

7690 #ifdeà
cimg_u£_x¿ndr


7691 "Yes",
cimg
::
t_nÜm®
,cimg::
t_g»’
,"defined",

7693 "No",
cimg
::
t_nÜm®
,cimg::
t_g»’
,"undefined",

7695 
cimg
::
t_nÜm®
);

7697 
	g¡d
::
årštf
(
cimg
::
ouut
()," > Using OpenMP: %s%-13s%s %s('cimg_use_openmp' %s)%s\n",

7698 
cimg
::
t_bŞd
,

7699 #ià
cimg_u£_İ’mp
!=0

7700 "Yes",
cimg
::
t_nÜm®
,cimg::
t_g»’
,"defined",

7702 "No",
cimg
::
t_nÜm®
,cimg::
t_g»’
,"undefined",

7704 
cimg
::
t_nÜm®
);

7705 
	g¡d
::
årštf
(
cimg
::
ouut
()," > Using PNG†ibrary: %s%-13s%s %s('cimg_use_png' %s)%s\n",

7706 
cimg
::
t_bŞd
,

7707 #ifdeà
cimg_u£_²g


7708 "Yes",
cimg
::
t_nÜm®
,cimg::
t_g»’
,"defined",

7710 "No",
cimg
::
t_nÜm®
,cimg::
t_g»’
,"undefined",

7712 
cimg
::
t_nÜm®
);

7713 
	g¡d
::
årštf
(
cimg
::
ouut
()," > Using JPEG†ibrary: %s%-13s%s %s('cimg_use_jpeg' %s)%s\n",

7714 
cimg
::
t_bŞd
,

7715 #ifdeà
cimg_u£_j³g


7716 "Yes",
cimg
::
t_nÜm®
,cimg::
t_g»’
,"defined",

7718 "No",
cimg
::
t_nÜm®
,cimg::
t_g»’
,"undefined",

7720 
cimg
::
t_nÜm®
);

7722 
	g¡d
::
årštf
(
cimg
::
ouut
()," > Using TIFF†ibrary: %s%-13s%s %s('cimg_use_tiff' %s)%s\n",

7723 
cimg
::
t_bŞd
,

7724 #ifdeà
cimg_u£_tiff


7725 "Yes",
cimg
::
t_nÜm®
,cimg::
t_g»’
,"defined",

7727 "No",
cimg
::
t_nÜm®
,cimg::
t_g»’
,"undefined",

7729 
cimg
::
t_nÜm®
);

7731 
	g¡d
::
årštf
(
cimg
::
ouut
()," > Using Magick++†ibrary: %s%-13s%s %s('cimg_use_magick' %s)%s\n",

7732 
cimg
::
t_bŞd
,

7733 #ifdeà
cimg_u£_magick


7734 "Yes",
cimg
::
t_nÜm®
,cimg::
t_g»’
,"defined",

7736 "No",
cimg
::
t_nÜm®
,cimg::
t_g»’
,"undefined",

7738 
cimg
::
t_nÜm®
);

7740 
	g¡d
::
årštf
(
cimg
::
ouut
()," > Using FFTW3†ibrary: %s%-13s%s %s('cimg_use_fftw3' %s)%s\n",

7741 
cimg
::
t_bŞd
,

7742 #ifdeà
cimg_u£_fáw3


7743 "Yes",
cimg
::
t_nÜm®
,cimg::
t_g»’
,"defined",

7745 "No",
cimg
::
t_nÜm®
,cimg::
t_g»’
,"undefined",

7747 
cimg
::
t_nÜm®
);

7749 
	g¡d
::
årštf
(
cimg
::
ouut
()," > Using LAPACK†ibrary: %s%-13s%s %s('cimg_use_lapack' %s)%s\n",

7750 
cimg
::
t_bŞd
,

7751 #ifdeà
cimg_u£_Ï·ck


7752 "Yes",
cimg
::
t_nÜm®
,cimg::
t_g»’
,"defined",

7754 "No",
cimg
::
t_nÜm®
,cimg::
t_g»’
,"undefined",

7756 
cimg
::
t_nÜm®
);

7758 *cÚ¡ 
	gtmp
 = 
Ãw
 [1024];

7759 
cimg_¢´štf
(
tmp
,1024,"\"%.1020s\"",
cimg
::
imagemagick_·th
());

7760 
	g¡d
::
årštf
(
cimg
::
ouut
()," > Path of ImageMagick: %s%-13s%s\n",

7761 
cimg
::
t_bŞd
,

7762 
tmp
,

7763 
cimg
::
t_nÜm®
);

7765 
cimg_¢´štf
(
tmp
,1024,"\"%.1020s\"",
cimg
::
g¿phicsmagick_·th
());

7766 
	g¡d
::
årštf
(
cimg
::
ouut
()," > Path of GraphicsMagick: %s%-13s%s\n",

7767 
cimg
::
t_bŞd
,

7768 
tmp
,

7769 
cimg
::
t_nÜm®
);

7771 
cimg_¢´štf
(
tmp
,1024,"\"%.1020s\"",
cimg
::
medcÚ_·th
());

7772 
	g¡d
::
årštf
(
cimg
::
ouut
()," > Path of 'medcon': %s%-13s%s\n",

7773 
cimg
::
t_bŞd
,

7774 
tmp
,

7775 
cimg
::
t_nÜm®
);

7777 
cimg_¢´štf
(
tmp
,1024,"\"%.1020s\"",
cimg
::
‹mpÜ¬y_·th
());

7778 
	g¡d
::
årštf
(
cimg
::
ouut
()," > Temporary…ath: %s%-13s%s\n",

7779 
cimg
::
t_bŞd
,

7780 
tmp
,

7781 
cimg
::
t_nÜm®
);

7783 
	g¡d
::
årštf
(
cimg
::
ouut
(),"\n");

7784 
	gd–‘e
[] 
	gtmp
;

7788 #ifdeà
cimg_u£_Ï·ck


7789 
	g‹m¶©e
<
ty³Çme
 
	gT
>

7790 
šlše
 
g‘rf
(&
N
, 
T
 *
ÏpA
, *
IPIV
, &
INFO
) {

7791 
dg‘rf_
(&
N
,&N,
ÏpA
,&N,
IPIV
,&
INFO
);

7794 
šlše
 
g‘rf
(&
N
, *
ÏpA
, *
IPIV
, &
INFO
) {

7795 
sg‘rf_
(&
N
,&N,
ÏpA
,&N,
IPIV
,&
INFO
);

7798 
	g‹m¶©e
<
ty³Çme
 
	gT
>

7799 
šlše
 
g‘ri
(&
N
, 
T
 *
ÏpA
, *
IPIV
, T* 
WORK
, &
LWORK
, &
INFO
) {

7800 
dg‘ri_
(&
N
,
ÏpA
,&N,
IPIV
,
WORK
,&
LWORK
,&
INFO
);

7803 
šlše
 
g‘ri
(&
N
, *
ÏpA
, *
IPIV
, * 
WORK
, &
LWORK
, &
INFO
) {

7804 
sg‘ri_
(&
N
,
ÏpA
,&N,
IPIV
,
WORK
,&
LWORK
,&
INFO
);

7807 
	g‹m¶©e
<
ty³Çme
 
	gT
>

7808 
šlše
 
gesvd
(&
JOB
, &
M
, &
N
, 
T
 *
ÏpA
, &
MN
,

7809 
T
 *
ÏpS
, T *
ÏpU
, T *
ÏpV
, T *
WORK
, &
LWORK
, &
INFO
) {

7810 
dgesvd_
(&
JOB
,&JOB,&
M
,&
N
,
ÏpA
,&
MN
,
ÏpS
,
ÏpU
,&M,
ÏpV
,&N,
WORK
,&
LWORK
,&
INFO
);

7813 
šlše
 
gesvd
(&
JOB
, &
M
, &
N
, *
ÏpA
, &
MN
,

7814 *
ÏpS
, *
ÏpU
, *
ÏpV
, *
WORK
, &
LWORK
, &
INFO
) {

7815 
sgesvd_
(&
JOB
,&JOB,&
M
,&
N
,
ÏpA
,&
MN
,
ÏpS
,
ÏpU
,&M,
ÏpV
,&N,
WORK
,&
LWORK
,&
INFO
);

7818 
	g‹m¶©e
<
ty³Çme
 
	gT
>

7819 
šlše
 
g‘rs
(&
TRANS
, &
N
, 
T
 *
ÏpA
, *
IPIV
, T *
ÏpB
, &
INFO
) {

7820 
	gÚe
 = 1;

7821 
dg‘rs_
(&
TRANS
,&
N
,&
Úe
,
ÏpA
,&N,
IPIV
,
ÏpB
,&N,&
INFO
);

7824 
šlše
 
g‘rs
(&
TRANS
, &
N
, *
ÏpA
, *
IPIV
, *
ÏpB
, &
INFO
) {

7825 
	gÚe
 = 1;

7826 
sg‘rs_
(&
TRANS
,&
N
,&
Úe
,
ÏpA
,&N,
IPIV
,
ÏpB
,&N,&
INFO
);

7829 
	g‹m¶©e
<
ty³Çme
 
	gT
>

7830 
šlše
 
syev
(&
JOB
, &
UPLO
, &
N
, 
T
 *
ÏpA
, T *
ÏpW
, T *
WORK
, &
LWORK
, &
INFO
) {

7831 
dsyev_
(&
JOB
,&
UPLO
,&
N
,
ÏpA
,&N,
ÏpW
,
WORK
,&
LWORK
,&
INFO
);

7834 
šlše
 
syev
(&
JOB
, &
UPLO
, &
N
, *
ÏpA
, *
ÏpW
, *
WORK
, &
LWORK
, &
INFO
) {

7835 
ssyev_
(&
JOB
,&
UPLO
,&
N
,
ÏpA
,&N,
ÏpW
,
WORK
,&
LWORK
,&
INFO
);

7838 
	g‹m¶©e
<
ty³Çme
 
	gT
>

7839 
šlše
 
sg–s
(& 
TRANS
, &
M
, &
N
, &
NRHS
, 
T
* 
ÏpA
, &
LDA
,

7840 
T
* 
ÏpB
, &
LDB
, T* 
WORK
, &
LWORK
, &
INFO
) {

7841 
dg–s_
(&
TRANS
, &
M
, &
N
, &
NRHS
, 
ÏpA
, &
LDA
, 
ÏpB
, &
LDB
, 
WORK
, &
LWORK
, &
INFO
);

7844 
šlše
 
sg–s
(& 
TRANS
, &
M
, &
N
, &
NRHS
, * 
ÏpA
, &
LDA
,

7845 * 
ÏpB
, &
LDB
, * 
WORK
, &
LWORK
, &
INFO
) {

7846 
sg–s_
(&
TRANS
, &
M
, &
N
, &
NRHS
, 
ÏpA
, &
LDA
, 
ÏpB
, &
LDB
, 
WORK
, &
LWORK
, &
INFO
);

7862 
	#_cimg_ü—‹_İ”©Ü
(
typ
) \

7863 
‹m¶©e
<
ty³Çme
 
T
> \

7864 
šlše
 
CImg
<
ty³Çme
 
cimg
::
su³r£t
<
T
,
typ
>::
ty³
> 
İ”©Ü
+(cÚ¡y°
v®
, cÚ¡ CImg<T>& 
img
) { \

7865  
img
 + 
v®
; \

7867 
‹m¶©e
<
ty³Çme
 
T
> \

7868 
šlše
 
CImg
<
ty³Çme
 
cimg
::
su³r£t
<
T
,
typ
>::
ty³
> 
İ”©Ü
-(cÚ¡y°
v®
, cÚ¡ CImg<T>& 
img
) { \

7869 
ty³Çme
 
	tcimg
::
	tsu³r£t
<
	tT
,
	ttyp
>::
	tty³
 
	tTt
; \

7870  
CImg
<
Tt
>(
img
.
_width
,img.
_height
,img.
_d•th
,img.
_¥eùrum
,
v®
)-=img; \

7872 
‹m¶©e
<
ty³Çme
 
T
> \

7873 
šlše
 
CImg
<
ty³Çme
 
cimg
::
su³r£t
<
T
,
typ
>::
ty³
> 
İ”©Ü
*(cÚ¡y°
v®
, cÚ¡ CImg<T>& 
img
) { \

7874  
img
*
v®
; \

7876 
‹m¶©e
<
ty³Çme
 
T
> \

7877 
šlše
 
CImg
<
ty³Çme
 
cimg
::
su³r£t
<
T
,
typ
>::
ty³
> 
İ”©Ü
/(cÚ¡y°
v®
, cÚ¡ CImg<T>& 
img
) { \

7878  
v®
*
img
.
	`g‘_šv”t
(); \

7880 
‹m¶©e
<
ty³Çme
 
T
> \

7881 
šlše
 
CImg
<
ty³Çme
 
cimg
::
su³r£t
<
T
,
typ
>::
ty³
> 
İ”©Ü
&(cÚ¡y°
v®
, cÚ¡ CImg<T>& 
img
) { \

7882  
img
 & 
v®
; \

7884 
‹m¶©e
<
ty³Çme
 
T
> \

7885 
šlše
 
CImg
<
ty³Çme
 
cimg
::
su³r£t
<
T
,
typ
>::
ty³
> 
İ”©Ü
|(cÚ¡y°
v®
, cÚ¡ CImg<T>& 
img
) { \

7886  
img
 | 
v®
; \

7888 
‹m¶©e
<
ty³Çme
 
T
> \

7889 
šlše
 
CImg
<
ty³Çme
 
cimg
::
su³r£t
<
T
,
typ
>::
ty³
> 
İ”©Ü
^(cÚ¡y°
v®
, cÚ¡ CImg<T>& 
img
) { \

7890  
img
 ^ 
v®
; \

7892 
‹m¶©e
<
ty³Çme
 
T
> \

7893 
šlše
 
boŞ
 
İ”©Ü
==(cÚ¡ 
typ
 
v®
, cÚ¡ 
CImg
<
T
>& 
img
) { \

7894  
img
 =ğ
v®
; \

7896 
‹m¶©e
<
ty³Çme
 
T
> \

7897 
šlše
 
boŞ
 
İ”©Ü
!=(cÚ¡ 
typ
 
v®
, cÚ¡ 
CImg
<
T
>& 
img
) { \

7898  
img
 !ğ
v®
; \

7899 }

	)

7901 
_cimg_ü—‹_İ”©Ü
(
boŞ
)

7902 
_cimg_ü—‹_İ”©Ü
()

7903 
_cimg_ü—‹_İ”©Ü
()

7904 
_cimg_ü—‹_İ”©Ü
(signed )

7905 
_cimg_ü—‹_İ”©Ü
()

7906 
_cimg_ü—‹_İ”©Ü
()

7907 
_cimg_ü—‹_İ”©Ü
()

7908 
_cimg_ü—‹_İ”©Ü
()

7909 
_cimg_ü—‹_İ”©Ü
(
cimg_ušt64
)

7910 
_cimg_ü—‹_İ”©Ü
(
cimg_št64
)

7911 
_cimg_ü—‹_İ”©Ü
()

7912 
_cimg_ü—‹_İ”©Ü
()

7913 
_cimg_ü—‹_İ”©Ü
()

7915 
	g‹m¶©e
<
ty³Çme
 
	gT
>

7916 
šlše
 
	gCImg
<
	g_cimg_Tæßt
> 
	gİ”©Ü
+(cÚ¡ *cÚ¡ 
	gex´essiÚ
, cÚ¡ CImg<
	gT
>& 
	gimg
) {

7917  
	gimg
 + 
	gex´essiÚ
;

7920 
	g‹m¶©e
<
ty³Çme
 
	gT
>

7921 
šlše
 
	gCImg
<
	g_cimg_Tæßt
> 
	gİ”©Ü
-(cÚ¡ *cÚ¡ 
	gex´essiÚ
, cÚ¡ CImg<
	gT
>& 
	gimg
) {

7922  
	gCImg
<
	g_cimg_Tæßt
>(
	gimg
,
	gçl£
).
fl
(
ex´essiÚ
,
Œue
)-=
img
;

7925 
	g‹m¶©e
<
ty³Çme
 
	gT
>

7926 
šlše
 
	gCImg
<
	g_cimg_Tæßt
> 
	gİ”©Ü
*(cÚ¡ *cÚ¡ 
	gex´essiÚ
, cÚ¡ CImg<
	gT
>& 
	gimg
) {

7927  
img
*
	gex´essiÚ
;

7930 
	g‹m¶©e
<
ty³Çme
 
	gT
>

7931 
šlše
 
	gCImg
<
	g_cimg_Tæßt
> 
	gİ”©Ü
/(cÚ¡ *cÚ¡ 
	gex´essiÚ
, cÚ¡ CImg<
	gT
>& 
	gimg
) {

7932  
ex´essiÚ
*
	gimg
.
g‘_šv”t
();

7935 
	g‹m¶©e
<
ty³Çme
 
	gT
>

7936 
šlše
 
	gCImg
<
	gT
> 
	gİ”©Ü
&(cÚ¡ *cÚ¡ 
	gex´essiÚ
, cÚ¡ CImg<T>& 
	gimg
) {

7937  
	gimg
 & 
	gex´essiÚ
;

7940 
	g‹m¶©e
<
ty³Çme
 
	gT
>

7941 
šlše
 
	gCImg
<
	gT
> 
	gİ”©Ü
|(cÚ¡ *cÚ¡ 
	gex´essiÚ
, cÚ¡ CImg<T>& 
	gimg
) {

7942  
	gimg
 | 
	gex´essiÚ
;

7945 
	g‹m¶©e
<
ty³Çme
 
	gT
>

7946 
šlše
 
	gCImg
<
	gT
> 
	gİ”©Ü
^(cÚ¡ *cÚ¡ 
	gex´essiÚ
, cÚ¡ CImg<T>& 
	gimg
) {

7947  
	gimg
 ^ 
	gex´essiÚ
;

7950 
	g‹m¶©e
<
ty³Çme
 
	gT
>

7951 
šlše
 
boŞ
 
	gİ”©Ü
==(cÚ¡ *cÚ¡ 
ex´essiÚ
, cÚ¡ 
	gCImg
<
	gT
>& 
	gimg
) {

7952  
	gimg
==
ex´essiÚ
;

7955 
	g‹m¶©e
<
ty³Çme
 
	gT
>

7956 
šlše
 
boŞ
 
	gİ”©Ü
!=(cÚ¡ *cÚ¡ 
ex´essiÚ
, cÚ¡ 
	gCImg
<
	gT
>& 
	gimg
) {

7957  
	gimg
!=
ex´essiÚ
;

7960 
	g‹m¶©e
<
ty³Çme
 
	gT
>

7961 
šlše
 
	gCImg
<
	gT
> 
Œª¥o£
(cÚ¡ 
CImg
<
T
>& 
š¡ªû
) {

7962  
	gš¡ªû
.
g‘_Œª¥o£
();

7965 
	g‹m¶©e
<
ty³Çme
 
	gT
>

7966 
šlše
 
	gCImg
<
	g_cimg_Tæßt
> 
šv”t
(cÚ¡ 
CImg
<
T
>& 
š¡ªû
, cÚ¡ 
boŞ
 
u£_LU
=
Œue
) {

7967  
š¡ªû
.
g‘_šv”t
(
u£_LU
);

7970 
	g‹m¶©e
<
ty³Çme
 
	gT
>

7971 
šlše
 
	gCImg
<
	g_cimg_Tæßt
> 
p£udošv”t
(cÚ¡ 
CImg
<
T
>& 
š¡ªû
, cÚ¡ 
boŞ
 
u£_LU
=
çl£
) {

7972  
š¡ªû
.
g‘_p£udošv”t
(
u£_LU
);

7975 
	#_cimg_ü—‹_poštwi£_funùiÚ
(
Çme
) \

7976 
‹m¶©e
<
ty³Çme
 
T
> \

7977 
šlše
 
CImg
<
_cimg_Tæßt
> 
	`Çme
(cÚ¡ CImg<
T
>& 
š¡ªû
) { \

7978  
š¡ªû
.
g‘_
##
	`Çme
(); \

7979 }

	)

7981 
_cimg_ü—‹_poštwi£_funùiÚ
(
sqr
)

7982 
_cimg_ü—‹_poštwi£_funùiÚ
(
sq¹
)

7983 
_cimg_ü—‹_poštwi£_funùiÚ
(
exp
)

7984 
_cimg_ü—‹_poštwi£_funùiÚ
(
log
)

7985 
_cimg_ü—‹_poštwi£_funùiÚ
(
log2
)

7986 
_cimg_ü—‹_poštwi£_funùiÚ
(
log10
)

7987 
_cimg_ü—‹_poštwi£_funùiÚ
(
abs
)

7988 
_cimg_ü—‹_poštwi£_funùiÚ
(
sign
)

7989 
_cimg_ü—‹_poštwi£_funùiÚ
(
cos
)

7990 
_cimg_ü—‹_poštwi£_funùiÚ
(
sš
)

7991 
_cimg_ü—‹_poštwi£_funùiÚ
(
sšc
)

7992 
_cimg_ü—‹_poštwi£_funùiÚ
(
n
)

7993 
_cimg_ü—‹_poštwi£_funùiÚ
(
acos
)

7994 
_cimg_ü—‹_poštwi£_funùiÚ
(
asš
)

7995 
_cimg_ü—‹_poštwi£_funùiÚ
(
©ª
)

7996 
_cimg_ü—‹_poštwi£_funùiÚ
(
cosh
)

7997 
_cimg_ü—‹_poštwi£_funùiÚ
(
sšh
)

7998 
_cimg_ü—‹_poštwi£_funùiÚ
(
nh
)

7999 
_cimg_ü—‹_poštwi£_funùiÚ
(
acosh
)

8000 
_cimg_ü—‹_poštwi£_funùiÚ
(
asšh
)

8001 
_cimg_ü—‹_poštwi£_funùiÚ
(
©ªh
)

8025 
	sCImgDi¥Ïy
 {

8026 
cimg_ušt64
 
	g_tim”
, 
	g_ås_äames
, 
	g_ås_tim”
;

8027 
	g_width
, 
	g_height
, 
	g_nÜm®iz©iÚ
;

8028 
	g_ås_ås
, 
	g_mš
, 
	g_max
;

8029 
boŞ
 
	g_is_fuÎsü“n
;

8030 *
	g_t™Ë
;

8031 
	g_wšdow_width
, 
	g_wšdow_height
, 
	g_bu‰Ú
, *
	g_keys
, *
	g_»Ëa£d_keys
;

8032 
	g_wšdow_x
, 
	g_wšdow_y
, 
	g_mou£_x
, 
	g_mou£_y
, 
	g_wh“l
;

8033 
boŞ
 
	g_is_şo£d
, 
	g_is_»sized
, 
	g_is_moved
, 
	g_is_ev’t
,

8034 
	g_is_keyESC
, 
	g_is_keyF1
, 
	g_is_keyF2
, 
	g_is_keyF3
, 
	g_is_keyF4
, 
	g_is_keyF5
, 
	g_is_keyF6
, 
	g_is_keyF7
,

8035 
	g_is_keyF8
, 
	g_is_keyF9
, 
	g_is_keyF10
, 
	g_is_keyF11
, 
	g_is_keyF12
, 
	g_is_keyPAUSE
, 
	g_is_key1
, 
	g_is_key2
,

8036 
	g_is_key3
, 
	g_is_key4
, 
	g_is_key5
, 
	g_is_key6
, 
	g_is_key7
, 
	g_is_key8
, 
	g_is_key9
, 
	g_is_key0
,

8037 
	g_is_keyBACKSPACE
, 
	g_is_keyINSERT
, 
	g_is_keyHOME
, 
	g_is_keyPAGEUP
, 
	g_is_keyTAB
, 
	g_is_keyQ
, 
	g_is_keyW
, 
	g_is_keyE
,

8038 
	g_is_keyR
, 
	g_is_keyT
, 
	g_is_keyY
, 
	g_is_keyU
, 
	g_is_keyI
, 
	g_is_keyO
, 
	g_is_keyP
, 
	g_is_keyDELETE
,

8039 
	g_is_keyEND
, 
	g_is_keyPAGEDOWN
, 
	g_is_keyCAPSLOCK
, 
	g_is_keyA
, 
	g_is_keyS
, 
	g_is_keyD
, 
	g_is_keyF
, 
	g_is_keyG
,

8040 
	g_is_keyH
, 
	g_is_keyJ
, 
	g_is_keyK
, 
	g_is_keyL
, 
	g_is_keyENTER
, 
	g_is_keySHIFTLEFT
, 
	g_is_keyZ
, 
	g_is_keyX
,

8041 
	g_is_keyC
, 
	g_is_keyV
, 
	g_is_keyB
, 
	g_is_keyN
, 
	g_is_keyM
, 
	g_is_keySHIFTRIGHT
, 
	g_is_keyARROWUP
, 
	g_is_keyCTRLLEFT
,

8042 
	g_is_keyAPPLEFT
, 
	g_is_keyALT
, 
	g_is_keySPACE
, 
	g_is_keyALTGR
, 
	g_is_keyAPPRIGHT
, 
	g_is_keyMENU
, 
	g_is_keyCTRLRIGHT
,

8043 
	g_is_keyARROWLEFT
, 
	g_is_keyARROWDOWN
, 
	g_is_keyARROWRIGHT
, 
	g_is_keyPAD0
, 
	g_is_keyPAD1
, 
	g_is_keyPAD2
, 
	g_is_keyPAD3
,

8044 
	g_is_keyPAD4
, 
	g_is_keyPAD5
, 
	g_is_keyPAD6
, 
	g_is_keyPAD7
, 
	g_is_keyPAD8
, 
	g_is_keyPAD9
, 
	g_is_keyPADADD
, 
	g_is_keyPADSUB
,

8045 
	g_is_keyPADMUL
, 
	g_is_keyPADDIV
;

8054 #ifdeà
cimgdi¥Ïy_¶ugš


8055 #šşud
cimgdi¥Ïy_¶ugš


8057 #ifdeà
cimgdi¥Ïy_¶ugš1


8058 #šşud
cimgdi¥Ïy_¶ugš1


8060 #ifdeà
cimgdi¥Ïy_¶ugš2


8061 #šşud
cimgdi¥Ïy_¶ugš2


8063 #ifdeà
cimgdi¥Ïy_¶ugš3


8064 #šşud
cimgdi¥Ïy_¶ugš3


8066 #ifdeà
cimgdi¥Ïy_¶ugš4


8067 #šşud
cimgdi¥Ïy_¶ugš4


8069 #ifdeà
cimgdi¥Ïy_¶ugš5


8070 #šşud
cimgdi¥Ïy_¶ugš5


8072 #ifdeà
cimgdi¥Ïy_¶ugš6


8073 #šşud
cimgdi¥Ïy_¶ugš6


8075 #ifdeà
cimgdi¥Ïy_¶ugš7


8076 #šşud
cimgdi¥Ïy_¶ugš7


8078 #ifdeà
cimgdi¥Ïy_¶ugš8


8079 #šşud
cimgdi¥Ïy_¶ugš8


8093 ~
CImgDi¥Ïy
() {

8094 
assign
();

8095 
	gd–‘e
[] 
	g_keys
;

8096 
	gd–‘e
[] 
	g_»Ëa£d_keys
;

8110 
CImgDi¥Ïy
():

8111 
_width
(0),
_height
(0),
_nÜm®iz©iÚ
(0),

8112 
_mš
(0),
_max
(0),

8113 
_is_fuÎsü“n
(
çl£
),

8114 
_t™Ë
(0),

8115 
_wšdow_width
(0),
_wšdow_height
(0),
_bu‰Ú
(0),

8116 
_keys
(
Ãw
 [128]),
_»Ëa£d_keys
(new [128]),

8117 
_wšdow_x
(
cimg
::
ty³
<>::
mš
()),
_wšdow_y
(cimg::type<>::min()),

8118 
_mou£_x
(-1),
_mou£_y
(-1),
_wh“l
(0),

8119 
_is_şo£d
(
Œue
),
_is_»sized
(
çl£
),
_is_moved
(çl£),
_is_ev’t
(false) {

8120 
assign
();

8133 
CImgDi¥Ïy
(cÚ¡ 
width
, cÚ¡ 
height
,

8134 cÚ¡ *cÚ¡ 
t™Ë
=0, cÚ¡ 
nÜm®iz©iÚ
=3,

8135 cÚ¡ 
boŞ
 
is_fuÎsü“n
=
çl£
, cÚ¡ boŞ 
is_şo£d
=false):

8136 
_width
(0),
_height
(0),
_nÜm®iz©iÚ
(0),

8137 
_mš
(0),
_max
(0),

8138 
_is_fuÎsü“n
(
çl£
),

8139 
_t™Ë
(0),

8140 
_wšdow_width
(0),
_wšdow_height
(0),
_bu‰Ú
(0),

8141 
_keys
(
Ãw
 [128]),
_»Ëa£d_keys
(new [128]),

8142 
_wšdow_x
(
cimg
::
ty³
<>::
mš
()),
_wšdow_y
(cimg::type<>::min()),

8143 
_mou£_x
(-1),
_mou£_y
(-1),
_wh“l
(0),

8144 
_is_şo£d
(
Œue
),
_is_»sized
(
çl£
),
_is_moved
(çl£),
_is_ev’t
(false) {

8145 
assign
(
width
,
height
,
t™Ë
,
nÜm®iz©iÚ
,
is_fuÎsü“n
,
is_şo£d
);

8157 
	g‹m¶©e
<
ty³Çme
 
	gT
>

8158 
ex¶ic™
 
CImgDi¥Ïy
(cÚ¡ 
CImg
<
T
>& 
img
,

8159 cÚ¡ *cÚ¡ 
t™Ë
=0, cÚ¡ 
nÜm®iz©iÚ
=3,

8160 cÚ¡ 
boŞ
 
is_fuÎsü“n
=
çl£
, cÚ¡ boŞ 
is_şo£d
=false):

8161 
_width
(0),
_height
(0),
_nÜm®iz©iÚ
(0),

8162 
_mš
(0),
_max
(0),

8163 
_is_fuÎsü“n
(
çl£
),

8164 
_t™Ë
(0),

8165 
_wšdow_width
(0),
_wšdow_height
(0),
_bu‰Ú
(0),

8166 
_keys
(
Ãw
 [128]),
_»Ëa£d_keys
(new [128]),

8167 
_wšdow_x
(
cimg
::
ty³
<>::
mš
()),
_wšdow_y
(cimg::type<>::min()),

8168 
_mou£_x
(-1),
_mou£_y
(-1),
_wh“l
(0),

8169 
_is_şo£d
(
Œue
),
_is_»sized
(
çl£
),
_is_moved
(çl£),
_is_ev’t
(false) {

8170 
assign
(
img
,
t™Ë
,
nÜm®iz©iÚ
,
is_fuÎsü“n
,
is_şo£d
);

8182 
	g‹m¶©e
<
ty³Çme
 
	gT
>

8183 
ex¶ic™
 
CImgDi¥Ïy
(cÚ¡ 
CImgLi¡
<
T
>& 
li¡
,

8184 cÚ¡ *cÚ¡ 
t™Ë
=0, cÚ¡ 
nÜm®iz©iÚ
=3,

8185 cÚ¡ 
boŞ
 
is_fuÎsü“n
=
çl£
, cÚ¡ boŞ 
is_şo£d
=false):

8186 
_width
(0),
_height
(0),
_nÜm®iz©iÚ
(0),

8187 
_mš
(0),
_max
(0),

8188 
_is_fuÎsü“n
(
çl£
),

8189 
_t™Ë
(0),

8190 
_wšdow_width
(0),
_wšdow_height
(0),
_bu‰Ú
(0),

8191 
_keys
(
Ãw
 [128]),
_»Ëa£d_keys
(new [128]),

8192 
_wšdow_x
(
cimg
::
ty³
<>::
mš
()),
_wšdow_y
(cimg::type<>::min()),

8193 
_mou£_x
(-1),
_mou£_y
(-1),
_wh“l
(0),

8194 
_is_şo£d
(
Œue
),
_is_»sized
(
çl£
),
_is_moved
(çl£),
_is_ev’t
(false) {

8195 
assign
(
li¡
,
t™Ë
,
nÜm®iz©iÚ
,
is_fuÎsü“n
,
is_şo£d
);

8203 
CImgDi¥Ïy
(cÚ¡ CImgDi¥Ïy& 
di¥
):

8204 
_width
(0),
_height
(0),
_nÜm®iz©iÚ
(0),

8205 
_mš
(0),
_max
(0),

8206 
_is_fuÎsü“n
(
çl£
),

8207 
_t™Ë
(0),

8208 
_wšdow_width
(0),
_wšdow_height
(0),
_bu‰Ú
(0),

8209 
_keys
(
Ãw
 [128]),
_»Ëa£d_keys
(new [128]),

8210 
_wšdow_x
(
cimg
::
ty³
<>::
mš
()),
_wšdow_y
(cimg::type<>::min()),

8211 
_mou£_x
(-1),
_mou£_y
(-1),
_wh“l
(0),

8212 
_is_şo£d
(
Œue
),
_is_»sized
(
çl£
),
_is_moved
(çl£),
_is_ev’t
(false) {

8213 
assign
(
di¥
);

8220 
	g‹m¶©e
<
ty³Çme
 
	gT
>

8221 
sü“nshÙ
(
CImg
<
T
>& 
img
) {

8222  
sü“nshÙ
(0,0,
cimg
::
ty³
<>::
max
(),cimg::ty³<>::max(),
img
);

8225 #ià
cimg_di¥Ïy
==0

8227 
_no_di¥Ïy_exû±iÚ
() {

8228 
throw
 
CImgDi¥ÏyExû±iÚ
("CImgDisplay(): No display‡vailable.");

8235 
	gCImgDi¥Ïy
& 
assign
() {

8236  
æush
();

8242 
	gCImgDi¥Ïy
& 
assign
(cÚ¡ 
width
, cÚ¡ 
height
,

8243 cÚ¡ *cÚ¡ 
t™Ë
=0, cÚ¡ 
nÜm®iz©iÚ
=3,

8244 cÚ¡ 
boŞ
 
is_fuÎsü“n
=
çl£
, cÚ¡ boŞ 
is_şo£d
=false) {

8245 
cimg
::
unu£d
(
width
,
height
,
t™Ë
,
nÜm®iz©iÚ
,
is_fuÎsü“n
,
is_şo£d
);

8246 
_no_di¥Ïy_exû±iÚ
();

8247  
assign
();

8253 
	g‹m¶©e
<
ty³Çme
 
	gT
>

8254 
	gCImgDi¥Ïy
& 
assign
(cÚ¡ 
CImg
<
T
>& 
img
,

8255 cÚ¡ *cÚ¡ 
t™Ë
=0, cÚ¡ 
nÜm®iz©iÚ
=3,

8256 cÚ¡ 
boŞ
 
is_fuÎsü“n
=
çl£
, cÚ¡ boŞ 
is_şo£d
=false) {

8257 
_no_di¥Ïy_exû±iÚ
();

8258  
assign
(
img
.
_width
,img.
_height
,
t™Ë
,
nÜm®iz©iÚ
,
is_fuÎsü“n
,
is_şo£d
);

8264 
	g‹m¶©e
<
ty³Çme
 
	gT
>

8265 
	gCImgDi¥Ïy
& 
assign
(cÚ¡ 
CImgLi¡
<
T
>& 
li¡
,

8266 cÚ¡ *cÚ¡ 
t™Ë
=0, cÚ¡ 
nÜm®iz©iÚ
=3,

8267 cÚ¡ 
boŞ
 
is_fuÎsü“n
=
çl£
, cÚ¡ boŞ 
is_şo£d
=false) {

8268 
_no_di¥Ïy_exû±iÚ
();

8269  
assign
(
li¡
.
_width
,li¡._width,
t™Ë
,
nÜm®iz©iÚ
,
is_fuÎsü“n
,
is_şo£d
);

8275 
	gCImgDi¥Ïy
& 
assign
(cÚ¡ 
CImgDi¥Ïy
 &
di¥
) {

8276 
_no_di¥Ïy_exû±iÚ
();

8277  
assign
(
di¥
.
_width
,di¥.
_height
);

8291 
	gCImgDi¥Ïy
& 
em±y
() {

8292 
CImgDi¥Ïy
 
	g_em±y
;

8293  
	g_em±y
.
assign
();

8297 cÚ¡ 
	gCImgDi¥Ïy
& 
cÚ¡_em±y
() {

8298 cÚ¡ 
CImgDi¥Ïy
 
	g_em±y
;

8299  
	g_em±y
;

8302 
	#cimg_f™sü“n
(
dx
,
dy
,
dz
è
CImgDi¥Ïy
::
	`_f™sü“n
(dx,dy,dz,-25,-85,
çl£
), \

8303 
CImgDi¥Ïy
::
	`_f™sü“n
(
dx
,
dy
,
dz
,-25,-85,
Œue
)

	)

8304 
_f™sü“n
(cÚ¡ 
dx
, cÚ¡ 
dy
, cÚ¡ 
dz
,

8305 cÚ¡ 
dmš
, cÚ¡ 
dmax
, cÚ¡ 
boŞ
 
»tuº_y
) {

8307 
	gu
 = 
CImgDi¥Ïy
::
sü“n_width
(),

8308 
	gv
 = 
CImgDi¥Ïy
::
sü“n_height
();

8310 
	gmw
 = 
dmš
<0?
cimg
::
round
(
u
*-dmin/100.f):()dmin,

8311 
	gmh
 = 
dmš
<0?
cimg
::
round
(
v
*-dmin/100.f):()dmin,

8312 
	gMw
 = 
dmax
<0?
cimg
::
round
(
u
*-dmax/100.f):()dmax,

8313 
	gMh
 = 
dmax
<0?
cimg
::
round
(
v
*-dmax/100.f):()dmax;

8315 
	gw
 = ()
¡d
::
max
(1U,
dx
),

8316 
	gh
 = ()
¡d
::
max
(1U,
dy
);

8317 ià(
	gdz
>1è{ 
	gw
+=
dz
; 
	gh
+=dz; }

8318 ià(
	gw
<
	gmw
è{ 
	gh
 = 
h
*
mw
/
w
; w = mw; }

8319 ià(
	gh
<
	gmh
è{ 
	gw
 = 
w
*
mh
/
h
; h = mh; }

8320 ià(
	gw
>
	gMw
è{ 
	gh
 = 
h
*
Mw
/
w
; w = Mw; }

8321 ià(
	gh
>
	gMh
è{ 
	gw
 = 
w
*
Mh
/
h
; h = Mh; }

8322 ià(
	gw
<
	gmw
èw = 
mw
;

8323 ià(
	gh
<
	gmh
èh = 
mh
;

8324  
	g¡d
::
max
(1U,()
cimg
::
round
(
»tuº_y
?
h
:
w
));

8338 
	g‹m¶©e
<
ty³Çme
 
	gt
>

8339 
	gCImgDi¥Ïy
& 
	gİ”©Ü
=(cÚ¡ 
CImg
<
t
>& 
img
) {

8340  
di¥Ïy
(
img
);

8347 
	g‹m¶©e
<
ty³Çme
 
	gt
>

8348 
	gCImgDi¥Ïy
& 
	gİ”©Ü
=(cÚ¡ 
CImgLi¡
<
t
>& 
li¡
) {

8349  
di¥Ïy
(
li¡
);

8356 
	gCImgDi¥Ïy
& 
	gİ”©Ü
=(cÚ¡ 
CImgDi¥Ïy
& 
di¥
) {

8357  
assign
(
di¥
);

8364 
İ”©Ü
 
boŞ
() const {

8365  !
is_em±y
();

8378 
boŞ
 
is_em±y
() const {

8379  !(
	g_width
 && 
	g_height
);

8388 
boŞ
 
is_şo£d
() const {

8389  
	g_is_şo£d
;

8395 
boŞ
 
is_»sized
() const {

8396  
	g_is_»sized
;

8402 
boŞ
 
is_moved
() const {

8403  
	g_is_moved
;

8409 
boŞ
 
is_ev’t
() const {

8410  
	g_is_ev’t
;

8416 
boŞ
 
is_fuÎsü“n
() const {

8417  
	g_is_fuÎsü“n
;

8424 
boŞ
 
is_key
() const {

8425  
	g_is_keyESC
 || 
	g_is_keyF1
 || 
	g_is_keyF2
 || 
	g_is_keyF3
 ||

8426 
	g_is_keyF4
 || 
	g_is_keyF5
 || 
	g_is_keyF6
 || 
	g_is_keyF7
 ||

8427 
	g_is_keyF8
 || 
	g_is_keyF9
 || 
	g_is_keyF10
 || 
	g_is_keyF11
 ||

8428 
	g_is_keyF12
 || 
	g_is_keyPAUSE
 || 
	g_is_key1
 || 
	g_is_key2
 ||

8429 
	g_is_key3
 || 
	g_is_key4
 || 
	g_is_key5
 || 
	g_is_key6
 ||

8430 
	g_is_key7
 || 
	g_is_key8
 || 
	g_is_key9
 || 
	g_is_key0
 ||

8431 
	g_is_keyBACKSPACE
 || 
	g_is_keyINSERT
 || 
	g_is_keyHOME
 ||

8432 
	g_is_keyPAGEUP
 || 
	g_is_keyTAB
 || 
	g_is_keyQ
 || 
	g_is_keyW
 ||

8433 
	g_is_keyE
 || 
	g_is_keyR
 || 
	g_is_keyT
 || 
	g_is_keyY
 ||

8434 
	g_is_keyU
 || 
	g_is_keyI
 || 
	g_is_keyO
 || 
	g_is_keyP
 ||

8435 
	g_is_keyDELETE
 || 
	g_is_keyEND
 || 
	g_is_keyPAGEDOWN
 ||

8436 
	g_is_keyCAPSLOCK
 || 
	g_is_keyA
 || 
	g_is_keyS
 || 
	g_is_keyD
 ||

8437 
	g_is_keyF
 || 
	g_is_keyG
 || 
	g_is_keyH
 || 
	g_is_keyJ
 ||

8438 
	g_is_keyK
 || 
	g_is_keyL
 || 
	g_is_keyENTER
 ||

8439 
	g_is_keySHIFTLEFT
 || 
	g_is_keyZ
 || 
	g_is_keyX
 || 
	g_is_keyC
 ||

8440 
	g_is_keyV
 || 
	g_is_keyB
 || 
	g_is_keyN
 || 
	g_is_keyM
 ||

8441 
	g_is_keySHIFTRIGHT
 || 
	g_is_keyARROWUP
 || 
	g_is_keyCTRLLEFT
 ||

8442 
	g_is_keyAPPLEFT
 || 
	g_is_keyALT
 || 
	g_is_keySPACE
 || 
	g_is_keyALTGR
 ||

8443 
	g_is_keyAPPRIGHT
 || 
	g_is_keyMENU
 || 
	g_is_keyCTRLRIGHT
 ||

8444 
	g_is_keyARROWLEFT
 || 
	g_is_keyARROWDOWN
 || 
	g_is_keyARROWRIGHT
 ||

8445 
	g_is_keyPAD0
 || 
	g_is_keyPAD1
 || 
	g_is_keyPAD2
 ||

8446 
	g_is_keyPAD3
 || 
	g_is_keyPAD4
 || 
	g_is_keyPAD5
 ||

8447 
	g_is_keyPAD6
 || 
	g_is_keyPAD7
 || 
	g_is_keyPAD8
 ||

8448 
	g_is_keyPAD9
 || 
	g_is_keyPADADD
 || 
	g_is_keyPADSUB
 ||

8449 
	g_is_keyPADMUL
 || 
	g_is_keyPADDIV
;

8466 
boŞ
 
is_key
(cÚ¡ 
keycode
) const {

8467 
	#_cimg_iskey_‹¡
(
k
èià(
keycode
==
cimg
::
key
##kè 
_is_key
##k;

	)

8468 
_cimg_iskey_‹¡
(
ESC
); _cimg_iskey_‹¡(
F1
); _cimg_iskey_‹¡(
F2
); _cimg_iskey_‹¡(
F3
);

8469 
_cimg_iskey_‹¡
(
F4
); _cimg_iskey_‹¡(
F5
); _cimg_iskey_‹¡(
F6
); _cimg_iskey_‹¡(
F7
);

8470 
_cimg_iskey_‹¡
(
F8
); _cimg_iskey_‹¡(
F9
); _cimg_iskey_‹¡(
F10
); _cimg_iskey_‹¡(
F11
);

8471 
_cimg_iskey_‹¡
(
F12
); _cimg_iskey_‹¡(
PAUSE
); _cimg_iskey_test(1); _cimg_iskey_test(2);

8472 
_cimg_iskey_‹¡
(3); _cimg_iskey_test(4); _cimg_iskey_test(5); _cimg_iskey_test(6);

8473 
_cimg_iskey_‹¡
(7); _cimg_iskey_test(8); _cimg_iskey_test(9); _cimg_iskey_test(0);

8474 
_cimg_iskey_‹¡
(
BACKSPACE
); _cimg_iskey_‹¡(
INSERT
); _cimg_iskey_‹¡(
HOME
);

8475 
_cimg_iskey_‹¡
(
PAGEUP
); _cimg_iskey_‹¡(
TAB
); _cimg_iskey_‹¡(
Q
); _cimg_iskey_‹¡(
W
);

8476 
_cimg_iskey_‹¡
(
E
); _cimg_iskey_‹¡(
R
); _cimg_iskey_‹¡(
T
); _cimg_iskey_‹¡(
Y
);

8477 
_cimg_iskey_‹¡
(
U
); _cimg_iskey_‹¡(
I
); _cimg_iskey_‹¡(
O
); _cimg_iskey_‹¡(
P
);

8478 
_cimg_iskey_‹¡
(
DELETE
); _cimg_iskey_‹¡(
END
); _cimg_iskey_‹¡(
PAGEDOWN
);

8479 
_cimg_iskey_‹¡
(
CAPSLOCK
); _cimg_iskey_‹¡(
A
); _cimg_iskey_‹¡(
S
); _cimg_iskey_‹¡(
D
);

8480 
_cimg_iskey_‹¡
(
F
); _cimg_iskey_‹¡(
G
); _cimg_iskey_‹¡(
H
); _cimg_iskey_‹¡(
J
);

8481 
_cimg_iskey_‹¡
(
K
); _cimg_iskey_‹¡(
L
); _cimg_iskey_‹¡(
ENTER
);

8482 
_cimg_iskey_‹¡
(
SHIFTLEFT
); _cimg_iskey_‹¡(
Z
); _cimg_iskey_‹¡(
X
); _cimg_iskey_‹¡(
C
);

8483 
_cimg_iskey_‹¡
(
V
); _cimg_iskey_‹¡(
B
); _cimg_iskey_‹¡(
N
); _cimg_iskey_‹¡(
M
);

8484 
_cimg_iskey_‹¡
(
SHIFTRIGHT
); _cimg_iskey_‹¡(
ARROWUP
); _cimg_iskey_‹¡(
CTRLLEFT
);

8485 
_cimg_iskey_‹¡
(
APPLEFT
); _cimg_iskey_‹¡(
ALT
); _cimg_iskey_‹¡(
SPACE
); _cimg_iskey_‹¡(
ALTGR
);

8486 
_cimg_iskey_‹¡
(
APPRIGHT
); _cimg_iskey_‹¡(
MENU
); _cimg_iskey_‹¡(
CTRLRIGHT
);

8487 
_cimg_iskey_‹¡
(
ARROWLEFT
); _cimg_iskey_‹¡(
ARROWDOWN
); _cimg_iskey_‹¡(
ARROWRIGHT
);

8488 
_cimg_iskey_‹¡
(
PAD0
); _cimg_iskey_‹¡(
PAD1
); _cimg_iskey_‹¡(
PAD2
);

8489 
_cimg_iskey_‹¡
(
PAD3
); _cimg_iskey_‹¡(
PAD4
); _cimg_iskey_‹¡(
PAD5
);

8490 
_cimg_iskey_‹¡
(
PAD6
); _cimg_iskey_‹¡(
PAD7
); _cimg_iskey_‹¡(
PAD8
);

8491 
_cimg_iskey_‹¡
(
PAD9
); _cimg_iskey_‹¡(
PADADD
); _cimg_iskey_‹¡(
PADSUB
);

8492 
_cimg_iskey_‹¡
(
PADMUL
); _cimg_iskey_‹¡(
PADDIV
);

8493  
	gçl£
;

8510 
	gboŞ
& 
is_key
(cÚ¡ *cÚ¡ 
keycode
) {

8511 
boŞ
 
	gf
 = 
çl£
;

8512 
	gf
 = 
çl£
;

8513 
	#_cimg_iskey_‹¡2
(
k
èià(!
cimg
::
	`¡rÿ£cmp
(
keycode
,#k)è 
_is_key
##k;

	)

8514 
_cimg_iskey_‹¡2
(
ESC
); _cimg_iskey_‹¡2(
F1
); _cimg_iskey_‹¡2(
F2
); _cimg_iskey_‹¡2(
F3
);

8515 
_cimg_iskey_‹¡2
(
F4
); _cimg_iskey_‹¡2(
F5
); _cimg_iskey_‹¡2(
F6
); _cimg_iskey_‹¡2(
F7
);

8516 
_cimg_iskey_‹¡2
(
F8
); _cimg_iskey_‹¡2(
F9
); _cimg_iskey_‹¡2(
F10
); _cimg_iskey_‹¡2(
F11
);

8517 
_cimg_iskey_‹¡2
(
F12
); _cimg_iskey_‹¡2(
PAUSE
); _cimg_iskey_test2(1); _cimg_iskey_test2(2);

8518 
_cimg_iskey_‹¡2
(3); _cimg_iskey_test2(4); _cimg_iskey_test2(5); _cimg_iskey_test2(6);

8519 
_cimg_iskey_‹¡2
(7); _cimg_iskey_test2(8); _cimg_iskey_test2(9); _cimg_iskey_test2(0);

8520 
_cimg_iskey_‹¡2
(
BACKSPACE
); _cimg_iskey_‹¡2(
INSERT
); _cimg_iskey_‹¡2(
HOME
);

8521 
_cimg_iskey_‹¡2
(
PAGEUP
); _cimg_iskey_‹¡2(
TAB
); _cimg_iskey_‹¡2(
Q
); _cimg_iskey_‹¡2(
W
);

8522 
_cimg_iskey_‹¡2
(
E
); _cimg_iskey_‹¡2(
R
); _cimg_iskey_‹¡2(
T
); _cimg_iskey_‹¡2(
Y
);

8523 
_cimg_iskey_‹¡2
(
U
); _cimg_iskey_‹¡2(
I
); _cimg_iskey_‹¡2(
O
); _cimg_iskey_‹¡2(
P
);

8524 
_cimg_iskey_‹¡2
(
DELETE
); _cimg_iskey_‹¡2(
END
); _cimg_iskey_‹¡2(
PAGEDOWN
);

8525 
_cimg_iskey_‹¡2
(
CAPSLOCK
); _cimg_iskey_‹¡2(
A
); _cimg_iskey_‹¡2(
S
); _cimg_iskey_‹¡2(
D
);

8526 
_cimg_iskey_‹¡2
(
F
); _cimg_iskey_‹¡2(
G
); _cimg_iskey_‹¡2(
H
); _cimg_iskey_‹¡2(
J
);

8527 
_cimg_iskey_‹¡2
(
K
); _cimg_iskey_‹¡2(
L
); _cimg_iskey_‹¡2(
ENTER
);

8528 
_cimg_iskey_‹¡2
(
SHIFTLEFT
); _cimg_iskey_‹¡2(
Z
); _cimg_iskey_‹¡2(
X
); _cimg_iskey_‹¡2(
C
);

8529 
_cimg_iskey_‹¡2
(
V
); _cimg_iskey_‹¡2(
B
); _cimg_iskey_‹¡2(
N
); _cimg_iskey_‹¡2(
M
);

8530 
_cimg_iskey_‹¡2
(
SHIFTRIGHT
); _cimg_iskey_‹¡2(
ARROWUP
); _cimg_iskey_‹¡2(
CTRLLEFT
);

8531 
_cimg_iskey_‹¡2
(
APPLEFT
); _cimg_iskey_‹¡2(
ALT
); _cimg_iskey_‹¡2(
SPACE
); _cimg_iskey_‹¡2(
ALTGR
);

8532 
_cimg_iskey_‹¡2
(
APPRIGHT
); _cimg_iskey_‹¡2(
MENU
); _cimg_iskey_‹¡2(
CTRLRIGHT
);

8533 
_cimg_iskey_‹¡2
(
ARROWLEFT
); _cimg_iskey_‹¡2(
ARROWDOWN
); _cimg_iskey_‹¡2(
ARROWRIGHT
);

8534 
_cimg_iskey_‹¡2
(
PAD0
); _cimg_iskey_‹¡2(
PAD1
); _cimg_iskey_‹¡2(
PAD2
);

8535 
_cimg_iskey_‹¡2
(
PAD3
); _cimg_iskey_‹¡2(
PAD4
); _cimg_iskey_‹¡2(
PAD5
);

8536 
_cimg_iskey_‹¡2
(
PAD6
); _cimg_iskey_‹¡2(
PAD7
); _cimg_iskey_‹¡2(
PAD8
);

8537 
_cimg_iskey_‹¡2
(
PAD9
); _cimg_iskey_‹¡2(
PADADD
); _cimg_iskey_‹¡2(
PADSUB
);

8538 
_cimg_iskey_‹¡2
(
PADMUL
); _cimg_iskey_‹¡2(
PADDIV
);

8539  
	gf
;

8559 
boŞ
 
is_key_£qu’û
(cÚ¡ *cÚ¡ 
keycodes_£qu’û
, cÚ¡ 
Ëngth
,

8560 cÚ¡ 
boŞ
 
»move_£qu’û
=
çl£
) {

8561 ià(
keycodes_£qu’û
 && 
Ëngth
) {

8563 *cÚ¡ 
ps_’d
 = 
keycodes_£qu’û
 + 
Ëngth
 - 1,

8564 *cÚ¡ 
	gpk_’d
 = (*)
_keys
 + 1 + 128 - 
Ëngth
,

8565 
	gk
 = *
ps_’d
;

8566 *
	gpk
 = (*)
_keys
;…k<
	gpk_’d
; ) {

8567 ià(*(
	gpk
++)==
k
) {

8568 
boŞ
 
»s
 = 
Œue
;

8569 cÚ¡ *
	gps
 = 
ps_’d
, *
	gpk2
 = 
pk
;

8570 
	gi
 = 1; i<
	gËngth
; ++iè
	g»s
 = (*(--
ps
)==*(
pk2
++));

8571 ià(
	g»s
) {

8572 ià(
	g»move_£qu’û
è
	g¡d
::
mem£t
((*)(
pk
 - 1),0,()*
Ëngth
);

8573  
	gŒue
;

8578  
	gçl£
;

8581 
	#_cimg_iskey_def
(
k
) \

8582 
boŞ
 
is_key
##
	`k
() const { \

8583  
_is_key
##
k
; \

8584 }

	)

8590 
_cimg_iskey_def
(
ESC
); _cimg_iskey_def(
F1
); _cimg_iskey_def(
F2
); _cimg_iskey_def(
F3
);

8591 
_cimg_iskey_def
(
F4
); _cimg_iskey_def(
F5
); _cimg_iskey_def(
F6
); _cimg_iskey_def(
F7
);

8592 
_cimg_iskey_def
(
F8
); _cimg_iskey_def(
F9
); _cimg_iskey_def(
F10
); _cimg_iskey_def(
F11
);

8593 
_cimg_iskey_def
(
F12
); _cimg_iskey_def(
PAUSE
); _cimg_iskey_def(1); _cimg_iskey_def(2);

8594 
_cimg_iskey_def
(3); _cimg_iskey_def(4); _cimg_iskey_def(5); _cimg_iskey_def(6);

8595 
_cimg_iskey_def
(7); _cimg_iskey_def(8); _cimg_iskey_def(9); _cimg_iskey_def(0);

8596 
_cimg_iskey_def
(
BACKSPACE
); _cimg_iskey_def(
INSERT
); _cimg_iskey_def(
HOME
);

8597 
_cimg_iskey_def
(
PAGEUP
); _cimg_iskey_def(
TAB
); _cimg_iskey_def(
Q
); _cimg_iskey_def(
W
);

8598 
_cimg_iskey_def
(
E
); _cimg_iskey_def(
R
); _cimg_iskey_def(
T
); _cimg_iskey_def(
Y
);

8599 
_cimg_iskey_def
(
U
); _cimg_iskey_def(
I
); _cimg_iskey_def(
O
); _cimg_iskey_def(
P
);

8600 
_cimg_iskey_def
(
DELETE
); _cimg_iskey_def(
END
); _cimg_iskey_def(
PAGEDOWN
);

8601 
_cimg_iskey_def
(
CAPSLOCK
); _cimg_iskey_def(
A
); _cimg_iskey_def(
S
); _cimg_iskey_def(
D
);

8602 
_cimg_iskey_def
(
F
); _cimg_iskey_def(
G
); _cimg_iskey_def(
H
); _cimg_iskey_def(
J
);

8603 
_cimg_iskey_def
(
K
); _cimg_iskey_def(
L
); _cimg_iskey_def(
ENTER
);

8604 
_cimg_iskey_def
(
SHIFTLEFT
); _cimg_iskey_def(
Z
); _cimg_iskey_def(
X
); _cimg_iskey_def(
C
);

8605 
_cimg_iskey_def
(
V
); _cimg_iskey_def(
B
); _cimg_iskey_def(
N
); _cimg_iskey_def(
M
);

8606 
_cimg_iskey_def
(
SHIFTRIGHT
); _cimg_iskey_def(
ARROWUP
); _cimg_iskey_def(
CTRLLEFT
);

8607 
_cimg_iskey_def
(
APPLEFT
); _cimg_iskey_def(
ALT
); _cimg_iskey_def(
SPACE
); _cimg_iskey_def(
ALTGR
);

8608 
_cimg_iskey_def
(
APPRIGHT
); _cimg_iskey_def(
MENU
); _cimg_iskey_def(
CTRLRIGHT
);

8609 
_cimg_iskey_def
(
ARROWLEFT
); _cimg_iskey_def(
ARROWDOWN
); _cimg_iskey_def(
ARROWRIGHT
);

8610 
_cimg_iskey_def
(
PAD0
); _cimg_iskey_def(
PAD1
); _cimg_iskey_def(
PAD2
);

8611 
_cimg_iskey_def
(
PAD3
); _cimg_iskey_def(
PAD4
); _cimg_iskey_def(
PAD5
);

8612 
_cimg_iskey_def
(
PAD6
); _cimg_iskey_def(
PAD7
); _cimg_iskey_def(
PAD8
);

8613 
_cimg_iskey_def
(
PAD9
); _cimg_iskey_def(
PADADD
); _cimg_iskey_def(
PADSUB
);

8614 
_cimg_iskey_def
(
PADMUL
); _cimg_iskey_def(
PADDIV
);

8623 #ià
cimg_di¥Ïy
==0

8628 
sü“n_width
() {

8629 
_no_di¥Ïy_exû±iÚ
();

8636 
sü“n_height
() {

8637 
_no_di¥Ïy_exû±iÚ
();

8648 
width
() const {

8649  ()
	g_width
;

8657 
height
() const {

8658  ()
	g_height
;

8684 
nÜm®iz©iÚ
() const {

8685  
	g_nÜm®iz©iÚ
;

8693 cÚ¡ *
t™Ë
() const {

8694  
	g_t™Ë
?_title:"";

8702 
wšdow_width
() const {

8703  ()
	g_wšdow_width
;

8711 
wšdow_height
() const {

8712  ()
	g_wšdow_height
;

8719 
wšdow_x
() const {

8720  
	g_wšdow_x
;

8727 
wšdow_y
() const {

8728  
	g_wšdow_y
;

8737 
mou£_x
() const {

8738  
	g_mou£_x
;

8747 
mou£_y
() const {

8748  
	g_mou£_y
;

8777 
bu‰Ú
() const {

8778  
	g_bu‰Ú
;

8806 
wh“l
() const {

8807  
	g_wh“l
;

8823 & 
key
(cÚ¡ 
pos
=0) const {

8824 
key0
;

8825  
	gpos
<128?
	g_keys
[
pos
]:(
key0
 = 0);

8842 & 
»Ëa£d_key
(cÚ¡ 
pos
=0) const {

8843 
key0
;

8844  
	gpos
<128?
	g_»Ëa£d_keys
[
pos
]:(
key0
 = 0);

8856 
keycode
(const *const keycode) {

8857 
	#_cimg_keycode
(
k
èià(!
cimg
::
	`¡rÿ£cmp
(
keycode
,#k)è cimg::
key
##k;

	)

8858 
_cimg_keycode
(
ESC
); _cimg_keycode(
F1
); _cimg_keycode(
F2
); _cimg_keycode(
F3
);

8859 
_cimg_keycode
(
F4
); _cimg_keycode(
F5
); _cimg_keycode(
F6
); _cimg_keycode(
F7
);

8860 
_cimg_keycode
(
F8
); _cimg_keycode(
F9
); _cimg_keycode(
F10
); _cimg_keycode(
F11
);

8861 
_cimg_keycode
(
F12
); _cimg_keycode(
PAUSE
); _cimg_keycode(1); _cimg_keycode(2);

8862 
_cimg_keycode
(3); _cimg_keycode(4); _cimg_keycode(5); _cimg_keycode(6);

8863 
_cimg_keycode
(7); _cimg_keycode(8); _cimg_keycode(9); _cimg_keycode(0);

8864 
_cimg_keycode
(
BACKSPACE
); _cimg_keycode(
INSERT
); _cimg_keycode(
HOME
);

8865 
_cimg_keycode
(
PAGEUP
); _cimg_keycode(
TAB
); _cimg_keycode(
Q
); _cimg_keycode(
W
);

8866 
_cimg_keycode
(
E
); _cimg_keycode(
R
); _cimg_keycode(
T
); _cimg_keycode(
Y
);

8867 
_cimg_keycode
(
U
); _cimg_keycode(
I
); _cimg_keycode(
O
); _cimg_keycode(
P
);

8868 
_cimg_keycode
(
DELETE
); _cimg_keycode(
END
); _cimg_keycode(
PAGEDOWN
);

8869 
_cimg_keycode
(
CAPSLOCK
); _cimg_keycode(
A
); _cimg_keycode(
S
); _cimg_keycode(
D
);

8870 
_cimg_keycode
(
F
); _cimg_keycode(
G
); _cimg_keycode(
H
); _cimg_keycode(
J
);

8871 
_cimg_keycode
(
K
); _cimg_keycode(
L
); _cimg_keycode(
ENTER
);

8872 
_cimg_keycode
(
SHIFTLEFT
); _cimg_keycode(
Z
); _cimg_keycode(
X
); _cimg_keycode(
C
);

8873 
_cimg_keycode
(
V
); _cimg_keycode(
B
); _cimg_keycode(
N
); _cimg_keycode(
M
);

8874 
_cimg_keycode
(
SHIFTRIGHT
); _cimg_keycode(
ARROWUP
); _cimg_keycode(
CTRLLEFT
);

8875 
_cimg_keycode
(
APPLEFT
); _cimg_keycode(
ALT
); _cimg_keycode(
SPACE
); _cimg_keycode(
ALTGR
);

8876 
_cimg_keycode
(
APPRIGHT
); _cimg_keycode(
MENU
); _cimg_keycode(
CTRLRIGHT
);

8877 
_cimg_keycode
(
ARROWLEFT
); _cimg_keycode(
ARROWDOWN
); _cimg_keycode(
ARROWRIGHT
);

8878 
_cimg_keycode
(
PAD0
); _cimg_keycode(
PAD1
); _cimg_keycode(
PAD2
);

8879 
_cimg_keycode
(
PAD3
); _cimg_keycode(
PAD4
); _cimg_keycode(
PAD5
);

8880 
_cimg_keycode
(
PAD6
); _cimg_keycode(
PAD7
); _cimg_keycode(
PAD8
);

8881 
_cimg_keycode
(
PAD9
); _cimg_keycode(
PADADD
); _cimg_keycode(
PADSUB
);

8882 
_cimg_keycode
(
PADMUL
); _cimg_keycode(
PADDIV
);

8891 
äames_³r_£cÚd
() {

8892 ià(!
	g_ås_tim”
è_ås_tim” = 
cimg
::
time
();

8893 cÚ¡ 
	gd–
 = ()((
cimg
::
time
(è- 
_ås_tim”
)/1000.f);

8894 ++
	g_ås_äames
;

8895 ià(
	gd–
>=1) {

8896 
_ås_ås
 = 
_ås_äames
/
d–
;

8897 
	g_ås_äames
 = 0;

8898 
	g_ås_tim”
 = 
cimg
::
time
();

8900  
	g_ås_ås
;

8904 
	gCImgDi¥Ïy
& 
move_šside_sü“n
() {

8905 ià(
is_em±y
()è *
	gthis
;

8907 
	gx0
 = 
wšdow_x
(),

8908 
	gy0
 = 
wšdow_y
(),

8909 
	gx1
 = 
x0
 + 
wšdow_width
() - 1,

8910 
	gy1
 = 
y0
 + 
wšdow_height
() - 1,

8911 
	gsw
 = 
CImgDi¥Ïy
::
sü“n_width
(),

8912 
	gsh
 = 
CImgDi¥Ïy
::
sü“n_height
();

8913 ià(
	gx0
<0 || 
	gy0
<0 || 
	gx1
>=
sw
 || 
y1
>=
sh
)

8914 
move
(
¡d
::
max
(0,¡d::
mš
(
x0
,
sw
 - 
x1
 + x0)),

8915 
¡d
::
max
(0,¡d::
mš
(
y0
,
sh
 - 
y1
 + y0)));

8916  *
	gthis
;

8926 #ià
cimg_di¥Ïy
==0

8933 
	g‹m¶©e
<
ty³Çme
 
	gT
>

8934 
	gCImgDi¥Ïy
& 
di¥Ïy
(cÚ¡ 
CImg
<
T
>& 
img
) {

8935  
assign
(
img
);

8948 
	g‹m¶©e
<
ty³Çme
 
	gT
>

8949 
	gCImgDi¥Ïy
& 
di¥Ïy
(cÚ¡ 
CImgLi¡
<
T
>& 
li¡
, cÚ¡ 
axis
='x', cÚ¡ 
®ign
=0) {

8950 ià(
li¡
.
_width
==1) {

8951 cÚ¡ 
CImg
<
T
>& 
img
 = 
li¡
[0];

8952 ià(
	gimg
.
	g_d•th
==1 && (
img
.
_¥eùrum
==1 || img._¥eùrum>=3è&& 
_nÜm®iz©iÚ
!=1è 
di¥Ïy
(img);

8954 
	gCImgLi¡
<
ty³Çme
 
	gCImg
<
	gT
>::
uch¬T
> 
visu
(
li¡
.
_width
);

8955 
	gdims
 = 0;

8956 
cimgli¡_fÜ
(
li¡
,
l
) {

8957 cÚ¡ 
	gCImg
<
	gT
>& 
	gimg
 = 
li¡
.
_d©a
[
l
];

8958 
	gimg
.
_g‘_£Ëù
(*
this
,
_nÜm®iz©iÚ
,(
img
.
_width
 - 1)/2,(img.
_height
 - 1)/2,

8959 (
img
.
_d•th
 - 1)/2).
move_to
(
visu
[
l
]);

8960 
	gdims
 = 
¡d
::
max
(
dims
,
visu
[
l
].
_¥eùrum
);

8962 
cimgli¡_fÜ
(
li¡
,
l
èià(
	gvisu
[l].
	g_¥eùrum
<
	gdims
èvisu[l].
»size
(-100,-100,-100,
dims
,1);

8963 
	gvisu
.
g‘_­³nd
(
axis
,
®ign
).
di¥Ïy
(*
this
);

8964  *
	gthis
;

8967 #ià
cimg_di¥Ïy
==0

8975 
	gCImgDi¥Ïy
& 
show
() {

8976  
assign
();

8987 
	gCImgDi¥Ïy
& 
şo£
() {

8988  
assign
();

8998 
	gCImgDi¥Ïy
& 
move
(cÚ¡ 
pos_x
, cÚ¡ 
pos_y
) {

8999  
assign
(
pos_x
,
pos_y
);

9012 
	gCImgDi¥Ïy
& 
»size
(cÚ¡ 
boŞ
 
fÜû_»d¿w
=
Œue
) {

9013 
»size
(
wšdow_width
(),
wšdow_height
(),
fÜû_»d¿w
);

9014  *
	gthis
;

9017 #ià
cimg_di¥Ïy
==0

9026 
	gCImgDi¥Ïy
& 
»size
(cÚ¡ 
width
, cÚ¡ 
height
, cÚ¡ 
boŞ
 
fÜû_»d¿w
=
Œue
) {

9027  
assign
(
width
,
height
,0,3,
fÜû_»d¿w
);

9041 
	g‹m¶©e
<
ty³Çme
 
	gT
>

9042 
	gCImgDi¥Ïy
& 
»size
(cÚ¡ 
CImg
<
T
>& 
img
, cÚ¡ 
boŞ
 
fÜû_»d¿w
=
Œue
) {

9043  
»size
(
img
.
_width
,img.
_height
,
fÜû_»d¿w
);

9055 
	gCImgDi¥Ïy
& 
»size
(cÚ¡ 
CImgDi¥Ïy
& 
di¥
, cÚ¡ 
boŞ
 
fÜû_»d¿w
=
Œue
) {

9056  
»size
(
di¥
.
width
(),di¥.
height
(),
fÜû_»d¿w
);

9060 
	g‹m¶©e
<
ty³Çme
 
	gt
,y³Çm
	gT
>

9061 
_»nd”_»size
(cÚ¡ 
T
 *
±rs
, cÚ¡ 
ws
, cÚ¡ 
hs
,

9062 
t
 *
±rd
, cÚ¡ 
wd
, cÚ¡ 
hd
) {

9063 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,
	tcimg_ulÚg
>::
	tty³
 
	tulÚgT
;

9064 cÚ¡ 
ulÚgT
 
	gÚe
 = (ulongT)1;

9065 
	gCImg
<
	gulÚgT
> 
off_x
(
wd
), 
off_y
(
hd
 + 1);

9066 ià(
	gwd
==
ws
è
off_x
.
fl
(1);

9068 
ulÚgT
 *
	gpoff_x
 = 
off_x
.
_d©a
, 
	gcu¼
 = 0;

9069 
	gx
 = 0; x<
	gwd
; ++x) {

9070 cÚ¡ 
ulÚgT
 
	gŞd
 = 
cu¼
;

9071 
	gcu¼
 = (
x
 + 
Úe
)*
ws
/
wd
;

9072 *(
	gpoff_x
++èğ
cu¼
 - 
Şd
;

9075 ià(
	ghd
==
hs
è
off_y
.
fl
(
ws
);

9077 
ulÚgT
 *
	gpoff_y
 = 
off_y
.
_d©a
, 
	gcu¼
 = 0;

9078 
	gy
 = 0; y<
	ghd
; ++y) {

9079 cÚ¡ 
ulÚgT
 
	gŞd
 = 
cu¼
;

9080 
	gcu¼
 = (
y
 + 
Úe
)*
hs
/
hd
;

9081 *(
	gpoff_y
++èğ
ws
*(
cu¼
 - 
Şd
);

9083 *
	gpoff_y
 = 0;

9085 
ulÚgT
 *
	gpoff_y
 = 
off_y
.
_d©a
;

9086 
	gy
 = 0; y<
	ghd
; ) {

9087 cÚ¡ 
T
 *
	g±r
 = 
±rs
;

9088 
ulÚgT
 *
	gpoff_x
 = 
off_x
.
_d©a
;

9089 
	gx
 = 0; x<
	gwd
; ++xè{ *(
	g±rd
++èğ*
±r
; 
	g±r
+=*(
poff_x
++); }

9090 ++
	gy
;

9091 
ulÚgT
 
	gdy
 = *(
poff_y
++);

9092  ; !
	gdy
 && 
	gy
<
	ghd
; 
	g¡d
::
memıy
(
±rd
,±rd - 
wd
,(
t
)*wd), ++y, 
	g±rd
+=wd, dy = *(
poff_y
++)) {}

9093 
±rs
+=
dy
;

9101 
	gCImgDi¥Ïy
& 
£t_nÜm®iz©iÚ
(cÚ¡ 
nÜm®iz©iÚ
) {

9102 
	g_nÜm®iz©iÚ
 = 
nÜm®iz©iÚ
;

9103 
	g_mš
 = 
_max
 = 0;

9104  *
	gthis
;

9107 #ià
cimg_di¥Ïy
==0

9122 
	gCImgDi¥Ïy
& 
£t_t™Ë
(cÚ¡ *cÚ¡ 
fÜm©
, ...) {

9123  
assign
(0,0,
fÜm©
);

9140 
	gCImgDi¥Ïy
& 
£t_fuÎsü“n
(cÚ¡ 
boŞ
 
is_fuÎsü“n
, cÚ¡ boŞ 
fÜû_»d¿w
=
Œue
) {

9141 ià(
is_em±y
(è|| 
_is_fuÎsü“n
==
is_fuÎsü“n
è *
this
;

9142  
toggË_fuÎsü“n
(
fÜû_»d¿w
);

9145 #ià
cimg_di¥Ïy
==0

9152 
	gCImgDi¥Ïy
& 
toggË_fuÎsü“n
(cÚ¡ 
boŞ
 
fÜû_»d¿w
=
Œue
) {

9153  
assign
(
_width
,
_height
,0,3,
fÜû_»d¿w
);

9161 
	gCImgDi¥Ïy
& 
show_mou£
() {

9162  
assign
();

9170 
	gCImgDi¥Ïy
& 
hide_mou£
() {

9171  
assign
();

9179 
	gCImgDi¥Ïy
& 
£t_mou£
(cÚ¡ 
pos_x
, cÚ¡ 
pos_y
) {

9180  
assign
(
pos_x
,
pos_y
);

9189 
	gCImgDi¥Ïy
& 
£t_bu‰Ú
() {

9190 
	g_bu‰Ú
 = 0;

9191 
	g_is_ev’t
 = 
Œue
;

9192 #ià
cimg_di¥Ïy
==1

9193 
±h»ad_cÚd_brßdÿ¡
(&
cimg
::
X11_©Œ
().
wa™_ev’t
);

9194 #–ià
cimg_di¥Ïy
==2

9195 
S‘Ev’t
(
cimg
::
Wš32_©Œ
().
wa™_ev’t
);

9197  *
	gthis
;

9205 
	gCImgDi¥Ïy
& 
£t_bu‰Ú
(cÚ¡ 
bu‰Ú
, cÚ¡ 
boŞ
 
is_´es£d
=
Œue
) {

9206 cÚ¡ 
bu‰Úcode
 = 
bu‰Ú
==1U?1U:button==2U?2U:button==3U?4U:0U;

9207 ià(
	gis_´es£d
è
	g_bu‰Ú
 |ğ
bu‰Úcode
; _button &= ~buttoncode;

9208 
	g_is_ev’t
 = 
bu‰Úcode
?
Œue
:
çl£
;

9209 ià(
	gbu‰Úcode
) {

9210 #ià
cimg_di¥Ïy
==1

9211 
±h»ad_cÚd_brßdÿ¡
(&
cimg
::
X11_©Œ
().
wa™_ev’t
);

9212 #–ià
cimg_di¥Ïy
==2

9213 
S‘Ev’t
(
cimg
::
Wš32_©Œ
().
wa™_ev’t
);

9216  *
	gthis
;

9223 
	gCImgDi¥Ïy
& 
£t_wh“l
() {

9224 
	g_wh“l
 = 0;

9225 
	g_is_ev’t
 = 
Œue
;

9226 #ià
cimg_di¥Ïy
==1

9227 
±h»ad_cÚd_brßdÿ¡
(&
cimg
::
X11_©Œ
().
wa™_ev’t
);

9228 #–ià
cimg_di¥Ïy
==2

9229 
S‘Ev’t
(
cimg
::
Wš32_©Œ
().
wa™_ev’t
);

9231  *
	gthis
;

9239 
	gCImgDi¥Ïy
& 
£t_wh“l
(cÚ¡ 
am¶™ude
) {

9240 
	g_wh“l
+=
am¶™ude
;

9241 
	g_is_ev’t
 = 
am¶™ude
?
Œue
:
çl£
;

9242 ià(
	gam¶™ude
) {

9243 #ià
cimg_di¥Ïy
==1

9244 
±h»ad_cÚd_brßdÿ¡
(&
cimg
::
X11_©Œ
().
wa™_ev’t
);

9245 #–ià
cimg_di¥Ïy
==2

9246 
S‘Ev’t
(
cimg
::
Wš32_©Œ
().
wa™_ev’t
);

9249  *
	gthis
;

9256 
	gCImgDi¥Ïy
& 
£t_key
() {

9257 
	g¡d
::
mem£t
((*)
_keys
,0,128*());

9258 
	g¡d
::
mem£t
((*)
_»Ëa£d_keys
,0,128*());

9259 
	g_is_keyESC
 = 
_is_keyF1
 = 
_is_keyF2
 = 
_is_keyF3
 = 
_is_keyF4
 = 
_is_keyF5
 = 
_is_keyF6
 = 
_is_keyF7
 = 
_is_keyF8
 =

9260 
_is_keyF9
 = 
_is_keyF10
 = 
_is_keyF11
 = 
_is_keyF12
 = 
_is_keyPAUSE
 = 
_is_key1
 = 
_is_key2
 = 
_is_key3
 = 
_is_key4
 =

9261 
_is_key5
 = 
_is_key6
 = 
_is_key7
 = 
_is_key8
 = 
_is_key9
 = 
_is_key0
 = 
_is_keyBACKSPACE
 = 
_is_keyINSERT
 =

9262 
_is_keyHOME
 = 
_is_keyPAGEUP
 = 
_is_keyTAB
 = 
_is_keyQ
 = 
_is_keyW
 = 
_is_keyE
 = 
_is_keyR
 = 
_is_keyT
 = 
_is_keyY
 =

9263 
_is_keyU
 = 
_is_keyI
 = 
_is_keyO
 = 
_is_keyP
 = 
_is_keyDELETE
 = 
_is_keyEND
 = 
_is_keyPAGEDOWN
 = 
_is_keyCAPSLOCK
 =

9264 
_is_keyA
 = 
_is_keyS
 = 
_is_keyD
 = 
_is_keyF
 = 
_is_keyG
 = 
_is_keyH
 = 
_is_keyJ
 = 
_is_keyK
 = 
_is_keyL
 =

9265 
_is_keyENTER
 = 
_is_keySHIFTLEFT
 = 
_is_keyZ
 = 
_is_keyX
 = 
_is_keyC
 = 
_is_keyV
 = 
_is_keyB
 = 
_is_keyN
 =

9266 
_is_keyM
 = 
_is_keySHIFTRIGHT
 = 
_is_keyARROWUP
 = 
_is_keyCTRLLEFT
 = 
_is_keyAPPLEFT
 = 
_is_keyALT
 = 
_is_keySPACE
 =

9267 
_is_keyALTGR
 = 
_is_keyAPPRIGHT
 = 
_is_keyMENU
 = 
_is_keyCTRLRIGHT
 = 
_is_keyARROWLEFT
 = 
_is_keyARROWDOWN
 =

9268 
_is_keyARROWRIGHT
 = 
_is_keyPAD0
 = 
_is_keyPAD1
 = 
_is_keyPAD2
 = 
_is_keyPAD3
 = 
_is_keyPAD4
 = 
_is_keyPAD5
 =

9269 
_is_keyPAD6
 = 
_is_keyPAD7
 = 
_is_keyPAD8
 = 
_is_keyPAD9
 = 
_is_keyPADADD
 = 
_is_keyPADSUB
 = 
_is_keyPADMUL
 =

9270 
_is_keyPADDIV
 = 
çl£
;

9271 
	g_is_ev’t
 = 
Œue
;

9272 #ià
cimg_di¥Ïy
==1

9273 
±h»ad_cÚd_brßdÿ¡
(&
cimg
::
X11_©Œ
().
wa™_ev’t
);

9274 #–ià
cimg_di¥Ïy
==2

9275 
S‘Ev’t
(
cimg
::
Wš32_©Œ
().
wa™_ev’t
);

9277  *
	gthis
;

9287 
	gCImgDi¥Ïy
& 
£t_key
(cÚ¡ 
keycode
, cÚ¡ 
boŞ
 
is_´es£d
=
Œue
) {

9288 
	#_cimg_£t_key
(
k
èià(
keycode
==
cimg
::
key
##kè
_is_key
##k = 
is_´es£d
;

	)

9289 
_cimg_£t_key
(
ESC
); _cimg_£t_key(
F1
); _cimg_£t_key(
F2
); _cimg_£t_key(
F3
);

9290 
_cimg_£t_key
(
F4
); _cimg_£t_key(
F5
); _cimg_£t_key(
F6
); _cimg_£t_key(
F7
);

9291 
_cimg_£t_key
(
F8
); _cimg_£t_key(
F9
); _cimg_£t_key(
F10
); _cimg_£t_key(
F11
);

9292 
_cimg_£t_key
(
F12
); _cimg_£t_key(
PAUSE
); _cimg_set_key(1); _cimg_set_key(2);

9293 
_cimg_£t_key
(3); _cimg_set_key(4); _cimg_set_key(5); _cimg_set_key(6);

9294 
_cimg_£t_key
(7); _cimg_set_key(8); _cimg_set_key(9); _cimg_set_key(0);

9295 
_cimg_£t_key
(
BACKSPACE
); _cimg_£t_key(
INSERT
); _cimg_£t_key(
HOME
);

9296 
_cimg_£t_key
(
PAGEUP
); _cimg_£t_key(
TAB
); _cimg_£t_key(
Q
); _cimg_£t_key(
W
);

9297 
_cimg_£t_key
(
E
); _cimg_£t_key(
R
); _cimg_£t_key(
T
); _cimg_£t_key(
Y
);

9298 
_cimg_£t_key
(
U
); _cimg_£t_key(
I
); _cimg_£t_key(
O
); _cimg_£t_key(
P
);

9299 
_cimg_£t_key
(
DELETE
); _cimg_£t_key(
END
); _cimg_£t_key(
PAGEDOWN
);

9300 
_cimg_£t_key
(
CAPSLOCK
); _cimg_£t_key(
A
); _cimg_£t_key(
S
); _cimg_£t_key(
D
);

9301 
_cimg_£t_key
(
F
); _cimg_£t_key(
G
); _cimg_£t_key(
H
); _cimg_£t_key(
J
);

9302 
_cimg_£t_key
(
K
); _cimg_£t_key(
L
); _cimg_£t_key(
ENTER
);

9303 
_cimg_£t_key
(
SHIFTLEFT
); _cimg_£t_key(
Z
); _cimg_£t_key(
X
); _cimg_£t_key(
C
);

9304 
_cimg_£t_key
(
V
); _cimg_£t_key(
B
); _cimg_£t_key(
N
); _cimg_£t_key(
M
);

9305 
_cimg_£t_key
(
SHIFTRIGHT
); _cimg_£t_key(
ARROWUP
); _cimg_£t_key(
CTRLLEFT
);

9306 
_cimg_£t_key
(
APPLEFT
); _cimg_£t_key(
ALT
); _cimg_£t_key(
SPACE
); _cimg_£t_key(
ALTGR
);

9307 
_cimg_£t_key
(
APPRIGHT
); _cimg_£t_key(
MENU
); _cimg_£t_key(
CTRLRIGHT
);

9308 
_cimg_£t_key
(
ARROWLEFT
); _cimg_£t_key(
ARROWDOWN
); _cimg_£t_key(
ARROWRIGHT
);

9309 
_cimg_£t_key
(
PAD0
); _cimg_£t_key(
PAD1
); _cimg_£t_key(
PAD2
);

9310 
_cimg_£t_key
(
PAD3
); _cimg_£t_key(
PAD4
); _cimg_£t_key(
PAD5
);

9311 
_cimg_£t_key
(
PAD6
); _cimg_£t_key(
PAD7
); _cimg_£t_key(
PAD8
);

9312 
_cimg_£t_key
(
PAD9
); _cimg_£t_key(
PADADD
); _cimg_£t_key(
PADSUB
);

9313 
_cimg_£t_key
(
PADMUL
); _cimg_£t_key(
PADDIV
);

9314 ià(
	gis_´es£d
) {

9315 ià(*
	g_keys
)

9316 
	g¡d
::
memmove
((*)(
_keys
 + 1),(*)_keys,127*());

9317 *
	g_keys
 = 
keycode
;

9318 ià(*
	g_»Ëa£d_keys
) {

9319 
	g¡d
::
memmove
((*)(
_»Ëa£d_keys
 + 1),(*)_released_keys,127*());

9320 *
	g_»Ëa£d_keys
 = 0;

9323 ià(*
	g_keys
) {

9324 
	g¡d
::
memmove
((*)(
_keys
 + 1),(*)_keys,127*());

9325 *
	g_keys
 = 0;

9327 ià(*
	g_»Ëa£d_keys
)

9328 
	g¡d
::
memmove
((*)(
_»Ëa£d_keys
 + 1),(*)_released_keys,127*());

9329 *
	g_»Ëa£d_keys
 = 
keycode
;

9331 
	g_is_ev’t
 = 
keycode
?
Œue
:
çl£
;

9332 ià(
	gkeycode
) {

9333 #ià
cimg_di¥Ïy
==1

9334 
±h»ad_cÚd_brßdÿ¡
(&
cimg
::
X11_©Œ
().
wa™_ev’t
);

9335 #–ià
cimg_di¥Ïy
==2

9336 
S‘Ev’t
(
cimg
::
Wš32_©Œ
().
wa™_ev’t
);

9339  *
	gthis
;

9346 
	gCImgDi¥Ïy
& 
æush
() {

9347 
£t_key
().
£t_bu‰Ú
().
£t_wh“l
();

9348 
	g_is_»sized
 = 
_is_moved
 = 
_is_ev’t
 = 
çl£
;

9349 
	g_ås_tim”
 = 
_ås_äames
 = 
_tim”
 = 0;

9350 
	g_ås_ås
 = 0;

9351  *
	gthis
;

9355 
	gCImgDi¥Ïy
& 
wa™
() {

9356 
wa™
(*
this
);

9357  *
	gthis
;

9365 
	gCImgDi¥Ïy
& 
wa™
(cÚ¡ 
mli£cÚds
) {

9366 
	gcimg
::
wa™
(
mli£cÚds
,&
_tim”
);

9367  *
	gthis
;

9371 
wa™
(
CImgDi¥Ïy
& 
di¥1
) {

9372 
	gdi¥1
.
	g_is_ev’t
 = 
çl£
;

9373 !
	gdi¥1
.
	g_is_şo£d
 && !di¥1.
	g_is_ev’t
è
wa™_®l
();

9377 
wa™
(
CImgDi¥Ïy
& 
di¥1
, CImgDi¥Ïy& 
di¥2
) {

9378 
	gdi¥1
.
	g_is_ev’t
 = 
di¥2
.
_is_ev’t
 = 
çl£
;

9379 (!
	gdi¥1
.
	g_is_şo£d
 || !
	gdi¥2
._is_closed) &&

9380 !
	gdi¥1
.
	g_is_ev’t
 && !
	gdi¥2
._is_ev’tè
wa™_®l
();

9384 
wa™
(
CImgDi¥Ïy
& 
di¥1
, CImgDi¥Ïy& 
di¥2
, CImgDi¥Ïy& 
di¥3
) {

9385 
	gdi¥1
.
	g_is_ev’t
 = 
di¥2
.
_is_ev’t
 = 
di¥3
._is_ev’ˆğ
çl£
;

9386 (!
	gdi¥1
.
	g_is_şo£d
 || !
	gdi¥2
._is_şo£d || !
	gdi¥3
._is_closed) &&

9387 !
	gdi¥1
.
	g_is_ev’t
 && !
	gdi¥2
._is_ev’ˆ&& !
	gdi¥3
._is_ev’tè
wa™_®l
();

9391 
wa™
(
CImgDi¥Ïy
& 
di¥1
, CImgDi¥Ïy& 
di¥2
, CImgDi¥Ïy& 
di¥3
, CImgDi¥Ïy& 
di¥4
) {

9392 
	gdi¥1
.
	g_is_ev’t
 = 
di¥2
.
_is_ev’t
 = 
di¥3
._is_ev’ˆğ
di¥4
._is_ev’ˆğ
çl£
;

9393 (!
	gdi¥1
.
	g_is_şo£d
 || !
	gdi¥2
._is_şo£d || !
	gdi¥3
._is_şo£d || !
	gdi¥4
._is_closed) &&

9394 !
	gdi¥1
.
	g_is_ev’t
 && !
	gdi¥2
._is_ev’ˆ&& !
	gdi¥3
._is_ev’ˆ&& !
	gdi¥4
._is_ev’tè
wa™_®l
();

9398 
wa™
(
CImgDi¥Ïy
& 
di¥1
, CImgDi¥Ïy& 
di¥2
, CImgDi¥Ïy& 
di¥3
, CImgDi¥Ïy& 
di¥4
,

9399 
CImgDi¥Ïy
& 
di¥5
) {

9400 
	gdi¥1
.
	g_is_ev’t
 = 
di¥2
.
_is_ev’t
 = 
di¥3
._is_ev’ˆğ
di¥4
._is_ev’ˆğ
di¥5
._is_ev’ˆğ
çl£
;

9401 (!
	gdi¥1
.
	g_is_şo£d
 || !
	gdi¥2
._is_şo£d || !
	gdi¥3
._is_şo£d || !
	gdi¥4
._is_şo£d || !
	gdi¥5
._is_closed) &&

9402 !
	gdi¥1
.
	g_is_ev’t
 && !
	gdi¥2
._is_ev’ˆ&& !
	gdi¥3
._is_ev’ˆ&& !
	gdi¥4
._is_ev’ˆ&& !
	gdi¥5
._is_event)

9403 
wa™_®l
();

9407 
wa™
(
CImgDi¥Ïy
& 
di¥1
, CImgDi¥Ïy& 
di¥2
, CImgDi¥Ïy& 
di¥3
, CImgDi¥Ïy& 
di¥4
, CImgDi¥Ïy& 
di¥5
,

9408 
CImgDi¥Ïy
& 
di¥6
) {

9409 
	gdi¥1
.
	g_is_ev’t
 = 
di¥2
.
_is_ev’t
 = 
di¥3
._is_ev’ˆğ
di¥4
._is_ev’ˆğ
di¥5
._is_event =

9410 
di¥6
.
_is_ev’t
 = 
çl£
;

9411 (!
	gdi¥1
.
	g_is_şo£d
 || !
	gdi¥2
._is_şo£d || !
	gdi¥3
._is_şo£d || !
	gdi¥4
._is_şo£d || !
	gdi¥5
._is_closed ||

9412 !
	gdi¥6
.
	g_is_şo£d
) &&

9413 !
	gdi¥1
.
	g_is_ev’t
 && !
	gdi¥2
._is_ev’ˆ&& !
	gdi¥3
._is_ev’ˆ&& !
	gdi¥4
._is_ev’ˆ&& !
	gdi¥5
._is_event &&

9414 !
	gdi¥6
.
	g_is_ev’t
è
wa™_®l
();

9418 
wa™
(
CImgDi¥Ïy
& 
di¥1
, CImgDi¥Ïy& 
di¥2
, CImgDi¥Ïy& 
di¥3
, CImgDi¥Ïy& 
di¥4
, CImgDi¥Ïy& 
di¥5
,

9419 
CImgDi¥Ïy
& 
di¥6
, CImgDi¥Ïy& 
di¥7
) {

9420 
	gdi¥1
.
	g_is_ev’t
 = 
di¥2
.
_is_ev’t
 = 
di¥3
._is_ev’ˆğ
di¥4
._is_ev’ˆğ
di¥5
._is_event =

9421 
di¥6
.
_is_ev’t
 = 
di¥7
._is_ev’ˆğ
çl£
;

9422 (!
	gdi¥1
.
	g_is_şo£d
 || !
	gdi¥2
._is_şo£d || !
	gdi¥3
._is_şo£d || !
	gdi¥4
._is_şo£d || !
	gdi¥5
._is_closed ||

9423 !
	gdi¥6
.
	g_is_şo£d
 || !
	gdi¥7
._is_closed) &&

9424 !
	gdi¥1
.
	g_is_ev’t
 && !
	gdi¥2
._is_ev’ˆ&& !
	gdi¥3
._is_ev’ˆ&& !
	gdi¥4
._is_ev’ˆ&& !
	gdi¥5
._is_event &&

9425 !
	gdi¥6
.
	g_is_ev’t
 && !
	gdi¥7
._is_ev’tè
wa™_®l
();

9429 
wa™
(
CImgDi¥Ïy
& 
di¥1
, CImgDi¥Ïy& 
di¥2
, CImgDi¥Ïy& 
di¥3
, CImgDi¥Ïy& 
di¥4
, CImgDi¥Ïy& 
di¥5
,

9430 
CImgDi¥Ïy
& 
di¥6
, CImgDi¥Ïy& 
di¥7
, CImgDi¥Ïy& 
di¥8
) {

9431 
	gdi¥1
.
	g_is_ev’t
 = 
di¥2
.
_is_ev’t
 = 
di¥3
._is_ev’ˆğ
di¥4
._is_ev’ˆğ
di¥5
._is_event =

9432 
di¥6
.
_is_ev’t
 = 
di¥7
._is_ev’ˆğ
di¥8
._is_ev’ˆğ
çl£
;

9433 (!
	gdi¥1
.
	g_is_şo£d
 || !
	gdi¥2
._is_şo£d || !
	gdi¥3
._is_şo£d || !
	gdi¥4
._is_şo£d || !
	gdi¥5
._is_closed ||

9434 !
	gdi¥6
.
	g_is_şo£d
 || !
	gdi¥7
._is_şo£d || !
	gdi¥8
._is_closed) &&

9435 !
	gdi¥1
.
	g_is_ev’t
 && !
	gdi¥2
._is_ev’ˆ&& !
	gdi¥3
._is_ev’ˆ&& !
	gdi¥4
._is_ev’ˆ&& !
	gdi¥5
._is_event &&

9436 !
	gdi¥6
.
	g_is_ev’t
 && !
	gdi¥7
._is_ev’ˆ&& !
	gdi¥8
._is_ev’tè
wa™_®l
();

9440 
wa™
(
CImgDi¥Ïy
& 
di¥1
, CImgDi¥Ïy& 
di¥2
, CImgDi¥Ïy& 
di¥3
, CImgDi¥Ïy& 
di¥4
, CImgDi¥Ïy& 
di¥5
,

9441 
CImgDi¥Ïy
& 
di¥6
, CImgDi¥Ïy& 
di¥7
, CImgDi¥Ïy& 
di¥8
, CImgDi¥Ïy& 
di¥9
) {

9442 
	gdi¥1
.
	g_is_ev’t
 = 
di¥2
.
_is_ev’t
 = 
di¥3
._is_ev’ˆğ
di¥4
._is_ev’ˆğ
di¥5
._is_event =

9443 
di¥6
.
_is_ev’t
 = 
di¥7
._is_ev’ˆğ
di¥8
._is_ev’ˆğ
di¥9
._is_ev’ˆğ
çl£
;

9444 (!
	gdi¥1
.
	g_is_şo£d
 || !
	gdi¥2
._is_şo£d || !
	gdi¥3
._is_şo£d || !
	gdi¥4
._is_şo£d || !
	gdi¥5
._is_closed ||

9445 !
	gdi¥6
.
	g_is_şo£d
 || !
	gdi¥7
._is_şo£d || !
	gdi¥8
._is_şo£d || !
	gdi¥9
._is_closed) &&

9446 !
	gdi¥1
.
	g_is_ev’t
 && !
	gdi¥2
._is_ev’ˆ&& !
	gdi¥3
._is_ev’ˆ&& !
	gdi¥4
._is_ev’ˆ&& !
	gdi¥5
._is_event &&

9447 !
	gdi¥6
.
	g_is_ev’t
 && !
	gdi¥7
._is_ev’ˆ&& !
	gdi¥8
._is_ev’ˆ&& !
	gdi¥9
._is_ev’tè
wa™_®l
();

9451 
wa™
(
CImgDi¥Ïy
& 
di¥1
, CImgDi¥Ïy& 
di¥2
, CImgDi¥Ïy& 
di¥3
, CImgDi¥Ïy& 
di¥4
, CImgDi¥Ïy& 
di¥5
,

9452 
CImgDi¥Ïy
& 
di¥6
, CImgDi¥Ïy& 
di¥7
, CImgDi¥Ïy& 
di¥8
, CImgDi¥Ïy& 
di¥9
,

9453 
CImgDi¥Ïy
& 
di¥10
) {

9454 
	gdi¥1
.
	g_is_ev’t
 = 
di¥2
.
_is_ev’t
 = 
di¥3
._is_ev’ˆğ
di¥4
._is_ev’ˆğ
di¥5
._is_event =

9455 
di¥6
.
_is_ev’t
 = 
di¥7
._is_ev’ˆğ
di¥8
._is_ev’ˆğ
di¥9
._is_ev’ˆğ
di¥10
._is_ev’ˆğ
çl£
;

9456 (!
	gdi¥1
.
	g_is_şo£d
 || !
	gdi¥2
._is_şo£d || !
	gdi¥3
._is_şo£d || !
	gdi¥4
._is_şo£d || !
	gdi¥5
._is_closed ||

9457 !
	gdi¥6
.
	g_is_şo£d
 || !
	gdi¥7
._is_şo£d || !
	gdi¥8
._is_şo£d || !
	gdi¥9
._is_şo£d || !
	gdi¥10
._is_closed) &&

9458 !
	gdi¥1
.
	g_is_ev’t
 && !
	gdi¥2
._is_ev’ˆ&& !
	gdi¥3
._is_ev’ˆ&& !
	gdi¥4
._is_ev’ˆ&& !
	gdi¥5
._is_event &&

9459 !
	gdi¥6
.
	g_is_ev’t
 && !
	gdi¥7
._is_ev’ˆ&& !
	gdi¥8
._is_ev’ˆ&& !
	gdi¥9
._is_ev’ˆ&& !
	gdi¥10
._is_event)

9460 
wa™_®l
();

9463 #ià
cimg_di¥Ïy
==0

9466 
wa™_®l
() {

9467  
_no_di¥Ïy_exû±iÚ
();

9478 
	g‹m¶©e
<
ty³Çme
 
	gT
>

9479 
	gCImgDi¥Ïy
& 
»nd”
(cÚ¡ 
CImg
<
T
>& 
img
) {

9480  
assign
(
img
);

9489 
	gCImgDi¥Ïy
& 
·št
() {

9490  
assign
();

9502 
	g‹m¶©e
<
ty³Çme
 
	gT
>

9503 
sü“nshÙ
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
x1
, cÚ¡ 
y1
, 
CImg
<
T
>& 
img
) {

9504 
	gcimg
::
unu£d
(
x0
,
y0
,
x1
,
y1
,&
img
);

9505 
_no_di¥Ïy_exû±iÚ
();

9512 
	g‹m¶©e
<
ty³Çme
 
	gT
>

9513 cÚ¡ 
	gCImgDi¥Ïy
& 
¢­shÙ
(
CImg
<
T
>& 
img
) const {

9514 
	gcimg
::
unu£d
(
img
);

9515 
_no_di¥Ïy_exû±iÚ
();

9516  *
	gthis
;

9522 #ià
cimg_di¥Ïy
==1

9524 
Atom
 
	g_wm_wšdow_©om
, 
	g_wm_´ÙocŞ_©om
;

9525 
Wšdow
 
	g_wšdow
, 
	g_background_wšdow
;

9526 
CŞÜm­
 
	g_cŞÜm­
;

9527 
XImage
 *
	g_image
;

9528 *
	g_d©a
;

9530 #ifdeà
cimg_u£_xshm


9531 
XShmSegm’tInfo
 *
	g_shmšfo
;

9534 
sü“n_width
() {

9535 
Di¥Ïy
 *cÚ¡ 
	gdpy
 = 
cimg
::
X11_©Œ
().
di¥Ïy
;

9536 
	g»s
 = 0;

9537 ià(!
	gdpy
) {

9538 
Di¥Ïy
 *cÚ¡ 
	g_dpy
 = 
XO³nDi¥Ïy
(0);

9539 ià(!
	g_dpy
)

9540 
throw
 
CImgDi¥ÏyExû±iÚ
("CImgDisplay::screen_width(): Failedo open X11 display.");

9541 
	g»s
 = 
Di¥ÏyWidth
(
_dpy
,
DeçuÉSü“n
(_dpy));

9542 
XClo£Di¥Ïy
(
_dpy
);

9545 #ifdeà
cimg_u£_x¿ndr


9546 ià(
	gcimg
::
X11_©Œ
().
»sŞutiÚs
 && 
cimg
::X11_©Œ().
cu¼_»sŞutiÚ
)

9547 
»s
 = 
cimg
::
X11_©Œ
().
»sŞutiÚs
[cimg::X11_©Œ().
cu¼_»sŞutiÚ
].
width
;

9548 
	g»s
 = 
Di¥ÏyWidth
(
dpy
,
DeçuÉSü“n
(dpy));

9550 
	g»s
 = 
Di¥ÏyWidth
(
dpy
,
DeçuÉSü“n
(dpy));

9553  
	g»s
;

9556 
sü“n_height
() {

9557 
Di¥Ïy
 *cÚ¡ 
	gdpy
 = 
cimg
::
X11_©Œ
().
di¥Ïy
;

9558 
	g»s
 = 0;

9559 ià(!
	gdpy
) {

9560 
Di¥Ïy
 *cÚ¡ 
	g_dpy
 = 
XO³nDi¥Ïy
(0);

9561 ià(!
	g_dpy
)

9562 
throw
 
CImgDi¥ÏyExû±iÚ
("CImgDisplay::screen_height(): Failedo open X11 display.");

9563 
	g»s
 = 
Di¥ÏyHeight
(
_dpy
,
DeçuÉSü“n
(_dpy));

9564 
XClo£Di¥Ïy
(
_dpy
);

9567 #ifdeà
cimg_u£_x¿ndr


9568 ià(
	gcimg
::
X11_©Œ
().
»sŞutiÚs
 && 
cimg
::X11_©Œ().
cu¼_»sŞutiÚ
)

9569 
»s
 = 
cimg
::
X11_©Œ
().
»sŞutiÚs
[cimg::X11_©Œ().
cu¼_»sŞutiÚ
].
height
;

9570 
	g»s
 = 
Di¥ÏyHeight
(
dpy
,
DeçuÉSü“n
(dpy));

9572 
	g»s
 = 
Di¥ÏyHeight
(
dpy
,
DeçuÉSü“n
(dpy));

9575  
	g»s
;

9578 
wa™_®l
() {

9579 ià(!
	gcimg
::
X11_©Œ
().
di¥Ïy
) ;

9580 
±h»ad_mu‹x_lock
(&
cimg
::
X11_©Œ
().
wa™_ev’t_mu‹x
);

9581 
±h»ad_cÚd_wa™
(&
cimg
::
X11_©Œ
().
wa™_ev’t
,&cimg::X11_©Œ().
wa™_ev’t_mu‹x
);

9582 
±h»ad_mu‹x_uÆock
(&
cimg
::
X11_©Œ
().
wa™_ev’t_mu‹x
);

9585 
_hªdË_ev’ts
(cÚ¡ 
XEv’t
 *cÚ¡ 
³v’t
) {

9586 
Di¥Ïy
 *cÚ¡ 
	gdpy
 = 
cimg
::
X11_©Œ
().
di¥Ïy
;

9587 
XEv’t
 
	gev’t
 = *
³v’t
;

9588 
	gev’t
.
	gty³
) {

9589 
	gCl›ÁMes§ge
 : {

9590 ià(()
ev’t
.
xş›Á
.
mes§ge_ty³
==()
_wm_´ÙocŞ_©om
 &&

9591 ()
ev’t
.
xş›Á
.
d©a
.
l
[0]==()
_wm_wšdow_©om
) {

9592 
XUnm­Wšdow
(
cimg
::
X11_©Œ
().
di¥Ïy
,
_wšdow
);

9593 
	g_is_şo£d
 = 
_is_ev’t
 = 
Œue
;

9594 
±h»ad_cÚd_brßdÿ¡
(&
cimg
::
X11_©Œ
().
wa™_ev’t
);

9597 
	gCÚfigu»NÙify
 : {

9598 
XCheckWšdowEv’t
(
dpy
,
_wšdow
,
SŒuùu»NÙifyMask
,&
ev’t
)) {}

9599 cÚ¡ 
	gnw
 = 
ev’t
.
xcÚfigu»
.
width
, 
	gnh
 =ƒv’t.xcÚfigu».
height
;

9600 cÚ¡ 
	gnx
 = 
ev’t
.
xcÚfigu»
.
x
, 
	gny
 =ƒv’t.xcÚfigu».
y
;

9601 ià(
	gnw
 && 
	gnh
 && (nw!=
_wšdow_width
 || 
nh
!=
_wšdow_height
)) {

9602 
_wšdow_width
 = 
nw
; 
	g_wšdow_height
 = 
nh
; 
	g_mou£_x
 = 
_mou£_y
 = -1;

9603 
XResizeWšdow
(
dpy
,
_wšdow
,
_wšdow_width
,
_wšdow_height
);

9604 
	g_is_»sized
 = 
_is_ev’t
 = 
Œue
;

9605 
±h»ad_cÚd_brßdÿ¡
(&
cimg
::
X11_©Œ
().
wa™_ev’t
);

9607 ià(
	gnx
!=
_wšdow_x
 || 
ny
!=
_wšdow_y
) {

9608 
_wšdow_x
 = 
nx
;

9609 
	g_wšdow_y
 = 
ny
;

9610 
	g_is_moved
 = 
_is_ev’t
 = 
Œue
;

9611 
±h»ad_cÚd_brßdÿ¡
(&
cimg
::
X11_©Œ
().
wa™_ev’t
);

9614 
	gExpo£
 : {

9615 
XCheckWšdowEv’t
(
dpy
,
_wšdow
,
Exposu»Mask
,&
ev’t
)) {}

9616 
_·št
(
çl£
);

9617 ià(
	g_is_fuÎsü“n
) {

9618 
XWšdowA‰ribu‹s
 
	g©Œ
;

9620 
XG‘WšdowA‰ribu‹s
(
dpy
,
_wšdow
,&
©Œ
);

9621 ià(
	g©Œ
.
	gm­_¡©e
!=
IsV›wabË
è{ 
XSync
(
dpy
,0); 
	gcimg
::
¦“p
(10); }

9622 } 
	g©Œ
.
	gm­_¡©e
!=
IsV›wabË
);

9623 
XS‘IÅutFocus
(
dpy
,
_wšdow
,
Rev”tToP¬’t
,
Cu¼’tTime
);

9626 
	gBu‰ÚP»ss
 : {

9628 
_mou£_x
 = 
ev’t
.
xmÙiÚ
.
x
; 
	g_mou£_y
 =ƒv’t.xmÙiÚ.
y
;

9629 ià(
	g_mou£_x
<0 || 
	g_mou£_y
<0 || _mou£_x>=
width
(è|| 
_mou£_y
>=
height
()è
_mou£_x
 = _mouse_y = -1;

9630 
	gev’t
.
	gxbu‰Ú
.
	gbu‰Ú
) {

9631 1 : 
£t_bu‰Ú
(1); ;

9632 3 : 
£t_bu‰Ú
(2); ;

9633 2 : 
£t_bu‰Ú
(3); ;

9635 } 
XCheckWšdowEv’t
(
dpy
,
_wšdow
,
Bu‰ÚP»ssMask
,&
ev’t
));

9637 
	gBu‰ÚR–—£
 : {

9639 
_mou£_x
 = 
ev’t
.
xmÙiÚ
.
x
; 
	g_mou£_y
 =ƒv’t.xmÙiÚ.
y
;

9640 ià(
	g_mou£_x
<0 || 
	g_mou£_y
<0 || _mou£_x>=
width
(è|| 
_mou£_y
>=
height
()è
_mou£_x
 = _mouse_y = -1;

9641 
	gev’t
.
	gxbu‰Ú
.
	gbu‰Ú
) {

9642 1 : 
£t_bu‰Ú
(1,
çl£
); ;

9643 3 : 
£t_bu‰Ú
(2,
çl£
); ;

9644 2 : 
£t_bu‰Ú
(3,
çl£
); ;

9645 4 : 
£t_wh“l
(1); ;

9646 5 : 
£t_wh“l
(-1); ;

9648 } 
XCheckWšdowEv’t
(
dpy
,
_wšdow
,
Bu‰ÚR–—£Mask
,&
ev’t
));

9650 
	gKeyP»ss
 : {

9651 
tmp
 = 0; 
KeySym
 
	gksym
;

9652 
XLookupSŒšg
(&
ev’t
.
xkey
,&
tmp
,1,&
ksym
,0);

9653 
£t_key
(()
ksym
,
Œue
);

9655 
	gKeyR–—£
 : {

9656 
keys_»tuº
[32];

9657 
XQu”yKeym­
(
dpy
,
keys_»tuº
);

9658 cÚ¡ 
	gkc
 = 
ev’t
.
xkey
.
keycode
, 
	gkc1
 = 
kc
/8, 
	gkc2
 = kc%8;

9659 cÚ¡ 
boŞ
 
	gis_key_´es£d
 = 
kc1
>=32?
çl£
:(
keys_»tuº
[kc1]>>
kc2
)&1;

9660 ià(!
	gis_key_´es£d
) {

9661 
	gtmp
 = 0; 
KeySym
 
	gksym
;

9662 
XLookupSŒšg
(&
ev’t
.
xkey
,&
tmp
,1,&
ksym
,0);

9663 
£t_key
(()
ksym
,
çl£
);

9666 
	gEÁ”NÙify
: {

9667 
XCheckWšdowEv’t
(
dpy
,
_wšdow
,
EÁ”WšdowMask
,&
ev’t
)) {}

9668 
	g_mou£_x
 = 
ev’t
.
xmÙiÚ
.
x
;

9669 
	g_mou£_y
 = 
ev’t
.
xmÙiÚ
.
y
;

9670 ià(
	g_mou£_x
<0 || 
	g_mou£_y
<0 || _mou£_x>=
width
(è|| 
_mou£_y
>=
height
()è
_mou£_x
 = _mouse_y = -1;

9672 
	gL—veNÙify
 : {

9673 
XCheckWšdowEv’t
(
dpy
,
_wšdow
,
L—veWšdowMask
,&
ev’t
)) {}

9674 
	g_mou£_x
 = 
_mou£_y
 = -1; 
	g_is_ev’t
 = 
Œue
;

9675 
±h»ad_cÚd_brßdÿ¡
(&
cimg
::
X11_©Œ
().
wa™_ev’t
);

9677 
	gMÙiÚNÙify
 : {

9678 
XCheckWšdowEv’t
(
dpy
,
_wšdow
,
Poš‹rMÙiÚMask
,&
ev’t
)) {}

9679 
	g_mou£_x
 = 
ev’t
.
xmÙiÚ
.
x
;

9680 
	g_mou£_y
 = 
ev’t
.
xmÙiÚ
.
y
;

9681 ià(
	g_mou£_x
<0 || 
	g_mou£_y
<0 || _mou£_x>=
width
(è|| 
_mou£_y
>=
height
()è
_mou£_x
 = _mouse_y = -1;

9682 
	g_is_ev’t
 = 
Œue
;

9683 
±h»ad_cÚd_brßdÿ¡
(&
cimg
::
X11_©Œ
().
wa™_ev’t
);

9688 * 
_ev’ts_th»ad
(*
¬g
) {

9689 
Di¥Ïy
 *cÚ¡ 
	gdpy
 = 
cimg
::
X11_©Œ
().
di¥Ïy
;

9690 
XEv’t
 
	gev’t
;

9691 
±h»ad_£tÿnûÉy³
(
PTHREAD_CANCEL_DEFERRED
,0);

9692 
±h»ad_£tÿnûl¡©e
(
PTHREAD_CANCEL_ENABLE
,0);

9693 ià(!
	g¬g
)  ; ; ) {

9694 
cimg_lock_di¥Ïy
();

9695 
boŞ
 
	gev’t_æag
 = 
XCheckTy³dEv’t
(
dpy
,
Cl›ÁMes§ge
,&
ev’t
);

9696 ià(!
	gev’t_æag
èev’t_æag = 
XCheckMaskEv’t
(
dpy
,

9697 
Exposu»Mask
 | 
SŒuùu»NÙifyMask
 | 
Bu‰ÚP»ssMask
 |

9698 
KeyP»ssMask
 | 
Poš‹rMÙiÚMask
 | 
EÁ”WšdowMask
 |

9699 
L—veWšdowMask
 | 
Bu‰ÚR–—£Mask
 | 
KeyR–—£Mask
,&
ev’t
);

9700 ià(
	gev’t_æag
)

9701 
	gi
 = 0; i<
	gcimg
::
X11_©Œ
().
nb_wšs
; ++i)

9702 ià(!
	gcimg
::
X11_©Œ
().
wšs
[
i
]->
_is_şo£d
 && 
ev’t
.
xªy
.
wšdow
==
cimg
::X11_©Œ().wšs[i]->
_wšdow
)

9703 
cimg
::
X11_©Œ
().
wšs
[
i
]->
_hªdË_ev’ts
(&
ev’t
);

9704 
cimg_uÆock_di¥Ïy
();

9705 
±h»ad_‹¡ÿnûl
();

9706 
	gcimg
::
¦“p
(8);

9711 
_£t_cŞÜm­
(
CŞÜm­
& 
cm­
, cÚ¡ 
dim
) {

9712 
XCŞÜ
 *cÚ¡ 
	gcŞÜm­
 = 
Ãw
 XColor[256];

9713 
	gdim
) {

9715 
šdex
 = 0; 
	gšdex
<256; ++index) {

9716 
	gcŞÜm­
[
šdex
].
	gpix–
 = index;

9717 
	gcŞÜm­
[
šdex
].
	g»d
 = 
cŞÜm­
[šdex].
g»’
 = cŞÜm­[šdex].
blue
 = ()(index<<8);

9718 
	gcŞÜm­
[
šdex
].
	gæags
 = 
DoRed
 | 
DoG»’
 | 
DoBlue
;

9722 
šdex
 = 0, 
	gr
 = 8;„<256;„+=16)

9723 
g
 = 8; 
	gg
<256; g+=16) {

9724 
cŞÜm­
[
šdex
].
pix–
 = index;

9725 
	gcŞÜm­
[
šdex
].
	g»d
 = 
cŞÜm­
[šdex].
blue
 = ()(
r
<<8);

9726 
	gcŞÜm­
[
šdex
].
	gg»’
 = ()(
g
<<8);

9727 
	gcŞÜm­
[
šdex
++].
	gæags
 = 
DoRed
 | 
DoG»’
 | 
DoBlue
;

9731 
šdex
 = 0, 
	gr
 = 16;„<256;„+=32)

9732 
g
 = 16; 
	gg
<256; g+=32)

9733 
b
 = 32; 
	gb
<256; b+=64) {

9734 
cŞÜm­
[
šdex
].
pix–
 = index;

9735 
	gcŞÜm­
[
šdex
].
	g»d
 = ()(
r
<<8);

9736 
	gcŞÜm­
[
šdex
].
	gg»’
 = ()(
g
<<8);

9737 
	gcŞÜm­
[
šdex
].
	gblue
 = ()(
b
<<8);

9738 
	gcŞÜm­
[
šdex
++].
	gæags
 = 
DoRed
 | 
DoG»’
 | 
DoBlue
;

9742 
XStÜeCŞÜs
(
cimg
::
X11_©Œ
().
di¥Ïy
,
cm­
,
cŞÜm­
,256);

9743 
	gd–‘e
[] 
	gcŞÜm­
;

9746 
_m­_wšdow
() {

9747 
Di¥Ïy
 *cÚ¡ 
	gdpy
 = 
cimg
::
X11_©Œ
().
di¥Ïy
;

9748 
boŞ
 
	gis_expo£d
 = 
çl£
, 
	gis_m­³d
 = false;

9749 
XWšdowA‰ribu‹s
 
	g©Œ
;

9750 
XEv’t
 
	gev’t
;

9751 
XM­Rai£d
(
dpy
,
_wšdow
);

9753 
XWšdowEv’t
(
dpy
,
_wšdow
,
SŒuùu»NÙifyMask
 | 
Exposu»Mask
,&
ev’t
);

9754 
	gev’t
.
	gty³
) {

9755 
	gM­NÙify
 : 
is_m­³d
 = 
Œue
; ;

9756 
	gExpo£
 : 
is_expo£d
 = 
Œue
; ;

9758 } !
	gis_expo£d
 || !
	gis_m­³d
);

9760 
XG‘WšdowA‰ribu‹s
(
dpy
,
_wšdow
,&
©Œ
);

9761 ià(
	g©Œ
.
	gm­_¡©e
!=
IsV›wabË
è{ 
XSync
(
dpy
,0); 
	gcimg
::
¦“p
(10); }

9762 } 
	g©Œ
.
	gm­_¡©e
!=
IsV›wabË
);

9763 
	g_wšdow_x
 = 
©Œ
.
x
;

9764 
	g_wšdow_y
 = 
©Œ
.
y
;

9767 
_·št
(cÚ¡ 
boŞ
 
wa™_expo£
=
Œue
) {

9768 ià(
_is_şo£d
 || !
_image
) ;

9769 
Di¥Ïy
 *cÚ¡ 
	gdpy
 = 
cimg
::
X11_©Œ
().
di¥Ïy
;

9770 ià(
	gwa™_expo£
) {

9771 
XEv’t
 
	gev’t
;

9772 
	gev’t
.
	gxexpo£
.
	gty³
 = 
Expo£
;

9773 
	gev’t
.
	gxexpo£
.
	g£rŸl
 = 0;

9774 
	gev’t
.
	gxexpo£
.
	g£nd_ev’t
 = 1;

9775 
	gev’t
.
	gxexpo£
.
	gdi¥Ïy
 = 
dpy
;

9776 
	gev’t
.
	gxexpo£
.
	gwšdow
 = 
_wšdow
;

9777 
	gev’t
.
	gxexpo£
.
	gx
 = 0;

9778 
	gev’t
.
	gxexpo£
.
	gy
 = 0;

9779 
	gev’t
.
	gxexpo£
.
	gwidth
 = 
width
();

9780 
	gev’t
.
	gxexpo£
.
	gheight
 = 
height
();

9781 
	gev’t
.
	gxexpo£
.
	gcouÁ
 = 0;

9782 
XS’dEv’t
(
dpy
,
_wšdow
,0,0,&
ev’t
);

9784 
GC
 
	ggc
 = 
DeçuÉGC
(
dpy
,
DeçuÉSü“n
(dpy));

9786 #ifdeà
cimg_u£_xshm


9787 ià(
	g_shmšfo
è
XShmPutImage
(
dpy
,
_wšdow
,
gc
,
_image
,0,0,0,0,
_width
,
_height
,1);

9788 
XPutImage
(
dpy
,
_wšdow
,
gc
,
_image
,0,0,0,0,
_width
,
_height
);

9790 
XPutImage
(
dpy
,
_wšdow
,
gc
,
_image
,0,0,0,0,
_width
,
_height
);

9795 
	g‹m¶©e
<
ty³Çme
 
	gT
>

9796 
_»size
(
T
 
pix–_ty³
, cÚ¡ 
ndimx
, cÚ¡ 
ndimy
, cÚ¡ 
boŞ
 
fÜû_»d¿w
) {

9797 
Di¥Ïy
 *cÚ¡ 
	gdpy
 = 
cimg
::
X11_©Œ
().
di¥Ïy
;

9798 
	gcimg
::
unu£d
(
pix–_ty³
);

9800 #ifdeà
cimg_u£_xshm


9801 ià(
	g_shmšfo
) {

9802 
XShmSegm’tInfo
 *cÚ¡ 
	gnshmšfo
 = 
Ãw
 XShmSegmentInfo;

9803 
XImage
 *cÚ¡ 
	gnimage
 = 
XShmC»©eImage
(
dpy
,
DeçuÉVisu®
(dpy,
DeçuÉSü“n
(dpy)),

9804 
cimg
::
X11_©Œ
().
nb_b™s
,
ZPixm­
,0,
nshmšfo
,
ndimx
,
ndimy
);

9805 ià(!
	gnimage
è{ 
d–‘e
 
	gnshmšfo
; ; }

9807 
	gnshmšfo
->
	gshmid
 = 
shmg‘
(
IPC_PRIVATE
,
ndimx
*
ndimy
*(
T
),
IPC_CREAT
 | 0777);

9808 ià(
	gnshmšfo
->
	gshmid
==-1è{ 
XDe¡royImage
(
nimage
); 
d–‘e
‚shminfo; ; }

9810 
	gnshmšfo
->
	gshmaddr
 = 
nimage
->
d©a
 = (*)
shm©
(
nshmšfo
->
shmid
,0,0);

9811 ià(
	gnshmšfo
->
	gshmaddr
==(*)-1) {

9812 
shmùl
(
nshmšfo
->
shmid
,
IPC_RMID
,0); 
XDe¡royImage
(
nimage
); 
d–‘e
 
	gnshmšfo
; ;

9814 
	gnshmšfo
->
	g»adOÆy
 = 0;

9815 
	gcimg
::
X11_©Œ
().
is_shm_’abËd
 = 
Œue
;

9816 
XE¼ÜHªdËr
 
	gŞdXE¼ÜHªdËr
 = 
XS‘E¼ÜHªdËr
(
_assign_xshm
);

9817 
XShmA‰ach
(
dpy
,
nshmšfo
);

9818 
XFlush
(
dpy
);

9819 
XS‘E¼ÜHªdËr
(
ŞdXE¼ÜHªdËr
);

9820 ià(!
	gcimg
::
X11_©Œ
().
is_shm_’abËd
) {

9821 
shmdt
(
nshmšfo
->
shmaddr
);

9822 
shmùl
(
nshmšfo
->
shmid
,
IPC_RMID
,0);

9823 
XDe¡royImage
(
nimage
);

9824 
d–‘e
 
	gnshmšfo
;

9827 
T
 *cÚ¡ 
	gnd©a
 = (T*)
nimage
->
d©a
;

9828 ià(
	gfÜû_»d¿w
è
_»nd”_»size
((
T
*)
_d©a
,
_width
,
_height
,
nd©a
,
ndimx
,
ndimy
);

9829 
	g¡d
::
mem£t
(
nd©a
,0,(
T
)*
ndimx
*
ndimy
);

9830 
XShmD‘ach
(
dpy
,
_shmšfo
);

9831 
XDe¡royImage
(
_image
);

9832 
shmdt
(
_shmšfo
->
shmaddr
);

9833 
shmùl
(
_shmšfo
->
shmid
,
IPC_RMID
,0);

9834 
d–‘e
 
	g_shmšfo
;

9835 
	g_shmšfo
 = 
nshmšfo
;

9836 
	g_image
 = 
nimage
;

9837 
	g_d©a
 = (*)
nd©a
;

9845 
T
 *
	gnd©a
 = (T*)
¡d
::
m®loc
(
ndimx
*
ndimy
*(T));

9846 ià(
	gfÜû_»d¿w
è
_»nd”_»size
((
T
*)
_d©a
,
_width
,
_height
,
nd©a
,
ndimx
,
ndimy
);

9847 
	g¡d
::
mem£t
(
nd©a
,0,(
T
)*
ndimx
*
ndimy
);

9848 
	g_d©a
 = (*)
nd©a
;

9849 
XDe¡royImage
(
_image
);

9850 
	g_image
 = 
XC»©eImage
(
dpy
,
DeçuÉVisu®
(dpy,
DeçuÉSü“n
(dpy)),

9851 
cimg
::
X11_©Œ
().
nb_b™s
,
ZPixm­
,0,(*)
_d©a
,
ndimx
,
ndimy
,8,0);

9855 
_š™_fuÎsü“n
() {

9856 ià(!
	g_is_fuÎsü“n
 || 
	g_is_şo£d
) ;

9857 
Di¥Ïy
 *cÚ¡ 
	gdpy
 = 
cimg
::
X11_©Œ
().
di¥Ïy
;

9858 
	g_background_wšdow
 = 0;

9860 #ifdeà
cimg_u£_x¿ndr


9861 
	gfoo
;

9862 ià(
XRRQu”yEx‹nsiÚ
(
dpy
,&
foo
,&foo)) {

9863 
XRRRÙ©iÚs
(
dpy
,
DeçuÉSü“n
(dpy),&
cimg
::
X11_©Œ
().
cu¼_rÙ©iÚ
);

9864 ià(!
	gcimg
::
X11_©Œ
().
»sŞutiÚs
) {

9865 
cimg
::
X11_©Œ
().
»sŞutiÚs
 = 
XRRSizes
(
dpy
,
DeçuÉSü“n
(dpy),&
foo
);

9866 
	gcimg
::
X11_©Œ
().
nb_»sŞutiÚs
 = ()
foo
;

9868 ià(
	gcimg
::
X11_©Œ
().
»sŞutiÚs
) {

9869 
cimg
::
X11_©Œ
().
cu¼_»sŞutiÚ
 = 0;

9870 
	gi
 = 0; i<
	gcimg
::
X11_©Œ
().
nb_»sŞutiÚs
; ++i) {

9872 
	gnw
 = ()(
cimg
::
X11_©Œ
().
»sŞutiÚs
[
i
].
width
),

9873 
	gnh
 = ()(
cimg
::
X11_©Œ
().
»sŞutiÚs
[
i
].
height
);

9874 ià(
	gnw
>=
_width
 && 
nh
>=
_height
 &&

9875 
nw
<=()(
cimg
::
X11_©Œ
().
»sŞutiÚs
[cimg::X11_©Œ().
cu¼_»sŞutiÚ
].
width
) &&

9876 
nh
<=()(
cimg
::
X11_©Œ
().
»sŞutiÚs
[cimg::X11_©Œ().
cu¼_»sŞutiÚ
].
height
))

9877 
cimg
::
X11_©Œ
().
cu¼_»sŞutiÚ
 = 
i
;

9879 ià(
	gcimg
::
X11_©Œ
().
cu¼_»sŞutiÚ
>0) {

9880 
XRRSü“nCÚfigu¿tiÚ
 *
cÚfig
 = 
XRRG‘Sü“nInfo
(
dpy
,
DeçuÉRoÙWšdow
(dpy));

9881 
XRRS‘Sü“nCÚfig
(
dpy
,
cÚfig
,
DeçuÉRoÙWšdow
(dpy),

9882 
cimg
::
X11_©Œ
().
cu¼_»sŞutiÚ
,cimg::X11_©Œ().
cu¼_rÙ©iÚ
,
Cu¼’tTime
);

9883 
XRRF»eSü“nCÚfigInfo
(
cÚfig
);

9884 
XSync
(
dpy
,0);

9888 ià(!
	gcimg
::
X11_©Œ
().
»sŞutiÚs
)

9889 
cimg
::
w¬n
(
_cimgdi¥Ïy_š¡ªû


9891 
cimgdi¥Ïy_š¡ªû
);

9894 cÚ¡ 
	gsx
 = 
sü“n_width
(), 
	gsy
 = 
sü“n_height
();

9895 ià(
	gsx
==
_width
 && 
sy
==
_height
) ;

9896 
XS‘WšdowA‰ribu‹s
 
	g©Œ_£t
;

9898 
	g©Œ_£t
.
	gbackground_pix–
 = 
XBÏckPix–
(
dpy
,
XDeçuÉSü“n
(dpy));

9899 
	g©Œ_£t
.
	gov”ride_»dœeù
 = 1;

9900 
	g_background_wšdow
 = 
XC»©eWšdow
(
dpy
,
DeçuÉRoÙWšdow
(dpy),0,0,
sx
,
sy
,0,0,

9901 
IÅutOuut
,
CİyFromP¬’t
,
CWBackPix–
 | 
CWOv”rideRedœeù
,&
©Œ_£t
);

9902 
XEv’t
 
	gev’t
;

9903 
XS–eùIÅut
(
dpy
,
_background_wšdow
,
SŒuùu»NÙifyMask
);

9904 
XM­Rai£d
(
dpy
,
_background_wšdow
);

9905 dØ
XWšdowEv’t
(
dpy
,
_background_wšdow
,
SŒuùu»NÙifyMask
,&
ev’t
);

9906 
	gev’t
.
	gty³
!=
M­NÙify
);

9908 
XWšdowA‰ribu‹s
 
	g©Œ
;

9910 
XG‘WšdowA‰ribu‹s
(
dpy
,
_background_wšdow
,&
©Œ
);

9911 ià(
	g©Œ
.
	gm­_¡©e
!=
IsV›wabË
è{ 
XSync
(
dpy
,0); 
	gcimg
::
¦“p
(10); }

9912 } 
	g©Œ
.
	gm­_¡©e
!=
IsV›wabË
);

9915 
_desš™_fuÎsü“n
() {

9916 ià(!
	g_is_fuÎsü“n
) ;

9917 
Di¥Ïy
 *cÚ¡ 
	gdpy
 = 
cimg
::
X11_©Œ
().
di¥Ïy
;

9918 
XUng¿bKeybßrd
(
dpy
,
Cu¼’tTime
);

9920 #ifdeà
cimg_u£_x¿ndr


9921 ià(
	gcimg
::
X11_©Œ
().
»sŞutiÚs
 && 
cimg
::X11_©Œ().
cu¼_»sŞutiÚ
) {

9922 
XRRSü“nCÚfigu¿tiÚ
 *
cÚfig
 = 
XRRG‘Sü“nInfo
(
dpy
,
DeçuÉRoÙWšdow
(dpy));

9923 
XRRS‘Sü“nCÚfig
(
dpy
,
cÚfig
,
DeçuÉRoÙWšdow
(dpy),0,
cimg
::
X11_©Œ
().
cu¼_rÙ©iÚ
,
Cu¼’tTime
);

9924 
XRRF»eSü“nCÚfigInfo
(
cÚfig
);

9925 
XSync
(
dpy
,0);

9926 
	gcimg
::
X11_©Œ
().
cu¼_»sŞutiÚ
 = 0;

9929 ià(
	g_background_wšdow
è
XDe¡royWšdow
(
dpy
,
_background_wšdow
);

9930 
	g_background_wšdow
 = 0;

9931 
	g_is_fuÎsü“n
 = 
çl£
;

9934 
_assign_xshm
(
Di¥Ïy
 *
dpy
, 
XE¼ÜEv’t
 *
”rÜ
) {

9935 
	gcimg
::
unu£d
(
dpy
,
”rÜ
);

9936 
	gcimg
::
X11_©Œ
().
is_shm_’abËd
 = 
çl£
;

9940 
_assign
(cÚ¡ 
dimw
, cÚ¡ 
dimh
, cÚ¡ *cÚ¡ 
±™Ë
=0,

9941 cÚ¡ 
nÜm®iz©iÚ_ty³
=3,

9942 cÚ¡ 
boŞ
 
fuÎsü“n_æag
=
çl£
, cÚ¡ boŞ 
şo£d_æag
=false) {

9943 
cimg
::
mu‹x
(14);

9946 cÚ¡ *cÚ¡ 
	gÅt™Ë
 = 
±™Ë
?ptitle:"";

9947 cÚ¡ 
	gs
 = ()
¡d
::
¡¾’
(
Åt™Ë
) + 1;

9948 *cÚ¡ 
	gtmp_t™Ë
 = 
s
?
Ãw
 [s]:0;

9949 ià(
	gs
è
	g¡d
::
memıy
(
tmp_t™Ë
,
Åt™Ë
,
s
*());

9952 ià(!
is_em±y
()è
assign
();

9955 
	gDi¥Ïy
* &
	gdpy
 = 
cimg
::
X11_©Œ
().
di¥Ïy
;

9956 ià(!
	gdpy
) {

9957 
	gdpy
 = 
XO³nDi¥Ïy
(0);

9958 ià(!
	gdpy
)

9959 
throw
 
CImgDi¥ÏyExû±iÚ
(
_cimgdi¥Ïy_š¡ªû


9961 
cimgdi¥Ïy_š¡ªû
);

9963 
	gcimg
::
X11_©Œ
().
nb_b™s
 = 
DeçuÉD•th
(
dpy
,
DeçuÉSü“n
(dpy));

9964 ià(
	gcimg
::
X11_©Œ
().
nb_b™s
!=8 && 
cimg
::X11_attr().nb_bits!=16 &&

9965 
cimg
::
X11_©Œ
().
nb_b™s
!=24 && cimg::X11_attr().nb_bits!=32)

9966 
throw
 
CImgDi¥ÏyExû±iÚ
(
_cimgdi¥Ïy_š¡ªû


9969 
cimgdi¥Ïy_š¡ªû
,

9970 
cimg
::
X11_©Œ
().
nb_b™s
);

9971 
XVisu®Info
 
	gv‹m¶©e
;

9972 
	gv‹m¶©e
.
	gvisu®id
 = 
XVisu®IDFromVisu®
(
DeçuÉVisu®
(
dpy
,
DeçuÉSü“n
(dpy)));

9973 
	gnb_visu®s
;

9974 
XVisu®Info
 *
	gvšfo
 = 
XG‘Visu®Info
(
dpy
,
Visu®IDMask
,&
v‹m¶©e
,&
nb_visu®s
);

9975 ià(
	gvšfo
 && všfo->
	g»d_mask
<všfo->
	gblue_mask
è
	gcimg
::
X11_©Œ
().
is_blue_fœ¡
 = 
Œue
;

9976 
	gcimg
::
X11_©Œ
().
by‹_Üd”
 = 
ImageBy‹Ord”
(
dpy
);

9977 
XF»e
(
všfo
);

9979 
cimg_lock_di¥Ïy
();

9980 
	gcimg
::
X11_©Œ
().
ev’ts_th»ad
 = 
Ãw
 
±h»ad_t
;

9981 
±h»ad_ü—‹
(
cimg
::
X11_©Œ
().
ev’ts_th»ad
,0,
_ev’ts_th»ad
,0);

9982 } 
cimg_lock_di¥Ïy
();

9985 
	g_width
 = 
¡d
::
mš
(
dimw
,()
sü“n_width
());

9986 
	g_height
 = 
¡d
::
mš
(
dimh
,()
sü“n_height
());

9987 
	g_nÜm®iz©iÚ
 = 
nÜm®iz©iÚ_ty³
<4?normalization_type:3;

9988 
	g_is_fuÎsü“n
 = 
fuÎsü“n_æag
;

9989 
	g_wšdow_x
 = 
_wšdow_y
 = 
cimg
::
ty³
<>::
mš
();

9990 
	g_is_şo£d
 = 
şo£d_æag
;

9991 
	g_t™Ë
 = 
tmp_t™Ë
;

9992 
æush
();

9995 ià(
	g_is_fuÎsü“n
) {

9996 ià(!
	g_is_şo£d
è
_š™_fuÎsü“n
();

9997 cÚ¡ 
	gsx
 = 
sü“n_width
(), 
	gsy
 = 
sü“n_height
();

9998 
XS‘WšdowA‰ribu‹s
 
	g©Œ_£t
;

9999 
	g©Œ_£t
.
	gov”ride_»dœeù
 = 1;

10000 
	g_wšdow
 = 
XC»©eWšdow
(
dpy
,
DeçuÉRoÙWšdow
(dpy),(
sx
 - 
_width
)/2,(
sy
 - 
_height
)/2,_width,_height,0,0,

10001 
IÅutOuut
,
CİyFromP¬’t
,
CWOv”rideRedœeù
,&
©Œ_£t
);

10003 
	g_wšdow
 = 
XC»©eSim¶eWšdow
(
dpy
,
DeçuÉRoÙWšdow
(dpy),0,0,
_width
,
_height
,0,0L,0L);

10005 
XS–eùIÅut
(
dpy
,
_wšdow
,

10006 
Exposu»Mask
 | 
SŒuùu»NÙifyMask
 | 
Bu‰ÚP»ssMask
 | 
KeyP»ssMask
 | 
Poš‹rMÙiÚMask
 |

10007 
EÁ”WšdowMask
 | 
L—veWšdowMask
 | 
Bu‰ÚR–—£Mask
 | 
KeyR–—£Mask
);

10009 
XStÜeName
(
dpy
,
_wšdow
,
_t™Ë
?_title:" ");

10010 ià(
	gcimg
::
X11_©Œ
().
nb_b™s
==8) {

10011 
_cŞÜm­
 = 
XC»©eCŞÜm­
(
dpy
,
_wšdow
,
DeçuÉVisu®
(dpy,
DeçuÉSü“n
(dpy)),
AÎocAÎ
);

10012 
_£t_cŞÜm­
(
_cŞÜm­
,3);

10013 
XS‘WšdowCŞÜm­
(
dpy
,
_wšdow
,
_cŞÜm­
);

10016 cÚ¡ *cÚ¡ 
	g_wšdow_şass
 = 
cimg_­²ame
;

10017 
XCÏssHšt
 *cÚ¡ 
	gwšdow_şass
 = 
XAÎocCÏssHšt
();

10018 
	gwšdow_şass
->
	g»s_Çme
 = (*)
_wšdow_şass
;

10019 
	gwšdow_şass
->
	g»s_şass
 = (*)
_wšdow_şass
;

10020 
XS‘CÏssHšt
(
dpy
,
_wšdow
,
wšdow_şass
);

10021 
XF»e
(
wšdow_şass
);

10023 
	g_wšdow_width
 = 
_width
;

10024 
	g_wšdow_height
 = 
_height
;

10027 #ifdeà
cimg_u£_xshm


10028 
	g_shmšfo
 = 0;

10029 ià(
XShmQu”yEx‹nsiÚ
(
dpy
)) {

10030 
	g_shmšfo
 = 
Ãw
 
XShmSegm’tInfo
;

10031 
	g_image
 = 
XShmC»©eImage
(
dpy
,
DeçuÉVisu®
(dpy,
DeçuÉSü“n
(dpy)),
cimg
::
X11_©Œ
().
nb_b™s
,

10032 
ZPixm­
,0,
_shmšfo
,
_width
,
_height
);

10033 ià(!
	g_image
è{ 
d–‘e
 
	g_shmšfo
; _shminfo = 0; }

10035 
	g_shmšfo
->
	gshmid
 = 
shmg‘
(
IPC_PRIVATE
,
_image
->
by‹s_³r_lše
*_image->
height
,
IPC_CREAT
|0777);

10036 ià(
	g_shmšfo
->
	gshmid
==-1è{ 
XDe¡royImage
(
_image
); 
d–‘e
 _shminfo; _shminfo = 0; }

10038 
	g_shmšfo
->
	gshmaddr
 = 
_image
->
d©a
 = (*)(
_d©a
 = 
shm©
(
_shmšfo
->
shmid
,0,0));

10039 ià(
	g_shmšfo
->
	gshmaddr
==(*)-1) {

10040 
shmùl
(
_shmšfo
->
shmid
,
IPC_RMID
,0); 
XDe¡royImage
(
_image
); 
d–‘e
 
	g_shmšfo
; _shminfo = 0;

10042 
	g_shmšfo
->
	g»adOÆy
 = 0;

10043 
	gcimg
::
X11_©Œ
().
is_shm_’abËd
 = 
Œue
;

10044 
XE¼ÜHªdËr
 
	gŞdXE¼ÜHªdËr
 = 
XS‘E¼ÜHªdËr
(
_assign_xshm
);

10045 
XShmA‰ach
(
dpy
,
_shmšfo
);

10046 
XSync
(
dpy
,0);

10047 
XS‘E¼ÜHªdËr
(
ŞdXE¼ÜHªdËr
);

10048 ià(!
	gcimg
::
X11_©Œ
().
is_shm_’abËd
) {

10049 
shmdt
(
_shmšfo
->
shmaddr
); 
shmùl
(_shmšfo->
shmid
,
IPC_RMID
,0); 
XDe¡royImage
(
_image
);

10050 
d–‘e
 
	g_shmšfo
; _shminfo = 0;

10056 ià(!
	g_shmšfo
)

10059 cÚ¡ 
cimg_ulÚg
 
	gbuf_size
 = (cimg_ulÚg)
_width
*
_height
*(
cimg
::
X11_©Œ
().
nb_b™s
==8?1:

10060 (
cimg
::
X11_©Œ
().
nb_b™s
==16?2:4));

10061 
	g_d©a
 = 
¡d
::
m®loc
(
buf_size
);

10062 
	g_image
 = 
XC»©eImage
(
dpy
,
DeçuÉVisu®
(dpy,
DeçuÉSü“n
(dpy)),
cimg
::
X11_©Œ
().
nb_b™s
,

10063 
ZPixm­
,0,(*)
_d©a
,
_width
,
_height
,8,0);

10066 
	g_wm_wšdow_©om
 = 
XIÁ”nAtom
(
dpy
,"WM_DELETE_WINDOW",0);

10067 
	g_wm_´ÙocŞ_©om
 = 
XIÁ”nAtom
(
dpy
,"WM_PROTOCOLS",0);

10068 
XS‘WMPrÙocŞs
(
dpy
,
_wšdow
,&
_wm_wšdow_©om
,1);

10070 ià(
	g_is_fuÎsü“n
è
XG¿bKeybßrd
(
dpy
,
_wšdow
,1,
G¿bModeAsync
,G¿bModeAsync,
Cu¼’tTime
);

10071 
	gcimg
::
X11_©Œ
().
wšs
[
cimg
::X11_©Œ().
nb_wšs
++]=
this
;

10072 ià(!
	g_is_şo£d
è
_m­_wšdow
(); 
	g_wšdow_x
 = 
_wšdow_y
 = 
cimg
::
ty³
<>::
mš
();

10073 
cimg_uÆock_di¥Ïy
();

10074 
	gcimg
::
mu‹x
(14,0);

10077 
	gCImgDi¥Ïy
& 
assign
() {

10078 ià(
is_em±y
()è 
æush
();

10079 
Di¥Ïy
 *cÚ¡ 
	gdpy
 = 
cimg
::
X11_©Œ
().
di¥Ïy
;

10080 
cimg_lock_di¥Ïy
();

10083 
	gi
;

10084 
	gi
 = 0; i<
	gcimg
::
X11_©Œ
().
nb_wšs
 && 
cimg
::X11_©Œ().
wšs
[
i
]!=
this
; ++i) {}

10085  ; 
	gi
<
	gcimg
::
X11_©Œ
().
nb_wšs
 - 1; ++iècimg::X11_©Œ().
wšs
[
i
] = 
cimg
::X11_attr().wins[i + 1];

10086 --
	gcimg
::
X11_©Œ
().
nb_wšs
;

10089 ià(
	g_is_fuÎsü“n
 && !
	g_is_şo£d
è
_desš™_fuÎsü“n
();

10092 #ifdeà
cimg_u£_xshm


10093 ià(
	g_shmšfo
) {

10094 
XShmD‘ach
(
dpy
,
_shmšfo
);

10095 
shmdt
(
_shmšfo
->
shmaddr
);

10096 
shmùl
(
_shmšfo
->
shmid
,
IPC_RMID
,0);

10097 
d–‘e
 
	g_shmšfo
;

10098 
	g_shmšfo
 = 0;

10102 
XDe¡royImage
(
_image
);

10103 ià(
	gcimg
::
X11_©Œ
().
nb_b™s
==8è
XF»eCŞÜm­
(
dpy
,
_cŞÜm­
);

10104 
XDe¡royWšdow
(
dpy
,
_wšdow
);

10105 
XSync
(
dpy
,0);

10106 
	g_wšdow
 = 0; 
	g_cŞÜm­
 = 0; 
	g_d©a
 = 0; 
	g_image
 = 0;

10109 
	gd–‘e
[] 
	g_t™Ë
;

10110 
	g_width
 = 
_height
 = 
_nÜm®iz©iÚ
 = 
_wšdow_width
 = 
_wšdow_height
 = 0;

10111 
	g_wšdow_x
 = 
_wšdow_y
 = 
cimg
::
ty³
<>::
mš
();

10112 
	g_is_fuÎsü“n
 = 
çl£
;

10113 
	g_is_şo£d
 = 
Œue
;

10114 
	g_mš
 = 
_max
 = 0;

10115 
	g_t™Ë
 = 0;

10116 
æush
();

10118 
cimg_uÆock_di¥Ïy
();

10119  *
	gthis
;

10122 
	gCImgDi¥Ïy
& 
assign
(cÚ¡ 
dimw
, cÚ¡ 
dimh
, cÚ¡ *cÚ¡ 
t™Ë
=0,

10123 cÚ¡ 
nÜm®iz©iÚ_ty³
=3,

10124 cÚ¡ 
boŞ
 
fuÎsü“n_æag
=
çl£
, cÚ¡ boŞ 
şo£d_æag
=false) {

10125 ià(!
dimw
 || !
dimh
è 
assign
();

10126 
_assign
(
dimw
,
dimh
,
t™Ë
,
nÜm®iz©iÚ_ty³
,
fuÎsü“n_æag
,
şo£d_æag
);

10127 
	g_mš
 = 
_max
 = 0;

10128 
	g¡d
::
mem£t
(
_d©a
,0,(
cimg
::
X11_©Œ
().
nb_b™s
==8?():

10129 (
cimg
::
X11_©Œ
().
nb_b™s
==16?():()))*

10130 (
size_t
)
_width
*
_height
);

10131  
·št
();

10134 
	g‹m¶©e
<
ty³Çme
 
	gT
>

10135 
	gCImgDi¥Ïy
& 
assign
(cÚ¡ 
CImg
<
T
>& 
img
, cÚ¡ *cÚ¡ 
t™Ë
=0,

10136 cÚ¡ 
nÜm®iz©iÚ_ty³
=3,

10137 cÚ¡ 
boŞ
 
fuÎsü“n_æag
=
çl£
, cÚ¡ boŞ 
şo£d_æag
=false) {

10138 ià(!
img
è 
assign
();

10139 
	gCImg
<
	gT
> 
	gtmp
;

10140 cÚ¡ 
	gCImg
<
	gT
>& 
	gnimg
 = (
img
.
_d•th
==1)?img:(
tmp
=img.
g‘_´ojeùiÚs2d
((img.
_width
 - 1)/2,

10141 (
img
.
_height
 - 1)/2,

10142 (
img
.
_d•th
 - 1)/2));

10143 
_assign
(
nimg
.
_width
,nimg.
_height
,
t™Ë
,
nÜm®iz©iÚ_ty³
,
fuÎsü“n_æag
,
şo£d_æag
);

10144 ià(
	g_nÜm®iz©iÚ
==2è
_mš
 = ()
nimg
.
mš_max
(
_max
);

10145  
»nd”
(
nimg
).
·št
();

10148 
	g‹m¶©e
<
ty³Çme
 
	gT
>

10149 
	gCImgDi¥Ïy
& 
assign
(cÚ¡ 
CImgLi¡
<
T
>& 
li¡
, cÚ¡ *cÚ¡ 
t™Ë
=0,

10150 cÚ¡ 
nÜm®iz©iÚ_ty³
=3,

10151 cÚ¡ 
boŞ
 
fuÎsü“n_æag
=
çl£
, cÚ¡ boŞ 
şo£d_æag
=false) {

10152 ià(!
li¡
è 
assign
();

10153 
	gCImg
<
	gT
> 
	gtmp
;

10154 cÚ¡ 
	gCImg
<
	gT
> 
	gimg
 = 
li¡
>'x', &
	gnimg
 = (
img
.
_d•th
==1)?img:(
tmp
=img.
g‘_´ojeùiÚs2d
((img.
_width
 - 1)/2,

10155 (
img
.
_height
 - 1)/2,

10156 (
img
.
_d•th
 - 1)/2));

10157 
_assign
(
nimg
.
_width
,nimg.
_height
,
t™Ë
,
nÜm®iz©iÚ_ty³
,
fuÎsü“n_æag
,
şo£d_æag
);

10158 ià(
	g_nÜm®iz©iÚ
==2è
_mš
 = ()
nimg
.
mš_max
(
_max
);

10159  
»nd”
(
nimg
).
·št
();

10162 
	gCImgDi¥Ïy
& 
assign
(cÚ¡ 
CImgDi¥Ïy
& 
di¥
) {

10163 ià(!
	gdi¥
è 
assign
();

10164 
_assign
(
di¥
.
_width
,di¥.
_height
,di¥.
_t™Ë
,di¥.
_nÜm®iz©iÚ
,di¥.
_is_fuÎsü“n
,di¥.
_is_şo£d
);

10165 
	g¡d
::
memıy
(
_d©a
,
di¥
._d©a,(
cimg
::
X11_©Œ
().
nb_b™s
==8?():

10166 
cimg
::
X11_©Œ
().
nb_b™s
==16?():

10167 ())*(
size_t
)
_width
*
_height
);

10168  
·št
();

10171 
	gCImgDi¥Ïy
& 
»size
(cÚ¡ 
nwidth
, cÚ¡ 
nheight
, cÚ¡ 
boŞ
 
fÜû_»d¿w
=
Œue
) {

10172 ià(!
nwidth
 || !
nheight
 || (
is_em±y
(è&& (nwidth<0 ||‚height<0))è 
assign
();

10173 ià(
is_em±y
()è 
assign
(
nwidth
,
nheight
);

10174 
Di¥Ïy
 *cÚ¡ 
	gdpy
 = 
cimg
::
X11_©Œ
().
di¥Ïy
;

10176 
	gtmpdimx
 = (
nwidth
>0)?nwidth:(-nwidth*
width
()/100),

10177 
	gtmpdimy
 = (
nheight
>0)?nheight:(-nheight*
height
()/100),

10178 
	gdimx
 = 
tmpdimx
?tmpdimx:1,

10179 
	gdimy
 = 
tmpdimy
?tmpdimy:1;

10180 ià(
	g_width
!=
dimx
 || 
_height
!=
dimy
 || 
_wšdow_width
!=dimx || 
_wšdow_height
!=dimy) {

10181 
show
();

10182 
cimg_lock_di¥Ïy
();

10183 ià(
	g_wšdow_width
!=
dimx
 || 
_wšdow_height
!=
dimy
) {

10184 
XWšdowA‰ribu‹s
 
©Œ
;

10185 
	gi
 = 0; i<10; ++i) {

10186 
XResizeWšdow
(
dpy
,
_wšdow
,
dimx
,
dimy
);

10187 
XG‘WšdowA‰ribu‹s
(
dpy
,
_wšdow
,&
©Œ
);

10188 ià(
	g©Œ
.
	gwidth
==()
dimx
 && 
©Œ
.
height
==()
dimy
) ;

10189 
	gcimg
::
wa™
(5,&
_tim”
);

10192 ià(
	g_width
!=
dimx
 || 
_height
!=
dimy
è
cimg
::
X11_©Œ
().
nb_b™s
) {

10193 8 : { 
pix–_ty³
 = 0; 
_»size
Õix–_ty³,
dimx
,
dimy
,
fÜû_»d¿w
); } ;

10194 16 : { 
pix–_ty³
 = 0; 
_»size
Õix–_ty³,
dimx
,
dimy
,
fÜû_»d¿w
); } ;

10195  : { 
pix–_ty³
 = 0; 
_»size
Õix–_ty³,
dimx
,
dimy
,
fÜû_»d¿w
); }

10197 
	g_wšdow_width
 = 
_width
 = 
dimx
; 
	g_wšdow_height
 = 
_height
 = 
dimy
;

10198 
cimg_uÆock_di¥Ïy
();

10200 
	g_is_»sized
 = 
çl£
;

10201 ià(
	g_is_fuÎsü“n
è
move
((
sü“n_width
(è- 
_width
)/2,(
sü“n_height
(è- 
_height
)/2);

10202 ià(
	gfÜû_»d¿w
è 
·št
();

10203  *
	gthis
;

10206 
	gCImgDi¥Ïy
& 
toggË_fuÎsü“n
(cÚ¡ 
boŞ
 
fÜû_»d¿w
=
Œue
) {

10207 ià(
is_em±y
()è *
this
;

10208 ià(
	gfÜû_»d¿w
) {

10209 cÚ¡ 
cimg_ulÚg
 
	gbuf_size
 = (cimg_ulÚg)
_width
*
_height
*

10210 (
cimg
::
X11_©Œ
().
nb_b™s
==8?1:(cimg::X11_attr().nb_bits==16?2:4));

10211 *
	gimage_d©a
 = 
¡d
::
m®loc
(
buf_size
);

10212 
	g¡d
::
memıy
(
image_d©a
,
_d©a
,
buf_size
);

10213 
assign
(
_width
,
_height
,
_t™Ë
,
_nÜm®iz©iÚ
,!
_is_fuÎsü“n
,
çl£
);

10214 
	g¡d
::
memıy
(
_d©a
,
image_d©a
,
buf_size
);

10215 
	g¡d
::
ä“
(
image_d©a
);

10216  
·št
();

10218  
assign
(
_width
,
_height
,
_t™Ë
,
_nÜm®iz©iÚ
,!
_is_fuÎsü“n
,
çl£
);

10221 
	gCImgDi¥Ïy
& 
show
() {

10222 ià(
is_em±y
(è|| !
	g_is_şo£d
è *
	gthis
;

10223 
cimg_lock_di¥Ïy
();

10224 
	g_is_şo£d
 = 
çl£
;

10225 ià(
	g_is_fuÎsü“n
è
_š™_fuÎsü“n
();

10226 
_m­_wšdow
();

10227 
cimg_uÆock_di¥Ïy
();

10228  
·št
();

10231 
	gCImgDi¥Ïy
& 
şo£
() {

10232 ià(
is_em±y
(è|| 
	g_is_şo£d
è *
	gthis
;

10233 
Di¥Ïy
 *cÚ¡ 
	gdpy
 = 
cimg
::
X11_©Œ
().
di¥Ïy
;

10234 
cimg_lock_di¥Ïy
();

10235 ià(
	g_is_fuÎsü“n
è
_desš™_fuÎsü“n
();

10236 
XUnm­Wšdow
(
dpy
,
_wšdow
);

10237 
	g_wšdow_x
 = 
_wšdow_y
 = 
cimg
::
ty³
<>::
mš
();

10238 
	g_is_şo£d
 = 
Œue
;

10239 
cimg_uÆock_di¥Ïy
();

10240  *
	gthis
;

10243 
	gCImgDi¥Ïy
& 
move
(cÚ¡ 
posx
, cÚ¡ 
posy
) {

10244 ià(
is_em±y
()è *
	gthis
;

10245 
show
();

10246 ià(
	g_wšdow_x
!=
posx
 || 
_wšdow_y
!=
posy
) {

10247 
Di¥Ïy
 *cÚ¡ 
dpy
 = 
cimg
::
X11_©Œ
().
di¥Ïy
;

10248 
cimg_lock_di¥Ïy
();

10249 
XMoveWšdow
(
dpy
,
_wšdow
,
posx
,
posy
);

10250 
	g_wšdow_x
 = 
posx
;

10251 
	g_wšdow_y
 = 
posy
;

10252 
cimg_uÆock_di¥Ïy
();

10254 
	g_is_moved
 = 
çl£
;

10255  
·št
();

10258 
	gCImgDi¥Ïy
& 
show_mou£
() {

10259 ià(
is_em±y
()è *
	gthis
;

10260 
Di¥Ïy
 *cÚ¡ 
	gdpy
 = 
cimg
::
X11_©Œ
().
di¥Ïy
;

10261 
cimg_lock_di¥Ïy
();

10262 
XUndefšeCursÜ
(
dpy
,
_wšdow
);

10263 
cimg_uÆock_di¥Ïy
();

10264  *
	gthis
;

10267 
	gCImgDi¥Ïy
& 
hide_mou£
() {

10268 ià(
is_em±y
()è *
	gthis
;

10269 
Di¥Ïy
 *cÚ¡ 
	gdpy
 = 
cimg
::
X11_©Œ
().
di¥Ïy
;

10270 
cimg_lock_di¥Ïy
();

10271 cÚ¡ 
	gpix_d©a
[8] = { 0 };

10272 
XCŞÜ
 
	gcŞ
;

10273 
	gcŞ
.
	g»d
 = 
cŞ
.
g»’
 = cŞ.
blue
 = 0;

10274 
Pixm­
 
	gpix
 = 
XC»©eB™m­FromD©a
(
dpy
,
_wšdow
,
pix_d©a
,8,8);

10275 
CursÜ
 
	gcur
 = 
XC»©ePixm­CursÜ
(
dpy
,
pix
,pix,&
cŞ
,&col,0,0);

10276 
XF»ePixm­
(
dpy
,
pix
);

10277 
XDefšeCursÜ
(
dpy
,
_wšdow
,
cur
);

10278 
cimg_uÆock_di¥Ïy
();

10279  *
	gthis
;

10282 
	gCImgDi¥Ïy
& 
£t_mou£
(cÚ¡ 
posx
, cÚ¡ 
posy
) {

10283 ià(
is_em±y
(è|| 
	g_is_şo£d
è *
	gthis
;

10284 
Di¥Ïy
 *cÚ¡ 
	gdpy
 = 
cimg
::
X11_©Œ
().
di¥Ïy
;

10285 
cimg_lock_di¥Ïy
();

10286 
XW¬pPoš‹r
(
dpy
,0L,
_wšdow
,0,0,0,0,
posx
,
posy
);

10287 
	g_mou£_x
 = 
posx
; 
	g_mou£_y
 = 
posy
;

10288 
	g_is_moved
 = 
çl£
;

10289 
XSync
(
dpy
,0);

10290 
cimg_uÆock_di¥Ïy
();

10291  *
	gthis
;

10294 
	gCImgDi¥Ïy
& 
£t_t™Ë
(cÚ¡ *cÚ¡ 
fÜm©
, ...) {

10295 ià(
is_em±y
()è *
	gthis
;

10296 *cÚ¡ 
	gtmp
 = 
Ãw
 [1024];

10297 
va_li¡
 
	g­
;

10298 
va_¡¬t
(
­
, 
fÜm©
);

10299 
cimg_v¢´štf
(
tmp
,1024,
fÜm©
,
­
);

10300 
va_’d
(
­
);

10301 ià(!
	g¡d
::
¡rcmp
(
_t™Ë
,
tmp
)è{ 
	gd–‘e
[] 
	gtmp
;  *
	gthis
; }

10302 
	gd–‘e
[] 
	g_t™Ë
;

10303 cÚ¡ 
	gs
 = ()
¡d
::
¡¾’
(
tmp
) + 1;

10304 
	g_t™Ë
 = 
Ãw
 [
s
];

10305 
	g¡d
::
memıy
(
_t™Ë
,
tmp
,
s
*());

10306 
Di¥Ïy
 *cÚ¡ 
	gdpy
 = 
cimg
::
X11_©Œ
().
di¥Ïy
;

10307 
cimg_lock_di¥Ïy
();

10308 
XStÜeName
(
dpy
,
_wšdow
,
tmp
);

10309 
cimg_uÆock_di¥Ïy
();

10310 
	gd–‘e
[] 
	gtmp
;

10311  *
	gthis
;

10314 
	g‹m¶©e
<
ty³Çme
 
	gT
>

10315 
	gCImgDi¥Ïy
& 
di¥Ïy
(cÚ¡ 
CImg
<
T
>& 
img
) {

10316 ià(!
	gimg
)

10317 
throw
 
CImgArgum’tExû±iÚ
(
_cimgdi¥Ïy_š¡ªû


10319 
cimgdi¥Ïy_š¡ªû
);

10320 ià(
is_em±y
()è 
assign
(
img
);

10321  
»nd”
(
img
).
·št
(
çl£
);

10324 
	gCImgDi¥Ïy
& 
·št
(cÚ¡ 
boŞ
 
wa™_expo£
=
Œue
) {

10325 ià(
is_em±y
()è *
this
;

10326 
cimg_lock_di¥Ïy
();

10327 
_·št
(
wa™_expo£
);

10328 
cimg_uÆock_di¥Ïy
();

10329  *
	gthis
;

10332 
	g‹m¶©e
<
ty³Çme
 
	gT
>

10333 
	gCImgDi¥Ïy
& 
»nd”
(cÚ¡ 
CImg
<
T
>& 
img
, cÚ¡ 
boŞ
 
æag8
=
çl£
) {

10334 ià(!
img
)

10335 
throw
 
CImgArgum’tExû±iÚ
(
_cimgdi¥Ïy_š¡ªû


10337 
cimgdi¥Ïy_š¡ªû
);

10338 ià(
is_em±y
()è *
	gthis
;

10339 ià(
	gimg
.
	g_d•th
!=1è 
»nd”
(
img
.
g‘_´ojeùiÚs2d
((img.
_width
 - 1)/2,(img.
_height
 - 1)/2,

10340 (
img
.
_d•th
 - 1)/2));

10341 ià(
	gcimg
::
X11_©Œ
().
nb_b™s
==8 && (
img
.
_width
!=_width || img.
_height
!=_height))

10342  
»nd”
(
img
.
g‘_»size
(
_width
,
_height
,1,-100,1));

10343 ià(
	gcimg
::
X11_©Œ
().
nb_b™s
==8 && !
æag8
 && 
img
.
_¥eùrum
==3) {

10344 cÚ¡ 
CImg
<
ty³Çme
 CImg<
T
>::
uch¬T
> 
deçuÉ_cŞÜm­
 = CImg<ty³ÇmCImg<T>::uch¬T>::
deçuÉ_LUT256
();

10345  
»nd”
(
img
.
g‘_šdex
(
deçuÉ_cŞÜm­
,1,
çl£
));

10348 cÚ¡ 
T


10349 *
	gd©a1
 = 
img
.
_d©a
,

10350 *
	gd©a2
 = (
img
.
_¥eùrum
>1)?img.
d©a
(0,0,0,1):
d©a1
,

10351 *
	gd©a3
 = (
img
.
_¥eùrum
>2)?img.
d©a
(0,0,0,2):
d©a1
;

10353 ià(
	gcimg
::
X11_©Œ
().
is_blue_fœ¡
è
cimg
::
sw­
(
d©a1
,
d©a3
);

10354 
cimg_lock_di¥Ïy
();

10356 ià(!
	g_nÜm®iz©iÚ
 || (_nÜm®iz©iÚ==3 && 
cimg
::
ty³
<
T
>::
¡ršg
()==cimg::type<>::string())) {

10357 
_mš
 = 
_max
 = 0;

10358 
	gcimg
::
X11_©Œ
().
nb_b™s
) {

10360 
_£t_cŞÜm­
(
_cŞÜm­
,
img
.
_¥eùrum
);

10362 *cÚ¡ 
	gnd©a
 = (
img
.
_width
==_width && img.
_height
==_height)?(*)
_d©a
:

10363 
Ãw
 [(
size_t
)
img
.
_width
*img.
_height
],

10364 *
	g±rd
 = (*)
nd©a
;

10365 
	gimg
.
	g_¥eùrum
) {

10367 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy)

10368 (*
	g±rd
++èğ()*(
d©a1
++);

10370 2 : 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

10372 
	gR
 = ()*(
d©a1
++),

10373 
	gG
 = ()*(
d©a2
++);

10374 (*
	g±rd
++èğ(
R
&0xf0è| (
G
>>4);

10376  : 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

10378 
	gR
 = ()*(
d©a1
++),

10379 
	gG
 = ()*(
d©a2
++),

10380 
	gB
 = ()*(
d©a3
++);

10381 (*
	g±rd
++èğ(
R
&0xe0è| ((
G
>>5)<<2è| (
B
>>6);

10384 ià(
	gnd©a
!=
_d©a
) {

10385 
_»nd”_»size
(
nd©a
,
img
.
_width
,img.
_height
,(*)
_d©a
,_width,_height);

10386 
	gd–‘e
[] 
	gnd©a
;

10390 *cÚ¡ 
nd©a
 = (
img
.
_width
==_width && img.
_height
==_height)?(*)
_d©a
:

10391 
Ãw
 [(
size_t
)
img
.
_width
*img.
_height
];

10392 *
	g±rd
 = (*)
nd©a
;

10393 cÚ¡ 
	gM
 = 248;

10394 
	gimg
.
	g_¥eùrum
) {

10396 ià(
cimg
::
X11_©Œ
().
by‹_Üd”
)

10397 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

10398 cÚ¡ 
	gv®
 = ()*(
d©a1
++), 
	gG
 = 
v®
>>2;

10399 
	g±rd
[0] = (
v®
&
M
è| (
G
>>3);

10400 
	g±rd
[1] = (
G
<<5) | (G>>1);

10401 
	g±rd
+=2;

10402 } 
cimg_ulÚg
 
	gxy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; xy>0; --xy) {

10403 cÚ¡ 
	gv®
 = ()*(
d©a1
++), 
	gG
 = 
v®
>>2;

10404 
	g±rd
[0] = (
G
<<5) | (G>>1);

10405 
	g±rd
[1] = (
v®
&
M
è| (
G
>>3);

10406 
	g±rd
+=2;

10410 ià(
cimg
::
X11_©Œ
().
by‹_Üd”
)

10411 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

10412 cÚ¡ 
	gG
 = ()*(
d©a2
++)>>2;

10413 
	g±rd
[0] = (()*(
d©a1
++)&
M
è| (
G
>>3);

10414 
	g±rd
[1] = (
G
<<5);

10415 
	g±rd
+=2;

10416 } 
cimg_ulÚg
 
	gxy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; xy>0; --xy) {

10417 cÚ¡ 
	gG
 = ()*(
d©a2
++)>>2;

10418 
	g±rd
[0] = (
G
<<5);

10419 
	g±rd
[1] = (()*(
d©a1
++)&
M
è| (
G
>>3);

10420 
	g±rd
+=2;

10424 ià(
cimg
::
X11_©Œ
().
by‹_Üd”
)

10425 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

10426 cÚ¡ 
	gG
 = ()*(
d©a2
++)>>2;

10427 
	g±rd
[0] = (()*(
d©a1
++)&
M
è| (
G
>>3);

10428 
	g±rd
[1] = (
G
<<5è| (()*(
d©a3
++)>>3);

10429 
	g±rd
+=2;

10430 } 
cimg_ulÚg
 
	gxy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; xy>0; --xy) {

10431 cÚ¡ 
	gG
 = ()*(
d©a2
++)>>2;

10432 
	g±rd
[0] = (
G
<<5è| (()*(
d©a3
++)>>3);

10433 
	g±rd
[1] = (()*(
d©a1
++)&
M
è| (
G
>>3);

10434 
	g±rd
+=2;

10437 ià(
	gnd©a
!=
_d©a
) {

10438 
_»nd”_»size
(
nd©a
,
img
.
_width
,img.
_height
,(*)
_d©a
,_width,_height);

10439 
	gd–‘e
[] 
	gnd©a
;

10443 *cÚ¡ 
nd©a
 = (
img
.
_width
==_width && img.
_height
==_height)?(*)
_d©a
:

10444 
Ãw
 [(
size_t
)
img
.
_width
*img.
_height
];

10446 *
±rd
 = 
nd©a
;

10447 
	gimg
.
	g_¥eùrum
) {

10449 ià(
cimg
::
X11_©Œ
().
by‹_Üd”
==cimg::
’dŸÂess
())

10450 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

10451 cÚ¡ 
	gv®
 = ()*(
d©a1
++);

10452 *(
	g±rd
++èğ(
v®
<<16) | (val<<8) | val;

10455 
cimg_ulÚg
 
	gxy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; xy>0; --xy) {

10456 cÚ¡ 
	gv®
 = ()*(
d©a1
++);

10457 *(
	g±rd
++èğ(
v®
<<16) | (val<<8) | val;

10461 ià(
cimg
::
X11_©Œ
().
by‹_Üd”
==cimg::
’dŸÂess
())

10462 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy)

10463 *(
	g±rd
++èğ(()*(
d©a1
++)<<16è| (()*(
d©a2
++)<<8);

10465 
cimg_ulÚg
 
	gxy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; xy>0; --xy)

10466 *(
	g±rd
++èğ(()*(
d©a2
++)<<16è| (()*(
d©a1
++)<<8);

10469 ià(
cimg
::
X11_©Œ
().
by‹_Üd”
==cimg::
’dŸÂess
())

10470 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy)

10471 *(
	g±rd
++èğ(()*(
d©a1
++)<<16è| (()*(
d©a2
++)<<8) |

10472 ()*(
d©a3
++);

10474 
cimg_ulÚg
 
	gxy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; xy>0; --xy)

10475 *(
	g±rd
++èğ(()*(
d©a3
++)<<24è| (()*(
d©a2
++)<<16) |

10476 (()*(
d©a1
++)<<8);

10479 *
	g±rd
 = (*)
nd©a
;

10480 
	gimg
.
	g_¥eùrum
) {

10482 ià(
cimg
::
X11_©Œ
().
by‹_Üd”
)

10483 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

10484 
	g±rd
[0] = 0;

10485 
	g±rd
[1] = ()*(
d©a1
++);

10486 
	g±rd
[2] = 0;

10487 
	g±rd
[3] = 0;

10488 
	g±rd
+=4;

10489 } 
cimg_ulÚg
 
	gxy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; xy>0; --xy) {

10490 
	g±rd
[0] = 0;

10491 
	g±rd
[1] = 0;

10492 
	g±rd
[2] = ()*(
d©a1
++);

10493 
	g±rd
[3] = 0;

10494 
	g±rd
+=4;

10498 ià(
cimg
::
X11_©Œ
().
by‹_Üd”
ècimg::
sw­
(
d©a1
,
d©a2
);

10499 
cimg_ulÚg
 
	gxy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; xy>0; --xy) {

10500 
	g±rd
[0] = 0;

10501 
	g±rd
[1] = ()*(
d©a2
++);

10502 
	g±rd
[2] = ()*(
d©a1
++);

10503 
	g±rd
[3] = 0;

10504 
	g±rd
+=4;

10508 ià(
cimg
::
X11_©Œ
().
by‹_Üd”
)

10509 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

10510 
	g±rd
[0] = 0;

10511 
	g±rd
[1] = ()*(
d©a1
++);

10512 
	g±rd
[2] = ()*(
d©a2
++);

10513 
	g±rd
[3] = ()*(
d©a3
++);

10514 
	g±rd
+=4;

10515 } 
cimg_ulÚg
 
	gxy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; xy>0; --xy) {

10516 
	g±rd
[0] = ()*(
d©a3
++);

10517 
	g±rd
[1] = ()*(
d©a2
++);

10518 
	g±rd
[2] = ()*(
d©a1
++);

10519 
	g±rd
[3] = 0;

10520 
	g±rd
+=4;

10524 ià(
	gnd©a
!=
_d©a
) {

10525 
_»nd”_»size
(
nd©a
,
img
.
_width
,img.
_height
,(*)
_d©a
,_width,_height);

10526 
	gd–‘e
[] 
	gnd©a
;

10531 ià(
	g_nÜm®iz©iÚ
==3) {

10532 ià(
cimg
::
ty³
<
T
>::
is_æßt
()è
_mš
 = ()
img
.
mš_max
(
_max
);

10533 { 
	g_mš
 = ()
cimg
::
ty³
<
T
>::
mš
(); 
	g_max
 = ()cimg::ty³<T>::
max
(); }

10534 } ià((
	g_mš
>
	g_max
è|| 
	g_nÜm®iz©iÚ
==1è
_mš
 = ()
img
.
mš_max
(
_max
);

10535 cÚ¡ 
	gd–
 = 
_max
 - 
_mš
, 
	gmm
 = 255/(
d–
?delta:1.f);

10536 
	gcimg
::
X11_©Œ
().
nb_b™s
) {

10538 
_£t_cŞÜm­
(
_cŞÜm­
,
img
.
_¥eùrum
);

10539 *cÚ¡ 
	gnd©a
 = (
img
.
_width
==_width && img.
_height
==_height)?(*)
_d©a
:

10540 
Ãw
 [(
size_t
)
img
.
_width
*img.
_height
];

10541 *
	g±rd
 = (*)
nd©a
;

10542 
	gimg
.
	g_¥eùrum
) {

10543 1 : 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

10544 cÚ¡ 
	gR
 = ()((*(
d©a1
++è- 
_mš
)*
mm
);

10545 *(
	g±rd
++èğ
R
;

10547 2 : 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

10549 
	gR
 = ()((*(
d©a1
++è- 
_mš
)*
mm
),

10550 
	gG
 = ()((*(
d©a2
++è- 
_mš
)*
mm
);

10551 (*
	g±rd
++èğ(
R
&0xf0è| (
G
>>4);

10554 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

10556 
	gR
 = ()((*(
d©a1
++è- 
_mš
)*
mm
),

10557 
	gG
 = ()((*(
d©a2
++è- 
_mš
)*
mm
),

10558 
	gB
 = ()((*(
d©a3
++è- 
_mš
)*
mm
);

10559 *(
	g±rd
++èğ(
R
&0xe0è| ((
G
>>5)<<2è| (
B
>>6);

10562 ià(
	gnd©a
!=
_d©a
) {

10563 
_»nd”_»size
(
nd©a
,
img
.
_width
,img.
_height
,(*)
_d©a
,_width,_height);

10564 
	gd–‘e
[] 
	gnd©a
;

10568 *cÚ¡ 
nd©a
 = (
img
.
_width
==_width && img.
_height
==_height)?(*)
_d©a
:

10569 
Ãw
 [(
size_t
)
img
.
_width
*img.
_height
];

10570 *
	g±rd
 = (*)
nd©a
;

10571 cÚ¡ 
	gM
 = 248;

10572 
	gimg
.
	g_¥eùrum
) {

10574 ià(
cimg
::
X11_©Œ
().
by‹_Üd”
)

10575 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

10576 cÚ¡ 
	gv®
 = ()((*(
d©a1
++è- 
_mš
)*
mm
), 
	gG
 = 
v®
>>2;

10577 
	g±rd
[0] = (
v®
&
M
è| (
G
>>3);

10578 
	g±rd
[1] = (
G
<<5è| (
v®
>>3);

10579 
	g±rd
+=2;

10580 } 
cimg_ulÚg
 
	gxy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; xy>0; --xy) {

10581 cÚ¡ 
	gv®
 = ()((*(
d©a1
++è- 
_mš
)*
mm
), 
	gG
 = 
v®
>>2;

10582 
	g±rd
[0] = (
G
<<5è| (
v®
>>3);

10583 
	g±rd
[1] = (
v®
&
M
è| (
G
>>3);

10584 
	g±rd
+=2;

10588 ià(
cimg
::
X11_©Œ
().
by‹_Üd”
)

10589 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

10590 cÚ¡ 
	gG
 = ()((*(
d©a2
++è- 
_mš
)*
mm
)>>2;

10591 
	g±rd
[0] = (()((*(
d©a1
++è- 
_mš
)*
mm
)&
M
è| (
G
>>3);

10592 
	g±rd
[1] = (
G
<<5);

10593 
	g±rd
+=2;

10594 } 
cimg_ulÚg
 
	gxy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; xy>0; --xy) {

10595 cÚ¡ 
	gG
 = ()((*(
d©a2
++è- 
_mš
)*
mm
)>>2;

10596 
	g±rd
[0] = (
G
<<5);

10597 
	g±rd
[1] = (()((*(
d©a1
++è- 
_mš
)*
mm
)&
M
è| (
G
>>3);

10598 
	g±rd
+=2;

10602 ià(
cimg
::
X11_©Œ
().
by‹_Üd”
)

10603 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

10604 cÚ¡ 
	gG
 = ()((*(
d©a2
++è- 
_mš
)*
mm
)>>2;

10605 
	g±rd
[0] = (()((*(
d©a1
++è- 
_mš
)*
mm
)&
M
è| (
G
>>3);

10606 
	g±rd
[1] = (
G
<<5è| (()((*(
d©a3
++è- 
_mš
)*
mm
)>>3);

10607 
	g±rd
+=2;

10608 } 
cimg_ulÚg
 
	gxy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; xy>0; --xy) {

10609 cÚ¡ 
	gG
 = ()((*(
d©a2
++è- 
_mš
)*
mm
)>>2;

10610 
	g±rd
[0] = (
G
<<5è| (()((*(
d©a3
++è- 
_mš
)*
mm
)>>3);

10611 
	g±rd
[1] = (()((*(
d©a1
++è- 
_mš
)*
mm
)&
M
è| (
G
>>3);

10612 
	g±rd
+=2;

10615 ià(
	gnd©a
!=
_d©a
) {

10616 
_»nd”_»size
(
nd©a
,
img
.
_width
,img.
_height
,(*)
_d©a
,_width,_height);

10617 
	gd–‘e
[] 
	gnd©a
;

10621 *cÚ¡ 
nd©a
 = (
img
.
_width
==_width && img.
_height
==_height)?(*)
_d©a
:

10622 
Ãw
 [(
size_t
)
img
.
_width
*img.
_height
];

10624 *
±rd
 = 
nd©a
;

10625 
	gimg
.
	g_¥eùrum
) {

10627 ià(
cimg
::
X11_©Œ
().
by‹_Üd”
==cimg::
’dŸÂess
())

10628 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

10629 cÚ¡ 
	gv®
 = ()((*(
d©a1
++è- 
_mš
)*
mm
);

10630 *(
	g±rd
++èğ(
v®
<<16) | (val<<8) | val;

10633 
cimg_ulÚg
 
	gxy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; xy>0; --xy) {

10634 cÚ¡ 
	gv®
 = ()((*(
d©a1
++è- 
_mš
)*
mm
);

10635 *(
	g±rd
++èğ(
v®
<<24) | (val<<16) | (val<<8);

10639 ià(
cimg
::
X11_©Œ
().
by‹_Üd”
==cimg::
’dŸÂess
())

10640 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy)

10641 *(
	g±rd
++) =

10642 (()((*(
d©a1
++è- 
_mš
)*
mm
)<<16) |

10643 (()((*(
d©a2
++è- 
_mš
)*
mm
)<<8);

10645 
cimg_ulÚg
 
	gxy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; xy>0; --xy)

10646 *(
	g±rd
++) =

10647 (()((*(
d©a2
++è- 
_mš
)*
mm
)<<16) |

10648 (()((*(
d©a1
++è- 
_mš
)*
mm
)<<8);

10651 ià(
cimg
::
X11_©Œ
().
by‹_Üd”
==cimg::
’dŸÂess
())

10652 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy)

10653 *(
	g±rd
++) =

10654 (()((*(
d©a1
++è- 
_mš
)*
mm
)<<16) |

10655 (()((*(
d©a2
++è- 
_mš
)*
mm
)<<8) |

10656 ()((*(
d©a3
++è- 
_mš
)*
mm
);

10658 
cimg_ulÚg
 
	gxy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; xy>0; --xy)

10659 *(
	g±rd
++) =

10660 (()((*(
d©a3
++è- 
_mš
)*
mm
)<<24) |

10661 (()((*(
d©a2
++è- 
_mš
)*
mm
)<<16) |

10662 (()((*(
d©a1
++è- 
_mš
)*
mm
)<<8);

10665 *
	g±rd
 = (*)
nd©a
;

10666 
	gimg
.
	g_¥eùrum
) {

10668 ià(
cimg
::
X11_©Œ
().
by‹_Üd”
)

10669 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

10670 cÚ¡ 
	gv®
 = ()((*(
d©a1
++è- 
_mš
)*
mm
);

10671 
	g±rd
[0] = 0;

10672 
	g±rd
[1] = 
v®
;

10673 
	g±rd
[2] = 
v®
;

10674 
	g±rd
[3] = 
v®
;

10675 
	g±rd
+=4;

10676 } 
cimg_ulÚg
 
	gxy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; xy>0; --xy) {

10677 cÚ¡ 
	gv®
 = ()((*(
d©a1
++è- 
_mš
)*
mm
);

10678 
	g±rd
[0] = 
v®
;

10679 
	g±rd
[1] = 
v®
;

10680 
	g±rd
[2] = 
v®
;

10681 
	g±rd
[3] = 0;

10682 
	g±rd
+=4;

10686 ià(
cimg
::
X11_©Œ
().
by‹_Üd”
ècimg::
sw­
(
d©a1
,
d©a2
);

10687 
cimg_ulÚg
 
	gxy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; xy>0; --xy) {

10688 
	g±rd
[0] = 0;

10689 
	g±rd
[1] = ()((*(
d©a2
++è- 
_mš
)*
mm
);

10690 
	g±rd
[2] = ()((*(
d©a1
++è- 
_mš
)*
mm
);

10691 
	g±rd
[3] = 0;

10692 
	g±rd
+=4;

10696 ià(
cimg
::
X11_©Œ
().
by‹_Üd”
)

10697 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

10698 
	g±rd
[0] = 0;

10699 
	g±rd
[1] = ()((*(
d©a1
++è- 
_mš
)*
mm
);

10700 
	g±rd
[2] = ()((*(
d©a2
++è- 
_mš
)*
mm
);

10701 
	g±rd
[3] = ()((*(
d©a3
++è- 
_mš
)*
mm
);

10702 
	g±rd
+=4;

10703 } 
cimg_ulÚg
 
	gxy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; xy>0; --xy) {

10704 
	g±rd
[0] = ()((*(
d©a3
++è- 
_mš
)*
mm
);

10705 
	g±rd
[1] = ()((*(
d©a2
++è- 
_mš
)*
mm
);

10706 
	g±rd
[2] = ()((*(
d©a1
++è- 
_mš
)*
mm
);

10707 
	g±rd
[3] = 0;

10708 
	g±rd
+=4;

10712 ià(
	gnd©a
!=
_d©a
) {

10713 
_»nd”_»size
(
nd©a
,
img
.
_width
,img.
_height
,(*)
_d©a
,_width,_height);

10714 
	gd–‘e
[] 
	gnd©a
;

10719 
cimg_uÆock_di¥Ïy
();

10720  *
	gthis
;

10723 
	g‹m¶©e
<
ty³Çme
 
	gT
>

10724 
sü“nshÙ
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
x1
, cÚ¡ 
y1
, 
CImg
<
T
>& 
img
) {

10725 
	gimg
.
assign
();

10726 
Di¥Ïy
 *
	gdpy
 = 
cimg
::
X11_©Œ
().
di¥Ïy
;

10727 
cimg_lock_di¥Ïy
();

10728 ià(!
	gdpy
) {

10729 
	gdpy
 = 
XO³nDi¥Ïy
(0);

10730 ià(!
	gdpy
)

10731 
throw
 
CImgDi¥ÏyExû±iÚ
("CImgDisplay::screenshot(): Failedo open X11 display.");

10733 
Wšdow
 
	groÙ
 = 
DeçuÉRoÙWšdow
(
dpy
);

10734 
XWšdowA‰ribu‹s
 
	ggwa
;

10735 
XG‘WšdowA‰ribu‹s
(
dpy
,
roÙ
,&
gwa
);

10736 cÚ¡ 
	gwidth
 = 
gwa
.
width
, 
	gheight
 = gwa.
height
;

10737 
	g_x0
 = 
x0
, 
	g_y0
 = 
y0
, 
	g_x1
 = 
x1
, 
	g_y1
 = 
y1
;

10738 ià(
	g_x0
>
	g_x1
è
	gcimg
::
sw­
(
_x0
,
_x1
);

10739 ià(
	g_y0
>
	g_y1
è
	gcimg
::
sw­
(
_y0
,
_y1
);

10741 
XImage
 *
	gimage
 = 0;

10742 ià(
	g_x1
>=0 && 
_x0
<
width
 && 
_y1
>=0 && 
_y0
<
height
) {

10743 
_x0
 = 
¡d
::
max
(_x0,0);

10744 
	g_y0
 = 
¡d
::
max
(
_y0
,0);

10745 
	g_x1
 = 
¡d
::
mš
(
_x1
,
width
 - 1);

10746 
	g_y1
 = 
¡d
::
mš
(
_y1
,
height
 - 1);

10747 
	gimage
 = 
XG‘Image
(
dpy
,
roÙ
,
_x0
,
_y0
,
_x1
 - _x0 + 1,
_y1
 - _y0 + 1,
AÎPÏÃs
,
ZPixm­
);

10749 ià(
	gimage
) {

10751 
	g»d_mask
 = 
image
->
»d_mask
,

10752 
	gg»’_mask
 = 
image
->
g»’_mask
,

10753 
	gblue_mask
 = 
image
->
blue_mask
;

10754 
	gimg
.
assign
(
image
->
width
,image->
height
,1,3);

10755 
T
 *
	gpR
 = 
img
.
d©a
(0,0,0,0), *
	gpG
 = img.d©a(0,0,0,1), *
	gpB
 = img.data(0,0,0,2);

10756 
cimg_fÜXY
(
img
,
x
,
y
) {

10757 cÚ¡ 
	gpix–
 = 
XG‘Pix–
(
image
,
x
,
y
);

10758 *(
	gpR
++èğ(
T
)((
pix–
 & 
»d_mask
)>>16);

10759 *(
	gpG
++èğ(
T
)((
pix–
 & 
g»’_mask
)>>8);

10760 *(
	gpB
++èğ(
T
)(
pix–
 & 
blue_mask
);

10762 
XDe¡royImage
(
image
);

10765 ià(!
	gcimg
::
X11_©Œ
().
di¥Ïy
è
XClo£Di¥Ïy
(
dpy
);

10766 
cimg_uÆock_di¥Ïy
();

10767 ià(
	gimg
.
is_em±y
())

10768 
throw
 
CImgDi¥ÏyExû±iÚ
("CImgDisplay::screenshot(): Failedoake screenshot "

10770 
x0
,
y0
,
x1
,
y1
);

10773 
	g‹m¶©e
<
ty³Çme
 
	gT
>

10774 cÚ¡ 
	gCImgDi¥Ïy
& 
¢­shÙ
(
CImg
<
T
>& 
img
) const {

10775 ià(
is_em±y
()è{ 
	gimg
.
assign
();  *
	gthis
; }

10776 cÚ¡ *
	g±rs
 = (*)
_d©a
;

10777 
	gimg
.
assign
(
_width
,
_height
,1,3);

10778 
T


10779 *
	gd©a1
 = 
img
.
d©a
(0,0,0,0),

10780 *
	gd©a2
 = 
img
.
d©a
(0,0,0,1),

10781 *
	gd©a3
 = 
img
.
d©a
(0,0,0,2);

10782 ià(
	gcimg
::
X11_©Œ
().
is_blue_fœ¡
è
cimg
::
sw­
(
d©a1
,
d©a3
);

10783 
	gcimg
::
X11_©Œ
().
nb_b™s
) {

10785 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

10786 cÚ¡ 
	gv®
 = *(
±rs
++);

10787 *(
	gd©a1
++èğ(
T
)(
v®
&0xe0);

10788 *(
	gd©a2
++èğ(
T
)((
v®
&0x1c)<<3);

10789 *(
	gd©a3
++èğ(
T
)(
v®
<<6);

10793 ià(
cimg
::
X11_©Œ
().
by‹_Üd”
è
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

10795 
	gv®0
 = 
±rs
[0],

10796 
	gv®1
 = 
±rs
[1];

10797 
	g±rs
+=2;

10798 *(
	gd©a1
++èğ(
T
)(
v®0
&0xf8);

10799 *(
	gd©a2
++èğ(
T
)((
v®0
<<5è| ((
v®1
&0xe0)>>5));

10800 *(
	gd©a3
++èğ(
T
)(
v®1
<<3);

10801 } 
cimg_ulÚg
 
	gxy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; xy>0; --xy) {

10803 
	gv®0
 = 
±rs
[0],

10804 
	gv®1
 = 
±rs
[1];

10805 
	g±rs
+=2;

10806 *(
	gd©a1
++èğ(
T
)(
v®1
&0xf8);

10807 *(
	gd©a2
++èğ(
T
)((
v®1
<<5è| ((
v®0
&0xe0)>>5));

10808 *(
	gd©a3
++èğ(
T
)(
v®0
<<3);

10812 ià(
cimg
::
X11_©Œ
().
by‹_Üd”
è
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

10813 ++
	g±rs
;

10814 *(
	gd©a1
++èğ(
T
)
±rs
[0];

10815 *(
	gd©a2
++èğ(
T
)
±rs
[1];

10816 *(
	gd©a3
++èğ(
T
)
±rs
[2];

10817 
	g±rs
+=3;

10818 } 
cimg_ulÚg
 
	gxy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; xy>0; --xy) {

10819 *(
	gd©a3
++èğ(
T
)
±rs
[0];

10820 *(
	gd©a2
++èğ(
T
)
±rs
[1];

10821 *(
	gd©a1
++èğ(
T
)
±rs
[2];

10822 
	g±rs
+=3;

10823 ++
	g±rs
;

10827  *
	gthis
;

10832 #–ià
cimg_di¥Ïy
==2

10834 
boŞ
 
	g_is_mou£_Œacked
, 
	g_is_cursÜ_visibË
;

10835 
HANDLE
 
	g_th»ad
, 
	g_is_ü—‹d
, 
	g_mu‹x
;

10836 
HWND
 
	g_wšdow
, 
	g_background_wšdow
;

10837 
CLIENTCREATESTRUCT
 
	g_ccs
;

10838 *
	g_d©a
;

10839 
DEVMODE
 
	g_cu¼_mode
;

10840 
BITMAPINFO
 
	g_bmi
;

10841 
HDC
 
	g_hdc
;

10843 
sü“n_width
() {

10844 
DEVMODE
 
	gmode
;

10845 
	gmode
.
	gdmSize
 = (
DEVMODE
);

10846 
	gmode
.
	gdmDriv”ExŒa
 = 0;

10847 
EnumDi¥ÏyS‘tšgs
(0,
ENUM_CURRENT_SETTINGS
,&
mode
);

10848  ()
	gmode
.
	gdmP–sWidth
;

10851 
sü“n_height
() {

10852 
DEVMODE
 
	gmode
;

10853 
	gmode
.
	gdmSize
 = (
DEVMODE
);

10854 
	gmode
.
	gdmDriv”ExŒa
 = 0;

10855 
EnumDi¥ÏyS‘tšgs
(0,
ENUM_CURRENT_SETTINGS
,&
mode
);

10856  ()
	gmode
.
	gdmP–sHeight
;

10859 
wa™_®l
() {

10860 
Wa™FÜSšgËObjeù
(
cimg
::
Wš32_©Œ
().
wa™_ev’t
,
INFINITE
);

10863 
LRESULT
 
APIENTRY
 
_hªdË_ev’ts
(
HWND
 
wšdow
, 
UINT
 
msg
, 
WPARAM
 
wP¬am
, 
LPARAM
 
lP¬am
) {

10864 #ifdeà
_WIN64


10865 
CImgDi¥Ïy
 *cÚ¡ 
	gdi¥
 = (CImgDi¥Ïy*)
G‘WšdowLÚgPŒ
(
wšdow
,
GWLP_USERDATA
);

10867 
CImgDi¥Ïy
 *cÚ¡ 
	gdi¥
 = (CImgDi¥Ïy*)
G‘WšdowLÚg
(
wšdow
,
GWL_USERDATA
);

10869 
MSG
 
	g¡_msg
;

10870 
	gmsg
) {

10871 
	gWM_CLOSE
 :

10872 
di¥
->
_mou£_x
 = di¥->
_mou£_y
 = -1;

10873 
	gdi¥
->
	g_wšdow_x
 = 
di¥
->
_wšdow_y
 = 
cimg
::
ty³
<>::
mš
();

10874 
	gdi¥
->
£t_bu‰Ú
().
£t_key
(0).£t_key(0,
çl£
).
	g_is_şo£d
 = 
Œue
;

10875 
R–—£Mu‹x
(
di¥
->
_mu‹x
);

10876 
ShowWšdow
(
di¥
->
_wšdow
,
SW_HIDE
);

10877 
	gdi¥
->
	g_is_ev’t
 = 
Œue
;

10878 
S‘Ev’t
(
cimg
::
Wš32_©Œ
().
wa™_ev’t
);

10880 
	gWM_SIZE
 : {

10881 
P“kMes§ge
(&
¡_msg
,
wšdow
,
WM_SIZE
,WM_SIZE,
PM_REMOVE
)) {}

10882 
Wa™FÜSšgËObjeù
(
di¥
->
_mu‹x
,
INFINITE
);

10883 cÚ¡ 
	gnw
 = 
LOWORD
(
lP¬am
),
	gnh
 = 
HIWORD
(lParam);

10884 ià(
	gnw
 && 
	gnh
 && (nw!=
di¥
->
_width
 || 
nh
!=di¥->
_height
)) {

10885 
di¥
->
_wšdow_width
 = 
nw
;

10886 
	gdi¥
->
	g_wšdow_height
 = 
nh
;

10887 
	gdi¥
->
	g_mou£_x
 = 
di¥
->
_mou£_y
 = -1;

10888 
	gdi¥
->
	g_is_»sized
 = 
di¥
->
_is_ev’t
 = 
Œue
;

10889 
S‘Ev’t
(
cimg
::
Wš32_©Œ
().
wa™_ev’t
);

10891 
R–—£Mu‹x
(
di¥
->
_mu‹x
);

10893 
	gWM_MOVE
 : {

10894 
P“kMes§ge
(&
¡_msg
,
wšdow
,
WM_SIZE
,WM_SIZE,
PM_REMOVE
)) {}

10895 
Wa™FÜSšgËObjeù
(
di¥
->
_mu‹x
,
INFINITE
);

10896 cÚ¡ 
	gnx
 = ()()(
LOWORD
(
lP¬am
)), 
	gny
 = ()()(
HIWORD
(lParam));

10897 ià(
	gnx
!=
di¥
->
_wšdow_x
 || 
ny
!=di¥->
_wšdow_y
) {

10898 
di¥
->
_wšdow_x
 = 
nx
;

10899 
	gdi¥
->
	g_wšdow_y
 = 
ny
;

10900 
	gdi¥
->
	g_is_moved
 = 
di¥
->
_is_ev’t
 = 
Œue
;

10901 
S‘Ev’t
(
cimg
::
Wš32_©Œ
().
wa™_ev’t
);

10903 
R–—£Mu‹x
(
di¥
->
_mu‹x
);

10905 
	gWM_PAINT
 :

10906 
di¥
->
·št
();

10907 
cimg_lock_di¥Ïy
();

10908 ià(
	gdi¥
->
	g_is_cursÜ_visibË
è
ShowCursÜ
(
TRUE
)<0); ShowCursÜ(
FALSE_WIN
)>=0);

10909 
cimg_uÆock_di¥Ïy
();

10911 
	gWM_ERASEBKGND
 :

10914 
	gWM_KEYDOWN
 :

10915 
di¥
->
£t_key
(()
wP¬am
);

10916 
S‘Ev’t
(
cimg
::
Wš32_©Œ
().
wa™_ev’t
);

10918 
	gWM_KEYUP
 :

10919 
di¥
->
£t_key
(()
wP¬am
,
çl£
);

10920 
S‘Ev’t
(
cimg
::
Wš32_©Œ
().
wa™_ev’t
);

10922 
	gWM_MOUSEMOVE
 : {

10923 
P“kMes§ge
(&
¡_msg
,
wšdow
,
WM_MOUSEMOVE
,WM_MOUSEMOVE,
PM_REMOVE
)) {}

10924 
	gdi¥
->
	g_mou£_x
 = 
LOWORD
(
lP¬am
);

10925 
	gdi¥
->
	g_mou£_y
 = 
HIWORD
(
lP¬am
);

10926 #ià(
_WIN32_WINNT
>=0x0400è&& !
defšed
(
NOTRACKMOUSEEVENT
)

10927 ià(!
	gdi¥
->
	g_is_mou£_Œacked
) {

10928 
TRACKMOUSEEVENT
 
	gtme
;

10929 
	gtme
.
	gcbSize
 = (
TRACKMOUSEEVENT
);

10930 
	gtme
.
	gdwFÏgs
 = 
TME_LEAVE
;

10931 
	gtme
.
	ghwndT¿ck
 = 
di¥
->
_wšdow
;

10932 ià(
T¿ckMou£Ev’t
(&
tme
)è
	gdi¥
->
	g_is_mou£_Œacked
 = 
Œue
;

10935 ià(
	gdi¥
->
	g_mou£_x
<0 || di¥->
	g_mou£_y
<0 || di¥->_mou£_x>=
di¥
->
width
(è|| di¥->
_mou£_y
>=di¥->
height
())

10936 
di¥
->
_mou£_x
 = di¥->
_mou£_y
 = -1;

10937 
	gdi¥
->
	g_is_ev’t
 = 
Œue
;

10938 
S‘Ev’t
(
cimg
::
Wš32_©Œ
().
wa™_ev’t
);

10939 
cimg_lock_di¥Ïy
();

10940 ià(
	gdi¥
->
	g_is_cursÜ_visibË
è
ShowCursÜ
(
TRUE
)<0); ShowCursÜ(
FALSE_WIN
)>=0);

10941 
cimg_uÆock_di¥Ïy
();

10943 
	gWM_MOUSELEAVE
 : {

10944 
di¥
->
_mou£_x
 = di¥->
_mou£_y
 = -1;

10945 
	gdi¥
->
	g_is_mou£_Œacked
 = 
çl£
;

10946 
cimg_lock_di¥Ïy
();

10947 
ShowCursÜ
(
TRUE
)<0) {}

10948 
cimg_uÆock_di¥Ïy
();

10950 
	gWM_LBUTTONDOWN
 :

10951 
di¥
->
£t_bu‰Ú
(1);

10952 
S‘Ev’t
(
cimg
::
Wš32_©Œ
().
wa™_ev’t
);

10954 
	gWM_RBUTTONDOWN
 :

10955 
di¥
->
£t_bu‰Ú
(2);

10956 
S‘Ev’t
(
cimg
::
Wš32_©Œ
().
wa™_ev’t
);

10958 
	gWM_MBUTTONDOWN
 :

10959 
di¥
->
£t_bu‰Ú
(3);

10960 
S‘Ev’t
(
cimg
::
Wš32_©Œ
().
wa™_ev’t
);

10962 
	gWM_LBUTTONUP
 :

10963 
di¥
->
£t_bu‰Ú
(1,
çl£
);

10964 
S‘Ev’t
(
cimg
::
Wš32_©Œ
().
wa™_ev’t
);

10966 
	gWM_RBUTTONUP
 :

10967 
di¥
->
£t_bu‰Ú
(2,
çl£
);

10968 
S‘Ev’t
(
cimg
::
Wš32_©Œ
().
wa™_ev’t
);

10970 
	gWM_MBUTTONUP
 :

10971 
di¥
->
£t_bu‰Ú
(3,
çl£
);

10972 
S‘Ev’t
(
cimg
::
Wš32_©Œ
().
wa™_ev’t
);

10975 
di¥
->
£t_wh“l
(()(()
HIWORD
(
wP¬am
))/120);

10976 
S‘Ev’t
(
cimg
::
Wš32_©Œ
().
wa™_ev’t
);

10978  
DefWšdowProc
(
wšdow
,
msg
,
wP¬am
,
lP¬am
);

10981 
DWORD
 
WINAPI
 
_ev’ts_th»ad
(* 
¬g
) {

10982 
CImgDi¥Ïy
 *cÚ¡ 
	gdi¥
 = (CImgDi¥Ïy*)(((**)
¬g
)[0]);

10983 cÚ¡ *cÚ¡ 
	gt™Ë
 = (cÚ¡ *)(((**)
¬g
)[1]);

10984 
MSG
 
	gmsg
;

10985 
	gd–‘e
[] (**)
	g¬g
;

10986 
	gdi¥
->
	g_bmi
.
	gbmiH—d”
.
	gbiSize
 = (
BITMAPINFOHEADER
);

10987 
	gdi¥
->
	g_bmi
.
	gbmiH—d”
.
	gbiWidth
 = 
di¥
->
width
();

10988 
	gdi¥
->
	g_bmi
.
	gbmiH—d”
.
	gbiHeight
 = -
di¥
->
height
();

10989 
	gdi¥
->
	g_bmi
.
	gbmiH—d”
.
	gbiPÏÃs
 = 1;

10990 
	gdi¥
->
	g_bmi
.
	gbmiH—d”
.
	gbiB™CouÁ
 = 32;

10991 
	gdi¥
->
	g_bmi
.
	gbmiH—d”
.
	gbiCom´essiÚ
 = 
BI_RGB
;

10992 
	gdi¥
->
	g_bmi
.
	gbmiH—d”
.
	gbiSizeImage
 = 0;

10993 
	gdi¥
->
	g_bmi
.
	gbmiH—d”
.
	gbiXP–sP”M‘”
 = 1;

10994 
	gdi¥
->
	g_bmi
.
	gbmiH—d”
.
	gbiYP–sP”M‘”
 = 1;

10995 
	gdi¥
->
	g_bmi
.
	gbmiH—d”
.
	gbiCÌU£d
 = 0;

10996 
	gdi¥
->
	g_bmi
.
	gbmiH—d”
.
	gbiCÌImpÜÁ
 = 0;

10997 
	gdi¥
->
	g_d©a
 = 
Ãw
 [(
size_t
)
di¥
->
_width
*di¥->
_height
];

10998 ià(!
	gdi¥
->
	g_is_fuÎsü“n
) {

10999 
RECT
 
	g»ù
;

11000 
	g»ù
.
	gËá
 = 
»ù
.
tİ
 = 0;„eù.
	gright
 = (
LONG
)
di¥
->
_width
 - 1;„eù.
	gbÙtom
 = (LONG)di¥->
_height
 - 1;

11001 
Adju¡WšdowReù
(&
»ù
,
WS_CAPTION
 | 
WS_SYSMENU
 | 
WS_THICKFRAME
 | 
WS_MINIMIZEBOX
 | 
WS_MAXIMIZEBOX
,
çl£
);

11003 
	gbÜd”1
 = ()((
»ù
.
right
 -„eù.
Ëá
 + 1 - 
di¥
->
_width
)/2),

11004 
	gbÜd”2
 = ()(
»ù
.
bÙtom
 -„eù.
tİ
 + 1 - 
di¥
->
_height
 - 
bÜd”1
),

11005 
	gww
 = 
di¥
->
_width
 + 2*
bÜd”1
,

11006 
	gwh
 = 
di¥
->
_height
 + 
bÜd”1
 + 
bÜd”2
,

11007 
	gsw
 = 
CImgDi¥Ïy
::
sü“n_width
(),

11008 
	gsh
 = 
CImgDi¥Ïy
::
sü“n_height
();

11010 
	gwx
 = ()
cimg
::
round
(cimg::
¿nd
(0,
sw
 - 
ww
 -1)),

11011 
	gwy
 = ()
cimg
::
round
(cimg::
¿nd
(64,
sh
 - 
wh
 - 65));

11012 ià(
	gwx
 + 
	gww
>=
sw
è
wx
 = sw - 
ww
;

11013 ià(
	gwy
 + 
	gwh
>=
sh
è
wy
 = sh - 
wh
;

11014 ià(
	gwx
<0) wx = 0;

11015 ià(
	gwy
<0) wy = 0;

11016 
	gdi¥
->
	g_wšdow
 = 
C»©eWšdowA
("MDICLIENT",
t™Ë
?title:" ",

11017 
WS_OVERLAPPEDWINDOW
 | (
di¥
->
_is_şo£d
?0:
WS_VISIBLE
),

11018 
wx
,
wy
,
ww
,
wh
,0,0,0,&(
di¥
->
_ccs
));

11019 ià(!
	gdi¥
->
	g_is_şo£d
) {

11020 
G‘WšdowReù
(
di¥
->
_wšdow
,&
»ù
);

11021 
	gdi¥
->
	g_wšdow_x
 = 
»ù
.
Ëá
;

11022 
	gdi¥
->
	g_wšdow_y
 = 
»ù
.
tİ
;

11023 } 
	gdi¥
->
	g_wšdow_x
 = 
di¥
->
_wšdow_y
 = 
cimg
::
ty³
<>::
mš
();

11026 
	gsx
 = ()
sü“n_width
(),

11027 
	gsy
 = ()
sü“n_height
();

11028 
	gdi¥
->
	g_wšdow
 = 
C»©eWšdowA
("MDICLIENT",
t™Ë
?title:" ",

11029 
WS_POPUP
 | (
di¥
->
_is_şo£d
?0:
WS_VISIBLE
),

11030 (
sx
 - 
di¥
->
_width
)/2,

11031 (
sy
 - 
di¥
->
_height
)/2,

11032 
di¥
->
_width
,di¥->
_height
,0,0,0,&(di¥->
_ccs
));

11033 
	gdi¥
->
	g_wšdow_x
 = 
di¥
->
_wšdow_y
 = 0;

11035 
S‘FÜegroundWšdow
(
di¥
->
_wšdow
);

11036 
	gdi¥
->
	g_hdc
 = 
G‘DC
(
di¥
->
_wšdow
);

11037 
	gdi¥
->
	g_wšdow_width
 = 
di¥
->
_width
;

11038 
	gdi¥
->
	g_wšdow_height
 = 
di¥
->
_height
;

11039 
	gdi¥
->
æush
();

11040 #ifdeà
_WIN64


11041 
S‘WšdowLÚgPŒ
(
di¥
->
_wšdow
,
GWLP_USERDATA
,(
LONG_PTR
)disp);

11042 
S‘WšdowLÚgPŒ
(
di¥
->
_wšdow
,
GWLP_WNDPROC
,(
LONG_PTR
)
_hªdË_ev’ts
);

11044 
S‘WšdowLÚg
(
di¥
->
_wšdow
,
GWL_USERDATA
,(
LONG
)disp);

11045 
S‘WšdowLÚg
(
di¥
->
_wšdow
,
GWL_WNDPROC
,(
LONG
)
_hªdË_ev’ts
);

11047 
S‘Ev’t
(
di¥
->
_is_ü—‹d
);

11048 
G‘Mes§ge
(&
msg
,0,0,0)è
Di¥©chMes§ge
(&msg);

11052 
	gCImgDi¥Ïy
& 
_upd©e_wšdow_pos
() {

11053 ià(
	g_is_şo£d
è
	g_wšdow_x
 = 
_wšdow_y
 = 
cimg
::
ty³
<>::
mš
();

11055 
RECT
 
	g»ù
;

11056 
	g»ù
.
	gËá
 = 
»ù
.
tİ
 = 0;„eù.
	gright
 = (
LONG
)
_width
 - 1;„eù.
	gbÙtom
 = (LONG)
_height
 - 1;

11057 
Adju¡WšdowReù
(&
»ù
,
WS_CAPTION
 | 
WS_SYSMENU
 | 
WS_THICKFRAME
 | 
WS_MINIMIZEBOX
 | 
WS_MAXIMIZEBOX
,
çl£
);

11058 
G‘WšdowReù
(
_wšdow
,&
»ù
);

11059 
	g_wšdow_x
 = 
»ù
.
Ëá
;

11060 
	g_wšdow_y
 = 
»ù
.
tİ
;

11062  *
	gthis
;

11065 
_š™_fuÎsü“n
() {

11066 
	g_background_wšdow
 = 0;

11067 ià(!
	g_is_fuÎsü“n
 || 
	g_is_şo£d
è
	g_cu¼_mode
.
	gdmSize
 = 0;

11069 
DEVMODE
 
	gmode
;

11070 
	gimode
 = 0, 
	gibe¡
 = 0, 
	gbe¡bµ
 = 0, 
	gbw
 = ~0U, 
	gbh
 = ~0U;

11071 
	gmode
.
	gdmSize
 = (
DEVMODE
), mode.
	gdmDriv”ExŒa
 = 0; 
EnumDi¥ÏyS‘tšgs
(0,
imode
,&
mode
); ++
	gimode
) {

11072 cÚ¡ 
	gnw
 = 
mode
.
dmP–sWidth
, 
	gnh
 = mode.
dmP–sHeight
;

11073 ià(
	gnw
>=
_width
 && 
nh
>=
_height
 && 
mode
.
dmB™sP”P–
>=
be¡bµ
 && 
nw
<=
bw
 &&‚h<=
bh
) {

11074 
be¡bµ
 = 
mode
.
dmB™sP”P–
;

11075 
	gibe¡
 = 
imode
;

11076 
	gbw
 = 
nw
; 
	gbh
 = 
nh
;

11079 ià(
	gbe¡bµ
) {

11080 
	g_cu¼_mode
.
	gdmSize
 = (
DEVMODE
); _cu¼_mode.
	gdmDriv”ExŒa
 = 0;

11081 
EnumDi¥ÏyS‘tšgs
(0,
ENUM_CURRENT_SETTINGS
,&
_cu¼_mode
);

11082 
EnumDi¥ÏyS‘tšgs
(0,
ibe¡
,&
mode
);

11083 
ChªgeDi¥ÏyS‘tšgs
(&
mode
,0);

11084 } 
	g_cu¼_mode
.
	gdmSize
 = 0;

11087 
	gsx
 = ()
sü“n_width
(),

11088 
	gsy
 = ()
sü“n_height
();

11089 ià(
	gsx
!=
_width
 || 
sy
!=
_height
) {

11090 
CLIENTCREATESTRUCT
 
background_ccs
;

11091 
	g_background_wšdow
 = 
C»©eWšdowA
("MDICLIENT","",
WS_POPUP
 | 
WS_VISIBLE
, 0,0,
sx
,
sy
,0,0,0,&
background_ccs
);

11092 
S‘FÜegroundWšdow
(
_background_wšdow
);

11097 
_desš™_fuÎsü“n
() {

11098 ià(!
	g_is_fuÎsü“n
) ;

11099 ià(
	g_background_wšdow
è
De¡royWšdow
(
_background_wšdow
);

11100 
	g_background_wšdow
 = 0;

11101 ià(
	g_cu¼_mode
.
	gdmSize
è
ChªgeDi¥ÏyS‘tšgs
(&
_cu¼_mode
,0);

11102 
	g_is_fuÎsü“n
 = 
çl£
;

11105 
	gCImgDi¥Ïy
& 
_assign
(cÚ¡ 
dimw
, cÚ¡ 
dimh
, cÚ¡ *cÚ¡ 
±™Ë
=0,

11106 cÚ¡ 
nÜm®iz©iÚ_ty³
=3,

11107 cÚ¡ 
boŞ
 
fuÎsü“n_æag
=
çl£
, cÚ¡ boŞ 
şo£d_æag
=false) {

11110 cÚ¡ *cÚ¡ 
Åt™Ë
 = 
±™Ë
?ptitle:"";

11111 cÚ¡ 
	gs
 = ()
¡d
::
¡¾’
(
Åt™Ë
) + 1;

11112 *cÚ¡ 
	gtmp_t™Ë
 = 
s
?
Ãw
 [s]:0;

11113 ià(
	gs
è
	g¡d
::
memıy
(
tmp_t™Ë
,
Åt™Ë
,
s
*());

11116 ià(!
is_em±y
()è
assign
();

11119 
	g_width
 = 
¡d
::
mš
(
dimw
,()
sü“n_width
());

11120 
	g_height
 = 
¡d
::
mš
(
dimh
,()
sü“n_height
());

11121 
	g_nÜm®iz©iÚ
 = 
nÜm®iz©iÚ_ty³
<4?normalization_type:3;

11122 
	g_is_fuÎsü“n
 = 
fuÎsü“n_æag
;

11123 
	g_wšdow_x
 = 
_wšdow_y
 = 
cimg
::
ty³
<>::
mš
();

11124 
	g_is_şo£d
 = 
şo£d_æag
;

11125 
	g_is_cursÜ_visibË
 = 
Œue
;

11126 
	g_is_mou£_Œacked
 = 
çl£
;

11127 
	g_t™Ë
 = 
tmp_t™Ë
;

11128 
æush
();

11129 ià(
	g_is_fuÎsü“n
è
_š™_fuÎsü“n
();

11132 *cÚ¡ 
	g¬g
 = (*)(
Ãw
 *[2]);

11133 ((**)
	g¬g
)[0] = (*)
this
;

11134 ((**)
	g¬g
)[1] = (*)
_t™Ë
;

11135 
	g_mu‹x
 = 
C»©eMu‹x
(0,
FALSE_WIN
,0);

11136 
	g_is_ü—‹d
 = 
C»©eEv’t
(0,
FALSE_WIN
,FALSE_WIN,0);

11137 
	g_th»ad
 = 
C»©eTh»ad
(0,0,
_ev’ts_th»ad
,
¬g
,0,0);

11138 
Wa™FÜSšgËObjeù
(
_is_ü—‹d
,
INFINITE
);

11139  *
	gthis
;

11142 
	gCImgDi¥Ïy
& 
assign
() {

11143 ià(
is_em±y
()è 
æush
();

11144 
De¡royWšdow
(
_wšdow
);

11145 
T”mš©eTh»ad
(
_th»ad
,0);

11146 
	gd–‘e
[] 
	g_d©a
;

11147 
	gd–‘e
[] 
	g_t™Ë
;

11148 
	g_d©a
 = 0;

11149 
	g_t™Ë
 = 0;

11150 ià(
	g_is_fuÎsü“n
è
_desš™_fuÎsü“n
();

11151 
	g_width
 = 
_height
 = 
_nÜm®iz©iÚ
 = 
_wšdow_width
 = 
_wšdow_height
 = 0;

11152 
	g_wšdow_x
 = 
_wšdow_y
 = 
cimg
::
ty³
<>::
mš
();

11153 
	g_is_fuÎsü“n
 = 
çl£
;

11154 
	g_is_şo£d
 = 
Œue
;

11155 
	g_mš
 = 
_max
 = 0;

11156 
	g_t™Ë
 = 0;

11157 
æush
();

11158  *
	gthis
;

11161 
	gCImgDi¥Ïy
& 
assign
(cÚ¡ 
dimw
, cÚ¡ 
dimh
, cÚ¡ *cÚ¡ 
t™Ë
=0,

11162 cÚ¡ 
nÜm®iz©iÚ_ty³
=3,

11163 cÚ¡ 
boŞ
 
fuÎsü“n_æag
=
çl£
, cÚ¡ boŞ 
şo£d_æag
=false) {

11164 ià(!
dimw
 || !
dimh
è 
assign
();

11165 
_assign
(
dimw
,
dimh
,
t™Ë
,
nÜm®iz©iÚ_ty³
,
fuÎsü“n_æag
,
şo£d_æag
);

11166 
	g_mš
 = 
_max
 = 0;

11167 
	g¡d
::
mem£t
(
_d©a
,0,()*
_width
*
_height
);

11168  
·št
();

11171 
	g‹m¶©e
<
ty³Çme
 
	gT
>

11172 
	gCImgDi¥Ïy
& 
assign
(cÚ¡ 
CImg
<
T
>& 
img
, cÚ¡ *cÚ¡ 
t™Ë
=0,

11173 cÚ¡ 
nÜm®iz©iÚ_ty³
=3,

11174 cÚ¡ 
boŞ
 
fuÎsü“n_æag
=
çl£
, cÚ¡ boŞ 
şo£d_æag
=false) {

11175 ià(!
img
è 
assign
();

11176 
	gCImg
<
	gT
> 
	gtmp
;

11177 cÚ¡ 
	gCImg
<
	gT
>& 
	gnimg
 = (
img
.
_d•th
==1)?img:(
tmp
=img.
g‘_´ojeùiÚs2d
((img.
_width
 - 1)/2,

11178 (
img
.
_height
 - 1)/2,

11179 (
img
.
_d•th
 - 1)/2));

11180 
_assign
(
nimg
.
_width
,nimg.
_height
,
t™Ë
,
nÜm®iz©iÚ_ty³
,
fuÎsü“n_æag
,
şo£d_æag
);

11181 ià(
	g_nÜm®iz©iÚ
==2è
_mš
 = ()
nimg
.
mš_max
(
_max
);

11182  
di¥Ïy
(
nimg
);

11185 
	g‹m¶©e
<
ty³Çme
 
	gT
>

11186 
	gCImgDi¥Ïy
& 
assign
(cÚ¡ 
CImgLi¡
<
T
>& 
li¡
, cÚ¡ *cÚ¡ 
t™Ë
=0,

11187 cÚ¡ 
nÜm®iz©iÚ_ty³
=3,

11188 cÚ¡ 
boŞ
 
fuÎsü“n_æag
=
çl£
, cÚ¡ boŞ 
şo£d_æag
=false) {

11189 ià(!
li¡
è 
assign
();

11190 
	gCImg
<
	gT
> 
	gtmp
;

11191 cÚ¡ 
	gCImg
<
	gT
> 
	gimg
 = 
li¡
>'x', &
	gnimg
 = (
img
.
_d•th
==1)?img:(
tmp
=img.
g‘_´ojeùiÚs2d
((img.
_width
 - 1)/2,

11192 (
img
.
_height
 - 1)/2,

11193 (
img
.
_d•th
 - 1)/2));

11194 
_assign
(
nimg
.
_width
,nimg.
_height
,
t™Ë
,
nÜm®iz©iÚ_ty³
,
fuÎsü“n_æag
,
şo£d_æag
);

11195 ià(
	g_nÜm®iz©iÚ
==2è
_mš
 = ()
nimg
.
mš_max
(
_max
);

11196  
di¥Ïy
(
nimg
);

11199 
	gCImgDi¥Ïy
& 
assign
(cÚ¡ 
CImgDi¥Ïy
& 
di¥
) {

11200 ià(!
	gdi¥
è 
assign
();

11201 
_assign
(
di¥
.
_width
,di¥.
_height
,di¥.
_t™Ë
,di¥.
_nÜm®iz©iÚ
,di¥.
_is_fuÎsü“n
,di¥.
_is_şo£d
);

11202 
	g¡d
::
memıy
(
_d©a
,
di¥
._d©a,()*
_width
*
_height
);

11203  
·št
();

11206 
	gCImgDi¥Ïy
& 
»size
(cÚ¡ 
nwidth
, cÚ¡ 
nheight
, cÚ¡ 
boŞ
 
fÜû_»d¿w
=
Œue
) {

11207 ià(!
nwidth
 || !
nheight
 || (
is_em±y
(è&& (nwidth<0 ||‚height<0))è 
assign
();

11208 ià(
is_em±y
()è 
assign
(
nwidth
,
nheight
);

11210 
	gtmpdimx
 = (
nwidth
>0)?nwidth:(-nwidth*
_width
/100),

11211 
	gtmpdimy
 = (
nheight
>0)?nheight:(-nheight*
_height
/100),

11212 
	gdimx
 = 
tmpdimx
?tmpdimx:1,

11213 
	gdimy
 = 
tmpdimy
?tmpdimy:1;

11214 ià(
	g_width
!=
dimx
 || 
_height
!=
dimy
 || 
_wšdow_width
!=dimx || 
_wšdow_height
!=dimy) {

11215 ià(
_wšdow_width
!=
dimx
 || 
_wšdow_height
!=
dimy
) {

11216 
RECT
 
»ù
; 
	g»ù
.
	gËá
 =„eù.
tİ
 = 0;„eù.
	gright
 = (
LONG
)
dimx
 - 1;„eù.
	gbÙtom
 = (LONG)
dimy
 - 1;

11217 
Adju¡WšdowReù
(&
»ù
,
WS_CAPTION
 | 
WS_SYSMENU
 | 
WS_THICKFRAME
 | 
WS_MINIMIZEBOX
 | 
WS_MAXIMIZEBOX
,
çl£
);

11218 cÚ¡ 
	gcwidth
 = 
»ù
.
right
 -„eù.
Ëá
 + 1, 
	gcheight
 =„eù.
bÙtom
 -„eù.
tİ
 + 1;

11219 
S‘WšdowPos
(
_wšdow
,0,0,0,
cwidth
,
cheight
,
SWP_NOMOVE
 | 
SWP_NOZORDER
 | 
SWP_NOCOPYBITS
);

11221 ià(
	g_width
!=
dimx
 || 
_height
!=
dimy
) {

11222 *cÚ¡ 
nd©a
 = 
Ãw
 [
dimx
*
dimy
];

11223 ià(
	gfÜû_»d¿w
è
_»nd”_»size
(
_d©a
,
_width
,
_height
,
nd©a
,
dimx
,
dimy
);

11224 
	g¡d
::
mem£t
(
nd©a
,0x80,()*
dimx
*
dimy
);

11225 
	gd–‘e
[] 
	g_d©a
;

11226 
	g_d©a
 = 
nd©a
;

11227 
	g_bmi
.
	gbmiH—d”
.
	gbiWidth
 = (
LONG
)
dimx
;

11228 
	g_bmi
.
	gbmiH—d”
.
	gbiHeight
 = -()
dimy
;

11229 
	g_width
 = 
dimx
;

11230 
	g_height
 = 
dimy
;

11232 
	g_wšdow_width
 = 
dimx
; 
	g_wšdow_height
 = 
dimy
;

11233 
show
();

11235 
	g_is_»sized
 = 
çl£
;

11236 ià(
	g_is_fuÎsü“n
è
move
((
sü“n_width
(è- 
width
())/2,(
sü“n_height
(è- 
height
())/2);

11237 ià(
	gfÜû_»d¿w
è 
·št
();

11238  *
	gthis
;

11241 
	gCImgDi¥Ïy
& 
toggË_fuÎsü“n
(cÚ¡ 
boŞ
 
fÜû_»d¿w
=
Œue
) {

11242 ià(
is_em±y
()è *
this
;

11243 ià(
	gfÜû_»d¿w
) {

11244 cÚ¡ 
cimg_ulÚg
 
	gbuf_size
 = (cimg_ulÚg)
_width
*
_height
*4;

11245 *
	god©a
 = 
¡d
::
m®loc
(
buf_size
);

11246 ià(
	god©a
) {

11247 
	g¡d
::
memıy
(
od©a
,
_d©a
,
buf_size
);

11248 
assign
(
_width
,
_height
,
_t™Ë
,
_nÜm®iz©iÚ
,!
_is_fuÎsü“n
,
çl£
);

11249 
	g¡d
::
memıy
(
_d©a
,
od©a
,
buf_size
);

11250 
	g¡d
::
ä“
(
od©a
);

11252  
·št
();

11254  
assign
(
_width
,
_height
,
_t™Ë
,
_nÜm®iz©iÚ
,!
_is_fuÎsü“n
,
çl£
);

11257 
	gCImgDi¥Ïy
& 
show
() {

11258 ià(
is_em±y
(è|| !
	g_is_şo£d
è *
	gthis
;

11259 
	g_is_şo£d
 = 
çl£
;

11260 ià(
	g_is_fuÎsü“n
è
_š™_fuÎsü“n
();

11261 
ShowWšdow
(
_wšdow
,
SW_SHOW
);

11262 
_upd©e_wšdow_pos
();

11263  
·št
();

11266 
	gCImgDi¥Ïy
& 
şo£
() {

11267 ià(
is_em±y
(è|| 
	g_is_şo£d
è *
	gthis
;

11268 
	g_is_şo£d
 = 
Œue
;

11269 ià(
	g_is_fuÎsü“n
è
_desš™_fuÎsü“n
();

11270 
ShowWšdow
(
_wšdow
,
SW_HIDE
);

11271 
	g_wšdow_x
 = 
_wšdow_y
 = 
cimg
::
ty³
<>::
mš
();

11272  *
	gthis
;

11275 
	gCImgDi¥Ïy
& 
move
(cÚ¡ 
posx
, cÚ¡ 
posy
) {

11276 ià(
is_em±y
()è *
	gthis
;

11277 ià(
	g_wšdow_x
!=
posx
 || 
_wšdow_y
!=
posy
) {

11278 
S‘WšdowPos
(
_wšdow
,0,
posx
,
posy
,0,0,
SWP_NOSIZE
 | 
SWP_NOZORDER
);

11279 
	g_wšdow_x
 = 
posx
;

11280 
	g_wšdow_y
 = 
posy
;

11282 
show
();

11283 
	g_is_moved
 = 
çl£
;

11284  *
	gthis
;

11287 
	gCImgDi¥Ïy
& 
show_mou£
() {

11288 ià(
is_em±y
()è *
	gthis
;

11289 
	g_is_cursÜ_visibË
 = 
Œue
;

11290  *
	gthis
;

11293 
	gCImgDi¥Ïy
& 
hide_mou£
() {

11294 ià(
is_em±y
()è *
	gthis
;

11295 
	g_is_cursÜ_visibË
 = 
çl£
;

11296  *
	gthis
;

11299 
	gCImgDi¥Ïy
& 
£t_mou£
(cÚ¡ 
posx
, cÚ¡ 
posy
) {

11300 ià(
is_em±y
(è|| 
	g_is_şo£d
 || 
	gposx
<0 || 
	gposy
<0è *
	gthis
;

11301 ià(!
	g_is_şo£d
) {

11302 
_upd©e_wšdow_pos
();

11303 cÚ¡ 
	g»s
 = ()
S‘CursÜPos
(
_wšdow_x
 + 
posx
,
_wšdow_y
 + 
posy
);

11304 ià(
	g»s
è{ 
	g_mou£_x
 = 
posx
; 
	g_mou£_y
 = 
posy
; }

11306  *
	gthis
;

11309 
	gCImgDi¥Ïy
& 
£t_t™Ë
(cÚ¡ *cÚ¡ 
fÜm©
, ...) {

11310 ià(
is_em±y
()è *
	gthis
;

11311 *cÚ¡ 
	gtmp
 = 
Ãw
 [1024];

11312 
va_li¡
 
	g­
;

11313 
va_¡¬t
(
­
, 
fÜm©
);

11314 
cimg_v¢´štf
(
tmp
,1024,
fÜm©
,
­
);

11315 
va_’d
(
­
);

11316 ià(!
	g¡d
::
¡rcmp
(
_t™Ë
,
tmp
)è{ 
	gd–‘e
[] 
	gtmp
;  *
	gthis
; }

11317 
	gd–‘e
[] 
	g_t™Ë
;

11318 cÚ¡ 
	gs
 = ()
¡d
::
¡¾’
(
tmp
) + 1;

11319 
	g_t™Ë
 = 
Ãw
 [
s
];

11320 
	g¡d
::
memıy
(
_t™Ë
,
tmp
,
s
*());

11321 
S‘WšdowTextA
(
_wšdow
, 
tmp
);

11322 
	gd–‘e
[] 
	gtmp
;

11323  *
	gthis
;

11326 
	g‹m¶©e
<
ty³Çme
 
	gT
>

11327 
	gCImgDi¥Ïy
& 
di¥Ïy
(cÚ¡ 
CImg
<
T
>& 
img
) {

11328 ià(!
	gimg
)

11329 
throw
 
CImgArgum’tExû±iÚ
(
_cimgdi¥Ïy_š¡ªû


11331 
cimgdi¥Ïy_š¡ªû
);

11332 ià(
is_em±y
()è 
assign
(
img
);

11333  
»nd”
(
img
).
·št
();

11336 
	gCImgDi¥Ïy
& 
·št
() {

11337 ià(
	g_is_şo£d
è *
	gthis
;

11338 
Wa™FÜSšgËObjeù
(
_mu‹x
,
INFINITE
);

11339 
S‘DIB™sToDeviû
(
_hdc
,0,0,
_width
,
_height
,0,0,0,_height,
_d©a
,&
_bmi
,
DIB_RGB_COLORS
);

11340 
R–—£Mu‹x
(
_mu‹x
);

11341  *
	gthis
;

11344 
	g‹m¶©e
<
ty³Çme
 
	gT
>

11345 
	gCImgDi¥Ïy
& 
»nd”
(cÚ¡ 
CImg
<
T
>& 
img
) {

11346 ià(!
	gimg
)

11347 
throw
 
CImgArgum’tExû±iÚ
(
_cimgdi¥Ïy_š¡ªû


11349 
cimgdi¥Ïy_š¡ªû
);

11351 ià(
is_em±y
()è *
	gthis
;

11352 ià(
	gimg
.
	g_d•th
!=1è 
»nd”
(
img
.
g‘_´ojeùiÚs2d
((img.
_width
 - 1)/2,(img.
_height
 - 1)/2,

11353 (
img
.
_d•th
 - 1)/2));

11355 cÚ¡ 
T


11356 *
	gd©a1
 = 
img
.
_d©a
,

11357 *
	gd©a2
 = (
img
.
_¥eùrum
>=2)?img.
d©a
(0,0,0,1):
d©a1
,

11358 *
	gd©a3
 = (
img
.
_¥eùrum
>=3)?img.
d©a
(0,0,0,2):
d©a1
;

11360 
Wa™FÜSšgËObjeù
(
_mu‹x
,
INFINITE
);

11362 *cÚ¡ 
	gnd©a
 = (
img
.
_width
==_width && img.
_height
==_height)?
_d©a
:

11363 
Ãw
 [(
size_t
)
img
.
_width
*img.
_height
],

11364 *
	g±rd
 = 
nd©a
;

11366 ià(!
	g_nÜm®iz©iÚ
 || (_nÜm®iz©iÚ==3 && 
cimg
::
ty³
<
T
>::
¡ršg
()==cimg::type<>::string())) {

11367 
_mš
 = 
_max
 = 0;

11368 
	gimg
.
	g_¥eùrum
) {

11370 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

11371 cÚ¡ 
	gv®
 = ()*(
d©a1
++);

11372 *(
	g±rd
++èğ()((
v®
<<16) | (val<<8) | val);

11376 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

11378 
	gR
 = ()*(
d©a1
++),

11379 
	gG
 = ()*(
d©a2
++);

11380 *(
	g±rd
++èğ()((
R
<<16è| (
G
<<8));

11384 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

11386 
	gR
 = ()*(
d©a1
++),

11387 
	gG
 = ()*(
d©a2
++),

11388 
	gB
 = ()*(
d©a3
++);

11389 *(
	g±rd
++èğ()((
R
<<16è| (
G
<<8è| 
B
);

11394 ià(
	g_nÜm®iz©iÚ
==3) {

11395 ià(
cimg
::
ty³
<
T
>::
is_æßt
()è
_mš
 = ()
img
.
mš_max
(
_max
);

11397 
	g_mš
 = ()
cimg
::
ty³
<
T
>::
mš
();

11398 
	g_max
 = ()
cimg
::
ty³
<
T
>::
max
();

11400 } ià((
	g_mš
>
	g_max
è|| 
	g_nÜm®iz©iÚ
==1è
_mš
 = ()
img
.
mš_max
(
_max
);

11401 cÚ¡ 
	gd–
 = 
_max
 - 
_mš
, 
	gmm
 = 255/(
d–
?delta:1.f);

11402 
	gimg
.
	g_¥eùrum
) {

11404 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

11405 cÚ¡ 
	gv®
 = ()((*(
d©a1
++è- 
_mš
)*
mm
);

11406 *(
	g±rd
++èğ()((
v®
<<16) | (val<<8) | val);

11410 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

11412 
	gR
 = ()((*(
d©a1
++è- 
_mš
)*
mm
),

11413 
	gG
 = ()((*(
d©a2
++è- 
_mš
)*
mm
);

11414 *(
	g±rd
++èğ()((
R
<<16è| (
G
<<8));

11418 
cimg_ulÚg
 
xy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

11420 
	gR
 = ()((*(
d©a1
++è- 
_mš
)*
mm
),

11421 
	gG
 = ()((*(
d©a2
++è- 
_mš
)*
mm
),

11422 
	gB
 = ()((*(
d©a3
++è- 
_mš
)*
mm
);

11423 *(
	g±rd
++èğ()((
R
<<16è| (
G
<<8è| 
B
);

11428 ià(
	gnd©a
!=
_d©a
è{ 
_»nd”_»size
(
nd©a
,
img
.
_width
,img.
_height
,_d©a,_width,_height); 
	gd–‘e
[]‚data; }

11429 
R–—£Mu‹x
(
_mu‹x
);

11430  *
	gthis
;

11433 
	g‹m¶©e
<
ty³Çme
 
	gT
>

11434 
sü“nshÙ
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
x1
, cÚ¡ 
y1
, 
CImg
<
T
>& 
img
) {

11435 
	gimg
.
assign
();

11436 
HDC
 
	ghSü“n
 = 
G‘DC
(
G‘DesktİWšdow
());

11437 ià(
	ghSü“n
) {

11439 
	gwidth
 = 
G‘DeviûC­s
(
hSü“n
,
HORZRES
),

11440 
	gheight
 = 
G‘DeviûC­s
(
hSü“n
,
VERTRES
);

11441 
	g_x0
 = 
x0
, 
	g_y0
 = 
y0
, 
	g_x1
 = 
x1
, 
	g_y1
 = 
y1
;

11442 ià(
	g_x0
>
	g_x1
è
	gcimg
::
sw­
(
_x0
,
_x1
);

11443 ià(
	g_y0
>
	g_y1
è
	gcimg
::
sw­
(
_y0
,
_y1
);

11444 ià(
	g_x1
>=0 && 
_x0
<
width
 && 
_y1
>=0 && 
_y0
<
height
) {

11445 
_x0
 = 
¡d
::
max
(_x0,0);

11446 
	g_y0
 = 
¡d
::
max
(
_y0
,0);

11447 
	g_x1
 = 
¡d
::
mš
(
_x1
,
width
 - 1);

11448 
	g_y1
 = 
¡d
::
mš
(
_y1
,
height
 - 1);

11449 cÚ¡ 
	gbw
 = 
_x1
 - 
_x0
 + 1, 
	gbh
 = 
_y1
 - 
_y0
 + 1;

11450 
HDC
 
	ghdcMem
 = 
C»©eCom·tibËDC
(
hSü“n
);

11451 ià(
	ghdcMem
) {

11452 
HBITMAP
 
	ghB™m­
 = 
C»©eCom·tibËB™m­
(
hSü“n
,
bw
,
bh
);

11453 ià(
	ghB™m­
) {

11454 
HGDIOBJ
 
	ghOld
 = 
S–eùObjeù
(
hdcMem
,
hB™m­
);

11455 ià(
	ghOld
 && 
B™BÉ
(
hdcMem
,0,0,
bw
,
bh
,
hSü“n
,
_x0
,
_y0
,
SRCCOPY
è&& 
S–eùObjeù
(hdcMem,
hOld
)) {

11456 
BITMAPINFOHEADER
 
	gbmi
;

11457 
	gbmi
.
	gbiSize
 = (
BITMAPINFOHEADER
);

11458 
	gbmi
.
	gbiWidth
 = 
bw
;

11459 
	gbmi
.
	gbiHeight
 = -
bh
;

11460 
	gbmi
.
	gbiPÏÃs
 = 1;

11461 
	gbmi
.
	gbiB™CouÁ
 = 32;

11462 
	gbmi
.
	gbiCom´essiÚ
 = 
BI_RGB
;

11463 
	gbmi
.
	gbiSizeImage
 = 0;

11464 
	gbmi
.
	gbiXP–sP”M‘”
 = 
bmi
.
biYP–sP”M‘”
 = 0;

11465 
	gbmi
.
	gbiCÌU£d
 = 
bmi
.
biCÌImpÜÁ
 = 0;

11466 *
	gbuf
 = 
Ãw
 [4*
bw
*
bh
];

11467 ià(
G‘DIB™s
(
hdcMem
,
hB™m­
,0,
bh
,
buf
,(
BITMAPINFO
*)&
bmi
,
DIB_RGB_COLORS
)) {

11468 
	gimg
.
assign
(
bw
,
bh
,1,3);

11469 cÚ¡ *
	g±rs
 = 
buf
;

11470 
T
 *
	gpR
 = 
img
.
d©a
(0,0,0,0), *
	gpG
 = img.d©a(0,0,0,1), *
	gpB
 = img.data(0,0,0,2);

11471 
cimg_fÜXY
(
img
,
x
,
y
) {

11472 *(
	gpR
++èğ(
T
)
±rs
[2];

11473 *(
	gpG
++èğ(
T
)
±rs
[1];

11474 *(
	gpB
++èğ(
T
)
±rs
[0];

11475 
	g±rs
+=4;

11478 
	gd–‘e
[] 
	gbuf
;

11480 
D–‘eObjeù
(
hB™m­
);

11482 
D–‘eDC
(
hdcMem
);

11485 
R–—£DC
(
G‘DesktİWšdow
(),
hSü“n
);

11487 ià(
	gimg
.
is_em±y
())

11488 
throw
 
CImgDi¥ÏyExû±iÚ
("CImgDisplay::screenshot(): Failedoake screenshot "

11490 
x0
,
y0
,
x1
,
y1
);

11493 
	g‹m¶©e
<
ty³Çme
 
	gT
>

11494 cÚ¡ 
	gCImgDi¥Ïy
& 
¢­shÙ
(
CImg
<
T
>& 
img
) const {

11495 ià(
is_em±y
()è{ 
	gimg
.
assign
();  *
	gthis
; }

11496 cÚ¡ *
	g±rs
 = 
_d©a
;

11497 
	gimg
.
assign
(
_width
,
_height
,1,3);

11498 
T


11499 *
	gd©a1
 = 
img
.
d©a
(0,0,0,0),

11500 *
	gd©a2
 = 
img
.
d©a
(0,0,0,1),

11501 *
	gd©a3
 = 
img
.
d©a
(0,0,0,2);

11502 
cimg_ulÚg
 
	gxy
 = (cimg_ulÚg)
img
.
_width
*img.
_height
; xy>0; --xy) {

11503 cÚ¡ 
	gv®
 = *(
±rs
++);

11504 *(
	gd©a1
++èğ(
T
)()(
v®
>>16);

11505 *(
	gd©a2
++èğ(
T
)()((
v®
>>8)&0xFF);

11506 *(
	gd©a3
++èğ(
T
)()(
v®
&0xFF);

11508  *
	gthis
;

11618 
	g‹m¶©e
<
ty³Çme
 
	gT
>

11619 
	sCImg
 {

11621 
	g_width
, 
	g_height
, 
	g_d•th
, 
	g_¥eùrum
;

11622 
boŞ
 
	g_is_sh¬ed
;

11623 
T
 *
	g_d©a
;

11639 
T
* 
	t™”©Ü
;

11656 cÚ¡ 
	tT
* 
	tcÚ¡_™”©Ü
;

11666 
T
 
	tv®ue_ty³
;

11669 
ty³Çme
 
	tcimg
::
	tsu³r£t
<
	tT
,
	tboŞ
>::
	tty³
 
	tTboŞ
;

11670 
ty³Çme
 
	tcimg
::
	tsu³r£t
<
	tT
,>::
	tty³
 
	tTuch¬
;

11671 
ty³Çme
 
	tcimg
::
	tsu³r£t
<
	tT
,>::
	tty³
 
	tTch¬
;

11672 
ty³Çme
 
	tcimg
::
	tsu³r£t
<
	tT
,>::
	tty³
 
	tTushÜt
;

11673 
ty³Çme
 
	tcimg
::
	tsu³r£t
<
	tT
,>::
	tty³
 
	tTshÜt
;

11674 
ty³Çme
 
	tcimg
::
	tsu³r£t
<
	tT
,>::
	tty³
 
	tTušt
;

11675 
ty³Çme
 
	tcimg
::
	tsu³r£t
<
	tT
,>::
	tty³
 
	tTšt
;

11676 
ty³Çme
 
	tcimg
::
	tsu³r£t
<
	tT
,
	tcimg_ulÚg
>::
	tty³
 
	tTulÚg
;

11677 
ty³Çme
 
	tcimg
::
	tsu³r£t
<
	tT
,
	tcimg_lÚg
>::
	tty³
 
	tTlÚg
;

11678 
ty³Çme
 
	tcimg
::
	tsu³r£t
<
	tT
,>::
	tty³
 
	tTæßt
;

11679 
ty³Çme
 
	tcimg
::
	tsu³r£t
<
	tT
,>::
	tty³
 
	tTdoubË
;

11680 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,
	tboŞ
>::
	tty³
 
	tboŞT
;

11681 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,>::
	tty³
 
	tuch¬T
;

11682 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,>::
	tty³
 
	tch¬T
;

11683 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,>::
	tty³
 
	tushÜtT
;

11684 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,>::
	tty³
 
	tshÜtT
;

11685 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,>::
	tty³
 
	tuštT
;

11686 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,>::
	tty³
 
	tštT
;

11687 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,
	tcimg_ulÚg
>::
	tty³
 
	tulÚgT
;

11688 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,
	tcimg_lÚg
>::
	tty³
 
	tlÚgT
;

11689 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,
	tcimg_ušt64
>::
	tty³
 
	tušt64T
;

11690 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,
	tcimg_št64
>::
	tty³
 
	tšt64T
;

11691 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,>::
	tty³
 
	tæßtT
;

11692 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,>::
	tty³
 
	tdoubËT
;

11695 
size_t
 
§ã_size
(cÚ¡ 
dx
, cÚ¡ 
dy
,

11696 cÚ¡ 
dz
, cÚ¡ 
dc
) {

11697 ià(!(
	gdx
 && 
	gdy
 && 
	gdz
 && 
	gdc
))  0;

11698 
size_t
 
	gsiz
 = (size_t)
dx
, 
	gosiz
 = 
siz
;

11699 ià((
	gdy
==1 || (
siz
*=
dy
)>
osiz
) &&

11700 ((
osiz
 = 
siz
), 
	gdz
==1 || (siz*=
dz
)>osiz) &&

11701 ((
osiz
 = 
siz
), 
	gdc
==1 || (siz*=
dc
)>osiz) &&

11702 ((
osiz
 = 
siz
), (
	gT
)==1 || (siz*(
T
))>osiz))  siz;

11703 
throw
 
CImgArgum’tExû±iÚ
("CImg<%s>::safe_size(): Specified size (%u,%u,%u,%u) overflows 'size_t'.",

11704 
pix–_ty³
(),
dx
,
dy
,
dz
,
dc
);

11713 #ifdeà
cimg_¶ugš


11714 #šşud
cimg_¶ugš


11716 #ifdeà
cimg_¶ugš1


11717 #šşud
cimg_¶ugš1


11719 #ifdeà
cimg_¶ugš2


11720 #šşud
cimg_¶ugš2


11722 #ifdeà
cimg_¶ugš3


11723 #šşud
cimg_¶ugš3


11725 #ifdeà
cimg_¶ugš4


11726 #šşud
cimg_¶ugš4


11728 #ifdeà
cimg_¶ugš5


11729 #šşud
cimg_¶ugš5


11731 #ifdeà
cimg_¶ugš6


11732 #šşud
cimg_¶ugš6


11734 #ifdeà
cimg_¶ugš7


11735 #šşud
cimg_¶ugš7


11737 #ifdeà
cimg_¶ugš8


11738 #šşud
cimg_¶ugš8


11758 ~
CImg
() {

11759 ià(!
	g_is_sh¬ed
è
	gd–‘e
[] 
	g_d©a
;

11779 
CImg
():
_width
(0),
_height
(0),
_d•th
(0),
_¥eùrum
(0),
_is_sh¬ed
(
çl£
),
_d©a
(0) {}

11804 
ex¶ic™
 
CImg
(cÚ¡ 
size_x
, cÚ¡ 
size_y
=1,

11805 cÚ¡ 
size_z
=1, cÚ¡ 
size_c
=1):

11806 
_is_sh¬ed
(
çl£
) {

11807 cÚ¡ 
size_t
 
siz
 = 
§ã_size
(
size_x
,
size_y
,
size_z
,
size_c
);

11808 ià(
	gsiz
) {

11809 
	g_width
 = 
size_x
; 
	g_height
 = 
size_y
; 
	g_d•th
 = 
size_z
; 
	g_¥eùrum
 = 
size_c
;

11810 
	gŒy
 { 
	g_d©a
 = 
Ãw
 
T
[
siz
]; } 
ÿtch
 (...) {

11811 
	g_width
 = 
_height
 = 
_d•th
 = 
_¥eùrum
 = 0; 
	g_d©a
 = 0;

11812 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


11814 
cimg_š¡ªû
,

11815 
cimg
::
¡rbufãrsize
((
T
)*
size_x
*
size_y
*
size_z
*
size_c
),

11816 
size_x
,
size_y
,
size_z
,
size_c
);

11818 } { 
	g_width
 = 
_height
 = 
_d•th
 = 
_¥eùrum
 = 0; 
	g_d©a
 = 0; }

11836 
CImg
(cÚ¡ 
size_x
, cÚ¡ 
size_y
,

11837 cÚ¡ 
size_z
, cÚ¡ 
size_c
, cÚ¡ 
T
& 
v®ue
):

11838 
_is_sh¬ed
(
çl£
) {

11839 cÚ¡ 
size_t
 
siz
 = 
§ã_size
(
size_x
,
size_y
,
size_z
,
size_c
);

11840 ià(
	gsiz
) {

11841 
	g_width
 = 
size_x
; 
	g_height
 = 
size_y
; 
	g_d•th
 = 
size_z
; 
	g_¥eùrum
 = 
size_c
;

11842 
	gŒy
 { 
	g_d©a
 = 
Ãw
 
T
[
siz
]; } 
ÿtch
 (...) {

11843 
	g_width
 = 
_height
 = 
_d•th
 = 
_¥eùrum
 = 0; 
	g_d©a
 = 0;

11844 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


11846 
cimg_š¡ªû
,

11847 
cimg
::
¡rbufãrsize
((
T
)*
size_x
*
size_y
*
size_z
*
size_c
),

11848 
size_x
,
size_y
,
size_z
,
size_c
);

11850 
fl
(
v®ue
);

11851 } { 
	g_width
 = 
_height
 = 
_d•th
 = 
_¥eùrum
 = 0; 
	g_d©a
 = 0; }

11882 
CImg
(cÚ¡ 
size_x
, cÚ¡ 
size_y
, cÚ¡ 
size_z
, cÚ¡ 
size_c
,

11883 cÚ¡ 
v®ue0
, cÚ¡ 
v®ue1
, ...):

11884 
_width
(0),
_height
(0),
_d•th
(0),
_¥eùrum
(0),
_is_sh¬ed
(
çl£
),
_d©a
(0) {

11885 
	#_CImg_¡d¬g
(
img
,
a0
,
a1
,
N
,
t
) { \

11886 
size_t
 
_siz
 = (size_t)
N
; \

11887 ià(
_siz
--) { \

11888 
va_li¡
 
­
; \

11889 
	`va_¡¬t
(
­
,
a1
); \

11890 
T
 *
±rd
 = (
img
).
_d©a
; \

11891 *(
±rd
++èğ(
T
)
a0
; \

11892 ià(
_siz
--) { \

11893 *(
±rd
++èğ(
T
)
a1
; \

11894  ; 
_siz
; --_sizè*(
±rd
++èğ(
T
)
	`va_¬g
(
­
,
t
); \

11896 
	`va_’d
(
­
); \

11898 }

	)

11899 
assign
(
size_x
,
size_y
,
size_z
,
size_c
);

11900 
_CImg_¡d¬g
(*
this
,
v®ue0
,
v®ue1
,
§ã_size
(
size_x
,
size_y
,
size_z
,
size_c
),);

11903 #ià
cimg_u£_ıp11
==1

11929 
	g‹m¶©e
<
ty³Çme
 
	gt
>

11930 
CImg
(cÚ¡ 
size_x
, cÚ¡ 
size_y
, cÚ¡ 
size_z
, cÚ¡ 
size_c
,

11931 cÚ¡ 
¡d
::
š™Ÿliz”_li¡
<
t
> 
v®ues
,

11932 cÚ¡ 
boŞ
 
»³©_v®ues
=
Œue
):

11933 
_width
(0),
_height
(0),
_d•th
(0),
_¥eùrum
(0),
_is_sh¬ed
(
çl£
),
_d©a
(0) {

11934 
	#_cimg_cÚ¡ruùÜ_ıp11
(
»³©_v®ues
) \

11935 autØ
™
 = 
v®ues
.
	`begš
(); \

11936 
size_t
 
siz
 = 
	`size
(); \

11937 ià(
»³©_v®ues
è
T
 *
±rd
 = 
_d©a
; 
siz
--; ) { \

11938 *(
±rd
++èğ(
T
)(*(
™
++)); ià(™==
v®ues
.
	`’d
()è™ = v®ues.
	`begš
(); } \

11939 { 
siz
 = 
¡d
::
	`mš
(siz,
v®ues
.
	`size
()); 
T
 *
±rd
 = 
_d©a
; siz--; ) *ÕŒd++èğ(T)(*(
™
++)); }

	)

11940 
assign
(
size_x
,
size_y
,
size_z
,
size_c
);

11941 
_cimg_cÚ¡ruùÜ_ıp11
(
»³©_v®ues
);

11944 
	g‹m¶©e
<
ty³Çme
 
	gt
>

11945 
CImg
(cÚ¡ 
size_x
, cÚ¡ 
size_y
, cÚ¡ 
size_z
,

11946 
¡d
::
š™Ÿliz”_li¡
<
t
> 
v®ues
,

11947 cÚ¡ 
boŞ
 
»³©_v®ues
=
Œue
):

11948 
_width
(0),
_height
(0),
_d•th
(0),
_¥eùrum
(0),
_is_sh¬ed
(
çl£
),
_d©a
(0) {

11949 
assign
(
size_x
,
size_y
,
size_z
);

11950 
_cimg_cÚ¡ruùÜ_ıp11
(
»³©_v®ues
);

11953 
	g‹m¶©e
<
ty³Çme
 
	gt
>

11954 
CImg
(cÚ¡ 
size_x
, cÚ¡ 
size_y
,

11955 
¡d
::
š™Ÿliz”_li¡
<
t
> 
v®ues
,

11956 cÚ¡ 
boŞ
 
»³©_v®ues
=
Œue
):

11957 
_width
(0),
_height
(0),
_d•th
(0),
_¥eùrum
(0),
_is_sh¬ed
(
çl£
),
_d©a
(0) {

11958 
assign
(
size_x
,
size_y
);

11959 
_cimg_cÚ¡ruùÜ_ıp11
(
»³©_v®ues
);

11962 
	g‹m¶©e
<
ty³Çme
 
	gt
>

11963 
CImg
(cÚ¡ 
size_x
,

11964 
¡d
::
š™Ÿliz”_li¡
<
t
> 
v®ues
,

11965 cÚ¡ 
boŞ
 
»³©_v®ues
=
Œue
):
_width
(0),
_height
(0),
_d•th
(0),
_¥eùrum
(0),
_is_sh¬ed
(
çl£
),
_d©a
(0) {

11966 
assign
(
size_x
);

11967 
_cimg_cÚ¡ruùÜ_ıp11
(
»³©_v®ues
);

11987 
	g‹m¶©e
<
ty³Çme
 
	gt
>

11988 
CImg
(cÚ¡ 
¡d
::
š™Ÿliz”_li¡
<
t
> 
v®ues
):

11989 
_width
(0),
_height
(0),
_d•th
(0),
_¥eùrum
(0),
_is_sh¬ed
(
çl£
),
_d©a
(0) {

11990 
assign
(
v®ues
.
size
(),1,1,1);

11991 autØ
	g™
 = 
v®ues
.
begš
();

11992 
	gsiz
 = 
_width
;

11993 
T
 *
	g±rd
 = 
_d©a
; 
	gsiz
--; ) *ÕŒd++èğ(T)(*(
™
++));

11996 
	g‹m¶©e
<
ty³Çme
 
	gt
>

11997 
	gCImg
<
	gT
>& 
	gİ”©Ü
=(
¡d
::
š™Ÿliz”_li¡
<
t
> 
v®ues
) {

11998 
_cimg_cÚ¡ruùÜ_ıp11
(
siz
>
v®ues
.
size
());

11999  *
	gthis
;

12025 
CImg
(cÚ¡ 
size_x
, cÚ¡ 
size_y
, cÚ¡ 
size_z
, cÚ¡ 
size_c
,

12026 cÚ¡ 
v®ue0
, cÚ¡ 
v®ue1
, ...):

12027 
_width
(0),
_height
(0),
_d•th
(0),
_¥eùrum
(0),
_is_sh¬ed
(
çl£
),
_d©a
(0) {

12028 
assign
(
size_x
,
size_y
,
size_z
,
size_c
);

12029 
_CImg_¡d¬g
(*
this
,
v®ue0
,
v®ue1
,
§ã_size
(
size_x
,
size_y
,
size_z
,
size_c
),);

12062 
CImg
(cÚ¡ 
size_x
, cÚ¡ 
size_y
, cÚ¡ 
size_z
, cÚ¡ 
size_c
,

12063 cÚ¡ *cÚ¡ 
v®ues
, cÚ¡ 
boŞ
 
»³©_v®ues
):
_is_sh¬ed
(
çl£
) {

12064 cÚ¡ 
size_t
 
siz
 = 
§ã_size
(
size_x
,
size_y
,
size_z
,
size_c
);

12065 ià(
	gsiz
) {

12066 
	g_width
 = 
size_x
; 
	g_height
 = 
size_y
; 
	g_d•th
 = 
size_z
; 
	g_¥eùrum
 = 
size_c
;

12067 
	gŒy
 { 
	g_d©a
 = 
Ãw
 
T
[
siz
]; } 
ÿtch
 (...) {

12068 
	g_width
 = 
_height
 = 
_d•th
 = 
_¥eùrum
 = 0; 
	g_d©a
 = 0;

12069 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


12071 
cimg_š¡ªû
,

12072 
cimg
::
¡rbufãrsize
((
T
)*
size_x
*
size_y
*
size_z
*
size_c
),

12073 
size_x
,
size_y
,
size_z
,
size_c
);

12075 
fl
(
v®ues
,
»³©_v®ues
);

12076 } { 
	g_width
 = 
_height
 = 
_d•th
 = 
_¥eùrum
 = 0; 
	g_d©a
 = 0; }

12109 
	g‹m¶©e
<
ty³Çme
 
	gt
>

12110 
CImg
(cÚ¡ 
t
 *cÚ¡ 
v®ues
, cÚ¡ 
size_x
, cÚ¡ 
size_y
=1,

12111 cÚ¡ 
size_z
=1, cÚ¡ 
size_c
=1, cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
):
_is_sh¬ed
(false) {

12112 ià(
is_sh¬ed
) {

12113 
_width
 = 
_height
 = 
_d•th
 = 
_¥eùrum
 = 0; 
	g_d©a
 = 0;

12114 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


12117 
cimg_š¡ªû
,

12118 
size_x
,
size_y
,
size_z
,
size_c
,
CImg
<
t
>::
pix–_ty³
());

12120 cÚ¡ 
size_t
 
	gsiz
 = 
§ã_size
(
size_x
,
size_y
,
size_z
,
size_c
);

12121 ià(
	gv®ues
 && 
	gsiz
) {

12122 
	g_width
 = 
size_x
; 
	g_height
 = 
size_y
; 
	g_d•th
 = 
size_z
; 
	g_¥eùrum
 = 
size_c
;

12123 
	gŒy
 { 
	g_d©a
 = 
Ãw
 
T
[
siz
]; } 
ÿtch
 (...) {

12124 
	g_width
 = 
_height
 = 
_d•th
 = 
_¥eùrum
 = 0; 
	g_d©a
 = 0;

12125 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


12127 
cimg_š¡ªû
,

12128 
cimg
::
¡rbufãrsize
((
T
)*
size_x
*
size_y
*
size_z
*
size_c
),

12129 
size_x
,
size_y
,
size_z
,
size_c
);

12132 cÚ¡ 
t
 *
	g±rs
 = 
v®ues
; 
cimg_fÜ
(*
this
,
±rd
,
T
è*
	g±rd
 = (T)*(
±rs
++);

12133 } { 
	g_width
 = 
_height
 = 
_d•th
 = 
_¥eùrum
 = 0; 
	g_d©a
 = 0; }

12137 
CImg
(cÚ¡ 
T
 *cÚ¡ 
v®ues
, cÚ¡ 
size_x
, cÚ¡ 
size_y
=1,

12138 cÚ¡ 
size_z
=1, cÚ¡ 
size_c
=1, cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
) {

12139 cÚ¡ 
size_t
 
siz
 = 
§ã_size
(
size_x
,
size_y
,
size_z
,
size_c
);

12140 ià(
	gv®ues
 && 
	gsiz
) {

12141 
	g_width
 = 
size_x
; 
	g_height
 = 
size_y
; 
	g_d•th
 = 
size_z
; 
	g_¥eùrum
 = 
size_c
; 
	g_is_sh¬ed
 = 
is_sh¬ed
;

12142 ià(
	g_is_sh¬ed
è
	g_d©a
 = 
cÚ¡_ÿ¡
<
T
*>(
v®ues
);

12144 
	gŒy
 { 
	g_d©a
 = 
Ãw
 
T
[
siz
]; } 
ÿtch
 (...) {

12145 
	g_width
 = 
_height
 = 
_d•th
 = 
_¥eùrum
 = 0; 
	g_d©a
 = 0;

12146 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


12148 
cimg_š¡ªû
,

12149 
cimg
::
¡rbufãrsize
((
T
)*
size_x
*
size_y
*
size_z
*
size_c
),

12150 
size_x
,
size_y
,
size_z
,
size_c
);

12152 
	g¡d
::
memıy
(
_d©a
,
v®ues
,
siz
*(
T
));

12154 } { 
	g_width
 = 
_height
 = 
_d•th
 = 
_¥eùrum
 = 0; 
	g_is_sh¬ed
 = 
çl£
; 
	g_d©a
 = 0; }

12158 
	g‹m¶©e
<
ty³Çme
 
	gt
>

12159 
CImg
(cÚ¡ 
t
 *cÚ¡ 
v®ues
, cÚ¡ 
size_x
, cÚ¡ 
size_y
,

12160 cÚ¡ 
size_z
, cÚ¡ 
size_c
,

12161 cÚ¡ *cÚ¡ 
axes_Üd”
):
_d©a
(0),
_is_sh¬ed
(
çl£
) {

12162 cÚ¡ 
size_t
 
	gsiz
 = 
§ã_size
(
size_x
,
size_y
,
size_z
,
size_c
);

12163 ià(
	gv®ues
 && 
	gsiz
) {

12164 
	gs_code
[4] = { 0,1,2,3 }, 
	gn_code
[4] = { 0 };

12165 
	gl
 = 0; 
	gaxes_Üd”
[
l
]; ++l) {

12166 
	gc
 = 
cimg
::
low”ÿ£
(
axes_Üd”
[
l
]);

12167 ià(
	gl
>=4 || (
c
!='x' && c!='y' && c!='z' && c!='c')è{ *
s_code
 = 4; ; }

12168 { ++
	gn_code
[
c
%=4]; 
	gs_code
[
l
] = c; }

12170 ià(*
	gaxes_Üd”
 && *
	gs_code
<4 && *
	gn_code
<=1 && 
n_code
[1]<=1 &&‚_code[2]<=1 &&‚_code[3]<=1) {

12171 cÚ¡ 
code
 = (
s_code
[0]<<12) | (s_code[1]<<8) | (s_code[2]<<4) | (s_code[3]);

12172 
	gs0
 = 0, 
	gs1
 = 0, 
	gs2
 = 0, 
	gs3
 = 0;

12173 cÚ¡ *
	gšv_Üd”
 = 0;

12174 
	gcode
) {

12175 0x0123 : 
šv_Üd”
 = "xyzc"; 
	gs0
 = 
size_x
; 
	gs1
 = 
size_y
; 
	gs2
 = 
size_z
; 
	gs3
 = 
size_c
; ;

12176 0x0132 : 
šv_Üd”
 = "xyzc"; 
	gs0
 = 
size_x
; 
	gs1
 = 
size_y
; 
	gs2
 = 
size_c
; 
	gs3
 = 
size_z
; ;

12177 0x0213 : 
šv_Üd”
 = "xzyc"; 
	gs0
 = 
size_x
; 
	gs1
 = 
size_z
; 
	gs2
 = 
size_y
; 
	gs3
 = 
size_c
; ;

12178 0x0231 : 
šv_Üd”
 = "xcyz"; 
	gs0
 = 
size_x
; 
	gs1
 = 
size_z
; 
	gs2
 = 
size_c
; 
	gs3
 = 
size_y
; ;

12179 0x0312 : 
šv_Üd”
 = "xzcy"; 
	gs0
 = 
size_x
; 
	gs1
 = 
size_c
; 
	gs2
 = 
size_y
; 
	gs3
 = 
size_z
; ;

12180 0x0321 : 
šv_Üd”
 = "xczy"; 
	gs0
 = 
size_x
; 
	gs1
 = 
size_c
; 
	gs2
 = 
size_z
; 
	gs3
 = 
size_y
; ;

12181 0x1023 : 
šv_Üd”
 = "yxzc"; 
	gs0
 = 
size_y
; 
	gs1
 = 
size_x
; 
	gs2
 = 
size_z
; 
	gs3
 = 
size_c
; ;

12182 0x1032 : 
šv_Üd”
 = "yxcz"; 
	gs0
 = 
size_y
; 
	gs1
 = 
size_x
; 
	gs2
 = 
size_c
; 
	gs3
 = 
size_z
; ;

12183 0x1203 : 
šv_Üd”
 = "zxyc"; 
	gs0
 = 
size_y
; 
	gs1
 = 
size_z
; 
	gs2
 = 
size_x
; 
	gs3
 = 
size_c
; ;

12184 0x1230 : 
šv_Üd”
 = "cxyz"; 
	gs0
 = 
size_y
; 
	gs1
 = 
size_z
; 
	gs2
 = 
size_c
; 
	gs3
 = 
size_x
; ;

12185 0x1302 : 
šv_Üd”
 = "zxcy"; 
	gs0
 = 
size_y
; 
	gs1
 = 
size_c
; 
	gs2
 = 
size_x
; 
	gs3
 = 
size_z
; ;

12186 0x1320 : 
šv_Üd”
 = "cxzy"; 
	gs0
 = 
size_y
; 
	gs1
 = 
size_c
; 
	gs2
 = 
size_z
; 
	gs3
 = 
size_x
; ;

12187 0x2013 : 
šv_Üd”
 = "yzxc"; 
	gs0
 = 
size_z
; 
	gs1
 = 
size_x
; 
	gs2
 = 
size_y
; 
	gs3
 = 
size_c
; ;

12188 0x2031 : 
šv_Üd”
 = "ycxz"; 
	gs0
 = 
size_z
; 
	gs1
 = 
size_x
; 
	gs2
 = 
size_c
; 
	gs3
 = 
size_y
; ;

12189 0x2103 : 
šv_Üd”
 = "zyxc"; 
	gs0
 = 
size_z
; 
	gs1
 = 
size_y
; 
	gs2
 = 
size_x
; 
	gs3
 = 
size_c
; ;

12190 0x2130 : 
šv_Üd”
 = "cyxz"; 
	gs0
 = 
size_z
; 
	gs1
 = 
size_y
; 
	gs2
 = 
size_c
; 
	gs3
 = 
size_x
; ;

12191 0x2301 : 
šv_Üd”
 = "zcxy"; 
	gs0
 = 
size_z
; 
	gs1
 = 
size_c
; 
	gs2
 = 
size_x
; 
	gs3
 = 
size_y
; ;

12192 0x2310 : 
šv_Üd”
 = "czxy"; 
	gs0
 = 
size_z
; 
	gs1
 = 
size_c
; 
	gs2
 = 
size_y
; 
	gs3
 = 
size_x
; ;

12193 0x3012 : 
šv_Üd”
 = "yzcx"; 
	gs0
 = 
size_c
; 
	gs1
 = 
size_x
; 
	gs2
 = 
size_y
; 
	gs3
 = 
size_z
; ;

12194 0x3021 : 
šv_Üd”
 = "yczx"; 
	gs0
 = 
size_c
; 
	gs1
 = 
size_x
; 
	gs2
 = 
size_z
; 
	gs3
 = 
size_y
; ;

12195 0x3102 : 
šv_Üd”
 = "zycx"; 
	gs0
 = 
size_c
; 
	gs1
 = 
size_y
; 
	gs2
 = 
size_x
; 
	gs3
 = 
size_z
; ;

12196 0x3120 : 
šv_Üd”
 = "cyzx"; 
	gs0
 = 
size_c
; 
	gs1
 = 
size_y
; 
	gs2
 = 
size_z
; 
	gs3
 = 
size_x
; ;

12197 0x3201 : 
šv_Üd”
 = "zcyx"; 
	gs0
 = 
size_c
; 
	gs1
 = 
size_z
; 
	gs2
 = 
size_x
; 
	gs3
 = 
size_y
; ;

12198 0x3210 : 
šv_Üd”
 = "czyx"; 
	gs0
 = 
size_c
; 
	gs1
 = 
size_z
; 
	gs2
 = 
size_y
; 
	gs3
 = 
size_x
; ;

12200 
	gCImg
<
	gt
>(
	gv®ues
,
	gs0
,
	gs1
,
	gs2
,
	gs3
,
	gŒue
).
g‘_³rmu‹_axes
(
šv_Üd”
).
move_to
(*
this
);

12202 
	g_width
 = 
_height
 = 
_d•th
 = 
_¥eùrum
 = 0; 
	g_d©a
 = 0;

12203 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


12205 
cimg_š¡ªû
,

12206 
axes_Üd”
);

12208 } { 
	g_width
 = 
_height
 = 
_d•th
 = 
_¥eùrum
 = 0; 
	g_is_sh¬ed
 = 
çl£
; 
	g_d©a
 = 0; }

12232 
ex¶ic™
 
CImg
(cÚ¡ *cÚ¡ 
f’ame
):
_width
(0),
_height
(0),
_d•th
(0),
_¥eùrum
(0),
_is_sh¬ed
(
çl£
),
_d©a
(0) {

12233 
assign
(
f’ame
);

12255 
	g‹m¶©e
<
ty³Çme
 
	gt
>

12256 
CImg
(cÚ¡ CImg<
t
>& 
img
):
_is_sh¬ed
(
çl£
) {

12257 cÚ¡ 
size_t
 
siz
 = (size_t)
img
.
size
();

12258 ià(
	gimg
.
	g_d©a
 && 
	gsiz
) {

12259 
	g_width
 = 
img
.
_width
; 
	g_height
 = img.
_height
; 
	g_d•th
 = img.
_d•th
; 
	g_¥eùrum
 = img.
_¥eùrum
;

12260 
	gŒy
 { 
	g_d©a
 = 
Ãw
 
T
[
siz
]; } 
ÿtch
 (...) {

12261 
	g_width
 = 
_height
 = 
_d•th
 = 
_¥eùrum
 = 0; 
	g_d©a
 = 0;

12262 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


12264 
cimg_š¡ªû
,

12265 
cimg
::
¡rbufãrsize
((
T
)*
img
.
_width
*img.
_height
*img.
_d•th
*img.
_¥eùrum
),

12266 
img
.
_width
,img.
_height
,img.
_d•th
,img.
_¥eùrum
);

12268 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
; 
cimg_fÜ
(*
this
,
±rd
,
T
è*
	g±rd
 = (T)*(
±rs
++);

12269 } { 
	g_width
 = 
_height
 = 
_d•th
 = 
_¥eùrum
 = 0; 
	g_d©a
 = 0; }

12273 
CImg
(cÚ¡ CImg<
T
>& 
img
) {

12274 cÚ¡ 
size_t
 
	gsiz
 = (size_t)
img
.
size
();

12275 ià(
	gimg
.
	g_d©a
 && 
	gsiz
) {

12276 
	g_width
 = 
img
.
_width
; 
	g_height
 = img.
_height
; 
	g_d•th
 = img.
_d•th
; 
	g_¥eùrum
 = img.
_¥eùrum
;

12277 
	g_is_sh¬ed
 = 
img
.
_is_sh¬ed
;

12278 ià(
	g_is_sh¬ed
è
	g_d©a
 = 
cÚ¡_ÿ¡
<
T
*>(
img
.
_d©a
);

12280 
	gŒy
 { 
	g_d©a
 = 
Ãw
 
T
[
siz
]; } 
ÿtch
 (...) {

12281 
	g_width
 = 
_height
 = 
_d•th
 = 
_¥eùrum
 = 0; 
	g_d©a
 = 0;

12282 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


12284 
cimg_š¡ªû
,

12285 
cimg
::
¡rbufãrsize
((
T
)*
img
.
_width
*img.
_height
*img.
_d•th
*img.
_¥eùrum
),

12286 
img
.
_width
,img.
_height
,img.
_d•th
,img.
_¥eùrum
);

12289 
	g¡d
::
memıy
(
_d©a
,
img
._d©a,
siz
*(
T
));

12291 } { 
	g_width
 = 
_height
 = 
_d•th
 = 
_¥eùrum
 = 0; 
	g_is_sh¬ed
 = 
çl£
; 
	g_d©a
 = 0; }

12309 
	g‹m¶©e
<
ty³Çme
 
	gt
>

12310 
CImg
(cÚ¡ CImg<
t
>& 
img
, cÚ¡ 
boŞ
 
is_sh¬ed
):
_is_sh¬ed
(
çl£
) {

12311 ià(
is_sh¬ed
) {

12312 
_width
 = 
_height
 = 
_d•th
 = 
_¥eùrum
 = 0; 
	g_d©a
 = 0;

12313 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


12316 
cimg_š¡ªû
,

12317 
CImg
<
t
>::
pix–_ty³
(),
img
.
_width
,img.
_height
,img.
_d•th
,img.
_¥eùrum
,img.
_d©a
);

12319 cÚ¡ 
size_t
 
	gsiz
 = (size_t)
img
.
size
();

12320 ià(
	gimg
.
	g_d©a
 && 
	gsiz
) {

12321 
	g_width
 = 
img
.
_width
; 
	g_height
 = img.
_height
; 
	g_d•th
 = img.
_d•th
; 
	g_¥eùrum
 = img.
_¥eùrum
;

12322 
	gŒy
 { 
	g_d©a
 = 
Ãw
 
T
[
siz
]; } 
ÿtch
 (...) {

12323 
	g_width
 = 
_height
 = 
_d•th
 = 
_¥eùrum
 = 0; 
	g_d©a
 = 0;

12324 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


12326 
cimg_š¡ªû
,

12327 
cimg
::
¡rbufãrsize
((
T
)*
img
.
_width
*img.
_height
*img.
_d•th
*img.
_¥eùrum
),

12328 
img
.
_width
,img.
_height
,img.
_d•th
,img.
_¥eùrum
);

12330 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
; 
cimg_fÜ
(*
this
,
±rd
,
T
è*
	g±rd
 = (T)*(
±rs
++);

12331 } { 
	g_width
 = 
_height
 = 
_d•th
 = 
_¥eùrum
 = 0; 
	g_d©a
 = 0; }

12335 
CImg
(cÚ¡ CImg<
T
>& 
img
, cÚ¡ 
boŞ
 
is_sh¬ed
) {

12336 cÚ¡ 
size_t
 
	gsiz
 = (size_t)
img
.
size
();

12337 ià(
	gimg
.
	g_d©a
 && 
	gsiz
) {

12338 
	g_width
 = 
img
.
_width
; 
	g_height
 = img.
_height
; 
	g_d•th
 = img.
_d•th
; 
	g_¥eùrum
 = img.
_¥eùrum
;

12339 
	g_is_sh¬ed
 = 
is_sh¬ed
;

12340 ià(
	g_is_sh¬ed
è
	g_d©a
 = 
cÚ¡_ÿ¡
<
T
*>(
img
.
_d©a
);

12342 
	gŒy
 { 
	g_d©a
 = 
Ãw
 
T
[
siz
]; } 
ÿtch
 (...) {

12343 
	g_width
 = 
_height
 = 
_d•th
 = 
_¥eùrum
 = 0; 
	g_d©a
 = 0;

12344 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


12346 
cimg_š¡ªû
,

12347 
cimg
::
¡rbufãrsize
((
T
)*
img
.
_width
*img.
_height
*img.
_d•th
*img.
_¥eùrum
),

12348 
img
.
_width
,img.
_height
,img.
_d•th
,img.
_¥eùrum
);

12350 
	g¡d
::
memıy
(
_d©a
,
img
._d©a,
siz
*(
T
));

12352 } { 
	g_width
 = 
_height
 = 
_d•th
 = 
_¥eùrum
 = 0; 
	g_is_sh¬ed
 = 
çl£
; 
	g_d©a
 = 0; }

12375 
	g‹m¶©e
<
ty³Çme
 
	gt
>

12376 
CImg
(cÚ¡ CImg<
t
>& 
img
, cÚ¡ *cÚ¡ 
dim’siÚs
):

12377 
_width
(0),
_height
(0),
_d•th
(0),
_¥eùrum
(0),
_is_sh¬ed
(
çl£
),
_d©a
(0) {

12378 
assign
(
img
,
dim’siÚs
);

12391 
	g‹m¶©e
<
ty³Çme
 
	gt
>

12392 
CImg
(cÚ¡ CImg<
t
>& 
img
, cÚ¡ *cÚ¡ 
dim’siÚs
, cÚ¡ 
T
& 
v®ue
):

12393 
_width
(0),
_height
(0),
_d•th
(0),
_¥eùrum
(0),
_is_sh¬ed
(
çl£
),
_d©a
(0) {

12394 
assign
(
img
,
dim’siÚs
).
fl
(
v®ue
);

12407 
ex¶ic™
 
CImg
(cÚ¡ 
CImgDi¥Ïy
 &
di¥
):
_width
(0),
_height
(0),
_d•th
(0),
_¥eùrum
(0),
_is_sh¬ed
(
çl£
),
_d©a
(0) {

12408 
	gdi¥
.
¢­shÙ
(*
this
);

12413 #ià
cimg_u£_ıp11
==1

12414 
CImg
(CImg<
T
>&& 
img
):
_width
(0),
_height
(0),
_d•th
(0),
_¥eùrum
(0),
_is_sh¬ed
(
çl£
),
_d©a
(0) {

12415 
sw­
(
img
);

12418 
	gCImg
<
	gT
>& 
	gİ”©Ü
=(
CImg
<
T
>&& 
img
) {

12419 ià(
_is_sh¬ed
è 
assign
(
img
);

12420  
	gimg
.
sw­
(*
this
);

12428 
	gCImg
<
	gT
>& 
assign
() {

12429 ià(!
	g_is_sh¬ed
è
	gd–‘e
[] 
	g_d©a
;

12430 
	g_width
 = 
_height
 = 
_d•th
 = 
_¥eùrum
 = 0; 
	g_is_sh¬ed
 = 
çl£
; 
	g_d©a
 = 0;

12431  *
	gthis
;

12438 
	gCImg
<
	gT
>& 
assign
(cÚ¡ 
size_x
, cÚ¡ 
size_y
=1,

12439 cÚ¡ 
size_z
=1, cÚ¡ 
size_c
=1) {

12440 cÚ¡ 
size_t
 
siz
 = 
§ã_size
(
size_x
,
size_y
,
size_z
,
size_c
);

12441 ià(!
	gsiz
è 
assign
();

12442 cÚ¡ 
size_t
 
	gcu¼_siz
 = (size_t)
size
();

12443 ià(
	gsiz
!=
cu¼_siz
) {

12444 ià(
_is_sh¬ed
)

12445 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


12448 
cimg_š¡ªû
,

12449 
size_x
,
size_y
,
size_z
,
size_c
);

12451 
	gd–‘e
[] 
	g_d©a
;

12452 
	gŒy
 { 
	g_d©a
 = 
Ãw
 
T
[
siz
]; } 
ÿtch
 (...) {

12453 
	g_width
 = 
_height
 = 
_d•th
 = 
_¥eùrum
 = 0; 
	g_d©a
 = 0;

12454 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


12456 
cimg_š¡ªû
,

12457 
cimg
::
¡rbufãrsize
((
T
)*
size_x
*
size_y
*
size_z
*
size_c
),

12458 
size_x
,
size_y
,
size_z
,
size_c
);

12462 
	g_width
 = 
size_x
; 
	g_height
 = 
size_y
; 
	g_d•th
 = 
size_z
; 
	g_¥eùrum
 = 
size_c
;

12463  *
	gthis
;

12470 
	gCImg
<
	gT
>& 
assign
(cÚ¡ 
size_x
, cÚ¡ 
size_y
,

12471 cÚ¡ 
size_z
, cÚ¡ 
size_c
, cÚ¡ 
T
& 
v®ue
) {

12472  
assign
(
size_x
,
size_y
,
size_z
,
size_c
).
fl
(
v®ue
);

12479 
	gCImg
<
	gT
>& 
assign
(cÚ¡ 
size_x
, cÚ¡ 
size_y
,

12480 cÚ¡ 
size_z
, cÚ¡ 
size_c
,

12481 cÚ¡ 
v®ue0
, cÚ¡ 
v®ue1
, ...) {

12482 
assign
(
size_x
,
size_y
,
size_z
,
size_c
);

12483 
_CImg_¡d¬g
(*
this
,
v®ue0
,
v®ue1
,
§ã_size
(
size_x
,
size_y
,
size_z
,
size_c
),);

12484  *
	gthis
;

12491 
	gCImg
<
	gT
>& 
assign
(cÚ¡ 
size_x
, cÚ¡ 
size_y
,

12492 cÚ¡ 
size_z
, cÚ¡ 
size_c
,

12493 cÚ¡ 
v®ue0
, cÚ¡ 
v®ue1
, ...) {

12494 
assign
(
size_x
,
size_y
,
size_z
,
size_c
);

12495 
_CImg_¡d¬g
(*
this
,
v®ue0
,
v®ue1
,
§ã_size
(
size_x
,
size_y
,
size_z
,
size_c
),);

12496  *
	gthis
;

12503 
	gCImg
<
	gT
>& 
assign
(cÚ¡ 
size_x
, cÚ¡ 
size_y
,

12504 cÚ¡ 
size_z
, cÚ¡ 
size_c
,

12505 cÚ¡ *cÚ¡ 
v®ues
, cÚ¡ 
boŞ
 
»³©_v®ues
) {

12506  
assign
(
size_x
,
size_y
,
size_z
,
size_c
).
fl
(
v®ues
,
»³©_v®ues
);

12513 
	g‹m¶©e
<
ty³Çme
 
	gt
>

12514 
	gCImg
<
	gT
>& 
assign
(cÚ¡ 
t
 *cÚ¡ 
v®ues
, cÚ¡ 
size_x
, cÚ¡ 
size_y
=1,

12515 cÚ¡ 
size_z
=1, cÚ¡ 
size_c
=1) {

12516 cÚ¡ 
size_t
 
siz
 = 
§ã_size
(
size_x
,
size_y
,
size_z
,
size_c
);

12517 ià(!
	gv®ues
 || !
	gsiz
è 
assign
();

12518 
assign
(
size_x
,
size_y
,
size_z
,
size_c
);

12519 cÚ¡ 
t
 *
	g±rs
 = 
v®ues
; 
cimg_fÜ
(*
this
,
±rd
,
T
è*
	g±rd
 = (T)*(
±rs
++);

12520  *
	gthis
;

12524 
	gCImg
<
	gT
>& 
assign
(cÚ¡ 
T
 *cÚ¡ 
v®ues
, cÚ¡ 
size_x
, cÚ¡ 
size_y
=1,

12525 cÚ¡ 
size_z
=1, cÚ¡ 
size_c
=1) {

12526 cÚ¡ 
size_t
 
siz
 = 
§ã_size
(
size_x
,
size_y
,
size_z
,
size_c
);

12527 ià(!
	gv®ues
 || !
	gsiz
è 
assign
();

12528 cÚ¡ 
size_t
 
	gcu¼_siz
 = (size_t)
size
();

12529 ià(
	gv®ues
==
_d©a
 && 
siz
==
cu¼_siz
è 
assign
(
size_x
,
size_y
,
size_z
,
size_c
);

12530 ià(
	g_is_sh¬ed
 || 
	gv®ues
 + 
	gsiz
<
	g_d©a
 || v®ues>=
_d©a
 + 
size
()) {

12531 
assign
(
size_x
,
size_y
,
size_z
,
size_c
);

12532 ià(
	g_is_sh¬ed
è
	g¡d
::
memmove
((*)
_d©a
,(*)
v®ues
,
siz
*(
T
));

12533 
	g¡d
::
memıy
((*)
_d©a
,(*)
v®ues
,
siz
*(
T
));

12535 
T
 *
	gÃw_d©a
 = 0;

12536 
	gŒy
 { 
	gÃw_d©a
 = 
Ãw
 
T
[
siz
]; } 
ÿtch
 (...) {

12537 
	g_width
 = 
_height
 = 
_d•th
 = 
_¥eùrum
 = 0; 
	g_d©a
 = 0;

12538 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


12540 
cimg_š¡ªû
,

12541 
cimg
::
¡rbufãrsize
((
T
)*
size_x
*
size_y
*
size_z
*
size_c
),

12542 
size_x
,
size_y
,
size_z
,
size_c
);

12544 
	g¡d
::
memıy
((*)
Ãw_d©a
,(*)
v®ues
,
siz
*(
T
));

12545 
	gd–‘e
[] 
	g_d©a
; _d©¨ğ
Ãw_d©a
; 
	g_width
 = 
size_x
; 
	g_height
 = 
size_y
; 
	g_d•th
 = 
size_z
; 
	g_¥eùrum
 = 
size_c
;

12547  *
	gthis
;

12551 
	g‹m¶©e
<
ty³Çme
 
	gt
>

12552 
	gCImg
<
	gT
>& 
assign
(cÚ¡ 
t
 *cÚ¡ 
v®ues
, cÚ¡ 
size_x
, cÚ¡ 
size_y
,

12553 cÚ¡ 
size_z
, cÚ¡ 
size_c
, cÚ¡ 
boŞ
 
is_sh¬ed
) {

12554 ià(
	gis_sh¬ed
)

12555 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


12558 
cimg_š¡ªû
,

12559 
CImg
<
t
>::
pix–_ty³
());

12560  
assign
(
v®ues
,
size_x
,
size_y
,
size_z
,
size_c
);

12564 
	gCImg
<
	gT
>& 
assign
(cÚ¡ 
T
 *cÚ¡ 
v®ues
, cÚ¡ 
size_x
, cÚ¡ 
size_y
,

12565 cÚ¡ 
size_z
, cÚ¡ 
size_c
, cÚ¡ 
boŞ
 
is_sh¬ed
) {

12566 cÚ¡ 
size_t
 
	gsiz
 = 
§ã_size
(
size_x
,
size_y
,
size_z
,
size_c
);

12567 ià(!
	gv®ues
 || !
	gsiz
è 
assign
();

12568 ià(!
	gis_sh¬ed
è{ ià(
	g_is_sh¬ed
è
assign
();‡ssign(
v®ues
,
size_x
,
size_y
,
size_z
,
size_c
); }

12570 ià(!
	g_is_sh¬ed
) {

12571 ià(
	gv®ues
 + 
	gsiz
<
	g_d©a
 || v®ues>=
_d©a
 + 
size
()è
assign
();

12572 
	gcimg
::
w¬n
(
_cimg_š¡ªû


12574 
cimg_š¡ªû
);

12576 
	g_width
 = 
size_x
; 
	g_height
 = 
size_y
; 
	g_d•th
 = 
size_z
; 
	g_¥eùrum
 = 
size_c
; 
	g_is_sh¬ed
 = 
Œue
;

12577 
	g_d©a
 = 
cÚ¡_ÿ¡
<
T
*>(
v®ues
);

12579  *
	gthis
;

12583 
	g‹m¶©e
<
ty³Çme
 
	gt
>

12584 
	gCImg
<
	gT
>& 
assign
(cÚ¡ 
t
 *cÚ¡ 
v®ues
, cÚ¡ 
size_x
, cÚ¡ 
size_y
,

12585 cÚ¡ 
size_z
, cÚ¡ 
size_c
,

12586 cÚ¡ *cÚ¡ 
axes_Üd”
) {

12587 
	gCImg
<
	gT
>(
	gv®ues
,
	gsize_x
,
	gsize_y
,
	gsize_z
,
	gsize_c
,
	gaxes_Üd”
).
move_to
(*
this
);

12594 
	gCImg
<
	gT
>& 
assign
(cÚ¡ *cÚ¡ 
f’ame
) {

12595  
lßd
(
f’ame
);

12602 
	g‹m¶©e
<
ty³Çme
 
	gt
>

12603 
	gCImg
<
	gT
>& 
assign
(cÚ¡ 
CImg
<
t
>& 
img
) {

12604  
assign
(
img
.
_d©a
,img.
_width
,img.
_height
,img.
_d•th
,img.
_¥eùrum
);

12611 
	g‹m¶©e
<
ty³Çme
 
	gt
>

12612 
	gCImg
<
	gT
>& 
assign
(cÚ¡ 
CImg
<
t
>& 
img
, cÚ¡ 
boŞ
 
is_sh¬ed
) {

12613  
assign
(
img
.
_d©a
,img.
_width
,img.
_height
,img.
_d•th
,img.
_¥eùrum
,
is_sh¬ed
);

12620 
	g‹m¶©e
<
ty³Çme
 
	gt
>

12621 
	gCImg
<
	gT
>& 
assign
(cÚ¡ 
CImg
<
t
>& 
img
, cÚ¡ *cÚ¡ 
dim’siÚs
) {

12622 ià(!
	gdim’siÚs
 || !*dim’siÚsè 
assign
(
img
.
_width
,img.
_height
,img.
_d•th
,img.
_¥eùrum
);

12623 
	gsiz
[4] = { 0,1,1,1 }, 
	gk
 = 0;

12624 
	gCImg
<
	gch¬T
> 
™em
(256);

12625 cÚ¡ *
	gs
 = 
dim’siÚs
; * && 
	gk
<4; ++k) {

12626 ià(
cimg_ssÿnf
(
s
,"%255[^0-9%xyzvwhdcXYZVWHDC]",
™em
.
_d©a
)>0è
	gs
+=
¡d
::
¡¾’
(item);

12627 ià(*
	gs
) {

12628 
	gv®
 = 0; 
	g£p
 = 0;

12629 ià(
cimg_ssÿnf
(
s
,"%u%c",&
v®
,&
£p
)>0) {

12630 ià(
	g£p
=='%'è
siz
[
k
] = 
v®
*(k==0?
_width
:k==1?
_height
:k==2?
_d•th
:
_¥eùrum
)/100;

12631 
	gsiz
[
k
] = 
v®
;

12632 *
	gs
>='0' && *
s
<='9') ++s;

12633 ià(
	g£p
=='%'è++
s
;

12634 } 
	gcimg
::
low”ÿ£
(*
s
)) {

12635 'x' : 'w' : 
siz
[
k
] = 
img
.
_width
; ++
	gs
; ;

12636 'y' : 'h' : 
siz
[
k
] = 
img
.
_height
; ++
	gs
; ;

12637 'z' : 'd' : 
siz
[
k
] = 
img
.
_d•th
; ++
	gs
; ;

12638 'c' : 's' : 
siz
[
k
] = 
img
.
_¥eùrum
; ++
	gs
; ;

12640 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


12642 
cimg_š¡ªû
,

12643 *
s
,
dim’siÚs
);

12647  
assign
(
siz
[0],siz[1],siz[2],siz[3]);

12654 
	g‹m¶©e
<
ty³Çme
 
	gt
>

12655 
	gCImg
<
	gT
>& 
assign
(cÚ¡ 
CImg
<
t
>& 
img
, cÚ¡ *cÚ¡ 
dim’siÚs
, cÚ¡ 
T
& 
v®ue
) {

12656  
assign
(
img
,
dim’siÚs
).
fl
(
v®ue
);

12663 
	gCImg
<
	gT
>& 
assign
(cÚ¡ 
CImgDi¥Ïy
 &
di¥
) {

12664 
	gdi¥
.
¢­shÙ
(*
this
);

12665  *
	gthis
;

12674 
	gCImg
<
	gT
>& 
ş—r
() {

12675  
assign
();

12694 
	g‹m¶©e
<
ty³Çme
 
	gt
>

12695 
	gCImg
<
	gt
>& 
move_to
(
CImg
<
t
>& 
img
) {

12696 
	gimg
.
assign
(*
this
);

12697 
assign
();

12698  
	gimg
;

12702 
	gCImg
<
	gT
>& 
move_to
(
CImg
<
T
>& 
img
) {

12703 ià(
	g_is_sh¬ed
 || 
	gimg
._is_sh¬edèimg.
assign
(*
this
);

12704 
sw­
(
img
);

12705 
assign
();

12706  
	gimg
;

12727 
	g‹m¶©e
<
ty³Çme
 
	gt
>

12728 
	gCImgLi¡
<
	gt
>& 
move_to
(
CImgLi¡
<
t
>& 
li¡
, cÚ¡ 
pos
=~0U) {

12729 cÚ¡ 
Åos
 = 
pos
>
li¡
.
_width
?list._width:pos;

12730 
move_to
(
li¡
.
š£¹
(1,
Åos
)[npos]);

12731  
	gli¡
;

12747 
	gCImg
<
	gT
>& 
sw­
(
CImg
<
T
>& 
img
) {

12748 
	gcimg
::
sw­
(
_width
,
img
._width,
_height
,img._height,
_d•th
,img._d•th,
_¥eùrum
,img._spectrum);

12749 
	gcimg
::
sw­
(
_d©a
,
img
._data);

12750 
	gcimg
::
sw­
(
_is_sh¬ed
,
img
._is_shared);

12751  
	gimg
;

12763 
	gCImg
<
	gT
>& 
em±y
() {

12764 
	gCImg
<
	gT
> 
	g_em±y
;

12765  
	g_em±y
.
assign
();

12769 cÚ¡ 
	gCImg
<
	gT
>& 
cÚ¡_em±y
() {

12770 cÚ¡ 
	gCImg
<
	gT
> 
	g_em±y
;

12771  
	g_em±y
;

12814 #ià
cimg_v”bos™y
>=3

12815 
	gT
& 
İ”©Ü
()(cÚ¡ 
	gx
, cÚ¡ 
	gy
=0,

12816 cÚ¡ 
	gz
=0, cÚ¡ 
	gc
=0) {

12817 cÚ¡ 
ulÚgT
 
off
 = (ulÚgT)
off£t
(
x
,
y
,
z
,
c
);

12818 ià(!
	g_d©a
 || 
	goff
>=
size
()) {

12819 
cimg
::
w¬n
(
_cimg_š¡ªû


12821 
cimg_š¡ªû
,

12822 ()
x
,()
y
,()
z
,()
c
,
off
);

12823  *
	g_d©a
;

12825  
	g_d©a
[
off
];

12829 cÚ¡ 
	gT
& 
İ”©Ü
()(cÚ¡ 
	gx
, cÚ¡ 
	gy
=0,

12830 cÚ¡ 
	gz
=0, cÚ¡ 
	gc
=0) const {

12831  
cÚ¡_ÿ¡
<
CImg
<
T
>*>(
this
)->
İ”©Ü
()(
x
,
y
,
z
,
c
);

12847 
	gT
& 
İ”©Ü
()(cÚ¡ 
	gx
, cÚ¡ 
	gy
, cÚ¡ 
	gz
, cÚ¡ 
	gc
,

12848 cÚ¡ 
ulÚgT
 
	gwh
, cÚ¡ ulÚgT 
	gwhd
=0) {

12849 
cimg
::
unu£d
(
wh
,
whd
);

12850  (*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
);

12854 cÚ¡ 
	gT
& 
İ”©Ü
()(cÚ¡ 
	gx
, cÚ¡ 
	gy
, cÚ¡ 
	gz
, cÚ¡ 
	gc
,

12855 cÚ¡ 
ulÚgT
 
	gwh
, cÚ¡ ulÚgT 
	gwhd
=0) const {

12856 
cimg
::
unu£d
(
wh
,
whd
);

12857  (*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
);

12860 
	gT
& 
İ”©Ü
()(cÚ¡ 
	gx
) {

12861  
	g_d©a
[
x
];

12864 cÚ¡ 
	gT
& 
İ”©Ü
()(cÚ¡ 
	gx
) const {

12865  
	g_d©a
[
x
];

12868 
	gT
& 
İ”©Ü
()(cÚ¡ 
	gx
, cÚ¡ 
	gy
) {

12869  
	g_d©a
[
x
 + 
y
*
_width
];

12872 cÚ¡ 
	gT
& 
İ”©Ü
()(cÚ¡ 
	gx
, cÚ¡ 
	gy
) const {

12873  
	g_d©a
[
x
 + 
y
*
_width
];

12876 
	gT
& 
İ”©Ü
()(cÚ¡ 
	gx
, cÚ¡ 
	gy
, cÚ¡ 
	gz
) {

12877  
	g_d©a
[
x
 + 
y
*(
ulÚgT
)
_width
 + 
z
*(ulÚgT)_width*
_height
];

12880 cÚ¡ 
	gT
& 
İ”©Ü
()(cÚ¡ 
	gx
, cÚ¡ 
	gy
, cÚ¡ 
	gz
) const {

12881  
	g_d©a
[
x
 + 
y
*(
ulÚgT
)
_width
 + 
z
*(ulÚgT)_width*
_height
];

12884 
	gT
& 
İ”©Ü
()(cÚ¡ 
	gx
, cÚ¡ 
	gy
, cÚ¡ 
	gz
, cÚ¡ 
	gc
) {

12885  
	g_d©a
[
x
 + 
y
*(
ulÚgT
)
_width
 + 
z
*(ulÚgT)_width*
_height
 + 
c
*(ulÚgT)_width*_height*
_d•th
];

12888 cÚ¡ 
	gT
& 
İ”©Ü
()(cÚ¡ 
	gx
, cÚ¡ 
	gy
, cÚ¡ 
	gz
, cÚ¡ 
	gc
) const {

12889  
	g_d©a
[
x
 + 
y
*(
ulÚgT
)
_width
 + 
z
*(ulÚgT)_width*
_height
 + 
c
*(ulÚgT)_width*_height*
_d•th
];

12892 
	gT
& 
İ”©Ü
()(cÚ¡ 
	gx
, cÚ¡ 
	gy
, cÚ¡ 
	gz
, const ,

12893 cÚ¡ 
ulÚgT
 
	gwh
) {

12894  
	g_d©a
[
x
 + 
y
*
_width
 + 
z
*
wh
];

12897 cÚ¡ 
	gT
& 
İ”©Ü
()(cÚ¡ 
	gx
, cÚ¡ 
	gy
, cÚ¡ 
	gz
, const ,

12898 cÚ¡ 
ulÚgT
 
	gwh
) const {

12899  
	g_d©a
[
x
 + 
y
*
_width
 + 
z
*
wh
];

12902 
	gT
& 
İ”©Ü
()(cÚ¡ 
	gx
, cÚ¡ 
	gy
, cÚ¡ 
	gz
, cÚ¡ 
	gc
,

12903 cÚ¡ 
ulÚgT
 
	gwh
, cÚ¡ ulÚgT 
	gwhd
) {

12904  
	g_d©a
[
x
 + 
y
*
_width
 + 
z
*
wh
 + 
c
*
whd
];

12907 cÚ¡ 
	gT
& 
İ”©Ü
()(cÚ¡ 
	gx
, cÚ¡ 
	gy
, cÚ¡ 
	gz
, cÚ¡ 
	gc
,

12908 cÚ¡ 
ulÚgT
 
	gwh
, cÚ¡ ulÚgT 
	gwhd
) const {

12909  
	g_d©a
[
x
 + 
y
*
_width
 + 
z
*
wh
 + 
c
*
whd
];

12935 
İ”©Ü
 
	gT
*() {

12936  
	g_d©a
;

12940 
İ”©Ü
 cÚ¡ 
	gT
*() const {

12941  
	g_d©a
;

12958 
	gCImg
<
	gT
>& 
	gİ”©Ü
=(cÚ¡ 
T
& 
v®ue
) {

12959  
fl
(
v®ue
);

12982 
	gCImg
<
	gT
>& 
	gİ”©Ü
=(cÚ¡ *cÚ¡ 
ex´essiÚ
) {

12983 cÚ¡ 
omode
 = 
cimg
::
exû±iÚ_mode
();

12984 
	gcimg
::
exû±iÚ_mode
(0);

12985 
	gŒy
 {

12986 
_fl
(
ex´essiÚ
,
Œue
,1,0,0,"operator=",0);

12987 } 
ÿtch
 (
CImgExû±iÚ
&) {

12988 
	gcimg
::
exû±iÚ_mode
(
omode
);

12989 
lßd
(
ex´essiÚ
);

12991 
	gcimg
::
exû±iÚ_mode
(
omode
);

12992  *
	gthis
;

12999 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13000 
	gCImg
<
	gT
>& 
	gİ”©Ü
=(cÚ¡ 
CImg
<
t
>& 
img
) {

13001  
assign
(
img
);

13005 
	gCImg
<
	gT
>& 
	gİ”©Ü
=(cÚ¡ 
CImg
<
T
>& 
img
) {

13006  
assign
(
img
);

13013 
	gCImg
<
	gT
>& 
	gİ”©Ü
=(cÚ¡ 
CImgDi¥Ïy
& 
di¥
) {

13014 
di¥
.
¢­shÙ
(*
this
);

13015  *
	gthis
;

13045 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13046 
	gCImg
<
	gT
>& 
	gİ”©Ü
+=(cÚ¡ 
t
 
v®ue
) {

13047 ià(
is_em±y
()è *
this
;

13048 
cimg_İ’mp_fÜ
(*
this
,*
±r
 + 
v®ue
,524288);

13049  *
	gthis
;

13060 
	gCImg
<
	gT
>& 
	gİ”©Ü
+=(cÚ¡ *cÚ¡ 
ex´essiÚ
) {

13061  *
this
+=(+*this).
_fl
(
ex´essiÚ
,
Œue
,1,0,0,"operator+=",this);

13085 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13086 
	gCImg
<
	gT
>& 
	gİ”©Ü
+=(cÚ¡ 
CImg
<
t
>& 
img
) {

13087 cÚ¡ 
ulÚgT
 
siz
 = 
size
(), 
	gisiz
 = 
img
.size();

13088 ià(
	gsiz
 && 
	gisiz
) {

13089 ià(
is_ov”Ïµed
(
img
)è *
	gthis
+=+img;

13090 
T
 *
	g±rd
 = 
_d©a
, *cÚ¡ 
	g±»
 = _d©¨+ 
siz
;

13091 ià(
	gsiz
>
	gisiz
è
ulÚgT
 
	gn
 = 
siz
/
isiz
;‚; --n)

13092 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_’d
 = 
±rs
 + 
isiz
;…Œs<±rs_’d; ++
	g±rd
)

13093 *
	g±rd
 = (
T
)(*
±rd
 + *(
±rs
++));

13094 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±»
; ++±rdè*±rd = (
T
)(*
±rd
 + *(
±rs
++));

13096  *
	gthis
;

13105 
	gCImg
<
	gT
>& 
	gİ”©Ü
++() {

13106 ià(
is_em±y
()è *
	gthis
;

13107 
cimg_İ’mp_fÜ
(*
this
,*
±r
 + 1,524288);

13108  *
	gthis
;

13118 
	gCImg
<
	gT
> 
	gİ”©Ü
++() {

13119 cÚ¡ 
	gCImg
<
	gT
> 
cİy
(*
this
,
çl£
);

13120 ++*
	gthis
;

13121  
	gcİy
;

13133 
	gCImg
<
	gT
> 
	gİ”©Ü
+() const {

13134  
	gCImg
<
	gT
>(*
	gthis
,
	gçl£
);

13142 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13143 
	gCImg
<
	g_cimg_Tt
> 
	gİ”©Ü
+(cÚ¡ 
t
 
	gv®ue
) const {

13144  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
,
	gçl£
)+=
v®ue
;

13152 
	gCImg
<
	gTæßt
> 
	gİ”©Ü
+(cÚ¡ *cÚ¡ 
	gex´essiÚ
) const {

13153  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
)+=
ex´essiÚ
;

13161 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13162 
	gCImg
<
	g_cimg_Tt
> 
	gİ”©Ü
+(cÚ¡ CImg<
	gt
>& 
	gimg
) const {

13163  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
,
	gçl£
)+=
img
;

13170 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13171 
	gCImg
<
	gT
>& 
	gİ”©Ü
-=(cÚ¡ 
t
 
v®ue
) {

13172 ià(
is_em±y
()è *
this
;

13173 
cimg_İ’mp_fÜ
(*
this
,*
±r
 - 
v®ue
,524288);

13174  *
	gthis
;

13181 
	gCImg
<
	gT
>& 
	gİ”©Ü
-=(cÚ¡ *cÚ¡ 
ex´essiÚ
) {

13182  *
this
-=(+*this).
_fl
(
ex´essiÚ
,
Œue
,1,0,0,"operator-=",this);

13189 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13190 
	gCImg
<
	gT
>& 
	gİ”©Ü
-=(cÚ¡ 
CImg
<
t
>& 
img
) {

13191 cÚ¡ 
ulÚgT
 
siz
 = 
size
(), 
	gisiz
 = 
img
.size();

13192 ià(
	gsiz
 && 
	gisiz
) {

13193 ià(
is_ov”Ïµed
(
img
)è *
	gthis
-=+img;

13194 
T
 *
	g±rd
 = 
_d©a
, *cÚ¡ 
	g±»
 = _d©¨+ 
siz
;

13195 ià(
	gsiz
>
	gisiz
è
ulÚgT
 
	gn
 = 
siz
/
isiz
;‚; --n)

13196 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_’d
 = 
±rs
 + 
isiz
;…Œs<±rs_’d; ++
	g±rd
)

13197 *
	g±rd
 = (
T
)(*
±rd
 - *(
±rs
++));

13198 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±»
; ++±rdè*±rd = (
T
)(*
±rd
 - *(
±rs
++));

13200  *
	gthis
;

13207 
	gCImg
<
	gT
>& 
	gİ”©Ü
--() {

13208 ià(
is_em±y
()è *
	gthis
;

13209 
cimg_İ’mp_fÜ
(*
this
,*
±r
 - 1,524288);

13210  *
	gthis
;

13217 
	gCImg
<
	gT
> 
	gİ”©Ü
--() {

13218 cÚ¡ 
	gCImg
<
	gT
> 
cİy
(*
this
,
çl£
);

13219 --*
	gthis
;

13220  
	gcİy
;

13237 
	gCImg
<
	gT
> 
	gİ”©Ü
-() const {

13238  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_d•th
,
	g_¥eùrum
,(T)0)-=*
this
;

13246 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13247 
	gCImg
<
	g_cimg_Tt
> 
	gİ”©Ü
-(cÚ¡ 
t
 
	gv®ue
) const {

13248  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
,
	gçl£
)-=
v®ue
;

13256 
	gCImg
<
	gTæßt
> 
	gİ”©Ü
-(cÚ¡ *cÚ¡ 
	gex´essiÚ
) const {

13257  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
)-=
ex´essiÚ
;

13265 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13266 
	gCImg
<
	g_cimg_Tt
> 
	gİ”©Ü
-(cÚ¡ CImg<
	gt
>& 
	gimg
) const {

13267  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
,
	gçl£
)-=
img
;

13274 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13275 
	gCImg
<
	gT
>& 
	gİ”©Ü
*=(cÚ¡ 
t
 
v®ue
) {

13276 ià(
is_em±y
()è *
this
;

13277 
cimg_İ’mp_fÜ
(*
this
,*
±r
 * 
v®ue
,262144);

13278  *
	gthis
;

13285 
	gCImg
<
	gT
>& 
	gİ”©Ü
*=(cÚ¡ *cÚ¡ 
ex´essiÚ
) {

13286  
mul
((+*
this
).
_fl
(
ex´essiÚ
,
Œue
,1,0,0,"operator*=",this));

13306 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13307 
	gCImg
<
	gT
>& 
	gİ”©Ü
*=(cÚ¡ 
CImg
<
t
>& 
img
) {

13308  ((*
this
)*
img
).
move_to
(*this);

13316 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13317 
	gCImg
<
	g_cimg_Tt
> 
	gİ”©Ü
*(cÚ¡ 
t
 
	gv®ue
) const {

13318  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
,
	gçl£
)*=
v®ue
;

13326 
	gCImg
<
	gTæßt
> 
	gİ”©Ü
*(cÚ¡ *cÚ¡ 
	gex´essiÚ
) const {

13327  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
)*=
ex´essiÚ
;

13335 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13336 
	gCImg
<
	g_cimg_Tt
> 
	gİ”©Ü
*(cÚ¡ CImg<
	gt
>& 
	gimg
) const {

13337 
_cimg_TtdoubË
 
	tTtdoubË
;

13338 
_cimg_Tt
 
	tTt
;

13339 ià(
	g_width
!=
img
.
_height
 || 
_d•th
!=1 || 
_¥eùrum
!=1)

13340 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


13343 
cimg_š¡ªû
,

13344 
img
.
_width
,img.
_height
,img.
_d•th
,img.
_¥eùrum
,img.
_d©a
);

13345 
	gCImg
<
	gTt
> 
»s
(
img
.
_width
,
_height
);

13348 ià(
	gimg
.
	g_width
==1) {

13349 ià(
_height
==1è
_width
) {

13351 
»s
[0] = (
Tt
)((
TtdoubË
)
_d©a
[0]*
img
[0]);

13352  
	g»s
;

13354 
»s
[0] = (
Tt
)((
TtdoubË
)
_d©a
[0]*
img
[0] + (Ttdouble)_data[1]*img[1]);

13355  
	g»s
;

13357 
»s
[0] = (
Tt
)((
TtdoubË
)
_d©a
[0]*
img
[0] + (Ttdouble)_data[1]*img[1] +

13358 (
TtdoubË
)
_d©a
[2]*
img
[2]);

13359  
	g»s
;

13361 
»s
[0] = (
Tt
)((
TtdoubË
)
_d©a
[0]*
img
[0] + (Ttdouble)_data[1]*img[1] +

13362 (
TtdoubË
)
_d©a
[2]*
img
[2] + (Ttdouble)_data[3]*img[3]);

13363  
	g»s
;

13365 
TtdoubË
 
v®
 = 0;

13366 
cimg_´agma_İ’mp
(
·¿Î–
 
»duùiÚ
(+:
v®
è
cimg_İ’mp_if_size
(
size
(),4096))

13367 
cimg_fÜX
(*
this
,
i
è
	gv®
+=(
TtdoubË
)
_d©a
[i]*
img
[i];

13368 
	g»s
[0] = 
v®
;

13369  
	g»s
;

13371 } ià(
	g_height
==
_width
) _width) {

13373 
»s
[0] = (
Tt
)((
TtdoubË
)
_d©a
[0]*
img
[0] + (Ttdouble)_data[1]*img[1]);

13374 
	g»s
[1] = (
Tt
)((
TtdoubË
)
_d©a
[2]*
img
[0] + (Ttdouble)_data[3]*img[1]);

13375  
	g»s
;

13377 
»s
[0] = (
Tt
)((
TtdoubË
)
_d©a
[0]*
img
[0] + (Ttdouble)_data[1]*img[1] +

13378 (
TtdoubË
)
_d©a
[2]*
img
[2]);

13379 
	g»s
[1] = (
Tt
)((
TtdoubË
)
_d©a
[3]*
img
[0] + (Ttdouble)_data[4]*img[1] +

13380 (
TtdoubË
)
_d©a
[5]*
img
[2]);

13381 
	g»s
[2] = (
Tt
)((
TtdoubË
)
_d©a
[6]*
img
[0] + (Ttdouble)_data[7]*img[1] +

13382 (
TtdoubË
)
_d©a
[8]*
img
[2]);

13383  
	g»s
;

13385 
»s
[0] = (
Tt
)((
TtdoubË
)
_d©a
[0]*
img
[0] + (Ttdouble)_data[1]*img[1] +

13386 (
TtdoubË
)
_d©a
[2]*
img
[2] + (Ttdouble)_data[3]*img[3]);

13387 
	g»s
[1] = (
Tt
)((
TtdoubË
)
_d©a
[4]*
img
[0] + (Ttdouble)_data[5]*img[1] +

13388 (
TtdoubË
)
_d©a
[6]*
img
[2] + (Ttdouble)_data[7]*img[3]);

13389 
	g»s
[2] = (
Tt
)((
TtdoubË
)
_d©a
[8]*
img
[0] + (Ttdouble)_data[9]*img[1] +

13390 (
TtdoubË
)
_d©a
[10]*
img
[2] + (Ttdouble)_data[11]*img[3]);

13391 
	g»s
[3] = (
Tt
)((
TtdoubË
)
_d©a
[12]*
img
[0] + (Ttdouble)_data[13]*img[1] +

13392 (
TtdoubË
)
_d©a
[14]*
img
[2] + (Ttdouble)_data[15]*img[3]);

13393  
	g»s
;

13395 } ià(
	g_height
==
_width
) {

13396 ià(
img
.
_height
==img.
_width
) _width) {

13398 
»s
[0] = (
Tt
)((
TtdoubË
)
_d©a
[0]*
img
[0] + (Ttdouble)_data[1]*img[2]);

13399 
	g»s
[1] = (
Tt
)((
TtdoubË
)
_d©a
[0]*
img
[1] + (Ttdouble)_data[1]*img[3]);

13400 
	g»s
[2] = (
Tt
)((
TtdoubË
)
_d©a
[2]*
img
[0] + (Ttdouble)_data[3]*img[2]);

13401 
	g»s
[3] = (
Tt
)((
TtdoubË
)
_d©a
[2]*
img
[1] + (Ttdouble)_data[3]*img[3]);

13402  
	g»s
;

13404 
»s
[0] = (
Tt
)((
TtdoubË
)
_d©a
[0]*
img
[0] + (Ttdouble)_data[1]*img[3] +

13405 (
TtdoubË
)
_d©a
[2]*
img
[6]);

13406 
	g»s
[1] = (
Tt
)((
TtdoubË
)
_d©a
[0]*
img
[1] + (Ttdouble)_data[1]*img[4] +

13407 (
TtdoubË
)
_d©a
[2]*
img
[7]);

13408 
	g»s
[2] = (
Tt
)((
TtdoubË
)
_d©a
[0]*
img
[2] + (Ttdouble)_data[1]*img[5] +

13409 (
TtdoubË
)
_d©a
[2]*
img
[8]);

13410 
	g»s
[3] = (
Tt
)((
TtdoubË
)
_d©a
[3]*
img
[0] + (Ttdouble)_data[4]*img[3] +

13411 (
TtdoubË
)
_d©a
[5]*
img
[6]);

13412 
	g»s
[4] = (
Tt
)((
TtdoubË
)
_d©a
[3]*
img
[1] + (Ttdouble)_data[4]*img[4] +

13413 (
TtdoubË
)
_d©a
[5]*
img
[7]);

13414 
	g»s
[5] = (
Tt
)((
TtdoubË
)
_d©a
[3]*
img
[2] + (Ttdouble)_data[4]*img[5] +

13415 (
TtdoubË
)
_d©a
[5]*
img
[8]);

13416 
	g»s
[6] = (
Tt
)((
TtdoubË
)
_d©a
[6]*
img
[0] + (Ttdouble)_data[7]*img[3] +

13417 (
TtdoubË
)
_d©a
[8]*
img
[6]);

13418 
	g»s
[7] = (
Tt
)((
TtdoubË
)
_d©a
[6]*
img
[1] + (Ttdouble)_data[7]*img[4] +

13419 (
TtdoubË
)
_d©a
[8]*
img
[7]);

13420 
	g»s
[8] = (
Tt
)((
TtdoubË
)
_d©a
[6]*
img
[2] + (Ttdouble)_data[7]*img[5] +

13421 (
TtdoubË
)
_d©a
[8]*
img
[8]);

13422  
	g»s
;

13424 
»s
[0] = (
Tt
)((
TtdoubË
)
_d©a
[0]*
img
[0] + (Ttdouble)_data[1]*img[4] +

13425 (
TtdoubË
)
_d©a
[2]*
img
[8] + (Ttdouble)_data[3]*img[12]);

13426 
	g»s
[1] = (
Tt
)((
TtdoubË
)
_d©a
[0]*
img
[1] + (Ttdouble)_data[1]*img[5] +

13427 (
TtdoubË
)
_d©a
[2]*
img
[9] + (Ttdouble)_data[3]*img[13]);

13428 
	g»s
[2] = (
Tt
)((
TtdoubË
)
_d©a
[0]*
img
[2] + (Ttdouble)_data[1]*img[6] +

13429 (
TtdoubË
)
_d©a
[2]*
img
[10] + (Ttdouble)_data[3]*img[14]);

13430 
	g»s
[3] = (
Tt
)((
TtdoubË
)
_d©a
[0]*
img
[3] + (Ttdouble)_data[1]*img[7] +

13431 (
TtdoubË
)
_d©a
[2]*
img
[11] + (Ttdouble)_data[3]*img[15]);

13432 
	g»s
[4] = (
Tt
)((
TtdoubË
)
_d©a
[4]*
img
[0] + (Ttdouble)_data[5]*img[4] +

13433 (
TtdoubË
)
_d©a
[6]*
img
[8] + (Ttdouble)_data[7]*img[12]);

13434 
	g»s
[5] = (
Tt
)((
TtdoubË
)
_d©a
[4]*
img
[1] + (Ttdouble)_data[5]*img[5] +

13435 (
TtdoubË
)
_d©a
[6]*
img
[9] + (Ttdouble)_data[7]*img[13]);

13436 
	g»s
[6] = (
Tt
)((
TtdoubË
)
_d©a
[4]*
img
[2] + (Ttdouble)_data[5]*img[6] +

13437 (
TtdoubË
)
_d©a
[6]*
img
[10] + (Ttdouble)_data[7]*img[14]);

13438 
	g»s
[7] = (
Tt
)((
TtdoubË
)
_d©a
[4]*
img
[3] + (Ttdouble)_data[5]*img[7] +

13439 (
TtdoubË
)
_d©a
[6]*
img
[11] + (Ttdouble)_data[7]*img[15]);

13440 
	g»s
[8] = (
Tt
)((
TtdoubË
)
_d©a
[8]*
img
[0] + (Ttdouble)_data[9]*img[4] +

13441 (
TtdoubË
)
_d©a
[10]*
img
[8] + (Ttdouble)_data[11]*img[12]);

13442 
	g»s
[9] = (
Tt
)((
TtdoubË
)
_d©a
[8]*
img
[1] + (Ttdouble)_data[9]*img[5] +

13443 (
TtdoubË
)
_d©a
[10]*
img
[9] + (Ttdouble)_data[11]*img[13]);

13444 
	g»s
[10] = (
Tt
)((
TtdoubË
)
_d©a
[8]*
img
[2] + (Ttdouble)_data[9]*img[6] +

13445 (
TtdoubË
)
_d©a
[10]*
img
[10] + (Ttdouble)_data[11]*img[14]);

13446 
	g»s
[11] = (
Tt
)((
TtdoubË
)
_d©a
[8]*
img
[3] + (Ttdouble)_data[9]*img[7] +

13447 (
TtdoubË
)
_d©a
[10]*
img
[11] + (Ttdouble)_data[11]*img[15]);

13448 
	g»s
[12] = (
Tt
)((
TtdoubË
)
_d©a
[12]*
img
[0] + (Ttdouble)_data[13]*img[4] +

13449 (
TtdoubË
)
_d©a
[14]*
img
[8] + (Ttdouble)_data[15]*img[12]);

13450 
	g»s
[13] = (
Tt
)((
TtdoubË
)
_d©a
[12]*
img
[1] + (Ttdouble)_data[13]*img[5] +

13451 (
TtdoubË
)
_d©a
[14]*
img
[9] + (Ttdouble)_data[15]*img[13]);

13452 
	g»s
[14] = (
Tt
)((
TtdoubË
)
_d©a
[12]*
img
[2] + (Ttdouble)_data[13]*img[6] +

13453 (
TtdoubË
)
_d©a
[14]*
img
[10] + (Ttdouble)_data[15]*img[14]);

13454 
	g»s
[15] = (
Tt
)((
TtdoubË
)
_d©a
[12]*
img
[3] + (Ttdouble)_data[13]*img[7] +

13455 (
TtdoubË
)
_d©a
[14]*
img
[11] + (Ttdouble)_data[15]*img[15]);

13456  
	g»s
;

13457 } 
	g_width
) {

13459 cÚ¡ 
t
 *cÚ¡ 
ps0
 = 
img
.
d©a
(), *cÚ¡ 
	gps1
 = img.data(0,1);

13460 
Tt
 *cÚ¡ 
	gpd0
 = 
»s
.
d©a
(), *cÚ¡ 
	gpd1
 =„es.data(0,1);

13461 cÚ¡ 
TtdoubË


13462 
	ga0
 = (
TtdoubË
)
_d©a
[0], 
	ga1
 = (Ttdouble)_data[1],

13463 
	ga2
 = (
TtdoubË
)
_d©a
[2], 
	ga3
 = (Ttdouble)_data[3];

13464 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
img
.
width
(),4096))

13465 
cimg_fÜX
(
img
,
i
) {

13466 cÚ¡ 
TtdoubË
 
	gx
 = (TtdoubË)
ps0
[
i
], 
	gy
 = (TtdoubË)
ps1
[i];

13467 
	gpd0
[
i
] = (
Tt
)(
a0
*
x
 + 
a1
*
y
);

13468 
	gpd1
[
i
] = (
Tt
)(
a2
*
x
 + 
a3
*
y
);

13470  
	g»s
;

13473 cÚ¡ 
t
 *cÚ¡ 
ps0
 = 
img
.
d©a
(), *cÚ¡ 
	gps1
 = img.d©a(0,1), *cÚ¡ 
	gps2
 = img.data(0,2);

13474 
Tt
 *cÚ¡ 
	gpd0
 = 
»s
.
d©a
(), *cÚ¡ 
	gpd1
 =„es.d©a(0,1), *cÚ¡ 
	gpd2
 =„es.data(0,2);

13475 cÚ¡ 
TtdoubË


13476 
	ga0
 = (
TtdoubË
)
_d©a
[0], 
	ga1
 = (TtdoubË)_d©a[1], 
	ga2
 = (Ttdouble)_data[2],

13477 
	ga3
 = (
TtdoubË
)
_d©a
[3], 
	ga4
 = (TtdoubË)_d©a[4], 
	ga5
 = (Ttdouble)_data[5],

13478 
	ga6
 = (
TtdoubË
)
_d©a
[6], 
	ga7
 = (TtdoubË)_d©a[7], 
	ga8
 = (Ttdouble)_data[8];

13479 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
img
.
width
(),1024))

13480 
cimg_fÜX
(
img
,
i
) {

13481 cÚ¡ 
TtdoubË
 
	gx
 = (TtdoubË)
ps0
[
i
], 
	gy
 = (TtdoubË)
ps1
[i], 
	gz
 = (TtdoubË)
ps2
[i];

13482 
	gpd0
[
i
] = (
Tt
)(
a0
*
x
 + 
a1
*
y
 + 
a2
*
z
);

13483 
	gpd1
[
i
] = (
Tt
)(
a3
*
x
 + 
a4
*
y
 + 
a5
*
z
);

13484 
	gpd2
[
i
] = (
Tt
)(
a6
*
x
 + 
a7
*
y
 + 
a8
*
z
);

13486  
	g»s
;

13489 cÚ¡ 
t


13490 *cÚ¡ 
ps0
 = 
img
.
d©a
(), *cÚ¡ 
	gps1
 = img.data(0,1),

13491 *cÚ¡ 
	gps2
 = 
img
.
d©a
(0,2), *cÚ¡ 
	gps3
 = img.data(0,3);

13492 
Tt


13493 *cÚ¡ 
	gpd0
 = 
»s
.
d©a
(), *cÚ¡ 
	gpd1
 =„es.data(0,1),

13494 *cÚ¡ 
	gpd2
 = 
»s
.
d©a
(0,2), *cÚ¡ 
	gpd3
 =„es.data(0,3);

13495 cÚ¡ 
TtdoubË


13496 
	ga0
 = (
TtdoubË
)
_d©a
[0], 
	ga1
 = (TtdoubË)_d©a[1], 
	ga2
 = (TtdoubË)_d©a[2], 
	ga3
 = (Ttdouble)_data[3],

13497 
	ga4
 = (
TtdoubË
)
_d©a
[4], 
	ga5
 = (TtdoubË)_d©a[5], 
	ga6
 = (TtdoubË)_d©a[6], 
	ga7
 = (Ttdouble)_data[7],

13498 
	ga8
 = (
TtdoubË
)
_d©a
[8], 
	ga9
 = (TtdoubË)_d©a[9], 
	ga10
 = (TtdoubË)_d©a[10], 
	ga11
 = (Ttdouble)_data[11],

13499 
	ga12
 = (
TtdoubË
)
_d©a
[12], 
	ga13
 = (TtdoubË)_d©a[13], 
	ga14
 = (Ttdouble)_data[14],

13500 
	ga15
 = (
TtdoubË
)
_d©a
[15];

13501 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
img
.
width
(),512))

13502 
cimg_fÜX
(
img
,
i
) {

13503 cÚ¡ 
TtdoubË
 
	gx
 = (TtdoubË)
ps0
[
i
], 
	gy
 = (TtdoubË)
ps1
[i], 
	gz
 = (TtdoubË)
ps2
[i], 
	gc
 = (TtdoubË)
ps3
[i];

13504 
	gpd0
[
i
] = (
Tt
)(
a0
*
x
 + 
a1
*
y
 + 
a2
*
z
 + 
a3
*
c
);

13505 
	gpd1
[
i
] = (
Tt
)(
a4
*
x
 + 
a5
*
y
 + 
a6
*
z
 + 
a7
*
c
);

13506 
	gpd2
[
i
] = (
Tt
)(
a8
*
x
 + 
a9
*
y
 + 
a10
*
z
 + 
a11
*
c
);

13507 
	gpd3
[
i
] = (
Tt
)(
a12
*
x
 + 
a13
*
y
 + 
a14
*
z
 + 
a15
*
c
);

13509  
	g»s
;

13515 #ià
cimg_u£_İ’mp
!=0

13516 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2)

13517 
cimg_İ’mp_if
(
size
()>(
cimg_İ’mp_sizeçùÜ
)*1024 &&

13518 
img
.
size
()>(
cimg_İ’mp_sizeçùÜ
)*1024))

13519 
cimg_fÜXY
(
»s
,
i
,
j
) {

13520 
TtdoubË
 
	gv®ue
 = 0;

13521 
cimg_fÜX
(*
this
,
k
è
	gv®ue
+=(*this)(k,
	gj
)*
img
(
i
,k);

13522 
»s
(
i
,
j
èğ(
Tt
)
v®ue
;

13525 
Tt
 *
	g±rd
 = 
»s
.
_d©a
;

13526 
cimg_fÜXY
(
»s
,
i
,
j
) {

13527 
TtdoubË
 
	gv®ue
 = 0;

13528 
cimg_fÜX
(*
this
,
k
è
	gv®ue
+=(*this)(k,
	gj
)*
img
(
i
,k);

13529 *(
	g±rd
++èğ(
Tt
)
v®ue
;

13532  
	g»s
;

13539 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13540 
	gCImg
<
	gT
>& 
	gİ”©Ü
/=(cÚ¡ 
t
 
v®ue
) {

13541 ià(
is_em±y
()è *
this
;

13542 
cimg_İ’mp_fÜ
(*
this
,*
±r
 / 
v®ue
,32768);

13543  *
	gthis
;

13550 
	gCImg
<
	gT
>& 
	gİ”©Ü
/=(cÚ¡ *cÚ¡ 
ex´essiÚ
) {

13551  
div
((+*
this
).
_fl
(
ex´essiÚ
,
Œue
,1,0,0,"operator/=",this));

13565 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13566 
	gCImg
<
	gT
>& 
	gİ”©Ü
/=(cÚ¡ 
CImg
<
t
>& 
img
) {

13567  (*
this
*
img
.
g‘_šv”t
()).
move_to
(*this);

13575 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13576 
	gCImg
<
	g_cimg_Tt
> 
	gİ”©Ü
/(cÚ¡ 
t
 
	gv®ue
) const {

13577  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
,
	gçl£
)/=
v®ue
;

13585 
	gCImg
<
	gTæßt
> 
	gİ”©Ü
/(cÚ¡ *cÚ¡ 
	gex´essiÚ
) const {

13586  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
)/=
ex´essiÚ
;

13594 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13595 
	gCImg
<
	g_cimg_Tt
> 
	gİ”©Ü
/(cÚ¡ CImg<
	gt
>& 
	gimg
) const {

13596  (*
	gthis
)*
	gimg
.
g‘_šv”t
();

13603 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13604 
	gCImg
<
	gT
>& 
	gİ”©Ü
%=(cÚ¡ 
t
 
v®ue
) {

13605 ià(
is_em±y
()è *
this
;

13606 
cimg_İ’mp_fÜ
(*
this
,
cimg
::
mod
(*
±r
,(
T
)
v®ue
),16384);

13607  *
	gthis
;

13614 
	gCImg
<
	gT
>& 
	gİ”©Ü
%=(cÚ¡ *cÚ¡ 
ex´essiÚ
) {

13615  *
this
%=(+*this).
_fl
(
ex´essiÚ
,
Œue
,1,0,0,"operator%=",this);

13622 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13623 
	gCImg
<
	gT
>& 
	gİ”©Ü
%=(cÚ¡ 
CImg
<
t
>& 
img
) {

13624 cÚ¡ 
ulÚgT
 
siz
 = 
size
(), 
	gisiz
 = 
img
.size();

13625 ià(
	gsiz
 && 
	gisiz
) {

13626 ià(
is_ov”Ïµed
(
img
)è *
	gthis
%=+img;

13627 
T
 *
	g±rd
 = 
_d©a
, *cÚ¡ 
	g±»
 = _d©¨+ 
siz
;

13628 ià(
	gsiz
>
	gisiz
è
ulÚgT
 
	gn
 = 
siz
/
isiz
;‚; --n)

13629 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_’d
 = 
±rs
 + 
isiz
;…Œs<±rs_’d; ++
	g±rd
)

13630 *
	g±rd
 = 
cimg
::
mod
(*
±rd
,(
T
)*(
±rs
++));

13631 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±»
; ++±rdè*±rd = 
cimg
::
mod
(*
±rd
,(
T
)*(
±rs
++));

13633  *
	gthis
;

13641 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13642 
	gCImg
<
	g_cimg_Tt
> 
	gİ”©Ü
%(cÚ¡ 
t
 
	gv®ue
) const {

13643  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
,
	gçl£
)%=
v®ue
;

13651 
	gCImg
<
	gTæßt
> 
	gİ”©Ü
%(cÚ¡ *cÚ¡ 
	gex´essiÚ
) const {

13652  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
)%=
ex´essiÚ
;

13660 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13661 
	gCImg
<
	g_cimg_Tt
> 
	gİ”©Ü
%(cÚ¡ CImg<
	gt
>& 
	gimg
) const {

13662  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
,
	gçl£
)%=
img
;

13669 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13670 
	gCImg
<
	gT
>& 
	gİ”©Ü
&=(cÚ¡ 
t
 
v®ue
) {

13671 ià(
is_em±y
()è *
this
;

13672 
cimg_İ’mp_fÜ
(*
this
,(
ulÚgT
)*
±r
 & (ulÚgT)
v®ue
,32768);

13673  *
	gthis
;

13680 
	gCImg
<
	gT
>& 
	gİ”©Ü
&=(cÚ¡ *cÚ¡ 
ex´essiÚ
) {

13681  *
this
&=(+*this).
_fl
(
ex´essiÚ
,
Œue
,1,0,0,"operator&=",this);

13688 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13689 
	gCImg
<
	gT
>& 
	gİ”©Ü
&=(cÚ¡ 
CImg
<
t
>& 
img
) {

13690 cÚ¡ 
ulÚgT
 
siz
 = 
size
(), 
	gisiz
 = 
img
.size();

13691 ià(
	gsiz
 && 
	gisiz
) {

13692 ià(
is_ov”Ïµed
(
img
)è *
	gthis
&=+img;

13693 
T
 *
	g±rd
 = 
_d©a
, *cÚ¡ 
	g±»
 = _d©¨+ 
siz
;

13694 ià(
	gsiz
>
	gisiz
è
ulÚgT
 
	gn
 = 
siz
/
isiz
;‚; --n)

13695 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_’d
 = 
±rs
 + 
isiz
;…Œs<±rs_’d; ++
	g±rd
)

13696 *
	g±rd
 = (
T
)((
ulÚgT
)*
±rd
 & (ulÚgT)*(
±rs
++));

13697 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±»
; ++±rdè*±rd = (
T
)((
ulÚgT
)*
±rd
 & (ulÚgT)*(
±rs
++));

13699  *
	gthis
;

13707 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13708 
	gCImg
<
	gT
> 
	gİ”©Ü
&(cÚ¡ 
t
 
	gv®ue
) const {

13709  (+*
	gthis
)&=
v®ue
;

13717 
	gCImg
<
	gT
> 
	gİ”©Ü
&(cÚ¡ *cÚ¡ 
	gex´essiÚ
) const {

13718  (+*
	gthis
)&=
ex´essiÚ
;

13726 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13727 
	gCImg
<
	gT
> 
	gİ”©Ü
&(cÚ¡ CImg<
	gt
>& 
	gimg
) const {

13728  (+*
	gthis
)&=
img
;

13735 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13736 
	gCImg
<
	gT
>& 
	gİ”©Ü
|=(cÚ¡ 
t
 
v®ue
) {

13737 ià(
is_em±y
()è *
this
;

13738 
cimg_İ’mp_fÜ
(*
this
,(
ulÚgT
)*
±r
 | (ulÚgT)
v®ue
,32768);

13739  *
	gthis
;

13746 
	gCImg
<
	gT
>& 
	gİ”©Ü
|=(cÚ¡ *cÚ¡ 
ex´essiÚ
) {

13747  *
this
|=(+*this).
_fl
(
ex´essiÚ
,
Œue
,1,0,0,"operator|=",this);

13754 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13755 
	gCImg
<
	gT
>& 
	gİ”©Ü
|=(cÚ¡ 
CImg
<
t
>& 
img
) {

13756 cÚ¡ 
ulÚgT
 
siz
 = 
size
(), 
	gisiz
 = 
img
.size();

13757 ià(
	gsiz
 && 
	gisiz
) {

13758 ià(
is_ov”Ïµed
(
img
)è *
	gthis
|=+img;

13759 
T
 *
	g±rd
 = 
_d©a
, *cÚ¡ 
	g±»
 = _d©¨+ 
siz
;

13760 ià(
	gsiz
>
	gisiz
è
ulÚgT
 
	gn
 = 
siz
/
isiz
;‚; --n)

13761 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_’d
 = 
±rs
 + 
isiz
;…Œs<±rs_’d; ++
	g±rd
)

13762 *
	g±rd
 = (
T
)((
ulÚgT
)*
±rd
 | (ulÚgT)*(
±rs
++));

13763 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±»
; ++±rdè*±rd = (
T
)((
ulÚgT
)*
±rd
 | (ulÚgT)*(
±rs
++));

13765  *
	gthis
;

13773 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13774 
	gCImg
<
	gT
> 
	gİ”©Ü
|(cÚ¡ 
t
 
	gv®ue
) const {

13775  (+*
	gthis
)|=
v®ue
;

13783 
	gCImg
<
	gT
> 
	gİ”©Ü
|(cÚ¡ *cÚ¡ 
	gex´essiÚ
) const {

13784  (+*
	gthis
)|=
ex´essiÚ
;

13792 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13793 
	gCImg
<
	gT
> 
	gİ”©Ü
|(cÚ¡ CImg<
	gt
>& 
	gimg
) const {

13794  (+*
	gthis
)|=
img
;

13803 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13804 
	gCImg
<
	gT
>& 
	gİ”©Ü
^=(cÚ¡ 
t
 
v®ue
) {

13805 ià(
is_em±y
()è *
this
;

13806 
cimg_İ’mp_fÜ
(*
this
,(
ulÚgT
)*
±r
 ^ (ulÚgT)
v®ue
,32768);

13807  *
	gthis
;

13816 
	gCImg
<
	gT
>& 
	gİ”©Ü
^=(cÚ¡ *cÚ¡ 
ex´essiÚ
) {

13817  *
this
^=(+*this).
_fl
(
ex´essiÚ
,
Œue
,1,0,0,"operator^=",this);

13826 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13827 
	gCImg
<
	gT
>& 
	gİ”©Ü
^=(cÚ¡ 
CImg
<
t
>& 
img
) {

13828 cÚ¡ 
ulÚgT
 
siz
 = 
size
(), 
	gisiz
 = 
img
.size();

13829 ià(
	gsiz
 && 
	gisiz
) {

13830 ià(
is_ov”Ïµed
(
img
)è *
	gthis
^=+img;

13831 
T
 *
	g±rd
 = 
_d©a
, *cÚ¡ 
	g±»
 = _d©¨+ 
siz
;

13832 ià(
	gsiz
>
	gisiz
è
ulÚgT
 
	gn
 = 
siz
/
isiz
;‚; --n)

13833 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_’d
 = 
±rs
 + 
isiz
;…Œs<±rs_’d; ++
	g±rd
)

13834 *
	g±rd
 = (
T
)((
ulÚgT
)*
±rd
 ^ (ulÚgT)*(
±rs
++));

13835 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±»
; ++±rdè*±rd = (
T
)((
ulÚgT
)*
±rd
 ^ (ulÚgT)*(
±rs
++));

13837  *
	gthis
;

13845 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13846 
	gCImg
<
	gT
> 
	gİ”©Ü
^(cÚ¡ 
t
 
	gv®ue
) const {

13847  (+*
	gthis
)^=
v®ue
;

13855 
	gCImg
<
	gT
> 
	gİ”©Ü
^(cÚ¡ *cÚ¡ 
	gex´essiÚ
) const {

13856  (+*
	gthis
)^=
ex´essiÚ
;

13864 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13865 
	gCImg
<
	gT
> 
	gİ”©Ü
^(cÚ¡ CImg<
	gt
>& 
	gimg
) const {

13866  (+*
	gthis
)^=
img
;

13873 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13874 
	gCImg
<
	gT
>& 
	gİ”©Ü
<<=(cÚ¡ 
t
 
v®ue
) {

13875 ià(
is_em±y
()è *
this
;

13876 
cimg_İ’mp_fÜ
(*
this
,((
lÚgT
)*
±r
è<< ()
v®ue
,65536);

13877  *
	gthis
;

13884 
	gCImg
<
	gT
>& 
	gİ”©Ü
<<=(cÚ¡ *cÚ¡ 
ex´essiÚ
) {

13885  *
this
<<=(+*this).
_fl
(
ex´essiÚ
,
Œue
,1,0,0,"operator<<=",this);

13892 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13893 
	gCImg
<
	gT
>& 
	gİ”©Ü
<<=(cÚ¡ 
CImg
<
t
>& 
img
) {

13894 cÚ¡ 
ulÚgT
 
siz
 = 
size
(), 
	gisiz
 = 
img
.size();

13895 ià(
	gsiz
 && 
	gisiz
) {

13896 ià(
is_ov”Ïµed
(
img
)è *
	gthis
^=+img;

13897 
T
 *
	g±rd
 = 
_d©a
, *cÚ¡ 
	g±»
 = _d©¨+ 
siz
;

13898 ià(
	gsiz
>
	gisiz
è
ulÚgT
 
	gn
 = 
siz
/
isiz
;‚; --n)

13899 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_’d
 = 
±rs
 + 
isiz
;…Œs<±rs_’d; ++
	g±rd
)

13900 *
	g±rd
 = (
T
)((
lÚgT
)*
±rd
 << ()*(
±rs
++));

13901 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±»
; ++±rdè*±rd = (
T
)((
lÚgT
)*
±rd
 << ()*(
±rs
++));

13903  *
	gthis
;

13911 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13912 
	gCImg
<
	gT
> 
	gİ”©Ü
<<(cÚ¡ 
t
 
	gv®ue
) const {

13913  (+*
	gthis
)<<=
v®ue
;

13921 
	gCImg
<
	gT
> 
	gİ”©Ü
<<(cÚ¡ *cÚ¡ 
	gex´essiÚ
) const {

13922  (+*
	gthis
)<<=
ex´essiÚ
;

13931 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13932 
	gCImg
<
	gT
> 
	gİ”©Ü
<<(cÚ¡ CImg<
	gt
>& 
	gimg
) const {

13933  (+*
	gthis
)<<=
img
;

13940 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13941 
	gCImg
<
	gT
>& 
	gİ”©Ü
>>=(cÚ¡ 
t
 
v®ue
) {

13942 ià(
is_em±y
()è *
this
;

13943 
cimg_İ’mp_fÜ
(*
this
,((
lÚgT
)*
±r
è>> ()
v®ue
,65536);

13944  *
	gthis
;

13951 
	gCImg
<
	gT
>& 
	gİ”©Ü
>>=(cÚ¡ *cÚ¡ 
ex´essiÚ
) {

13952  *
this
>>=(+*this).
_fl
(
ex´essiÚ
,
Œue
,1,0,0,"operator>>=",this);

13959 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13960 
	gCImg
<
	gT
>& 
	gİ”©Ü
>>=(cÚ¡ 
CImg
<
t
>& 
img
) {

13961 cÚ¡ 
ulÚgT
 
siz
 = 
size
(), 
	gisiz
 = 
img
.size();

13962 ià(
	gsiz
 && 
	gisiz
) {

13963 ià(
is_ov”Ïµed
(
img
)è *
	gthis
^=+img;

13964 
T
 *
	g±rd
 = 
_d©a
, *cÚ¡ 
	g±»
 = _d©¨+ 
siz
;

13965 ià(
	gsiz
>
	gisiz
è
ulÚgT
 
	gn
 = 
siz
/
isiz
;‚; --n)

13966 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_’d
 = 
±rs
 + 
isiz
;…Œs<±rs_’d; ++
	g±rd
)

13967 *
	g±rd
 = (
T
)((
lÚgT
)*
±rd
 >> ()*(
±rs
++));

13968 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±»
; ++±rdè*±rd = (
T
)((
lÚgT
)*
±rd
 >> ()*(
±rs
++));

13970  *
	gthis
;

13978 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13979 
	gCImg
<
	gT
> 
	gİ”©Ü
>>(cÚ¡ 
t
 
	gv®ue
) const {

13980  (+*
	gthis
)>>=
v®ue
;

13988 
	gCImg
<
	gT
> 
	gİ”©Ü
>>(cÚ¡ *cÚ¡ 
	gex´essiÚ
) const {

13989  (+*
	gthis
)>>=
ex´essiÚ
;

13998 
	g‹m¶©e
<
ty³Çme
 
	gt
>

13999 
	gCImg
<
	gT
> 
	gİ”©Ü
>>(cÚ¡ CImg<
	gt
>& 
	gimg
) const {

14000  (+*
	gthis
)>>=
img
;

14007 
	gCImg
<
	gT
> 
	gİ”©Ü
~() const {

14008 
	gCImg
<
	gT
> 
»s
(
_width
,
_height
,
_d•th
,
_¥eùrum
);

14009 cÚ¡ 
T
 *
	g±rs
 = 
_d©a
;

14010 
cimg_fÜ
(
»s
,
±rd
,
T
è{ cÚ¡ 
ulÚgT
 
	gv®ue
 = (ulÚgT)*(
±rs
++); *
	g±rd
 = (T)~
v®ue
; }

14011  
	g»s
;

14019 
	g‹m¶©e
<
ty³Çme
 
	gt
>

14020 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
t
 
v®ue
) const {

14021 ià(
is_em±y
()è 
çl£
;

14022 
_cimg_Tt
 
	tTt
;

14023 
boŞ
 
	gis_equ®
 = 
Œue
;

14024 
T
 *
	g±rd
 = 
_d©a
 + 
size
(); 
	gis_equ®
 &&…Œd>
	g_d©a
; is_equ® = ((
Tt
)*(--
±rd
)==(Tt)
v®ue
)) {}

14025  
is_equ®
;

14033 
boŞ
 
	gİ”©Ü
==(cÚ¡ *cÚ¡ 
ex´essiÚ
) const {

14034  *
this
==(+*this).
_fl
(
ex´essiÚ
,
Œue
,1,0,0,"operator==",this);

14056 
	g‹m¶©e
<
ty³Çme
 
	gt
>

14057 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
CImg
<
t
>& 
img
) const {

14058 
_cimg_Tt
 
	tTt
;

14059 cÚ¡ 
ulÚgT
 
	gsiz
 = 
size
();

14060 
boŞ
 
	gis_equ®
 = 
Œue
;

14061 ià(
	gsiz
!=
img
.
size
()è 
çl£
;

14062 
t
 *
	g±rs
 = 
img
.
_d©a
 + 
siz
;

14063 
T
 *
	g±rd
 = 
_d©a
 + 
siz
; 
	gis_equ®
 &&…Œd>
	g_d©a
; is_equ® = ((
Tt
)*(--
±rd
)==(Tt)*(--
±rs
))) {}

14064  
is_equ®
;

14072 
	g‹m¶©e
<
ty³Çme
 
	gt
>

14073 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
t
 
v®ue
) const {

14074  !((*
this
)==
v®ue
);

14082 
boŞ
 
	gİ”©Ü
!=(cÚ¡ *cÚ¡ 
ex´essiÚ
) const {

14083  !((*
this
)==
ex´essiÚ
);

14094 
	g‹m¶©e
<
ty³Çme
 
	gt
>

14095 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
CImg
<
t
>& 
img
) const {

14096  !((*
this
)==
img
);

14129 
	g‹m¶©e
<
ty³Çme
 
	gt
>

14130 
	gCImgLi¡
<
	g_cimg_Tt
> 
	gİ”©Ü
,(cÚ¡ 
	gCImg
<
	gt
>& 
	gimg
) const {

14131  
	gCImgLi¡
<
	g_cimg_Tt
>(*
	gthis
,
	gimg
);

14144 
	g‹m¶©e
<
ty³Çme
 
	gt
>

14145 
	gCImgLi¡
<
	g_cimg_Tt
> 
	gİ”©Ü
,(cÚ¡ CImgLi¡<
	gt
>& 
	gli¡
) const {

14146  
	gCImgLi¡
<
	g_cimg_Tt
>(
	gli¡
,
	gçl£
).
š£¹
(*
this
,0);

14164 
	gCImgLi¡
<
	gT
> 
	gİ”©Ü
<(cÚ¡ 
	gaxis
) const {

14165  
g‘_¥l™
(
axis
);

14183 cÚ¡ * 
pix–_ty³
() {

14184  
	gcimg
::
ty³
<
T
>::
¡ršg
();

14199 
width
() const {

14200  ()
	g_width
;

14214 
height
() const {

14215  ()
	g_height
;

14231 
d•th
() const {

14232  ()
	g_d•th
;

14250 
¥eùrum
() const {

14251  ()
	g_¥eùrum
;

14270 
ulÚgT
 
size
() const {

14271  (
	gulÚgT
)
_width
*
_height
*
_d•th
*
	g_¥eùrum
;

14285 
T
* 
d©a
() {

14286  
	g_d©a
;

14290 cÚ¡ 
T
* 
d©a
() const {

14291  
	g_d©a
;

14307 #ià
cimg_v”bos™y
>=3

14308 
T
 *
d©a
(cÚ¡ 
x
, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) {

14309 cÚ¡ 
ulÚgT
 
off
 = (ulÚgT)
off£t
(
x
,
y
,
z
,
c
);

14310 ià(
	goff
>=
size
())

14311 
cimg
::
w¬n
(
_cimg_š¡ªû


14313 
cimg_š¡ªû
,

14314 
x
,
y
,
z
,
c
,
off
);

14315  
	g_d©a
 + 
	goff
;

14319 cÚ¡ 
T
* 
d©a
(cÚ¡ 
x
, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

14320  
cÚ¡_ÿ¡
<
CImg
<
T
>*>(
this
)->
d©a
(
x
,
y
,
z
,
c
);

14323 
T
* 
d©a
(cÚ¡ 
x
, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) {

14324  
_d©a
 + 
x
 + (
ulÚgT
)
y
*
_width
 + (ulÚgT)
z
*_width*
_height
 + (ulÚgT)
c
*_width*_height*
_d•th
;

14327 cÚ¡ 
T
* 
d©a
(cÚ¡ 
x
, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

14328  
_d©a
 + 
x
 + (
ulÚgT
)
y
*
_width
 + (ulÚgT)
z
*_width*
_height
 + (ulÚgT)
c
*_width*_height*
_d•th
;

14348 
lÚgT
 
off£t
(cÚ¡ 
x
, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

14349  
x
 + (
lÚgT
)
y
*
_width
 + (lÚgT)
z
*_width*
_height
 + (lÚgT)
c
*_width*_height*
_d•th
;

14358 
™”©Ü
 
begš
() {

14359  
	g_d©a
;

14363 
cÚ¡_™”©Ü
 
begš
() const {

14364  
	g_d©a
;

14384 
™”©Ü
 
’d
() {

14385  
	g_d©a
 + 
size
();

14389 
cÚ¡_™”©Ü
 
’d
() const {

14390  
	g_d©a
 + 
size
();

14399 
	gT
& 
äÚt
() {

14400  *
	g_d©a
;

14404 cÚ¡ 
	gT
& 
äÚt
() const {

14405  *
	g_d©a
;

14415 
	gT
& 
back
() {

14416  *(
	g_d©a
 + 
size
() - 1);

14420 cÚ¡ 
	gT
& 
back
() const {

14421  *(
	g_d©a
 + 
size
() - 1);

14437 
	gT
& 
©
(cÚ¡ 
off£t
, cÚ¡ 
T
& 
out_v®ue
) {

14438  (
	goff£t
<0 || off£t>=()
size
())?(
cimg
::
‹mpÜ¬y
(
out_v®ue
)=out_v®ue):(*
this
)[
off£t
];

14442 
T
 
©
(cÚ¡ 
off£t
, cÚ¡ T& 
out_v®ue
) const {

14443  (
	goff£t
<0 || off£t>=()
size
())?
out_v®ue
:(*
this
)[
off£t
];

14460 
	gT
& 
©
(cÚ¡ 
off£t
) {

14461 ià(
is_em±y
())

14462 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


14464 
cimg_š¡ªû
);

14465  
_©
(
off£t
);

14468 
	gT
& 
_©
(cÚ¡ 
off£t
) {

14469 cÚ¡ 
	gsiz
 = ()
size
();

14470  (*
	gthis
)[
off£t
<0?0:()off£t>=
siz
?siz - 1:offset];

14474 cÚ¡ 
	gT
& 
©
(cÚ¡ 
off£t
) const {

14475 ià(
is_em±y
())

14476 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


14478 
cimg_š¡ªû
);

14479  
_©
(
off£t
);

14482 cÚ¡ 
	gT
& 
_©
(cÚ¡ 
off£t
) const {

14483 cÚ¡ 
	gsiz
 = ()
size
();

14484  (*
	gthis
)[
off£t
<0?0:()off£t>=
siz
?siz - 1:offset];

14504 
	gT
& 
©X
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ 
T
& 
out_v®ue
) {

14505  (
	gx
<0 || x>=
width
())?(
cimg
::
‹mpÜ¬y
(
out_v®ue
)=out_v®ue):(*
this
)(
x
,
	gy
,
	gz
,
	gc
);

14509 
T
 
©X
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ T& 
out_v®ue
) const {

14510  (
	gx
<0 || x>=
width
())?
out_v®ue
:(*
this
)(
x
,
	gy
,
	gz
,
	gc
);

14531 
	gT
& 
©X
(cÚ¡ 
x
, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) {

14532 ià(
is_em±y
())

14533 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


14535 
cimg_š¡ªû
);

14536  
_©X
(
x
,
y
,
z
,
c
);

14539 
	gT
& 
_©X
(cÚ¡ 
x
, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) {

14540  (*
this
)(
x
<0?0:(x>=
width
()?width(è- 1:x),
	gy
,
	gz
,
	gc
);

14544 cÚ¡ 
	gT
& 
©X
(cÚ¡ 
x
, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

14545 ià(
is_em±y
())

14546 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


14548 
cimg_š¡ªû
);

14549  
_©X
(
x
,
y
,
z
,
c
);

14552 cÚ¡ 
	gT
& 
_©X
(cÚ¡ 
x
, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

14553  (*
this
)(
x
<0?0:(x>=
width
()?width(è- 1:x),
	gy
,
	gz
,
	gc
);

14560 
	gT
& 
©XY
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ 
T
& 
out_v®ue
) {

14561  (
	gx
<0 || 
	gy
<0 || x>=
width
(è|| 
y
>=
height
())?(
cimg
::
‹mpÜ¬y
(
out_v®ue
)=out_v®ue):(*
this
)(
x
,y,
	gz
,
	gc
);

14565 
T
 
©XY
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ T& 
out_v®ue
) const {

14566  (
	gx
<0 || 
	gy
<0 || x>=
width
(è|| 
y
>=
height
())?
out_v®ue
:(*
this
)(
x
,y,
	gz
,
	gc
);

14576 
	gT
& 
©XY
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
=0, cÚ¡ 
c
=0) {

14577 ià(
is_em±y
())

14578 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


14580 
cimg_š¡ªû
);

14581  
_©XY
(
x
,
y
,
z
,
c
);

14584 
	gT
& 
_©XY
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
=0, cÚ¡ 
c
=0) {

14585  (*
this
)(
cimg
::
cut
(
x
,0,
width
() - 1),

14586 
cimg
::
cut
(
y
,0,
height
(è- 1),
z
,
c
);

14590 cÚ¡ 
	gT
& 
©XY
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

14591 ià(
is_em±y
())

14592 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


14594 
cimg_š¡ªû
);

14595  
_©XY
(
x
,
y
,
z
,
c
);

14598 cÚ¡ 
	gT
& 
_©XY
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

14599  (*
this
)(
cimg
::
cut
(
x
,0,
width
() - 1),

14600 
cimg
::
cut
(
y
,0,
height
(è- 1),
z
,
c
);

14608 
	gT
& 
©XYZ
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ 
T
& 
out_v®ue
) {

14609  (
	gx
<0 || 
	gy
<0 || 
	gz
<0 || x>=
width
(è|| 
y
>=
height
(è|| 
z
>=
d•th
())?

14610 (
cimg
::
‹mpÜ¬y
(
out_v®ue
)=out_v®ue):(*
this
)(
x
,
	gy
,
	gz
,
	gc
);

14614 
T
 
©XYZ
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ T& 
out_v®ue
) const {

14615  (
	gx
<0 || 
	gy
<0 || 
	gz
<0 || x>=
width
(è|| 
y
>=
height
(è|| 
z
>=
d•th
())?
out_v®ue
:(*
this
)(
x
,y,z,
	gc
);

14625 
	gT
& 
©XYZ
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
=0) {

14626 ià(
is_em±y
())

14627 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


14629 
cimg_š¡ªû
);

14630  
_©XYZ
(
x
,
y
,
z
,
c
);

14633 
	gT
& 
_©XYZ
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
=0) {

14634  (*
this
)(
cimg
::
cut
(
x
,0,
width
() - 1),

14635 
cimg
::
cut
(
y
,0,
height
() - 1),

14636 
cimg
::
cut
(
z
,0,
d•th
(è- 1),
c
);

14640 cÚ¡ 
	gT
& 
©XYZ
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
=0) const {

14641 ià(
is_em±y
())

14642 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


14644 
cimg_š¡ªû
);

14645  
_©XYZ
(
x
,
y
,
z
,
c
);

14648 cÚ¡ 
	gT
& 
_©XYZ
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
=0) const {

14649  (*
this
)(
cimg
::
cut
(
x
,0,
width
() - 1),

14650 
cimg
::
cut
(
y
,0,
height
() - 1),

14651 
cimg
::
cut
(
z
,0,
d•th
(è- 1),
c
);

14659 
	gT
& 
©XYZC
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ 
T
& 
out_v®ue
) {

14660  (
	gx
<0 || 
	gy
<0 || 
	gz
<0 || 
	gc
<0 || x>=
width
(è|| 
y
>=
height
(è|| 
z
>=
d•th
(è|| 
c
>=
¥eùrum
())?

14661 (
cimg
::
‹mpÜ¬y
(
out_v®ue
)=out_v®ue):(*
this
)(
x
,
	gy
,
	gz
,
	gc
);

14665 
T
 
©XYZC
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ T& 
out_v®ue
) const {

14666  (
	gx
<0 || 
	gy
<0 || 
	gz
<0 || 
	gc
<0 || x>=
width
(è|| 
y
>=
height
(è|| 
z
>=
d•th
(è|| 
c
>=
¥eùrum
())?
out_v®ue
:

14667 (*
this
)(
x
,
	gy
,
	gz
,
	gc
);

14677 
	gT
& 
©XYZC
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
) {

14678 ià(
is_em±y
())

14679 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


14681 
cimg_š¡ªû
);

14682  
_©XYZC
(
x
,
y
,
z
,
c
);

14685 
	gT
& 
_©XYZC
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
) {

14686  (*
	gthis
)(
	gcimg
::
cut
(
x
,0,
width
() - 1),

14687 
	gcimg
::
cut
(
y
,0,
height
() - 1),

14688 
	gcimg
::
cut
(
z
,0,
d•th
() - 1),

14689 
	gcimg
::
cut
(
c
,0,
¥eùrum
() - 1));

14693 cÚ¡ 
	gT
& 
©XYZC
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
) const {

14694 ià(
is_em±y
())

14695 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


14697 
cimg_š¡ªû
);

14698  
_©XYZC
(
x
,
y
,
z
,
c
);

14701 cÚ¡ 
	gT
& 
_©XYZC
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
) const {

14702  (*
	gthis
)(
	gcimg
::
cut
(
x
,0,
width
() - 1),

14703 
	gcimg
::
cut
(
y
,0,
height
() - 1),

14704 
	gcimg
::
cut
(
z
,0,
d•th
() - 1),

14705 
	gcimg
::
cut
(
c
,0,
¥eùrum
() - 1));

14724 
Tæßt
 
lš—r_©X
(cÚ¡ 
fx
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ 
T
& 
out_v®ue
) const {

14726 
	gx
 = ()
fx
 - (fx>=0?0:1), 
	gnx
 = 
x
 + 1;

14728 
	gdx
 = 
fx
 - 
x
;

14729 cÚ¡ 
Tæßt


14730 
	gIc
 = (
Tæßt
)
©X
(
x
,
y
,
z
,
c
,
out_v®ue
), 
	gIn
 = (Tæßt)
©XY
(
nx
,y,z,c,out_value);

14731  
	gIc
 + 
	gdx
*(
	gIn
 - Ic);

14751 
Tæßt
 
lš—r_©X
(cÚ¡ 
fx
, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

14752 ià(
is_em±y
())

14753 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


14755 
cimg_š¡ªû
);

14757  
_lš—r_©X
(
fx
,
y
,
z
,
c
);

14760 
Tæßt
 
_lš—r_©X
(cÚ¡ 
fx
, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

14762 
nfx
 = 
cimg
::
cut
(
fx
,0,
width
() - 1);

14764 
	gx
 = ()
nfx
;

14766 
	gdx
 = 
nfx
 - 
x
;

14768 
	gnx
 = 
dx
>0?
x
 + 1:x;

14769 cÚ¡ 
Tæßt


14770 
	gIc
 = (
Tæßt
)(*
this
)(
x
,
	gy
,
	gz
,
	gc
), 
	gIn
 = (Tæßt)(*this)(
nx
,y,z,c);

14771  
	gIc
 + 
	gdx
*(
	gIn
 - Ic);

14775 
Tæßt
 
lš—r_©X_p
(cÚ¡ 
fx
, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

14776 ià(
is_em±y
())

14777 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


14779 
cimg_š¡ªû
);

14781  
_lš—r_©X_p
(
fx
,
y
,
z
,
c
);

14784 
Tæßt
 
_lš—r_©X_p
(cÚ¡ 
fx
, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

14786 
nfx
 = 
cimg
::
mod
(
fx
,
_width
 - 0.5f);

14788 
	gx
 = ()
nfx
;

14790 
	gdx
 = 
nfx
 - 
x
;

14792 
	gnx
 = 
cimg
::
mod
(
x
 + 1,
_width
);

14793 cÚ¡ 
Tæßt


14794 
	gIc
 = (
Tæßt
)(*
this
)(
x
,
	gy
,
	gz
,
	gc
), 
	gIn
 = (Tæßt)(*this)(
nx
,y,z,c);

14795  
	gIc
 + 
	gdx
*(
	gIn
 - Ic);

14803 
Tæßt
 
lš—r_©XY
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ 
T
& 
out_v®ue
) const {

14805 
	gx
 = ()
fx
 - (fx>=0?0:1), 
	gnx
 = 
x
 + 1,

14806 
	gy
 = ()
fy
 - (fy>=0?0:1), 
	gny
 = 
y
 + 1;

14808 
	gdx
 = 
fx
 - 
x
,

14809 
	gdy
 = 
fy
 - 
y
;

14810 cÚ¡ 
Tæßt


14811 
	gIcc
 = (
Tæßt
)
©XY
(
x
,
y
,
z
,
c
,
out_v®ue
), 
	gInc
 = (TæßtïtXY(
nx
,y,z,c,out_value),

14812 
	gIú
 = (
Tæßt
)
©XY
(
x
,
ny
,
z
,
c
,
out_v®ue
), 
	gIÂ
 = (TæßtïtXY(
nx
,ny,z,c,out_value);

14813  
	gIcc
 + (
	gInc
 - Icø+ (Icø+ 
	gIÂ
 - 
	gIú
 - Inc)*
	gdy
)*
	gdx
 + (Icn - Icc)*dy;

14824 
Tæßt
 
lš—r_©XY
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

14825 ià(
is_em±y
())

14826 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


14828 
cimg_š¡ªû
);

14830  
_lš—r_©XY
(
fx
,
fy
,
z
,
c
);

14833 
Tæßt
 
_lš—r_©XY
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

14835 
nfx
 = 
cimg
::
cut
(
fx
,0,
width
() - 1),

14836 
	gnfy
 = 
cimg
::
cut
(
fy
,0,
height
() - 1);

14838 
	gx
 = ()
nfx
,

14839 
	gy
 = ()
nfy
;

14841 
	gdx
 = 
nfx
 - 
x
,

14842 
	gdy
 = 
nfy
 - 
y
;

14844 
	gnx
 = 
dx
>0?
x
 + 1:x,

14845 
	gny
 = 
dy
>0?
y
 + 1:y;

14846 cÚ¡ 
Tæßt


14847 
	gIcc
 = (
Tæßt
)(*
this
)(
x
,
	gy
,
	gz
,
	gc
), 
	gInc
 = (Tæßt)(*this)(
nx
,y,z,c),

14848 
	gIú
 = (
Tæßt
)(*
this
)(
x
,
	gny
,
	gz
,
	gc
), 
	gIÂ
 = (Tæßt)(*this)(
nx
,ny,z,c);

14849  
	gIcc
 + (
	gInc
 - Icø+ (Icø+ 
	gIÂ
 - 
	gIú
 - Inc)*
	gdy
)*
	gdx
 + (Icn - Icc)*dy;

14853 
Tæßt
 
lš—r_©XY_p
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

14854 ià(
is_em±y
())

14855 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


14857 
cimg_š¡ªû
);

14859  
_lš—r_©XY_p
(
fx
,
fy
,
z
,
c
);

14862 
Tæßt
 
_lš—r_©XY_p
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

14864 
nfx
 = 
cimg
::
mod
(
fx
,
_width
 - 0.5f),

14865 
	gnfy
 = 
cimg
::
mod
(
fy
,
_height
 - 0.5f);

14867 
	gx
 = ()
nfx
,

14868 
	gy
 = ()
nfy
;

14870 
	gdx
 = 
nfx
 - 
x
,

14871 
	gdy
 = 
nfy
 - 
y
;

14873 
	gnx
 = 
cimg
::
mod
(
x
 + 1,
_width
),

14874 
	gny
 = 
cimg
::
mod
(
y
 + 1,
_height
);

14875 cÚ¡ 
Tæßt


14876 
	gIcc
 = (
Tæßt
)(*
this
)(
x
,
	gy
,
	gz
,
	gc
), 
	gInc
 = (Tæßt)(*this)(
nx
,y,z,c),

14877 
	gIú
 = (
Tæßt
)(*
this
)(
x
,
	gny
,
	gz
,
	gc
), 
	gIÂ
 = (Tæßt)(*this)(
nx
,ny,z,c);

14878  
	gIcc
 + (
	gInc
 - Icø+ (Icø+ 
	gIÂ
 - 
	gIú
 - Inc)*
	gdy
)*
	gdx
 + (Icn - Icc)*dy;

14886 
Tæßt
 
lš—r_©XYZ
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
fz
, cÚ¡ 
c
, cÚ¡ 
T
& 
out_v®ue
) const {

14888 
	gx
 = ()
fx
 - (fx>=0?0:1), 
	gnx
 = 
x
 + 1,

14889 
	gy
 = ()
fy
 - (fy>=0?0:1), 
	gny
 = 
y
 + 1,

14890 
	gz
 = ()
fz
 - (fz>=0?0:1), 
	gnz
 = 
z
 + 1;

14892 
	gdx
 = 
fx
 - 
x
,

14893 
	gdy
 = 
fy
 - 
y
,

14894 
	gdz
 = 
fz
 - 
z
;

14895 cÚ¡ 
Tæßt


14896 
	gIccc
 = (
Tæßt
)
©XYZ
(
x
,
y
,
z
,
c
,
out_v®ue
), 
	gIncc
 = (TæßtïtXYZ(
nx
,y,z,c,out_value),

14897 
	gIúc
 = (
Tæßt
)
©XYZ
(
x
,
ny
,
z
,
c
,
out_v®ue
), 
	gIÂc
 = (TæßtïtXYZ(
nx
,ny,z,c,out_value),

14898 
	gIcú
 = (
Tæßt
)
©XYZ
(
x
,
y
,
nz
,
c
,
out_v®ue
), 
	gInú
 = (TæßtïtXYZ(
nx
,y,nz,c,out_value),

14899 
	gIún
 = (
Tæßt
)
©XYZ
(
x
,
ny
,
nz
,
c
,
out_v®ue
), 
	gIÂn
 = (TæßtïtXYZ(
nx
,ny,nz,c,out_value);

14900  
	gIccc
 +

14901 (
	gIncc
 - 
	gIccc
 +

14902 (
	gIccc
 + 
	gIÂc
 - 
	gIúc
 - 
	gIncc
 +

14903 (
	gIcú
 + 
	gIÂn
 + 
	gIúc
 + 
	gIncc
 - 
	gIún
 - 
	gInú
 - 
	gIccc
 - 
	gIÂc
)*
	gdz
)*
	gdy
 +

14904 (
	gIccc
 + 
	gInú
 - 
	gIcú
 - 
	gIncc
)*
	gdz
)*
	gdx
 +

14905 (
	gIúc
 - 
	gIccc
 +

14906 (
	gIccc
 + 
	gIún
 - 
	gIcú
 - 
	gIúc
)*
	gdz
)*
	gdy
 +

14907 (
	gIcú
 - 
	gIccc
)*
	gdz
;

14918 
Tæßt
 
lš—r_©XYZ
(cÚ¡ 
fx
, cÚ¡ 
fy
=0, cÚ¡ 
fz
=0, cÚ¡ 
c
=0) const {

14919 ià(
is_em±y
())

14920 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


14922 
cimg_š¡ªû
);

14924  
_lš—r_©XYZ
(
fx
,
fy
,
fz
,
c
);

14927 
Tæßt
 
_lš—r_©XYZ
(cÚ¡ 
fx
, cÚ¡ 
fy
=0, cÚ¡ 
fz
=0, cÚ¡ 
c
=0) const {

14929 
nfx
 = 
cimg
::
cut
(
fx
,0,
width
() - 1),

14930 
	gnfy
 = 
cimg
::
cut
(
fy
,0,
height
() - 1),

14931 
	gnfz
 = 
cimg
::
cut
(
fz
,0,
d•th
() - 1);

14933 
	gx
 = ()
nfx
,

14934 
	gy
 = ()
nfy
,

14935 
	gz
 = ()
nfz
;

14937 
	gdx
 = 
nfx
 - 
x
,

14938 
	gdy
 = 
nfy
 - 
y
,

14939 
	gdz
 = 
nfz
 - 
z
;

14941 
	gnx
 = 
dx
>0?
x
 + 1:x,

14942 
	gny
 = 
dy
>0?
y
 + 1:y,

14943 
	gnz
 = 
dz
>0?
z
 + 1:z;

14944 cÚ¡ 
Tæßt


14945 
	gIccc
 = (
Tæßt
)(*
this
)(
x
,
	gy
,
	gz
,
	gc
), 
	gIncc
 = (Tæßt)(*this)(
nx
,y,z,c),

14946 
	gIúc
 = (
Tæßt
)(*
this
)(
x
,
	gny
,
	gz
,
	gc
), 
	gIÂc
 = (Tæßt)(*this)(
nx
,ny,z,c),

14947 
	gIcú
 = (
Tæßt
)(*
this
)(
x
,
	gy
,
	gnz
,
	gc
), 
	gInú
 = (Tæßt)(*this)(
nx
,y,nz,c),

14948 
	gIún
 = (
Tæßt
)(*
this
)(
x
,
	gny
,
	gnz
,
	gc
), 
	gIÂn
 = (Tæßt)(*this)(
nx
,ny,nz,c);

14949  
	gIccc
 +

14950 (
	gIncc
 - 
	gIccc
 +

14951 (
	gIccc
 + 
	gIÂc
 - 
	gIúc
 - 
	gIncc
 +

14952 (
	gIcú
 + 
	gIÂn
 + 
	gIúc
 + 
	gIncc
 - 
	gIún
 - 
	gInú
 - 
	gIccc
 - 
	gIÂc
)*
	gdz
)*
	gdy
 +

14953 (
	gIccc
 + 
	gInú
 - 
	gIcú
 - 
	gIncc
)*
	gdz
)*
	gdx
 +

14954 (
	gIúc
 - 
	gIccc
 +

14955 (
	gIccc
 + 
	gIún
 - 
	gIcú
 - 
	gIúc
)*
	gdz
)*
	gdy
 +

14956 (
	gIcú
 - 
	gIccc
)*
	gdz
;

14960 
Tæßt
 
lš—r_©XYZ_p
(cÚ¡ 
fx
, cÚ¡ 
fy
=0, cÚ¡ 
fz
=0, cÚ¡ 
c
=0) const {

14961 ià(
is_em±y
())

14962 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


14964 
cimg_š¡ªû
);

14966  
_lš—r_©XYZ_p
(
fx
,
fy
,
fz
,
c
);

14969 
Tæßt
 
_lš—r_©XYZ_p
(cÚ¡ 
fx
, cÚ¡ 
fy
=0, cÚ¡ 
fz
=0, cÚ¡ 
c
=0) const {

14971 
nfx
 = 
cimg
::
mod
(
fx
,
_width
 - 0.5f),

14972 
	gnfy
 = 
cimg
::
mod
(
fy
,
_height
 - 0.5f),

14973 
	gnfz
 = 
cimg
::
mod
(
fz
,
_d•th
 - 0.5f);

14975 
	gx
 = ()
nfx
,

14976 
	gy
 = ()
nfy
,

14977 
	gz
 = ()
nfz
;

14979 
	gdx
 = 
nfx
 - 
x
,

14980 
	gdy
 = 
nfy
 - 
y
,

14981 
	gdz
 = 
nfz
 - 
z
;

14983 
	gnx
 = 
cimg
::
mod
(
x
 + 1,
_width
),

14984 
	gny
 = 
cimg
::
mod
(
y
 + 1,
_height
),

14985 
	gnz
 = 
cimg
::
mod
(
z
 + 1,
_d•th
);

14986 cÚ¡ 
Tæßt


14987 
	gIccc
 = (
Tæßt
)(*
this
)(
x
,
	gy
,
	gz
,
	gc
), 
	gIncc
 = (Tæßt)(*this)(
nx
,y,z,c),

14988 
	gIúc
 = (
Tæßt
)(*
this
)(
x
,
	gny
,
	gz
,
	gc
), 
	gIÂc
 = (Tæßt)(*this)(
nx
,ny,z,c),

14989 
	gIcú
 = (
Tæßt
)(*
this
)(
x
,
	gy
,
	gnz
,
	gc
), 
	gInú
 = (Tæßt)(*this)(
nx
,y,nz,c),

14990 
	gIún
 = (
Tæßt
)(*
this
)(
x
,
	gny
,
	gnz
,
	gc
), 
	gIÂn
 = (Tæßt)(*this)(
nx
,ny,nz,c);

14991  
	gIccc
 +

14992 (
	gIncc
 - 
	gIccc
 +

14993 (
	gIccc
 + 
	gIÂc
 - 
	gIúc
 - 
	gIncc
 +

14994 (
	gIcú
 + 
	gIÂn
 + 
	gIúc
 + 
	gIncc
 - 
	gIún
 - 
	gInú
 - 
	gIccc
 - 
	gIÂc
)*
	gdz
)*
	gdy
 +

14995 (
	gIccc
 + 
	gInú
 - 
	gIcú
 - 
	gIncc
)*
	gdz
)*
	gdx
 +

14996 (
	gIúc
 - 
	gIccc
 +

14997 (
	gIccc
 + 
	gIún
 - 
	gIcú
 - 
	gIúc
)*
	gdz
)*
	gdy
 +

14998 (
	gIcú
 - 
	gIccc
)*
	gdz
;

15006 
Tæßt
 
lš—r_©XYZC
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
fz
, cÚ¡ 
fc
, cÚ¡ 
T
& 
out_v®ue
) const {

15008 
	gx
 = ()
fx
 - (fx>=0?0:1), 
	gnx
 = 
x
 + 1,

15009 
	gy
 = ()
fy
 - (fy>=0?0:1), 
	gny
 = 
y
 + 1,

15010 
	gz
 = ()
fz
 - (fz>=0?0:1), 
	gnz
 = 
z
 + 1,

15011 
	gc
 = ()
fc
 - (fc>=0?0:1), 
	gnc
 = 
c
 + 1;

15013 
	gdx
 = 
fx
 - 
x
,

15014 
	gdy
 = 
fy
 - 
y
,

15015 
	gdz
 = 
fz
 - 
z
,

15016 
	gdc
 = 
fc
 - 
c
;

15017 cÚ¡ 
Tæßt


15018 
	gIcccc
 = (
Tæßt
)
©XYZC
(
x
,
y
,
z
,
c
,
out_v®ue
), 
	gInccc
 = (TæßtïtXYZC(
nx
,y,z,c,out_value),

15019 
	gIúcc
 = (
Tæßt
)
©XYZC
(
x
,
ny
,
z
,
c
,
out_v®ue
), 
	gIÂcc
 = (TæßtïtXYZC(
nx
,ny,z,c,out_value),

15020 
	gIcúc
 = (
Tæßt
)
©XYZC
(
x
,
y
,
nz
,
c
,
out_v®ue
), 
	gInúc
 = (TæßtïtXYZC(
nx
,y,nz,c,out_value),

15021 
	gIúnc
 = (
Tæßt
)
©XYZC
(
x
,
ny
,
nz
,
c
,
out_v®ue
), 
	gIÂnc
 = (TæßtïtXYZC(
nx
,ny,nz,c,out_value),

15022 
	gIccú
 = (
Tæßt
)
©XYZC
(
x
,
y
,
z
,
nc
,
out_v®ue
), 
	gIncú
 = (TæßtïtXYZC(
nx
,y,z,nc,out_value),

15023 
	gIúú
 = (
Tæßt
)
©XYZC
(
x
,
ny
,
z
,
nc
,
out_v®ue
), 
	gIÂú
 = (TæßtïtXYZC(
nx
,ny,z,nc,out_value),

15024 
	gIcún
 = (
Tæßt
)
©XYZC
(
x
,
y
,
nz
,
nc
,
out_v®ue
), 
	gInún
 = (TæßtïtXYZC(
nx
,y,nz,nc,out_value),

15025 
	gIúÂ
 = (
Tæßt
)
©XYZC
(
x
,
ny
,
nz
,
nc
,
out_v®ue
), 
	gIÂÂ
 = (TæßtïtXYZC(
nx
,ny,nz,nc,out_value);

15026  
	gIcccc
 +

15027 
	gdx
*(
	gInccc
 - 
	gIcccc
 +

15028 
	gdy
*(
	gIcccc
 + 
	gIÂcc
 - 
	gIúcc
 - 
	gInccc
 +

15029 
	gdz
*(
	gIcúc
 + 
	gIÂnc
 + 
	gIúcc
 + 
	gInccc
 - 
	gIúnc
 - 
	gInúc
 - 
	gIcccc
 - 
	gIÂcc
 +

15030 
	gdc
*(
	gIcún
 + 
	gIÂÂ
 + 
	gIúú
 + 
	gIncú
 + 
	gIúnc
 + 
	gInúc
 + 
	gIcccc
 + 
	gIÂcc
 -

15031 
	gIúÂ
 - 
	gInún
 - 
	gIccú
 - 
	gIÂú
 - 
	gIcúc
 - 
	gIÂnc
 - 
	gIúcc
 - 
	gInccc
)) +

15032 
	gdc
*(
	gIccú
 + 
	gIÂú
 + 
	gIúcc
 + 
	gInccc
 - 
	gIúú
 - 
	gIncú
 - 
	gIcccc
 - 
	gIÂcc
)) +

15033 
	gdz
*(
	gIcccc
 + 
	gInúc
 - 
	gIcúc
 - 
	gInccc
 +

15034 
	gdc
*(
	gIccú
 + 
	gInún
 + 
	gIcúc
 + 
	gInccc
 - 
	gIcún
 - 
	gIncú
 - 
	gIcccc
 - 
	gInúc
)) +

15035 
	gdc
*(
	gIcccc
 + 
	gIncú
 - 
	gInccc
 - 
	gIccú
)) +

15036 
	gdy
*(
	gIúcc
 - 
	gIcccc
 +

15037 
	gdz
*(
	gIcccc
 + 
	gIúnc
 - 
	gIcúc
 - 
	gIúcc
 +

15038 
	gdc
*(
	gIccú
 + 
	gIúÂ
 + 
	gIcúc
 + 
	gIúcc
 - 
	gIcún
 - 
	gIúú
 - 
	gIcccc
 - 
	gIúnc
)) +

15039 
	gdc
*(
	gIcccc
 + 
	gIúú
 - 
	gIúcc
 - 
	gIccú
)) +

15040 
	gdz
*(
	gIcúc
 - 
	gIcccc
 +

15041 
	gdc
*(
	gIcccc
 + 
	gIcún
 - 
	gIcúc
 - 
	gIccú
)) +

15042 
	gdc
*(
	gIccú
 -
	gIcccc
);

15053 
Tæßt
 
lš—r_©XYZC
(cÚ¡ 
fx
, cÚ¡ 
fy
=0, cÚ¡ 
fz
=0, cÚ¡ 
fc
=0) const {

15054 ià(
is_em±y
())

15055 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


15057 
cimg_š¡ªû
);

15059  
_lš—r_©XYZC
(
fx
,
fy
,
fz
,
fc
);

15062 
Tæßt
 
_lš—r_©XYZC
(cÚ¡ 
fx
, cÚ¡ 
fy
=0, cÚ¡ 
fz
=0, cÚ¡ 
fc
=0) const {

15064 
nfx
 = 
cimg
::
cut
(
fx
,0,
width
() - 1),

15065 
	gnfy
 = 
cimg
::
cut
(
fy
,0,
height
() - 1),

15066 
	gnfz
 = 
cimg
::
cut
(
fz
,0,
d•th
() - 1),

15067 
	gnfc
 = 
cimg
::
cut
(
fc
,0,
¥eùrum
() - 1);

15069 
	gx
 = ()
nfx
,

15070 
	gy
 = ()
nfy
,

15071 
	gz
 = ()
nfz
,

15072 
	gc
 = ()
nfc
;

15074 
	gdx
 = 
nfx
 - 
x
,

15075 
	gdy
 = 
nfy
 - 
y
,

15076 
	gdz
 = 
nfz
 - 
z
,

15077 
	gdc
 = 
nfc
 - 
c
;

15079 
	gnx
 = 
dx
>0?
x
 + 1:x,

15080 
	gny
 = 
dy
>0?
y
 + 1:y,

15081 
	gnz
 = 
dz
>0?
z
 + 1:z,

15082 
	gnc
 = 
dc
>0?
c
 + 1:c;

15083 cÚ¡ 
Tæßt


15084 
	gIcccc
 = (
Tæßt
)(*
this
)(
x
,
	gy
,
	gz
,
	gc
), 
	gInccc
 = (Tæßt)(*this)(
nx
,y,z,c),

15085 
	gIúcc
 = (
Tæßt
)(*
this
)(
x
,
	gny
,
	gz
,
	gc
), 
	gIÂcc
 = (Tæßt)(*this)(
nx
,ny,z,c),

15086 
	gIcúc
 = (
Tæßt
)(*
this
)(
x
,
	gy
,
	gnz
,
	gc
), 
	gInúc
 = (Tæßt)(*this)(
nx
,y,nz,c),

15087 
	gIúnc
 = (
Tæßt
)(*
this
)(
x
,
	gny
,
	gnz
,
	gc
), 
	gIÂnc
 = (Tæßt)(*this)(
nx
,ny,nz,c),

15088 
	gIccú
 = (
Tæßt
)(*
this
)(
x
,
	gy
,
	gz
,
	gnc
), 
	gIncú
 = (Tæßt)(*this)(
nx
,y,z,nc),

15089 
	gIúú
 = (
Tæßt
)(*
this
)(
x
,
	gny
,
	gz
,
	gnc
), 
	gIÂú
 = (Tæßt)(*this)(
nx
,ny,z,nc),

15090 
	gIcún
 = (
Tæßt
)(*
this
)(
x
,
	gy
,
	gnz
,
	gnc
), 
	gInún
 = (Tæßt)(*this)(
nx
,y,nz,nc),

15091 
	gIúÂ
 = (
Tæßt
)(*
this
)(
x
,
	gny
,
	gnz
,
	gnc
), 
	gIÂÂ
 = (Tæßt)(*this)(
nx
,ny,nz,nc);

15092  
	gIcccc
 +

15093 
	gdx
*(
	gInccc
 - 
	gIcccc
 +

15094 
	gdy
*(
	gIcccc
 + 
	gIÂcc
 - 
	gIúcc
 - 
	gInccc
 +

15095 
	gdz
*(
	gIcúc
 + 
	gIÂnc
 + 
	gIúcc
 + 
	gInccc
 - 
	gIúnc
 - 
	gInúc
 - 
	gIcccc
 - 
	gIÂcc
 +

15096 
	gdc
*(
	gIcún
 + 
	gIÂÂ
 + 
	gIúú
 + 
	gIncú
 + 
	gIúnc
 + 
	gInúc
 + 
	gIcccc
 + 
	gIÂcc
 -

15097 
	gIúÂ
 - 
	gInún
 - 
	gIccú
 - 
	gIÂú
 - 
	gIcúc
 - 
	gIÂnc
 - 
	gIúcc
 - 
	gInccc
)) +

15098 
	gdc
*(
	gIccú
 + 
	gIÂú
 + 
	gIúcc
 + 
	gInccc
 - 
	gIúú
 - 
	gIncú
 - 
	gIcccc
 - 
	gIÂcc
)) +

15099 
	gdz
*(
	gIcccc
 + 
	gInúc
 - 
	gIcúc
 - 
	gInccc
 +

15100 
	gdc
*(
	gIccú
 + 
	gInún
 + 
	gIcúc
 + 
	gInccc
 - 
	gIcún
 - 
	gIncú
 - 
	gIcccc
 - 
	gInúc
)) +

15101 
	gdc
*(
	gIcccc
 + 
	gIncú
 - 
	gInccc
 - 
	gIccú
)) +

15102 
	gdy
*(
	gIúcc
 - 
	gIcccc
 +

15103 
	gdz
*(
	gIcccc
 + 
	gIúnc
 - 
	gIcúc
 - 
	gIúcc
 +

15104 
	gdc
*(
	gIccú
 + 
	gIúÂ
 + 
	gIcúc
 + 
	gIúcc
 - 
	gIcún
 - 
	gIúú
 - 
	gIcccc
 - 
	gIúnc
)) +

15105 
	gdc
*(
	gIcccc
 + 
	gIúú
 - 
	gIúcc
 - 
	gIccú
)) +

15106 
	gdz
*(
	gIcúc
 - 
	gIcccc
 +

15107 
	gdc
*(
	gIcccc
 + 
	gIcún
 - 
	gIcúc
 - 
	gIccú
)) +

15108 
	gdc
*(
	gIccú
 - 
	gIcccc
);

15112 
Tæßt
 
lš—r_©XYZC_p
(cÚ¡ 
fx
, cÚ¡ 
fy
=0, cÚ¡ 
fz
=0, cÚ¡ 
fc
=0) const {

15113 ià(
is_em±y
())

15114 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


15116 
cimg_š¡ªû
);

15118  
_lš—r_©XYZC_p
(
fx
,
fy
,
fz
,
fc
);

15121 
Tæßt
 
_lš—r_©XYZC_p
(cÚ¡ 
fx
, cÚ¡ 
fy
=0, cÚ¡ 
fz
=0, cÚ¡ 
fc
=0) const {

15123 
nfx
 = 
cimg
::
mod
(
fx
,
_width
 - 0.5f),

15124 
	gnfy
 = 
cimg
::
mod
(
fy
,
_height
 - 0.5f),

15125 
	gnfz
 = 
cimg
::
mod
(
fz
,
_d•th
 - 0.5f),

15126 
	gnfc
 = 
cimg
::
mod
(
fc
,
_¥eùrum
 - 0.5f);

15128 
	gx
 = ()
nfx
,

15129 
	gy
 = ()
nfy
,

15130 
	gz
 = ()
nfz
,

15131 
	gc
 = ()
nfc
;

15133 
	gdx
 = 
nfx
 - 
x
,

15134 
	gdy
 = 
nfy
 - 
y
,

15135 
	gdz
 = 
nfz
 - 
z
,

15136 
	gdc
 = 
nfc
 - 
c
;

15138 
	gnx
 = 
cimg
::
mod
(
x
 + 1,
_width
),

15139 
	gny
 = 
cimg
::
mod
(
y
 + 1,
_height
),

15140 
	gnz
 = 
cimg
::
mod
(
z
 + 1,
_d•th
),

15141 
	gnc
 = 
cimg
::
mod
(
c
 + 1,
_¥eùrum
);

15142 cÚ¡ 
Tæßt


15143 
	gIcccc
 = (
Tæßt
)(*
this
)(
x
,
	gy
,
	gz
,
	gc
), 
	gInccc
 = (Tæßt)(*this)(
nx
,y,z,c),

15144 
	gIúcc
 = (
Tæßt
)(*
this
)(
x
,
	gny
,
	gz
,
	gc
), 
	gIÂcc
 = (Tæßt)(*this)(
nx
,ny,z,c),

15145 
	gIcúc
 = (
Tæßt
)(*
this
)(
x
,
	gy
,
	gnz
,
	gc
), 
	gInúc
 = (Tæßt)(*this)(
nx
,y,nz,c),

15146 
	gIúnc
 = (
Tæßt
)(*
this
)(
x
,
	gny
,
	gnz
,
	gc
), 
	gIÂnc
 = (Tæßt)(*this)(
nx
,ny,nz,c),

15147 
	gIccú
 = (
Tæßt
)(*
this
)(
x
,
	gy
,
	gz
,
	gnc
), 
	gIncú
 = (Tæßt)(*this)(
nx
,y,z,nc),

15148 
	gIúú
 = (
Tæßt
)(*
this
)(
x
,
	gny
,
	gz
,
	gnc
), 
	gIÂú
 = (Tæßt)(*this)(
nx
,ny,z,nc),

15149 
	gIcún
 = (
Tæßt
)(*
this
)(
x
,
	gy
,
	gnz
,
	gnc
), 
	gInún
 = (Tæßt)(*this)(
nx
,y,nz,nc),

15150 
	gIúÂ
 = (
Tæßt
)(*
this
)(
x
,
	gny
,
	gnz
,
	gnc
), 
	gIÂÂ
 = (Tæßt)(*this)(
nx
,ny,nz,nc);

15151  
	gIcccc
 +

15152 
	gdx
*(
	gInccc
 - 
	gIcccc
 +

15153 
	gdy
*(
	gIcccc
 + 
	gIÂcc
 - 
	gIúcc
 - 
	gInccc
 +

15154 
	gdz
*(
	gIcúc
 + 
	gIÂnc
 + 
	gIúcc
 + 
	gInccc
 - 
	gIúnc
 - 
	gInúc
 - 
	gIcccc
 - 
	gIÂcc
 +

15155 
	gdc
*(
	gIcún
 + 
	gIÂÂ
 + 
	gIúú
 + 
	gIncú
 + 
	gIúnc
 + 
	gInúc
 + 
	gIcccc
 + 
	gIÂcc
 -

15156 
	gIúÂ
 - 
	gInún
 - 
	gIccú
 - 
	gIÂú
 - 
	gIcúc
 - 
	gIÂnc
 - 
	gIúcc
 - 
	gInccc
)) +

15157 
	gdc
*(
	gIccú
 + 
	gIÂú
 + 
	gIúcc
 + 
	gInccc
 - 
	gIúú
 - 
	gIncú
 - 
	gIcccc
 - 
	gIÂcc
)) +

15158 
	gdz
*(
	gIcccc
 + 
	gInúc
 - 
	gIcúc
 - 
	gInccc
 +

15159 
	gdc
*(
	gIccú
 + 
	gInún
 + 
	gIcúc
 + 
	gInccc
 - 
	gIcún
 - 
	gIncú
 - 
	gIcccc
 - 
	gInúc
)) +

15160 
	gdc
*(
	gIcccc
 + 
	gIncú
 - 
	gInccc
 - 
	gIccú
)) +

15161 
	gdy
*(
	gIúcc
 - 
	gIcccc
 +

15162 
	gdz
*(
	gIcccc
 + 
	gIúnc
 - 
	gIcúc
 - 
	gIúcc
 +

15163 
	gdc
*(
	gIccú
 + 
	gIúÂ
 + 
	gIcúc
 + 
	gIúcc
 - 
	gIcún
 - 
	gIúú
 - 
	gIcccc
 - 
	gIúnc
)) +

15164 
	gdc
*(
	gIcccc
 + 
	gIúú
 - 
	gIúcc
 - 
	gIccú
)) +

15165 
	gdz
*(
	gIcúc
 - 
	gIcccc
 +

15166 
	gdc
*(
	gIcccc
 + 
	gIcún
 - 
	gIcúc
 - 
	gIccú
)) +

15167 
	gdc
*(
	gIccú
 - 
	gIcccc
);

15187 
Tæßt
 
cubic_©X
(cÚ¡ 
fx
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ 
T
& 
out_v®ue
) const {

15189 
	gx
 = ()
fx
 - (fx>=0?0:1), 
	gpx
 = 
x
 - 1, 
	gnx
 = x + 1, 
	gax
 = x + 2;

15191 
	gdx
 = 
fx
 - 
x
;

15192 cÚ¡ 
Tæßt


15193 
	gIp
 = (
Tæßt
)
©X
(
px
,
y
,
z
,
c
,
out_v®ue
), 
	gIc
 = (TæßtïtX(
x
,y,z,c,out_value),

15194 
	gIn
 = (
Tæßt
)
©X
(
nx
,
y
,
z
,
c
,
out_v®ue
), 
	gIa
 = (TæßtïtX(
ax
,y,z,c,out_value);

15195  
	gIc
 + 0.5f*(
	gdx
*(-
	gIp
 + 
	gIn
è+ 
dx
*dx*(2*I°- 5*Iø+ 4*IÀ- 
	gIa
) + dx*dx*dx*(-Ip + 3*Ic - 3*In + Ia));

15203 
T
 
cubic_©X_c
(cÚ¡ 
fx
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ T& 
out_v®ue
) const {

15204  
	gcimg
::
ty³
<
T
>::
cut
(
cubic_©X
(
fx
,
y
,
z
,
c
,
out_v®ue
));

15224 
Tæßt
 
cubic_©X
(cÚ¡ 
fx
, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

15225 ià(
is_em±y
())

15226 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


15228 
cimg_š¡ªû
);

15229  
_cubic_©X
(
fx
,
y
,
z
,
c
);

15232 
Tæßt
 
_cubic_©X
(cÚ¡ 
fx
, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

15234 
nfx
 = 
cimg
::
ty³
<>::
is_Çn
(
fx
)?0:cimg::
cut
(fx,0,
width
() - 1);

15236 
	gx
 = ()
nfx
;

15238 
	gdx
 = 
nfx
 - 
x
;

15240 
	gpx
 = 
x
 - 1<0?0:x - 1, 
	gnx
 = 
dx
>0?x + 1:x, 
	gax
 = x + 2>=
width
()?width() - 1:x + 2;

15241 cÚ¡ 
Tæßt


15242 
	gIp
 = (
Tæßt
)(*
this
)(
px
,
	gy
,
	gz
,
	gc
), 
	gIc
 = (Tæßt)(*this)(
x
,y,z,c),

15243 
	gIn
 = (
Tæßt
)(*
this
)(
nx
,
	gy
,
	gz
,
	gc
), 
	gIa
 = (Tæßt)(*this)(
ax
,y,z,c);

15244  
	gIc
 + 0.5f*(
	gdx
*(-
	gIp
 + 
	gIn
è+ 
dx
*dx*(2*I°- 5*Iø+ 4*IÀ- 
	gIa
) + dx*dx*dx*(-Ip + 3*Ic - 3*In + Ia));

15252 
T
 
cubic_©X_c
(cÚ¡ 
fx
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
) const {

15253  
	gcimg
::
ty³
<
T
>::
cut
(
cubic_©X
(
fx
,
y
,
z
,
c
));

15256 
T
 
_cubic_©X_c
(cÚ¡ 
fx
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
) const {

15257  
	gcimg
::
ty³
<
T
>::
cut
(
_cubic_©X
(
fx
,
y
,
z
,
c
));

15261 
Tæßt
 
cubic_©X_p
(cÚ¡ 
fx
, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

15262 ià(
is_em±y
())

15263 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


15265 
cimg_š¡ªû
);

15266  
_cubic_©X_p
(
fx
,
y
,
z
,
c
);

15269 
Tæßt
 
_cubic_©X_p
(cÚ¡ 
fx
, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

15271 
nfx
 = 
cimg
::
ty³
<>::
is_Çn
(
fx
)?0:cimg::
mod
(fx,
_width
 - 0.5f);

15273 
	gx
 = ()
nfx
;

15275 
	gdx
 = 
nfx
 - 
x
;

15277 
	gpx
 = 
cimg
::
mod
(
x
 - 1,
width
()), 
	gnx
 = cimg::mod(x + 1,width()), 
	gax
 = cimg::mod(x + 2,width());

15278 cÚ¡ 
Tæßt


15279 
	gIp
 = (
Tæßt
)(*
this
)(
px
,
	gy
,
	gz
,
	gc
), 
	gIc
 = (Tæßt)(*this)(
x
,y,z,c),

15280 
	gIn
 = (
Tæßt
)(*
this
)(
nx
,
	gy
,
	gz
,
	gc
), 
	gIa
 = (Tæßt)(*this)(
ax
,y,z,c);

15281  
	gIc
 + 0.5f*(
	gdx
*(-
	gIp
 + 
	gIn
è+ 
dx
*dx*(2*I°- 5*Iø+ 4*IÀ- 
	gIa
) + dx*dx*dx*(-Ip + 3*Ic - 3*In + Ia));

15284 
T
 
cubic_©X_pc
(cÚ¡ 
fx
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
) const {

15285  
	gcimg
::
ty³
<
T
>::
cut
(
cubic_©X_p
(
fx
,
y
,
z
,
c
));

15288 
T
 
_cubic_©X_pc
(cÚ¡ 
fx
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
) const {

15289  
	gcimg
::
ty³
<
T
>::
cut
(
_cubic_©X_p
(
fx
,
y
,
z
,
c
));

15297 
Tæßt
 
cubic_©XY
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ 
T
& 
out_v®ue
) const {

15299 
	gx
 = ()
fx
 - (fx>=0?0:1), 
	gpx
 = 
x
 - 1, 
	gnx
 = x + 1, 
	gax
 = x + 2,

15300 
	gy
 = ()
fy
 - (fy>=0?0:1), 
	gpy
 = 
y
 - 1, 
	gny
 = y + 1, 
	gay
 = y + 2;

15301 cÚ¡ 
	gdx
 = 
fx
 - 
x
, 
	gdy
 = 
fy
 - 
y
;

15302 cÚ¡ 
Tæßt


15303 
	gIµ
 = (
Tæßt
)
©XY
(
px
,
py
,
z
,
c
,
out_v®ue
), 
	gIı
 = (TæßtïtXY(
x
,py,z,c,out_value),

15304 
	gIÅ
 = (
Tæßt
)
©XY
(
nx
,
py
,
z
,
c
,
out_v®ue
), 
	gI­
 = (TæßtïtXY(
ax
,py,z,c,out_value),

15305 
	gIp
 = 
Iı
 + 0.5f*(
dx
*(-
Iµ
 + 
IÅ
è+ dx*dx*(2*Iµ - 5*Iı + 4*IÅ - 
I­
) + dx*dx*dx*(-Ipp + 3*Icp - 3*Inp + Iap)),

15306 
	gIpc
 = (
Tæßt
)
©XY
(
px
,
y
,
z
,
c
,
out_v®ue
), 
	gIcc
 = (TæßtïtXY(
x
, y,z,c,out_value),

15307 
	gInc
 = (
Tæßt
)
©XY
(
nx
,
y
,
z
,
c
,
out_v®ue
), 
	gIac
 = (TæßtïtXY(
ax
,y,z,c,out_value),

15308 
	gIc
 = 
Icc
 + 0.5f*(
dx
*(-
Ipc
 + 
Inc
è+ dx*dx*(2*Ipø- 5*Icø+ 4*Inø- 
Iac
) + dx*dx*dx*(-Ipc + 3*Icc - 3*Inc + Iac)),

15309 
	gI²
 = (
Tæßt
)
©XY
(
px
,
ny
,
z
,
c
,
out_v®ue
), 
	gIú
 = (TæßtïtXY(
x
,ny,z,c,out_value),

15310 
	gIÂ
 = (
Tæßt
)
©XY
(
nx
,
ny
,
z
,
c
,
out_v®ue
), 
	gIª
 = (TæßtïtXY(
ax
,ny,z,c,out_value),

15311 
	gIn
 = 
Iú
 + 0.5f*(
dx
*(-
I²
 + 
IÂ
è+ dx*dx*(2*I² - 5*Iú + 4*IÂ - 
Iª
) + dx*dx*dx*(-Ipn + 3*Icn - 3*Inn + Ian)),

15312 
	gI·
 = (
Tæßt
)
©XY
(
px
,
ay
,
z
,
c
,
out_v®ue
), 
	gIÿ
 = (TæßtïtXY(
x
,ay,z,c,out_value),

15313 
	gIÇ
 = (
Tæßt
)
©XY
(
nx
,
ay
,
z
,
c
,
out_v®ue
), 
	gI¯
 = (TæßtïtXY(
ax
,ay,z,c,out_value),

15314 
	gIa
 = 
Iÿ
 + 0.5f*(
dx
*(-
I·
 + 
IÇ
è+ dx*dx*(2*I· - 5*Iÿ + 4*IÇ - 
I¯
) + dx*dx*dx*(-Ipa + 3*Ica - 3*Ina + Iaa));

15315  
	gIc
 + 0.5f*(
	gdy
*(-
	gIp
 + 
	gIn
è+ 
dy
*dy*(2*I°- 5*Iø+ 4*IÀ- 
	gIa
) + dy*dy*dy*(-Ip + 3*Ic - 3*In + Ia));

15323 
T
 
cubic_©XY_c
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ T& 
out_v®ue
) const {

15324  
	gcimg
::
ty³
<
T
>::
cut
(
cubic_©XY
(
fx
,
fy
,
z
,
c
,
out_v®ue
));

15335 
Tæßt
 
cubic_©XY
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

15336 ià(
is_em±y
())

15337 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


15339 
cimg_š¡ªû
);

15340  
_cubic_©XY
(
fx
,
fy
,
z
,
c
);

15343 
Tæßt
 
_cubic_©XY
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

15345 
nfx
 = 
cimg
::
ty³
<>::
is_Çn
(
fx
)?0:cimg::
cut
(fx,0,
width
() - 1),

15346 
	gnfy
 = 
cimg
::
ty³
<>::
is_Çn
(
fy
)?0:cimg::
cut
(fy,0,
height
() - 1);

15347 cÚ¡ 
	gx
 = ()
nfx
, 
	gy
 = ()
nfy
;

15348 cÚ¡ 
	gdx
 = 
nfx
 - 
x
, 
	gdy
 = 
nfy
 - 
y
;

15350 
	gpx
 = 
x
 - 1<0?0:x - 1, 
	gnx
 = 
dx
<=0?x:x + 1, 
	gax
 = x + 2>=
width
()?width() - 1:x + 2,

15351 
	gpy
 = 
y
 - 1<0?0:y - 1, 
	gny
 = 
dy
<=0?y:y + 1, 
	gay
 = y + 2>=
height
()?height() - 1:y + 2;

15352 cÚ¡ 
Tæßt


15353 
	gIµ
 = (
Tæßt
)(*
this
)(
px
,
	gpy
,
	gz
,
	gc
), 
	gIı
 = (Tæßt)(*this)(
x
,py,z,c), 
	gIÅ
 = (Tæßt)(*this)(
nx
,py,z,c),

15354 
	gI­
 = (
Tæßt
)(*
this
)(
ax
,
	gpy
,
	gz
,
	gc
),

15355 
	gIp
 = 
Iı
 + 0.5f*(
dx
*(-
Iµ
 + 
IÅ
è+ dx*dx*(2*Iµ - 5*Iı + 4*IÅ - 
I­
) + dx*dx*dx*(-Ipp + 3*Icp - 3*Inp + Iap)),

15356 
	gIpc
 = (
Tæßt
)(*
this
)(
px
,
	gy
,
	gz
,
	gc
), 
	gIcc
 = (Tæßt)(*this)(
x
, y,z,c), 
	gInc
 = (Tæßt)(*this)(
nx
,y,z,c),

15357 
	gIac
 = (
Tæßt
)(*
this
)(
ax
,
	gy
,
	gz
,
	gc
),

15358 
	gIc
 = 
Icc
 + 0.5f*(
dx
*(-
Ipc
 + 
Inc
è+ dx*dx*(2*Ipø- 5*Icø+ 4*Inø- 
Iac
) + dx*dx*dx*(-Ipc + 3*Icc - 3*Inc + Iac)),

15359 
	gI²
 = (
Tæßt
)(*
this
)(
px
,
	gny
,
	gz
,
	gc
), 
	gIú
 = (Tæßt)(*this)(
x
,ny,z,c), 
	gIÂ
 = (Tæßt)(*this)(
nx
,ny,z,c),

15360 
	gIª
 = (
Tæßt
)(*
this
)(
ax
,
	gny
,
	gz
,
	gc
),

15361 
	gIn
 = 
Iú
 + 0.5f*(
dx
*(-
I²
 + 
IÂ
è+ dx*dx*(2*I² - 5*Iú + 4*IÂ - 
Iª
) + dx*dx*dx*(-Ipn + 3*Icn - 3*Inn + Ian)),

15362 
	gI·
 = (
Tæßt
)(*
this
)(
px
,
	gay
,
	gz
,
	gc
), 
	gIÿ
 = (Tæßt)(*this)(
x
,ay,z,c), 
	gIÇ
 = (Tæßt)(*this)(
nx
,ay,z,c),

15363 
	gI¯
 = (
Tæßt
)(*
this
)(
ax
,
	gay
,
	gz
,
	gc
),

15364 
	gIa
 = 
Iÿ
 + 0.5f*(
dx
*(-
I·
 + 
IÇ
è+ dx*dx*(2*I· - 5*Iÿ + 4*IÇ - 
I¯
) + dx*dx*dx*(-Ipa + 3*Ica - 3*Ina + Iaa));

15365  
	gIc
 + 0.5f*(
	gdy
*(-
	gIp
 + 
	gIn
è+ 
dy
*dy*(2*I°- 5*Iø+ 4*IÀ- 
	gIa
) + dy*dy*dy*(-Ip + 3*Ic - 3*In + Ia));

15373 
T
 
cubic_©XY_c
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
z
, cÚ¡ 
c
) const {

15374  
	gcimg
::
ty³
<
T
>::
cut
(
cubic_©XY
(
fx
,
fy
,
z
,
c
));

15377 
T
 
_cubic_©XY_c
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
z
, cÚ¡ 
c
) const {

15378  
	gcimg
::
ty³
<
T
>::
cut
(
_cubic_©XY
(
fx
,
fy
,
z
,
c
));

15382 
Tæßt
 
cubic_©XY_p
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

15383 ià(
is_em±y
())

15384 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


15386 
cimg_š¡ªû
);

15387  
_cubic_©XY_p
(
fx
,
fy
,
z
,
c
);

15390 
Tæßt
 
_cubic_©XY_p
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

15392 
nfx
 = 
cimg
::
ty³
<>::
is_Çn
(
fx
)?0:cimg::
mod
(fx,
_width
 - 0.5f),

15393 
	gnfy
 = 
cimg
::
ty³
<>::
is_Çn
(
fy
)?0:cimg::
mod
(fy,
_height
 - 0.5f);

15394 cÚ¡ 
	gx
 = ()
nfx
, 
	gy
 = ()
nfy
;

15395 cÚ¡ 
	gdx
 = 
nfx
 - 
x
, 
	gdy
 = 
nfy
 - 
y
;

15397 
	gpx
 = 
cimg
::
mod
(
x
 - 1,
width
()), 
	gnx
 = cimg::mod(x + 1,width()), 
	gax
 = cimg::mod(x + 2,width()),

15398 
	gpy
 = 
cimg
::
mod
(
y
 - 1,
height
()), 
	gny
 = cimg::mod(y + 1,height()), 
	gay
 = cimg::mod(y + 2,height());

15399 cÚ¡ 
Tæßt


15400 
	gIµ
 = (
Tæßt
)(*
this
)(
px
,
	gpy
,
	gz
,
	gc
), 
	gIı
 = (Tæßt)(*this)(
x
,py,z,c), 
	gIÅ
 = (Tæßt)(*this)(
nx
,py,z,c),

15401 
	gI­
 = (
Tæßt
)(*
this
)(
ax
,
	gpy
,
	gz
,
	gc
),

15402 
	gIp
 = 
Iı
 + 0.5f*(
dx
*(-
Iµ
 + 
IÅ
è+ dx*dx*(2*Iµ - 5*Iı + 4*IÅ - 
I­
) + dx*dx*dx*(-Ipp + 3*Icp - 3*Inp + Iap)),

15403 
	gIpc
 = (
Tæßt
)(*
this
)(
px
,
	gy
,
	gz
,
	gc
), 
	gIcc
 = (Tæßt)(*this)(
x
, y,z,c), 
	gInc
 = (Tæßt)(*this)(
nx
,y,z,c),

15404 
	gIac
 = (
Tæßt
)(*
this
)(
ax
,
	gy
,
	gz
,
	gc
),

15405 
	gIc
 = 
Icc
 + 0.5f*(
dx
*(-
Ipc
 + 
Inc
è+ dx*dx*(2*Ipø- 5*Icø+ 4*Inø- 
Iac
) + dx*dx*dx*(-Ipc + 3*Icc - 3*Inc + Iac)),

15406 
	gI²
 = (
Tæßt
)(*
this
)(
px
,
	gny
,
	gz
,
	gc
), 
	gIú
 = (Tæßt)(*this)(
x
,ny,z,c), 
	gIÂ
 = (Tæßt)(*this)(
nx
,ny,z,c),

15407 
	gIª
 = (
Tæßt
)(*
this
)(
ax
,
	gny
,
	gz
,
	gc
),

15408 
	gIn
 = 
Iú
 + 0.5f*(
dx
*(-
I²
 + 
IÂ
è+ dx*dx*(2*I² - 5*Iú + 4*IÂ - 
Iª
) + dx*dx*dx*(-Ipn + 3*Icn - 3*Inn + Ian)),

15409 
	gI·
 = (
Tæßt
)(*
this
)(
px
,
	gay
,
	gz
,
	gc
), 
	gIÿ
 = (Tæßt)(*this)(
x
,ay,z,c), 
	gIÇ
 = (Tæßt)(*this)(
nx
,ay,z,c),

15410 
	gI¯
 = (
Tæßt
)(*
this
)(
ax
,
	gay
,
	gz
,
	gc
),

15411 
	gIa
 = 
Iÿ
 + 0.5f*(
dx
*(-
I·
 + 
IÇ
è+ dx*dx*(2*I· - 5*Iÿ + 4*IÇ - 
I¯
) + dx*dx*dx*(-Ipa + 3*Ica - 3*Ina + Iaa));

15412  
	gIc
 + 0.5f*(
	gdy
*(-
	gIp
 + 
	gIn
è+ 
dy
*dy*(2*I°- 5*Iø+ 4*IÀ- 
	gIa
) + dy*dy*dy*(-Ip + 3*Ic - 3*In + Ia));

15415 
T
 
cubic_©XY_pc
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
z
, cÚ¡ 
c
) const {

15416  
	gcimg
::
ty³
<
T
>::
cut
(
cubic_©XY_p
(
fx
,
fy
,
z
,
c
));

15419 
T
 
_cubic_©XY_pc
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
z
, cÚ¡ 
c
) const {

15420  
	gcimg
::
ty³
<
T
>::
cut
(
_cubic_©XY_p
(
fx
,
fy
,
z
,
c
));

15428 
Tæßt
 
cubic_©XYZ
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
fz
, cÚ¡ 
c
, cÚ¡ 
T
& 
out_v®ue
) const {

15430 
	gx
 = ()
fx
 - (fx>=0?0:1), 
	gpx
 = 
x
 - 1, 
	gnx
 = x + 1, 
	gax
 = x + 2,

15431 
	gy
 = ()
fy
 - (fy>=0?0:1), 
	gpy
 = 
y
 - 1, 
	gny
 = y + 1, 
	gay
 = y + 2,

15432 
	gz
 = ()
fz
 - (fz>=0?0:1), 
	gpz
 = 
z
 - 1, 
	gnz
 = z + 1, 
	gaz
 = z + 2;

15433 cÚ¡ 
	gdx
 = 
fx
 - 
x
, 
	gdy
 = 
fy
 - 
y
, 
	gdz
 = 
fz
 - 
z
;

15434 cÚ¡ 
Tæßt


15435 
	gIµp
 = (
Tæßt
)
©XYZ
(
px
,
py
,
pz
,
c
,
out_v®ue
), 
	gIıp
 = (TæßtïtXYZ(
x
,py,pz,c,out_value),

15436 
	gIÅp
 = (
Tæßt
)
©XYZ
(
nx
,
py
,
pz
,
c
,
out_v®ue
), 
	gI­p
 = (TæßtïtXYZ(
ax
,py,pz,c,out_value),

15437 
	gIµ
 = 
Iıp
 + 0.5f*(
dx
*(-
Iµp
 + 
IÅp
è+ dx*dx*(2*Iµ°- 5*Iı°+ 4*IÅ°- 
I­p
) +

15438 
dx
*dx*dx*(-
Iµp
 + 3*
Iıp
 - 3*
IÅp
 + 
I­p
)),

15439 
	gIpı
 = (
Tæßt
)
©XYZ
(
px
,
y
,
pz
,
c
,
out_v®ue
), 
	gIcı
 = (TæßtïtXYZ(
x
, y,pz,c,out_value),

15440 
	gInı
 = (
Tæßt
)
©XYZ
(
nx
,
y
,
pz
,
c
,
out_v®ue
), 
	gIaı
 = (TæßtïtXYZ(
ax
,y,pz,c,out_value),

15441 
	gIı
 = 
Icı
 + 0.5f*(
dx
*(-
Ipı
 + 
Inı
è+ dx*dx*(2*Ipı - 5*Icı + 4*Inı - 
Iaı
) +

15442 
dx
*dx*dx*(-
Ipı
 + 3*
Icı
 - 3*
Inı
 + 
Iaı
)),

15443 
	gI²p
 = (
Tæßt
)
©XYZ
(
px
,
ny
,
pz
,
c
,
out_v®ue
), 
	gIúp
 = (TæßtïtXYZ(
x
,ny,pz,c,out_value),

15444 
	gIÂp
 = (
Tæßt
)
©XYZ
(
nx
,
ny
,
pz
,
c
,
out_v®ue
), 
	gIªp
 = (TæßtïtXYZ(
ax
,ny,pz,c,out_value),

15445 
	gIÅ
 = 
Iúp
 + 0.5f*(
dx
*(-
I²p
 + 
IÂp
è+ dx*dx*(2*I²°- 5*Iú°+ 4*IÂ°- 
Iªp
) +

15446 
dx
*dx*dx*(-
I²p
 + 3*
Iúp
 - 3*
IÂp
 + 
Iªp
)),

15447 
	gI·p
 = (
Tæßt
)
©XYZ
(
px
,
ay
,
pz
,
c
,
out_v®ue
), 
	gIÿp
 = (TæßtïtXYZ(
x
,ay,pz,c,out_value),

15448 
	gIÇp
 = (
Tæßt
)
©XYZ
(
nx
,
ay
,
pz
,
c
,
out_v®ue
), 
	gI¯p
 = (TæßtïtXYZ(
ax
,ay,pz,c,out_value),

15449 
	gI­
 = 
Iÿp
 + 0.5f*(
dx
*(-
I·p
 + 
IÇp
è+ dx*dx*(2*I·°- 5*Iÿ°+ 4*IÇ°- 
I¯p
) +

15450 
dx
*dx*dx*(-
I·p
 + 3*
Iÿp
 - 3*
IÇp
 + 
I¯p
)),

15451 
	gIp
 = 
Iı
 + 0.5f*(
dy
*(-
Iµ
 + 
IÅ
è+ dy*dy*(2*Iµ - 5*Iı + 4*IÅ - 
I­
) +

15452 
dy
*dy*dy*(-
Iµ
 + 3*
Iı
 - 3*
IÅ
 + 
I­
)),

15453 
	gIµc
 = (
Tæßt
)
©XYZ
(
px
,
py
,
z
,
c
,
out_v®ue
), 
	gIıc
 = (TæßtïtXYZ(
x
,py,z,c,out_value),

15454 
	gIÅc
 = (
Tæßt
)
©XYZ
(
nx
,
py
,
z
,
c
,
out_v®ue
), 
	gI­c
 = (TæßtïtXYZ(
ax
,py,z,c,out_value),

15455 
	gIpc
 = 
Iıc
 + 0.5f*(
dx
*(-
Iµc
 + 
IÅc
è+ dx*dx*(2*Iµø- 5*Iıø+ 4*IÅø- 
I­c
) +

15456 
dx
*dx*dx*(-
Iµc
 + 3*
Iıc
 - 3*
IÅc
 + 
I­c
)),

15457 
	gIpcc
 = (
Tæßt
)
©XYZ
(
px
,
y
,
z
,
c
,
out_v®ue
), 
	gIccc
 = (TæßtïtXYZ(
x
, y,z,c,out_value),

15458 
	gIncc
 = (
Tæßt
)
©XYZ
(
nx
,
y
,
z
,
c
,
out_v®ue
), 
	gIacc
 = (TæßtïtXYZ(
ax
,y,z,c,out_value),

15459 
	gIcc
 = 
Iccc
 + 0.5f*(
dx
*(-
Ipcc
 + 
Incc
è+ dx*dx*(2*Ipcø- 5*Iccø+ 4*Incø- 
Iacc
) +

15460 
dx
*dx*dx*(-
Ipcc
 + 3*
Iccc
 - 3*
Incc
 + 
Iacc
)),

15461 
	gI²c
 = (
Tæßt
)
©XYZ
(
px
,
ny
,
z
,
c
,
out_v®ue
), 
	gIúc
 = (TæßtïtXYZ(
x
,ny,z,c,out_value),

15462 
	gIÂc
 = (
Tæßt
)
©XYZ
(
nx
,
ny
,
z
,
c
,
out_v®ue
), 
	gIªc
 = (TæßtïtXYZ(
ax
,ny,z,c,out_value),

15463 
	gInc
 = 
Iúc
 + 0.5f*(
dx
*(-
I²c
 + 
IÂc
è+ dx*dx*(2*I²ø- 5*Iúø+ 4*IÂø- 
Iªc
) +

15464 
dx
*dx*dx*(-
I²c
 + 3*
Iúc
 - 3*
IÂc
 + 
Iªc
)),

15465 
	gI·c
 = (
Tæßt
)
©XYZ
(
px
,
ay
,
z
,
c
,
out_v®ue
), 
	gIÿc
 = (TæßtïtXYZ(
x
,ay,z,c,out_value),

15466 
	gIÇc
 = (
Tæßt
)
©XYZ
(
nx
,
ay
,
z
,
c
,
out_v®ue
), 
	gI¯c
 = (TæßtïtXYZ(
ax
,ay,z,c,out_value),

15467 
	gIac
 = 
Iÿc
 + 0.5f*(
dx
*(-
I·c
 + 
IÇc
è+ dx*dx*(2*I·ø- 5*Iÿø+ 4*IÇø- 
I¯c
) +

15468 
dx
*dx*dx*(-
I·c
 + 3*
Iÿc
 - 3*
IÇc
 + 
I¯c
)),

15469 
	gIc
 = 
Icc
 + 0.5f*(
dy
*(-
Ipc
 + 
Inc
è+ dy*dy*(2*Ipø- 5*Icø+ 4*Inø- 
Iac
) +

15470 
dy
*dy*dy*(-
Ipc
 + 3*
Icc
 - 3*
Inc
 + 
Iac
)),

15471 
	gIµn
 = (
Tæßt
)
©XYZ
(
px
,
py
,
nz
,
c
,
out_v®ue
), 
	gIın
 = (TæßtïtXYZ(
x
,py,nz,c,out_value),

15472 
	gIÅn
 = (
Tæßt
)
©XYZ
(
nx
,
py
,
nz
,
c
,
out_v®ue
), 
	gI­n
 = (TæßtïtXYZ(
ax
,py,nz,c,out_value),

15473 
	gI²
 = 
Iın
 + 0.5f*(
dx
*(-
Iµn
 + 
IÅn
è+ dx*dx*(2*IµÀ- 5*IıÀ+ 4*IÅÀ- 
I­n
) +

15474 
dx
*dx*dx*(-
Iµn
 + 3*
Iın
 - 3*
IÅn
 + 
I­n
)),

15475 
	gIpú
 = (
Tæßt
)
©XYZ
(
px
,
y
,
nz
,
c
,
out_v®ue
), 
	gIcú
 = (TæßtïtXYZ(
x
, y,nz,c,out_value),

15476 
	gInú
 = (
Tæßt
)
©XYZ
(
nx
,
y
,
nz
,
c
,
out_v®ue
), 
	gIaú
 = (TæßtïtXYZ(
ax
,y,nz,c,out_value),

15477 
	gIú
 = 
Icú
 + 0.5f*(
dx
*(-
Ipú
 + 
Inú
è+ dx*dx*(2*Ipú - 5*Icú + 4*Inú - 
Iaú
) +

15478 
dx
*dx*dx*(-
Ipú
 + 3*
Icú
 - 3*
Inú
 + 
Iaú
)),

15479 
	gI²n
 = (
Tæßt
)
©XYZ
(
px
,
ny
,
nz
,
c
,
out_v®ue
), 
	gIún
 = (TæßtïtXYZ(
x
,ny,nz,c,out_value),

15480 
	gIÂn
 = (
Tæßt
)
©XYZ
(
nx
,
ny
,
nz
,
c
,
out_v®ue
), 
	gIªn
 = (TæßtïtXYZ(
ax
,ny,nz,c,out_value),

15481 
	gIÂ
 = 
Iún
 + 0.5f*(
dx
*(-
I²n
 + 
IÂn
è+ dx*dx*(2*I²À- 5*IúÀ+ 4*IÂÀ- 
Iªn
) +

15482 
dx
*dx*dx*(-
I²n
 + 3*
Iún
 - 3*
IÂn
 + 
Iªn
)),

15483 
	gI·n
 = (
Tæßt
)
©XYZ
(
px
,
ay
,
nz
,
c
,
out_v®ue
), 
	gIÿn
 = (TæßtïtXYZ(
x
,ay,nz,c,out_value),

15484 
	gIÇn
 = (
Tæßt
)
©XYZ
(
nx
,
ay
,
nz
,
c
,
out_v®ue
), 
	gI¯n
 = (TæßtïtXYZ(
ax
,ay,nz,c,out_value),

15485 
	gIª
 = 
Iÿn
 + 0.5f*(
dx
*(-
I·n
 + 
IÇn
è+ dx*dx*(2*I·À- 5*IÿÀ+ 4*IÇÀ- 
I¯n
) +

15486 
dx
*dx*dx*(-
I·n
 + 3*
Iÿn
 - 3*
IÇn
 + 
I¯n
)),

15487 
	gIn
 = 
Iú
 + 0.5f*(
dy
*(-
I²
 + 
IÂ
è+ dy*dy*(2*I² - 5*Iú + 4*IÂ - 
Iª
) +

15488 
dy
*dy*dy*(-
I²
 + 3*
Iú
 - 3*
IÂ
 + 
Iª
)),

15489 
	gIµa
 = (
Tæßt
)
©XYZ
(
px
,
py
,
az
,
c
,
out_v®ue
), 
	gIıa
 = (TæßtïtXYZ(
x
,py,az,c,out_value),

15490 
	gIÅa
 = (
Tæßt
)
©XYZ
(
nx
,
py
,
az
,
c
,
out_v®ue
), 
	gI­a
 = (TæßtïtXYZ(
ax
,py,az,c,out_value),

15491 
	gI·
 = 
Iıa
 + 0.5f*(
dx
*(-
Iµa
 + 
IÅa
è+ dx*dx*(2*Iµ¨- 5*Iı¨+ 4*IÅ¨- 
I­a
) +

15492 
dx
*dx*dx*(-
Iµa
 + 3*
Iıa
 - 3*
IÅa
 + 
I­a
)),

15493 
	gIpÿ
 = (
Tæßt
)
©XYZ
(
px
,
y
,
az
,
c
,
out_v®ue
), 
	gIcÿ
 = (TæßtïtXYZ(
x
, y,az,c,out_value),

15494 
	gInÿ
 = (
Tæßt
)
©XYZ
(
nx
,
y
,
az
,
c
,
out_v®ue
), 
	gIaÿ
 = (TæßtïtXYZ(
ax
,y,az,c,out_value),

15495 
	gIÿ
 = 
Icÿ
 + 0.5f*(
dx
*(-
Ipÿ
 + 
Inÿ
è+ dx*dx*(2*Ipÿ - 5*Icÿ + 4*Inÿ - 
Iaÿ
) +

15496 
dx
*dx*dx*(-
Ipÿ
 + 3*
Icÿ
 - 3*
Inÿ
 + 
Iaÿ
)),

15497 
	gI²a
 = (
Tæßt
)
©XYZ
(
px
,
ny
,
az
,
c
,
out_v®ue
), 
	gIúa
 = (TæßtïtXYZ(
x
,ny,az,c,out_value),

15498 
	gIÂa
 = (
Tæßt
)
©XYZ
(
nx
,
ny
,
az
,
c
,
out_v®ue
), 
	gIªa
 = (TæßtïtXYZ(
ax
,ny,az,c,out_value),

15499 
	gIÇ
 = 
Iúa
 + 0.5f*(
dx
*(-
I²a
 + 
IÂa
è+ dx*dx*(2*I²¨- 5*Iú¨+ 4*IÂ¨- 
Iªa
) +

15500 
dx
*dx*dx*(-
I²a
 + 3*
Iúa
 - 3*
IÂa
 + 
Iªa
)),

15501 
	gI·a
 = (
Tæßt
)
©XYZ
(
px
,
ay
,
az
,
c
,
out_v®ue
), 
	gIÿa
 = (TæßtïtXYZ(
x
,ay,az,c,out_value),

15502 
	gIÇa
 = (
Tæßt
)
©XYZ
(
nx
,
ay
,
az
,
c
,
out_v®ue
), 
	gI¯a
 = (TæßtïtXYZ(
ax
,ay,az,c,out_value),

15503 
	gI¯
 = 
Iÿa
 + 0.5f*(
dx
*(-
I·a
 + 
IÇa
è+ dx*dx*(2*I·¨- 5*Iÿ¨+ 4*IÇ¨- 
I¯a
) +

15504 
dx
*dx*dx*(-
I·a
 + 3*
Iÿa
 - 3*
IÇa
 + 
I¯a
)),

15505 
	gIa
 = 
Iÿ
 + 0.5f*(
dy
*(-
I·
 + 
IÇ
è+ dy*dy*(2*I· - 5*Iÿ + 4*IÇ - 
I¯
) +

15506 
dy
*dy*dy*(-
I·
 + 3*
Iÿ
 - 3*
IÇ
 + 
I¯
));

15507  
	gIc
 + 0.5f*(
	gdz
*(-
	gIp
 + 
	gIn
è+ 
dz
*dz*(2*I°- 5*Iø+ 4*IÀ- 
	gIa
) + dz*dz*dz*(-Ip + 3*Ic - 3*In + Ia));

15515 
T
 
cubic_©XYZ_c
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
fz
, cÚ¡ 
c
, cÚ¡ T& 
out_v®ue
) const {

15516  
	gcimg
::
ty³
<
T
>::
cut
(
cubic_©XYZ
(
fx
,
fy
,
fz
,
c
,
out_v®ue
));

15527 
Tæßt
 
cubic_©XYZ
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
fz
, cÚ¡ 
c
=0) const {

15528 ià(
is_em±y
())

15529 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


15531 
cimg_š¡ªû
);

15532  
_cubic_©XYZ
(
fx
,
fy
,
fz
,
c
);

15535 
Tæßt
 
_cubic_©XYZ
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
fz
, cÚ¡ 
c
=0) const {

15537 
nfx
 = 
cimg
::
ty³
<>::
is_Çn
(
fx
)?0:cimg::
cut
(fx,0,
width
() - 1),

15538 
	gnfy
 = 
cimg
::
ty³
<>::
is_Çn
(
fy
)?0:cimg::
cut
(fy,0,
height
() - 1),

15539 
	gnfz
 = 
cimg
::
ty³
<>::
is_Çn
(
fz
)?0:cimg::
cut
(fz,0,
d•th
() - 1);

15540 cÚ¡ 
	gx
 = ()
nfx
, 
	gy
 = ()
nfy
, 
	gz
 = ()
nfz
;

15541 cÚ¡ 
	gdx
 = 
nfx
 - 
x
, 
	gdy
 = 
nfy
 - 
y
, 
	gdz
 = 
nfz
 - 
z
;

15543 
	gpx
 = 
x
 - 1<0?0:x - 1, 
	gnx
 = 
dx
>0?x + 1:x, 
	gax
 = x + 2>=
width
()?width() - 1:x + 2,

15544 
	gpy
 = 
y
 - 1<0?0:y - 1, 
	gny
 = 
dy
>0?y + 1:y, 
	gay
 = y + 2>=
height
()?height() - 1:y + 2,

15545 
	gpz
 = 
z
 - 1<0?0:z - 1, 
	gnz
 = 
dz
>0?z + 1:z, 
	gaz
 = z + 2>=
d•th
()?depth() - 1:z + 2;

15546 cÚ¡ 
Tæßt


15547 
	gIµp
 = (
Tæßt
)(*
this
)(
px
,
	gpy
,
	gpz
,
	gc
), 
	gIıp
 = (Tæßt)(*this)(
x
,py,pz,c),

15548 
	gIÅp
 = (
Tæßt
)(*
this
)(
nx
,
	gpy
,
	gpz
,
	gc
), 
	gI­p
 = (Tæßt)(*this)(
ax
,py,pz,c),

15549 
	gIµ
 = 
Iıp
 + 0.5f*(
dx
*(-
Iµp
 + 
IÅp
è+ dx*dx*(2*Iµ°- 5*Iı°+ 4*IÅ°- 
I­p
) +

15550 
dx
*dx*dx*(-
Iµp
 + 3*
Iıp
 - 3*
IÅp
 + 
I­p
)),

15551 
	gIpı
 = (
Tæßt
)(*
this
)(
px
,
	gy
,
	gpz
,
	gc
), 
	gIcı
 = (Tæßt)(*this)(
x
, y,pz,c),

15552 
	gInı
 = (
Tæßt
)(*
this
)(
nx
,
	gy
,
	gpz
,
	gc
), 
	gIaı
 = (Tæßt)(*this)(
ax
,y,pz,c),

15553 
	gIı
 = 
Icı
 + 0.5f*(
dx
*(-
Ipı
 + 
Inı
è+ dx*dx*(2*Ipı - 5*Icı + 4*Inı - 
Iaı
) +

15554 
dx
*dx*dx*(-
Ipı
 + 3*
Icı
 - 3*
Inı
 + 
Iaı
)),

15555 
	gI²p
 = (
Tæßt
)(*
this
)(
px
,
	gny
,
	gpz
,
	gc
), 
	gIúp
 = (Tæßt)(*this)(
x
,ny,pz,c),

15556 
	gIÂp
 = (
Tæßt
)(*
this
)(
nx
,
	gny
,
	gpz
,
	gc
), 
	gIªp
 = (Tæßt)(*this)(
ax
,ny,pz,c),

15557 
	gIÅ
 = 
Iúp
 + 0.5f*(
dx
*(-
I²p
 + 
IÂp
è+ dx*dx*(2*I²°- 5*Iú°+ 4*IÂ°- 
Iªp
) +

15558 
dx
*dx*dx*(-
I²p
 + 3*
Iúp
 - 3*
IÂp
 + 
Iªp
)),

15559 
	gI·p
 = (
Tæßt
)(*
this
)(
px
,
	gay
,
	gpz
,
	gc
), 
	gIÿp
 = (Tæßt)(*this)(
x
,ay,pz,c),

15560 
	gIÇp
 = (
Tæßt
)(*
this
)(
nx
,
	gay
,
	gpz
,
	gc
), 
	gI¯p
 = (Tæßt)(*this)(
ax
,ay,pz,c),

15561 
	gI­
 = 
Iÿp
 + 0.5f*(
dx
*(-
I·p
 + 
IÇp
è+ dx*dx*(2*I·°- 5*Iÿ°+ 4*IÇ°- 
I¯p
) +

15562 
dx
*dx*dx*(-
I·p
 + 3*
Iÿp
 - 3*
IÇp
 + 
I¯p
)),

15563 
	gIp
 = 
Iı
 + 0.5f*(
dy
*(-
Iµ
 + 
IÅ
è+ dy*dy*(2*Iµ - 5*Iı + 4*IÅ - 
I­
) +

15564 
dy
*dy*dy*(-
Iµ
 + 3*
Iı
 - 3*
IÅ
 + 
I­
)),

15565 
	gIµc
 = (
Tæßt
)(*
this
)(
px
,
	gpy
,
	gz
,
	gc
), 
	gIıc
 = (Tæßt)(*this)(
x
,py,z,c),

15566 
	gIÅc
 = (
Tæßt
)(*
this
)(
nx
,
	gpy
,
	gz
,
	gc
), 
	gI­c
 = (Tæßt)(*this)(
ax
,py,z,c),

15567 
	gIpc
 = 
Iıc
 + 0.5f*(
dx
*(-
Iµc
 + 
IÅc
è+ dx*dx*(2*Iµø- 5*Iıø+ 4*IÅø- 
I­c
) +

15568 
dx
*dx*dx*(-
Iµc
 + 3*
Iıc
 - 3*
IÅc
 + 
I­c
)),

15569 
	gIpcc
 = (
Tæßt
)(*
this
)(
px
,
	gy
,
	gz
,
	gc
), 
	gIccc
 = (Tæßt)(*this)(
x
, y,z,c),

15570 
	gIncc
 = (
Tæßt
)(*
this
)(
nx
,
	gy
,
	gz
,
	gc
), 
	gIacc
 = (Tæßt)(*this)(
ax
,y,z,c),

15571 
	gIcc
 = 
Iccc
 + 0.5f*(
dx
*(-
Ipcc
 + 
Incc
è+ dx*dx*(2*Ipcø- 5*Iccø+ 4*Incø- 
Iacc
) +

15572 
dx
*dx*dx*(-
Ipcc
 + 3*
Iccc
 - 3*
Incc
 + 
Iacc
)),

15573 
	gI²c
 = (
Tæßt
)(*
this
)(
px
,
	gny
,
	gz
,
	gc
), 
	gIúc
 = (Tæßt)(*this)(
x
,ny,z,c),

15574 
	gIÂc
 = (
Tæßt
)(*
this
)(
nx
,
	gny
,
	gz
,
	gc
), 
	gIªc
 = (Tæßt)(*this)(
ax
,ny,z,c),

15575 
	gInc
 = 
Iúc
 + 0.5f*(
dx
*(-
I²c
 + 
IÂc
è+ dx*dx*(2*I²ø- 5*Iúø+ 4*IÂø- 
Iªc
) +

15576 
dx
*dx*dx*(-
I²c
 + 3*
Iúc
 - 3*
IÂc
 + 
Iªc
)),

15577 
	gI·c
 = (
Tæßt
)(*
this
)(
px
,
	gay
,
	gz
,
	gc
), 
	gIÿc
 = (Tæßt)(*this)(
x
,ay,z,c),

15578 
	gIÇc
 = (
Tæßt
)(*
this
)(
nx
,
	gay
,
	gz
,
	gc
), 
	gI¯c
 = (Tæßt)(*this)(
ax
,ay,z,c),

15579 
	gIac
 = 
Iÿc
 + 0.5f*(
dx
*(-
I·c
 + 
IÇc
è+ dx*dx*(2*I·ø- 5*Iÿø+ 4*IÇø- 
I¯c
) +

15580 
dx
*dx*dx*(-
I·c
 + 3*
Iÿc
 - 3*
IÇc
 + 
I¯c
)),

15581 
	gIc
 = 
Icc
 + 0.5f*(
dy
*(-
Ipc
 + 
Inc
è+ dy*dy*(2*Ipø- 5*Icø+ 4*Inø- 
Iac
) +

15582 
dy
*dy*dy*(-
Ipc
 + 3*
Icc
 - 3*
Inc
 + 
Iac
)),

15583 
	gIµn
 = (
Tæßt
)(*
this
)(
px
,
	gpy
,
	gnz
,
	gc
), 
	gIın
 = (Tæßt)(*this)(
x
,py,nz,c),

15584 
	gIÅn
 = (
Tæßt
)(*
this
)(
nx
,
	gpy
,
	gnz
,
	gc
), 
	gI­n
 = (Tæßt)(*this)(
ax
,py,nz,c),

15585 
	gI²
 = 
Iın
 + 0.5f*(
dx
*(-
Iµn
 + 
IÅn
è+ dx*dx*(2*IµÀ- 5*IıÀ+ 4*IÅÀ- 
I­n
) +

15586 
dx
*dx*dx*(-
Iµn
 + 3*
Iın
 - 3*
IÅn
 + 
I­n
)),

15587 
	gIpú
 = (
Tæßt
)(*
this
)(
px
,
	gy
,
	gnz
,
	gc
), 
	gIcú
 = (Tæßt)(*this)(
x
, y,nz,c),

15588 
	gInú
 = (
Tæßt
)(*
this
)(
nx
,
	gy
,
	gnz
,
	gc
), 
	gIaú
 = (Tæßt)(*this)(
ax
,y,nz,c),

15589 
	gIú
 = 
Icú
 + 0.5f*(
dx
*(-
Ipú
 + 
Inú
è+ dx*dx*(2*Ipú - 5*Icú + 4*Inú - 
Iaú
) +

15590 
dx
*dx*dx*(-
Ipú
 + 3*
Icú
 - 3*
Inú
 + 
Iaú
)),

15591 
	gI²n
 = (
Tæßt
)(*
this
)(
px
,
	gny
,
	gnz
,
	gc
), 
	gIún
 = (Tæßt)(*this)(
x
,ny,nz,c),

15592 
	gIÂn
 = (
Tæßt
)(*
this
)(
nx
,
	gny
,
	gnz
,
	gc
), 
	gIªn
 = (Tæßt)(*this)(
ax
,ny,nz,c),

15593 
	gIÂ
 = 
Iún
 + 0.5f*(
dx
*(-
I²n
 + 
IÂn
è+ dx*dx*(2*I²À- 5*IúÀ+ 4*IÂÀ- 
Iªn
) +

15594 
dx
*dx*dx*(-
I²n
 + 3*
Iún
 - 3*
IÂn
 + 
Iªn
)),

15595 
	gI·n
 = (
Tæßt
)(*
this
)(
px
,
	gay
,
	gnz
,
	gc
), 
	gIÿn
 = (Tæßt)(*this)(
x
,ay,nz,c),

15596 
	gIÇn
 = (
Tæßt
)(*
this
)(
nx
,
	gay
,
	gnz
,
	gc
), 
	gI¯n
 = (Tæßt)(*this)(
ax
,ay,nz,c),

15597 
	gIª
 = 
Iÿn
 + 0.5f*(
dx
*(-
I·n
 + 
IÇn
è+ dx*dx*(2*I·À- 5*IÿÀ+ 4*IÇÀ- 
I¯n
) +

15598 
dx
*dx*dx*(-
I·n
 + 3*
Iÿn
 - 3*
IÇn
 + 
I¯n
)),

15599 
	gIn
 = 
Iú
 + 0.5f*(
dy
*(-
I²
 + 
IÂ
è+ dy*dy*(2*I² - 5*Iú + 4*IÂ - 
Iª
) +

15600 
dy
*dy*dy*(-
I²
 + 3*
Iú
 - 3*
IÂ
 + 
Iª
)),

15601 
	gIµa
 = (
Tæßt
)(*
this
)(
px
,
	gpy
,
	gaz
,
	gc
), 
	gIıa
 = (Tæßt)(*this)(
x
,py,az,c),

15602 
	gIÅa
 = (
Tæßt
)(*
this
)(
nx
,
	gpy
,
	gaz
,
	gc
), 
	gI­a
 = (Tæßt)(*this)(
ax
,py,az,c),

15603 
	gI·
 = 
Iıa
 + 0.5f*(
dx
*(-
Iµa
 + 
IÅa
è+ dx*dx*(2*Iµ¨- 5*Iı¨+ 4*IÅ¨- 
I­a
) +

15604 
dx
*dx*dx*(-
Iµa
 + 3*
Iıa
 - 3*
IÅa
 + 
I­a
)),

15605 
	gIpÿ
 = (
Tæßt
)(*
this
)(
px
,
	gy
,
	gaz
,
	gc
), 
	gIcÿ
 = (Tæßt)(*this)(
x
, y,az,c),

15606 
	gInÿ
 = (
Tæßt
)(*
this
)(
nx
,
	gy
,
	gaz
,
	gc
), 
	gIaÿ
 = (Tæßt)(*this)(
ax
,y,az,c),

15607 
	gIÿ
 = 
Icÿ
 + 0.5f*(
dx
*(-
Ipÿ
 + 
Inÿ
è+ dx*dx*(2*Ipÿ - 5*Icÿ + 4*Inÿ - 
Iaÿ
) +

15608 
dx
*dx*dx*(-
Ipÿ
 + 3*
Icÿ
 - 3*
Inÿ
 + 
Iaÿ
)),

15609 
	gI²a
 = (
Tæßt
)(*
this
)(
px
,
	gny
,
	gaz
,
	gc
), 
	gIúa
 = (Tæßt)(*this)(
x
,ny,az,c),

15610 
	gIÂa
 = (
Tæßt
)(*
this
)(
nx
,
	gny
,
	gaz
,
	gc
), 
	gIªa
 = (Tæßt)(*this)(
ax
,ny,az,c),

15611 
	gIÇ
 = 
Iúa
 + 0.5f*(
dx
*(-
I²a
 + 
IÂa
è+ dx*dx*(2*I²¨- 5*Iú¨+ 4*IÂ¨- 
Iªa
) +

15612 
dx
*dx*dx*(-
I²a
 + 3*
Iúa
 - 3*
IÂa
 + 
Iªa
)),

15613 
	gI·a
 = (
Tæßt
)(*
this
)(
px
,
	gay
,
	gaz
,
	gc
), 
	gIÿa
 = (Tæßt)(*this)(
x
,ay,az,c),

15614 
	gIÇa
 = (
Tæßt
)(*
this
)(
nx
,
	gay
,
	gaz
,
	gc
), 
	gI¯a
 = (Tæßt)(*this)(
ax
,ay,az,c),

15615 
	gI¯
 = 
Iÿa
 + 0.5f*(
dx
*(-
I·a
 + 
IÇa
è+ dx*dx*(2*I·¨- 5*Iÿ¨+ 4*IÇ¨- 
I¯a
) +

15616 
dx
*dx*dx*(-
I·a
 + 3*
Iÿa
 - 3*
IÇa
 + 
I¯a
)),

15617 
	gIa
 = 
Iÿ
 + 0.5f*(
dy
*(-
I·
 + 
IÇ
è+ dy*dy*(2*I· - 5*Iÿ + 4*IÇ - 
I¯
) +

15618 
dy
*dy*dy*(-
I·
 + 3*
Iÿ
 - 3*
IÇ
 + 
I¯
));

15619  
	gIc
 + 0.5f*(
	gdz
*(-
	gIp
 + 
	gIn
è+ 
dz
*dz*(2*I°- 5*Iø+ 4*IÀ- 
	gIa
) + dz*dz*dz*(-Ip + 3*Ic - 3*In + Ia));

15627 
T
 
cubic_©XYZ_c
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
fz
, cÚ¡ 
c
) const {

15628  
	gcimg
::
ty³
<
T
>::
cut
(
cubic_©XYZ
(
fx
,
fy
,
fz
,
c
));

15631 
T
 
_cubic_©XYZ_c
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
fz
, cÚ¡ 
c
) const {

15632  
	gcimg
::
ty³
<
T
>::
cut
(
_cubic_©XYZ
(
fx
,
fy
,
fz
,
c
));

15643 
Tæßt
 
cubic_©XYZ_p
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
fz
, cÚ¡ 
c
=0) const {

15644 ià(
is_em±y
())

15645 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


15647 
cimg_š¡ªû
);

15648  
_cubic_©XYZ_p
(
fx
,
fy
,
fz
,
c
);

15651 
Tæßt
 
_cubic_©XYZ_p
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
fz
, cÚ¡ 
c
=0) const {

15653 
nfx
 = 
cimg
::
ty³
<>::
is_Çn
(
fx
)?0:cimg::
mod
(fx,
_width
 - 0.5f),

15654 
	gnfy
 = 
cimg
::
ty³
<>::
is_Çn
(
fy
)?0:cimg::
mod
(fy,
_height
 - 0.5f),

15655 
	gnfz
 = 
cimg
::
ty³
<>::
is_Çn
(
fz
)?0:cimg::
mod
(fz,
_d•th
 - 0.5f);

15656 cÚ¡ 
	gx
 = ()
nfx
, 
	gy
 = ()
nfy
, 
	gz
 = ()
nfz
;

15657 cÚ¡ 
	gdx
 = 
nfx
 - 
x
, 
	gdy
 = 
nfy
 - 
y
, 
	gdz
 = 
nfz
 - 
z
;

15659 
	gpx
 = 
cimg
::
mod
(
x
 - 1,
width
()), 
	gnx
 = cimg::mod(x + 1,width()), 
	gax
 = cimg::mod(x + 2,width()),

15660 
	gpy
 = 
cimg
::
mod
(
y
 - 1,
height
()), 
	gny
 = cimg::mod(y + 1,height()), 
	gay
 = cimg::mod(y + 2,height()),

15661 
	gpz
 = 
cimg
::
mod
(
z
 - 1,
d•th
()), 
	gnz
 = cimg::mod(z + 1,d•th()), 
	gaz
 = cimg::mod(z + 2,depth());

15662 cÚ¡ 
Tæßt


15663 
	gIµp
 = (
Tæßt
)(*
this
)(
px
,
	gpy
,
	gpz
,
	gc
), 
	gIıp
 = (Tæßt)(*this)(
x
,py,pz,c),

15664 
	gIÅp
 = (
Tæßt
)(*
this
)(
nx
,
	gpy
,
	gpz
,
	gc
), 
	gI­p
 = (Tæßt)(*this)(
ax
,py,pz,c),

15665 
	gIµ
 = 
Iıp
 + 0.5f*(
dx
*(-
Iµp
 + 
IÅp
è+ dx*dx*(2*Iµ°- 5*Iı°+ 4*IÅ°- 
I­p
) +

15666 
dx
*dx*dx*(-
Iµp
 + 3*
Iıp
 - 3*
IÅp
 + 
I­p
)),

15667 
	gIpı
 = (
Tæßt
)(*
this
)(
px
,
	gy
,
	gpz
,
	gc
), 
	gIcı
 = (Tæßt)(*this)(
x
, y,pz,c),

15668 
	gInı
 = (
Tæßt
)(*
this
)(
nx
,
	gy
,
	gpz
,
	gc
), 
	gIaı
 = (Tæßt)(*this)(
ax
,y,pz,c),

15669 
	gIı
 = 
Icı
 + 0.5f*(
dx
*(-
Ipı
 + 
Inı
è+ dx*dx*(2*Ipı - 5*Icı + 4*Inı - 
Iaı
) +

15670 
dx
*dx*dx*(-
Ipı
 + 3*
Icı
 - 3*
Inı
 + 
Iaı
)),

15671 
	gI²p
 = (
Tæßt
)(*
this
)(
px
,
	gny
,
	gpz
,
	gc
), 
	gIúp
 = (Tæßt)(*this)(
x
,ny,pz,c),

15672 
	gIÂp
 = (
Tæßt
)(*
this
)(
nx
,
	gny
,
	gpz
,
	gc
), 
	gIªp
 = (Tæßt)(*this)(
ax
,ny,pz,c),

15673 
	gIÅ
 = 
Iúp
 + 0.5f*(
dx
*(-
I²p
 + 
IÂp
è+ dx*dx*(2*I²°- 5*Iú°+ 4*IÂ°- 
Iªp
) +

15674 
dx
*dx*dx*(-
I²p
 + 3*
Iúp
 - 3*
IÂp
 + 
Iªp
)),

15675 
	gI·p
 = (
Tæßt
)(*
this
)(
px
,
	gay
,
	gpz
,
	gc
), 
	gIÿp
 = (Tæßt)(*this)(
x
,ay,pz,c),

15676 
	gIÇp
 = (
Tæßt
)(*
this
)(
nx
,
	gay
,
	gpz
,
	gc
), 
	gI¯p
 = (Tæßt)(*this)(
ax
,ay,pz,c),

15677 
	gI­
 = 
Iÿp
 + 0.5f*(
dx
*(-
I·p
 + 
IÇp
è+ dx*dx*(2*I·°- 5*Iÿ°+ 4*IÇ°- 
I¯p
) +

15678 
dx
*dx*dx*(-
I·p
 + 3*
Iÿp
 - 3*
IÇp
 + 
I¯p
)),

15679 
	gIp
 = 
Iı
 + 0.5f*(
dy
*(-
Iµ
 + 
IÅ
è+ dy*dy*(2*Iµ - 5*Iı + 4*IÅ - 
I­
) +

15680 
dy
*dy*dy*(-
Iµ
 + 3*
Iı
 - 3*
IÅ
 + 
I­
)),

15681 
	gIµc
 = (
Tæßt
)(*
this
)(
px
,
	gpy
,
	gz
,
	gc
), 
	gIıc
 = (Tæßt)(*this)(
x
,py,z,c),

15682 
	gIÅc
 = (
Tæßt
)(*
this
)(
nx
,
	gpy
,
	gz
,
	gc
), 
	gI­c
 = (Tæßt)(*this)(
ax
,py,z,c),

15683 
	gIpc
 = 
Iıc
 + 0.5f*(
dx
*(-
Iµc
 + 
IÅc
è+ dx*dx*(2*Iµø- 5*Iıø+ 4*IÅø- 
I­c
) +

15684 
dx
*dx*dx*(-
Iµc
 + 3*
Iıc
 - 3*
IÅc
 + 
I­c
)),

15685 
	gIpcc
 = (
Tæßt
)(*
this
)(
px
,
	gy
,
	gz
,
	gc
), 
	gIccc
 = (Tæßt)(*this)(
x
, y,z,c),

15686 
	gIncc
 = (
Tæßt
)(*
this
)(
nx
,
	gy
,
	gz
,
	gc
), 
	gIacc
 = (Tæßt)(*this)(
ax
,y,z,c),

15687 
	gIcc
 = 
Iccc
 + 0.5f*(
dx
*(-
Ipcc
 + 
Incc
è+ dx*dx*(2*Ipcø- 5*Iccø+ 4*Incø- 
Iacc
) +

15688 
dx
*dx*dx*(-
Ipcc
 + 3*
Iccc
 - 3*
Incc
 + 
Iacc
)),

15689 
	gI²c
 = (
Tæßt
)(*
this
)(
px
,
	gny
,
	gz
,
	gc
), 
	gIúc
 = (Tæßt)(*this)(
x
,ny,z,c),

15690 
	gIÂc
 = (
Tæßt
)(*
this
)(
nx
,
	gny
,
	gz
,
	gc
), 
	gIªc
 = (Tæßt)(*this)(
ax
,ny,z,c),

15691 
	gInc
 = 
Iúc
 + 0.5f*(
dx
*(-
I²c
 + 
IÂc
è+ dx*dx*(2*I²ø- 5*Iúø+ 4*IÂø- 
Iªc
) +

15692 
dx
*dx*dx*(-
I²c
 + 3*
Iúc
 - 3*
IÂc
 + 
Iªc
)),

15693 
	gI·c
 = (
Tæßt
)(*
this
)(
px
,
	gay
,
	gz
,
	gc
), 
	gIÿc
 = (Tæßt)(*this)(
x
,ay,z,c),

15694 
	gIÇc
 = (
Tæßt
)(*
this
)(
nx
,
	gay
,
	gz
,
	gc
), 
	gI¯c
 = (Tæßt)(*this)(
ax
,ay,z,c),

15695 
	gIac
 = 
Iÿc
 + 0.5f*(
dx
*(-
I·c
 + 
IÇc
è+ dx*dx*(2*I·ø- 5*Iÿø+ 4*IÇø- 
I¯c
) +

15696 
dx
*dx*dx*(-
I·c
 + 3*
Iÿc
 - 3*
IÇc
 + 
I¯c
)),

15697 
	gIc
 = 
Icc
 + 0.5f*(
dy
*(-
Ipc
 + 
Inc
è+ dy*dy*(2*Ipø- 5*Icø+ 4*Inø- 
Iac
) +

15698 
dy
*dy*dy*(-
Ipc
 + 3*
Icc
 - 3*
Inc
 + 
Iac
)),

15699 
	gIµn
 = (
Tæßt
)(*
this
)(
px
,
	gpy
,
	gnz
,
	gc
), 
	gIın
 = (Tæßt)(*this)(
x
,py,nz,c),

15700 
	gIÅn
 = (
Tæßt
)(*
this
)(
nx
,
	gpy
,
	gnz
,
	gc
), 
	gI­n
 = (Tæßt)(*this)(
ax
,py,nz,c),

15701 
	gI²
 = 
Iın
 + 0.5f*(
dx
*(-
Iµn
 + 
IÅn
è+ dx*dx*(2*IµÀ- 5*IıÀ+ 4*IÅÀ- 
I­n
) +

15702 
dx
*dx*dx*(-
Iµn
 + 3*
Iın
 - 3*
IÅn
 + 
I­n
)),

15703 
	gIpú
 = (
Tæßt
)(*
this
)(
px
,
	gy
,
	gnz
,
	gc
), 
	gIcú
 = (Tæßt)(*this)(
x
, y,nz,c),

15704 
	gInú
 = (
Tæßt
)(*
this
)(
nx
,
	gy
,
	gnz
,
	gc
), 
	gIaú
 = (Tæßt)(*this)(
ax
,y,nz,c),

15705 
	gIú
 = 
Icú
 + 0.5f*(
dx
*(-
Ipú
 + 
Inú
è+ dx*dx*(2*Ipú - 5*Icú + 4*Inú - 
Iaú
) +

15706 
dx
*dx*dx*(-
Ipú
 + 3*
Icú
 - 3*
Inú
 + 
Iaú
)),

15707 
	gI²n
 = (
Tæßt
)(*
this
)(
px
,
	gny
,
	gnz
,
	gc
), 
	gIún
 = (Tæßt)(*this)(
x
,ny,nz,c),

15708 
	gIÂn
 = (
Tæßt
)(*
this
)(
nx
,
	gny
,
	gnz
,
	gc
), 
	gIªn
 = (Tæßt)(*this)(
ax
,ny,nz,c),

15709 
	gIÂ
 = 
Iún
 + 0.5f*(
dx
*(-
I²n
 + 
IÂn
è+ dx*dx*(2*I²À- 5*IúÀ+ 4*IÂÀ- 
Iªn
) +

15710 
dx
*dx*dx*(-
I²n
 + 3*
Iún
 - 3*
IÂn
 + 
Iªn
)),

15711 
	gI·n
 = (
Tæßt
)(*
this
)(
px
,
	gay
,
	gnz
,
	gc
), 
	gIÿn
 = (Tæßt)(*this)(
x
,ay,nz,c),

15712 
	gIÇn
 = (
Tæßt
)(*
this
)(
nx
,
	gay
,
	gnz
,
	gc
), 
	gI¯n
 = (Tæßt)(*this)(
ax
,ay,nz,c),

15713 
	gIª
 = 
Iÿn
 + 0.5f*(
dx
*(-
I·n
 + 
IÇn
è+ dx*dx*(2*I·À- 5*IÿÀ+ 4*IÇÀ- 
I¯n
) +

15714 
dx
*dx*dx*(-
I·n
 + 3*
Iÿn
 - 3*
IÇn
 + 
I¯n
)),

15715 
	gIn
 = 
Iú
 + 0.5f*(
dy
*(-
I²
 + 
IÂ
è+ dy*dy*(2*I² - 5*Iú + 4*IÂ - 
Iª
) +

15716 
dy
*dy*dy*(-
I²
 + 3*
Iú
 - 3*
IÂ
 + 
Iª
)),

15717 
	gIµa
 = (
Tæßt
)(*
this
)(
px
,
	gpy
,
	gaz
,
	gc
), 
	gIıa
 = (Tæßt)(*this)(
x
,py,az,c),

15718 
	gIÅa
 = (
Tæßt
)(*
this
)(
nx
,
	gpy
,
	gaz
,
	gc
), 
	gI­a
 = (Tæßt)(*this)(
ax
,py,az,c),

15719 
	gI·
 = 
Iıa
 + 0.5f*(
dx
*(-
Iµa
 + 
IÅa
è+ dx*dx*(2*Iµ¨- 5*Iı¨+ 4*IÅ¨- 
I­a
) +

15720 
dx
*dx*dx*(-
Iµa
 + 3*
Iıa
 - 3*
IÅa
 + 
I­a
)),

15721 
	gIpÿ
 = (
Tæßt
)(*
this
)(
px
,
	gy
,
	gaz
,
	gc
), 
	gIcÿ
 = (Tæßt)(*this)(
x
, y,az,c),

15722 
	gInÿ
 = (
Tæßt
)(*
this
)(
nx
,
	gy
,
	gaz
,
	gc
), 
	gIaÿ
 = (Tæßt)(*this)(
ax
,y,az,c),

15723 
	gIÿ
 = 
Icÿ
 + 0.5f*(
dx
*(-
Ipÿ
 + 
Inÿ
è+ dx*dx*(2*Ipÿ - 5*Icÿ + 4*Inÿ - 
Iaÿ
) +

15724 
dx
*dx*dx*(-
Ipÿ
 + 3*
Icÿ
 - 3*
Inÿ
 + 
Iaÿ
)),

15725 
	gI²a
 = (
Tæßt
)(*
this
)(
px
,
	gny
,
	gaz
,
	gc
), 
	gIúa
 = (Tæßt)(*this)(
x
,ny,az,c),

15726 
	gIÂa
 = (
Tæßt
)(*
this
)(
nx
,
	gny
,
	gaz
,
	gc
), 
	gIªa
 = (Tæßt)(*this)(
ax
,ny,az,c),

15727 
	gIÇ
 = 
Iúa
 + 0.5f*(
dx
*(-
I²a
 + 
IÂa
è+ dx*dx*(2*I²¨- 5*Iú¨+ 4*IÂ¨- 
Iªa
) +

15728 
dx
*dx*dx*(-
I²a
 + 3*
Iúa
 - 3*
IÂa
 + 
Iªa
)),

15729 
	gI·a
 = (
Tæßt
)(*
this
)(
px
,
	gay
,
	gaz
,
	gc
), 
	gIÿa
 = (Tæßt)(*this)(
x
,ay,az,c),

15730 
	gIÇa
 = (
Tæßt
)(*
this
)(
nx
,
	gay
,
	gaz
,
	gc
), 
	gI¯a
 = (Tæßt)(*this)(
ax
,ay,az,c),

15731 
	gI¯
 = 
Iÿa
 + 0.5f*(
dx
*(-
I·a
 + 
IÇa
è+ dx*dx*(2*I·¨- 5*Iÿ¨+ 4*IÇ¨- 
I¯a
) +

15732 
dx
*dx*dx*(-
I·a
 + 3*
Iÿa
 - 3*
IÇa
 + 
I¯a
)),

15733 
	gIa
 = 
Iÿ
 + 0.5f*(
dy
*(-
I·
 + 
IÇ
è+ dy*dy*(2*I· - 5*Iÿ + 4*IÇ - 
I¯
) +

15734 
dy
*dy*dy*(-
I·
 + 3*
Iÿ
 - 3*
IÇ
 + 
I¯
));

15735  
	gIc
 + 0.5f*(
	gdz
*(-
	gIp
 + 
	gIn
è+ 
dz
*dz*(2*I°- 5*Iø+ 4*IÀ- 
	gIa
) + dz*dz*dz*(-Ip + 3*Ic - 3*In + Ia));

15738 
T
 
cubic_©XYZ_pc
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
fz
, cÚ¡ 
c
) const {

15739  
	gcimg
::
ty³
<
T
>::
cut
(
cubic_©XYZ_p
(
fx
,
fy
,
fz
,
c
));

15742 
T
 
_cubic_©XYZ_pc
(cÚ¡ 
fx
, cÚ¡ 
fy
, cÚ¡ 
fz
, cÚ¡ 
c
) const {

15743  
	gcimg
::
ty³
<
T
>::
cut
(
_cubic_©XYZ_p
(
fx
,
fy
,
fz
,
c
));

15761 
	gCImg
<
	gT
>& 
£t_lš—r_©X
(cÚ¡ 
T
& 
v®ue
, cÚ¡ 
fx
, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0,

15762 cÚ¡ 
boŞ
 
is_added
=
çl£
) {

15764 
x
 = ()
fx
 - (fx>=0?0:1), 
	gnx
 = x + 1;

15766 
	gdx
 = 
fx
 - 
x
;

15767 ià(
	gy
>=0 && 
y
<
height
(è&& 
z
>=0 && z<
d•th
(è&& 
c
>=0 && c<
¥eùrum
()) {

15768 ià(
x
>=0 && x<
width
()) {

15769 cÚ¡ 
w1
 = 1 - 
dx
, 
	gw2
 = 
is_added
?1:(1 - w1);

15770 (*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
èğ(
T
)(
w1
*
v®ue
 + 
w2
*(*
this
)(
x
,y,z,c));

15772 ià(
	gnx
>=0 && 
nx
<
width
()) {

15773 cÚ¡ 
w1
 = 
dx
, 
	gw2
 = 
is_added
?1:(1 - w1);

15774 (*
	gthis
)(
	gnx
,
	gy
,
	gz
,
	gc
èğ(
T
)(
w1
*
v®ue
 + 
w2
*(*
this
)(
nx
,y,z,c));

15777  *
	gthis
;

15785 
	gCImg
<
	gT
>& 
£t_lš—r_©XY
(cÚ¡ 
T
& 
v®ue
, cÚ¡ 
fx
, cÚ¡ 
fy
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0,

15786 cÚ¡ 
boŞ
 
is_added
=
çl£
) {

15788 
x
 = ()
fx
 - (fx>=0?0:1), 
	gnx
 = x + 1,

15789 
	gy
 = ()
fy
 - (fy>=0?0:1), 
	gny
 = 
y
 + 1;

15791 
	gdx
 = 
fx
 - 
x
,

15792 
	gdy
 = 
fy
 - 
y
;

15793 ià(
	gz
>=0 && 
z
<
d•th
(è&& 
c
>=0 && c<
¥eùrum
()) {

15794 ià(
y
>=0 && y<
height
()) {

15795 ià(
x
>=0 && x<
width
()) {

15796 cÚ¡ 
w1
 = (1 - 
dx
)*(1 - 
dy
), 
	gw2
 = 
is_added
?1:(1 - w1);

15797 (*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
èğ(
T
)(
w1
*
v®ue
 + 
w2
*(*
this
)(
x
,y,z,c));

15799 ià(
	gnx
>=0 && 
nx
<
width
()) {

15800 cÚ¡ 
w1
 = 
dx
*(1 - 
dy
), 
	gw2
 = 
is_added
?1:(1 - w1);

15801 (*
	gthis
)(
	gnx
,
	gy
,
	gz
,
	gc
èğ(
T
)(
w1
*
v®ue
 + 
w2
*(*
this
)(
nx
,y,z,c));

15804 ià(
	gny
>=0 && 
ny
<
height
()) {

15805 ià(
x
>=0 && x<
width
()) {

15806 cÚ¡ 
w1
 = (1 - 
dx
)*
dy
, 
	gw2
 = 
is_added
?1:(1 - w1);

15807 (*
	gthis
)(
	gx
,
	gny
,
	gz
,
	gc
èğ(
T
)(
w1
*
v®ue
 + 
w2
*(*
this
)(
x
,ny,z,c));

15809 ià(
	gnx
>=0 && 
nx
<
width
()) {

15810 cÚ¡ 
w1
 = 
dx
*
dy
, 
	gw2
 = 
is_added
?1:(1 - w1);

15811 (*
	gthis
)(
	gnx
,
	gny
,
	gz
,
	gc
èğ(
T
)(
w1
*
v®ue
 + 
w2
*(*
this
)(
nx
,ny,z,c));

15815  *
	gthis
;

15823 
	gCImg
<
	gT
>& 
£t_lš—r_©XYZ
(cÚ¡ 
T
& 
v®ue
, cÚ¡ 
fx
, cÚ¡ 
fy
=0, cÚ¡ 
fz
=0, cÚ¡ 
c
=0,

15824 cÚ¡ 
boŞ
 
is_added
=
çl£
) {

15826 
x
 = ()
fx
 - (fx>=0?0:1), 
	gnx
 = x + 1,

15827 
	gy
 = ()
fy
 - (fy>=0?0:1), 
	gny
 = 
y
 + 1,

15828 
	gz
 = ()
fz
 - (fz>=0?0:1), 
	gnz
 = 
z
 + 1;

15830 
	gdx
 = 
fx
 - 
x
,

15831 
	gdy
 = 
fy
 - 
y
,

15832 
	gdz
 = 
fz
 - 
z
;

15833 ià(
	gc
>=0 && 
c
<
¥eùrum
()) {

15834 ià(
z
>=0 && z<
d•th
()) {

15835 ià(
y
>=0 && y<
height
()) {

15836 ià(
x
>=0 && x<
width
()) {

15837 cÚ¡ 
w1
 = (1 - 
dx
)*(1 - 
dy
)*(1 - 
dz
), 
	gw2
 = 
is_added
?1:(1 - w1);

15838 (*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
èğ(
T
)(
w1
*
v®ue
 + 
w2
*(*
this
)(
x
,y,z,c));

15840 ià(
	gnx
>=0 && 
nx
<
width
()) {

15841 cÚ¡ 
w1
 = 
dx
*(1 - 
dy
)*(1 - 
dz
), 
	gw2
 = 
is_added
?1:(1 - w1);

15842 (*
	gthis
)(
	gnx
,
	gy
,
	gz
,
	gc
èğ(
T
)(
w1
*
v®ue
 + 
w2
*(*
this
)(
nx
,y,z,c));

15845 ià(
	gny
>=0 && 
ny
<
height
()) {

15846 ià(
x
>=0 && x<
width
()) {

15847 cÚ¡ 
w1
 = (1 - 
dx
)*
dy
*(1 - 
dz
), 
	gw2
 = 
is_added
?1:(1 - w1);

15848 (*
	gthis
)(
	gx
,
	gny
,
	gz
,
	gc
èğ(
T
)(
w1
*
v®ue
 + 
w2
*(*
this
)(
x
,ny,z,c));

15850 ià(
	gnx
>=0 && 
nx
<
width
()) {

15851 cÚ¡ 
w1
 = 
dx
*
dy
*(1 - 
dz
), 
	gw2
 = 
is_added
?1:(1 - w1);

15852 (*
	gthis
)(
	gnx
,
	gny
,
	gz
,
	gc
èğ(
T
)(
w1
*
v®ue
 + 
w2
*(*
this
)(
nx
,ny,z,c));

15856 ià(
	gnz
>=0 && 
nz
<
d•th
()) {

15857 ià(
y
>=0 && y<
height
()) {

15858 ià(
x
>=0 && x<
width
()) {

15859 cÚ¡ 
w1
 = (1 - 
dx
)*(1 - 
dy
)*
dz
, 
	gw2
 = 
is_added
?1:(1 - w1);

15860 (*
	gthis
)(
	gx
,
	gy
,
	gnz
,
	gc
èğ(
T
)(
w1
*
v®ue
 + 
w2
*(*
this
)(
x
,y,nz,c));

15862 ià(
	gnx
>=0 && 
nx
<
width
()) {

15863 cÚ¡ 
w1
 = 
dx
*(1 - 
dy
)*
dz
, 
	gw2
 = 
is_added
?1:(1 - w1);

15864 (*
	gthis
)(
	gnx
,
	gy
,
	gnz
,
	gc
èğ(
T
)(
w1
*
v®ue
 + 
w2
*(*
this
)(
nx
,y,nz,c));

15867 ià(
	gny
>=0 && 
ny
<
height
()) {

15868 ià(
x
>=0 && x<
width
()) {

15869 cÚ¡ 
w1
 = (1 - 
dx
)*
dy
*
dz
, 
	gw2
 = 
is_added
?1:(1 - w1);

15870 (*
	gthis
)(
	gx
,
	gny
,
	gnz
,
	gc
èğ(
T
)(
w1
*
v®ue
 + 
w2
*(*
this
)(
x
,ny,nz,c));

15872 ià(
	gnx
>=0 && 
nx
<
width
()) {

15873 cÚ¡ 
w1
 = 
dx
*
dy
*
dz
, 
	gw2
 = 
is_added
?1:(1 - w1);

15874 (*
	gthis
)(
	gnx
,
	gny
,
	gnz
,
	gc
èğ(
T
)(
w1
*
v®ue
 + 
w2
*(*
this
)(
nx
,ny,nz,c));

15879  *
	gthis
;

15897 
	gCImg
<
	gch¬T
> 
v®ue_¡ršg
(cÚ¡ 
£·¿tÜ
=',', cÚ¡ 
max_size
=0,

15898 cÚ¡ *cÚ¡ 
fÜm©
=0) const {

15899 ià(
is_em±y
(è|| 
max_size
==1è 
CImg
<
ch¬T
>(1,1,1,1,0);

15900 
	gCImgLi¡
<
	gch¬T
> 
	g™ems
;

15901 
	gCImg
<
	gch¬T
> 
s_™em
(256); *
	gs_™em
 = 0;

15902 cÚ¡ 
T
 *
	g±rs
 = 
_d©a
;

15903 
	g¡ršg_size
 = 0;

15904 cÚ¡ *cÚ¡ 
	g_fÜm©
 = 
fÜm©
?fÜm©:
cimg
::
ty³
<
T
>::format();

15905 
ulÚgT
 
	goff
 = 0, 
	gsiz
 = 
size
(); off<siz && (!
	gmax_size
 || 
	g¡ršg_size
<max_size); ++off) {

15906 cÚ¡ 
	g´š‹d_size
 = 1U + 
cimg_¢´štf
(
s_™em
,s_™em.
_width
,
_fÜm©
,

15907 
cimg
::
ty³
<
T
>::
fÜm©
(*(
±rs
++)));

15908 
	gCImg
<
	gch¬T
> 
™em
(
s_™em
.
_d©a
,
´š‹d_size
);

15909 
	g™em
[
´š‹d_size
 - 1] = 
£·¿tÜ
;

15910 
	g™em
.
move_to
(
™ems
);

15911 ià(
	gmax_size
è
	g¡ršg_size
+=
´š‹d_size
;

15913 
	gCImg
<
	gch¬T
> 
	g»s
;

15914 (
	g™ems
>'x').
move_to
(
»s
);

15915 ià(
	gmax_size
 && 
	g»s
.
	g_width
>=
max_size
è
»s
.
üİ
(0,max_size - 1);

15916 
	g»s
.
back
() = 0;

15917  
	g»s
;

15935 
boŞ
 
is_sh¬ed
() const {

15936  
	g_is_sh¬ed
;

15944 
boŞ
 
is_em±y
() const {

15945  !(
	g_d©a
 && 
	g_width
 && 
	g_height
 && 
	g_d•th
 && 
	g_¥eùrum
);

15952 
boŞ
 
is_šf
() const {

15953 ià(
	gcimg
::
ty³
<
T
>::
is_æßt
()è
cimg_fÜ
(*
this
,
p
,Tèià(cimg::ty³<T>::
is_šf
(()*p)è 
Œue
;

15954  
	gçl£
;

15961 
boŞ
 
is_Çn
() const {

15962 ià(
	gcimg
::
ty³
<
T
>::
is_æßt
()è
cimg_fÜ
(*
this
,
p
,Tèià(cimg::ty³<T>::
is_Çn
(()*p)è 
Œue
;

15963  
	gçl£
;

15967 
boŞ
 
is_§meX
(cÚ¡ 
size_x
) const {

15968  
	g_width
==
size_x
;

15972 
	g‹m¶©e
<
ty³Çme
 
	gt
>

15973 
boŞ
 
is_§meX
(cÚ¡ 
CImg
<
t
>& 
img
) const {

15974  
is_§meX
(
img
.
_width
);

15978 
boŞ
 
is_§meX
(cÚ¡ 
CImgDi¥Ïy
& 
di¥
) const {

15979  
is_§meX
(
di¥
.
_width
);

15983 
boŞ
 
is_§meY
(cÚ¡ 
size_y
) const {

15984  
	g_height
==
size_y
;

15988 
	g‹m¶©e
<
ty³Çme
 
	gt
>

15989 
boŞ
 
is_§meY
(cÚ¡ 
CImg
<
t
>& 
img
) const {

15990  
is_§meY
(
img
.
_height
);

15994 
boŞ
 
is_§meY
(cÚ¡ 
CImgDi¥Ïy
& 
di¥
) const {

15995  
is_§meY
(
di¥
.
_height
);

15999 
boŞ
 
is_§meZ
(cÚ¡ 
size_z
) const {

16000  
	g_d•th
==
size_z
;

16004 
	g‹m¶©e
<
ty³Çme
 
	gt
>

16005 
boŞ
 
is_§meZ
(cÚ¡ 
CImg
<
t
>& 
img
) const {

16006  
is_§meZ
(
img
.
_d•th
);

16010 
boŞ
 
is_§meC
(cÚ¡ 
size_c
) const {

16011  
	g_¥eùrum
==
size_c
;

16015 
	g‹m¶©e
<
ty³Çme
 
	gt
>

16016 
boŞ
 
is_§meC
(cÚ¡ 
CImg
<
t
>& 
img
) const {

16017  
is_§meC
(
img
.
_¥eùrum
);

16024 
boŞ
 
is_§meXY
(cÚ¡ 
size_x
, cÚ¡ 
size_y
) const {

16025  
	g_width
==
size_x
 && 
_height
==
size_y
;

16032 
	g‹m¶©e
<
ty³Çme
 
	gt
>

16033 
boŞ
 
is_§meXY
(cÚ¡ 
CImg
<
t
>& 
img
) const {

16034  
is_§meXY
(
img
.
_width
,img.
_height
);

16041 
boŞ
 
is_§meXY
(cÚ¡ 
CImgDi¥Ïy
& 
di¥
) const {

16042  
is_§meXY
(
di¥
.
_width
,di¥.
_height
);

16049 
boŞ
 
is_§meXZ
(cÚ¡ 
size_x
, cÚ¡ 
size_z
) const {

16050  
	g_width
==
size_x
 && 
_d•th
==
size_z
;

16057 
	g‹m¶©e
<
ty³Çme
 
	gt
>

16058 
boŞ
 
is_§meXZ
(cÚ¡ 
CImg
<
t
>& 
img
) const {

16059  
is_§meXZ
(
img
.
_width
,img.
_d•th
);

16066 
boŞ
 
is_§meXC
(cÚ¡ 
size_x
, cÚ¡ 
size_c
) const {

16067  
	g_width
==
size_x
 && 
_¥eùrum
==
size_c
;

16074 
	g‹m¶©e
<
ty³Çme
 
	gt
>

16075 
boŞ
 
is_§meXC
(cÚ¡ 
CImg
<
t
>& 
img
) const {

16076  
is_§meXC
(
img
.
_width
,img.
_¥eùrum
);

16083 
boŞ
 
is_§meYZ
(cÚ¡ 
size_y
, cÚ¡ 
size_z
) const {

16084  
	g_height
==
size_y
 && 
_d•th
==
size_z
;

16091 
	g‹m¶©e
<
ty³Çme
 
	gt
>

16092 
boŞ
 
is_§meYZ
(cÚ¡ 
CImg
<
t
>& 
img
) const {

16093  
is_§meYZ
(
img
.
_height
,img.
_d•th
);

16100 
boŞ
 
is_§meYC
(cÚ¡ 
size_y
, cÚ¡ 
size_c
) const {

16101  
	g_height
==
size_y
 && 
_¥eùrum
==
size_c
;

16108 
	g‹m¶©e
<
ty³Çme
 
	gt
>

16109 
boŞ
 
is_§meYC
(cÚ¡ 
CImg
<
t
>& 
img
) const {

16110  
is_§meYC
(
img
.
_height
,img.
_¥eùrum
);

16117 
boŞ
 
is_§meZC
(cÚ¡ 
size_z
, cÚ¡ 
size_c
) const {

16118  
	g_d•th
==
size_z
 && 
_¥eùrum
==
size_c
;

16125 
	g‹m¶©e
<
ty³Çme
 
	gt
>

16126 
boŞ
 
is_§meZC
(cÚ¡ 
CImg
<
t
>& 
img
) const {

16127  
is_§meZC
(
img
.
_d•th
,img.
_¥eùrum
);

16134 
boŞ
 
is_§meXYZ
(cÚ¡ 
size_x
, cÚ¡ 
size_y
, cÚ¡ 
size_z
) const {

16135  
is_§meXY
(
size_x
,
size_y
è&& 
	g_d•th
==
size_z
;

16142 
	g‹m¶©e
<
ty³Çme
 
	gt
>

16143 
boŞ
 
is_§meXYZ
(cÚ¡ 
CImg
<
t
>& 
img
) const {

16144  
is_§meXYZ
(
img
.
_width
,img.
_height
,img.
_d•th
);

16151 
boŞ
 
is_§meXYC
(cÚ¡ 
size_x
, cÚ¡ 
size_y
, cÚ¡ 
size_c
) const {

16152  
is_§meXY
(
size_x
,
size_y
è&& 
	g_¥eùrum
==
size_c
;

16159 
	g‹m¶©e
<
ty³Çme
 
	gt
>

16160 
boŞ
 
is_§meXYC
(cÚ¡ 
CImg
<
t
>& 
img
) const {

16161  
is_§meXYC
(
img
.
_width
,img.
_height
,img.
_¥eùrum
);

16168 
boŞ
 
is_§meXZC
(cÚ¡ 
size_x
, cÚ¡ 
size_z
, cÚ¡ 
size_c
) const {

16169  
is_§meXZ
(
size_x
,
size_z
è&& 
	g_¥eùrum
==
size_c
;

16176 
	g‹m¶©e
<
ty³Çme
 
	gt
>

16177 
boŞ
 
is_§meXZC
(cÚ¡ 
CImg
<
t
>& 
img
) const {

16178  
is_§meXZC
(
img
.
_width
,img.
_d•th
,img.
_¥eùrum
);

16185 
boŞ
 
is_§meYZC
(cÚ¡ 
size_y
, cÚ¡ 
size_z
, cÚ¡ 
size_c
) const {

16186  
is_§meYZ
(
size_y
,
size_z
è&& 
	g_¥eùrum
==
size_c
;

16193 
	g‹m¶©e
<
ty³Çme
 
	gt
>

16194 
boŞ
 
is_§meYZC
(cÚ¡ 
CImg
<
t
>& 
img
) const {

16195  
is_§meYZC
(
img
.
_height
,img.
_d•th
,img.
_¥eùrum
);

16203 
boŞ
 
is_§meXYZC
(cÚ¡ 
size_x
, cÚ¡ 
size_y
,

16204 cÚ¡ 
size_z
, cÚ¡ 
size_c
) const {

16205  
is_§meXYZ
(
size_x
,
size_y
,
size_z
è&& 
	g_¥eùrum
==
size_c
;

16212 
	g‹m¶©e
<
ty³Çme
 
	gt
>

16213 
boŞ
 
is_§meXYZC
(cÚ¡ 
CImg
<
t
>& 
img
) const {

16214  
is_§meXYZC
(
img
.
_width
,img.
_height
,img.
_d•th
,img.
_¥eùrum
);

16233 
boŞ
 
cÚšsXYZC
(cÚ¡ 
x
, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

16234  !
is_em±y
(è&& 
x
>=0 && x<
width
(è&& 
y
>=0 && y<
height
(è&& 
z
>=0 && z<
d•th
(è&& 
c
>=0 && c<
¥eùrum
();

16258 
	g‹m¶©e
<
ty³Çme
 
	gt
>

16259 
boŞ
 
cÚšs
(cÚ¡ 
T
& 
pix–
, 
t
& 
x
,& 
y
,& 
z
,& 
c
) const {

16260 cÚ¡ 
ulÚgT
 
	gwh
 = (ulÚgT)
_width
*
_height
, 
	gwhd
 = 
wh
*
_d•th
, 
	gsiz
 = 
whd
*
_¥eùrum
;

16261 cÚ¡ 
T
 *cÚ¡ 
	gµix–
 = &
pix–
;

16262 ià(
is_em±y
(è|| 
	gµix–
<
	g_d©a
 ||…pix–>=
_d©a
 + 
siz
è 
çl£
;

16263 
ulÚgT
 
	goff
 = (ulÚgT)(
µix–
 - 
_d©a
);

16264 cÚ¡ 
ulÚgT
 
	gnc
 = 
off
/
whd
;

16265 
	goff
%=
whd
;

16266 cÚ¡ 
ulÚgT
 
	gnz
 = 
off
/
wh
;

16267 
	goff
%=
wh
;

16268 cÚ¡ 
ulÚgT
 
	gny
 = 
off
/
_width
, 
	gnx
 = off%_width;

16269 
	gx
 = (
t
)
nx
; 
	gy
 = (t)
ny
; 
	gz
 = (t)
nz
; 
	gc
 = (t)
nc
;

16270  
	gŒue
;

16277 
	g‹m¶©e
<
ty³Çme
 
	gt
>

16278 
boŞ
 
cÚšs
(cÚ¡ 
T
& 
pix–
, 
t
& 
x
,& 
y
,& 
z
) const {

16279 cÚ¡ 
ulÚgT
 
	gwh
 = (ulÚgT)
_width
*
_height
, 
	gwhd
 = 
wh
*
_d•th
, 
	gsiz
 = 
whd
*
_¥eùrum
;

16280 cÚ¡ 
T
 *cÚ¡ 
	gµix–
 = &
pix–
;

16281 ià(
is_em±y
(è|| 
	gµix–
<
	g_d©a
 ||…pix–>=
_d©a
 + 
siz
è 
çl£
;

16282 
ulÚgT
 
	goff
 = ((ulÚgT)(
µix–
 - 
_d©a
))%
whd
;

16283 cÚ¡ 
ulÚgT
 
	gnz
 = 
off
/
wh
;

16284 
	goff
%=
wh
;

16285 cÚ¡ 
ulÚgT
 
	gny
 = 
off
/
_width
, 
	gnx
 = off%_width;

16286 
	gx
 = (
t
)
nx
; 
	gy
 = (t)
ny
; 
	gz
 = (t)
nz
;

16287  
	gŒue
;

16294 
	g‹m¶©e
<
ty³Çme
 
	gt
>

16295 
boŞ
 
cÚšs
(cÚ¡ 
T
& 
pix–
, 
t
& 
x
,& 
y
) const {

16296 cÚ¡ 
ulÚgT
 
	gwh
 = (ulÚgT)
_width
*
_height
, 
	gsiz
 = 
wh
*
_d•th
*
_¥eùrum
;

16297 cÚ¡ 
T
 *cÚ¡ 
	gµix–
 = &
pix–
;

16298 ià(
is_em±y
(è|| 
	gµix–
<
	g_d©a
 ||…pix–>=
_d©a
 + 
siz
è 
çl£
;

16299 
ulÚgT
 
	goff
 = (()(
µix–
 - 
_d©a
))%
wh
;

16300 cÚ¡ 
ulÚgT
 
	gny
 = 
off
/
_width
, 
	gnx
 = off%_width;

16301 
	gx
 = (
t
)
nx
; 
	gy
 = (t)
ny
;

16302  
	gŒue
;

16309 
	g‹m¶©e
<
ty³Çme
 
	gt
>

16310 
boŞ
 
cÚšs
(cÚ¡ 
T
& 
pix–
, 
t
& 
x
) const {

16311 cÚ¡ 
T
 *cÚ¡ 
	gµix–
 = &
pix–
;

16312 ià(
is_em±y
(è|| 
	gµix–
<
	g_d©a
 ||…pix–>=
_d©a
 + 
size
()è 
çl£
;

16313 
	gx
 = (
t
)(((
ulÚgT
)(
µix–
 - 
_d©a
))%
_width
);

16314  
	gŒue
;

16321 
boŞ
 
cÚšs
(cÚ¡ 
T
& 
pix–
) const {

16322 cÚ¡ 
T
 *cÚ¡ 
	gµix–
 = &
pix–
;

16323  !
is_em±y
(è&& 
	gµix–
>=
_d©a
 && 
µix–
<_d©¨+ 
size
();

16345 
	g‹m¶©e
<
ty³Çme
 
	gt
>

16346 
boŞ
 
is_ov”Ïµed
(cÚ¡ 
CImg
<
t
>& 
img
) const {

16347 cÚ¡ 
ulÚgT
 
	gcsiz
 = 
size
(), 
	gisiz
 = 
img
.size();

16348  !((*)(
	g_d©a
 + 
	gcsiz
)<=(*)
img
.
_d©a
 || (*)_d©a>=(*)(img._d©¨+ 
isiz
));

16365 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtc
,y³Çm
	gto
>

16366 
boŞ
 
is_objeù3d
(cÚ¡ 
CImgLi¡
<

>& 
´im™ives
,

16367 cÚ¡ 
CImgLi¡
<
tc
>& 
cŞÜs
,

16368 cÚ¡ 
to
& 
İac™›s
,

16369 cÚ¡ 
boŞ
 
fuÎ_check
=
Œue
,

16370 *cÚ¡ 
”rÜ_mes§ge
=0) const {

16371 ià(
”rÜ_mes§ge
) *error_message = 0;

16374 ià(
is_em±y
()) {

16375 ià(
	g´im™ives
 || 
	gcŞÜs
 || 
	gİac™›s
) {

16376 ià(
	g”rÜ_mes§ge
è
cimg_¥rštf
(
”rÜ_mes§ge
,

16379 
_width
,
´im™ives
._width,primitives._width,

16380 
cŞÜs
.
_width
,()
İac™›s
.
size
());

16381  
	gçl£
;

16383  
	gŒue
;

16387 ià(
	g_height
!=3 || 
_d•th
>1 || 
_¥eùrum
>1) {

16388 ià(
”rÜ_mes§ge
è
cimg_¥rštf
(error_message,

16390 
_width
,
´im™ives
._width,_width,
_height
,
_d•th
,
_¥eùrum
);

16391  
	gçl£
;

16393 ià(
	gcŞÜs
.
	g_width
>
	g´im™ives
._width + 1) {

16394 ià(
	g”rÜ_mes§ge
è
cimg_¥rštf
(
”rÜ_mes§ge
,

16396 
_width
,
´im™ives
._width,
cŞÜs
._width);

16397  
	gçl£
;

16399 ià(
	gİac™›s
.
size
()>
	g´im™ives
.
	g_width
) {

16400 ià(
	g”rÜ_mes§ge
è
cimg_¥rštf
(
”rÜ_mes§ge
,

16402 
_width
,
´im™ives
._width,()
İac™›s
.
size
());

16403  
	gçl£
;

16405 ià(!
	gfuÎ_check
è 
	gŒue
;

16408 
cimgli¡_fÜ
(
´im™ives
,
l
) {

16409 cÚ¡ 
	gCImg
<
	g
>& 
	g´im™ive
 = 
´im™ives
[
l
];

16410 cÚ¡ 
	gpsiz
 = ()
´im™ive
.
size
();

16411 
	gpsiz
) {

16413 cÚ¡ 
i0
 = ()
´im™ive
(0);

16414 ià(
	gi0
>=
_width
) {

16415 ià(
”rÜ_mes§ge
è
cimg_¥rštf
(error_message,

16418 
_width
,
´im™ives
._width,
i0
,
l
);

16419  
	gçl£
;

16424 
i0
 = ()
´im™ive
(0),

16425 
	gi1
 = ()
´im™ive
(1);

16426 ià(
	gi0
>=
_width
 || 
i1
>=_width) {

16427 ià(
”rÜ_mes§ge
è
cimg_¥rštf
(error_message,

16430 
_width
,
´im™ives
._width,
i0
,
i1
,
l
);

16431  
	gçl£
;

16436 
i0
 = ()
´im™ive
(0),

16437 
	gi1
 = ()
´im™ive
(1);

16438 ià(
	gi0
>=
_width
 || 
i1
>=_width) {

16439 ià(
”rÜ_mes§ge
è
cimg_¥rštf
(error_message,

16442 
_width
,
´im™ives
._width,
i0
,
i1
,
l
);

16443  
	gçl£
;

16448 
i0
 = ()
´im™ive
(0),

16449 
	gi1
 = ()
´im™ive
(1),

16450 
	gi2
 = ()
´im™ive
(2);

16451 ià(
	gi0
>=
_width
 || 
i1
>=_width || 
i2
>=_width) {

16452 ià(
”rÜ_mes§ge
è
cimg_¥rštf
(error_message,

16455 
_width
,
´im™ives
._width,
i0
,
i1
,
i2
,
l
);

16456  
	gçl£
;

16461 
i0
 = ()
´im™ive
(0),

16462 
	gi1
 = ()
´im™ive
(1),

16463 
	gi2
 = ()
´im™ive
(2),

16464 
	gi3
 = ()
´im™ive
(3);

16465 ià(
	gi0
>=
_width
 || 
i1
>=_width || 
i2
>=_width || 
i3
>=_width) {

16466 ià(
”rÜ_mes§ge
è
cimg_¥rštf
(error_message,

16469 
_width
,
´im™ives
._width,
i0
,
i1
,
i2
,
i3
,
l
);

16470  
	gçl£
;

16474 ià(
”rÜ_mes§ge
è
cimg_¥rštf
(error_message,

16476 
_width
,
´im™ives
._width,
l
,()
psiz
);

16477  
	gçl£
;

16482 
cimgli¡_fÜ
(
cŞÜs
,
c
) {

16483 cÚ¡ 
	gCImg
<
	gtc
>& 
	gcŞÜ
 = 
cŞÜs
[
c
];

16484 ià(!
	gcŞÜ
) {

16485 ià(
	g”rÜ_mes§ge
è
cimg_¥rštf
(
”rÜ_mes§ge
,

16487 
_width
,
´im™ives
._width,
c
);

16488  
	gçl£
;

16493 ià(
	gcŞÜs
.
	g_width
>
	g´im™ives
._width) {

16494 cÚ¡ 
	gCImg
<
	gtc
> &
	glight
 = 
cŞÜs
.
back
();

16495 ià(!
	glight
 ||†ight.
	g_d•th
>1) {

16496 ià(
	g”rÜ_mes§ge
è
cimg_¥rštf
(
”rÜ_mes§ge
,

16498 
_width
,
´im™ives
._width,
light
._width,

16499 
light
.
_height
,light.
_d•th
,light.
_¥eùrum
);

16500  
	gçl£
;

16504  
	gŒue
;

16517 
boŞ
 
is_CImg3d
(cÚ¡ boŞ 
fuÎ_check
=
Œue
, *cÚ¡ 
”rÜ_mes§ge
=0) const {

16518 ià(
”rÜ_mes§ge
) *error_message = 0;

16521 ià(
	g_width
!=1 || 
_height
<8 || 
_d•th
!=1 || 
_¥eùrum
!=1) {

16522 ià(
”rÜ_mes§ge
è
cimg_¥rštf
(error_message,

16524 
_width
,
_height
,
_d•th
,
_¥eùrum
);

16525  
	gçl£
;

16527 cÚ¡ 
T
 *
	g±rs
 = 
_d©a
, *cÚ¡ 
	g±»
 = 
’d
();

16528 ià(!
_is_CImg3d
(*(
±rs
++),'C') || !_is_CImg3d(*(ptrs++),'I') || !_is_CImg3d(*(ptrs++),'m') ||

16529 !
_is_CImg3d
(*(
±rs
++),'g') || !_is_CImg3d(*(ptrs++),'3') || !_is_CImg3d(*(ptrs++),'d')) {

16530 ià(
	g”rÜ_mes§ge
è
cimg_¥rštf
(
”rÜ_mes§ge
,

16532  
	gçl£
;

16535 
	gnb_pošts
 = 
cimg
::
æßt2ušt
(()*(
±rs
++)),

16536 
	gnb_´im™ives
 = 
cimg
::
æßt2ušt
(()*(
±rs
++));

16539 ià(!
	gfuÎ_check
) {

16540 cÚ¡ 
ulÚgT
 
	gmšim®_size
 = 8UL + 3*
nb_pošts
 + 6*
nb_´im™ives
;

16541 ià(
	g_d©a
 + 
	gmšim®_size
>
	g±»
) {

16542 ià(
	g”rÜ_mes§ge
è
cimg_¥rštf
(
”rÜ_mes§ge
,

16544 
nb_pošts
,
nb_´im™ives
,()
size
(),()
mšim®_size
);

16545  
	gçl£
;

16550 ià(!
	gnb_pošts
) {

16551 ià(
	gnb_´im™ives
) {

16552 ià(
	g”rÜ_mes§ge
è
cimg_¥rštf
(
”rÜ_mes§ge
,

16554 
nb_pošts
,
nb_´im™ives
,nb_primitives);

16555  
	gçl£
;

16557 ià(
	g±rs
!=
±»
) {

16558 ià(
”rÜ_mes§ge
è
cimg_¥rštf
(error_message,

16561 
nb_pošts
,
nb_´im™ives
,()(
±»
 - 
±rs
),(ptre -…trs)>1?"s":"");

16562  
	gçl£
;

16564  
	gŒue
;

16566 ià(
	g±rs
 + 3*
	gnb_pošts
>
	g±»
) {

16567 ià(
	g”rÜ_mes§ge
è
cimg_¥rštf
(
”rÜ_mes§ge
,

16569 
nb_pošts
,
nb_´im™ives
,()(
±»
 - 
±rs
)/3);

16570  
	gçl£
;

16572 
	g±rs
+=3*
nb_pošts
;

16575 ià(
	g±rs
==
±»
) {

16576 ià(
”rÜ_mes§ge
è
cimg_¥rštf
(error_message,

16578 
nb_pošts
,
nb_´im™ives
,nb_points);

16579  
	gçl£
;

16582 ià(!
	gfuÎ_check
è 
	gŒue
;

16584 
	gp
 = 0;…<
	gnb_´im™ives
; ++p) {

16585 cÚ¡ 
	gnb_šds
 = ()*(
±rs
++);

16586 
	gnb_šds
) {

16588 cÚ¡ 
i0
 = 
cimg
::
æßt2ušt
(()*(
±rs
++));

16589 ià(
	gi0
>=
nb_pošts
) {

16590 ià(
”rÜ_mes§ge
è
cimg_¥rštf
(error_message,

16592 
nb_pošts
,
nb_´im™ives
,
i0
,
p
);

16593  
	gçl£
;

16598 
i0
 = 
cimg
::
æßt2ušt
(()*(
±rs
++)),

16599 
	gi1
 = 
cimg
::
æßt2ušt
(()*(
±rs
++));

16600 
	g±rs
+=3;

16601 ià(
	gi0
>=
nb_pošts
 || 
i1
>=nb_points) {

16602 ià(
”rÜ_mes§ge
è
cimg_¥rštf
(error_message,

16605 
nb_pošts
,
nb_´im™ives
,
i0
,
i1
,
p
);

16606  
	gçl£
;

16611 
i0
 = 
cimg
::
æßt2ušt
(()*(
±rs
++)),

16612 
	gi1
 = 
cimg
::
æßt2ušt
(()*(
±rs
++));

16613 ià(
	gnb_šds
==6è
±rs
+=4;

16614 ià(
	gi0
>=
nb_pošts
 || 
i1
>=nb_points) {

16615 ià(
”rÜ_mes§ge
è
cimg_¥rštf
(error_message,

16618 
nb_pošts
,
nb_´im™ives
,
i0
,
i1
,
p
);

16619  
	gçl£
;

16624 
i0
 = 
cimg
::
æßt2ušt
(()*(
±rs
++)),

16625 
	gi1
 = 
cimg
::
æßt2ušt
(()*(
±rs
++)),

16626 
	gi2
 = 
cimg
::
æßt2ušt
(()*(
±rs
++));

16627 ià(
	gnb_šds
==9è
±rs
+=6;

16628 ià(
	gi0
>=
nb_pošts
 || 
i1
>òb_pošt || 
i2
>=nb_points) {

16629 ià(
”rÜ_mes§ge
è
cimg_¥rštf
(error_message,

16632 
nb_pošts
,
nb_´im™ives
,
i0
,
i1
,
i2
,
p
);

16633  
	gçl£
;

16638 
i0
 = 
cimg
::
æßt2ušt
(()*(
±rs
++)),

16639 
	gi1
 = 
cimg
::
æßt2ušt
(()*(
±rs
++)),

16640 
	gi2
 = 
cimg
::
æßt2ušt
(()*(
±rs
++)),

16641 
	gi3
 = 
cimg
::
æßt2ušt
(()*(
±rs
++));

16642 ià(
	gnb_šds
==12è
±rs
+=8;

16643 ià(
	gi0
>=
nb_pošts
 || 
i1
>òb_pošt || 
i2
>òb_pošt || 
i3
>=nb_points) {

16644 ià(
”rÜ_mes§ge
è
cimg_¥rštf
(error_message,

16647 
nb_pošts
,
nb_´im™ives
,
i0
,
i1
,
i2
,
i3
,
p
);

16648  
	gçl£
;

16652 ià(
”rÜ_mes§ge
è
cimg_¥rštf
(error_message,

16654 
nb_pošts
,
nb_´im™ives
,
p
,
nb_šds
);

16655  
	gçl£
;

16657 ià(
	g±rs
>
	g±»
) {

16658 ià(
	g”rÜ_mes§ge
è
cimg_¥rštf
(
”rÜ_mes§ge
,

16661 
nb_pošts
,
nb_´im™ives
,
p
,()(
±rs
 - 
±»
));

16662  
	gçl£
;

16667 ià(
	g±rs
==
±»
) {

16668 ià(
”rÜ_mes§ge
è
cimg_¥rštf
(error_message,

16670 
nb_pošts
,
nb_´im™ives
);

16671  
	gçl£
;

16673 
	gc
 = 0; c<
	gnb_´im™ives
; ++c) {

16674 ià(*(
	g±rs
++)!=(
T
)-128è
±rs
+=2;

16675 ià((
	g±rs
+=3)<
±»
) {

16677 
w
 = ()*(
±rs
 - 3),

16678 
	gh
 = ()*(
±rs
 - 2),

16679 
	gs
 = ()*(
±rs
 - 1);

16680 ià(!
	gh
 && !
	gs
) {

16681 ià(
	gw
>=
c
) {

16682 ià(
”rÜ_mes§ge
è
cimg_¥rštf
(error_message,

16685 
nb_pošts
,
nb_´im™ives
,
w
,
c
);

16686  
	gçl£
;

16688 } 
	g±rs
+=
w
*
h
*
s
;

16690 ià(
	g±rs
>
	g±»
) {

16691 ià(
	g”rÜ_mes§ge
è
cimg_¥rštf
(
”rÜ_mes§ge
,

16694 
nb_pošts
,
nb_´im™ives
,
c
,()(
±rs
 - 
±»
));

16695  
	gçl£
;

16700 ià(
	g±rs
==
±»
) {

16701 ià(
”rÜ_mes§ge
è
cimg_¥rštf
(error_message,

16703 
nb_pošts
,
nb_´im™ives
);

16704  
	gçl£
;

16706 
	go
 = 0; o<
	gnb_´im™ives
; ++o) {

16707 ià(*(
	g±rs
++)==(
T
)-128 && (
±rs
+=3)<
±»
) {

16709 
w
 = ()*(
±rs
 - 3),

16710 
	gh
 = ()*(
±rs
 - 2),

16711 
	gs
 = ()*(
±rs
 - 1);

16712 ià(!
	gh
 && !
	gs
) {

16713 ià(
	gw
>=
o
) {

16714 ià(
”rÜ_mes§ge
è
cimg_¥rštf
(error_message,

16717 
nb_pošts
,
nb_´im™ives
,
w
,
o
);

16718  
	gçl£
;

16720 } 
	g±rs
+=
w
*
h
*
s
;

16722 ià(
	g±rs
>
	g±»
) {

16723 ià(
	g”rÜ_mes§ge
è
cimg_¥rštf
(
”rÜ_mes§ge
,

16725 
nb_pošts
,
nb_´im™ives
,
o
);

16726  
	gçl£
;

16731 ià(
	g±rs
<
	g±»
) {

16732 ià(
	g”rÜ_mes§ge
è
cimg_¥rštf
(
”rÜ_mes§ge
,

16734 
nb_pošts
,
nb_´im™ives
,()(
±»
 - 
±rs
),(ptre -…trs)>1?"s":"");

16735  
	gçl£
;

16737  
	gŒue
;

16740 
boŞ
 
_is_CImg3d
(cÚ¡ 
T
 
v®
, cÚ¡ 
c
) {

16741  
	gv®
>=(
T
)
c
 && 
v®
<(T)(c + 1);

16752 
	s_cimg_m©h_·r£r
 {

16753 
	gCImg
<
	gdoubËT
> 
	gmem
;

16754 
	gCImg
<
	gštT
> 
	gmemty³
, 
	gmemm”ge
;

16755 
	gCImgLi¡
<
	gulÚgT
> 
	g_code
, &
	gcode
, 
	gcode_begš
, 
	gcode_’d
,

16756 
	g_code_begš_t
, &
	gcode_begš_t
, 
	g_code_’d_t
, &
	gcode_’d_t
;

16757 
	gCImg
<
	gulÚgT
> 
	gİcode
;

16758 cÚ¡ 
	gCImg
<
	gulÚgT
> *
	gp_code_’d
, *
	gp_code
;

16759 cÚ¡ 
	gCImg
<
	gulÚgT
> *cÚ¡ 
	gp_b»ak
;

16761 
	gCImg
<
	gch¬T
> 
	gex´
, 
	g³x´
;

16762 cÚ¡ 
	gCImg
<
	gT
>& 
	gimgš
;

16763 cÚ¡ 
	gCImgLi¡
<
	gT
>& 
	gli¡š
;

16764 
	gCImg
<
	gT
> &
	gimgout
;

16765 
	gCImgLi¡
<
	gT
>& 
	gli¡out
;

16767 
	gCImg
<
	gdoubËT
> 
	g_img_¡©s
, &
	gimg_¡©s
, 
	gcÚ¡ÿche_v®s
;

16768 
	gCImgLi¡
<
	gdoubËT
> 
	g_li¡_¡©s
, &
	gli¡_¡©s
, 
	g_li¡_medŸn
, &
	gli¡_medŸn
, 
	g_li¡_nÜm
, &
	gli¡_nÜm
;

16769 
	gCImg
<
	guštT
> 
	gmem_img_¡©s
, 
	gcÚ¡ÿche_šds
;

16771 
	gCImg
<
	guštT
> 
	gËv–
, 
	gv¬ŸbË_pos
, 
	g»£rved_Ïb–
;

16772 
	gCImgLi¡
<
	gch¬T
> 
	gv¬ŸbË_def
, 
	gmaüo_def
, 
	gmaüo_body
;

16773 
	gCImgLi¡
<
	gboŞT
> 
	gmaüo_body_is_¡ršg
;

16774 *
	gu£r_maüo
;

16776 
	gmempos
, 
	gmem_img_medŸn
, 
	gmem_img_nÜm
, 
	gmem_img_šdex
, 
	gdebug_šd’t
, 
	g»suÉ_dim
, 
	gb»ak_ty³
,

16777 
	gcÚ¡ÿche_size
;

16778 
boŞ
 
	gis_·¿Î–izabË
, 
	gis_’d_code
, 
	gis_fl
, 
	gÃed_šput_cİy
;

16779 *
	g»suÉ
;

16780 
cimg_ušt64
 
	gºg
;

16781 cÚ¡ *cÚ¡ 
	gÿÎšg_funùiÚ
, *
	gs_İ
, *
	gss_İ
;

16782 (*
	gmp_func
)(
	t_cimg_m©h_·r£r
&);

16784 
	#_cimg_mp_is_cÚ¡ªt
(
¬g
è(
memty³
[arg]==1)

16785 
	#_cimg_mp_is_sÿÏr
(
¬g
è(
memty³
[arg]<2)

16786 
	#_cimg_mp_is_comp
(
¬g
è(!
memty³
[arg])

16787 
	#_cimg_mp_is_v¬ŸbË
(
¬g
è(
memty³
[arg]==-1)

16788 
	#_cimg_mp_is_veùÜ
(
¬g
è(
memty³
[arg]>1)

16789 
	#_cimg_mp_size
(
¬g
è(
	`_cimg_mp_is_sÿÏr
×rg)?0U:()
memty³
[arg] - 1)

16790 
	#_cimg_mp_ÿÎšg_funùiÚ
 
	`s_ÿÎšg_funùiÚ
().
_d©a


	)

16791 
	#_cimg_mp_İ
(
s
è
s_İ
 = s; 
ss_İ
 = 
ss


	)

16792 
	#_cimg_mp_check_ty³
(
¬g
,
n_¬g
,
mode
,
N
è
	`check_ty³
×rg,n_¬g,mode,N,
ss
,
£
,
§ved_ch¬
)

	)

16793 
	#_cimg_mp_check_cÚ¡ªt
(
¬g
,
n_¬g
,
mode
è
	`check_cÚ¡ªt
×rg,n_¬g,mode,
ss
,
£
,
§ved_ch¬
)

	)

16794 
	#_cimg_mp_check_cÚ¡ªt_šdex
(
¬g
è
	`check_cÚ¡ªt_šdex
×rg,
ss
,
£
,
§ved_ch¬
)

	)

16795 
	#_cimg_mp_check_m©rix_squ¬e
(
¬g
,
n_¬g
è
	`check_m©rix_squ¬e
×rg,n_¬g,
ss
,
£
,
§ved_ch¬
)

	)

16796 
	#_cimg_mp_check_li¡
(
is_out
è
	`check_li¡
(is_out,
ss
,
£
,
§ved_ch¬
)

	)

16797 
	#_cimg_mp_defunc
(
mp
è(*(
mp_func
)(*(mp).
İcode
))(mp)

	)

16798 
	#_cimg_mp_»tuº
(
x
è{ *
£
 = 
§ved_ch¬
; 
s_İ
 = 
´evious_s_İ
; 
ss_İ
 = 
´evious_ss_İ
;  x; }

	)

16799 
	#_cimg_mp_»tuº_Çn
(è
	`_cimg_mp_»tuº
(
_cimg_mp_¦Ù_Çn
)

	)

16800 
	#_cimg_mp_cÚ¡ªt
(
v®
è
	`_cimg_mp_»tuº
(
	`cÚ¡ªt
(()(v®)))

	)

16801 
	#_cimg_mp_sÿÏr0
(
İ
è
	`_cimg_mp_»tuº
(
	`sÿÏr0
(İ))

	)

16802 
	#_cimg_mp_sÿÏr1
(
İ
,
i1
è
	`_cimg_mp_»tuº
(
	`sÿÏr1
(İ,i1))

	)

16803 
	#_cimg_mp_sÿÏr2
(
İ
,
i1
,
i2
è
	`_cimg_mp_»tuº
(
	`sÿÏr2
(İ,i1,i2))

	)

16804 
	#_cimg_mp_sÿÏr3
(
İ
,
i1
,
i2
,
i3
è
	`_cimg_mp_»tuº
(
	`sÿÏr3
(İ,i1,i2,i3))

	)

16805 
	#_cimg_mp_sÿÏr4
(
İ
,
i1
,
i2
,
i3
,
i4
è
	`_cimg_mp_»tuº
(
	`sÿÏr4
(İ,i1,i2,i3,i4))

	)

16806 
	#_cimg_mp_sÿÏr5
(
İ
,
i1
,
i2
,
i3
,
i4
,
i5
è
	`_cimg_mp_»tuº
(
	`sÿÏr5
(İ,i1,i2,i3,i4,i5))

	)

16807 
	#_cimg_mp_sÿÏr6
(
İ
,
i1
,
i2
,
i3
,
i4
,
i5
,
i6
è
	`_cimg_mp_»tuº
(
	`sÿÏr6
(İ,i1,i2,i3,i4,i5,i6))

	)

16808 
	#_cimg_mp_sÿÏr7
(
İ
,
i1
,
i2
,
i3
,
i4
,
i5
,
i6
,
i7
è
	`_cimg_mp_»tuº
(
	`sÿÏr7
(İ,i1,i2,i3,i4,i5,i6,i7))

	)

16809 
	#_cimg_mp_veùÜ1_v
(
İ
,
i1
è
	`_cimg_mp_»tuº
(
	`veùÜ1_v
(İ,i1))

	)

16810 
	#_cimg_mp_veùÜ2_sv
(
İ
,
i1
,
i2
è
	`_cimg_mp_»tuº
(
	`veùÜ2_sv
(İ,i1,i2))

	)

16811 
	#_cimg_mp_veùÜ2_vs
(
İ
,
i1
,
i2
è
	`_cimg_mp_»tuº
(
	`veùÜ2_vs
(İ,i1,i2))

	)

16812 
	#_cimg_mp_veùÜ2_vv
(
İ
,
i1
,
i2
è
	`_cimg_mp_»tuº
(
	`veùÜ2_vv
(İ,i1,i2))

	)

16813 
	#_cimg_mp_veùÜ3_vss
(
İ
,
i1
,
i2
,
i3
è
	`_cimg_mp_»tuº
(
	`veùÜ3_vss
(İ,i1,i2,i3))

	)

16814 
	#_cimg_mp_¡»¼
 \

16815 *
£
 = 
§ved_ch¬
; \

16816 
s0
 = 
ss
; s0>
ex´
.
_d©a
 && *s0!=';'; --s0) {} \

16817 ià(*
s0
==';'è++s0; 
cimg
::
	`is_bÏnk
(*s0)) ++s0; \

16818 
cimg
::
	`¡»Îsize
(
s0
,64)

	)

16821 ~
_cimg_m©h_·r£r
() {

16822 
	gcimg
::
¤ªd
(
ºg
);

16825 
_cimg_m©h_·r£r
(cÚ¡ *cÚ¡ 
ex´essiÚ
, cÚ¡ *cÚ¡ 
funúame
=0,

16826 cÚ¡ 
CImg
<
T
>& 
img_šput
=CImg<T>::
cÚ¡_em±y
(), CImg<T> *cÚ¡ 
img_ouut
=0,

16827 cÚ¡ 
CImgLi¡
<
T
> *cÚ¡ 
li¡_šputs
=0, CImgLi¡<T> *cÚ¡ 
li¡_ouuts
=0,

16828 cÚ¡ 
boŞ
 
_is_fl
=
çl£
):

16829 
code
(
_code
),
code_begš_t
(
_code_begš_t
),
code_’d_t
(
_code_’d_t
),

16830 
p_b»ak
((
CImg
<
ulÚgT
>*)(
cimg_ulÚg
)-2),

16831 
imgš
(
img_šput
),
li¡š
(
li¡_šputs
?*li¡_šputs:
CImgLi¡
<
T
>::
cÚ¡_em±y
()),

16832 
imgout
(
img_ouut
?*img_ouut:
CImg
<
T
>::
em±y
()),
li¡out
(
li¡_ouuts
?*li¡_ouuts:
CImgLi¡
<T>::empty()),

16833 
img_¡©s
(
_img_¡©s
),
li¡_¡©s
(
_li¡_¡©s
),
li¡_medŸn
(
_li¡_medŸn
),
li¡_nÜm
(
_li¡_nÜm
),
u£r_maüo
(0),

16834 
mem_img_medŸn
(~0U),
mem_img_nÜm
(~0U),
mem_img_šdex
(~0U),
debug_šd’t
(0),
»suÉ_dim
(0),
b»ak_ty³
(0),

16835 
cÚ¡ÿche_size
(0),
is_·¿Î–izabË
(
Œue
),
is_fl
(
_is_fl
),
Ãed_šput_cİy
(
çl£
),

16836 
ºg
((
cimg
::
_¿nd
(),cimg::ºg())),
ÿÎšg_funùiÚ
(
funúame
?funcname:"cimg_math_parser") {

16838 #ià
cimg_u£_İ’mp
!=0

16839 
ºg
+=
omp_g‘_th»ad_num
();

16841 ià(!
	gex´essiÚ
 || !*expression)

16842 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

16844 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
);

16845 cÚ¡ *
	g_ex´essiÚ
 = 
ex´essiÚ
;

16846 *
	g_ex´essiÚ
 && (
	gcimg
::
is_bÏnk
(*
_ex´essiÚ
) || *_expression==';')) ++_expression;

16847 
	gCImg
<
	gch¬T
>::
¡ršg
(
_ex´essiÚ
).
move_to
(
ex´
);

16848 *
	gps
 = &
ex´
.
back
() - 1;

16849 
	gps
>
	gex´
.
	g_d©a
 && (
	gcimg
::
is_bÏnk
(*
ps
) || *ps==';')) --ps;

16850 *(++
	gps
èğ0; 
	gex´
.
	g_width
 = ()(
ps
 - 
ex´
.
_d©a
 + 1);

16853 
	g³x´
.
assign
(
ex´
.
_width
);

16854 
	gc
, *
	g³
 = 
³x´
.
_d©a
;

16855 
	gps
 = 
ex´
.
_d©a
, 
	gc
 = ' '; *ps; ++ps) {

16856 ià(!
	gcimg
::
is_bÏnk
(*
ps
)è
c
 = *ps; *
	gps
 = ' ';

16857 *(
	g³
++èğ
c
;

16859 *
	g³
 = 0;

16860 
	gËv–
 = 
g‘_Ëv–
(
ex´
);

16863 
	#_cimg_mp_š‹½Ş©iÚ
 (
»£rved_Ïb–
[30]!=~0U?»£rved_Ïb–[30]:0)

	)

16864 
	#_cimg_mp_bound¬y
 (
»£rved_Ïb–
[31]!=~0U?»£rved_Ïb–[31]:0)

	)

16865 
	#_cimg_mp_¦Ù_t
 17

	)

16866 
	#_cimg_mp_¦Ù_Çn
 29

	)

16867 
	#_cimg_mp_¦Ù_x
 30

	)

16868 
	#_cimg_mp_¦Ù_y
 31

	)

16869 
	#_cimg_mp_¦Ù_z
 32

	)

16870 
	#_cimg_mp_¦Ù_c
 33

	)

16872 
	gmem
.
assign
(96);

16873 
	gi
 = 0; i<=10; ++iè
	gmem
[
i
] = ()i;

16874 
	gi
 = 1; i<=5; ++iè
	gmem
[
i
 + 10] = -()i;

16875 
	gmem
[16] = 0.5;

16876 
	gmem
[
_cimg_mp_¦Ù_t
] = 0;

16877 
	gmem
[18] = ()
imgš
.
_width
;

16878 
	gmem
[19] = ()
imgš
.
_height
;

16879 
	gmem
[20] = ()
imgš
.
_d•th
;

16880 
	gmem
[21] = ()
imgš
.
_¥eùrum
;

16881 
	gmem
[22] = ()
imgš
.
_is_sh¬ed
;

16882 
	gmem
[23] = ()
imgš
.
_width
*imgš.
_height
;

16883 
	gmem
[24] = ()
imgš
.
_width
*imgš.
_height
*imgš.
_d•th
;

16884 
	gmem
[25] = ()
imgš
.
_width
*imgš.
_height
*imgš.
_d•th
*imgš.
_¥eùrum
;

16885 
	gmem
[26] = ()
li¡š
.
_width
;

16886 
	gmem
[27] = 
¡d
::
exp
(1.);

16887 
	gmem
[28] = 
cimg
::
PI
;

16888 
	gmem
[
_cimg_mp_¦Ù_Çn
] = 
cimg
::
ty³
<>::
Çn
();

16893 
	gmemty³
.
assign
(
mem
.
_width
,1,1,1,0);

16894 
	gi
 = 0; i<
	g_cimg_mp_¦Ù_x
; ++iè
	gmemty³
[
i
] = 1;

16895 
	gmemty³
[
_cimg_mp_¦Ù_t
] = 
memty³
[
_cimg_mp_¦Ù_x
] = memty³[
_cimg_mp_¦Ù_y
] =

16896 
memty³
[
_cimg_mp_¦Ù_z
] = memty³[
_cimg_mp_¦Ù_c
] = -2;

16897 
	gmempos
 = 
_cimg_mp_¦Ù_c
 + 1;

16898 
	gv¬ŸbË_pos
.
assign
(8);

16900 
	g»£rved_Ïb–
.
assign
(128,1,1,1,~0U);

16907 
	gs_İ
 = ""; 
	gss_İ
 = 
ex´
.
_d©a
;

16908 cÚ¡ 
	gšd_»suÉ
 = 
compe
(
ex´
.
_d©a
,ex´._d©¨+ƒx´.
_width
 - 1,0,0,
çl£
);

16909 ià(!
_cimg_mp_is_cÚ¡ªt
(
šd_»suÉ
)) {

16910 ià(
_cimg_mp_is_veùÜ
(
šd_»suÉ
))

16911 
	gCImg
<
	gdoubËT
>(&
	gmem
[
šd_»suÉ
] + 1,
_cimg_mp_size
(šd_»suÉ),1,1,1,
	gŒue
).

16912 
fl
(
cimg
::
ty³
<>::
Çn
());

16913 ià(
	gšd_»suÉ
!=
_cimg_mp_¦Ù_t
è
mem
[
šd_»suÉ
] = 
cimg
::
ty³
<>::
Çn
();

16917 
	g»suÉ_dim
 = 
_cimg_mp_size
(
šd_»suÉ
);

16918 ià(
	gmem
.
	g_width
>=256 && 
mem
.
_width
 - 
mempos
>=mem._width/2èmem.
»size
(mempos,1,1,1,-1);

16919 
	g»suÉ
 = 
mem
.
_d©a
 + 
šd_»suÉ
;

16920 
	gmemty³
.
assign
();

16921 
	gcÚ¡ÿche_v®s
.
assign
();

16922 
	gcÚ¡ÿche_šds
.
assign
();

16923 
	gËv–
.
assign
();

16924 
	gv¬ŸbË_pos
.
assign
();

16925 
	g»£rved_Ïb–
.
assign
();

16926 
	gex´
.
assign
();

16927 
	g³x´
.
assign
();

16928 
	gİcode
.
assign
();

16929 
	gİcode
.
	g_is_sh¬ed
 = 
Œue
;

16932 ià(
	gcode_begš
) {

16933 
	gmem
[
_cimg_mp_¦Ù_x
] = 
mem
[
_cimg_mp_¦Ù_y
] = mem[
_cimg_mp_¦Ù_z
] = mem[
_cimg_mp_¦Ù_c
] = 0;

16934 
	gp_code_’d
 = 
code_begš
.
’d
();

16935 
	gp_code
 = 
code_begš
;…_code<
	gp_code_’d
; ++p_code) {

16936 
	gİcode
.
	g_d©a
 = 
p_code
->
_d©a
;

16937 cÚ¡ 
ulÚgT
 
	grg‘
 = 
İcode
[1];

16938 
	gmem
[
rg‘
] = 
_cimg_mp_defunc
(*
this
);

16941 
	gp_code_’d
 = 
code
.
’d
();

16944 
_cimg_m©h_·r£r
():

16945 
code
(
_code
),
code_begš_t
(
_code_begš_t
),
code_’d_t
(
_code_’d_t
),

16946 
p_code_’d
(0),
p_b»ak
((
CImg
<
ulÚgT
>*)(
cimg_ulÚg
)-2),

16947 
imgš
(
CImg
<
T
>::
cÚ¡_em±y
()),
li¡š
(
CImgLi¡
<T>::const_empty()),

16948 
imgout
(
CImg
<
T
>::
em±y
()),
li¡out
(
CImgLi¡
<T>::empty()),

16949 
img_¡©s
(
_img_¡©s
),
li¡_¡©s
(
_li¡_¡©s
),
li¡_medŸn
(
_li¡_medŸn
),
li¡_nÜm
(
_li¡_nÜm
),
debug_šd’t
(0),

16950 
»suÉ_dim
(0),
b»ak_ty³
(0),
cÚ¡ÿche_size
(0),
is_·¿Î–izabË
(
Œue
),
is_fl
(
çl£
),

16951 
Ãed_šput_cİy
(
çl£
),
ºg
(0),
ÿÎšg_funùiÚ
(0) {

16952 
	gmem
.
assign
(1 + 
_cimg_mp_¦Ù_c
,1,1,1,0);

16953 
	g»suÉ
 = 
mem
.
_d©a
;

16956 
_cimg_m©h_·r£r
(cÚ¡ _cimg_m©h_·r£r& 
mp
):

16957 
mem
(
mp
.mem),
code
(mp.code),
code_begš_t
(mp.code_begš_t),
code_’d_t
(mp.code_end_t),

16958 
p_code_’d
(
mp
.p_code_’d),
p_b»ak
(mp.p_break),

16959 
imgš
(
mp
.imgš),
li¡š
(mp.li¡š),
imgout
(mp.imgout),
li¡out
(mp.listout),

16960 
img_¡©s
(
mp
.img_¡©s),
li¡_¡©s
(mp.li¡_¡©s),
li¡_medŸn
(mp.li¡_medŸn),
li¡_nÜm
(mp.list_norm),

16961 
debug_šd’t
(0),
»suÉ_dim
(
mp
.»suÉ_dim),
b»ak_ty³
(0),
cÚ¡ÿche_size
(0),

16962 
is_·¿Î–izabË
(
mp
.is_·¿Î–izabË),
is_fl
(mp.is_fl),
Ãed_šput_cİy
(mp.need_input_copy),

16963 
»suÉ
(
mem
.
_d©a
 + (
mp
.»suÉ - mp.mem._d©a)),
ºg
((
cimg
::
_¿nd
(),cimg::ºg())),
ÿÎšg_funùiÚ
(0) {

16965 #ià
cimg_u£_İ’mp
!=0

16966 
	gmem
[
_cimg_mp_¦Ù_t
] = 
omp_g‘_th»ad_num
();

16967 
	gºg
+=
omp_g‘_th»ad_num
();

16969 
	gİcode
.
assign
();

16970 
	gİcode
.
	g_is_sh¬ed
 = 
Œue
;

16974 
compe
(*
ss
, *
£
, cÚ¡ 
d•th
, *cÚ¡ 
p_»f
,

16975 cÚ¡ 
boŞ
 
is_ü™iÿl
) {

16976 ià(
	gd•th
>256) {

16977 
	gcimg
::
¡»Îsize
(
ex´
,64);

16978 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

16981 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,

16982 (
ss
 - 4)>
ex´
.
_d©a
?"...":"",

16983 (
ss
 - 4)>
ex´
.
_d©a
?ss - 4:expr._data,

16984 
£
<&
ex´
.
back
()?"...":"");

16986 
	gc1
, 
	gc2
;

16990 
	gc2
 = 0;

16991 ià(
	gss
<
	g£
) {

16992 *
	gss
 && (
	gcimg
::
is_bÏnk
(*
ss
) || *ss==';')) ++ss;

16993 
	g£
>
	gss
 && (
	gcimg
::
is_bÏnk
(
c1
 = *(
£
 - 1)) || c1==';')) --se;

16995 *
	gss
=='(' && *(
£
 - 1)==')' && 
¡d
::
¡rchr
(
ss
,')')==se - 1) {

16996 ++
ss
; --
	g£
; 
	gc2
 = 1;

16998 } 
	gc2
 && 
	gss
<
	g£
);

17000 ià(
	g£
<=
ss
 || !*ss) {

17001 
cimg
::
¡»Îsize
(
ex´
,64);

17002 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

17004 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,*s_op?":":"",

17005 *
s_İ
=='F'?"argument":"item",

17006 (
ss_İ
 - 4)>
ex´
.
_d©a
?"...":"",

17007 (
ss_İ
 - 4)>
ex´
.
_d©a
?ss_op - 4:expr._data,

17008 
ss_İ
 + 
¡d
::
¡¾’
(ss_İ)<&
ex´
.
back
()?"...":"");

17011 cÚ¡ 
size_t
 
	gsiz_»f
 = 7*();

17012 cÚ¡ *cÚ¡ 
	g´evious_s_İ
 = 
s_İ
, *cÚ¡ 
	g´evious_ss_İ
 = 
ss_İ
;

17013 cÚ¡ 
	gd•th1
 = 
d•th
 + 1;

17014 
	gpos
, 
	gp1
, 
	gp2
, 
	gp3
, 
	g¬g1
, 
	g¬g2
, 
	g¬g3
, 
	g¬g4
, 
	g¬g5
, 
	g¬g6
;

17016 *cÚ¡ 
	g£1
 = 
£
 - 1, *cÚ¡ 
	g£2
 = s- 2, *cÚ¡ 
	g£3
 = se - 3,

17017 *cÚ¡ 
	gss1
 = 
ss
 + 1, *cÚ¡ 
	gss2
 = s + 2, *cÚ¡ 
	gss3
 = s + 3, *cÚ¡ 
	gss4
 = ss + 4,

17018 *cÚ¡ 
	gss5
 = 
ss
 + 5, *cÚ¡ 
	gss6
 = s + 6, *cÚ¡ 
	gss7
 = s + 7, *cÚ¡ 
	gss8
 = ss + 8,

17019 *
	gs
, *
	gps
, *
	gns
, *
	gs0
, *
	gs1
, *
	gs2
, *
	gs3
, 
	g£p
 = 0, 
	g’d
 = 0;

17020 
	gv®
 = 0, 
	gv®1
, 
	gv®2
;

17021 
mp_func
 
	gİ
;

17035 ià(
	gp_»f
è{ *p_»àğ0;…_»f[1] = 
p_»f
[2] =…_ref[3] =…_ref[4] =…_ref[5] =…_ref[6] = ~0U; }

17037 cÚ¡ 
	g§ved_ch¬
 = *
£
; *
	g£
 = 0;

17038 cÚ¡ 
	gşev–
 = 
Ëv–
[
ss
 - 
ex´
.
_d©a
], 
	gşev–1
 = 
şev–
 + 1;

17039 
boŞ
 
	gis_¡h
, 
	gis_»Ïtive
;

17040 
	gCImg
<
	guštT
> 
	g»f
;

17041 
	gCImg
<
	gch¬T
> 
	gv¬ŸbË_Çme
;

17042 
	gCImgLi¡
<
	gulÚgT
> 
	gl_İcode
;

17045 
	gnb
 = 0;

17046 
	gs
 = 
ss
 + (*ss=='+' || *ss=='-'?1:0);

17047 ià(*
	gs
=='i' || *
s
=='I' || *s=='n' || *s=='N') {

17048 
is_¡h
 = *
ss
=='-';

17049 ià(!
	gcimg
::
¡rÿ£cmp
(
s
,"šf")è{ 
	gv®
 = 
cimg
::
ty³
<>::
šf
(); 
	gnb
 = 1; }

17050 ià(!
	gcimg
::
¡rÿ£cmp
(
s
,"Çn")è{ 
	gv®
 = 
cimg
::
ty³
<>::
Çn
(); 
	gnb
 = 1; }

17051 ià(
	gnb
==1 && 
is_¡h
è
v®
 = -val;

17052 } ià(*
	gs
=='0' && (
s
[1]=='x' || s[1]=='X')) {

17053 
is_¡h
 = *
ss
=='-';

17054 ià(
cimg_ssÿnf
(
s
 + 2,"%x%c",&
¬g1
,&
£p
)==1) {

17055 
nb
 = 1;

17056 
	gv®
 = ()
¬g1
;

17057 ià(
	gis_¡h
è
	gv®
 = -
v®
;

17060 ià(!
	gnb
ènb = 
cimg_ssÿnf
(
ss
,"%lf%c%c",&
v®
,&(
£p
=0),&(
’d
=0));

17061 ià(
	gnb
==1è
_cimg_mp_cÚ¡ªt
(
v®
);

17062 ià(
	gnb
==2 && 
£p
=='%'è
_cimg_mp_cÚ¡ªt
(
v®
/100);

17064 ià(
	gss1
==
£
è*
ss
) {

17065 'c' : 
_cimg_mp_»tuº
(
»£rved_Ïb–
[()'c']!=~0U?»£rved_Ïb–[()'c']:
_cimg_mp_¦Ù_c
);

17066 'd' : 
_cimg_mp_»tuº
(
»£rved_Ïb–
[()'d']!=~0U?reserved_label[()'d']:20);

17067 'e' : 
_cimg_mp_»tuº
(
»£rved_Ïb–
[()'e']!=~0U?reserved_label[()'e']:27);

17068 'h' : 
_cimg_mp_»tuº
(
»£rved_Ïb–
[()'h']!=~0U?reserved_label[()'h']:19);

17070 ià(
»£rved_Ïb–
[()'k']!=~0Uè
_cimg_mp_»tuº
(reserved_label[()'k']);

17071 
	gpos
 = 
g‘_mem_img_šdex
();

17072 ià(
	gpos
!=~0Uè
_cimg_mp_»tuº
(
pos
);

17073 
_cimg_mp_»tuº_Çn
();

17074 'l' : 
_cimg_mp_»tuº
(
»£rved_Ïb–
[()'l']!=~0U?reserved_label[()'l']:26);

17075 'r' : 
_cimg_mp_»tuº
(
»£rved_Ïb–
[()'r']!=~0U?reserved_label[()'r']:22);

17076 's' : 
_cimg_mp_»tuº
(
»£rved_Ïb–
[()'s']!=~0U?reserved_label[()'s']:21);

17077 't' : 
_cimg_mp_»tuº
(
»£rved_Ïb–
[()'t']!=~0U?»£rved_Ïb–[()'t']:
_cimg_mp_¦Ù_t
);

17078 'w' : 
_cimg_mp_»tuº
(
»£rved_Ïb–
[()'w']!=~0U?reserved_label[()'w']:18);

17079 'x' : 
_cimg_mp_»tuº
(
»£rved_Ïb–
[()'x']!=~0U?»£rved_Ïb–[()'x']:
_cimg_mp_¦Ù_x
);

17080 'y' : 
_cimg_mp_»tuº
(
»£rved_Ïb–
[()'y']!=~0U?»£rved_Ïb–[()'y']:
_cimg_mp_¦Ù_y
);

17081 'z' : 
_cimg_mp_»tuº
(
»£rved_Ïb–
[()'z']!=~0U?»£rved_Ïb–[()'z']:
_cimg_mp_¦Ù_z
);

17083 ià(
»£rved_Ïb–
[()'u']!=~0Uè
_cimg_mp_»tuº
(reserved_label[()'u']);

17084 
_cimg_mp_sÿÏr2
(
mp_u
,0,1);

17086 ià(
»£rved_Ïb–
[()'g']!=~0Uè
_cimg_mp_»tuº
(reserved_label[()'g']);

17087 
_cimg_mp_sÿÏr0
(
mp_g
);

17089 ià(
»£rved_Ïb–
[()'i']!=~0Uè
_cimg_mp_»tuº
(reserved_label[()'i']);

17090 
_cimg_mp_sÿÏr0
(
mp_i
);

17092 
_cimg_mp_İ
("Variable 'I'");

17093 ià(
	g»£rved_Ïb–
[()'I']!=~0Uè
_cimg_mp_»tuº
(
»£rved_Ïb–
[()'I']);

17094 ià(!
	gimgš
.
	g_¥eùrum
è
_cimg_mp_»tuº
(0);

17095 
	gÃed_šput_cİy
 = 
Œue
;

17096 
	gpos
 = 
veùÜ
(
imgš
.
_¥eùrum
);

17097 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_Joff
,
pos
,0,0,
imgš
.
_¥eùrum
).
move_to
(
code
);

17098 
_cimg_mp_»tuº
(
pos
);

17100 ià(
»£rved_Ïb–
[()'R']!=~0Uè
_cimg_mp_»tuº
(reserved_label[()'R']);

17101 
	gÃed_šput_cİy
 = 
Œue
;

17102 
_cimg_mp_sÿÏr6
(
mp_ixyzc
,
_cimg_mp_¦Ù_x
,
_cimg_mp_¦Ù_y
,
_cimg_mp_¦Ù_z
,0,0,0);

17104 ià(
»£rved_Ïb–
[()'G']!=~0Uè
_cimg_mp_»tuº
(reserved_label[()'G']);

17105 
	gÃed_šput_cİy
 = 
Œue
;

17106 
_cimg_mp_sÿÏr6
(
mp_ixyzc
,
_cimg_mp_¦Ù_x
,
_cimg_mp_¦Ù_y
,
_cimg_mp_¦Ù_z
,1,0,0);

17108 ià(
»£rved_Ïb–
[()'B']!=~0Uè
_cimg_mp_»tuº
(reserved_label[()'B']);

17109 
	gÃed_šput_cİy
 = 
Œue
;

17110 
_cimg_mp_sÿÏr6
(
mp_ixyzc
,
_cimg_mp_¦Ù_x
,
_cimg_mp_¦Ù_y
,
_cimg_mp_¦Ù_z
,2,0,0);

17112 ià(
»£rved_Ïb–
[()'A']!=~0Uè
_cimg_mp_»tuº
(reserved_label[()'A']);

17113 
	gÃed_šput_cİy
 = 
Œue
;

17114 
_cimg_mp_sÿÏr6
(
mp_ixyzc
,
_cimg_mp_¦Ù_x
,
_cimg_mp_¦Ù_y
,
_cimg_mp_¦Ù_z
,3,0,0);

17116 ià(
	gss2
==
£
) {

17117 
¬g1
 = 
¬g2
 = ~0U;

17118 ià(*
	gss
=='w' && *
ss1
=='h')

17119 
_cimg_mp_»tuº
(
»£rved_Ïb–
[0]!=~0U?reserved_label[0]:23);

17120 ià(*
	gss
=='p' && *
ss1
=='i')

17121 
_cimg_mp_»tuº
(
»£rved_Ïb–
[3]!=~0U?reserved_label[3]:28);

17122 ià(*
	gss
=='i') {

17123 ià(*
ss1
>='0' && *ss1<='9') {

17124 
pos
 = 20 + *
ss1
 - '0';

17125 ià(
	g»£rved_Ïb–
[
pos
]!=~0Uè
_cimg_mp_»tuº
(
»£rved_Ïb–
[pos]);

17126 
	gÃed_šput_cİy
 = 
Œue
;

17127 
_cimg_mp_sÿÏr6
(
mp_ixyzc
,
_cimg_mp_¦Ù_x
,
_cimg_mp_¦Ù_y
,
_cimg_mp_¦Ù_z
,
pos
 - 20,0,0);

17129 *
	gss1
) {

17130 'm' : 
¬g1
 = 4; 
	g¬g2
 = 0; ;

17131 'M' : 
¬g1
 = 5; 
	g¬g2
 = 1; ;

17132 'a' : 
¬g1
 = 6; 
	g¬g2
 = 2; ;

17133 'v' : 
¬g1
 = 7; 
	g¬g2
 = 3; ;

17134 's' : 
¬g1
 = 8; 
	g¬g2
 = 12; ;

17135 'p' : 
¬g1
 = 9; 
	g¬g2
 = 13; ;

17137 ià(
»£rved_Ïb–
[10]!=~0Uè
_cimg_mp_»tuº
(reserved_label[10]);

17138 ià(
	gmem_img_medŸn
==~0Uè
mem_img_medŸn
 = 
imgš
?
cÚ¡ªt
(imgš.
medŸn
()):0;

17139 
_cimg_mp_»tuº
(
mem_img_medŸn
);

17142 ià(
»£rved_Ïb–
[11]!=~0Uè
_cimg_mp_»tuº
(reserved_label[11]);

17143 ià(
	gmem_img_nÜm
==~0Uè
mem_img_nÜm
 = 
imgš
?
cÚ¡ªt
(imgš.
magn™ude
()):0;

17144 
_cimg_mp_»tuº
(
mem_img_nÜm
);

17147 ià(*
	gss1
=='m'è*
ss
) {

17148 'x' : 
¬g1
 = 12; 
	g¬g2
 = 4; ;

17149 'y' : 
¬g1
 = 13; 
	g¬g2
 = 5; ;

17150 'z' : 
¬g1
 = 14; 
	g¬g2
 = 6; ;

17151 'c' : 
¬g1
 = 15; 
	g¬g2
 = 7; ;

17153 ià(*
	gss1
=='M'è*
ss
) {

17154 'x' : 
¬g1
 = 16; 
	g¬g2
 = 8; ;

17155 'y' : 
¬g1
 = 17; 
	g¬g2
 = 9; ;

17156 'z' : 
¬g1
 = 18; 
	g¬g2
 = 10; ;

17157 'c' : 
¬g1
 = 19; 
	g¬g2
 = 11; ;

17159 ià(
	g¬g1
!=~0U) {

17160 ià(
»£rved_Ïb–
[
¬g1
]!=~0Uè
_cimg_mp_»tuº
(reserved_label[arg1]);

17161 ià(!
	gimg_¡©s
) {

17162 
	gimg_¡©s
.
assign
(1,14,1,1,0).
fl
(
imgš
.
g‘_¡©s
(),
çl£
);

17163 
	gmem_img_¡©s
.
assign
(1,14,1,1,~0U);

17165 ià(
	gmem_img_¡©s
[
¬g2
]==~0Uè
mem_img_¡©s
[¬g2] = 
cÚ¡ªt
(
img_¡©s
[arg2]);

17166 
_cimg_mp_»tuº
(
mem_img_¡©s
[
¬g2
]);

17168 } ià(
	gss3
==
£
) {

17169 ià(*
ss
=='w' && *
ss1
=='h' && *
ss2
=='d')

17170 
_cimg_mp_»tuº
(
»£rved_Ïb–
[1]!=~0U?reserved_label[1]:24);

17171 } ià(
	gss4
==
£
) {

17172 ià(*
ss
=='w' && *
ss1
=='h' && *
ss2
=='d' && *
ss3
=='s')

17173 
_cimg_mp_»tuº
(
»£rved_Ïb–
[2]!=~0U?reserved_label[2]:25);

17176 
	gpos
 = ~0U;

17177 
	gis_¡h
 = 
çl£
;

17178 
	gs0
 = 
ss
, 
	gs
 = 
ss1
; s<
	g£1
; ++s)

17179 ià(*
	gs
==';' && 
Ëv–
[
s
 - 
ex´
.
_d©a
]==
şev–
) {

17180 
is_’d_code
 = 
çl£
;

17181 
	g¬g1
 = 
compe
(
s0
,
s
++,
d•th
,0,
is_ü™iÿl
);

17182 ià(!
	gis_’d_code
è
	gpos
 = 
¬g1
;

17183 
	gis_¡h
 = 
Œue
;

17184 *
	gs
 && (
	gcimg
::
is_bÏnk
(*
s
) || *s==';')) ++s;

17185 
	gs0
 = 
s
;

17187 ià(
	gis_¡h
) {

17188 
	gis_’d_code
 = 
çl£
;

17189 
	g¬g1
 = 
compe
(
s0
,
£
,
d•th
,
p_»f
,
is_ü™iÿl
);

17190 ià(!
	gis_’d_code
è
	gpos
 = 
¬g1
;

17191 
_cimg_mp_»tuº
(
pos
);

17195 
	gs
 = 
ss1
, 
	gps
 = 
ss
, 
	gns
 = 
ss2
; s<
	g£1
; ++s, ++ps, ++ns)

17196 ià(*
	gs
=='=' && *
ns
!='=' && *
ps
!='=' && *ps!='>' && *ps!='<' && *ps!='!' &&

17197 *
ps
!='+' && *ps!='-' && *ps!='*' && *ps!='/' && *ps!='%' &&

17198 *
ps
!='>' && *ps!='<' && *ps!='&' && *ps!='|' && *ps!='^' &&

17199 
Ëv–
[
s
 - 
ex´
.
_d©a
]==
şev–
) {

17200 
v¬ŸbË_Çme
.
assign
(
ss
,()(
s
 + 1 - ss)).
back
() = 0;

17201 
	gcimg
::
¡½¬e
(
v¬ŸbË_Çme
,
çl£
,
Œue
);

17202 cÚ¡ 
	gl_v¬ŸbË_Çme
 = ()
¡d
::
¡¾’
(
v¬ŸbË_Çme
);

17203 *cÚ¡ 
	gve1
 = 
ss
 + 
l_v¬ŸbË_Çme
 - 1;

17204 
_cimg_mp_İ
("Operator '='");

17207 ià(
	gl_v¬ŸbË_Çme
>2 && (*
	gss
=='i' || *
ss
=='j' || *ss=='I' || *ss=='J'è&& (*
ss1
=='(' || *ss1=='[') &&

17208 (
»£rved_Ïb–
[()*
ss
]==~0U || *
ss1
=='(' || !
_cimg_mp_is_veùÜ
(reserved_label[()*ss]))) {

17209 
is_»Ïtive
 = *
ss
=='j' || *ss=='J';

17211 ià(*
	gss1
=='[' && *
ve1
==']') {

17212 ià(!
is_ü™iÿl
è
is_·¿Î–izabË
 = 
çl£
;

17213 ià(*
	gss2
=='#') {

17214 
s0
 = 
ss3
; 
	gs0
<
	gve1
 && (*s0!=',' || 
Ëv–
[s0 - 
ex´
.
_d©a
]!=
şev–1
)) ++s0;

17215 
	gp1
 = 
compe
(
ss3
,
s0
++,
d•th1
,0,
is_ü™iÿl
);

17216 
_cimg_mp_check_li¡
(
Œue
);

17217 } { 
	gp1
 = ~0U; 
	gs0
 = 
ss2
; }

17218 
	g¬g1
 = 
compe
(
s0
,
ve1
,
d•th1
,0,
is_ü™iÿl
);

17219 
_cimg_mp_check_ty³
(
¬g1
,0,1,0);

17220 
	g¬g2
 = 
compe
(
s
 + 1,
£
,
d•th1
,0,
is_ü™iÿl
);

17221 
_cimg_mp_check_ty³
(
¬g2
,2,*
ss
>='i'?1:3,0);

17222 ià(
_cimg_mp_is_veùÜ
(
¬g2
)) {

17223 ià(
	gp1
!=~0U) {

17224 
_cimg_mp_check_cÚ¡ªt_šdex
(
p1
);

17225 
	gp3
 = ()
cimg
::
mod
(()
mem
[
p1
],
li¡š
.
width
());

17226 
	gp2
 = 
li¡š
[
p3
].
_¥eùrum
;

17227 } 
	gp2
 = 
imgš
.
_¥eùrum
;

17228 ià(!
	gp2
è
_cimg_mp_»tuº
(0);

17229 
_cimg_mp_check_ty³
(
¬g2
,2,2,
p2
);

17230 } 
	gp2
 = 0;

17232 ià(
	gp_»f
) {

17233 *
	gp_»f
 = 
_cimg_mp_is_veùÜ
(
¬g2
)?4:2;

17234 
	gp_»f
[1] = 
p1
;

17235 
	gp_»f
[2] = ()
is_»Ïtive
;

17236 
	gp_»f
[3] = 
¬g1
;

17237 ià(
_cimg_mp_is_veùÜ
(
¬g2
))

17238 
£t_v¬ŸbË_veùÜ
(
¬g2
);

17239 ià(
_cimg_mp_is_comp
(
¬g2
)è
	gmemty³
[arg2] = -2;

17240 ià(
_cimg_mp_is_comp
(
¬g1
)è
	gmemty³
[arg1] = -2;

17243 ià(
	gp1
!=~0U) {

17244 ià(!
li¡out
è
_cimg_mp_»tuº
(
¬g2
);

17245 ià(*
	gss
>='i')

17246 
CImg
<
ulÚgT
>::
veùÜ
((ulÚgT)(
is_»Ïtive
?
mp_li¡_£t_joff
:
mp_li¡_£t_ioff
),

17247 
¬g2
,
p1
,
¬g1
).
move_to
(
code
);

17248 ià(
_cimg_mp_is_sÿÏr
(
¬g2
))

17249 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_li¡_£t_Joff_s
:
mp_li¡_£t_Ioff_s
),

17250 
¬g2
,
p1
,
¬g1
).
move_to
(
code
);

17252 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_li¡_£t_Joff_v
:
mp_li¡_£t_Ioff_v
),

17253 
¬g2
,
p1
,
¬g1
,
_cimg_mp_size
×rg2)).
move_to
(
code
);

17255 ià(!
	gimgout
è
_cimg_mp_»tuº
(
¬g2
);

17256 ià(*
	gss
>='i')

17257 
CImg
<
ulÚgT
>::
veùÜ
((ulÚgT)(
is_»Ïtive
?
mp_£t_joff
:
mp_£t_ioff
),

17258 
¬g2
,
¬g1
).
move_to
(
code
);

17259 ià(
_cimg_mp_is_sÿÏr
(
¬g2
))

17260 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_£t_Joff_s
:
mp_£t_Ioff_s
),

17261 
¬g2
,
¬g1
).
move_to
(
code
);

17263 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_£t_Joff_v
:
mp_£t_Ioff_v
),

17264 
¬g2
,
¬g1
,
_cimg_mp_size
×rg2)).
move_to
(
code
);

17266 
_cimg_mp_»tuº
(
¬g2
);

17269 ià(*
	gss1
=='(' && *
ve1
==')') {

17270 ià(!
is_ü™iÿl
è
is_·¿Î–izabË
 = 
çl£
;

17271 ià(*
	gss2
=='#') {

17272 
s0
 = 
ss3
; 
	gs0
<
	gve1
 && (*s0!=',' || 
Ëv–
[s0 - 
ex´
.
_d©a
]!=
şev–1
)) ++s0;

17273 
	gp1
 = 
compe
(
ss3
,
s0
++,
d•th1
,0,
is_ü™iÿl
);

17274 
_cimg_mp_check_li¡
(
Œue
);

17275 } { 
	gp1
 = ~0U; 
	gs0
 = 
ss2
; }

17276 
	g¬g1
 = 
is_»Ïtive
?0U:()
_cimg_mp_¦Ù_x
;

17277 
	g¬g2
 = 
is_»Ïtive
?0U:()
_cimg_mp_¦Ù_y
;

17278 
	g¬g3
 = 
is_»Ïtive
?0U:()
_cimg_mp_¦Ù_z
;

17279 
	g¬g4
 = 
is_»Ïtive
?0U:()
_cimg_mp_¦Ù_c
;

17280 
	g¬g5
 = 
compe
(
s
 + 1,
£
,
d•th1
,0,
is_ü™iÿl
);

17281 
_cimg_mp_check_ty³
(
¬g5
,2,*
ss
>='i'?1:3,0);

17282 ià(
	gs0
<
	gve1
) {

17283 
	gs1
 = 
s0
; s1<
	gve1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

17284 
	g¬g1
 = 
compe
(
s0
,
s1
,
d•th1
,0,
is_ü™iÿl
);

17285 ià(
_cimg_mp_is_veùÜ
(
¬g1
)) {

17286 
	gp2
 = 
_cimg_mp_size
(
¬g1
);

17287 ++
	g¬g1
;

17288 ià(
	gp2
>1) {

17289 
	g¬g2
 = 
¬g1
 + 1;

17290 ià(
	gp2
>2) {

17291 
	g¬g3
 = 
¬g2
 + 1;

17292 ià(
	gp2
>3è
	g¬g4
 = 
¬g3
 + 1;

17295 } ià(
	gs1
<
	gve1
) {

17296 
	gs2
 = ++
s1
; s2<
	gve1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

17297 
	g¬g2
 = 
compe
(
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

17298 ià(
	gs2
<
	gve1
) {

17299 
	gs3
 = ++
s2
; s3<
	gve1
 && (*s3!=',' || 
Ëv–
[
s3
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s3;

17300 
	g¬g3
 = 
compe
(
s2
,
s3
,
d•th1
,0,
is_ü™iÿl
);

17301 ià(
	gs3
<
	gve1
è
	g¬g4
 = 
compe
(++
s3
,
ve1
,
d•th1
,0,
is_ü™iÿl
);

17306 ià(
_cimg_mp_is_veùÜ
(
¬g5
)) {

17307 ià(
	gp1
!=~0U) {

17308 
_cimg_mp_check_cÚ¡ªt_šdex
(
p1
);

17309 
	gp3
 = ()
cimg
::
mod
(()
mem
[
p1
],
li¡š
.
width
());

17310 
	gp2
 = 
li¡š
[
p3
].
_¥eùrum
;

17311 } 
	gp2
 = 
imgš
.
_¥eùrum
;

17312 ià(!
	gp2
è
_cimg_mp_»tuº
(0);

17313 
_cimg_mp_check_ty³
(
¬g5
,2,2,
p2
);

17314 } 
	gp2
 = 0;

17317 ià(
	gp_»f
) {

17318 *
	gp_»f
 = 
_cimg_mp_is_veùÜ
(
¬g5
)?5:3;

17319 
	gp_»f
[1] = 
p1
;

17320 
	gp_»f
[2] = ()
is_»Ïtive
;

17321 
	gp_»f
[3] = 
¬g1
;

17322 
	gp_»f
[4] = 
¬g2
;

17323 
	gp_»f
[5] = 
¬g3
;

17324 
	gp_»f
[6] = 
¬g4
;

17325 ià(
_cimg_mp_is_veùÜ
(
¬g5
))

17326 
£t_v¬ŸbË_veùÜ
(
¬g5
);

17327 ià(
_cimg_mp_is_comp
(
¬g5
)è
	gmemty³
[arg5] = -2;

17328 ià(
	gp1
!=~0U && 
_cimg_mp_is_comp
(
p1
)è
memty³
[p1] = -2;

17329 ià(
_cimg_mp_is_comp
(
¬g1
)è
	gmemty³
[arg1] = -2;

17330 ià(
_cimg_mp_is_comp
(
¬g2
)è
	gmemty³
[arg2] = -2;

17331 ià(
_cimg_mp_is_comp
(
¬g3
)è
	gmemty³
[arg3] = -2;

17332 ià(
_cimg_mp_is_comp
(
¬g4
)è
	gmemty³
[arg4] = -2;

17334 ià(
	gp1
!=~0U) {

17335 ià(!
li¡out
è
_cimg_mp_»tuº
(
¬g5
);

17336 ià(*
	gss
>='i')

17337 
CImg
<
ulÚgT
>::
veùÜ
((ulÚgT)(
is_»Ïtive
?
mp_li¡_£t_jxyzc
:
mp_li¡_£t_ixyzc
),

17338 
¬g5
,
p1
,
¬g1
,
¬g2
,
¬g3
,
¬g4
).
move_to
(
code
);

17339 ià(
_cimg_mp_is_sÿÏr
(
¬g5
))

17340 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_li¡_£t_Jxyz_s
:
mp_li¡_£t_Ixyz_s
),

17341 
¬g5
,
p1
,
¬g1
,
¬g2
,
¬g3
).
move_to
(
code
);

17343 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_li¡_£t_Jxyz_v
:
mp_li¡_£t_Ixyz_v
),

17344 
¬g5
,
p1
,
¬g1
,
¬g2
,
¬g3
,
_cimg_mp_size
×rg5)).
move_to
(
code
);

17346 ià(!
	gimgout
è
_cimg_mp_»tuº
(
¬g5
);

17347 ià(*
	gss
>='i')

17348 
CImg
<
ulÚgT
>::
veùÜ
((ulÚgT)(
is_»Ïtive
?
mp_£t_jxyzc
:
mp_£t_ixyzc
),

17349 
¬g5
,
¬g1
,
¬g2
,
¬g3
,
¬g4
).
move_to
(
code
);

17350 ià(
_cimg_mp_is_sÿÏr
(
¬g5
))

17351 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_£t_Jxyz_s
:
mp_£t_Ixyz_s
),

17352 
¬g5
,
¬g1
,
¬g2
,
¬g3
).
move_to
(
code
);

17354 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_£t_Jxyz_v
:
mp_£t_Ixyz_v
),

17355 
¬g5
,
¬g1
,
¬g2
,
¬g3
,
_cimg_mp_size
×rg5)).
move_to
(
code
);

17357 
_cimg_mp_»tuº
(
¬g5
);

17362 ià(
	gl_v¬ŸbË_Çme
>3 && *
	gve1
==']' && *
ss
!='[') {

17363 
s0
 = 
ve1
; 
	gs0
>
	gss
 && (*s0!='[' || 
Ëv–
[s0 - 
ex´
.
_d©a
]!=
şev–
)) --s0;

17364 
	gis_¡h
 = 
Œue
;

17365 ià(*
	gss
>='0' && *
ss
<='9'è
is_¡h
 = 
çl£
;

17366 
	gns
 = 
ss
;‚s<
	gs0
; ++ns)

17367 ià(!
is_v¬ch¬
(*
ns
)è{ 
	gis_¡h
 = 
çl£
; ; }

17368 ià(
	gis_¡h
 && 
	gs0
>
	gss
) {

17369 
	gv¬ŸbË_Çme
[
s0
 - 
ss
] = 0;

17370 
	g¬g1
 = ~0U;

17371 
	g¬g2
 = 
compe
(++
s0
,
ve1
,
d•th1
,0,
is_ü™iÿl
);

17372 
	g¬g3
 = 
compe
(
s
 + 1,
£
,
d•th1
,0,
is_ü™iÿl
);

17373 
_cimg_mp_check_ty³
(
¬g3
,2,1,0);

17375 ià(
	gv¬ŸbË_Çme
[1]) {

17376 
cimgli¡_fÜ
(
v¬ŸbË_def
,
i
èià(!
	g¡d
::
¡rcmp
(
v¬ŸbË_Çme
,variable_def[i])) {

17377 
	g¬g1
 = 
v¬ŸbË_pos
[
i
]; ;

17379 } 
	g¬g1
 = 
»£rved_Ïb–
[()*
v¬ŸbË_Çme
];

17380 ià(
	g¬g1
==~0Uè
compe
(
ss
,
s0
 - 1,
d•th1
,0,
is_ü™iÿl
);

17382 ià(
_cimg_mp_is_sÿÏr
(
¬g1
)è
compe
(
ss
,
s
,
d•th1
,0,
is_ü™iÿl
);

17383 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g2
)) {

17384 
	gnb
 = ()
mem
[
¬g2
];

17385 ià(
	gnb
>=0 && 
nb
<()
_cimg_mp_size
(
¬g1
)) {

17386 
¬g1
+=
nb
 + 1;

17387 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_cİy
,
¬g1
,
¬g3
).
move_to
(
code
);

17388 
_cimg_mp_»tuº
(
¬g1
);

17390 
compe
(
ss
,
s
,
d•th1
,0,
is_ü™iÿl
);

17394 ià(
	gp_»f
) {

17395 *
	gp_»f
 = 1;

17396 
	gp_»f
[1] = 
¬g1
;

17397 
	gp_»f
[2] = 
¬g2
;

17398 ià(
_cimg_mp_is_comp
(
¬g3
)è
	gmemty³
[arg3] = -2;

17399 ià(
_cimg_mp_is_comp
(
¬g2
)è
	gmemty³
[arg2] = -2;

17401 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_veùÜ_£t_off
,
¬g3
,
¬g1
,(ulÚgT)
_cimg_mp_size
×rg1),
¬g2
).

17402 
move_to
(
code
);

17403 
_cimg_mp_»tuº
(
¬g3
);

17409 ià(
	gl_v¬ŸbË_Çme
>2 && *
	gve1
==')' && *
ss
!='(') {

17410 
s0
 = 
ve1
; 
	gs0
>
	gss
 && *s0!='(') --s0;

17411 
	gis_¡h
 = 
¡d
::
¡ºcmp
(
v¬ŸbË_Çme
,"debug(",6) &&

17412 
	g¡d
::
¡ºcmp
(
v¬ŸbË_Çme
,"print(",6);

17413 ià(*
	gss
>='0' && *
ss
<='9'è
is_¡h
 = 
çl£
;

17414 
	gns
 = 
ss
;‚s<
	gs0
; ++ns)

17415 ià(!
is_v¬ch¬
(*
ns
)è{ 
	gis_¡h
 = 
çl£
; ; }

17417 ià(
	gis_¡h
 && 
	gs0
>
	gss
) {

17418 
	gs0
 = 
v¬ŸbË_Çme
.
_d©a
 + (
s0
 - 
ss
);

17419 *
	gs0
 = 0;

17420 
	gs1
 = 
v¬ŸbË_Çme
.
_d©a
 + 
l_v¬ŸbË_Çme
 - 1;

17421 
	gCImg
<
	gch¬T
>(
	gv¬ŸbË_Çme
.
	g_d©a
,()(
	gs0
 - v¬ŸbË_Çme._d©¨+ 1)).
move_to
(
maüo_def
,0);

17422 ++
	gs
; * && 
	gcimg
::
is_bÏnk
(*
s
)) ++s;

17423 
	gCImg
<
	gch¬T
>(
	gs
,()(
	g£
 - s + 1)).
move_to
(
maüo_body
,0);

17425 
	gp1
 = 1;

17426 
	gs
 = 
s0
 + 1; s<=
s1
; ++
	gp1
, s = 
ns
 + 1) {

17427 ià(
p1
>24) {

17428 
_cimg_mp_¡»¼
;

17429 
	gcimg
::
¡»Îsize
(
v¬ŸbË_Çme
,64);

17430 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

17433 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

17434 
v¬ŸbË_Çme
.
_d©a
,

17435 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

17437 *
	gs
 && 
	gcimg
::
is_bÏnk
(*
s
)) ++s;

17438 ià(*
	gs
==')' && 
p1
==1) ;

17440 
	gs2
 = 
s
;

17441 
	gis_¡h
 = 
Œue
;

17442 ià(*
	gs
>='0' && *
s
<='9'è
is_¡h
 = 
çl£
;

17443 
	gns
 = 
s
;‚s<
	gs1
 && *ns!=',' && !
cimg
::
is_bÏnk
(*
ns
); ++ns)

17444 ià(!
is_v¬ch¬
(*
ns
)è{ 
	gis_¡h
 = 
çl£
; ; }

17445 
	gs3
 = 
ns
;

17446 *
	gns
 && 
	gcimg
::
is_bÏnk
(*
ns
)) ++ns;

17447 ià(!
	gis_¡h
 || 
	gs2
==
s3
 || (*
ns
!=',' &&‚s!=
s1
)) {

17448 
_cimg_mp_¡»¼
;

17449 
	gcimg
::
¡»Îsize
(
v¬ŸbË_Çme
,64);

17450 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

17453 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

17454 
is_¡h
?"Em±y":"Inv®id",
p1
,

17455 
v¬ŸbË_Çme
.
_d©a
,

17456 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

17458 ià(
	gns
==
s1
 || *
ns
==',') {

17459 *
s3
 = 0;

17460 
	gp2
 = ()(
s3
 - 
s2
);

17461 
	gps
 = 
¡d
::
¡r¡r
(
maüo_body
[0],
s2
);…s;… ğ¡d::¡r¡r(
ps
,s2)) {

17462 ià(!((
	gps
>
	gmaüo_body
[0].
	g_d©a
 && 
is_v¬ch¬
(*(
ps
 - 1))) ||

17463 (
	gps
 + 
	gp2
<
	gmaüo_body
[0].
’d
(è&& 
is_v¬ch¬
(*(
ps
 + 
p2
))))) {

17464 ià(
	gps
>
	gmaüo_body
[0].
	g_d©a
 && *(ps - 1)=='#') {

17465 *(
ps
 - 1èğ()
p1
;

17466 ià(
	gps
 + 
	gp2
<
	gmaüo_body
[0].
’d
() && *(ps +…2)=='#') {

17467 
¡d
::
memmove
(
ps
,p + 
p2
 + 1,
maüo_body
[0].
’d
() -…s -…2 - 1);

17468 
	gmaüo_body
[0].
	g_width
-=
p2
 + 1;

17470 
	g¡d
::
memmove
(
ps
,p + 
p2
,
maüo_body
[0].
’d
() -…s -…2);

17471 
	gmaüo_body
[0].
	g_width
-=
p2
;

17473 } ià(
	gps
 + 
	gp2
<
	gmaüo_body
[0].
’d
() && *(ps +…2)=='#') {

17474 *(
ps
++èğ()
p1
;

17475 
	g¡d
::
memmove
(
ps
,p + 
p2
,
maüo_body
[0].
’d
() -…s -…2);

17476 
	gmaüo_body
[0].
	g_width
-=
p2
;

17478 ià(
	gp2
<3) {

17479 
	gps
-=(
ulÚgT
)
maüo_body
[0].
_d©a
;

17480 
	gmaüo_body
[0].
»size
(
maüo_body
[0].
_width
 - 
p2
 + 3,1,1,1,0);

17481 
	gps
+=(
ulÚgT
)
maüo_body
[0].
_d©a
;

17482 } 
	gmaüo_body
[0].
	g_width
-=
p2
 - 3;

17483 
	g¡d
::
memmove
(
ps
 + 3,p + 
p2
,
maüo_body
[0].
’d
() -…s - 3);

17484 *(
	gps
++) = '(';

17485 *(
	gps
++èğ()
p1
;

17486 *(
	gps
++) = ')';

17488 } ++
	gps
;

17494 
	gmaüo_def
[0].
»size
(
maüo_def
[0].
_width
 + 1,1,1,1,0).
back
(èğ()(
p1
 - 1);

17497 
is_šside_¡ršg
(
maüo_body
[0]).
move_to
(
maüo_body_is_¡ršg
,0);

17498 
_cimg_mp_»tuº_Çn
();

17503 
	gis_¡h
 = 
Œue
;

17504 cÚ¡ 
boŞ
 
	gis_cÚ¡
 = 
l_v¬ŸbË_Çme
>6 && !
¡d
::
¡ºcmp
(
v¬ŸbË_Çme
,"const ",6);

17506 
	gs0
 = 
v¬ŸbË_Çme
.
_d©a
;

17507 ià(
	gis_cÚ¡
) {

17508 
	gs0
+=6; 
	gcimg
::
is_bÏnk
(*
s0
)) ++s0;

17509 
	gv¬ŸbË_Çme
.
»size
(
v¬ŸbË_Çme
.
’d
(è- 
s0
,1,1,1,0,0,1);

17512 ià(*
	gv¬ŸbË_Çme
>='0' && *
v¬ŸbË_Çme
<='9'è
is_¡h
 = 
çl£
;

17513 
	gns
 = 
v¬ŸbË_Çme
.
_d©a
; *ns; ++ns)

17514 ià(!
is_v¬ch¬
(*
ns
)è{ 
	gis_¡h
 = 
çl£
; ; }

17517 ià(
	gis_¡h
) {

17518 
g‘_v¬ŸbË_pos
(
v¬ŸbË_Çme
,
¬g1
,
¬g2
);

17519 
	g¬g3
 = 
compe
(
s
 + 1,
£
,
d•th1
,0,
is_ü™iÿl
);

17520 ià(
	gis_cÚ¡
è
_cimg_mp_check_cÚ¡ªt
(
¬g3
,2,0);

17521 
	g¬g1
 = 
¬g2
!=~0U?
»£rved_Ïb–
[¬g2]:
¬g1
!=~0U?
v¬ŸbË_pos
[arg1]:~0U;

17523 ià(
	g¬g1
==~0U) {

17524 ià(
_cimg_mp_is_veùÜ
(
¬g3
)) {

17525 
¬g1
 = 
is_comp_veùÜ
(
¬g3
)?¬g3:
veùÜ_cİy
(arg3);

17526 
£t_v¬ŸbË_veùÜ
(
¬g1
);

17528 ià(
	gis_cÚ¡
è
	g¬g1
 = 
¬g3
;

17530 
	g¬g1
 = 
_cimg_mp_is_comp
(
¬g3
)?¬g3:
sÿÏr1
(
mp_cİy
,arg3);

17531 
	gmemty³
[
¬g1
] = -1;

17534 ià(
	g¬g2
!=~0Uè
»£rved_Ïb–
[
¬g2
] = 
¬g1
;

17536 ià(
	gv¬ŸbË_def
.
	g_width
>=
v¬ŸbË_pos
.
_width
èv¬ŸbË_pos.
»size
(-200,1,1,1,0);

17537 
	gv¬ŸbË_pos
[
v¬ŸbË_def
.
_width
] = 
¬g1
;

17538 
	gv¬ŸbË_Çme
.
move_to
(
v¬ŸbË_def
);

17542 ià(
	gis_cÚ¡
 || 
_cimg_mp_is_cÚ¡ªt
(
¬g1
)) {

17543 
	g_cimg_mp_¡»¼
;

17544 
	gcimg
::
¡»Îsize
(
v¬ŸbË_Çme
,64);

17545 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

17548 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

17549 
_cimg_mp_is_cÚ¡ªt
(
¬g1
)?"already-defined ":"non-",

17550 
v¬ŸbË_Çme
.
_d©a
,

17551 !
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& 
is_cÚ¡
?"‡s‡‚ew const variable":"",

17552 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

17554 
_cimg_mp_check_ty³
(
¬g3
,2,
_cimg_mp_is_veùÜ
(
¬g1
)?3:1,
_cimg_mp_size
(arg1));

17555 ià(
_cimg_mp_is_veùÜ
(
¬g1
)) {

17556 ià(
_cimg_mp_is_veùÜ
(
¬g3
))

17557 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_veùÜ_cİy
,
¬g1
,
¬g3
,(ulÚgT)
_cimg_mp_size
(arg1)).

17558 
move_to
(
code
);

17560 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_veùÜ_š™
,
¬g1
,1,(ulÚgT)
_cimg_mp_size
×rg1),
¬g3
).

17561 
move_to
(
code
);

17563 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_cİy
,
¬g1
,
¬g3
).
move_to
(
code
);

17565 
_cimg_mp_»tuº
(
¬g1
);

17569 
	g¬g1
 = ~0U;

17570 
	gis_¡h
 = (
boŞ
)
¡d
::
¡rchr
(
v¬ŸbË_Çme
,'?');

17571 ià(
	gis_¡h
) ;

17573 ià(
	gl_v¬ŸbË_Çme
>2 && (
	g¡d
::
¡rchr
(
v¬ŸbË_Çme
,'(') || std::strchr(variable_name,'['))) {

17574 
	g»f
.
assign
(7);

17575 
	g¬g1
 = 
compe
(
ss
,
s
,
d•th1
,
»f
,
is_ü™iÿl
);

17576 
	g¬g2
 = 
compe
(
s
 + 1,
£
,
d•th1
,0,
is_ü™iÿl
);

17578 ià(*
	g»f
==1) {

17579 
_cimg_mp_check_ty³
(
¬g2
,2,1,0);

17580 
	g¬g3
 = 
»f
[1];

17581 
	g¬g4
 = 
»f
[2];

17582 ià(
	gp_»f
è
	g¡d
::
memıy
(
p_»f
,
»f
,
siz_»f
);

17583 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_veùÜ_£t_off
,
¬g2
,
¬g3
,(ulÚgT)
_cimg_mp_size
×rg3),
¬g4
).

17584 
move_to
(
code
);

17585 
_cimg_mp_»tuº
(
¬g2
);

17588 ià(*
	g»f
==2) {

17589 ià(!
is_ü™iÿl
è
is_·¿Î–izabË
 = 
çl£
;

17590 
_cimg_mp_check_ty³
(
¬g2
,2,1,0);

17591 
	gp1
 = 
»f
[1];

17592 
	gis_»Ïtive
 = (
boŞ
)
»f
[2];

17593 
	g¬g3
 = 
»f
[3];

17594 ià(
	gp_»f
è
	g¡d
::
memıy
(
p_»f
,
»f
,
siz_»f
);

17595 ià(
	gp1
!=~0U) {

17596 ià(!
li¡out
è
_cimg_mp_»tuº
(
¬g2
);

17597 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_li¡_£t_joff
:
mp_li¡_£t_ioff
),

17598 
¬g2
,
p1
,
¬g3
).
move_to
(
code
);

17600 ià(!
	gimgout
è
_cimg_mp_»tuº
(
¬g2
);

17601 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_£t_joff
:
mp_£t_ioff
),

17602 
¬g2
,
¬g3
).
move_to
(
code
);

17604 
_cimg_mp_»tuº
(
¬g2
);

17607 ià(*
	g»f
==3) {

17608 ià(!
is_ü™iÿl
è
is_·¿Î–izabË
 = 
çl£
;

17609 
_cimg_mp_check_ty³
(
¬g2
,2,1,0);

17610 
	gp1
 = 
»f
[1];

17611 
	gis_»Ïtive
 = (
boŞ
)
»f
[2];

17612 
	g¬g3
 = 
»f
[3];

17613 
	g¬g4
 = 
»f
[4];

17614 
	g¬g5
 = 
»f
[5];

17615 
	g¬g6
 = 
»f
[6];

17616 ià(
	gp_»f
è
	g¡d
::
memıy
(
p_»f
,
»f
,
siz_»f
);

17617 ià(
	gp1
!=~0U) {

17618 ià(!
li¡out
è
_cimg_mp_»tuº
(
¬g2
);

17619 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_li¡_£t_jxyzc
:
mp_li¡_£t_ixyzc
),

17620 
¬g2
,
p1
,
¬g3
,
¬g4
,
¬g5
,
¬g6
).
move_to
(
code
);

17622 ià(!
	gimgout
è
_cimg_mp_»tuº
(
¬g2
);

17623 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_£t_jxyzc
:
mp_£t_ixyzc
),

17624 
¬g2
,
¬g3
,
¬g4
,
¬g5
,
¬g6
).
move_to
(
code
);

17626 
_cimg_mp_»tuº
(
¬g2
);

17629 ià(*
	g»f
==4) {

17630 ià(!
is_ü™iÿl
è
is_·¿Î–izabË
 = 
çl£
;

17631 
_cimg_mp_check_ty³
(
¬g2
,2,3,
_cimg_mp_size
(
¬g1
));

17632 
	gp1
 = 
»f
[1];

17633 
	gis_»Ïtive
 = (
boŞ
)
»f
[2];

17634 
	g¬g3
 = 
»f
[3];

17635 ià(
	gp_»f
è
	g¡d
::
memıy
(
p_»f
,
»f
,
siz_»f
);

17636 ià(
	gp1
!=~0U) {

17637 ià(!
li¡out
è
_cimg_mp_»tuº
(
¬g2
);

17638 ià(
_cimg_mp_is_sÿÏr
(
¬g2
))

17639 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_li¡_£t_Joff_s
:
mp_li¡_£t_Ioff_s
),

17640 
¬g2
,
p1
,
¬g3
).
move_to
(
code
);

17642 
_cimg_mp_check_cÚ¡ªt_šdex
(
p1
);

17643 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_li¡_£t_Joff_v
:
mp_li¡_£t_Ioff_v
),

17644 
¬g2
,
p1
,
¬g3
,
_cimg_mp_size
×rg2)).
move_to
(
code
);

17648 ià(!
	gimgout
è
_cimg_mp_»tuº
(
¬g2
);

17649 ià(
_cimg_mp_is_sÿÏr
(
¬g2
))

17650 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_£t_Joff_s
:
mp_£t_Ioff_s
),

17651 
¬g2
,
¬g3
).
move_to
(
code
);

17653 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_£t_Joff_v
:
mp_£t_Ioff_v
),

17654 
¬g2
,
¬g3
,
_cimg_mp_size
×rg2)).
move_to
(
code
);

17656 
_cimg_mp_»tuº
(
¬g2
);

17659 ià(*
	g»f
==5) {

17660 ià(!
is_ü™iÿl
è
is_·¿Î–izabË
 = 
çl£
;

17661 
_cimg_mp_check_ty³
(
¬g2
,2,3,
_cimg_mp_size
(
¬g1
));

17662 
	gp1
 = 
»f
[1];

17663 
	gis_»Ïtive
 = (
boŞ
)
»f
[2];

17664 
	g¬g3
 = 
»f
[3];

17665 
	g¬g4
 = 
»f
[4];

17666 
	g¬g5
 = 
»f
[5];

17667 ià(
	gp_»f
è
	g¡d
::
memıy
(
p_»f
,
»f
,
siz_»f
);

17668 ià(
	gp1
!=~0U) {

17669 ià(!
li¡out
è
_cimg_mp_»tuº
(
¬g2
);

17670 ià(
_cimg_mp_is_sÿÏr
(
¬g2
))

17671 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_li¡_£t_Jxyz_s
:
mp_li¡_£t_Ixyz_s
),

17672 
¬g2
,
p1
,
¬g3
,
¬g4
,
¬g5
).
move_to
(
code
);

17674 
_cimg_mp_check_cÚ¡ªt_šdex
(
p1
);

17675 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_li¡_£t_Jxyz_v
:
mp_li¡_£t_Ixyz_v
),

17676 
¬g2
,
p1
,
¬g3
,
¬g4
,
¬g5
,
_cimg_mp_size
×rg2)).
move_to
(
code
);

17680 ià(!
	gimgout
è
_cimg_mp_»tuº
(
¬g2
);

17681 ià(
_cimg_mp_is_sÿÏr
(
¬g2
))

17682 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_£t_Jxyz_s
:
mp_£t_Ixyz_s
),

17683 
¬g2
,
¬g3
,
¬g4
,
¬g5
).
move_to
(
code
);

17685 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_£t_Jxyz_v
:
mp_£t_Ixyz_v
),

17686 
¬g2
,
¬g3
,
¬g4
,
¬g5
,
_cimg_mp_size
×rg2)).
move_to
(
code
);

17688 
_cimg_mp_»tuº
(
¬g2
);

17691 ià(
_cimg_mp_is_veùÜ
(
¬g1
)) {

17692 
_cimg_mp_check_ty³
(
¬g2
,2,3,
_cimg_mp_size
(
¬g1
));

17693 ià(
_cimg_mp_is_veùÜ
(
¬g2
))

17694 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_veùÜ_cİy
,
¬g1
,
¬g2
,(ulÚgT)
_cimg_mp_size
(arg1)).

17695 
move_to
(
code
);

17697 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_veùÜ_š™
,
¬g1
,1,(ulÚgT)
_cimg_mp_size
×rg1),
¬g2
).

17698 
move_to
(
code
);

17699 
_cimg_mp_»tuº
(
¬g1
);

17702 ià(
_cimg_mp_is_v¬ŸbË
(
¬g1
)) {

17703 
_cimg_mp_check_ty³
(
¬g2
,2,1,0);

17704 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_cİy
,
¬g1
,
¬g2
).
move_to
(
code
);

17705 
_cimg_mp_»tuº
(
¬g1
);

17710 
	g_cimg_mp_¡»¼
;

17711 
	gcimg
::
¡»Îsize
(
v¬ŸbË_Çme
,64);

17712 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

17715 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

17716 
¬g1
!=~0U && 
_cimg_mp_is_cÚ¡ªt
(arg1)?"const ":"",

17717 
v¬ŸbË_Çme
.
_d©a
,

17718 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

17722 
	gs
 = 
£2
, 
	gps
 = 
£3
, 
	gns
 = 
ps
 - 1; s>
	gss1
; --s, --ps, --ns)

17723 ià(*
	gs
=='=' && (*
ps
=='*' || *ps=='/' || *ps=='^'è&& *
ns
==*ps &&

17724 
Ëv–
[
s
 - 
ex´
.
_d©a
]==
şev–
) {

17725 
_cimg_mp_İ
(*
ps
=='*'?"Operator '**='":*ps=='/'?"Operator '//='":"Operator '^^='");

17727 
	g»f
.
assign
(7);

17728 
	g¬g1
 = 
compe
(
ss
,
ns
,
d•th1
,
»f
,
is_ü™iÿl
);

17729 
	g¬g2
 = 
compe
(
s
 + 1,
£
,
d•th1
,0,
is_ü™iÿl
);

17730 
_cimg_mp_check_ty³
(
¬g1
,1,2,2);

17731 
_cimg_mp_check_ty³
(
¬g2
,2,3,2);

17732 ià(
_cimg_mp_is_veùÜ
(
¬g2
)) {

17733 ià(*
	gps
=='*')

17734 
CImg
<
ulÚgT
>::
veùÜ
((ulÚgT)
mp_com¶ex_mul
,
¬g1
,¬g1,
¬g2
).
move_to
(
code
);

17735 ià(*
	gps
=='/')

17736 
CImg
<
ulÚgT
>::
veùÜ
((ulÚgT)
mp_com¶ex_div_vv
,
¬g1
,¬g1,
¬g2
).
move_to
(
code
);

17738 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_pow_vv
,
¬g1
,¬g1,
¬g2
).
move_to
(
code
);

17740 ià(*
	gps
=='*') {

17741 ià(
¬g2
==1è
_cimg_mp_»tuº
(
¬g1
);

17742 
£lf_veùÜ_s
(
¬g1
,
mp_£lf_mul
,
¬g2
);

17743 } ià(*
	gps
=='/') {

17744 ià(
¬g2
==1è
_cimg_mp_»tuº
(
¬g1
);

17745 
£lf_veùÜ_s
(
¬g1
,
mp_£lf_div
,
¬g2
);

17747 ià(
	g¬g2
==1è
_cimg_mp_»tuº
(
¬g1
);

17748 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_pow_vs
,
¬g1
,¬g1,
¬g2
).
move_to
(
code
);

17752 ià(*
	g»f
==4) {

17753 ià(!
is_ü™iÿl
è
is_·¿Î–izabË
 = 
çl£
;

17754 
	gp1
 = 
»f
[1];

17755 
	gis_»Ïtive
 = (
boŞ
)
»f
[2];

17756 
	g¬g3
 = 
»f
[3];

17757 ià(
	gp_»f
è
	g¡d
::
memıy
(
p_»f
,
»f
,
siz_»f
);

17758 ià(
	gp1
!=~0U) {

17759 ià(!
li¡out
è
_cimg_mp_»tuº
(
¬g1
);

17760 
_cimg_mp_check_cÚ¡ªt_šdex
(
p1
);

17761 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_li¡_£t_Joff_v
:
mp_li¡_£t_Ioff_v
),

17762 
¬g1
,
p1
,
¬g3
,
_cimg_mp_size
×rg1)).
move_to
(
code
);

17764 ià(!
	gimgout
è
_cimg_mp_»tuº
(
¬g1
);

17765 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_£t_Joff_v
:
mp_£t_Ioff_v
),

17766 
¬g1
,
¬g3
,
_cimg_mp_size
×rg1)).
move_to
(
code
);

17769 } ià(*
	g»f
==5) {

17770 ià(!
is_ü™iÿl
è
is_·¿Î–izabË
 = 
çl£
;

17771 
	gp1
 = 
»f
[1];

17772 
	gis_»Ïtive
 = (
boŞ
)
»f
[2];

17773 
	g¬g3
 = 
»f
[3];

17774 
	g¬g4
 = 
»f
[4];

17775 
	g¬g5
 = 
»f
[5];

17776 ià(
	gp_»f
è
	g¡d
::
memıy
(
p_»f
,
»f
,
siz_»f
);

17777 ià(
	gp1
!=~0U) {

17778 ià(!
li¡out
è
_cimg_mp_»tuº
(
¬g1
);

17779 
_cimg_mp_check_cÚ¡ªt_šdex
(
p1
);

17780 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_li¡_£t_Jxyz_v
:
mp_li¡_£t_Ixyz_v
),

17781 
¬g1
,
p1
,
¬g3
,
¬g4
,
¬g5
,
_cimg_mp_size
×rg1)).
move_to
(
code
);

17783 ià(!
	gimgout
è
_cimg_mp_»tuº
(
¬g1
);

17784 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_£t_Jxyz_v
:
mp_£t_Ixyz_v
),

17785 
¬g1
,
¬g3
,
¬g4
,
¬g5
,
_cimg_mp_size
×rg1)).
move_to
(
code
);

17789 
_cimg_mp_»tuº
(
¬g1
);

17792 
	gs
 = 
£2
, 
	gps
 = 
£3
, 
	gns
 = 
ps
 - 1; s>
	gss1
; --s, --ps, --ns)

17793 ià(*
	gs
=='=' && (*
ps
=='+' || *ps=='-' || *ps=='*' || *ps=='/' || *ps=='%' ||

17794 *
ps
=='&' || *ps=='^' || *ps=='|' ||

17795 (*
ps
=='>' && *
ns
=='>') || (*ps=='<' && *ns=='<')) &&

17796 
Ëv–
[
s
 - 
ex´
.
_d©a
]==
şev–
) {

17797 *
ps
) {

17798 '+' : 
İ
 = 
mp_£lf_add
; 
_cimg_mp_İ
("Operator '+='"); ;

17799 '-' : 
İ
 = 
mp_£lf_sub
; 
_cimg_mp_İ
("Operator '-='"); ;

17800 '*' : 
İ
 = 
mp_£lf_mul
; 
_cimg_mp_İ
("Operator '*='"); ;

17801 '/' : 
İ
 = 
mp_£lf_div
; 
_cimg_mp_İ
("Operator '/='"); ;

17802 '%' : 
İ
 = 
mp_£lf_modulo
; 
_cimg_mp_İ
("Operator '%='"); ;

17803 '<' : 
İ
 = 
mp_£lf_b™wi£_Ëá_shiá
; 
_cimg_mp_İ
("Operator '<<='"); ;

17804 '>' : 
İ
 = 
mp_£lf_b™wi£_right_shiá
; 
_cimg_mp_İ
("Operator '>>='"); ;

17805 '&' : 
İ
 = 
mp_£lf_b™wi£_ªd
; 
_cimg_mp_İ
("Operator '&='"); ;

17806 '|' : 
İ
 = 
mp_£lf_b™wi£_Ü
; 
_cimg_mp_İ
("Operator '|='"); ;

17807  : 
İ
 = 
mp_£lf_pow
; 
_cimg_mp_İ
("Operator '^='"); ;

17809 
	gs1
 = *
ps
=='>' || *ps=='<'?
ns
:ps;

17811 
	g»f
.
assign
(7);

17812 
	g¬g1
 = 
compe
(
ss
,
s1
,
d•th1
,
»f
,
is_ü™iÿl
);

17813 
	g¬g2
 = 
compe
(
s
 + 1,
£
,
d•th1
,0,
is_ü™iÿl
);

17816 ià((
	gİ
==
mp_£lf_add
 || 
İ
==
mp_£lf_sub
è&& !
¬g2
è
_cimg_mp_»tuº
(
¬g1
);

17817 ià((
	gİ
==
mp_£lf_mul
 || 
İ
==
mp_£lf_div
è&& 
¬g2
==1è
_cimg_mp_»tuº
(
¬g1
);

17820 ià(*
	g»f
 && (
_cimg_mp_is_cÚ¡ªt
(
¬g1
è|| 
_cimg_mp_is_veùÜ
×rg1è|| 
_cimg_mp_is_v¬ŸbË
(arg1))) {

17821 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
	g¬g1
 = 
veùÜ_cİy
(arg1);

17822 
	g¬g1
 = 
sÿÏr1
(
mp_cİy
,
¬g1
);

17825 ià(*
	g»f
==1) {

17826 
_cimg_mp_check_ty³
(
¬g2
,2,1,0);

17827 
	g¬g3
 = 
»f
[1];

17828 
	g¬g4
 = 
»f
[2];

17829 ià(
	gp_»f
è
	g¡d
::
memıy
(
p_»f
,
»f
,
siz_»f
);

17830 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
İ
,
¬g1
,
¬g2
).
move_to
(
code
);

17831 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_veùÜ_£t_off
,
¬g1
,
¬g3
,(ulÚgT)
_cimg_mp_size
×rg3),
¬g4
).

17832 
move_to
(
code
);

17833 
_cimg_mp_»tuº
(
¬g1
);

17836 ià(*
	g»f
==2) {

17837 ià(!
is_ü™iÿl
è
is_·¿Î–izabË
 = 
çl£
;

17838 
_cimg_mp_check_ty³
(
¬g2
,2,1,0);

17839 
	gp1
 = 
»f
[1];

17840 
	gis_»Ïtive
 = (
boŞ
)
»f
[2];

17841 
	g¬g3
 = 
»f
[3];

17842 ià(
	gp_»f
è
	g¡d
::
memıy
(
p_»f
,
»f
,
siz_»f
);

17843 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
İ
,
¬g1
,
¬g2
).
move_to
(
code
);

17844 ià(
	gp1
!=~0U) {

17845 ià(!
li¡out
è
_cimg_mp_»tuº
(
¬g1
);

17846 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_li¡_£t_joff
:
mp_li¡_£t_ioff
),

17847 
¬g1
,
p1
,
¬g3
).
move_to
(
code
);

17849 ià(!
	gimgout
è
_cimg_mp_»tuº
(
¬g1
);

17850 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_£t_joff
:
mp_£t_ioff
),

17851 
¬g1
,
¬g3
).
move_to
(
code
);

17853 
_cimg_mp_»tuº
(
¬g1
);

17856 ià(*
	g»f
==3) {

17857 ià(!
is_ü™iÿl
è
is_·¿Î–izabË
 = 
çl£
;

17858 
_cimg_mp_check_ty³
(
¬g2
,2,1,0);

17859 
	gp1
 = 
»f
[1];

17860 
	gis_»Ïtive
 = (
boŞ
)
»f
[2];

17861 
	g¬g3
 = 
»f
[3];

17862 
	g¬g4
 = 
»f
[4];

17863 
	g¬g5
 = 
»f
[5];

17864 
	g¬g6
 = 
»f
[6];

17865 ià(
	gp_»f
è
	g¡d
::
memıy
(
p_»f
,
»f
,
siz_»f
);

17866 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
İ
,
¬g1
,
¬g2
).
move_to
(
code
);

17867 ià(
	gp1
!=~0U) {

17868 ià(!
li¡out
è
_cimg_mp_»tuº
(
¬g1
);

17869 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_li¡_£t_jxyzc
:
mp_li¡_£t_ixyzc
),

17870 
¬g1
,
p1
,
¬g3
,
¬g4
,
¬g5
,
¬g6
).
move_to
(
code
);

17872 ià(!
	gimgout
è
_cimg_mp_»tuº
(
¬g1
);

17873 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_£t_jxyzc
:
mp_£t_ixyzc
),

17874 
¬g1
,
¬g3
,
¬g4
,
¬g5
,
¬g6
).
move_to
(
code
);

17876 
_cimg_mp_»tuº
(
¬g1
);

17879 ià(*
	g»f
==4) {

17880 ià(!
is_ü™iÿl
è
is_·¿Î–izabË
 = 
çl£
;

17881 
_cimg_mp_check_ty³
(
¬g2
,2,3,
_cimg_mp_size
(
¬g1
));

17882 
	gp1
 = 
»f
[1];

17883 
	gis_»Ïtive
 = (
boŞ
)
»f
[2];

17884 
	g¬g3
 = 
»f
[3];

17885 ià(
	gp_»f
è
	g¡d
::
memıy
(
p_»f
,
»f
,
siz_»f
);

17886 ià(
_cimg_mp_is_sÿÏr
(
¬g2
)è
£lf_veùÜ_s
(
¬g1
,
İ
,¬g2); 
£lf_veùÜ_v
(arg1,op,arg2);

17887 ià(
	gp1
!=~0U) {

17888 ià(!
li¡out
è
_cimg_mp_»tuº
(
¬g1
);

17889 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_li¡_£t_Joff_v
:
mp_li¡_£t_Ioff_v
),

17890 
¬g1
,
p1
,
¬g3
,
_cimg_mp_size
×rg1)).
move_to
(
code
);

17892 ià(!
	gimgout
è
_cimg_mp_»tuº
(
¬g1
);

17893 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_£t_Joff_v
:
mp_£t_Ioff_v
),

17894 
¬g1
,
¬g3
,
_cimg_mp_size
×rg1)).
move_to
(
code
);

17896 
_cimg_mp_»tuº
(
¬g1
);

17899 ià(*
	g»f
==5) {

17900 ià(!
is_ü™iÿl
è
is_·¿Î–izabË
 = 
çl£
;

17901 
_cimg_mp_check_ty³
(
¬g2
,2,3,
_cimg_mp_size
(
¬g1
));

17902 
	gp1
 = 
»f
[1];

17903 
	gis_»Ïtive
 = (
boŞ
)
»f
[2];

17904 
	g¬g3
 = 
»f
[3];

17905 
	g¬g4
 = 
»f
[4];

17906 
	g¬g5
 = 
»f
[5];

17907 ià(
	gp_»f
è
	g¡d
::
memıy
(
p_»f
,
»f
,
siz_»f
);

17908 ià(
_cimg_mp_is_sÿÏr
(
¬g2
)è
£lf_veùÜ_s
(
¬g1
,
İ
,¬g2); 
£lf_veùÜ_v
(arg1,op,arg2);

17909 ià(
	gp1
!=~0U) {

17910 ià(!
li¡out
è
_cimg_mp_»tuº
(
¬g1
);

17911 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_li¡_£t_Jxyz_v
:
mp_li¡_£t_Ixyz_v
),

17912 
¬g1
,
p1
,
¬g3
,
¬g4
,
¬g5
,
_cimg_mp_size
×rg1)).
move_to
(
code
);

17914 ià(!
	gimgout
è
_cimg_mp_»tuº
(
¬g1
);

17915 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_£t_Jxyz_v
:
mp_£t_Ixyz_v
),

17916 
¬g1
,
¬g3
,
¬g4
,
¬g5
,
_cimg_mp_size
×rg1)).
move_to
(
code
);

17918 
_cimg_mp_»tuº
(
¬g1
);

17921 ià(
_cimg_mp_is_veùÜ
(
¬g1
)) {

17922 
_cimg_mp_check_ty³
(
¬g2
,2,3,
_cimg_mp_size
(
¬g1
));

17923 ià(
_cimg_mp_is_veùÜ
(
¬g2
)è
£lf_veùÜ_v
(
¬g1
,
İ
,arg2);

17924 
£lf_veùÜ_s
(
¬g1
,
İ
,
¬g2
);

17925 
_cimg_mp_»tuº
(
¬g1
);

17928 ià(
_cimg_mp_is_v¬ŸbË
(
¬g1
)) {

17929 
_cimg_mp_check_ty³
(
¬g2
,2,1,0);

17930 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
İ
,
¬g1
,
¬g2
).
move_to
(
code
);

17931 
_cimg_mp_»tuº
(
¬g1
);

17934 
	gv¬ŸbË_Çme
.
assign
(
ss
,()(
s
 - ss)).
back
() = 0;

17935 
	gcimg
::
¡½¬e
(
v¬ŸbË_Çme
,
çl£
,
Œue
);

17936 
	g_cimg_mp_¡»¼
;

17937 
	gcimg
::
¡»Îsize
(
v¬ŸbË_Çme
,64);

17938 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

17941 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

17942 
_cimg_mp_is_cÚ¡ªt
(
¬g1
)?"const ":"",

17943 
v¬ŸbË_Çme
.
_d©a
,

17944 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

17947 
	gs
 = 
ss1
; s<
	g£1
; ++s)

17948 ià(*
	gs
=='?' && 
Ëv–
[
s
 - 
ex´
.
_d©a
]==
şev–
) {

17949 
_cimg_mp_İ
("Operator '?:'");

17950 
	gs1
 = 
s
 + 1; s1<
	g£1
 && (*s1!=':' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–
)) ++s1;

17951 
	g¬g1
 = 
compe
(
ss
,
s
,
d•th1
,0,
is_ü™iÿl
);

17952 
_cimg_mp_check_ty³
(
¬g1
,1,1,0);

17953 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)) {

17954 ià((
	gboŞ
)
	gmem
[
¬g1
]è 
compe
(
s
 + 1,*
s1
!=':'?
£
:s1,
d•th1
,0,
is_ü™iÿl
);

17955  *
	gs1
!=':'?0:
compe
(++
s1
,
£
,
d•th1
,0,
is_ü™iÿl
);

17957 
	gp2
 = 
code
.
_width
;

17958 
	g¬g2
 = 
compe
(
s
 + 1,*
s1
!=':'?
£
:s1,
d•th1
,0,
is_ü™iÿl
);

17959 
	gp3
 = 
code
.
_width
;

17960 
	g¬g3
 = *
s1
==':'?
compe
(++s1,
£
,
d•th1
,0,
is_ü™iÿl
):

17961 
_cimg_mp_is_veùÜ
(
¬g2
)?
veùÜ
(
_cimg_mp_size
(arg2),0):0;

17962 
_cimg_mp_check_ty³
(
¬g3
,3,
_cimg_mp_is_veùÜ
(
¬g2
)?2:1,
_cimg_mp_size
(arg2));

17963 
	g¬g4
 = 
_cimg_mp_size
(
¬g2
);

17964 ià(
	g¬g4
è
	gpos
 = 
veùÜ
(
¬g4
); po ğ
sÿÏr
();

17965 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_if
,
pos
,
¬g1
,
¬g2
,
¬g3
,

17966 
p3
 - 
p2
,
code
.
_width
 -…3,
¬g4
).
move_to
(code,p2);

17967 
_cimg_mp_»tuº
(
pos
);

17970 
	gs
 = 
£3
, 
	gns
 = 
£2
; s>
	gss
; --s, --ns)

17971 ià(*
	gs
=='|' && *
ns
=='|' && 
Ëv–
[
s
 - 
ex´
.
_d©a
]==
şev–
) {

17972 
_cimg_mp_İ
("Operator '||'");

17973 
	g¬g1
 = 
compe
(
ss
,
s
,
d•th1
,0,
is_ü™iÿl
);

17974 
_cimg_mp_check_ty³
(
¬g1
,1,1,0);

17975 ià(
	g¬g1
>0 &&‡rg1<=16è
_cimg_mp_»tuº
(1);

17976 
	gp2
 = 
code
.
_width
;

17977 
	g¬g2
 = 
compe
(
s
 + 2,
£
,
d•th1
,0,
is_ü™iÿl
);

17978 
_cimg_mp_check_ty³
(
¬g2
,2,1,0);

17979 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
))

17980 
_cimg_mp_cÚ¡ªt
(
mem
[
¬g1
] || mem[
¬g2
]);

17981 ià(!
	g¬g1
è
_cimg_mp_»tuº
(
¬g2
);

17982 
	gpos
 = 
sÿÏr
();

17983 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_logiÿl_Ü
,
pos
,
¬g1
,
¬g2
,
code
.
_width
 - 
p2
).

17984 
move_to
(
code
,
p2
);

17985 
_cimg_mp_»tuº
(
pos
);

17988 
	gs
 = 
£3
, 
	gns
 = 
£2
; s>
	gss
; --s, --ns)

17989 ià(*
	gs
=='&' && *
ns
=='&' && 
Ëv–
[
s
 - 
ex´
.
_d©a
]==
şev–
) {

17990 
_cimg_mp_İ
("Operator '&&'");

17991 
	g¬g1
 = 
compe
(
ss
,
s
,
d•th1
,0,
is_ü™iÿl
);

17992 
_cimg_mp_check_ty³
(
¬g1
,1,1,0);

17993 ià(!
	g¬g1
è
_cimg_mp_»tuº
(0);

17994 
	gp2
 = 
code
.
_width
;

17995 
	g¬g2
 = 
compe
(
s
 + 2,
£
,
d•th1
,0,
is_ü™iÿl
);

17996 
_cimg_mp_check_ty³
(
¬g2
,2,1,0);

17997 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
))

17998 
_cimg_mp_cÚ¡ªt
(
mem
[
¬g1
] && mem[
¬g2
]);

17999 ià(
	g¬g1
>0 &&‡rg1<=16è
_cimg_mp_»tuº
(
¬g2
);

18000 
	gpos
 = 
sÿÏr
();

18001 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_logiÿl_ªd
,
pos
,
¬g1
,
¬g2
,
code
.
_width
 - 
p2
).

18002 
move_to
(
code
,
p2
);

18003 
_cimg_mp_»tuº
(
pos
);

18006 
	gs
 = 
£2
; s>
	gss
; --s)

18007 ià(*
	gs
=='|' && 
Ëv–
[
s
 - 
ex´
.
_d©a
]==
şev–
) {

18008 
_cimg_mp_İ
("Operator '|'");

18009 
	g¬g1
 = 
compe
(
ss
,
s
,
d•th1
,0,
is_ü™iÿl
);

18010 
	g¬g2
 = 
compe
(
s
 + 1,
£
,
d•th1
,0,
is_ü™iÿl
);

18011 
_cimg_mp_check_ty³
(
¬g2
,2,3,
_cimg_mp_size
(
¬g1
));

18012 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& _cimg_mp_is_veùÜ(
¬g2
)è
_cimg_mp_veùÜ2_vv
(
mp_b™wi£_Ü
,arg1,arg2);

18013 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& 
_cimg_mp_is_sÿÏr
(
¬g2
)) {

18014 ià(!
	g¬g2
è
_cimg_mp_»tuº
(
¬g1
);

18015 
_cimg_mp_veùÜ2_vs
(
mp_b™wi£_Ü
,
¬g1
,
¬g2
);

18017 ià(
_cimg_mp_is_sÿÏr
(
¬g1
è&& 
_cimg_mp_is_veùÜ
(
¬g2
)) {

18018 ià(!
	g¬g1
è
_cimg_mp_»tuº
(
¬g2
);

18019 
_cimg_mp_veùÜ2_sv
(
mp_b™wi£_Ü
,
¬g1
,
¬g2
);

18021 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
))

18022 
_cimg_mp_cÚ¡ªt
((
lÚgT
)
mem
[
¬g1
] | (lÚgT)mem[
¬g2
]);

18023 ià(!
	g¬g2
è
_cimg_mp_»tuº
(
¬g1
);

18024 ià(!
	g¬g1
è
_cimg_mp_»tuº
(
¬g2
);

18025 
_cimg_mp_sÿÏr2
(
mp_b™wi£_Ü
,
¬g1
,
¬g2
);

18028 
	gs
 = 
£2
; s>
	gss
; --s)

18029 ià(*
	gs
=='&' && 
Ëv–
[
s
 - 
ex´
.
_d©a
]==
şev–
) {

18030 
_cimg_mp_İ
("Operator '&'");

18031 
	g¬g1
 = 
compe
(
ss
,
s
,
d•th1
,0,
is_ü™iÿl
);

18032 
	g¬g2
 = 
compe
(
s
 + 1,
£
,
d•th1
,0,
is_ü™iÿl
);

18033 
_cimg_mp_check_ty³
(
¬g2
,2,3,
_cimg_mp_size
(
¬g1
));

18034 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& _cimg_mp_is_veùÜ(
¬g2
)è
_cimg_mp_veùÜ2_vv
(
mp_b™wi£_ªd
,arg1,arg2);

18035 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& 
_cimg_mp_is_sÿÏr
(
¬g2
)è
_cimg_mp_veùÜ2_vs
(
mp_b™wi£_ªd
,arg1,arg2);

18036 ià(
_cimg_mp_is_sÿÏr
(
¬g1
è&& 
_cimg_mp_is_veùÜ
(
¬g2
)è
_cimg_mp_veùÜ2_sv
(
mp_b™wi£_ªd
,arg1,arg2);

18037 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
))

18038 
_cimg_mp_cÚ¡ªt
((
lÚgT
)
mem
[
¬g1
] & (lÚgT)mem[
¬g2
]);

18039 ià(!
	g¬g1
 || !
	g¬g2
è
_cimg_mp_»tuº
(0);

18040 
_cimg_mp_sÿÏr2
(
mp_b™wi£_ªd
,
¬g1
,
¬g2
);

18043 
	gs
 = 
£3
, 
	gns
 = 
£2
; s>
	gss
; --s, --ns)

18044 ià(*
	gs
=='!' && *
ns
=='=' && 
Ëv–
[
s
 - 
ex´
.
_d©a
]==
şev–
) {

18045 
_cimg_mp_İ
("Operator '!='");

18046 
	g¬g1
 = 
compe
(
ss
,
s
,
d•th1
,0,
is_ü™iÿl
);

18047 
	g¬g2
 = 
compe
(
s
 + 2,
£
,
d•th1
,0,
is_ü™iÿl
);

18048 ià(
	g¬g1
==
¬g2
è
_cimg_mp_»tuº
(0);

18049 
	gp1
 = 
_cimg_mp_size
(
¬g1
);

18050 
	gp2
 = 
_cimg_mp_size
(
¬g2
);

18051 ià(
	gp1
 || 
	gp2
) {

18052 ià(
	gp1
 && 
	gp2
 &&…1!=
p2
è
_cimg_mp_»tuº
(1);

18053 
	gpos
 = 
sÿÏr
();

18054 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_veùÜ_Ãq
,
pos
,
¬g1
,
p1
,
¬g2
,
p2
,11,1).
move_to
(
code
);

18055 
_cimg_mp_»tuº
(
pos
);

18057 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
)è
_cimg_mp_cÚ¡ªt
(
mem
[arg1]!=mem[arg2]);

18058 
_cimg_mp_sÿÏr2
(
mp_Ãq
,
¬g1
,
¬g2
);

18061 
	gs
 = 
£3
, 
	gns
 = 
£2
; s>
	gss
; --s, --ns)

18062 ià(*
	gs
=='=' && *
ns
=='=' && 
Ëv–
[
s
 - 
ex´
.
_d©a
]==
şev–
) {

18063 
_cimg_mp_İ
("Operator '=='");

18064 
	g¬g1
 = 
compe
(
ss
,
s
,
d•th1
,0,
is_ü™iÿl
);

18065 
	g¬g2
 = 
compe
(
s
 + 2,
£
,
d•th1
,0,
is_ü™iÿl
);

18066 ià(
	g¬g1
==
¬g2
è
_cimg_mp_»tuº
(1);

18067 
	gp1
 = 
_cimg_mp_size
(
¬g1
);

18068 
	gp2
 = 
_cimg_mp_size
(
¬g2
);

18069 ià(
	gp1
 || 
	gp2
) {

18070 ià(
	gp1
 && 
	gp2
 &&…1!=
p2
è
_cimg_mp_»tuº
(0);

18071 
	gpos
 = 
sÿÏr
();

18072 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_veùÜ_eq
,
pos
,
¬g1
,
p1
,
¬g2
,
p2
,11,1).
move_to
(
code
);

18073 
_cimg_mp_»tuº
(
pos
);

18075 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
)è
_cimg_mp_cÚ¡ªt
(
mem
[arg1]==mem[arg2]);

18076 
_cimg_mp_sÿÏr2
(
mp_eq
,
¬g1
,
¬g2
);

18079 
	gs
 = 
£3
, 
	gns
 = 
£2
; s>
	gss
; --s, --ns)

18080 ià(*
	gs
=='<' && *
ns
=='=' && 
Ëv–
[
s
 - 
ex´
.
_d©a
]==
şev–
) {

18081 
_cimg_mp_İ
("Operator '<='");

18082 
	g¬g1
 = 
compe
(
ss
,
s
,
d•th1
,0,
is_ü™iÿl
);

18083 
	g¬g2
 = 
compe
(
s
 + 2,
£
,
d•th1
,0,
is_ü™iÿl
);

18084 
_cimg_mp_check_ty³
(
¬g2
,2,3,
_cimg_mp_size
(
¬g1
));

18085 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& _cimg_mp_is_veùÜ(
¬g2
)è
_cimg_mp_veùÜ2_vv
(
mp_Ée
,arg1,arg2);

18086 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& 
_cimg_mp_is_sÿÏr
(
¬g2
)è
_cimg_mp_veùÜ2_vs
(
mp_Ée
,arg1,arg2);

18087 ià(
_cimg_mp_is_sÿÏr
(
¬g1
è&& 
_cimg_mp_is_veùÜ
(
¬g2
)è
_cimg_mp_veùÜ2_sv
(
mp_Ée
,arg1,arg2);

18088 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
)è
_cimg_mp_cÚ¡ªt
(
mem
[arg1]<=mem[arg2]);

18089 ià(
	g¬g1
==
¬g2
è
_cimg_mp_»tuº
(1);

18090 
_cimg_mp_sÿÏr2
(
mp_Ée
,
¬g1
,
¬g2
);

18093 
	gs
 = 
£3
, 
	gns
 = 
£2
; s>
	gss
; --s, --ns)

18094 ià(*
	gs
=='>' && *
ns
=='=' && 
Ëv–
[
s
 - 
ex´
.
_d©a
]==
şev–
) {

18095 
_cimg_mp_İ
("Operator '>='");

18096 
	g¬g1
 = 
compe
(
ss
,
s
,
d•th1
,0,
is_ü™iÿl
);

18097 
	g¬g2
 = 
compe
(
s
 + 2,
£
,
d•th1
,0,
is_ü™iÿl
);

18098 
_cimg_mp_check_ty³
(
¬g2
,2,3,
_cimg_mp_size
(
¬g1
));

18099 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& _cimg_mp_is_veùÜ(
¬g2
)è
_cimg_mp_veùÜ2_vv
(
mp_g‹
,arg1,arg2);

18100 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& 
_cimg_mp_is_sÿÏr
(
¬g2
)è
_cimg_mp_veùÜ2_vs
(
mp_g‹
,arg1,arg2);

18101 ià(
_cimg_mp_is_sÿÏr
(
¬g1
è&& 
_cimg_mp_is_veùÜ
(
¬g2
)è
_cimg_mp_veùÜ2_sv
(
mp_g‹
,arg1,arg2);

18102 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
)è
_cimg_mp_cÚ¡ªt
(
mem
[arg1]>=mem[arg2]);

18103 ià(
	g¬g1
==
¬g2
è
_cimg_mp_»tuº
(1);

18104 
_cimg_mp_sÿÏr2
(
mp_g‹
,
¬g1
,
¬g2
);

18107 
	gs
 = 
£2
, 
	gns
 = 
£1
, 
	gps
 = 
£3
; s>
	gss
; --s, --ns, --ps)

18108 ià(*
	gs
=='<' && *
ns
!='<' && *
ps
!='<' && 
Ëv–
[
s
 - 
ex´
.
_d©a
]==
şev–
) {

18109 
_cimg_mp_İ
("Operator '<'");

18110 
	g¬g1
 = 
compe
(
ss
,
s
,
d•th1
,0,
is_ü™iÿl
);

18111 
	g¬g2
 = 
compe
(
s
 + 1,
£
,
d•th1
,0,
is_ü™iÿl
);

18112 
_cimg_mp_check_ty³
(
¬g2
,2,3,
_cimg_mp_size
(
¬g1
));

18113 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& _cimg_mp_is_veùÜ(
¬g2
)è
_cimg_mp_veùÜ2_vv
(
mp_É
,arg1,arg2);

18114 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& 
_cimg_mp_is_sÿÏr
(
¬g2
)è
_cimg_mp_veùÜ2_vs
(
mp_É
,arg1,arg2);

18115 ià(
_cimg_mp_is_sÿÏr
(
¬g1
è&& 
_cimg_mp_is_veùÜ
(
¬g2
)è
_cimg_mp_veùÜ2_sv
(
mp_É
,arg1,arg2);

18116 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
)è
_cimg_mp_cÚ¡ªt
(
mem
[arg1]<mem[arg2]);

18117 ià(
	g¬g1
==
¬g2
è
_cimg_mp_»tuº
(0);

18118 
_cimg_mp_sÿÏr2
(
mp_É
,
¬g1
,
¬g2
);

18121 
	gs
 = 
£2
, 
	gns
 = 
£1
, 
	gps
 = 
£3
; s>
	gss
; --s, --ns, --ps)

18122 ià(*
	gs
=='>' && *
ns
!='>' && *
ps
!='>' && 
Ëv–
[
s
 - 
ex´
.
_d©a
]==
şev–
) {

18123 
_cimg_mp_İ
("Operator '>'");

18124 
	g¬g1
 = 
compe
(
ss
,
s
,
d•th1
,0,
is_ü™iÿl
);

18125 
	g¬g2
 = 
compe
(
s
 + 1,
£
,
d•th1
,0,
is_ü™iÿl
);

18126 
_cimg_mp_check_ty³
(
¬g2
,2,3,
_cimg_mp_size
(
¬g1
));

18127 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& _cimg_mp_is_veùÜ(
¬g2
)è
_cimg_mp_veùÜ2_vv
(
mp_gt
,arg1,arg2);

18128 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& 
_cimg_mp_is_sÿÏr
(
¬g2
)è
_cimg_mp_veùÜ2_vs
(
mp_gt
,arg1,arg2);

18129 ià(
_cimg_mp_is_sÿÏr
(
¬g1
è&& 
_cimg_mp_is_veùÜ
(
¬g2
)è
_cimg_mp_veùÜ2_sv
(
mp_gt
,arg1,arg2);

18130 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
)è
_cimg_mp_cÚ¡ªt
(
mem
[arg1]>mem[arg2]);

18131 ià(
	g¬g1
==
¬g2
è
_cimg_mp_»tuº
(0);

18132 
_cimg_mp_sÿÏr2
(
mp_gt
,
¬g1
,
¬g2
);

18135 
	gs
 = 
£3
, 
	gns
 = 
£2
; s>
	gss
; --s, --ns)

18136 ià(*
	gs
=='<' && *
ns
=='<' && 
Ëv–
[
s
 - 
ex´
.
_d©a
]==
şev–
) {

18137 
_cimg_mp_İ
("Operator '<<'");

18138 
	g¬g1
 = 
compe
(
ss
,
s
,
d•th1
,0,
is_ü™iÿl
);

18139 
	g¬g2
 = 
compe
(
s
 + 2,
£
,
d•th1
,0,
is_ü™iÿl
);

18140 
_cimg_mp_check_ty³
(
¬g2
,2,3,
_cimg_mp_size
(
¬g1
));

18141 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& _cimg_mp_is_veùÜ(
¬g2
))

18142 
_cimg_mp_veùÜ2_vv
(
mp_b™wi£_Ëá_shiá
,
¬g1
,
¬g2
);

18143 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& 
_cimg_mp_is_sÿÏr
(
¬g2
)) {

18144 ià(!
	g¬g2
è
_cimg_mp_»tuº
(
¬g1
);

18145 
_cimg_mp_veùÜ2_vs
(
mp_b™wi£_Ëá_shiá
,
¬g1
,
¬g2
);

18147 ià(
_cimg_mp_is_sÿÏr
(
¬g1
è&& 
_cimg_mp_is_veùÜ
(
¬g2
))

18148 
_cimg_mp_veùÜ2_sv
(
mp_b™wi£_Ëá_shiá
,
¬g1
,
¬g2
);

18149 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
))

18150 
_cimg_mp_cÚ¡ªt
((
lÚgT
)
mem
[
¬g1
]<<()mem[
¬g2
]);

18151 ià(!
	g¬g1
è
_cimg_mp_»tuº
(0);

18152 ià(!
	g¬g2
è
_cimg_mp_»tuº
(
¬g1
);

18153 
_cimg_mp_sÿÏr2
(
mp_b™wi£_Ëá_shiá
,
¬g1
,
¬g2
);

18156 
	gs
 = 
£3
, 
	gns
 = 
£2
; s>
	gss
; --s, --ns)

18157 ià(*
	gs
=='>' && *
ns
=='>' && 
Ëv–
[
s
 - 
ex´
.
_d©a
]==
şev–
) {

18158 
_cimg_mp_İ
("Operator '>>'");

18159 
	g¬g1
 = 
compe
(
ss
,
s
,
d•th1
,0,
is_ü™iÿl
);

18160 
	g¬g2
 = 
compe
(
s
 + 2,
£
,
d•th1
,0,
is_ü™iÿl
);

18161 
_cimg_mp_check_ty³
(
¬g2
,2,3,
_cimg_mp_size
(
¬g1
));

18162 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& _cimg_mp_is_veùÜ(
¬g2
))

18163 
_cimg_mp_veùÜ2_vv
(
mp_b™wi£_right_shiá
,
¬g1
,
¬g2
);

18164 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& 
_cimg_mp_is_sÿÏr
(
¬g2
)) {

18165 ià(!
	g¬g2
è
_cimg_mp_»tuº
(
¬g1
);

18166 
_cimg_mp_veùÜ2_vs
(
mp_b™wi£_right_shiá
,
¬g1
,
¬g2
);

18168 ià(
_cimg_mp_is_sÿÏr
(
¬g1
è&& 
_cimg_mp_is_veùÜ
(
¬g2
))

18169 
_cimg_mp_veùÜ2_sv
(
mp_b™wi£_right_shiá
,
¬g1
,
¬g2
);

18170 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
))

18171 
_cimg_mp_cÚ¡ªt
((
lÚgT
)
mem
[
¬g1
]>>()mem[
¬g2
]);

18172 ià(!
	g¬g1
è
_cimg_mp_»tuº
(0);

18173 ià(!
	g¬g2
è
_cimg_mp_»tuº
(
¬g1
);

18174 
_cimg_mp_sÿÏr2
(
mp_b™wi£_right_shiá
,
¬g1
,
¬g2
);

18177 
	gns
 = 
£1
, 
	gs
 = 
£2
, 
	gps
 = 
³x´
.
_d©a
 + (
£3
 - 
ex´
._d©a); s>
	gss
; --ns, --s, --ps)

18178 ià(*
	gs
=='+' && (*
ns
!='+' ||‚s!=
£1
è&& *
ps
!='-' && *ps!='+' && *ps!='*' && *ps!='/' && *ps!='%' &&

18179 *
ps
!='&' && *ps!='|' && *ps!='^' && *ps!='!' && *ps!='~' && *ps!='#' &&

18180 (*
ps
!='e' || !Õ - 
³x´
.
_d©a
>
ss
 - 
ex´
._data && (*(ps - 1)=='.' || (*(ps - 1)>='0' &&

18181 *(
ps
 - 1)<='9')))) &&

18182 
Ëv–
[
s
 - 
ex´
.
_d©a
]==
şev–
) {

18183 
_cimg_mp_İ
("Operator '+'");

18184 
	g¬g1
 = 
compe
(
ss
,
s
,
d•th1
,0,
is_ü™iÿl
);

18185 
	g¬g2
 = 
compe
(
s
 + 1,
£
,
d•th1
,0,
is_ü™iÿl
);

18186 
_cimg_mp_check_ty³
(
¬g2
,2,3,
_cimg_mp_size
(
¬g1
));

18187 ià(!
	g¬g2
è
_cimg_mp_»tuº
(
¬g1
);

18188 ià(!
	g¬g1
è
_cimg_mp_»tuº
(
¬g2
);

18189 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& _cimg_mp_is_veùÜ(
¬g2
)è
_cimg_mp_veùÜ2_vv
(
mp_add
,arg1,arg2);

18190 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& 
_cimg_mp_is_sÿÏr
(
¬g2
)è
_cimg_mp_veùÜ2_vs
(
mp_add
,arg1,arg2);

18191 ià(
_cimg_mp_is_sÿÏr
(
¬g1
è&& 
_cimg_mp_is_veùÜ
(
¬g2
)è
_cimg_mp_veùÜ2_sv
(
mp_add
,arg1,arg2);

18192 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
)è
_cimg_mp_cÚ¡ªt
(
mem
[arg1] + mem[arg2]);

18193 ià(
	gcode
) {

18194 
	gCImg
<
	gulÚgT
> &
	gpİ
 = 
code
.
back
();

18195 ià(
	gpİ
[0]==(
ulÚgT
)
mp_mul
 && 
_cimg_mp_is_comp
(
pİ
[1]è&& (pİ[1]==
¬g1
 ||…İ[1]==
¬g2
)) {

18196 
¬g3
 = ()
pİ
[1];

18197 
	g¬g4
 = ()
pİ
[2];

18198 
	g¬g5
 = ()
pİ
[3];

18199 
	gcode
.
»move
();

18200 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_lš—r_add
,
¬g3
,
¬g4
,
¬g5
,¬g3==
¬g2
?
¬g1
:¬g2).
move_to
(
code
);

18201 
_cimg_mp_»tuº
(
¬g3
);

18204 ià(
	g¬g2
==1è
_cimg_mp_sÿÏr1
(
mp_šüem’t
,
¬g1
);

18205 ià(
	g¬g1
==1è
_cimg_mp_sÿÏr1
(
mp_šüem’t
,
¬g2
);

18206 
_cimg_mp_sÿÏr2
(
mp_add
,
¬g1
,
¬g2
);

18209 
	gns
 = 
£1
, 
	gs
 = 
£2
, 
	gps
 = 
³x´
.
_d©a
 + (
£3
 - 
ex´
._d©a); s>
	gss
; --ns, --s, --ps)

18210 ià(*
	gs
=='-' && (*
ns
!='-' ||‚s!=
£1
è&& *
ps
!='-' && *ps!='+' && *ps!='*' && *ps!='/' && *ps!='%' &&

18211 *
ps
!='&' && *ps!='|' && *ps!='^' && *ps!='!' && *ps!='~' && *ps!='#' &&

18212 (*
ps
!='e' || !Õ - 
³x´
.
_d©a
>
ss
 - 
ex´
._data && (*(ps - 1)=='.' || (*(ps - 1)>='0' &&

18213 *(
ps
 - 1)<='9')))) &&

18214 
Ëv–
[
s
 - 
ex´
.
_d©a
]==
şev–
) {

18215 
_cimg_mp_İ
("Operator '-'");

18216 
	g¬g1
 = 
compe
(
ss
,
s
,
d•th1
,0,
is_ü™iÿl
);

18217 
	g¬g2
 = 
compe
(
s
 + 1,
£
,
d•th1
,0,
is_ü™iÿl
);

18218 
_cimg_mp_check_ty³
(
¬g2
,2,3,
_cimg_mp_size
(
¬g1
));

18219 ià(!
	g¬g2
è
_cimg_mp_»tuº
(
¬g1
);

18220 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& _cimg_mp_is_veùÜ(
¬g2
)è
_cimg_mp_veùÜ2_vv
(
mp_sub
,arg1,arg2);

18221 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& 
_cimg_mp_is_sÿÏr
(
¬g2
)è
_cimg_mp_veùÜ2_vs
(
mp_sub
,arg1,arg2);

18222 ià(
_cimg_mp_is_sÿÏr
(
¬g1
è&& 
_cimg_mp_is_veùÜ
(
¬g2
)) {

18223 ià(!
	g¬g1
è
_cimg_mp_veùÜ1_v
(
mp_mšus
,
¬g2
);

18224 
_cimg_mp_veùÜ2_sv
(
mp_sub
,
¬g1
,
¬g2
);

18226 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
)è
_cimg_mp_cÚ¡ªt
(
mem
[arg1] - mem[arg2]);

18227 ià(!
	g¬g1
è
_cimg_mp_sÿÏr1
(
mp_mšus
,
¬g2
);

18228 ià(
	gcode
) {

18229 
	gCImg
<
	gulÚgT
> &
	gpİ
 = 
code
.
back
();

18230 ià(
	gpİ
[0]==(
ulÚgT
)
mp_mul
 && 
_cimg_mp_is_comp
(
pİ
[1]è&& (pİ[1]==
¬g1
 ||…İ[1]==
¬g2
)) {

18231 
¬g3
 = ()
pİ
[1];

18232 
	g¬g4
 = ()
pİ
[2];

18233 
	g¬g5
 = ()
pİ
[3];

18234 
	gcode
.
»move
();

18235 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
¬g3
==
¬g1
?
mp_lš—r_sub_Ëá
:
mp_lš—r_sub_right
),

18236 
¬g3
,
¬g4
,
¬g5
,¬g3==
¬g1
?
¬g2
:¬g1).
move_to
(
code
);

18237 
_cimg_mp_»tuº
(
¬g3
);

18240 ià(
	g¬g2
==1è
_cimg_mp_sÿÏr1
(
mp_deüem’t
,
¬g1
);

18241 
_cimg_mp_sÿÏr2
(
mp_sub
,
¬g1
,
¬g2
);

18244 
	gs
 = 
£3
, 
	gns
 = 
£2
; s>
	gss
; --s, --ns)

18245 ià(*
	gs
=='*' && *
ns
=='*' && 
Ëv–
[
s
 - 
ex´
.
_d©a
]==
şev–
) {

18246 
_cimg_mp_İ
("Operator '**'");

18247 
	g¬g1
 = 
compe
(
ss
,
s
,
d•th1
,0,
is_ü™iÿl
);

18248 
	g¬g2
 = 
compe
(
s
 + 2,
£
,
d•th1
,0,
is_ü™iÿl
);

18249 
_cimg_mp_check_ty³
(
¬g1
,1,3,2);

18250 
_cimg_mp_check_ty³
(
¬g2
,2,3,2);

18251 ià(
	g¬g2
==1è
_cimg_mp_»tuº
(
¬g1
);

18252 ià(
	g¬g1
==1è
_cimg_mp_»tuº
(
¬g2
);

18253 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& _cimg_mp_is_veùÜ(
¬g2
)) {

18254 
	gpos
 = 
veùÜ
(2);

18255 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_mul
,
pos
,
¬g1
,
¬g2
).
move_to
(
code
);

18256 
_cimg_mp_»tuº
(
pos
);

18258 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& 
_cimg_mp_is_sÿÏr
(
¬g2
)è
_cimg_mp_veùÜ2_vs
(
mp_mul
,arg1,arg2);

18259 ià(
_cimg_mp_is_sÿÏr
(
¬g1
è&& 
_cimg_mp_is_veùÜ
(
¬g2
)è
_cimg_mp_veùÜ2_sv
(
mp_mul
,arg1,arg2);

18260 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
)è
_cimg_mp_cÚ¡ªt
(
mem
[arg1]*mem[arg2]);

18261 ià(!
	g¬g1
 || !
	g¬g2
è
_cimg_mp_»tuº
(0);

18262 
_cimg_mp_sÿÏr2
(
mp_mul
,
¬g1
,
¬g2
);

18265 
	gs
 = 
£3
, 
	gns
 = 
£2
; s>
	gss
; --s, --ns)

18266 ià(*
	gs
=='/' && *
ns
=='/' && 
Ëv–
[
s
 - 
ex´
.
_d©a
]==
şev–
) {

18267 
_cimg_mp_İ
("Operator '//'");

18268 
	g¬g1
 = 
compe
(
ss
,
s
,
d•th1
,0,
is_ü™iÿl
);

18269 
	g¬g2
 = 
compe
(
s
 + 2,
£
,
d•th1
,0,
is_ü™iÿl
);

18270 
_cimg_mp_check_ty³
(
¬g1
,1,3,2);

18271 
_cimg_mp_check_ty³
(
¬g2
,2,3,2);

18272 ià(
	g¬g2
==1è
_cimg_mp_»tuº
(
¬g1
);

18273 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& _cimg_mp_is_veùÜ(
¬g2
)) {

18274 
	gpos
 = 
veùÜ
(2);

18275 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_div_vv
,
pos
,
¬g1
,
¬g2
).
move_to
(
code
);

18276 
_cimg_mp_»tuº
(
pos
);

18278 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& 
_cimg_mp_is_sÿÏr
(
¬g2
)è
_cimg_mp_veùÜ2_vs
(
mp_div
,arg1,arg2);

18279 ià(
_cimg_mp_is_sÿÏr
(
¬g1
è&& 
_cimg_mp_is_veùÜ
(
¬g2
)) {

18280 
	gpos
 = 
veùÜ
(2);

18281 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_div_sv
,
pos
,
¬g1
,
¬g2
).
move_to
(
code
);

18282 
_cimg_mp_»tuº
(
pos
);

18284 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
)è
_cimg_mp_cÚ¡ªt
(
mem
[arg1]/mem[arg2]);

18285 ià(!
	g¬g1
è
_cimg_mp_»tuº
(0);

18286 
_cimg_mp_sÿÏr2
(
mp_div
,
¬g1
,
¬g2
);

18289 
	gs
 = 
£2
; s>
	gss
; --sèià(*s=='*' && 
Ëv–
[
s
 - 
ex´
.
_d©a
]==
şev–
) {

18290 
_cimg_mp_İ
("Operator '*'");

18291 
	g¬g1
 = 
compe
(
ss
,
s
,
d•th1
,0,
is_ü™iÿl
);

18292 
	g¬g2
 = 
compe
(
s
 + 1,
£
,
d•th1
,0,
is_ü™iÿl
);

18293 
	gp2
 = 
_cimg_mp_size
(
¬g2
);

18294 ià(
	gp2
>0 && (
	gulÚgT
)
_cimg_mp_size
(
¬g1
)==(
ulÚgT
)
p2
*p2) {

18295 
pos
 = 
veùÜ
(
p2
);

18296 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_m©rix_mul
,
pos
,
¬g1
,
¬g2
,
p2
,p2,1).
move_to
(
code
);

18297 
_cimg_mp_»tuº
(
pos
);

18299 
_cimg_mp_check_ty³
(
¬g2
,2,3,
_cimg_mp_size
(
¬g1
));

18300 ià(
	g¬g2
==1è
_cimg_mp_»tuº
(
¬g1
);

18301 ià(
	g¬g1
==1è
_cimg_mp_»tuº
(
¬g2
);

18302 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& _cimg_mp_is_veùÜ(
¬g2
)è
_cimg_mp_veùÜ2_vv
(
mp_mul
,arg1,arg2);

18303 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& 
_cimg_mp_is_sÿÏr
(
¬g2
)è
_cimg_mp_veùÜ2_vs
(
mp_mul
,arg1,arg2);

18304 ià(
_cimg_mp_is_sÿÏr
(
¬g1
è&& 
_cimg_mp_is_veùÜ
(
¬g2
)è
_cimg_mp_veùÜ2_sv
(
mp_mul
,arg1,arg2);

18305 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
)è
_cimg_mp_cÚ¡ªt
(
mem
[arg1]*mem[arg2]);

18307 ià(
	gcode
) {

18308 
	gCImg
<
	gulÚgT
> &
	gpİ
 = 
code
.
back
();

18309 ià(
	gpİ
[0]==(
ulÚgT
)
mp_mul
 && 
_cimg_mp_is_comp
(
pİ
[1]è&& (pİ[1]==
¬g1
 ||…İ[1]==
¬g2
)) {

18310 
¬g3
 = ()
pİ
[1];

18311 
	g¬g4
 = ()
pİ
[2];

18312 
	g¬g5
 = ()
pİ
[3];

18313 
	gcode
.
»move
();

18314 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_mul2
,
¬g3
,
¬g4
,
¬g5
,¬g3==
¬g2
?
¬g1
:¬g2).
move_to
(
code
);

18315 
_cimg_mp_»tuº
(
¬g3
);

18318 ià(!
	g¬g1
 || !
	g¬g2
è
_cimg_mp_»tuº
(0);

18319 
_cimg_mp_sÿÏr2
(
mp_mul
,
¬g1
,
¬g2
);

18322 
	gs
 = 
£2
; s>
	gss
; --sèià(*s=='/' && 
Ëv–
[
s
 - 
ex´
.
_d©a
]==
şev–
) {

18323 
_cimg_mp_İ
("Operator '/'");

18324 
	g¬g1
 = 
compe
(
ss
,
s
,
d•th1
,0,
is_ü™iÿl
);

18325 
	g¬g2
 = 
compe
(
s
 + 1,
£
,
d•th1
,0,
is_ü™iÿl
);

18326 
_cimg_mp_check_ty³
(
¬g2
,2,3,
_cimg_mp_size
(
¬g1
));

18327 ià(
	g¬g2
==1è
_cimg_mp_»tuº
(
¬g1
);

18328 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& _cimg_mp_is_veùÜ(
¬g2
)è
_cimg_mp_veùÜ2_vv
(
mp_div
,arg1,arg2);

18329 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& 
_cimg_mp_is_sÿÏr
(
¬g2
)è
_cimg_mp_veùÜ2_vs
(
mp_div
,arg1,arg2);

18330 ià(
_cimg_mp_is_sÿÏr
(
¬g1
è&& 
_cimg_mp_is_veùÜ
(
¬g2
)è
_cimg_mp_veùÜ2_sv
(
mp_div
,arg1,arg2);

18331 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
)è
_cimg_mp_cÚ¡ªt
(
mem
[arg1]/mem[arg2]);

18332 ià(!
	g¬g1
è
_cimg_mp_»tuº
(0);

18333 
_cimg_mp_sÿÏr2
(
mp_div
,
¬g1
,
¬g2
);

18336 
	gs
 = 
£2
, 
	gns
 = 
£1
; s>
	gss
; --s, --ns)

18337 ià(*
	gs
=='%' && *
ns
!='^' && 
Ëv–
[
s
 - 
ex´
.
_d©a
]==
şev–
) {

18338 
_cimg_mp_İ
("Operator '%'");

18339 
	g¬g1
 = 
compe
(
ss
,
s
,
d•th1
,0,
is_ü™iÿl
);

18340 
	g¬g2
 = 
compe
(
s
 + 1,
£
,
d•th1
,0,
is_ü™iÿl
);

18341 
_cimg_mp_check_ty³
(
¬g2
,2,3,
_cimg_mp_size
(
¬g1
));

18342 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& _cimg_mp_is_veùÜ(
¬g2
)è
_cimg_mp_veùÜ2_vv
(
mp_modulo
,arg1,arg2);

18343 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& 
_cimg_mp_is_sÿÏr
(
¬g2
)è
_cimg_mp_veùÜ2_vs
(
mp_modulo
,arg1,arg2);

18344 ià(
_cimg_mp_is_sÿÏr
(
¬g1
è&& 
_cimg_mp_is_veùÜ
(
¬g2
)è
_cimg_mp_veùÜ2_sv
(
mp_modulo
,arg1,arg2);

18345 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
))

18346 
_cimg_mp_cÚ¡ªt
(
cimg
::
mod
(
mem
[
¬g1
],mem[
¬g2
]));

18347 
_cimg_mp_sÿÏr2
(
mp_modulo
,
¬g1
,
¬g2
);

18350 ià(
	g£1
>
	gss
) {

18351 ià(*
	gss
=='+' && (*
ss1
!='+' || (
ss2
<
£
 && *ss2>='0' && *ss2<='9'))) {

18352 
_cimg_mp_İ
("Operator '+'");

18353 
_cimg_mp_»tuº
(
compe
(
ss1
,
£
,
d•th1
,0,
is_ü™iÿl
));

18356 ià(*
	gss
=='-' && (*
ss1
!='-' || (
ss2
<
£
 && *ss2>='0' && *ss2<='9'))) {

18357 
_cimg_mp_İ
("Operator '-'");

18358 
	g¬g1
 = 
compe
(
ss1
,
£
,
d•th1
,0,
is_ü™iÿl
);

18359 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_mšus
,arg1);

18360 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(-
mem
[arg1]);

18361 
_cimg_mp_sÿÏr1
(
mp_mšus
,
¬g1
);

18364 ià(*
	gss
=='!') {

18365 
_cimg_mp_İ
("Operator '!'");

18366 ià(*
	gss1
=='!') {

18367 
¬g1
 = 
compe
(
ss2
,
£
,
d•th1
,0,
is_ü™iÿl
);

18368 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_boŞ
,arg1);

18369 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
((
boŞ
)
mem
[arg1]);

18370 
_cimg_mp_sÿÏr1
(
mp_boŞ
,
¬g1
);

18372 
	g¬g1
 = 
compe
(
ss1
,
£
,
d•th1
,0,
is_ü™iÿl
);

18373 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_logiÿl_nÙ
,arg1);

18374 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(!
mem
[arg1]);

18375 
_cimg_mp_sÿÏr1
(
mp_logiÿl_nÙ
,
¬g1
);

18378 ià(*
	gss
=='~') {

18379 
_cimg_mp_İ
("Operator '~'");

18380 
	g¬g1
 = 
compe
(
ss1
,
£
,
d•th1
,0,
is_ü™iÿl
);

18381 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_b™wi£_nÙ
,arg1);

18382 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(~()
mem
[arg1]);

18383 
_cimg_mp_sÿÏr1
(
mp_b™wi£_nÙ
,
¬g1
);

18387 
	gs
 = 
£3
, 
	gns
 = 
£2
; s>
	gss
; --s, --ns)

18388 ià(*
	gs
=='^' && *
ns
=='^' && 
Ëv–
[
s
 - 
ex´
.
_d©a
]==
şev–
) {

18389 
_cimg_mp_İ
("Operator '^^'");

18390 
	g¬g1
 = 
compe
(
ss
,
s
,
d•th1
,0,
is_ü™iÿl
);

18391 
	g¬g2
 = 
compe
(
s
 + 2,
£
,
d•th1
,0,
is_ü™iÿl
);

18392 
_cimg_mp_check_ty³
(
¬g1
,1,3,2);

18393 
_cimg_mp_check_ty³
(
¬g2
,2,3,2);

18394 ià(
	g¬g2
==1è
_cimg_mp_»tuº
(
¬g1
);

18395 
	gpos
 = 
veùÜ
(2);

18396 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& _cimg_mp_is_veùÜ(
¬g2
)) {

18397 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_pow_vv
,
pos
,
¬g1
,
¬g2
).
move_to
(
code
);

18398 
_cimg_mp_»tuº
(
pos
);

18400 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& 
_cimg_mp_is_sÿÏr
(
¬g2
)) {

18401 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_pow_vs
,
pos
,
¬g1
,
¬g2
).
move_to
(
code
);

18402 
_cimg_mp_»tuº
(
pos
);

18404 ià(
_cimg_mp_is_sÿÏr
(
¬g1
è&& 
_cimg_mp_is_veùÜ
(
¬g2
)) {

18405 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_pow_sv
,
pos
,
¬g1
,
¬g2
).
move_to
(
code
);

18406 
_cimg_mp_»tuº
(
pos
);

18408 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_pow_ss
,
pos
,
¬g1
,
¬g2
).
move_to
(
code
);

18409 
_cimg_mp_»tuº
(
pos
);

18412 
	gs
 = 
£2
; s>
	gss
; --s)

18413 ià(*
	gs
=='^' && 
Ëv–
[
s
 - 
ex´
.
_d©a
]==
şev–
) {

18414 
_cimg_mp_İ
("Operator '^'");

18415 
	g¬g1
 = 
compe
(
ss
,
s
,
d•th1
,0,
is_ü™iÿl
);

18416 
	g¬g2
 = 
compe
(
s
 + 1,
£
,
d•th1
,0,
is_ü™iÿl
);

18417 
_cimg_mp_check_ty³
(
¬g2
,2,3,
_cimg_mp_size
(
¬g1
));

18418 ià(
	g¬g2
==1è
_cimg_mp_»tuº
(
¬g1
);

18419 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& _cimg_mp_is_veùÜ(
¬g2
)è
_cimg_mp_veùÜ2_vv
(
mp_pow
,arg1,arg2);

18420 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& 
_cimg_mp_is_sÿÏr
(
¬g2
)è
_cimg_mp_veùÜ2_vs
(
mp_pow
,arg1,arg2);

18421 ià(
_cimg_mp_is_sÿÏr
(
¬g1
è&& 
_cimg_mp_is_veùÜ
(
¬g2
)è
_cimg_mp_veùÜ2_sv
(
mp_pow
,arg1,arg2);

18422 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
))

18423 
_cimg_mp_cÚ¡ªt
(
¡d
::
pow
(
mem
[
¬g1
],mem[
¬g2
]));

18424 
	g¬g2
) {

18425 0 : 
_cimg_mp_»tuº
(1);

18426 2 : 
_cimg_mp_sÿÏr1
(
mp_sqr
,
¬g1
);

18427 3 : 
_cimg_mp_sÿÏr1
(
mp_pow3
,
¬g1
);

18428 4 : 
_cimg_mp_sÿÏr1
(
mp_pow4
,
¬g1
);

18430 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g2
)) {

18431 ià(
mem
[
¬g2
]==0.5è{ 
_cimg_mp_sÿÏr1
(
mp_sq¹
,
¬g1
); }

18432 ià(
	gmem
[
¬g2
]==0.25è{ 
_cimg_mp_sÿÏr1
(
mp_pow0_25
,
¬g1
); }

18434 
_cimg_mp_sÿÏr2
(
mp_pow
,
¬g1
,
¬g2
);

18439 ià(*
	g£1
=='%') {

18440 
¬g1
 = 
compe
(
ss
,
£1
,
d•th1
,0,
is_ü™iÿl
);

18441 
	g¬g2
 = 
_cimg_mp_is_cÚ¡ªt
(
¬g1
)?0:
cÚ¡ªt
(100);

18442 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ2_vs
(
mp_div
,¬g1,
¬g2
);

18443 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
mem
[arg1]/100);

18444 
_cimg_mp_sÿÏr2
(
mp_div
,
¬g1
,
¬g2
);

18447 
	gis_¡h
 = 
ss1
<
£1
 && (*
ss
=='+' || *ss=='-') && *ss1==*ss;

18448 ià(
	gis_¡h
 || (
	g£2
>
	gss
 && (*
	g£1
=='+' || *
£1
=='-'è&& *
£2
==*se1)) {

18449 ià((
is_¡h
 && *
ss
=='+'è|| (!is_¡h && *
£1
=='+')) {

18450 
_cimg_mp_İ
("Operator '++'");

18451 
	gİ
 = 
mp_£lf_šüem’t
;

18453 
_cimg_mp_İ
("Operator '--'");

18454 
	gİ
 = 
mp_£lf_deüem’t
;

18456 
	g»f
.
assign
(7);

18457 
	g¬g1
 = 
is_¡h
?
compe
(
ss2
,
£
,
d•th1
,
»f
,
is_ü™iÿl
):

18458 
compe
(
ss
,
£2
,
d•th1
,
»f
,
is_ü™iÿl
);

18461 ià(*
	g»f
 && (
_cimg_mp_is_cÚ¡ªt
(
¬g1
è|| 
_cimg_mp_is_veùÜ
×rg1è|| 
_cimg_mp_is_v¬ŸbË
(arg1))) {

18462 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
	g¬g1
 = 
veùÜ_cİy
(arg1);

18463 
	g¬g1
 = 
sÿÏr1
(
mp_cİy
,
¬g1
);

18466 ià(
	gis_¡h
è
	gpos
 = 
¬g1
;

18468 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
	gpos
 = 
veùÜ_cİy
(arg1);

18469 
	gpos
 = 
sÿÏr1
(
mp_cİy
,
¬g1
);

18472 ià(*
	g»f
==1) {

18473 
¬g3
 = 
»f
[1];

18474 
	g¬g4
 = 
»f
[2];

18475 ià(
	gis_¡h
 && 
	gp_»f
è
	g¡d
::
memıy
(
p_»f
,
»f
,»f.
_width
*());

18476 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
İ
,
¬g1
,1).
move_to
(
code
);

18477 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_veùÜ_£t_off
,
¬g1
,
¬g3
,(ulÚgT)
_cimg_mp_size
×rg3),
¬g4
).

18478 
move_to
(
code
);

18479 
_cimg_mp_»tuº
(
pos
);

18482 ià(*
	g»f
==2) {

18483 ià(!
is_ü™iÿl
è
is_·¿Î–izabË
 = 
çl£
;

18484 
	gp1
 = 
»f
[1];

18485 
	gis_»Ïtive
 = (
boŞ
)
»f
[2];

18486 
	g¬g3
 = 
»f
[3];

18487 ià(
	gis_¡h
 && 
	gp_»f
è
	g¡d
::
memıy
(
p_»f
,
»f
,»f.
_width
*());

18488 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
İ
,
¬g1
).
move_to
(
code
);

18489 ià(
	gp1
!=~0U) {

18490 ià(!
li¡out
è
_cimg_mp_»tuº
(
pos
);

18491 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_li¡_£t_joff
:
mp_li¡_£t_ioff
),

18492 
¬g1
,
p1
,
¬g3
).
move_to
(
code
);

18494 ià(!
	gimgout
è
_cimg_mp_»tuº
(
pos
);

18495 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_£t_joff
:
mp_£t_ioff
),

18496 
¬g1
,
¬g3
).
move_to
(
code
);

18498 
_cimg_mp_»tuº
(
pos
);

18501 ià(*
	g»f
==3) {

18502 ià(!
is_ü™iÿl
è
is_·¿Î–izabË
 = 
çl£
;

18503 
	gp1
 = 
»f
[1];

18504 
	gis_»Ïtive
 = (
boŞ
)
»f
[2];

18505 
	g¬g3
 = 
»f
[3];

18506 
	g¬g4
 = 
»f
[4];

18507 
	g¬g5
 = 
»f
[5];

18508 
	g¬g6
 = 
»f
[6];

18509 ià(
	gis_¡h
 && 
	gp_»f
è
	g¡d
::
memıy
(
p_»f
,
»f
,»f.
_width
*());

18510 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
İ
,
¬g1
).
move_to
(
code
);

18511 ià(
	gp1
!=~0U) {

18512 ià(!
li¡out
è
_cimg_mp_»tuº
(
pos
);

18513 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_li¡_£t_jxyzc
:
mp_li¡_£t_ixyzc
),

18514 
¬g1
,
p1
,
¬g3
,
¬g4
,
¬g5
,
¬g6
).
move_to
(
code
);

18516 ià(!
	gimgout
è
_cimg_mp_»tuº
(
pos
);

18517 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_£t_jxyzc
:
mp_£t_ixyzc
),

18518 
¬g1
,
¬g3
,
¬g4
,
¬g5
,
¬g6
).
move_to
(
code
);

18520 
_cimg_mp_»tuº
(
pos
);

18523 ià(*
	g»f
==4) {

18524 ià(!
is_ü™iÿl
è
is_·¿Î–izabË
 = 
çl£
;

18525 
	gp1
 = 
»f
[1];

18526 
	gis_»Ïtive
 = (
boŞ
)
»f
[2];

18527 
	g¬g3
 = 
»f
[3];

18528 ià(
	gis_¡h
 && 
	gp_»f
è
	g¡d
::
memıy
(
p_»f
,
»f
,»f.
_width
*());

18529 
£lf_veùÜ_s
(
¬g1
,
İ
==
mp_£lf_šüem’t
?
mp_£lf_add
:
mp_£lf_sub
,1);

18530 ià(
	gp1
!=~0U) {

18531 ià(!
li¡out
è
_cimg_mp_»tuº
(
pos
);

18532 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_li¡_£t_Joff_v
:
mp_li¡_£t_Ioff_v
),

18533 
¬g1
,
p1
,
¬g3
,
_cimg_mp_size
×rg1)).
move_to
(
code
);

18535 ià(!
	gimgout
è
_cimg_mp_»tuº
(
pos
);

18536 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_£t_Joff_v
:
mp_£t_Ioff_v
),

18537 
¬g1
,
¬g3
,
_cimg_mp_size
×rg1)).
move_to
(
code
);

18539 
_cimg_mp_»tuº
(
pos
);

18542 ià(*
	g»f
==5) {

18543 ià(!
is_ü™iÿl
è
is_·¿Î–izabË
 = 
çl£
;

18544 
	gp1
 = 
»f
[1];

18545 
	gis_»Ïtive
 = (
boŞ
)
»f
[2];

18546 
	g¬g3
 = 
»f
[3];

18547 
	g¬g4
 = 
»f
[4];

18548 
	g¬g5
 = 
»f
[5];

18549 ià(
	gis_¡h
 && 
	gp_»f
è
	g¡d
::
memıy
(
p_»f
,
»f
,»f.
_width
*());

18550 
£lf_veùÜ_s
(
¬g1
,
İ
==
mp_£lf_šüem’t
?
mp_£lf_add
:
mp_£lf_sub
,1);

18551 ià(
	gp1
!=~0U) {

18552 ià(!
li¡out
è
_cimg_mp_»tuº
(
pos
);

18553 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_li¡_£t_Jxyz_v
:
mp_li¡_£t_Ixyz_v
),

18554 
¬g1
,
p1
,
¬g3
,
¬g4
,
¬g5
,
_cimg_mp_size
×rg1)).
move_to
(
code
);

18556 ià(!
	gimgout
è
_cimg_mp_»tuº
(
pos
);

18557 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_£t_Jxyz_v
:
mp_£t_Ixyz_v
),

18558 
¬g1
,
¬g3
,
¬g4
,
¬g5
,
_cimg_mp_size
×rg1)).
move_to
(
code
);

18560 
_cimg_mp_»tuº
(
pos
);

18563 ià(
_cimg_mp_is_veùÜ
(
¬g1
)) {

18564 
£lf_veùÜ_s
(
¬g1
,
İ
==
mp_£lf_šüem’t
?
mp_£lf_add
:
mp_£lf_sub
,1);

18565 
_cimg_mp_»tuº
(
pos
);

18568 ià(
_cimg_mp_is_v¬ŸbË
(
¬g1
)) {

18569 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
İ
,
¬g1
).
move_to
(
code
);

18570 
_cimg_mp_»tuº
(
pos
);

18573 ià(
	gis_¡h
è
	gv¬ŸbË_Çme
.
assign
(
ss2
,()(
£
 - 
ss1
));

18574 
	gv¬ŸbË_Çme
.
assign
(
ss
,()(
£1
 - ss));

18575 
	gv¬ŸbË_Çme
.
back
() = 0;

18576 
	gcimg
::
¡½¬e
(
v¬ŸbË_Çme
,
çl£
,
Œue
);

18577 
	g_cimg_mp_¡»¼
;

18578 
	gcimg
::
¡»Îsize
(
v¬ŸbË_Çme
,64);

18579 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

18582 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

18583 
_cimg_mp_is_cÚ¡ªt
(
¬g1
)?"const ":"",

18584 
v¬ŸbË_Çme
.
_d©a
,

18585 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

18589 ià(*
	g£1
==']') {

18590 
_cimg_mp_İ
("Value‡ccessor '[]'");

18593 
	gs0
 = 
£1
; s0>
	gss
 && (*s0!='[' || 
Ëv–
[
s0
 - 
ex´
.
_d©a
]!=
şev–
)) --s0;

18594 ià(
	gs0
>
	gss
è{ 
	gs1
 = 
s0
; dØ{ --s1; } 
	gcimg
::
is_bÏnk
(*
s1
)); cimg::
sw­
(*s0,*++s1); }

18595 
	gis_¡h
=
s0
>
ss
 && *(s0-1)==']';

18596 
	gis_»Ïtive
 = *
ss
=='j' || *ss=='J';

18598 ià(!
	gis_¡h
 && (*
	gss
=='I' || *
ss
=='J'è&& *
ss1
=='[' &&

18599 (
»£rved_Ïb–
[()*
ss
]==~0U ||

18600 !
_cimg_mp_is_veùÜ
(
»£rved_Ïb–
[()*
ss
]))) {

18601 ià(*
ss2
=='#') {

18602 
s0
 = 
ss3
; 
	gs0
<
	g£1
 && (*s0!=',' || 
Ëv–
[s0 - 
ex´
.
_d©a
]!=
şev–1
)) ++s0;

18603 
	gp1
 = 
compe
(
ss3
,
s0
++,
d•th1
,0,
is_ü™iÿl
);

18604 
_cimg_mp_check_cÚ¡ªt_šdex
(
p1
);

18605 
_cimg_mp_check_li¡
(
çl£
);

18606 } { 
	gp1
 = ~0U; 
	gs0
 = 
ss2
; }

18607 
	gs1
 = 
s0
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

18608 
	gp2
 = 1 + (
p1
!=~0U);

18609 
	g¬g1
 = 
compe
(
s0
,
s1
,
d•th1
,0,
is_ü™iÿl
);

18610 
_cimg_mp_check_ty³
(
¬g1
,
p2
,1,0);

18611 
	g¬g2
 = ~0U;

18612 ià(
	gs1
<
	g£1
) {

18613 
	g¬g2
 = 
compe
(++
s1
,
£1
,
d•th1
,0,
is_ü™iÿl
);

18614 
_cimg_mp_check_ty³
(
¬g2
,
p2
 + 1,1,0);

18616 ià(
	gp_»f
 && 
	g¬g2
==~0U) {

18617 *
p_»f
 = 4;

18618 
	gp_»f
[1] = 
p1
;

18619 
	gp_»f
[2] = ()
is_»Ïtive
;

18620 
	gp_»f
[3] = 
¬g1
;

18621 ià(
_cimg_mp_is_comp
(
¬g1
)è
	gmemty³
[arg1] = -2;

18623 
	gp2
 = ~0U;

18624 ià(
	gp1
==~0Uè
p2
 = 
imgš
.
_¥eùrum
;

18626 
	gp3
 = ()
cimg
::
mod
(()
mem
[
p1
],
li¡š
.
width
());

18627 
	gp2
 = 
li¡š
[
p3
].
_¥eùrum
;

18629 ià(!
	gp2
è
_cimg_mp_»tuº
(0);

18630 
	gpos
 = 
veùÜ
(
p2
);

18631 ià(
	gp1
!=~0U) {

18632 
CImg
<
ulÚgT
>::
veùÜ
((ulÚgT)(
is_»Ïtive
?
mp_li¡_Joff
:
mp_li¡_Ioff
),

18633 
pos
,
p1
,
¬g1
,
¬g2
==~0U?
_cimg_mp_bound¬y
:¬g2,
p2
).
move_to
(
code
);

18635 
	gÃed_šput_cİy
 = 
Œue
;

18636 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_Joff
:
mp_Ioff
),

18637 
pos
,
¬g1
,
¬g2
==~0U?
_cimg_mp_bound¬y
:¬g2,
p2
).
move_to
(
code
);

18639 
_cimg_mp_»tuº
(
pos
);

18642 ià(!
	gis_¡h
 && (*
	gss
=='i' || *
ss
=='j'è&& *
ss1
=='[' &&

18643 (
»£rved_Ïb–
[()*
ss
]==~0U ||

18644 !
_cimg_mp_is_veùÜ
(
»£rved_Ïb–
[()*
ss
]))) {

18645 ià(*
ss2
=='#') {

18646 
s0
 = 
ss3
; 
	gs0
<
	g£1
 && (*s0!=',' || 
Ëv–
[s0 - 
ex´
.
_d©a
]!=
şev–1
)) ++s0;

18647 
	gp1
 = 
compe
(
ss3
,
s0
++,
d•th1
,0,
is_ü™iÿl
);

18648 } { 
	gp1
 = ~0U; 
	gs0
 = 
ss2
; }

18649 
	gs1
 = 
s0
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

18650 
	g¬g1
 = 
compe
(
s0
,
s1
,
d•th1
,0,
is_ü™iÿl
);

18651 
	g¬g2
 = 
s1
<
£1
?
compe
(++s1,£1,
d•th1
,0,
is_ü™iÿl
):~0U;

18652 ià(
	gp_»f
 && 
	g¬g2
==~0U) {

18653 *
p_»f
 = 2;

18654 
	gp_»f
[1] = 
p1
;

18655 
	gp_»f
[2] = ()
is_»Ïtive
;

18656 
	gp_»f
[3] = 
¬g1
;

18657 ià(
	gp1
!=~0U && 
_cimg_mp_is_comp
(
p1
)è
memty³
[p1] = -2;

18658 ià(
_cimg_mp_is_comp
(
¬g1
)è
	gmemty³
[arg1] = -2;

18660 ià(
	gp1
!=~0U) {

18661 ià(!
li¡š
è
_cimg_mp_»tuº
(0);

18662 
	gpos
 = 
sÿÏr3
(
is_»Ïtive
?
mp_li¡_joff
:
mp_li¡_ioff
,
p1
,
¬g1
,
¬g2
==~0U?
_cimg_mp_bound¬y
:arg2);

18664 ià(!
	gimgš
è
_cimg_mp_»tuº
(0);

18665 
	gÃed_šput_cİy
 = 
Œue
;

18666 
	gpos
 = 
sÿÏr2
(
is_»Ïtive
?
mp_joff
:
mp_ioff
,
¬g1
,
¬g2
==~0U?
_cimg_mp_bound¬y
:arg2);

18668 
	gmemty³
[
pos
] = -2;

18669 
_cimg_mp_»tuº
(
pos
);

18672 
	gs0
 = 
£1
; s0>
	gss
 && (*s0!='[' || 
Ëv–
[
s0
 - 
ex´
.
_d©a
]!=
şev–
)) --s0;

18673 ià(
	gs0
>
	gss
) {

18674 
	g¬g1
 = 
compe
(
ss
,
s0
,
d•th1
,0,
is_ü™iÿl
);

18675 ià(
_cimg_mp_is_sÿÏr
(
¬g1
)) {

18676 
	gv¬ŸbË_Çme
.
assign
(
ss
,()(
s0
 - s + 1)).
back
() = 0;

18677 
	g_cimg_mp_¡»¼
;

18678 
	gcimg
::
¡»Îsize
(
v¬ŸbË_Çme
,64);

18679 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

18682 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

18683 
v¬ŸbË_Çme
.
_d©a
,

18684 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

18687 
	gs1
 = 
s0
 + 1; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

18689 ià(
	gs1
<
	g£1
) {

18690 
	gp1
 = 
_cimg_mp_size
(
¬g1
);

18691 
	g¬g2
 = 
compe
(++
s0
,
s1
,
d•th1
,0,
is_ü™iÿl
);

18692 
	gs0
 = ++
s1
; s0<
	g£1
 && (*s0!=',' || 
Ëv–
[
s0
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s0;

18693 
	g¬g3
 = 
compe
(
s1
,
s0
,
d•th1
,0,
is_ü™iÿl
);

18694 
	g¬g4
 = 
s0
<
£1
?
compe
(++s0,£1,
d•th1
,0,
is_ü™iÿl
):1;

18695 
_cimg_mp_check_cÚ¡ªt
(
¬g3
,2,3);

18696 
	g¬g3
 = ()
mem
[
¬g3
];

18697 
	gpos
 = 
veùÜ
(
¬g3
);

18698 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_veùÜ_üİ
,
pos
,
¬g1
,
p1
,
¬g2
,
¬g3
,
¬g4
).
move_to
(
code
);

18699 
_cimg_mp_»tuº
(
pos
);

18703 
	g¬g2
 = 
compe
(++
s0
,
£1
,
d•th1
,0,
is_ü™iÿl
);

18704 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g2
)) {

18705 
	gnb
 = ()
mem
[
¬g2
];

18706 ià(
	gnb
>=0 && 
nb
<()
_cimg_mp_size
(
¬g1
)è
_cimg_mp_»tuº
(arg1 + 1 +‚b);

18707 
	gv¬ŸbË_Çme
.
assign
(
ss
,()(
s0
 - ss)).
back
() = 0;

18708 
	g_cimg_mp_¡»¼
;

18709 
	gcimg
::
¡»Îsize
(
v¬ŸbË_Çme
,64);

18710 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

18714 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,

18715 
v¬ŸbË_Çme
.
_d©a
,
nb
,

18716 
v¬ŸbË_Çme
.
_d©a
,
_cimg_mp_size
(
¬g1
),

18717 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

18719 ià(
	gp_»f
) {

18720 *
	gp_»f
 = 1;

18721 
	gp_»f
[1] = 
¬g1
;

18722 
	gp_»f
[2] = 
¬g2
;

18723 ià(
_cimg_mp_is_comp
(
¬g2
)è
	gmemty³
[arg2] = -2;

18725 
	gpos
 = 
sÿÏr3
(
mp_veùÜ_off
,
¬g1
,
_cimg_mp_size
×rg1),
¬g2
);

18726 
	gmemty³
[
pos
] = -2;

18727 
_cimg_mp_»tuº
(
pos
);

18732 ià(*
	g£1
==')') {

18733 ià(*
ss
=='('è
_cimg_mp_»tuº
(
compe
(
ss1
,
£1
,
d•th1
,
p_»f
,
is_ü™iÿl
));

18734 
_cimg_mp_İ
("Value‡ccessor '()'");

18735 
	gis_»Ïtive
 = *
ss
=='j' || *ss=='J';

18736 
	gs0
 = 
s1
 = 
¡d
::
¡rchr
(
ss
,'('); ià(s0è{ dØ{ --
	gs1
; } 
	gcimg
::
is_bÏnk
(*s1)); cimg::
sw­
(*
s0
,*++s1); }

18739 ià((*
	gss
=='I' || *
ss
=='J'è&& *
ss1
=='(') {

18740 ià(*
ss2
=='#') {

18741 
s0
 = 
ss3
; 
	gs0
<
	g£1
 && (*s0!=',' || 
Ëv–
[s0 - 
ex´
.
_d©a
]!=
şev–1
)) ++s0;

18742 
	gp1
 = 
compe
(
ss3
,
s0
++,
d•th1
,0,
is_ü™iÿl
);

18743 
_cimg_mp_check_cÚ¡ªt_šdex
(
p1
);

18744 
_cimg_mp_check_li¡
(
çl£
);

18745 } { 
	gp1
 = ~0U; 
	gs0
 = 
ss2
; }

18746 
	g¬g1
 = 
is_»Ïtive
?0U:()
_cimg_mp_¦Ù_x
;

18747 
	g¬g2
 = 
is_»Ïtive
?0U:()
_cimg_mp_¦Ù_y
;

18748 
	g¬g3
 = 
is_»Ïtive
?0U:()
_cimg_mp_¦Ù_z
;

18749 
	g¬g4
 = 
¬g5
 = ~0U;

18750 ià(
	gs0
<
	g£1
) {

18751 
	gs1
 = 
s0
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

18752 
	g¬g1
 = 
compe
(
s0
,
s1
,
d•th1
,0,
is_ü™iÿl
);

18753 ià(
_cimg_mp_is_veùÜ
(
¬g1
)) {

18754 
	gp2
 = 
_cimg_mp_size
(
¬g1
);

18755 ++
	g¬g1
;

18756 ià(
	gp2
>1) {

18757 
	g¬g2
 = 
¬g1
 + 1;

18758 ià(
	gp2
>2è
	g¬g3
 = 
¬g2
 + 1;

18760 ià(
	gs1
<
	g£1
) {

18761 
	gs2
 = ++
s1
; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

18762 
	g¬g4
 = 
compe
(
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

18763 
	g¬g5
 = 
s2
<
£1
?
compe
(++s2,£1,
d•th1
,0,
is_ü™iÿl
):~0U;

18765 } ià(
	gs1
<
	g£1
) {

18766 
	gs2
 = ++
s1
; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

18767 
	g¬g2
 = 
compe
(
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

18768 ià(
	gs2
<
	g£1
) {

18769 
	gs3
 = ++
s2
; s3<
	g£1
 && (*s3!=',' || 
Ëv–
[
s3
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s3;

18770 
	g¬g3
 = 
compe
(
s2
,
s3
,
d•th1
,0,
is_ü™iÿl
);

18771 ià(
	gs3
<
	g£1
) {

18772 
	gs2
 = ++
s3
; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

18773 
	g¬g4
 = 
compe
(
s3
,
s2
,
d•th1
,0,
is_ü™iÿl
);

18774 
	g¬g5
 = 
s2
<
£1
?
compe
(++s2,£1,
d•th1
,0,
is_ü™iÿl
):~0U;

18779 ià(
	gp_»f
 && 
	g¬g4
==~0U && 
¬g5
==~0U) {

18780 *
p_»f
 = 5;

18781 
	gp_»f
[1] = 
p1
;

18782 
	gp_»f
[2] = ()
is_»Ïtive
;

18783 
	gp_»f
[3] = 
¬g1
;

18784 
	gp_»f
[4] = 
¬g2
;

18785 
	gp_»f
[5] = 
¬g3
;

18786 ià(
	gp1
!=~0U && 
_cimg_mp_is_comp
(
p1
)è
memty³
[p1] = -2;

18787 ià(
_cimg_mp_is_comp
(
¬g1
)è
	gmemty³
[arg1] = -2;

18788 ià(
_cimg_mp_is_comp
(
¬g2
)è
	gmemty³
[arg2] = -2;

18789 ià(
_cimg_mp_is_comp
(
¬g3
)è
	gmemty³
[arg3] = -2;

18791 
	gp2
 = ~0U;

18792 ià(
	gp1
==~0Uè
p2
 = 
imgš
.
_¥eùrum
;

18793 ià(
_cimg_mp_is_cÚ¡ªt
(
p1
)) {

18794 
	gp3
 = ()
cimg
::
mod
(()
mem
[
p1
],
li¡š
.
width
());

18795 
	gp2
 = 
li¡š
[
p3
].
_¥eùrum
;

18797 ià(!
	gp2
è
_cimg_mp_»tuº
(0);

18798 
	gpos
 = 
veùÜ
(
p2
);

18799 ià(
	gp1
!=~0U)

18800 
CImg
<
ulÚgT
>::
veùÜ
((ulÚgT)(
is_»Ïtive
?
mp_li¡_Jxyz
:
mp_li¡_Ixyz
),

18801 
pos
,
p1
,
¬g1
,
¬g2
,
¬g3
,

18802 
¬g4
==~0U?
_cimg_mp_š‹½Ş©iÚ
:arg4,

18803 
¬g5
==~0U?
_cimg_mp_bound¬y
:¬g5,
p2
).
move_to
(
code
);

18805 
	gÃed_šput_cİy
 = 
Œue
;

18806 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_Jxyz
:
mp_Ixyz
),

18807 
pos
,
¬g1
,
¬g2
,
¬g3
,

18808 
¬g4
==~0U?
_cimg_mp_š‹½Ş©iÚ
:arg4,

18809 
¬g5
==~0U?
_cimg_mp_bound¬y
:¬g5,
p2
).
move_to
(
code
);

18811 
_cimg_mp_»tuº
(
pos
);

18815 ià((*
	gss
=='i' || *
ss
=='j'è&& *
ss1
=='(') {

18816 ià(*
ss2
=='#') {

18817 
s0
 = 
ss3
; 
	gs0
<
	g£1
 && (*s0!=',' || 
Ëv–
[s0 - 
ex´
.
_d©a
]!=
şev–1
)) ++s0;

18818 
	gp1
 = 
compe
(
ss3
,
s0
++,
d•th1
,0,
is_ü™iÿl
);

18819 } { 
	gp1
 = ~0U; 
	gs0
 = 
ss2
; }

18820 
	g¬g1
 = 
is_»Ïtive
?0U:()
_cimg_mp_¦Ù_x
;

18821 
	g¬g2
 = 
is_»Ïtive
?0U:()
_cimg_mp_¦Ù_y
;

18822 
	g¬g3
 = 
is_»Ïtive
?0U:()
_cimg_mp_¦Ù_z
;

18823 
	g¬g4
 = 
is_»Ïtive
?0U:()
_cimg_mp_¦Ù_c
;

18824 
	g¬g5
 = 
¬g6
 = ~0U;

18825 ià(
	gs0
<
	g£1
) {

18826 
	gs1
 = 
s0
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

18827 
	g¬g1
 = 
compe
(
s0
,
s1
,
d•th1
,0,
is_ü™iÿl
);

18828 ià(
_cimg_mp_is_veùÜ
(
¬g1
)) {

18829 
	gp2
 = 
_cimg_mp_size
(
¬g1
);

18830 ++
	g¬g1
;

18831 ià(
	gp2
>1) {

18832 
	g¬g2
 = 
¬g1
 + 1;

18833 ià(
	gp2
>2) {

18834 
	g¬g3
 = 
¬g2
 + 1;

18835 ià(
	gp2
>3è
	g¬g4
 = 
¬g3
 + 1;

18838 ià(
	gs1
<
	g£1
) {

18839 
	gs2
 = ++
s1
; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

18840 
	g¬g5
 = 
compe
(
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

18841 
	g¬g6
 = 
s2
<
£1
?
compe
(++s2,£1,
d•th1
,0,
is_ü™iÿl
):~0U;

18843 } ià(
	gs1
<
	g£1
) {

18844 
	gs2
 = ++
s1
; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

18845 
	g¬g2
 = 
compe
(
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

18846 ià(
	gs2
<
	g£1
) {

18847 
	gs3
 = ++
s2
; s3<
	g£1
 && (*s3!=',' || 
Ëv–
[
s3
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s3;

18848 
	g¬g3
 = 
compe
(
s2
,
s3
,
d•th1
,0,
is_ü™iÿl
);

18849 ià(
	gs3
<
	g£1
) {

18850 
	gs2
 = ++
s3
; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

18851 
	g¬g4
 = 
compe
(
s3
,
s2
,
d•th1
,0,
is_ü™iÿl
);

18852 ià(
	gs2
<
	g£1
) {

18853 
	gs3
 = ++
s2
; s3<
	g£1
 && (*s3!=',' || 
Ëv–
[
s3
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s3;

18854 
	g¬g5
 = 
compe
(
s2
,
s3
,
d•th1
,0,
is_ü™iÿl
);

18855 
	g¬g6
 = 
s3
<
£1
?
compe
(++s3,£1,
d•th1
,0,
is_ü™iÿl
):~0U;

18861 ià(
	gp_»f
 && 
	g¬g5
==~0U && 
¬g6
==~0U) {

18862 *
p_»f
 = 3;

18863 
	gp_»f
[1] = 
p1
;

18864 
	gp_»f
[2] = ()
is_»Ïtive
;

18865 
	gp_»f
[3] = 
¬g1
;

18866 
	gp_»f
[4] = 
¬g2
;

18867 
	gp_»f
[5] = 
¬g3
;

18868 
	gp_»f
[6] = 
¬g4
;

18869 ià(
	gp1
!=~0U && 
_cimg_mp_is_comp
(
p1
)è
memty³
[p1] = -2;

18870 ià(
_cimg_mp_is_comp
(
¬g1
)è
	gmemty³
[arg1] = -2;

18871 ià(
_cimg_mp_is_comp
(
¬g2
)è
	gmemty³
[arg2] = -2;

18872 ià(
_cimg_mp_is_comp
(
¬g3
)è
	gmemty³
[arg3] = -2;

18873 ià(
_cimg_mp_is_comp
(
¬g4
)è
	gmemty³
[arg4] = -2;

18876 ià(
	gp1
!=~0U) {

18877 ià(!
li¡š
è
_cimg_mp_»tuº
(0);

18878 
	gpos
 = 
sÿÏr7
(
is_»Ïtive
?
mp_li¡_jxyzc
:
mp_li¡_ixyzc
,

18879 
p1
,
¬g1
,
¬g2
,
¬g3
,
¬g4
,

18880 
¬g5
==~0U?
_cimg_mp_š‹½Ş©iÚ
:arg5,

18881 
¬g6
==~0U?
_cimg_mp_bound¬y
:arg6);

18883 ià(!
	gimgš
è
_cimg_mp_»tuº
(0);

18884 
	gÃed_šput_cİy
 = 
Œue
;

18885 
	gpos
 = 
sÿÏr6
(
is_»Ïtive
?
mp_jxyzc
:
mp_ixyzc
,

18886 
¬g1
,
¬g2
,
¬g3
,
¬g4
,

18887 
¬g5
==~0U?
_cimg_mp_š‹½Ş©iÚ
:arg5,

18888 
¬g6
==~0U?
_cimg_mp_bound¬y
:arg6);

18890 
	gmemty³
[
pos
] = -2;

18891 
_cimg_mp_»tuº
(
pos
);

18895 *
	gss
) {

18898 ià(*
ss1
=='(')

18899 
_cimg_mp_»tuº_Çn
();

18903 ià(!
¡d
::
¡ºcmp
(
ss
,"abs(",4)) {

18904 
_cimg_mp_İ
("Function 'abs()'");

18905 
	g¬g1
 = 
compe
(
ss4
,
£1
,
d•th1
,0,
is_ü™iÿl
);

18906 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_abs
,arg1);

18907 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
cimg
::
abs
(
mem
[arg1]));

18908 
_cimg_mp_sÿÏr1
(
mp_abs
,
¬g1
);

18911 ià(!
	g¡d
::
¡ºcmp
(
ss
,"acos(",5)) {

18912 
_cimg_mp_İ
("Function 'acos()'");

18913 
	g¬g1
 = 
compe
(
ss5
,
£1
,
d•th1
,0,
is_ü™iÿl
);

18914 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_acos
,arg1);

18915 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
¡d
::
acos
(
mem
[arg1]));

18916 
_cimg_mp_sÿÏr1
(
mp_acos
,
¬g1
);

18919 ià(!
	g¡d
::
¡ºcmp
(
ss
,"acosh(",6)) {

18920 
_cimg_mp_İ
("Function 'acosh()'");

18921 
	g¬g1
 = 
compe
(
ss6
,
£1
,
d•th1
,0,
is_ü™iÿl
);

18922 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_acosh
,arg1);

18923 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
cimg
::
acosh
(
mem
[arg1]));

18924 
_cimg_mp_sÿÏr1
(
mp_acosh
,
¬g1
);

18927 ià(!
	g¡d
::
¡ºcmp
(
ss
,"asinh(",6)) {

18928 
_cimg_mp_İ
("Function 'asinh()'");

18929 
	g¬g1
 = 
compe
(
ss6
,
£1
,
d•th1
,0,
is_ü™iÿl
);

18930 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_asšh
,arg1);

18931 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
cimg
::
asšh
(
mem
[arg1]));

18932 
_cimg_mp_sÿÏr1
(
mp_asšh
,
¬g1
);

18935 ià(!
	g¡d
::
¡ºcmp
(
ss
,"atanh(",6)) {

18936 
_cimg_mp_İ
("Function 'atanh()'");

18937 
	g¬g1
 = 
compe
(
ss6
,
£1
,
d•th1
,0,
is_ü™iÿl
);

18938 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_©ªh
,arg1);

18939 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
cimg
::
©ªh
(
mem
[arg1]));

18940 
_cimg_mp_sÿÏr1
(
mp_©ªh
,
¬g1
);

18943 ià(!
	g¡d
::
¡ºcmp
(
ss
,"arg(",4) ||

18944 !
	g¡d
::
¡ºcmp
(
ss
,"arg0(",5) ||

18945 !
	g¡d
::
¡ºcmp
(
ss
,"arg1(",5)) {

18946 
_cimg_mp_İ
(*
ss3
=='('?"Function 'arg()'":*ss3=='0'?"Function 'arg0()'":"Function 'arg1()'");

18947 
	gs0
 = 
ss4
 + (*
ss3
!='('?1:0);

18948 
	gs1
 = 
s0
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

18949 
	g¬g1
 = 
compe
(
s0
,
s1
,
d•th1
,0,
is_ü™iÿl
);

18950 
_cimg_mp_check_ty³
(
¬g1
,1,1,0);

18951 
	gs2
 = ++
s1
; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

18952 
	g¬g2
 = 
compe
(
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

18953 
	gp2
 = 
_cimg_mp_size
(
¬g2
);

18954 
	gp3
 = 3;

18955 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(*
ss3
=='0'?
mp_¬g0
:
mp_¬g
),0,0,
p2
,
¬g1
,
¬g2
).
move_to
(
l_İcode
);

18956 
	gs
 = ++
s2
; s<
	g£
; ++s) {

18957 
	gns
 = 
s
; ns<
	g£
 && (*ns!=',' || 
Ëv–
[
ns
 - 
ex´
.
_d©a
]!=
şev–1
) &&

18958 (*
ns
!=')' || 
Ëv–
[n - 
ex´
.
_d©a
]!=
şev–
)) ++ns;

18959 
	g¬g3
 = 
compe
(
s
,
ns
,
d•th1
,0,
is_ü™iÿl
);

18960 
_cimg_mp_check_ty³
(
¬g3
,
p3
,
p2
?2:1,p2);

18961 
	gCImg
<
	gulÚgT
>::
veùÜ
(
¬g3
).
move_to
(
l_İcode
);

18962 ++
	gp3
;

18963 
	gs
 = 
ns
;

18965 (
	gl_İcode
>'y').
move_to
(
İcode
);

18966 
	gİcode
[2] = 
İcode
.
_height
;

18967 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)) {

18968 
	gp3
-=1;

18969 ià(*
	gss3
=='0'è
¬g1
 = ()(
mem
[¬g1]<0?mem[¬g1] + 
p3
:mem[arg1] + 1);

18970 
	g¬g1
 = ()(
mem
[
¬g1
]<0?mem[¬g1] + 
p3
:mem[arg1]);

18971 ià(
	g¬g1
<
	gp3
è
_cimg_mp_»tuº
(
İcode
[4 + 
¬g1
]);

18972 ià(
	gp2
) {

18973 
	gpos
 = 
veùÜ
(
p2
);

18974 
	g¡d
::
mem£t
(&
mem
[
pos
] + 1,0,
p2
*());

18975 
_cimg_mp_»tuº
(
pos
);

18976 } 
_cimg_mp_»tuº
(0);

18978 
	gpos
 = 
İcode
[1] = 
p2
?
veùÜ
Õ2):
sÿÏr
();

18979 
	gİcode
.
move_to
(
code
);

18980 
_cimg_mp_»tuº
(
pos
);

18983 ià(!
	g¡d
::
¡ºcmp
(
ss
,"asin(",5)) {

18984 
_cimg_mp_İ
("Function 'asin()'");

18985 
	g¬g1
 = 
compe
(
ss5
,
£1
,
d•th1
,0,
is_ü™iÿl
);

18986 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_asš
,arg1);

18987 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
¡d
::
asš
(
mem
[arg1]));

18988 
_cimg_mp_sÿÏr1
(
mp_asš
,
¬g1
);

18991 ià(!
	g¡d
::
¡ºcmp
(
ss
,"atan(",5)) {

18992 
_cimg_mp_İ
("Function 'atan()'");

18993 
	g¬g1
 = 
compe
(
ss5
,
£1
,
d•th1
,0,
is_ü™iÿl
);

18994 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_©ª
,arg1);

18995 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
¡d
::
©ª
(
mem
[arg1]));

18996 
_cimg_mp_sÿÏr1
(
mp_©ª
,
¬g1
);

18999 ià(!
	g¡d
::
¡ºcmp
(
ss
,"atan2(",6)) {

19000 
_cimg_mp_İ
("Function 'atan2()'");

19001 
	gs1
 = 
ss6
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

19002 
	g¬g1
 = 
compe
(
ss6
,
s1
,
d•th1
,0,
is_ü™iÿl
);

19003 
	g¬g2
 = 
compe
(++
s1
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19004 
_cimg_mp_check_ty³
(
¬g2
,2,3,
_cimg_mp_size
(
¬g1
));

19005 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& _cimg_mp_is_veùÜ(
¬g2
)è
_cimg_mp_veùÜ2_vv
(
mp_©ª2
,arg1,arg2);

19006 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& 
_cimg_mp_is_sÿÏr
(
¬g2
)è
_cimg_mp_veùÜ2_vs
(
mp_©ª2
,arg1,arg2);

19007 ià(
_cimg_mp_is_sÿÏr
(
¬g1
è&& 
_cimg_mp_is_veùÜ
(
¬g2
)è
_cimg_mp_veùÜ2_sv
(
mp_©ª2
,arg1,arg2);

19008 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
))

19009 
_cimg_mp_cÚ¡ªt
(
¡d
::
©ª2
(
mem
[
¬g1
],mem[
¬g2
]));

19010 
_cimg_mp_sÿÏr2
(
mp_©ª2
,
¬g1
,
¬g2
);

19015 ià(!
¡d
::
¡ºcmp
(
ss
,"break(",6)) {

19016 ià(
	g³x´
[
£2
 - 
ex´
.
_d©a
]=='(') {

19017 
CImg
<
ulÚgT
>::
veùÜ
((ulÚgT)
mp_b»ak
,
_cimg_mp_¦Ù_Çn
).
move_to
(
code
);

19018 
_cimg_mp_»tuº_Çn
();

19022 ià(!
	g¡d
::
¡ºcmp
(
ss
,"breakpoint(",11)) {

19023 
_cimg_mp_İ
("Function 'breakpoint()'");

19024 ià(
	g³x´
[
£2
 - 
ex´
.
_d©a
]=='(') {

19025 
CImg
<
ulÚgT
>::
veùÜ
((ulÚgT)
mp_b»akpošt
,
_cimg_mp_¦Ù_Çn
).
move_to
(
code
);

19026 
_cimg_mp_»tuº_Çn
();

19030 ià(!
	g¡d
::
¡ºcmp
(
ss
,"bool(",5)) {

19031 
_cimg_mp_İ
("Function 'bool()'");

19032 
	g¬g1
 = 
compe
(
ss5
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19033 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_boŞ
,arg1);

19034 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
((
boŞ
)
mem
[arg1]);

19035 
_cimg_mp_sÿÏr1
(
mp_boŞ
,
¬g1
);

19038 ià(!
	g¡d
::
¡ºcmp
(
ss
,"begin(",6)) {

19039 
_cimg_mp_İ
("Function 'begin()'");

19040 
	gcode
.
sw­
(
code_begš
);

19041 
	g¬g1
 = 
compe
(
ss6
,
£1
,
d•th1
,
p_»f
,
Œue
);

19042 
	gcode
.
sw­
(
code_begš
);

19043 
_cimg_mp_»tuº
(
¬g1
);

19046 ià(!
	g¡d
::
¡ºcmp
(
ss
,"begin_t(",8)) {

19047 
_cimg_mp_İ
("Function 'begin_t()'");

19048 
	gcode
.
sw­
(
code_begš_t
);

19049 
	g¬g1
 = 
compe
(
ss8
,
£1
,
d•th1
,
p_»f
,
Œue
);

19050 
	gcode
.
sw­
(
code_begš_t
);

19051 
_cimg_mp_»tuº
(
¬g1
);

19056 ià(!
¡d
::
¡ºcmp
(
ss
,"cabs(",5)) {

19057 
_cimg_mp_İ
("Function 'cabs()'");

19058 
	g¬g1
 = 
compe
(
ss5
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19059 
_cimg_mp_check_ty³
(
¬g1
,0,3,2);

19060 ià(
_cimg_mp_is_sÿÏr
(
¬g1
)è
_cimg_mp_sÿÏr2
(
mp_com¶ex_abs
,arg1,0);

19061 
_cimg_mp_sÿÏr2
(
mp_com¶ex_abs
,
¬g1
 + 1,arg1 + 2);

19064 ià(!
	g¡d
::
¡ºcmp
(
ss
,"carg(",5)) {

19065 
_cimg_mp_İ
("Function 'carg()'");

19066 
	g¬g1
 = 
compe
(
ss5
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19067 
_cimg_mp_check_ty³
(
¬g1
,0,3,2);

19068 ià(
_cimg_mp_is_sÿÏr
(
¬g1
)è
_cimg_mp_sÿÏr2
(
mp_©ª2
,0,arg1);

19069 
_cimg_mp_sÿÏr2
(
mp_©ª2
,
¬g1
 + 2,arg1 + 1);

19072 ià(!
	g¡d
::
¡ºcmp
(
ss
,"cbrt(",5)) {

19073 
_cimg_mp_İ
("Function 'cbrt()'");

19074 
	g¬g1
 = 
compe
(
ss5
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19075 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_cb¹
,arg1);

19076 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
cimg
::
cb¹
(
mem
[arg1]));

19077 
_cimg_mp_sÿÏr1
(
mp_cb¹
,
¬g1
);

19080 ià(!
	g¡d
::
¡ºcmp
(
ss
,"cconj(",6)) {

19081 
_cimg_mp_İ
("Function 'cconj()'");

19082 
	g¬g1
 = 
compe
(
ss6
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19083 
_cimg_mp_check_ty³
(
¬g1
,0,3,2);

19084 
	gpos
 = 
veùÜ
(2);

19085 ià(
_cimg_mp_is_sÿÏr
(
¬g1
)è
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_cÚj
,
pos
,¬g1,0).
move_to
(
code
);

19086 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_cÚj
,
pos
,
¬g1
 + 1,¬g1 + 2).
move_to
(
code
);

19087 
_cimg_mp_»tuº
(
pos
);

19090 ià(!
	g¡d
::
¡ºcmp
(
ss
,"ceil(",5)) {

19091 
_cimg_mp_İ
("Function 'ceil()'");

19092 
	g¬g1
 = 
compe
(
ss5
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19093 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_û
,arg1);

19094 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
¡d
::
û
(
mem
[arg1]));

19095 
_cimg_mp_sÿÏr1
(
mp_û
,
¬g1
);

19098 ià(!
	g¡d
::
¡ºcmp
(
ss
,"cexp(",5)) {

19099 
_cimg_mp_İ
("Function 'cexp()'");

19100 
	g¬g1
 = 
compe
(
ss5
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19101 
_cimg_mp_check_ty³
(
¬g1
,0,3,2);

19102 
	gpos
 = 
veùÜ
(2);

19103 ià(
_cimg_mp_is_sÿÏr
(
¬g1
)è
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_exp
,
pos
,¬g1,0).
move_to
(
code
);

19104 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_exp
,
pos
,
¬g1
 + 1,¬g1 + 2).
move_to
(
code
);

19105 
_cimg_mp_»tuº
(
pos
);

19108 ià(!
	g¡d
::
¡ºcmp
(
ss
,"clog(",5)) {

19109 
_cimg_mp_İ
("Function 'clog()'");

19110 
	g¬g1
 = 
compe
(
ss5
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19111 
_cimg_mp_check_ty³
(
¬g1
,0,3,2);

19112 
	gpos
 = 
veùÜ
(2);

19113 ià(
_cimg_mp_is_sÿÏr
(
¬g1
)è
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_log
,
pos
,¬g1,0).
move_to
(
code
);

19114 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_log
,
pos
,
¬g1
 + 1,¬g1 + 2).
move_to
(
code
);

19115 
_cimg_mp_»tuº
(
pos
);

19118 ià(!
	g¡d
::
¡ºcmp
(
ss
,"ccos(",5)) {

19119 
_cimg_mp_İ
("Function 'ccos()'");

19120 
	g¬g1
 = 
compe
(
ss5
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19121 
_cimg_mp_check_ty³
(
¬g1
,0,3,2);

19122 
	gpos
 = 
veùÜ
(2);

19123 ià(
_cimg_mp_is_sÿÏr
(
¬g1
)è
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_cos
,
pos
,¬g1,0).
move_to
(
code
);

19124 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_cos
,
pos
,
¬g1
 + 1,¬g1 + 2).
move_to
(
code
);

19125 
_cimg_mp_»tuº
(
pos
);

19128 ià(!
	g¡d
::
¡ºcmp
(
ss
,"csin(",5)) {

19129 
_cimg_mp_İ
("Function 'csin()'");

19130 
	g¬g1
 = 
compe
(
ss5
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19131 
_cimg_mp_check_ty³
(
¬g1
,0,3,2);

19132 
	gpos
 = 
veùÜ
(2);

19133 ià(
_cimg_mp_is_sÿÏr
(
¬g1
)è
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_sš
,
pos
,¬g1,0).
move_to
(
code
);

19134 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_sš
,
pos
,
¬g1
 + 1,¬g1 + 2).
move_to
(
code
);

19135 
_cimg_mp_»tuº
(
pos
);

19138 ià(!
	g¡d
::
¡ºcmp
(
ss
,"ctan(",5)) {

19139 
_cimg_mp_İ
("Function 'ctan()'");

19140 
	g¬g1
 = 
compe
(
ss5
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19141 
_cimg_mp_check_ty³
(
¬g1
,0,3,2);

19142 
	gpos
 = 
veùÜ
(2);

19143 ià(
_cimg_mp_is_sÿÏr
(
¬g1
)è
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_n
,
pos
,¬g1,0).
move_to
(
code
);

19144 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_n
,
pos
,
¬g1
 + 1,¬g1 + 2).
move_to
(
code
);

19145 
_cimg_mp_»tuº
(
pos
);

19148 ià(!
	g¡d
::
¡ºcmp
(
ss
,"ccosh(",6)) {

19149 
_cimg_mp_İ
("Function 'ccosh()'");

19150 
	g¬g1
 = 
compe
(
ss6
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19151 
_cimg_mp_check_ty³
(
¬g1
,0,3,2);

19152 
	gpos
 = 
veùÜ
(2);

19153 ià(
_cimg_mp_is_sÿÏr
(
¬g1
)è
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_cosh
,
pos
,¬g1,0).
move_to
(
code
);

19154 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_cosh
,
pos
,
¬g1
 + 1,¬g1 + 2).
move_to
(
code
);

19155 
_cimg_mp_»tuº
(
pos
);

19158 ià(!
	g¡d
::
¡ºcmp
(
ss
,"csinh(",6)) {

19159 
_cimg_mp_İ
("Function 'csinh()'");

19160 
	g¬g1
 = 
compe
(
ss6
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19161 
_cimg_mp_check_ty³
(
¬g1
,0,3,2);

19162 
	gpos
 = 
veùÜ
(2);

19163 ià(
_cimg_mp_is_sÿÏr
(
¬g1
)è
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_sšh
,
pos
,¬g1,0).
move_to
(
code
);

19164 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_sšh
,
pos
,
¬g1
 + 1,¬g1 + 2).
move_to
(
code
);

19165 
_cimg_mp_»tuº
(
pos
);

19168 ià(!
	g¡d
::
¡ºcmp
(
ss
,"ctanh(",6)) {

19169 
_cimg_mp_İ
("Function 'ctanh()'");

19170 
	g¬g1
 = 
compe
(
ss6
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19171 
_cimg_mp_check_ty³
(
¬g1
,0,3,2);

19172 
	gpos
 = 
veùÜ
(2);

19173 ià(
_cimg_mp_is_sÿÏr
(
¬g1
)è
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_nh
,
pos
,¬g1,0).
move_to
(
code
);

19174 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_com¶ex_nh
,
pos
,
¬g1
 + 1,¬g1 + 2).
move_to
(
code
);

19175 
_cimg_mp_»tuº
(
pos
);

19178 ià(!
	g¡d
::
¡ºcmp
(
ss
,"continue(",9)) {

19179 ià(
	g³x´
[
£2
 - 
ex´
.
_d©a
]=='(') {

19180 
CImg
<
ulÚgT
>::
veùÜ
((ulÚgT)
mp_cÚtšue
,
_cimg_mp_¦Ù_Çn
).
move_to
(
code
);

19181 
_cimg_mp_»tuº_Çn
();

19185 ià(!
	g¡d
::
¡ºcmp
(
ss
,"copy(",5)) {

19186 
_cimg_mp_İ
("Function 'copy()'");

19187 
	g»f
.
assign
(14);

19188 
	gs1
 = 
ss5
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

19189 
	g¬g1
 = 
p1
 = 
compe
(
ss5
,
s1
,
d•th1
,
»f
,
is_ü™iÿl
);

19190 
	gs2
 = ++
s1
; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

19191 
	g¬g2
 = 
compe
(
s1
,
s2
,
d•th1
,
»f
.
_d©a
 + 7,
is_ü™iÿl
);

19192 
	g¬g3
 = 
¬g4
 = 
¬g5
 = ~0U; 
	g¬g6
 = 1;

19193 ià(
	gs2
<
	g£1
) {

19194 
	gs3
 = ++
s2
; s3<
	g£1
 && (*s3!=',' || 
Ëv–
[
s3
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s3;

19195 
	g¬g3
 = 
compe
(
s2
,
s3
,
d•th1
,0,
is_ü™iÿl
);

19196 ià(
	gs3
<
	g£1
) {

19197 
	gs1
 = ++
s3
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

19198 
	g¬g4
 = 
compe
(
s3
,
s1
,
d•th1
,0,
is_ü™iÿl
);

19199 ià(
	gs1
<
	g£1
) {

19200 
	gs2
 = ++
s1
; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

19201 
	g¬g5
 = 
compe
(
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

19202 
	g¬g6
 = 
s2
<
£1
?
compe
(++s2,£1,
d•th1
,0,
is_ü™iÿl
):1;

19206 ià(
_cimg_mp_is_veùÜ
(
¬g1
)) {

19207 ià(!
	g»f
[0]è++
	g¬g1
;

19208 ià(
	g»f
[0]>=4 && 
¬g4
==~0Uè¬g4 = 
sÿÏr1
(
mp_image_whd
,
»f
[1]);

19210 ià(
_cimg_mp_is_veùÜ
(
¬g2
)) {

19211 ià(
	g¬g3
==~0Uè
¬g3
 = 
cÚ¡ªt
(
_cimg_mp_size
(
¬g2
));

19212 ià(!
	g»f
[7]è++
	g¬g2
;

19213 ià(
	g»f
[7]>=4 && 
¬g5
==~0Uè¬g5 = 
sÿÏr1
(
mp_image_whd
,
»f
[8]);

19215 ià(
	g¬g3
==~0Uè
¬g3
 = 1;

19216 ià(
	g¬g4
==~0Uè
¬g4
 = 1;

19217 ià(
	g¬g5
==~0Uè
¬g5
 = 1;

19218 
_cimg_mp_check_ty³
(
¬g3
,3,1,0);

19219 
_cimg_mp_check_ty³
(
¬g4
,4,1,0);

19220 
_cimg_mp_check_ty³
(
¬g5
,5,1,0);

19221 
_cimg_mp_check_ty³
(
¬g6
,5,1,0);

19222 
	gCImg
<
	gulÚgT
>(1,22).
move_to
(
code
);

19223 
	gcode
.
back
().
g‘_sh¬ed_rows
(0,7).
fl
((
ulÚgT
)
mp_memcİy
,
p1
,
¬g1
,
¬g2
,
¬g3
,
¬g4
,
¬g5
,
¬g6
);

19224 
	gcode
.
back
().
g‘_sh¬ed_rows
(8,21).
fl
(
»f
);

19225 
_cimg_mp_»tuº
(
p1
);

19228 ià(!
	g¡d
::
¡ºcmp
(
ss
,"cos(",4)) {

19229 
_cimg_mp_İ
("Function 'cos()'");

19230 
	g¬g1
 = 
compe
(
ss4
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19231 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_cos
,arg1);

19232 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
¡d
::
cos
(
mem
[arg1]));

19233 
_cimg_mp_sÿÏr1
(
mp_cos
,
¬g1
);

19236 ià(!
	g¡d
::
¡ºcmp
(
ss
,"cosh(",5)) {

19237 
_cimg_mp_İ
("Function 'cosh()'");

19238 
	g¬g1
 = 
compe
(
ss5
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19239 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_cosh
,arg1);

19240 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
¡d
::
cosh
(
mem
[arg1]));

19241 
_cimg_mp_sÿÏr1
(
mp_cosh
,
¬g1
);

19244 ià(!
	g¡d
::
¡ºcmp
(
ss
,"critical(",9)) {

19245 
_cimg_mp_İ
("Function 'critical()'");

19246 
	gp1
 = 
code
.
_width
;

19247 
	g¬g1
 = 
compe
(
ss
 + 9,
£1
,
d•th1
,
p_»f
,
Œue
);

19248 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_ü™iÿl
,
¬g1
,
code
.
_width
 - 
p1
).
move_to
(code,p1);

19249 
_cimg_mp_»tuº
(
¬g1
);

19252 ià(!
	g¡d
::
¡ºcmp
(
ss
,"crop(",5)) {

19253 
_cimg_mp_İ
("Function 'crop()'");

19254 ià(*
	gss5
=='#') {

19255 
s0
 = 
ss6
; 
	gs0
<
	g£1
 && (*s0!=',' || 
Ëv–
[s0 - 
ex´
.
_d©a
]!=
şev–1
)) ++s0;

19256 
	gp1
 = 
compe
(
ss6
,
s0
++,
d•th1
,0,
is_ü™iÿl
);

19257 
_cimg_mp_check_li¡
(
çl£
);

19258 } { 
	gp1
 = ~0U; 
	gs0
 = 
ss5
; 
	gÃed_šput_cİy
 = 
Œue
; }

19259 
	gpos
 = 0;

19260 
	gis_¡h
 = 
çl£
;

19261 ià(
	gs0
<
	g£1
è
	gs
 = 
s0
; s<
	g£
; ++s, ++
	gpos
) {

19262 
	gns
 = 
s
; ns<
	g£
 && (*ns!=',' || 
Ëv–
[
ns
 - 
ex´
.
_d©a
]!=
şev–1
) &&

19263 (*
ns
!=')' || 
Ëv–
[n - 
ex´
.
_d©a
]!=
şev–
)) ++ns;

19264 
	g¬g1
 = 
compe
(
s
,
ns
,
d•th1
,0,
is_ü™iÿl
);

19265 ià(!
	gpos
 && 
_cimg_mp_is_veùÜ
(
¬g1
)) {

19266 
	gİcode
 = 
CImg
<
ulÚgT
>::
£qu’û
(
_cimg_mp_size
(
¬g1
),arg1 + 1,

19267 
¬g1
 + (
ulÚgT
)
_cimg_mp_size
(arg1));

19268 
	gİcode
.
»size
(1,
¡d
::
mš
(
İcode
.
_height
,4U),1,1,0).
move_to
(
l_İcode
);

19269 
	gis_¡h
 = 
Œue
;

19271 
_cimg_mp_check_ty³
(
¬g1
,
pos
 + 1,1,0);

19272 
	gCImg
<
	gulÚgT
>::
veùÜ
(
¬g1
).
move_to
(
l_İcode
);

19274 
	gs
 = 
ns
;

19276 (
	gl_İcode
>'y').
move_to
(
İcode
);

19278 
	g¬g1
 = 0; 
	g¬g2
 = (
p1
!=~0U);

19279 
	gİcode
.
	g_height
) {

19281 
CImg
<
ulÚgT
>::
veùÜ
(0,0,0,0,~0U,~0U,~0U,~0U,0).
move_to
(
İcode
);

19284 
CImg
<
ulÚgT
>::
veùÜ
(*
İcode
,0,0,0,İcode[1],~0U,~0U,~0U,
_cimg_mp_bound¬y
).
move_to
(opcode);

19285 
	g¬g1
 = 
¬g2
 + 2;

19288 
CImg
<
ulÚgT
>::
veùÜ
(*
İcode
,0,0,0,İcode[1],~0U,~0U,~0U,İcode[2]).
move_to
(opcode);

19289 
	g¬g1
 = 
¬g2
 + 2;

19292 
CImg
<
ulÚgT
>::
veùÜ
(*
İcode
,İcode[1],0,0,İcode[2],İcode[3],~0U,~0U,
_cimg_mp_bound¬y
).

19293 
move_to
(
İcode
);

19294 
	g¬g1
 = 
¬g2
 + (
is_¡h
?2:3);

19297 
CImg
<
ulÚgT
>::
veùÜ
(*
İcode
,opcode[1],0,0,opcode[2],opcode[3],~0U,~0U,opcode[4]).

19298 
move_to
(
İcode
);

19299 
	g¬g1
 = 
¬g2
 + (
is_¡h
?2:3);

19302 
CImg
<
ulÚgT
>::
veùÜ
(*
İcode
,opcode[1],opcode[2],0,opcode[3],opcode[4],opcode[5],~0U,

19303 
_cimg_mp_bound¬y
).
move_to
(
İcode
);

19304 
	g¬g1
 = 
¬g2
 + (
is_¡h
?2:4);

19307 
CImg
<
ulÚgT
>::
veùÜ
(*
İcode
,opcode[1],opcode[2],0,opcode[3],opcode[4],opcode[5],~0U,

19308 
İcode
[6]).
move_to
(opcode);

19309 
	g¬g1
 = 
¬g2
 + (
is_¡h
?2:4);

19312 
CImg
<
ulÚgT
>::
veùÜ
(*
İcode
,opcode[1],opcode[2],opcode[3],opcode[4],opcode[5],opcode[6],

19313 
İcode
[7],
_cimg_mp_bound¬y
).
move_to
(opcode);

19314 
	g¬g1
 = 
¬g2
 + (
is_¡h
?2:5);

19317 
¬g1
 = 
¬g2
 + (
is_¡h
?2:5);

19320 
_cimg_mp_¡»¼
;

19321 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

19324 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

19325 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

19328 
_cimg_mp_check_ty³
(()*
İcode
,
¬g2
 + 1,1,0);

19329 
_cimg_mp_check_ty³
(()
İcode
[1],
¬g2
 + 1 + (
is_¡h
?0:1),1,0);

19330 
_cimg_mp_check_ty³
(()
İcode
[2],
¬g2
 + 1 + (
is_¡h
?0:2),1,0);

19331 
_cimg_mp_check_ty³
(()
İcode
[3],
¬g2
 + 1 + (
is_¡h
?0:3),1,0);

19332 ià(
	gİcode
[4]!=(
ulÚgT
)~0U) {

19333 
_cimg_mp_check_cÚ¡ªt
(()
İcode
[4],
¬g1
,3);

19334 
	gİcode
[4] = (
ulÚgT
)
mem
[
İcode
[4]];

19336 ià(
	gİcode
[5]!=(
ulÚgT
)~0U) {

19337 
_cimg_mp_check_cÚ¡ªt
(()
İcode
[5],
¬g1
 + 1,3);

19338 
	gİcode
[5] = (
ulÚgT
)
mem
[
İcode
[5]];

19340 ià(
	gİcode
[6]!=(
ulÚgT
)~0U) {

19341 
_cimg_mp_check_cÚ¡ªt
(()
İcode
[6],
¬g1
 + 2,3);

19342 
	gİcode
[6] = (
ulÚgT
)
mem
[
İcode
[6]];

19344 ià(
	gİcode
[7]!=(
ulÚgT
)~0U) {

19345 
_cimg_mp_check_cÚ¡ªt
(()
İcode
[7],
¬g1
 + 3,3);

19346 
	gİcode
[7] = (
ulÚgT
)
mem
[
İcode
[7]];

19348 
_cimg_mp_check_ty³
(()
İcode
[8],
¬g1
 + 4,1,0);

19350 ià(
	gİcode
[4]==(
ulÚgT
)~0U || 
İcode
[5]==(ulongT)~0U ||

19351 
İcode
[6]==(
ulÚgT
)~0U || opcode[7]==(ulongT)~0U) {

19352 
p2
 = 0;

19353 ià(
	gp1
!=~0U) {

19354 
_cimg_mp_check_cÚ¡ªt
(
p1
,1,1);

19355 
	gp2
 = ()
cimg
::
mod
(()
mem
[
p1
],
li¡š
.
width
());

19357 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
p1
!=~0U?
li¡š
[
p2
]:
imgš
;

19358 ià(!
	gimg
) {

19359 
	g_cimg_mp_¡»¼
;

19360 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

19363 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

19364 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

19366 ià(
	gİcode
[4]==(
ulÚgT
)~0Uè
İcode
[4] = (ulÚgT)
img
.
_width
;

19367 ià(
	gİcode
[5]==(
ulÚgT
)~0Uè
İcode
[5] = (ulÚgT)
img
.
_height
;

19368 ià(
	gİcode
[6]==(
ulÚgT
)~0Uè
İcode
[6] = (ulÚgT)
img
.
_d•th
;

19369 ià(
	gİcode
[7]==(
ulÚgT
)~0Uè
İcode
[7] = (ulÚgT)
img
.
_¥eùrum
;

19372 
	gpos
 = 
veùÜ
(()(
İcode
[4]*opcode[5]*opcode[6]*opcode[7]));

19373 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_üİ
,

19374 
pos
,
p1
,

19375 *
İcode
,opcode[1],opcode[2],opcode[3],

19376 
İcode
[4],opcode[5],opcode[6],opcode[7],

19377 
İcode
[8]).
move_to
(
code
);

19378 
_cimg_mp_»tuº
(
pos
);

19381 ià(!
	g¡d
::
¡ºcmp
(
ss
,"cross(",6)) {

19382 
_cimg_mp_İ
("Function 'cross()'");

19383 
	gs1
 = 
ss6
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

19384 
	g¬g1
 = 
compe
(
ss6
,
s1
,
d•th1
,0,
is_ü™iÿl
);

19385 
	g¬g2
 = 
compe
(++
s1
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19386 
_cimg_mp_check_ty³
(
¬g1
,1,2,3);

19387 
_cimg_mp_check_ty³
(
¬g2
,2,2,3);

19388 
	gpos
 = 
veùÜ
(3);

19389 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_üoss
,
pos
,
¬g1
,
¬g2
).
move_to
(
code
);

19390 
_cimg_mp_»tuº
(
pos
);

19393 ià(!
	g¡d
::
¡ºcmp
(
ss
,"cut(",4)) {

19394 
_cimg_mp_İ
("Function 'cut()'");

19395 
	gs1
 = 
ss4
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

19396 
	g¬g1
 = 
compe
(
ss4
,
s1
,
d•th1
,0,
is_ü™iÿl
);

19397 
	gs2
 = 
s1
 + 1; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

19398 
	g¬g2
 = 
compe
(++
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

19399 
	g¬g3
 = 
compe
(++
s2
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19400 
_cimg_mp_check_ty³
(
¬g2
,2,1,0);

19401 
_cimg_mp_check_ty³
(
¬g3
,3,1,0);

19402 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ3_vss
(
mp_cut
,¬g1,
¬g2
,
¬g3
);

19403 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
è&& _cimg_mp_is_cÚ¡ªt(
¬g3
)) {

19404 
	gv®
 = 
mem
[
¬g1
];

19405 
	gv®1
 = 
mem
[
¬g2
];

19406 
	gv®2
 = 
mem
[
¬g3
];

19407 
_cimg_mp_cÚ¡ªt
(
v®
<
v®1
?v®1:v®>
v®2
?val2:val);

19409 
_cimg_mp_sÿÏr3
(
mp_cut
,
¬g1
,
¬g2
,
¬g3
);

19412 ià(!
	g¡d
::
¡ºcmp
(
ss
,"convolve(",9) || !std::strncmp(ss,"correlate(",10)) {

19413 
	gis_¡h
 = *
ss2
=='n';

19414 
_cimg_mp_İ
(
is_¡h
?"Function 'convolve()'":"Function 'correlate()'");

19415 
	gİ
 = 
is_¡h
?
mp_cÚvŞve
:
mp_cÜ»Ï‹
;

19416 cÚ¡ 
ulÚgT
 
	gdeçuÉ_·¿ms
[] = { (ulÚgT)
İ
,0,

19426 
	gl_İcode
.
assign
();

19427 
	gCImg
<
	gulÚgT
>(
	gdeçuÉ_·¿ms
,1,(deçuÉ_·¿ms)/(ulÚgT)).
move_to
(
l_İcode
);

19429 
	g¬g1
 = 2;

19430 
	gs
 = 
¡d
::
¡rchr
(
ss
,'('è+ 1; s<
	g£
 && 
	g¬g1
<
	gl_İcode
[0].
	g_height
; ++s) {

19431 
	gns
 = 
s
; ns<
	g£
 && (*ns!=',' || 
Ëv–
[
ns
 - 
ex´
.
_d©a
]!=
şev–1
) &&

19432 (*
ns
!=')' || 
Ëv–
[n - 
ex´
.
_d©a
]!=
şev–
)) ++ns;

19433 
l_İcode
(0,
¬g1
++èğ
compe
(
s
,
ns
,
d•th1
,0,
is_ü™iÿl
);

19434 
	gs
 = 
ns
;

19436 
	gl_İcode
[0].
move_to
(
İcode
);

19438 ià(
	g¬g1
<12 ||‡rg1>=
İcode
.
_height
) {

19439 
_cimg_mp_¡»¼
;

19440 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

19442 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

19443 
¬g1
<12?"Notƒnough":"Too much",

19444 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

19446 
_cimg_mp_check_ty³
(
İcode
[2],1,2,0);

19447 
_cimg_mp_check_cÚ¡ªt
(
İcode
[3],2,3);

19448 
_cimg_mp_check_cÚ¡ªt
(
İcode
[4],3,3);

19449 
_cimg_mp_check_cÚ¡ªt
(
İcode
[5],4,3);

19450 
_cimg_mp_check_cÚ¡ªt
(
İcode
[6],5,3);

19451 
_cimg_mp_check_ty³
(
İcode
[7],6,2,0);

19452 
_cimg_mp_check_cÚ¡ªt
(
İcode
[8],7,3);

19453 
_cimg_mp_check_cÚ¡ªt
(
İcode
[9],8,3);

19454 
_cimg_mp_check_cÚ¡ªt
(
İcode
[10],9,3);

19455 
_cimg_mp_check_cÚ¡ªt
(
İcode
[11],10,3);

19456 
_cimg_mp_check_ty³
(
İcode
[12],11,1,0);

19457 
_cimg_mp_check_ty³
(
İcode
[13],12,1,0);

19458 
_cimg_mp_check_cÚ¡ªt
(
İcode
[14],13,1);

19459 
_cimg_mp_check_ty³
(
İcode
[15],14,1,0);

19460 
_cimg_mp_check_ty³
(
İcode
[16],15,1,0);

19461 
_cimg_mp_check_ty³
(
İcode
[17],16,1,0);

19462 
_cimg_mp_check_cÚ¡ªt
(
İcode
[18],17,1);

19463 
_cimg_mp_check_cÚ¡ªt
(
İcode
[19],18,1);

19464 
_cimg_mp_check_cÚ¡ªt
(
İcode
[20],19,1);

19465 
_cimg_mp_check_cÚ¡ªt
(
İcode
[21],20,1);

19466 
_cimg_mp_check_cÚ¡ªt
(
İcode
[22],21,1);

19467 
_cimg_mp_check_cÚ¡ªt
(
İcode
[23],22,1);

19468 
_cimg_mp_check_cÚ¡ªt
(
İcode
[24],23,3);

19469 
_cimg_mp_check_cÚ¡ªt
(
İcode
[25],24,3);

19470 
_cimg_mp_check_cÚ¡ªt
(
İcode
[26],25,3);

19471 
_cimg_mp_check_ty³
(
İcode
[27],26,1,0);

19472 
_cimg_mp_check_ty³
(
İcode
[28],27,1,0);

19473 
_cimg_mp_check_ty³
(
İcode
[29],28,1,0);

19476 
	gwA
 = ()
mem
[
İcode
[3]],

19477 
	ghA
 = ()
mem
[
İcode
[4]],

19478 
	gdA
 = ()
mem
[
İcode
[5]],

19479 
	gsA
 = ()
mem
[
İcode
[6]],

19480 
	gwM
 = ()
mem
[
İcode
[8]],

19481 
	ghM
 = ()
mem
[
İcode
[9]],

19482 
	gdM
 = ()
mem
[
İcode
[10]],

19483 
	gsM
 = ()
mem
[
İcode
[11]],

19484 
	gchªÃl_mode
 = ()
mem
[
İcode
[14]],

19485 
	gx¡¬t
 = 
¡d
::
mš
(()
mem
[
İcode
[18]],
wA
 - 1),

19486 
	gy¡¬t
 = 
¡d
::
mš
(()
mem
[
İcode
[19]],
hA
 - 1),

19487 
	gz¡¬t
 = 
¡d
::
mš
(()
mem
[
İcode
[20]],
dA
 - 1),

19488 
	gx’d
 = 
¡d
::
mš
(()
mem
[
İcode
[21]],
wA
 - 1),

19489 
	gy’d
 = 
¡d
::
mš
(()
mem
[
İcode
[22]],
hA
 - 1),

19490 
	gz’d
 = 
¡d
::
mš
(()
mem
[
İcode
[23]],
dA
 - 1);

19492 ià(
	gx¡¬t
>
	gx’d
 || 
	gy¡¬t
>
	gy’d
 || 
	gz¡¬t
>
	gz’d
) {

19493 
	g_cimg_mp_¡»¼
;

19494 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

19497 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

19498 
x¡¬t
,
y¡¬t
,
z¡¬t
,
x’d
,
y’d
,
z’d
,

19499 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

19503 
	gx¡ride
 = ()
mem
[
İcode
[24]],

19504 
	gy¡ride
 = ()
mem
[
İcode
[25]],

19505 
	gz¡ride
 = ()
mem
[
İcode
[26]];

19507 ià(
	gx¡ride
<=0 || 
y¡ride
<=0 || 
z¡ride
<=0) {

19508 
_cimg_mp_¡»¼
;

19509 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

19512 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

19513 
x¡ride
,
y¡ride
,
z¡ride
,

19514 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

19517 
	g¬g2
 = 1 + ()
¡d
::
æoÜ
((
x’d
 - 
x¡¬t
)/
x¡ride
);

19518 
	g¬g3
 = 1 + ()
¡d
::
æoÜ
((
y’d
 - 
y¡¬t
)/
y¡ride
);

19519 
	g¬g4
 = 1 + ()
¡d
::
æoÜ
((
z’d
 + 
z¡¬t
)/
z¡ride
);

19520 
	g¬g5
 = 
chªÃl_mode
==0?
sM
:chªÃl_mode==1?
¡d
::
max
(
sA
,sM):sA*sM;

19522 
	gİcode
[1] = 
pos
 = 
veùÜ
(
¬g2
*
¬g3
*
¬g4
*
¬g5
);

19523 
	gİcode
[3] = (
ulÚgT
)
wA
;

19524 
	gİcode
[4] = (
ulÚgT
)
hA
;

19525 
	gİcode
[5] = (
ulÚgT
)
dA
;

19526 
	gİcode
[6] = (
ulÚgT
)
sA
;

19527 
	gİcode
[8] = (
ulÚgT
)
wM
;

19528 
	gİcode
[9] = (
ulÚgT
)
hM
;

19529 
	gİcode
[10] = (
ulÚgT
)
dM
;

19530 
	gİcode
[11] = (
ulÚgT
)
sM
;

19531 
	gİcode
[14] = (
ulÚgT
)
chªÃl_mode
;

19532 
	gİcode
[18] = (
ulÚgT
)
x¡¬t
;

19533 
	gİcode
[19] = (
ulÚgT
)
y¡¬t
;

19534 
	gİcode
[20] = (
ulÚgT
)
z¡¬t
;

19535 
	gİcode
[21] = (
ulÚgT
)
x’d
;

19536 
	gİcode
[22] = (
ulÚgT
)
y’d
;

19537 
	gİcode
[23] = (
ulÚgT
)
z’d
;

19538 
	gİcode
.
move_to
(
code
);

19539 
_cimg_mp_»tuº
(
pos
);

19544 ià(*
ss1
=='(') {

19545 
_cimg_mp_İ
("Function 'd()'");

19546 ià(*
	gss2
=='#') {

19547 
p1
 = 
compe
(
ss3
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19548 
_cimg_mp_check_li¡
(
çl£
);

19549 } { ià(
	gss2
!=
£1
è; 
	gp1
 = ~0U; }

19550 
	gpos
 = 
sÿÏr
();

19551 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_image_d
,
pos
,
p1
).
move_to
(
code
);

19552 
_cimg_mp_»tuº
(
pos
);

19555 ià(!
	g¡d
::
¡ºcmp
(
ss
,"date(",5)) {

19556 
_cimg_mp_İ
("Function 'date()'");

19557 
	gs1
 = 
ss5
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

19558 
	g¬g1
 = 
ss5
!=
£1
?
compe
(ss5,
s1
,
d•th1
,0,
is_ü™iÿl
):~0U;

19559 
	g¬g2
 = 
s1
<
£1
?
compe
(++s1,£1,
d•th1
,0,
is_ü™iÿl
):~0U;

19560 ià(
	g¬g2
!=~0Uè
_cimg_mp_check_ty³
(
¬g2
,1,2,0);

19561 
	gpos
 = 
¬g1
==~0U || 
_cimg_mp_is_veùÜ
×rg1)?
veùÜ
×rg1==~0U?7:
_cimg_mp_size
×rg1)):
sÿÏr
();

19562 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_d©e
,
pos
,
_cimg_mp_size
(pos),

19563 
¬g1
,¬g1==~0U?~0U:
_cimg_mp_size
(arg1),

19564 
¬g2
,¬g2==~0U?~0U:
_cimg_mp_size
×rg2)).
move_to
(
code
);

19565 
_cimg_mp_»tuº
(
pos
);

19568 ià(!
	g¡d
::
¡ºcmp
(
ss
,"debug(",6)) {

19569 
_cimg_mp_İ
("Function 'debug()'");

19570 
	gp1
 = 
code
.
_width
;

19571 
	g¬g1
 = 
compe
(
ss6
,
£1
,
d•th1
,
p_»f
,
is_ü™iÿl
);

19572 *
	g£1
 = 0;

19573 
	gv¬ŸbË_Çme
.
assign
(
CImg
<
ch¬T
>::
¡ršg
(
ss6
,
Œue
,Œue).
uÄŞl
('y'),true);

19574 
	gcimg
::
¡½¬e
(
v¬ŸbË_Çme
,
çl£
,
Œue
);

19575 ((
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_debug
,
¬g1
,0,
code
.
_width
 - 
p1
),

19576 
	gv¬ŸbË_Çme
)>'y').
move_to
(
İcode
);

19577 
	gİcode
[2] = 
İcode
.
_height
;

19578 
	gİcode
.
move_to
(
code
,
p1
);

19579 *
	g£1
 = ')';

19580 
_cimg_mp_»tuº
(
¬g1
);

19583 ià(!
	g¡d
::
¡ºcmp
(
ss
,"display(",8)) {

19584 
_cimg_mp_İ
("Function 'display()'");

19585 ià(
	g³x´
[
£2
 - 
ex´
.
_d©a
]=='(') {

19586 
CImg
<
ulÚgT
>::
veùÜ
((ulÚgT)
mp_di¥Ïy_memÜy
,
_cimg_mp_¦Ù_Çn
).
move_to
(
code
);

19587 
_cimg_mp_»tuº_Çn
();

19589 ià(*
	gss8
!='#') {

19590 
s1
 = 
ss8
; 
	gs1
<
	g£1
 && (*s1!=',' || 
Ëv–
[s1 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

19591 
	g¬g1
 = 
compe
(
ss8
,
s1
,
d•th1
,0,
is_ü™iÿl
);

19592 
	g¬g2
 = 0; 
	g¬g3
 = 
¬g4
 = 
¬g5
 = 1;

19593 ià(
	gs1
<
	g£1
) {

19594 
	gs2
 = 
s1
 + 1; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

19595 
	g¬g2
 = 
compe
(
s1
 + 1,
s2
,
d•th1
,0,
is_ü™iÿl
);

19596 ià(
	gs2
<
	g£1
) {

19597 
	gs3
 = ++
s2
; s3<
	g£1
 && (*s3!=',' || 
Ëv–
[
s3
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s3;

19598 
	g¬g3
 = 
compe
(
s2
,
s3
,
d•th1
,0,
is_ü™iÿl
);

19599 ià(
	gs3
<
	g£1
) {

19600 
	gs2
 = ++
s3
; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

19601 
	g¬g4
 = 
compe
(
s3
,
s2
,
d•th1
,0,
is_ü™iÿl
);

19602 
	g¬g5
 = 
s2
<
£1
?
compe
(++s2,£1,
d•th1
,0,
is_ü™iÿl
):0;

19606 
_cimg_mp_check_ty³
(
¬g2
,2,1,0);

19607 
_cimg_mp_check_ty³
(
¬g3
,3,1,0);

19608 
_cimg_mp_check_ty³
(
¬g4
,4,1,0);

19609 
_cimg_mp_check_ty³
(
¬g5
,5,1,0);

19611 
	gc1
 = *
s1
; *
	gs1
 = 0;

19612 
	gv¬ŸbË_Çme
.
assign
(
CImg
<
ch¬T
>::
¡ršg
(
ss8
,
Œue
,Œue).
uÄŞl
('y'),true);

19613 
	gcimg
::
¡½¬e
(
v¬ŸbË_Çme
,
çl£
,
Œue
);

19614 ià(
_cimg_mp_is_veùÜ
(
¬g1
))

19615 ((
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_veùÜ_´št
,
¬g1
,0,(ulÚgT)
_cimg_mp_size
(arg1),0),

19616 
	gv¬ŸbË_Çme
)>'y').
move_to
(
İcode
);

19618 ((
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_´št
,
¬g1
,0,0),

19619 
	gv¬ŸbË_Çme
)>'y').
move_to
(
İcode
);

19620 
	gİcode
[2] = 
İcode
.
_height
;

19621 
	gİcode
.
move_to
(
code
);

19623 ((
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_di¥Ïy
,
¬g1
,0,(ulÚgT)
_cimg_mp_size
(arg1),

19624 
¬g2
,
¬g3
,
¬g4
,
¬g5
),

19625 
	gv¬ŸbË_Çme
)>'y').
move_to
(
İcode
);

19626 
	gİcode
[2] = 
İcode
.
_height
;

19627 
	gİcode
.
move_to
(
code
);

19628 *
	gs1
 = 
c1
;

19629 
_cimg_mp_»tuº
(
¬g1
);

19632 
	gp1
 = 
compe
(
ss8
 + 1,
£1
,
d•th1
,0,
is_ü™iÿl
);

19633 
_cimg_mp_check_li¡
(
Œue
);

19634 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_image_di¥Ïy
,
_cimg_mp_¦Ù_Çn
,
p1
).
move_to
(
code
);

19635 
_cimg_mp_»tuº_Çn
();

19639 ià(!
	g¡d
::
¡ºcmp
(
ss
,"det(",4)) {

19640 
_cimg_mp_İ
("Function 'det()'");

19641 
	g¬g1
 = 
compe
(
ss4
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19642 
_cimg_mp_check_m©rix_squ¬e
(
¬g1
,1);

19643 
	gp1
 = ()
cimg
::
round
(
¡d
::
sq¹
(()
_cimg_mp_size
(
¬g1
)));

19644 
_cimg_mp_sÿÏr2
(
mp_d‘
,
¬g1
,
p1
);

19647 ià(!
	g¡d
::
¡ºcmp
(
ss
,"diag(",5)) {

19648 
_cimg_mp_İ
("Function 'diag()'");

19649 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_dŸg
,0,0).
move_to
(
l_İcode
);

19650 
	gs
 = 
ss5
; s<
	g£
; ++s) {

19651 
	gns
 = 
s
; ns<
	g£
 && (*ns!=',' || 
Ëv–
[
ns
 - 
ex´
.
_d©a
]!=
şev–1
) &&

19652 (*
ns
!=')' || 
Ëv–
[n - 
ex´
.
_d©a
]!=
şev–
)) ++ns;

19653 
	g¬g2
 = 
compe
(
s
,
ns
,
d•th1
,0,
is_ü™iÿl
);

19654 ià(
_cimg_mp_is_veùÜ
(
¬g2
))

19655 
	gCImg
<
	gulÚgT
>::
£qu’û
(
_cimg_mp_size
(
¬g2
),arg2 + 1,

19656 
¬g2
 + (
ulÚgT
)
_cimg_mp_size
(arg2)).

19657 
move_to
(
l_İcode
);

19658 
	gCImg
<
	gulÚgT
>::
veùÜ
(
¬g2
).
move_to
(
l_İcode
);

19659 
	gs
 = 
ns
;

19661 (
	gl_İcode
>'y').
move_to
(
İcode
);

19662 
	g¬g1
 = 
İcode
.
_height
 - 3;

19663 
	gpos
 = 
veùÜ
(
¬g1
*arg1);

19664 
	gİcode
[1] = 
pos
;

19665 
	gİcode
[2] = 
İcode
.
_height
;

19666 
	gİcode
.
move_to
(
code
);

19667 
_cimg_mp_»tuº
(
pos
);

19670 ià(!
	g¡d
::
¡ºcmp
(
ss
,"dot(",4)) {

19671 
_cimg_mp_İ
("Function 'dot()'");

19672 
	gs1
 = 
ss4
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

19673 
	g¬g1
 = 
compe
(
ss4
,
s1
,
d•th1
,0,
is_ü™iÿl
);

19674 
	g¬g2
 = 
compe
(++
s1
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19675 ià(
_cimg_mp_is_veùÜ
(
¬g1
)) {

19676 
_cimg_mp_check_ty³
(
¬g2
,2,2,
_cimg_mp_size
(
¬g1
));

19677 
_cimg_mp_sÿÏr3
(
mp_dÙ
,
¬g1
,
¬g2
,
_cimg_mp_size
(arg1));

19679 
_cimg_mp_check_ty³
(
¬g2
,2,1,0);

19680 
_cimg_mp_sÿÏr2
(
mp_mul
,
¬g1
,
¬g2
);

19683 ià(!
	g¡d
::
¡ºcmp
(
ss
,"do(",3)) {

19684 
_cimg_mp_İ
("Function 'do()'");

19685 
	gs0
 = *
ss2
=='('?
ss3
:
ss8
;

19686 
	gs1
 = 
s0
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

19687 
	g¬g1
 = 
code
.
_width
;

19688 
	g¬g6
 = 
mempos
;

19689 
	gp1
 = 
compe
(
s0
,
s1
,
d•th1
,0,
is_ü™iÿl
);

19690 
	g¬g2
 = 
code
.
_width
;

19691 
	gp2
 = 
s1
<
£1
?
compe
(++s1,£1,
d•th1
,0,
is_ü™iÿl
):
p1
;

19692 
_cimg_mp_check_ty³
(
p2
,2,1,0);

19693 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_do
,
p1
,
p2
,
¬g2
 - 
¬g1
,
code
.
_width
 -‡rg2,
_cimg_mp_size
(p1),

19694 
p1
>=
¬g6
 && !
_cimg_mp_is_cÚ¡ªt
(p1),

19695 
p2
>=
¬g6
 && !
_cimg_mp_is_cÚ¡ªt
Õ2)).
move_to
(
code
,
¬g1
);

19696 
_cimg_mp_»tuº
(
p1
);

19699 ià(!
	g¡d
::
¡ºcmp
(
ss
,"draw(",5)) {

19700 ià(!
	gis_ü™iÿl
è
	gis_·¿Î–izabË
 = 
çl£
;

19701 
_cimg_mp_İ
("Function 'draw()'");

19702 ià(*
	gss5
=='#') {

19703 
s0
 = 
ss6
; 
	gs0
<
	g£1
 && (*s0!=',' || 
Ëv–
[s0 - 
ex´
.
_d©a
]!=
şev–1
)) ++s0;

19704 
	gp1
 = 
compe
(
ss6
,
s0
++,
d•th1
,0,
is_ü™iÿl
);

19705 
_cimg_mp_check_li¡
(
Œue
);

19706 } { 
	gp1
 = ~0U; 
	gs0
 = 
ss5
; }

19707 
	gs1
 = 
s0
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

19708 
	g¬g1
 = 
compe
(
s0
,
s1
,
d•th1
,0,
is_ü™iÿl
);

19709 
	g¬g2
 = 
is_»Ïtive
?0U:()
_cimg_mp_¦Ù_x
;

19710 
	g¬g3
 = 
is_»Ïtive
?0U:()
_cimg_mp_¦Ù_y
;

19711 
	g¬g4
 = 
is_»Ïtive
?0U:()
_cimg_mp_¦Ù_z
;

19712 
	g¬g5
 = 
is_»Ïtive
?0U:()
_cimg_mp_¦Ù_c
;

19713 
	gs0
 = 
£1
;

19714 ià(
	gs1
<
	g£1
) {

19715 
	gs0
 = 
s1
 + 1; s0<
	g£1
 && (*s0!=',' || 
Ëv–
[
s0
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s0;

19716 
	g¬g2
 = 
compe
(++
s1
,
s0
,
d•th1
,0,
is_ü™iÿl
);

19717 ià(
_cimg_mp_is_veùÜ
(
¬g2
)) {

19718 
	gp2
 = 
_cimg_mp_size
(
¬g2
);

19719 ++
	g¬g2
;

19720 ià(
	gp2
>1) {

19721 
	g¬g3
 = 
¬g2
 + 1;

19722 ià(
	gp2
>2) {

19723 
	g¬g4
 = 
¬g3
 + 1;

19724 ià(
	gp2
>3è
	g¬g5
 = 
¬g4
 + 1;

19727 ++
	gs0
;

19728 
	gis_¡h
 = 
Œue
;

19730 ià(
	gs0
<
	g£1
) {

19731 
	gis_¡h
 = 
p1
!=~0U;

19732 
	gs1
 = 
s0
 + 1; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

19733 
	g¬g3
 = 
compe
(++
s0
,
s1
,
d•th1
,0,
is_ü™iÿl
);

19734 
_cimg_mp_check_ty³
(
¬g3
,
is_¡h
?4:3,1,0);

19735 ià(
	gs1
<
	g£1
) {

19736 
	gs0
 = 
s1
 + 1; s0<
	g£1
 && (*s0!=',' || 
Ëv–
[
s0
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s0;

19737 
	g¬g4
 = 
compe
(++
s1
,
s0
,
d•th1
,0,
is_ü™iÿl
);

19738 
_cimg_mp_check_ty³
(
¬g4
,
is_¡h
?5:4,1,0);

19739 ià(
	gs0
<
	g£1
) {

19740 
	gs1
 = 
s0
 + 1; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

19741 
	g¬g5
 = 
compe
(++
s0
,
s1
,
d•th1
,0,
is_ü™iÿl
);

19742 
_cimg_mp_check_ty³
(
¬g5
,
is_¡h
?6:5,1,0);

19743 
	gs0
 = ++
s1
;

19747 
	gis_¡h
 = 
çl£
;

19751 
	gl_İcode
.
assign
();

19752 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_d¿w
,
¬g1
,(ulÚgT)
_cimg_mp_size
×rg1),
p1
,
¬g2
,
¬g3
,
¬g4
,
¬g5
,

19753 0,0,0,0,1,(
ulÚgT
)~0U,0,1).
move_to
(
l_İcode
);

19755 
	g¬g2
 = 
¬g3
 = 
¬g4
 = 
¬g5
 = ~0U;

19756 
	gp2
 = 
p1
!=~0U?0:1;

19757 ià(
	gs0
<
	g£1
) {

19758 
	gs1
 = 
s0
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

19759 
	g¬g2
 = 
compe
(
s0
,
s1
,
d•th1
,0,
is_ü™iÿl
);

19760 
_cimg_mp_check_ty³
(
¬g2
,
p2
 + (
is_¡h
?3:6),1,0);

19761 ià(
	gs1
<
	g£1
) {

19762 
	gs0
 = 
s1
 + 1; s0<
	g£1
 && (*s0!=',' || 
Ëv–
[
s0
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s0;

19763 
	g¬g3
 = 
compe
(++
s1
,
s0
,
d•th1
,0,
is_ü™iÿl
);

19764 
_cimg_mp_check_ty³
(
¬g3
,
p2
 + (
is_¡h
?4:7),1,0);

19765 ià(
	gs0
<
	g£1
) {

19766 
	gs1
 = 
s0
 + 1; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

19767 
	g¬g4
 = 
compe
(++
s0
,
s1
,
d•th1
,0,
is_ü™iÿl
);

19768 
_cimg_mp_check_ty³
(
¬g4
,
p2
 + (
is_¡h
?5:8),1,0);

19769 ià(
	gs1
<
	g£1
) {

19770 
	gs0
 = 
s1
 + 1; s0<
	g£1
 && (*s0!=',' || 
Ëv–
[
s0
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s0;

19771 
	g¬g5
 = 
compe
(++
s1
,
s0
,
d•th1
,0,
is_ü™iÿl
);

19772 
_cimg_mp_check_ty³
(
¬g5
,
p2
 + (
is_¡h
?6:9),1,0);

19777 ià(
	gs0
<
	gs1
ès0 = 
s1
;

19779 
l_İcode
(0,8èğ(
ulÚgT
)
¬g2
;

19780 
l_İcode
(0,9èğ(
ulÚgT
)
¬g3
;

19781 
l_İcode
(0,10èğ(
ulÚgT
)
¬g4
;

19782 
l_İcode
(0,11èğ(
ulÚgT
)
¬g5
;

19784 ià(
	gs0
<
	g£1
) {

19785 
	gs1
 = 
s0
 + 1; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

19786 
	g¬g6
 = 
compe
(++
s0
,
s1
,
d•th1
,0,
is_ü™iÿl
);

19787 
_cimg_mp_check_ty³
(
¬g6
,0,1,0);

19788 
l_İcode
(0,12èğ
¬g6
;

19789 ià(
	gs1
<
	g£1
) {

19790 
	gs0
 = 
s1
 + 1; s0<
	g£1
 && (*s0!=',' || 
Ëv–
[
s0
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s0;

19791 
	gp2
 = 
compe
(++
s1
,
s0
,
d•th1
,0,
is_ü™iÿl
);

19792 
_cimg_mp_check_ty³
(
p2
,0,2,0);

19793 
l_İcode
(0,13èğ
p2
;

19794 
l_İcode
(0,14èğ
_cimg_mp_size
(
p2
);

19795 
	gp3
 = 
s0
<
£1
?
compe
(++s0,£1,
d•th1
,0,
is_ü™iÿl
):1;

19796 
_cimg_mp_check_ty³
(
p3
,0,1,0);

19797 
l_İcode
(0,15èğ
p3
;

19800 
	gl_İcode
[0].
move_to
(
code
);

19801 
_cimg_mp_»tuº
(
¬g1
);

19807 ià(!
¡d
::
¡ºcmp
(
ss
,"echo(",5)) {

19808 
_cimg_mp_İ
("Function 'echo()'");

19809 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_echo
,
_cimg_mp_¦Ù_Çn
,0).
move_to
(
l_İcode
);

19810 
	gs
 = 
ss5
; s<
	g£
; ++s) {

19811 
	gns
 = 
s
; ns<
	g£
 && (*ns!=',' || 
Ëv–
[
ns
 - 
ex´
.
_d©a
]!=
şev–1
) &&

19812 (*
ns
!=')' || 
Ëv–
[n - 
ex´
.
_d©a
]!=
şev–
)) ++ns;

19813 
	g¬g1
 = 
compe
(
s
,
ns
,
d•th1
,0,
is_ü™iÿl
);

19814 
	gCImg
<
	gulÚgT
>::
veùÜ
(
¬g1
,
_cimg_mp_size
×rg1)).
move_to
(
l_İcode
);

19815 
	gs
 = 
ns
;

19817 (
	gl_İcode
>'y').
move_to
(
İcode
);

19818 
	gİcode
[2] = 
İcode
.
_height
;

19819 
	gİcode
.
move_to
(
code
);

19820 
_cimg_mp_»tuº_Çn
();

19823 ià(!
	g¡d
::
¡ºcmp
(
ss
,"eig(",4)) {

19824 
_cimg_mp_İ
("Function 'eig()'");

19825 
	g¬g1
 = 
compe
(
ss4
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19826 
_cimg_mp_check_m©rix_squ¬e
(
¬g1
,1);

19827 
	gp1
 = ()
cimg
::
round
(
¡d
::
sq¹
(()
_cimg_mp_size
(
¬g1
)));

19828 
	gpos
 = 
veùÜ
((
p1
 + 1)*p1);

19829 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_m©rix_eig
,
pos
,
¬g1
,
p1
).
move_to
(
code
);

19830 
_cimg_mp_»tuº
(
pos
);

19833 ià(!
	g¡d
::
¡ºcmp
(
ss
,"ellipse(",8)) {

19834 ià(!
	gis_ü™iÿl
è
	gis_·¿Î–izabË
 = 
çl£
;

19835 
_cimg_mp_İ
("Function 'ellipse()'");

19836 ià(*
	gss8
=='#') {

19837 
s0
 = 
ss
 + 9; 
	gs0
<
	g£1
 && (*s0!=',' || 
Ëv–
[s0 - 
ex´
.
_d©a
]!=
şev–1
)) ++s0;

19838 
	gp1
 = 
compe
(
ss
 + 9,
s0
++,
d•th1
,0,
is_ü™iÿl
);

19839 
_cimg_mp_check_li¡
(
Œue
);

19840 } { 
	gp1
 = ~0U; 
	gs0
 = 
ss8
; }

19841 ià(
	gs0
==
£1
è
compe
(
s0
,£1,
d•th1
,0,
is_ü™iÿl
);

19842 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_–l£
,
_cimg_mp_¦Ù_Çn
,0,
p1
).
move_to
(
l_İcode
);

19843 
	gs
 = 
s0
; s<
	g£
; ++s) {

19844 
	gns
 = 
s
; ns<
	g£
 && (*ns!=',' || 
Ëv–
[
ns
 - 
ex´
.
_d©a
]!=
şev–1
) &&

19845 (*
ns
!=')' || 
Ëv–
[n - 
ex´
.
_d©a
]!=
şev–
)) ++ns;

19846 
	g¬g2
 = 
compe
(
s
,
ns
,
d•th1
,0,
is_ü™iÿl
);

19847 ià(
_cimg_mp_is_veùÜ
(
¬g2
))

19848 
	gCImg
<
	gulÚgT
>::
£qu’û
(
_cimg_mp_size
(
¬g2
),arg2 + 1,

19849 
¬g2
 + (
ulÚgT
)
_cimg_mp_size
(arg2)).

19850 
move_to
(
l_İcode
);

19851 
	gCImg
<
	gulÚgT
>::
veùÜ
(
¬g2
).
move_to
(
l_İcode
);

19852 
	gs
 = 
ns
;

19854 (
	gl_İcode
>'y').
move_to
(
İcode
);

19855 
	gİcode
[2] = 
İcode
.
_height
;

19856 
	gİcode
.
move_to
(
code
);

19857 
_cimg_mp_»tuº_Çn
();

19860 ià(!
	g¡d
::
¡ºcmp
(
ss
,"exp(",4)) {

19861 
_cimg_mp_İ
("Function 'exp()'");

19862 
	g¬g1
 = 
compe
(
ss4
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19863 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_exp
,arg1);

19864 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
¡d
::
exp
(
mem
[arg1]));

19865 
_cimg_mp_sÿÏr1
(
mp_exp
,
¬g1
);

19868 ià(!
	g¡d
::
¡ºcmp
(
ss
,"expr(",5)) {

19869 
_cimg_mp_İ
("Function 'expr()'");

19870 
	gs1
 = 
ss5
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

19871 
	g¬g1
 = 
compe
(
ss5
,
s1
,
d•th1
,0,
is_ü™iÿl
);

19872 
_cimg_mp_check_ty³
(
¬g1
,1,2,0);

19873 
	gp1
 = 
_cimg_mp_size
(
¬g1
);

19874 
	g¬g2
 = 
¬g3
 = 
¬g4
 = 
¬g5
 = 0;

19875 ià(
	gs1
<
	g£1
) {

19876 
	gs2
 = 
s1
 + 1; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

19877 
	g¬g2
 = 
compe
(++
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

19878 
_cimg_mp_check_cÚ¡ªt
(
¬g2
,2,2);

19879 
	g¬g2
 = ()
mem
[
¬g2
];

19880 ià(
	g¬g2
è
	g¬g3
 = 
¬g4
 = 
¬g5
 = 1;

19881 ià(
	gs2
<
	g£1
) {

19882 
	gs1
 = 
s2
 + 1; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

19883 
	g¬g3
 = 
compe
(++
s2
,
s1
,
d•th1
,0,
is_ü™iÿl
);

19884 
_cimg_mp_check_cÚ¡ªt
(
¬g3
,3,3);

19885 
	g¬g3
 = ()
mem
[
¬g3
];

19886 ià(
	gs1
<
	g£1
) {

19887 
	gs2
 = 
s1
 + 1; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

19888 
	g¬g4
 = 
compe
(++
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

19889 
_cimg_mp_check_cÚ¡ªt
(
¬g4
,4,3);

19890 
	g¬g4
 = ()
mem
[
¬g4
];

19891 
	g¬g5
 = 
s2
<
£1
?
compe
(++s2,£1,
d•th1
,0,
is_ü™iÿl
):0;

19892 
_cimg_mp_check_cÚ¡ªt
(
¬g5
,5,3);

19893 
	g¬g5
 = ()
mem
[
¬g5
];

19897 
	gp2
 = 
¬g2
*
¬g3
*
¬g4
*
¬g5
;

19898 ià(
	gp2
è
	gpos
 = 
veùÜ
(
p2
); po ğ
sÿÏr
();

19899 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_ex´
,
pos
,
¬g1
,
p1
,
¬g2
,
¬g3
,
¬g4
,
¬g5
).
move_to
(
code
);

19900 
_cimg_mp_»tuº
(
pos
);

19903 ià(!
	g¡d
::
¡ºcmp
(
ss
,"eye(",4)) {

19904 
_cimg_mp_İ
("Function 'eye()'");

19905 
	g¬g1
 = 
compe
(
ss4
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19906 
_cimg_mp_check_cÚ¡ªt
(
¬g1
,1,3);

19907 
	gp1
 = ()
mem
[
¬g1
];

19908 
	gpos
 = 
veùÜ
(
p1
*p1);

19909 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_eye
,
pos
,
p1
).
move_to
(
code
);

19910 
_cimg_mp_»tuº
(
pos
);

19913 ià(!
	g¡d
::
¡ºcmp
(
ss
,"end(",4)) {

19914 
_cimg_mp_İ
("Function 'end()'");

19915 
	gcode
.
sw­
(
code_’d
);

19916 
compe
(
ss4
,
£1
,
d•th1
,
p_»f
,
Œue
);

19917 
	gcode
.
sw­
(
code_’d
);

19918 
	gis_’d_code
 = 
Œue
;

19919 
_cimg_mp_»tuº_Çn
();

19922 ià(!
	g¡d
::
¡ºcmp
(
ss
,"end_t(",6)) {

19923 
_cimg_mp_İ
("Function 'end_t()'");

19924 
	gcode
.
sw­
(
code_’d_t
);

19925 
compe
(
ss6
,
£1
,
d•th1
,
p_»f
,
Œue
);

19926 
	gcode
.
sw­
(
code_’d_t
);

19927 
	gis_’d_code
 = 
Œue
;

19928 
_cimg_mp_»tuº_Çn
();

19933 ià(!
¡d
::
¡ºcmp
(
ss
,"f2ui(",5)) {

19934 
_cimg_mp_İ
("Function 'f2ui()'");

19935 
	g¬g1
 = 
compe
(
ss5
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19936 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_f2ui
,arg1);

19937 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(()
cimg
::
æßt2ušt
(()
mem
[arg1]));

19938 
_cimg_mp_sÿÏr1
(
mp_f2ui
,
¬g1
);

19941 ià(!
	g¡d
::
¡ºcmp
(
ss
,"fact(",5)) {

19942 
_cimg_mp_İ
("Function 'fact()'");

19943 
	g¬g1
 = 
compe
(
ss5
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19944 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_çùÜŸl
,arg1);

19945 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
cimg
::
çùÜŸl
(()
mem
[arg1]));

19946 
_cimg_mp_sÿÏr1
(
mp_çùÜŸl
,
¬g1
);

19949 ià(!
	g¡d
::
¡ºcmp
(
ss
,"fibo(",5)) {

19950 
_cimg_mp_İ
("Function 'fibo()'");

19951 
	g¬g1
 = 
compe
(
ss5
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19952 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_fibÚacci
,arg1);

19953 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
cimg
::
fibÚacci
(()
mem
[arg1]));

19954 
_cimg_mp_sÿÏr1
(
mp_fibÚacci
,
¬g1
);

19957 ià(!
	g¡d
::
¡ºcmp
(
ss
,"find(",5)) {

19958 
_cimg_mp_İ
("Function 'find()'");

19961 
	gs0
 = 
ss5
; s0<
	g£1
 && (*s0!=',' || 
Ëv–
[
s0
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s0;

19962 ià(*
	gss5
=='#') {

19963 
p1
 = 
compe
(
ss6
,
s0
,
d•th1
,0,
is_ü™iÿl
);

19964 
_cimg_mp_check_li¡
(
çl£
);

19965 
	g¬g1
 = ~0U;

19967 
	g¬g1
 = 
compe
(
ss5
,
s0
,
d•th1
,0,
is_ü™iÿl
);

19968 
_cimg_mp_check_ty³
(
¬g1
,1,2,0);

19969 
	gp1
 = ~0U;

19973 
	gs1
 = ++
s0
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

19974 
	g¬g2
 = 
compe
(
s0
,
s1
,
d•th1
,0,
is_ü™iÿl
);

19977 
	g¬g3
 = 
_cimg_mp_¦Ù_Çn
; 
	g¬g4
 = 1;

19978 ià(
	gs1
<
	g£1
) {

19979 
	gs0
 = 
s1
 + 1; s0<
	g£1
 && (*s0!=',' || 
Ëv–
[
s0
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s0;

19980 
	g¬g3
 = 
compe
(++
s1
,
s0
,
d•th1
,0,
is_ü™iÿl
);

19981 
_cimg_mp_check_ty³
(
¬g3
,3,1,0);

19982 ià(
	gs0
<
	g£1
) {

19983 
	g¬g4
 = 
compe
(++
s0
,
£1
,
d•th1
,0,
is_ü™iÿl
);

19984 
_cimg_mp_check_ty³
(
¬g4
,4,1,0);

19987 ià(
	gp1
!=~0U) {

19988 ià(
_cimg_mp_size
(
¬g2
)>1)

19989 
_cimg_mp_sÿÏr5
(
mp_li¡_fšd_£q
,
p1
,
¬g2
,
_cimg_mp_size
×rg2),
¬g3
,
¬g4
);

19990 
_cimg_mp_sÿÏr4
(
mp_li¡_fšd
,
p1
,
¬g2
 + (
_cimg_mp_size
×rg2)?1:0),
¬g3
,
¬g4
);

19992 ià(
_cimg_mp_size
(
¬g2
)>1)

19993 
_cimg_mp_sÿÏr6
(
mp_fšd_£q
,
¬g1
,
_cimg_mp_size
×rg1),
¬g2
,_cimg_mp_size×rg2),
¬g3
,
¬g4
);

19994 
_cimg_mp_sÿÏr5
(
mp_fšd
,
¬g1
,
_cimg_mp_size
×rg1),
¬g2
 + (_cimg_mp_size×rg2)?1:0),
¬g3
,
¬g4
);

19997 ià(*
	gss1
=='o' && *
ss2
=='r' && *
ss3
=='(') {

19998 
_cimg_mp_İ
("Function 'for()'");

19999 
	gs1
 = 
ss4
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

20000 
	gs2
 = 
s1
 + 1; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

20001 
	gs3
 = 
s2
 + 1; s3<
	g£1
 && (*s3!=',' || 
Ëv–
[
s3
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s3;

20002 
	g¬g1
 = 
code
.
_width
;

20003 
	gp1
 = 
compe
(
ss4
,
s1
,
d•th1
,0,
is_ü™iÿl
);

20004 
	g¬g2
 = 
code
.
_width
;

20005 
	gp2
 = 
compe
(++
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

20006 
	g¬g3
 = 
code
.
_width
;

20007 
	g¬g6
 = 
mempos
;

20008 ià(
	gs3
<
	g£1
) {

20009 
	gp3
 = 
compe
(
s3
 + 1,
£1
,
d•th1
,0,
is_ü™iÿl
);

20010 
	g¬g4
 = 
code
.
_width
;

20011 
	gpos
 = 
compe
(++
s2
,
s3
,
d•th1
,0,
is_ü™iÿl
);

20013 
	gp3
 = 
compe
(++
s2
,
£1
,
d•th1
,0,
is_ü™iÿl
);

20014 
	g¬g4
 = 
pos
 = 
code
.
_width
;

20016 
_cimg_mp_check_ty³
(
p2
,2,1,0);

20017 
	g¬g5
 = 
_cimg_mp_size
(
pos
);

20018 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_fÜ
,
p3
,(ulÚgT)
_cimg_mp_size
Õ3),
p2
,
¬g2
 - 
¬g1
,
¬g3
 -‡rg2,

20019 
¬g4
 - 
¬g3
,
code
.
_width
 -‡rg4,

20020 
p3
>=
¬g6
 && !
_cimg_mp_is_cÚ¡ªt
(p3),

20021 
p2
>=
¬g6
 && !
_cimg_mp_is_cÚ¡ªt
Õ2)).
move_to
(
code
,
¬g1
);

20022 
_cimg_mp_»tuº
(
p3
);

20025 ià(!
	g¡d
::
¡ºcmp
(
ss
,"floor(",6)) {

20026 
_cimg_mp_İ
("Function 'floor()'");

20027 
	g¬g1
 = 
compe
(
ss6
,
£1
,
d•th1
,0,
is_ü™iÿl
);

20028 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_æoÜ
,arg1);

20029 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
¡d
::
æoÜ
(
mem
[arg1]));

20030 
_cimg_mp_sÿÏr1
(
mp_æoÜ
,
¬g1
);

20033 ià(!
	g¡d
::
¡ºcmp
(
ss
,"fsize(",6)) {

20034 
_cimg_mp_İ
("Function 'fsize()'");

20035 
	g¬g1
 = 
compe
(
ss6
,
£1
,
d•th1
,0,
is_ü™iÿl
);

20036 
_cimg_mp_check_ty³
(
¬g1
,1,2,0);

20037 
	gpos
 = 
sÿÏr
();

20038 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_fsize
,
pos
,
¬g1
,(ulÚgT)
_cimg_mp_size
×rg1)).
move_to
(
code
);

20039 
_cimg_mp_»tuº
(
pos
);

20044 ià(!
¡d
::
¡ºcmp
(
ss
,"gauss(",6)) {

20045 
_cimg_mp_İ
("Function 'gauss()'");

20046 
	gs1
 = 
ss6
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

20047 
	g¬g1
 = 
compe
(
ss6
,
s1
,
d•th1
,0,
is_ü™iÿl
);

20048 
	g¬g2
 = 
¬g3
 = 1;

20049 ià(
	gs1
<
	g£1
) {

20050 
	gs2
 = 
s1
 + 1; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

20051 
	g¬g2
 = 
compe
(++
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

20052 
	g¬g3
 = 
s2
<
£1
?
compe
(++s2,£1,
d•th1
,0,
is_ü™iÿl
):1;

20054 
_cimg_mp_check_ty³
(
¬g2
,2,1,0);

20055 
_cimg_mp_check_ty³
(
¬g3
,3,1,0);

20056 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ3_vss
(
mp_gauss
,¬g1,
¬g2
,
¬g3
);

20057 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
è&& _cimg_mp_is_cÚ¡ªt(
¬g3
)) {

20058 
	gv®1
 = 
mem
[
¬g1
];

20059 
	gv®2
 = 
mem
[
¬g2
];

20060 
_cimg_mp_cÚ¡ªt
(
¡d
::
exp
(-
v®1
*v®1/(2*
v®2
*v®2))/(
mem
[
¬g3
]?¡d::
sq¹
(2*v®2*v®2*
cimg
::
PI
):1));

20062 
_cimg_mp_sÿÏr3
(
mp_gauss
,
¬g1
,
¬g2
,
¬g3
);

20065 ià(!
	g¡d
::
¡ºcmp
(
ss
,"gcd(",4)) {

20066 
_cimg_mp_İ
("Function 'gcd()'");

20067 
	gs1
 = 
ss4
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

20068 
	g¬g1
 = 
compe
(
ss4
,
s1
,
d•th1
,0,
is_ü™iÿl
);

20069 
	g¬g2
 = 
compe
(++
s1
,
£1
,
d•th1
,0,
is_ü™iÿl
);

20070 
_cimg_mp_check_ty³
(
¬g1
,1,1,0);

20071 
_cimg_mp_check_ty³
(
¬g2
,2,1,0);

20072 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
))

20073 
_cimg_mp_cÚ¡ªt
(
cimg
::
gcd
(()
mem
[
¬g1
],()mem[
¬g2
]));

20074 
_cimg_mp_sÿÏr2
(
mp_gcd
,
¬g1
,
¬g2
);

20077 #ifdeà
cimg_mp_func_g‘


20078 ià(!
	g¡d
::
¡ºcmp
(
ss
,"get(",4)) {

20079 
_cimg_mp_İ
("Function 'get()'");

20080 
	gs1
 = 
ss4
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

20081 
	g¬g1
 = 
compe
(
ss4
,
s1
,
d•th1
,0,
is_ü™iÿl
);

20082 
	g¬g2
 = 0;

20083 
	g¬g3
 = 1;

20084 ià(
	gs1
<
	g£1
) {

20085 
	gs2
 = 
s1
 + 1; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

20086 
	g¬g2
 = 
compe
(++
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

20087 
	g¬g3
 = 
s2
<
£1
?
compe
(++s2,£1,
d•th1
,0,
is_ü™iÿl
):1;

20089 
_cimg_mp_check_ty³
(
¬g1
,1,2,0);

20090 
_cimg_mp_check_cÚ¡ªt
(
¬g2
,2,2);

20091 
_cimg_mp_check_ty³
(
¬g3
,3,1,0);

20092 
	gp1
 = 
_cimg_mp_size
(
¬g1
);

20093 
	g¬g2
 = ()
mem
[
¬g2
];

20094 ià(
	g¬g2
è
	gpos
 = 
veùÜ
(
¬g2
); po ğ
sÿÏr
();

20095 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_g‘
,
pos
,
¬g1
,
p1
,
¬g2
,
¬g3
).
move_to
(
code
);

20096 
_cimg_mp_»tuº
(
pos
);

20102 ià(*
ss1
=='(') {

20103 
_cimg_mp_İ
("Function 'h()'");

20104 ià(*
	gss2
=='#') {

20105 
p1
 = 
compe
(
ss3
,
£1
,
d•th1
,0,
is_ü™iÿl
);

20106 
_cimg_mp_check_li¡
(
çl£
);

20107 } { ià(
	gss2
!=
£1
è; 
	gp1
 = ~0U; }

20108 
	gpos
 = 
sÿÏr
();

20109 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_image_h
,
pos
,
p1
).
move_to
(
code
);

20110 
_cimg_mp_»tuº
(
pos
);

20115 ià(*
ss1
=='c' && *
ss2
=='(') {

20116 
_cimg_mp_İ
("Function 'ic()'");

20117 ià(*
	gss3
=='#') {

20118 
p1
 = 
compe
(
ss4
,
£1
,
d•th1
,0,
is_ü™iÿl
);

20119 
_cimg_mp_check_li¡
(
çl£
);

20120 } { ià(
	gss3
!=
£1
è; 
	gp1
 = ~0U; }

20121 
	gpos
 = 
sÿÏr
();

20122 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_image_medŸn
,
pos
,
p1
).
move_to
(
code
);

20123 
_cimg_mp_»tuº
(
pos
);

20126 ià(*
	gss1
=='c' && *
ss2
=='(') {

20127 
_cimg_mp_İ
("Function 'ic()'");

20128 ià(*
	gss3
=='#') {

20129 
p1
 = 
compe
(
ss4
,
£1
,
d•th1
,0,
is_ü™iÿl
);

20130 
_cimg_mp_check_li¡
(
çl£
);

20131 } { ià(
	gss3
!=
£1
è; 
	gp1
 = ~0U; }

20132 
	gpos
 = 
sÿÏr
();

20133 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_image_medŸn
,
pos
,
p1
).
move_to
(
code
);

20134 
_cimg_mp_»tuº
(
pos
);

20137 ià(*
	gss1
=='n' && *
ss2
=='(') {

20138 
_cimg_mp_İ
("Function 'in()'");

20139 ià(*
	gss3
=='#') {

20140 
p1
 = 
compe
(
ss4
,
£1
,
d•th1
,0,
is_ü™iÿl
);

20141 
_cimg_mp_check_li¡
(
çl£
);

20142 } { ià(
	gss3
!=
£1
è; 
	gp1
 = ~0U; }

20143 
	gpos
 = 
sÿÏr
();

20144 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_image_nÜm
,
pos
,
p1
).
move_to
(
code
);

20145 
_cimg_mp_»tuº
(
pos
);

20148 ià(*
	gss1
=='f' && *
ss2
=='(') {

20149 
_cimg_mp_İ
("Function 'if()'");

20150 
	gs1
 = 
ss3
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

20151 
	gs2
 = 
s1
 + 1; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

20152 
	g¬g1
 = 
compe
(
ss3
,
s1
,
d•th1
,0,
is_ü™iÿl
);

20153 
_cimg_mp_check_ty³
(
¬g1
,1,1,0);

20154 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)) {

20155 ià((
	gboŞ
)
	gmem
[
¬g1
]è 
compe
(++
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

20156  
	gs2
<
	g£1
?
compe
(++
s2
,
£1
,
d•th1
,0,
is_ü™iÿl
):0;

20158 
	gp2
 = 
code
.
_width
;

20159 
	g¬g2
 = 
compe
(++
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

20160 
	gp3
 = 
code
.
_width
;

20161 
	g¬g3
 = 
s2
<
£1
?
compe
(++s2,£1,
d•th1
,0,
is_ü™iÿl
):

20162 
_cimg_mp_is_veùÜ
(
¬g2
)?
veùÜ
(
_cimg_mp_size
(arg2),0):0;

20163 
_cimg_mp_check_ty³
(
¬g3
,3,
_cimg_mp_is_veùÜ
(
¬g2
)?2:1,
_cimg_mp_size
(arg2));

20164 
	g¬g4
 = 
_cimg_mp_size
(
¬g2
);

20165 ià(
	g¬g4
è
	gpos
 = 
veùÜ
(
¬g4
); po ğ
sÿÏr
();

20166 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_if
,
pos
,
¬g1
,
¬g2
,
¬g3
,

20167 
p3
 - 
p2
,
code
.
_width
 -…3,
¬g4
).
move_to
(code,p2);

20168 
_cimg_mp_»tuº
(
pos
);

20171 ià(!
	g¡d
::
¡ºcmp
(
ss
,"inrange(",8)) {

20172 
_cimg_mp_İ
("Function 'inrange()'");

20173 
	gs1
 = 
ss8
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

20174 
	g¬g1
 = 
compe
(
ss8
,
s1
,
d•th1
,0,
is_ü™iÿl
);

20175 
	gs2
 = 
s1
 + 1; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

20176 
	g¬g2
 = 
compe
(++
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

20177 
	gs1
 = 
s2
 + 1; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

20178 
	g¬g3
 = 
compe
(++
s2
,
s1
,
d•th1
,0,
is_ü™iÿl
);

20179 
	g¬g4
 = 
¬g5
 = 1;

20180 ià(
	gs1
<
	g£1
) {

20181 
	gs2
 = 
s1
 + 1; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

20182 
	g¬g4
 = 
compe
(++
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

20183 
	g¬g5
 = 
s2
<
£1
?
compe
(++s2,£1,
d•th1
,0,
is_ü™iÿl
):
¬g4
;

20184 
_cimg_mp_check_ty³
(
¬g4
,4,1,0);

20185 
_cimg_mp_check_ty³
(
¬g5
,5,1,0);

20187 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
) &&

20188 
_cimg_mp_is_cÚ¡ªt
(
¬g3
è&& _cimg_mp_is_cÚ¡ªt(
¬g4
) &&

20189 
_cimg_mp_is_cÚ¡ªt
(
¬g5
)) {

20190 
	gv®
 = 
mem
[
¬g1
]; 
	gv®1
 = mem[
¬g2
]; 
	gv®2
 = mem[
¬g3
];

20191 ià(
	gv®2
>=
v®1
)

20192 
is_¡h
 = (
mem
[
¬g4
]?(
v®
>=
v®1
):(v®>v®1)è&& (mem[
¬g5
]?(v®<=
v®2
):(val<val2));

20194 
	gis_¡h
 = (
mem
[
¬g5
]?(
v®
>=
v®2
):(v®>v®2)è&& (mem[
¬g4
]?(v®<=
v®1
):(val<val1));

20195 
_cimg_mp_»tuº
(
is_¡h
?1:0);

20197 
	gp1
 = 
_cimg_mp_size
(
¬g1
);

20198 
	gp2
 = 
_cimg_mp_size
(
¬g2
);

20199 
	gp3
 = 
_cimg_mp_size
(
¬g3
);

20200 
	g¬g6
 = ~0U;

20201 ià(!
	gp1
) {

20202 
	g¬g6
 = 
p2
?p2:
p3
;

20203 ià(
	g¬g6
è
_cimg_mp_check_ty³
(
¬g3
,3,3,
¬g6
);

20205 
	g¬g6
 = 
p1
;

20206 
_cimg_mp_check_ty³
(
¬g2
,2,3,
¬g6
);

20207 
_cimg_mp_check_ty³
(
¬g3
,3,3,
¬g6
);

20209 
	gpos
 = 
¬g6
?
veùÜ
×rg6):
sÿÏr
();

20210 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_š¿nge
,
pos
,
¬g6
,
¬g1
,
p1
,
¬g2
,
p2
,
¬g3
,
p3
,
¬g4
,
¬g5
).
move_to
(
code
);

20211 
_cimg_mp_»tuº
(
pos
);

20215 ià(!
	g¡d
::
¡ºcmp
(
ss
,"int(",4)) {

20216 
_cimg_mp_İ
("Function 'int()'");

20217 
	g¬g1
 = 
compe
(
ss4
,
£1
,
d•th1
,0,
is_ü™iÿl
);

20218 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_št
,arg1);

20219 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
((
lÚgT
)
mem
[arg1]);

20220 
_cimg_mp_sÿÏr1
(
mp_št
,
¬g1
);

20223 ià(!
	g¡d
::
¡ºcmp
(
ss
,"invert(",7)) {

20224 
_cimg_mp_İ
("Function 'invert()'");

20225 
	gs1
 = 
ss7
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

20226 
	g¬g1
 = 
compe
(
ss7
,
s1
,
d•th1
,0,
is_ü™iÿl
);

20227 
	g¬g2
 = 
s1
<
£1
?
compe
(++s1,£1,
d•th1
,0,
is_ü™iÿl
):1;

20228 
_cimg_mp_check_ty³
(
¬g2
,2,1,0);

20229 ià(
_cimg_mp_is_veùÜ
(
¬g1
)) {

20230 
_cimg_mp_check_m©rix_squ¬e
(
¬g1
,1);

20231 
	gp1
 = ()
cimg
::
round
(
¡d
::
sq¹
(()
_cimg_mp_size
(
¬g1
)));

20232 
	gpos
 = 
veùÜ
(
p1
*p1);

20233 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_m©rix_šv”t
,
pos
,
¬g1
,
p1
,
¬g2
).
move_to
(
code
);

20234 
_cimg_mp_»tuº
(
pos
);

20236 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(1/
mem
[arg1]);

20237 
_cimg_mp_sÿÏr2
(
mp_div
,1,
¬g1
);

20240 ià(*
	gss1
=='s') {

20242 ià(!
¡d
::
¡ºcmp
(
ss
,"isbool(",7)) {

20243 
_cimg_mp_İ
("Function 'isbool()'");

20244 ià(
	gss7
==
£1
è
_cimg_mp_»tuº
(0);

20245 
	gŒy
 { 
	g¬g1
 = 
compe
(
ss7
,
£1
,
d•th1
,0,
is_ü™iÿl
); }

20246 
ÿtch
(
CImgExû±iÚ
&è{ 
_cimg_mp_»tuº
(0); }

20247 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_isboŞ
,arg1);

20248 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_»tuº
(
mem
[arg1]==0. || mem[arg1]==1.);

20249 
_cimg_mp_sÿÏr1
(
mp_isboŞ
,
¬g1
);

20252 ià(!
	g¡d
::
¡ºcmp
(
ss
,"isdir(",6)) {

20253 
_cimg_mp_İ
("Function 'isdir()'");

20254 
	g¬g1
 = 
compe
(
ss6
,
£1
,
d•th1
,0,
is_ü™iÿl
);

20255 ià(
_cimg_mp_is_sÿÏr
(
¬g1
)è
_cimg_mp_»tuº
(0);

20256 
	gpos
 = 
sÿÏr
();

20257 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_isdœ
,
pos
,
¬g1
,(ulÚgT)
_cimg_mp_size
×rg1)).
move_to
(
code
);

20258 
_cimg_mp_»tuº
(
pos
);

20261 ià(!
	g¡d
::
¡ºcmp
(
ss
,"isfile(",7)) {

20262 
_cimg_mp_İ
("Function 'isfile()'");

20263 
	g¬g1
 = 
compe
(
ss7
,
£1
,
d•th1
,0,
is_ü™iÿl
);

20264 ià(
_cimg_mp_is_sÿÏr
(
¬g1
)è
_cimg_mp_»tuº
(0);

20265 
	gpos
 = 
sÿÏr
();

20266 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_isfe
,
pos
,
¬g1
,(ulÚgT)
_cimg_mp_size
×rg1)).
move_to
(
code
);

20267 
_cimg_mp_»tuº
(
pos
);

20270 ià(!
	g¡d
::
¡ºcmp
(
ss
,"isin(",5)) {

20271 ià(
	gss5
>=
£1
è
_cimg_mp_»tuº
(0);

20272 
_cimg_mp_İ
("Function 'isin()'");

20273 
	gpos
 = 
sÿÏr
();

20274 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_isš
,
pos
,0).
move_to
(
l_İcode
);

20275 
	gs
 = 
ss5
; s<
	g£
; ++s) {

20276 
	gns
 = 
s
; ns<
	g£
 && (*ns!=',' || 
Ëv–
[
ns
 - 
ex´
.
_d©a
]!=
şev–1
) &&

20277 (*
ns
!=')' || 
Ëv–
[n - 
ex´
.
_d©a
]!=
şev–
)) ++ns;

20278 
	g¬g1
 = 
compe
(
s
,
ns
,
d•th1
,0,
is_ü™iÿl
);

20279 ià(
_cimg_mp_is_veùÜ
(
¬g1
))

20280 
	gCImg
<
	gulÚgT
>::
£qu’û
(
_cimg_mp_size
(
¬g1
),arg1 + 1,

20281 
¬g1
 + (
ulÚgT
)
_cimg_mp_size
(arg1)).

20282 
move_to
(
l_İcode
);

20283 
	gCImg
<
	gulÚgT
>::
veùÜ
(
¬g1
).
move_to
(
l_İcode
);

20284 
	gs
 = 
ns
;

20286 (
	gl_İcode
>'y').
move_to
(
İcode
);

20287 
	gİcode
[2] = 
İcode
.
_height
;

20288 
	gİcode
.
move_to
(
code
);

20289 
_cimg_mp_»tuº
(
pos
);

20292 ià(!
	g¡d
::
¡ºcmp
(
ss
,"isinf(",6)) {

20293 
_cimg_mp_İ
("Function 'isinf()'");

20294 ià(
	gss6
==
£1
è
_cimg_mp_»tuº
(0);

20295 
	g¬g1
 = 
compe
(
ss6
,
£1
,
d•th1
,0,
is_ü™iÿl
);

20296 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_isšf
,arg1);

20297 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_»tuº
(()
cimg
::
ty³
<>::
is_šf
(
mem
[arg1]));

20298 
_cimg_mp_sÿÏr1
(
mp_isšf
,
¬g1
);

20301 ià(!
	g¡d
::
¡ºcmp
(
ss
,"isint(",6)) {

20302 
_cimg_mp_İ
("Function 'isint()'");

20303 ià(
	gss6
==
£1
è
_cimg_mp_»tuº
(0);

20304 
	gŒy
 { 
	g¬g1
 = 
compe
(
ss6
,
£1
,
d•th1
,0,
is_ü™iÿl
); }

20305 
ÿtch
(
CImgExû±iÚ
&è{ 
_cimg_mp_»tuº
(0); }

20306 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_isšt
,arg1);

20307 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_»tuº
(()(()(
lÚgT
)
mem
[arg1]==mem[arg1]));

20308 
_cimg_mp_sÿÏr1
(
mp_isšt
,
¬g1
);

20311 ià(!
	g¡d
::
¡ºcmp
(
ss
,"isnan(",6)) {

20312 
_cimg_mp_İ
("Function 'isnan()'");

20313 ià(
	gss6
==
£1
è
_cimg_mp_»tuº
(0);

20314 
	g¬g1
 = 
compe
(
ss6
,
£1
,
d•th1
,0,
is_ü™iÿl
);

20315 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_i¢ª
,arg1);

20316 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_»tuº
(()
cimg
::
ty³
<>::
is_Çn
(
mem
[arg1]));

20317 
_cimg_mp_sÿÏr1
(
mp_i¢ª
,
¬g1
);

20320 ià(!
	g¡d
::
¡ºcmp
(
ss
,"isnum(",6)) {

20321 
_cimg_mp_İ
("Function 'isnum()'");

20322 
	gv®
 = 0;

20323 ià(
cimg_ssÿnf
(
ss6
,"%lf%c%c",&
v®
,&
£p
,&
’d
)==2 && s•==')'è
_cimg_mp_»tuº
(1);

20324 
_cimg_mp_»tuº
(0);

20327 ià(!
	g¡d
::
¡ºcmp
(
ss
,"isexpr(",7)) {

20328 
_cimg_mp_İ
("Function 'isexpr()'");

20329 ià(
	gss7
==
£1
è
_cimg_mp_»tuº
(0);

20330 
	gŒy
 { 
	g¬g1
 = 
compe
(
ss7
,
£1
,
d•th1
,0,
is_ü™iÿl
); }

20331 
ÿtch
 (
CImgExû±iÚ
&è{ 
_cimg_mp_»tuº
(0); }

20332 
_cimg_mp_»tuº
(1);

20338 ià(*
ss1
=='(') {

20339 
_cimg_mp_İ
("Function 'l()'");

20340 ià(
	gss2
!=
£1
) ;

20341 
_cimg_mp_sÿÏr0
(
mp_li¡_l
);

20344 ià(!
	g¡d
::
¡ºcmp
(
ss
,"lerp(",5)) {

20345 
_cimg_mp_İ
("Function 'lerp()'");

20346 
	gs1
 = 
ss5
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

20347 
	g¬g1
 = 
compe
(
ss5
,
s1
,
d•th1
,0,
is_ü™iÿl
);

20348 
	gs2
 = 
s1
 + 1; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

20349 
	g¬g2
 = 
compe
(++
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

20350 
	g¬g3
 = 
s2
<
£1
?
compe
(++s2,£1,
d•th1
,0,
is_ü™iÿl
):16;

20351 
_cimg_mp_check_ty³
(
¬g3
,3,1,0);

20352 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g3
)) {

20353 ià(!
	g¬g3
è
_cimg_mp_»tuº
(
¬g1
);

20354 ià(
	g¬g3
==1è
_cimg_mp_»tuº
(
¬g2
);

20355 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
)) {

20356 cÚ¡ 
	gt
 = 
mem
[
¬g3
];

20357 
_cimg_mp_cÚ¡ªt
(
mem
[
¬g1
]*(1-
t
è+ mem[
¬g2
]*t);

20360 ià(
_cimg_mp_is_sÿÏr
(
¬g1
)) {

20361 
_cimg_mp_check_ty³
(
¬g2
,2,1,0);

20362 
_cimg_mp_sÿÏr3
(
mp_Ë½
,
¬g1
,
¬g2
,
¬g3
);

20364 
	gp1
 = 
_cimg_mp_size
(
¬g1
);

20365 
_cimg_mp_check_ty³
(
¬g2
,2,2,
p1
);

20366 
	gpos
 = 
veùÜ
(
p1
);

20367 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_veùÜ_Ë½
,
pos
,
p1
,
¬g1
,
¬g2
,
¬g3
).
move_to
(
code
);

20368 
_cimg_mp_»tuº
(
pos
);

20371 ià(!
	g¡d
::
¡ºcmp
(
ss
,"log(",4)) {

20372 
_cimg_mp_İ
("Function 'log()'");

20373 
	g¬g1
 = 
compe
(
ss4
,
£1
,
d•th1
,0,
is_ü™iÿl
);

20374 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_log
,arg1);

20375 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
¡d
::
log
(
mem
[arg1]));

20376 
_cimg_mp_sÿÏr1
(
mp_log
,
¬g1
);

20379 ià(!
	g¡d
::
¡ºcmp
(
ss
,"log2(",5)) {

20380 
_cimg_mp_İ
("Function 'log2()'");

20381 
	g¬g1
 = 
compe
(
ss5
,
£1
,
d•th1
,0,
is_ü™iÿl
);

20382 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_log2
,arg1);

20383 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
cimg
::
log2
(
mem
[arg1]));

20384 
_cimg_mp_sÿÏr1
(
mp_log2
,
¬g1
);

20387 ià(!
	g¡d
::
¡ºcmp
(
ss
,"log10(",6)) {

20388 
_cimg_mp_İ
("Function 'log10()'");

20389 
	g¬g1
 = 
compe
(
ss6
,
£1
,
d•th1
,0,
is_ü™iÿl
);

20390 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_log10
,arg1);

20391 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
¡d
::
log10
(
mem
[arg1]));

20392 
_cimg_mp_sÿÏr1
(
mp_log10
,
¬g1
);

20395 ià(!
	g¡d
::
¡ºcmp
(
ss
,"lowercase(",10)) {

20396 
_cimg_mp_İ
("Function 'lowercase()'");

20397 
	g¬g1
 = 
compe
(
ss
 + 10,
£1
,
d•th1
,0,
is_ü™iÿl
);

20398 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_low”ÿ£
,arg1);

20399 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
cimg
::
low”ÿ£
(
mem
[arg1]));

20400 
_cimg_mp_sÿÏr1
(
mp_low”ÿ£
,
¬g1
);

20405 ià(!
¡d
::
¡ºcmp
(
ss
,"mul(",4)) {

20406 
_cimg_mp_İ
("Function 'mul()'");

20407 
	gs1
 = 
ss4
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

20408 
	g¬g1
 = 
compe
(
ss4
,
s1
,
d•th1
,0,
is_ü™iÿl
);

20409 
	gs2
 = 
s1
 + 1; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

20410 
	g¬g2
 = 
compe
(++
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

20411 
	g¬g3
 = 
s2
<
£1
?
compe
(++s2,£1,
d•th1
,0,
is_ü™iÿl
):1;

20412 
_cimg_mp_check_ty³
(
¬g1
,1,2,0);

20413 
_cimg_mp_check_ty³
(
¬g2
,2,2,0);

20414 
_cimg_mp_check_cÚ¡ªt
(
¬g3
,3,3);

20415 
	gp1
 = 
_cimg_mp_size
(
¬g1
);

20416 
	gp2
 = 
_cimg_mp_size
(
¬g2
);

20417 
	gp3
 = ()
mem
[
¬g3
];

20418 
	g¬g5
 = 
p2
/
p3
;

20419 
	g¬g4
 = 
p1
/
¬g5
;

20420 ià(
¬g4
*
	g¬g5
!=
p1
 || 
¬g5
*
p3
!=
p2
) {

20421 
_cimg_mp_¡»¼
;

20422 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

20426 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

20427 
s_ty³
(
¬g1
).
_d©a
,s_ty³(
¬g2
)._d©a,
p3
,

20428 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

20430 
	gpos
 = 
veùÜ
(
¬g4
*
p3
);

20431 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_m©rix_mul
,
pos
,
¬g1
,
¬g2
,
¬g4
,
¬g5
,
p3
).
move_to
(
code
);

20432 
_cimg_mp_»tuº
(
pos
);

20435 ià(!
	g¡d
::
¡ºcmp
(
ss
,"mproj(",6)) {

20436 
_cimg_mp_İ
("Function 'mproj()'");

20437 
	gs1
 = 
ss6
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

20438 
	g¬g1
 = 
compe
(
ss6
,
s1
,
d•th1
,0,
is_ü™iÿl
);

20439 
	gs2
 = 
s1
 + 1; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

20440 
	g¬g2
 = 
compe
(++
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

20441 
	gs1
 = 
s2
 + 1; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

20442 
	g¬g3
 = 
compe
(++
s2
,
s1
,
d•th1
,0,
is_ü™iÿl
);

20443 
	gs2
 = 
s1
 + 1; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

20444 
	g¬g4
 = 
compe
(++
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

20445 
	g¬g5
 = 
¬g6
 = 
p3
 = 0;

20446 ià(
	gs2
<
	g£1
) {

20447 
	gs1
 = 
s2
 + 1; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

20448 
	g¬g5
 = 
compe
(++
s2
,
s1
,
d•th1
,0,
is_ü™iÿl
);

20449 ià(
	gs1
<
	g£1
) {

20450 
	gs2
 = 
s1
 + 1; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

20451 
	g¬g6
 = 
compe
(++
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

20452 
	gp3
 = 
s2
<
£1
?
compe
(++s2,£1,
d•th1
,0,
is_ü™iÿl
):0;

20455 
_cimg_mp_check_ty³
(
¬g1
,1,2,0);

20456 
_cimg_mp_check_cÚ¡ªt
(
¬g2
,2,3);

20457 
_cimg_mp_check_ty³
(
¬g3
,3,2,0);

20458 
_cimg_mp_check_cÚ¡ªt
(
¬g4
,4,3);

20459 
_cimg_mp_check_ty³
(
¬g5
,5,1,0);

20460 
_cimg_mp_check_ty³
(
¬g6
,6,1,0);

20461 
_cimg_mp_check_ty³
(
p3
,7,1,0);

20462 
	gp1
 = 
_cimg_mp_size
(
¬g1
);

20463 
	gp2
 = 
_cimg_mp_size
(
¬g3
);

20465 
	gwS
 = ()
mem
[
¬g2
],

20466 
	gwD
 = ()
mem
[
¬g4
],

20467 
	ghS
 = 
p1
/
wS
,

20468 
	ghD
 = 
p2
/
wD
;

20470 ià(
wS
*
	ghS
!=
p1
) {

20471 
_cimg_mp_¡»¼
;

20472 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

20476 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

20477 
s_ty³
(
¬g1
).
_d©a
,
wS
,

20478 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

20480 ià(
wD
*
	ghD
!=
p2
) {

20481 
_cimg_mp_¡»¼
;

20482 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

20486 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

20487 
s_ty³
(
¬g3
).
_d©a
,
wD
,

20488 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

20490 ià(
	ghS
!=
hD
) {

20491 
_cimg_mp_¡»¼
;

20492 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

20496 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

20497 
s_ty³
(
¬g1
).
_d©a
,s_ty³(
¬g3
)._data,

20498 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

20500 
	gpos
 = 
veùÜ
(
wS
*
wD
);

20501 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_m´oj
,
pos
,
¬g1
,
wS
,
hS
,
¬g3
,
wD
,
¬g5
,
¬g6
,
p3
).
move_to
(
code
);

20502 
_cimg_mp_»tuº
(
pos
);

20505 ià(!
	g¡d
::
¡ºcmp
(
ss
,"merge(",6)) {

20506 
_cimg_mp_İ
("Function 'merge()'");

20507 
	gs1
 = 
ss6
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

20508 
	gpos
 = 
compe
(
ss6
,
s1
,
d•th1
,0,
is_ü™iÿl
);

20509 
	g¬g1
 = ~0U;

20510 ià(
	gs1
<
	g£1
) {

20511 ++
	gs1
;

20512 
	g¡_İ
[4] = { 0 };

20513 
	gis_¡h
 = 
çl£
;

20514 ià(
cimg_ssÿnf
(
s1
," %3[=+-*/mšax]%c",
¡_İ
,&
£p
)==2 && (£p==')' || (
is_¡h
=
cimg
::
is_bÏnk
(sep)))) {

20515 ià(!
is_¡h
 || (is_¡h && 
cimg_ssÿnf
(
s1
," %*[=+-*/mšax ]%c",&
£p
)==1 && sep==')')) {

20516 
cimg
::
¡½¬e
(
¡_İ
,' ',
çl£
,
Œue
);

20517 ià(!
	g¡_İ
[1]è
	g¬g1
 = *
¡_İ
=='='?0:*st_op=='+'?1:*st_op=='-'?2:*st_op=='*'?3:*st_op=='/'?4:~0U;

20518 ià(*
	g¡_İ
=='m' && 
¡_İ
[1]=='i' && st_İ[2]=='n' && !¡_İ[3]è
¬g1
 = 5;

20519 ià(*
	g¡_İ
=='m' && 
¡_İ
[1]=='a' && st_İ[2]=='x' && !¡_İ[3]è
¬g1
 = 6;

20523 
cimg_rofY
(
memm”ge
,
k
èià(memm”ge(0,k)==()
pos
) {

20524 
_cimg_mp_¡»¼
;

20525 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

20529 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

20530 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

20532 ià(
	g¬g1
==~0U) {

20533 
_cimg_mp_¡»¼
;

20534 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

20538 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

20539 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

20541 
	gmemm”ge
.
»size
(3,
memm”ge
.
_height
 + 1,1,1,0,0);

20542 
memm”ge
(0,memm”ge.
_height
 - 1èğ()
pos
;

20543 
memm”ge
(1,memm”ge.
_height
 - 1èğ()
_cimg_mp_size
(
pos
);

20544 
memm”ge
(2,memm”ge.
_height
 - 1èğ()
¬g1
;

20545 
_cimg_mp_»tuº
(
pos
);

20550 #ifdeà
cimg_mp_func_Çme


20551 ià(!
¡d
::
¡ºcmp
(
ss
,"name(",5)) {

20552 
_cimg_mp_İ
("Function 'name()'");

20553 ià(*
	gss5
=='#') {

20554 
s0
 = 
ss6
; 
	gs0
<
	g£1
 && (*s0!=',' || 
Ëv–
[s0 - 
ex´
.
_d©a
]!=
şev–1
)) ++s0;

20555 
	gp1
 = 
compe
(
ss6
,
s0
++,
d•th1
,0,
is_ü™iÿl
);

20556 
	gis_¡h
 = 
Œue
;

20557 
_cimg_mp_check_li¡
(
çl£
);

20558 } { 
	gs0
 = 
ss5
; 
	gp1
 = 
g‘_mem_img_šdex
(); 
	gis_¡h
 = 
çl£
; }

20559 
	g¬g1
 = 
s0
<
£1
?
compe
(s0,£1,
d•th1
,0,
is_ü™iÿl
):~0U;

20560 ià(
	g¬g1
!=~0U) {

20561 
_cimg_mp_check_cÚ¡ªt
(
¬g1
,
is_¡h
?2:1,3);

20562 
	g¬g1
 = ()
mem
[
¬g1
];

20563 } 
	g¬g1
 = 1024;

20564 
	gpos
 = 
veùÜ
(
¬g1
);

20565 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_Çme
,
pos
,
p1
,
¬g1
).
move_to
(
code
);

20566 
_cimg_mp_»tuº
(
pos
);

20570 ià(!
	g¡d
::
¡ºcmp
(
ss
,"narg(",5)) {

20571 
_cimg_mp_İ
("Function 'narg()'");

20572 ià(
	gss5
>=
£1
è
_cimg_mp_»tuº
(0);

20573 
	g¬g1
 = 0;

20574 
	gs
 = 
ss5
; s<
	g£
; ++s) {

20575 
	gns
 = 
s
; ns<
	g£
 && (*ns!=',' || 
Ëv–
[
ns
 - 
ex´
.
_d©a
]!=
şev–1
) &&

20576 (*
ns
!=')' || 
Ëv–
[n - 
ex´
.
_d©a
]!=
şev–
)) ++ns;

20577 ++
	g¬g1
; 
	gs
 = 
ns
;

20579 
_cimg_mp_cÚ¡ªt
(
¬g1
);

20582 ià((
cimg_ssÿnf
(
ss
,"nÜm%u%c",&(
¬g1
=~0U),&
£p
)==2 && sep=='(') ||

20583 !
¡d
::
¡ºcmp
(
ss
,"nÜmšf(",8è|| !
	g¡d
::strncmp(ss,"norm(",5) ||

20584 (!
	g¡d
::
¡ºcmp
(
ss
,"nÜm",4è&& 
	gss5
<
	g£1
 && (
	gs
=
¡d
::
¡rchr
(
ss5
,'('))!=0)) {

20585 
_cimg_mp_İ
("Function 'normP()'");

20586 ià(*
	gss4
=='('è{ 
¬g1
 = 2; 
	gs
 = 
ss5
; }

20587 ià(*
	gss4
=='i' && *
ss5
=='n' && *
ss6
=='f' && *
ss7
=='('è{ 
¬g1
 = ~0U; 
	gs
 = 
ss8
; }

20588 ià(
	g¬g1
==~0U) {

20589 
¬g1
 = 
compe
(
ss4
,
s
++,
d•th1
,0,
is_ü™iÿl
);

20590 
_cimg_mp_check_cÚ¡ªt
(
¬g1
,0,2);

20591 
	g¬g1
 = ()
mem
[
¬g1
];

20592 } 
	gs
 = 
¡d
::
¡rchr
(
ss4
,'(') + 1;

20593 
	gpos
 = 
sÿÏr
();

20594 
	g¬g1
) {

20596 
CImg
<
ulÚgT
>::
veùÜ
((ulÚgT)
mp_nÜm0
,
pos
,0).
move_to
(
l_İcode
); ;

20598 
CImg
<
ulÚgT
>::
veùÜ
((ulÚgT)
mp_nÜm1
,
pos
,0).
move_to
(
l_İcode
); ;

20600 
CImg
<
ulÚgT
>::
veùÜ
((ulÚgT)
mp_nÜm2
,
pos
,0).
move_to
(
l_İcode
); ;

20602 
CImg
<
ulÚgT
>::
veùÜ
((ulÚgT)
mp_nÜmšf
,
pos
,0).
move_to
(
l_İcode
); ;

20604 
CImg
<
ulÚgT
>::
veùÜ
((ulÚgT)
mp_nÜmp
,
pos
,0,(ulÚgT)(
¬g1
==~0U?-1:()arg1)).

20605 
move_to
(
l_İcode
);

20607  ; 
	gs
<
	g£
; ++s) {

20608 
	gns
 = 
s
; ns<
	g£
 && (*ns!=',' || 
Ëv–
[
ns
 - 
ex´
.
_d©a
]!=
şev–1
) &&

20609 (*
ns
!=')' || 
Ëv–
[n - 
ex´
.
_d©a
]!=
şev–
)) ++ns;

20610 
	g¬g2
 = 
compe
(
s
,
ns
,
d•th1
,0,
is_ü™iÿl
);

20611 ià(
_cimg_mp_is_veùÜ
(
¬g2
))

20612 
	gCImg
<
	gulÚgT
>::
£qu’û
(
_cimg_mp_size
(
¬g2
),arg2 + 1,

20613 
¬g2
 + (
ulÚgT
)
_cimg_mp_size
(arg2)).

20614 
move_to
(
l_İcode
);

20615 
	gCImg
<
	gulÚgT
>::
veùÜ
(
¬g2
).
move_to
(
l_İcode
);

20616 
	gs
 = 
ns
;

20619 (
	gl_İcode
>'y').
move_to
(
İcode
);

20620 ià(
	g¬g1
>0 && 
	gİcode
.
	g_height
==4)

20621 
_cimg_mp_sÿÏr1
(
mp_abs
,
İcode
[3]);

20622 
	gİcode
[2] = 
İcode
.
_height
;

20623 
	gİcode
.
move_to
(
code
);

20624 
_cimg_mp_»tuº
(
pos
);

20629 ià(!
¡d
::
¡ºcmp
(
ss
,"permut(",7)) {

20630 
_cimg_mp_İ
("Function 'permut()'");

20631 
	gs1
 = 
ss7
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

20632 
	gs2
 = 
s1
 + 1; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

20633 
	g¬g1
 = 
compe
(
ss7
,
s1
,
d•th1
,0,
is_ü™iÿl
);

20634 
	g¬g2
 = 
compe
(++
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

20635 
	g¬g3
 = 
compe
(++
s2
,
£1
,
d•th1
,0,
is_ü™iÿl
);

20636 
_cimg_mp_check_ty³
(
¬g1
,1,1,0);

20637 
_cimg_mp_check_ty³
(
¬g2
,2,1,0);

20638 
_cimg_mp_check_ty³
(
¬g3
,3,1,0);

20639 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
è&& _cimg_mp_is_cÚ¡ªt(
¬g3
))

20640 
_cimg_mp_cÚ¡ªt
(
cimg
::
³rmutiÚs
(()
mem
[
¬g1
],()mem[
¬g2
],(
boŞ
)mem[
¬g3
]));

20641 
_cimg_mp_sÿÏr3
(
mp_³rmutiÚs
,
¬g1
,
¬g2
,
¬g3
);

20644 ià(!
	g¡d
::
¡ºcmp
(
ss
,"polygon(",8)) {

20645 ià(!
	gis_ü™iÿl
è
	gis_·¿Î–izabË
 = 
çl£
;

20646 
_cimg_mp_İ
("Function 'polygon()'");

20647 ià(*
	gss8
=='#') {

20648 
s0
 = 
ss
 + 9; 
	gs0
<
	g£1
 && (*s0!=',' || 
Ëv–
[s0 - 
ex´
.
_d©a
]!=
şev–1
)) ++s0;

20649 
	gp1
 = 
compe
(
ss
 + 9,
s0
++,
d•th1
,0,
is_ü™iÿl
);

20650 
_cimg_mp_check_li¡
(
Œue
);

20651 } { 
	gp1
 = ~0U; 
	gs0
 = 
ss8
; }

20652 ià(
	gs0
==
£1
è
compe
(
s0
,£1,
d•th1
,0,
is_ü™iÿl
);

20653 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_pŞygÚ
,
_cimg_mp_¦Ù_Çn
,0,
p1
).
move_to
(
l_İcode
);

20654 
	gs
 = 
s0
; s<
	g£
; ++s) {

20655 
	gns
 = 
s
; ns<
	g£
 && (*ns!=',' || 
Ëv–
[
ns
 - 
ex´
.
_d©a
]!=
şev–1
) &&

20656 (*
ns
!=')' || 
Ëv–
[n - 
ex´
.
_d©a
]!=
şev–
)) ++ns;

20657 
	g¬g2
 = 
compe
(
s
,
ns
,
d•th1
,0,
is_ü™iÿl
);

20658 ià(
_cimg_mp_is_veùÜ
(
¬g2
))

20659 
	gCImg
<
	gulÚgT
>::
£qu’û
(
_cimg_mp_size
(
¬g2
),arg2 + 1,

20660 
¬g2
 + (
ulÚgT
)
_cimg_mp_size
(arg2)).

20661 
move_to
(
l_İcode
);

20662 
	gCImg
<
	gulÚgT
>::
veùÜ
(
¬g2
).
move_to
(
l_İcode
);

20663 
	gs
 = 
ns
;

20665 (
	gl_İcode
>'y').
move_to
(
İcode
);

20666 
	gİcode
[2] = 
İcode
.
_height
;

20667 
	gİcode
.
move_to
(
code
);

20668 
_cimg_mp_»tuº_Çn
();

20671 ià(!
	g¡d
::
¡ºcmp
(
ss
,"print(",6) || !std::strncmp(ss,"prints(",7)) {

20672 
	gis_¡h
 = 
ss
[5]=='s';

20673 
_cimg_mp_İ
(
is_¡h
?"Function 'prints()'":"Function 'print()'");

20674 
	gs0
 = 
is_¡h
?
ss7
:
ss6
;

20675 ià(*
	gs0
!='#' || 
is_¡h
) {

20676 
s
 = 
s0
; 
	gs
<
	g£
; ++s) {

20677 
	gns
 = 
s
; ns<
	g£
 && (*ns!=',' || 
Ëv–
[
ns
 - 
ex´
.
_d©a
]!=
şev–1
) &&

20678 (*
ns
!=')' || 
Ëv–
[n - 
ex´
.
_d©a
]!=
şev–
)) ++ns;

20679 
	gpos
 = 
compe
(
s
,
ns
,
d•th1
,
p_»f
,
is_ü™iÿl
);

20680 
	gc1
 = *
ns
; *
	gns
 = 0;

20681 
	gv¬ŸbË_Çme
.
assign
(
CImg
<
ch¬T
>::
¡ršg
(
s
,
Œue
,Œue).
uÄŞl
('y'),true);

20682 
	gcimg
::
¡½¬e
(
v¬ŸbË_Çme
,
çl£
,
Œue
);

20683 ià(
_cimg_mp_is_veùÜ
(
pos
))

20684 ((
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_veùÜ_´št
,
pos
,0,(ulÚgT)
_cimg_mp_size
Õos),
is_¡h
?1:0),

20685 
	gv¬ŸbË_Çme
)>'y').
move_to
(
İcode
);

20687 ((
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_´št
,
pos
,0,
is_¡h
?1:0),

20688 
	gv¬ŸbË_Çme
)>'y').
move_to
(
İcode
);

20689 
	gİcode
[2] = 
İcode
.
_height
;

20690 
	gİcode
.
move_to
(
code
);

20691 *
	gns
 = 
c1
; 
	gs
 = 
ns
;

20693 
_cimg_mp_»tuº
(
pos
);

20695 
	gp1
 = 
compe
(
ss7
,
£1
,
d•th1
,0,
is_ü™iÿl
);

20696 
_cimg_mp_check_li¡
(
Œue
);

20697 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_image_´št
,
_cimg_mp_¦Ù_Çn
,
p1
).
move_to
(
code
);

20698 
_cimg_mp_»tuº_Çn
();

20702 ià(!
	g¡d
::
¡ºcmp
(
ss
,"pseudoinvert(",13)) {

20703 
_cimg_mp_İ
("Function 'pseudoinvert()'");

20704 
	gs1
 = 
ss
 + 13; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

20705 
	g¬g1
 = 
compe
(
ss
 + 13,
s1
,
d•th1
,0,
is_ü™iÿl
);

20706 
	g¬g2
 = 1;

20707 
	g¬g3
 = 0;

20708 ià(
	gs1
<
	g£1
) {

20709 
	gs2
 = ++
s1
; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

20710 
	g¬g2
 = 
compe
(
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

20711 
	g¬g3
 = 
s2
<
£1
?
compe
(++s2,£1,
d•th1
,0,
is_ü™iÿl
):0;

20713 
_cimg_mp_check_ty³
(
¬g1
,1,2,0);

20714 
_cimg_mp_check_cÚ¡ªt
(
¬g2
,2,3);

20715 
_cimg_mp_check_ty³
(
¬g3
,3,1,0);

20716 
	gp1
 = 
_cimg_mp_size
(
¬g1
);

20717 
	gp2
 = ()
mem
[
¬g2
];

20718 
	gp3
 = 
p1
/
p2
;

20719 ià(
p3
*
	gp2
!=
p1
) {

20720 
_cimg_mp_¡»¼
;

20721 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

20725 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

20726 
s_ty³
(
¬g1
).
_d©a
,
p2
,

20727 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

20729 
	gpos
 = 
veùÜ
(
p1
);

20730 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_m©rix_p£udošv”t
,
pos
,
¬g1
,
p2
,
p3
,
¬g3
).
move_to
(
code
);

20731 
_cimg_mp_»tuº
(
pos
);

20736 ià(!
¡d
::
¡ºcmp
(
ss
,"ref(",4)) {

20737 
_cimg_mp_İ
("Function 'ref()'");

20738 
	gs1
 = 
ss4
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

20739 ià(
	gs1
>=
£1
 || !*
s1
è
compe
(s1,s1,
d•th1
,0,
is_ü™iÿl
);

20740 
	g¬g3
 = 
compe
(
ss4
,
s1
++,
d•th1
,
p_»f
,
is_ü™iÿl
);

20741 *
	g£1
 = 0;

20742 
	gis_¡h
 = 
Œue
;

20743 ià(*
	gs1
>='0' && *
s1
<='9'è
is_¡h
 = 
çl£
;

20744 
	gns
 = 
s1
; *ns; ++nsèià(!
is_v¬ch¬
(*
ns
)è{ 
	gis_¡h
 = 
çl£
; ; }

20745 ià(!
	gis_¡h
) {

20746 
	gv¬ŸbË_Çme
.
assign
(
s1
,()(
£1
 + 1 - s1)).
back
() = 0;

20747 
	gcimg
::
¡»Îsize
(
v¬ŸbË_Çme
,64);

20748 *
	g£1
 = ')';

20749 
	g_cimg_mp_¡»¼
;

20750 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

20753 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

20754 
v¬ŸbË_Çme
.
_d©a
,

20755 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

20758 
g‘_v¬ŸbË_pos
(
s1
,
¬g1
,
¬g2
);

20759 ià(
	g¬g2
!=~0Uè
»£rved_Ïb–
[
¬g2
] = 
¬g3
;

20760 ià(
	g¬g1
!=~0Uè
v¬ŸbË_pos
[
¬g1
] = 
¬g3
;

20762 ià(
	gv¬ŸbË_def
.
	g_width
>=
v¬ŸbË_pos
.
_width
èv¬ŸbË_pos.
»size
(-200,1,1,1,0);

20763 
	gv¬ŸbË_pos
[
v¬ŸbË_def
.
_width
] = 
¬g3
;

20764 
	gCImg
<>::
¡ršg
(
s1
).
move_to
(
v¬ŸbË_def
);

20766 ià(
_cimg_mp_is_veùÜ
(
¬g3
))

20767 
£t_v¬ŸbË_veùÜ
(
¬g3
);

20768 ià(
_cimg_mp_is_comp
(
¬g3
)è
	gmemty³
[arg3] = -1;

20769 *
	g£1
 = ')';

20770 
_cimg_mp_»tuº
(
¬g3
);

20773 ià(!
	g¡d
::
¡ºcmp
(
ss
,"resize(",7)) {

20774 
_cimg_mp_İ
("Function 'resize()'");

20775 ià(*
	gss7
!='#') {

20776 
s1
 = 
ss7
; 
	gs1
<
	g£1
 && (*s1!=',' || 
Ëv–
[s1 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

20777 
	g¬g1
 = 
compe
(
ss7
,
s1
,
d•th1
,0,
is_ü™iÿl
);

20778 
	gs2
 = ++
s1
; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

20779 
	g¬g2
 = 
compe
(
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

20780 
	g¬g3
 = 1;

20781 
	g¬g4
 = 0;

20782 ià(
	gs2
<
	g£1
) {

20783 
	gs1
 = ++
s2
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

20784 
	g¬g3
 = 
compe
(
s2
,
s1
,
d•th1
,0,
is_ü™iÿl
);

20785 
	g¬g4
 = 
s1
<
£1
?
compe
(++s1,£1,
d•th1
,0,
is_ü™iÿl
):0;

20787 
_cimg_mp_check_cÚ¡ªt
(
¬g2
,2,3);

20788 
	g¬g2
 = ()
mem
[
¬g2
];

20789 
_cimg_mp_check_ty³
(
¬g3
,3,1,0);

20790 
_cimg_mp_check_ty³
(
¬g4
,4,1,0);

20791 
	gpos
 = 
veùÜ
(
¬g2
);

20792 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_veùÜ_»size
,
pos
,
¬g2
,
¬g1
,(ulÚgT)
_cimg_mp_size
(arg1),

20793 
¬g3
,
¬g4
).
move_to
(
code
);

20794 
_cimg_mp_»tuº
(
pos
);

20797 ià(!
	gis_ü™iÿl
è
	gis_·¿Î–izabË
 = 
çl£
;

20798 
	gs0
 = 
ss8
; s0<
	g£1
 && (*s0!=',' || 
Ëv–
[
s0
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s0;

20799 
	gp1
 = 
compe
(
ss8
,
s0
++,
d•th1
,0,
is_ü™iÿl
);

20800 
_cimg_mp_check_li¡
(
Œue
);

20801 
	gl_İcode
.
assign
();

20802 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_image_»size
,
_cimg_mp_¦Ù_Çn
,
p1
,~0U,~0U,~0U,~0U,1,0,0,0,0,0).

20803 
move_to
(
l_İcode
);

20804 
	gpos
 = 0;

20805 
	gs
 = 
s0
; s<
	g£
 && 
	gpos
<10; ++s) {

20806 
	gns
 = 
s
; ns<
	g£
 && (*ns!=',' || 
Ëv–
[
ns
 - 
ex´
.
_d©a
]!=
şev–1
) &&

20807 (*
ns
!=')' || 
Ëv–
[n - 
ex´
.
_d©a
]!=
şev–
)) ++ns;

20808 
	g¬g1
 = 
compe
(
s
,
ns
,
d•th1
,0,
is_ü™iÿl
);

20809 
_cimg_mp_check_ty³
(
¬g1
,
pos
 + 2,1,0);

20810 
l_İcode
(0,
pos
 + 3èğ
¬g1
;

20811 
	gs
 = 
ns
;

20812 ++
	gpos
;

20814 ià(
	gpos
<1 ||…os>10) {

20815 
	g_cimg_mp_¡»¼
;

20816 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

20818 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

20819 
pos
<1?"Missing":"Too much",

20820 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

20822 
	gl_İcode
[0].
move_to
(
code
);

20823 
_cimg_mp_»tuº_Çn
();

20827 ià(!
	g¡d
::
¡ºcmp
(
ss
,"reverse(",8)) {

20828 
_cimg_mp_İ
("Function 'reverse()'");

20829 
	g¬g1
 = 
compe
(
ss8
,
£1
,
d•th1
,0,
is_ü™iÿl
);

20830 ià(!
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_»tuº
(arg1);

20831 
	gp1
 = 
_cimg_mp_size
(
¬g1
);

20832 
	gpos
 = 
veùÜ
(
p1
);

20833 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_veùÜ_»v”£
,
pos
,
¬g1
,
p1
).
move_to
(
code
);

20834 
_cimg_mp_»tuº
(
pos
);

20837 ià(!
	g¡d
::
¡ºcmp
(
ss
,"rol(",4) || !std::strncmp(ss,"ror(",4)) {

20838 
_cimg_mp_İ
(
ss
[2]=='l'?"Function 'rol()'":"Function 'ror()'");

20839 
	gs1
 = 
ss4
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
-
ex´
.
_d©a
]!=
şev–1
)) ++s1;

20840 
	g¬g1
 = 
compe
(
ss4
,
s1
,
d•th1
,0,
is_ü™iÿl
);

20841 
	g¬g2
 = 
s1
<
£1
?
compe
(++s1,£1,
d•th1
,0,
is_ü™iÿl
):1;

20842 
_cimg_mp_check_ty³
(
¬g2
,2,1,0);

20843 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ2_vs
(*
ss2
=='l'?
mp_rŞ
:
mp_rÜ
,¬g1,
¬g2
);

20844 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
))

20845 
_cimg_mp_cÚ¡ªt
(*
ss2
=='l'?
cimg
::
rŞ
(
mem
[
¬g1
],()mem[
¬g2
]):

20846 
cimg
::
rÜ
(
mem
[
¬g1
],()mem[
¬g2
]));

20847 
_cimg_mp_sÿÏr2
(*
ss2
=='l'?
mp_rŞ
:
mp_rÜ
,
¬g1
,
¬g2
);

20850 ià(!
	g¡d
::
¡ºcmp
(
ss
,"rot(",4)) {

20851 
_cimg_mp_İ
("Function 'rot()'");

20852 
	gs1
 = 
ss4
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

20853 
	g¬g1
 = 
compe
(
ss4
,
s1
,
d•th1
,0,
is_ü™iÿl
);

20854 ià(
	gs1
<
	g£1
) {

20855 
_cimg_mp_check_ty³
(
¬g1
,1,3,3);

20856 
	gis_¡h
 = 
çl£
;

20857 ià(
_cimg_mp_is_veùÜ
(
¬g1
)) {

20858 
	gis_¡h
 = 
Œue
;

20859 
	gp2
 = 
_cimg_mp_size
(
¬g1
);

20860 ++
	g¬g1
;

20861 
	g¬g2
 = 
¬g3
 = 0;

20862 ià(
	gp2
>1) {

20863 
	g¬g2
 = 
¬g1
 + 1;

20864 ià(
	gp2
>2è
	g¬g3
 = 
¬g2
 + 1;

20866 
	g¬g4
 = 
compe
(++
s1
,
£1
,
d•th1
,0,
is_ü™iÿl
);

20868 
	gs2
 = 
s1
 + 1; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

20869 
	g¬g2
 = 
compe
(++
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

20870 
	gs3
 = 
s2
 + 1; s3<
	g£1
 && (*s3!=',' || 
Ëv–
[
s3
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s3;

20871 
	g¬g3
 = 
compe
(++
s2
,
s3
,
d•th1
,0,
is_ü™iÿl
);

20872 
	g¬g4
 = 
compe
(++
s3
,
£1
,
d•th1
,0,
is_ü™iÿl
);

20873 
_cimg_mp_check_ty³
(
¬g2
,2,1,0);

20874 
_cimg_mp_check_ty³
(
¬g3
,3,1,0);

20876 
_cimg_mp_check_ty³
(
¬g4
,
is_¡h
?2:4,1,0);

20877 
	gpos
 = 
veùÜ
(9);

20878 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_rÙ3d
,
pos
,
¬g1
,
¬g2
,
¬g3
,
¬g4
).
move_to
(
code
);

20880 
_cimg_mp_check_ty³
(
¬g1
,1,1,0);

20881 
	gpos
 = 
veùÜ
(4);

20882 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_rÙ2d
,
pos
,
¬g1
).
move_to
(
code
);

20884 
_cimg_mp_»tuº
(
pos
);

20887 ià(!
	g¡d
::
¡ºcmp
(
ss
,"round(",6)) {

20888 
_cimg_mp_İ
("Function 'round()'");

20889 
	gs1
 = 
ss6
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

20890 
	g¬g1
 = 
compe
(
ss6
,
s1
,
d•th1
,0,
is_ü™iÿl
);

20891 
	g¬g2
 = 1;

20892 
	g¬g3
 = 0;

20893 ià(
	gs1
<
	g£1
) {

20894 
	gs2
 = 
s1
 + 1; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

20895 
	g¬g2
 = 
compe
(++
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

20896 
	g¬g3
 = 
s2
<
£1
?
compe
(++s2,£1,
d•th1
,0,
is_ü™iÿl
):0;

20898 
_cimg_mp_check_ty³
(
¬g2
,2,1,0);

20899 
_cimg_mp_check_ty³
(
¬g3
,3,1,0);

20900 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ3_vss
(
mp_round
,¬g1,
¬g2
,
¬g3
);

20901 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
è&& _cimg_mp_is_cÚ¡ªt(
¬g3
))

20902 
_cimg_mp_cÚ¡ªt
(
cimg
::
round
(
mem
[
¬g1
],mem[
¬g2
],()mem[
¬g3
]));

20903 
_cimg_mp_sÿÏr3
(
mp_round
,
¬g1
,
¬g2
,
¬g3
);

20906 #ifdeà
cimg_mp_func_run


20907 ià(!
	g¡d
::
¡ºcmp
(
ss
,"run(",4)) {

20908 
_cimg_mp_İ
("Function 'run()'");

20909 ià(!
	gis_ü™iÿl
è
	gis_·¿Î–izabË
 = 
çl£
;

20910 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_run
,0,0).
move_to
(
l_İcode
);

20911 
	gpos
 = 1;

20912 
	gs
 = 
ss4
; s<
	g£
; ++s) {

20913 
	gns
 = 
s
; ns<
	g£
 && (*ns!=',' || 
Ëv–
[
ns
 - 
ex´
.
_d©a
]!=
şev–1
) &&

20914 (*
ns
!=')' || 
Ëv–
[n - 
ex´
.
_d©a
]!=
şev–
)) ++ns;

20915 
	g¬g1
 = 
compe
(
s
,
ns
,
d•th1
,0,
is_ü™iÿl
);

20916 
	gCImg
<
	gulÚgT
>::
veùÜ
(
¬g1
,
_cimg_mp_size
×rg1)).
move_to
(
l_İcode
);

20917 
	gs
 = 
ns
;

20919 (
	gl_İcode
>'y').
move_to
(
İcode
);

20920 
	gpos
 = 
sÿÏr
();

20921 
	gİcode
[1] = 
pos
;

20922 
	gİcode
[2] = 
İcode
.
_height
;

20923 
	gİcode
.
move_to
(
code
);

20924 
_cimg_mp_»tuº
(
pos
);

20930 ià(*
ss1
=='(') {

20931 
_cimg_mp_İ
("Function 's()'");

20932 ià(*
	gss2
=='#') {

20933 
p1
 = 
compe
(
ss3
,
£1
,
d•th1
,0,
is_ü™iÿl
);

20934 
_cimg_mp_check_li¡
(
çl£
);

20935 } { ià(
	gss2
!=
£1
è; 
	gp1
 = ~0U; }

20936 
	gpos
 = 
sÿÏr
();

20937 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_image_s
,
pos
,
p1
).
move_to
(
code
);

20938 
_cimg_mp_»tuº
(
pos
);

20941 ià(!
	g¡d
::
¡ºcmp
(
ss
,"same(",5)) {

20942 
_cimg_mp_İ
("Function 'same()'");

20943 
	gs1
 = 
ss5
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

20944 
	g¬g1
 = 
compe
(
ss5
,
s1
,
d•th1
,0,
is_ü™iÿl
);

20945 
	gs2
 = 
s1
 + 1; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

20946 
	g¬g2
 = 
compe
(++
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

20947 
	g¬g3
 = 11;

20948 
	g¬g4
 = 1;

20949 ià(
	gs2
<
	g£1
) {

20950 
	gs3
 = 
s2
 + 1; s3<
	g£1
 && (*s3!=',' || 
Ëv–
[
s3
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s3;

20951 
	g¬g3
 = 
compe
(++
s2
,
s3
,
d•th1
,0,
is_ü™iÿl
);

20952 
_cimg_mp_check_ty³
(
¬g3
,3,1,0);

20953 
	g¬g4
 = 
s3
<
£1
?
compe
(++s3,£1,
d•th1
,0,
is_ü™iÿl
):1;

20955 
	gp1
 = 
_cimg_mp_size
(
¬g1
);

20956 
	gp2
 = 
_cimg_mp_size
(
¬g2
);

20957 
_cimg_mp_sÿÏr6
(
mp_veùÜ_eq
,
¬g1
,
p1
,
¬g2
,
p2
,
¬g3
,
¬g4
);

20960 ià(!
	g¡d
::
¡ºcmp
(
ss
,"shift(",6)) {

20961 
_cimg_mp_İ
("Function 'shift()'");

20962 
	gs1
 = 
ss6
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

20963 
	g¬g1
 = 
compe
(
ss6
,
s1
,
d•th1
,0,
is_ü™iÿl
);

20964 
	g¬g2
 = 1; 
	g¬g3
 = 0;

20965 ià(
	gs1
<
	g£1
) {

20966 
	gs0
 = ++
s1
; s0<
	g£1
 && (*s0!=',' || 
Ëv–
[
s0
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s0;

20967 
	g¬g2
 = 
compe
(
s1
,
s0
,
d•th1
,0,
is_ü™iÿl
);

20968 
	g¬g3
 = 
s0
<
£1
?
compe
(++s0,£1,
d•th1
,0,
is_ü™iÿl
):0;

20970 
_cimg_mp_check_ty³
(
¬g1
,1,2,0);

20971 
_cimg_mp_check_ty³
(
¬g2
,2,1,0);

20972 
_cimg_mp_check_ty³
(
¬g3
,3,1,0);

20973 
	gp1
 = 
_cimg_mp_size
(
¬g1
);

20974 
	gpos
 = 
veùÜ
(
p1
);

20975 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_shiá
,
pos
,
¬g1
,
p1
,
¬g2
,
¬g3
).
move_to
(
code
);

20976 
_cimg_mp_»tuº
(
pos
);

20979 ià(!
	g¡d
::
¡ºcmp
(
ss
,"sign(",5)) {

20980 
_cimg_mp_İ
("Function 'sign()'");

20981 
	g¬g1
 = 
compe
(
ss5
,
£1
,
d•th1
,0,
is_ü™iÿl
);

20982 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_sign
,arg1);

20983 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
cimg
::
sign
(
mem
[arg1]));

20984 
_cimg_mp_sÿÏr1
(
mp_sign
,
¬g1
);

20987 ià(!
	g¡d
::
¡ºcmp
(
ss
,"sin(",4)) {

20988 
_cimg_mp_İ
("Function 'sin()'");

20989 
	g¬g1
 = 
compe
(
ss4
,
£1
,
d•th1
,0,
is_ü™iÿl
);

20990 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_sš
,arg1);

20991 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
¡d
::
sš
(
mem
[arg1]));

20992 
_cimg_mp_sÿÏr1
(
mp_sš
,
¬g1
);

20995 ià(!
	g¡d
::
¡ºcmp
(
ss
,"sinc(",5)) {

20996 
_cimg_mp_İ
("Function 'sinc()'");

20997 
	g¬g1
 = 
compe
(
ss5
,
£1
,
d•th1
,0,
is_ü™iÿl
);

20998 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_sšc
,arg1);

20999 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
cimg
::
sšc
(
mem
[arg1]));

21000 
_cimg_mp_sÿÏr1
(
mp_sšc
,
¬g1
);

21003 ià(!
	g¡d
::
¡ºcmp
(
ss
,"sinh(",5)) {

21004 
_cimg_mp_İ
("Function 'sinh()'");

21005 
	g¬g1
 = 
compe
(
ss5
,
£1
,
d•th1
,0,
is_ü™iÿl
);

21006 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_sšh
,arg1);

21007 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
¡d
::
sšh
(
mem
[arg1]));

21008 
_cimg_mp_sÿÏr1
(
mp_sšh
,
¬g1
);

21011 ià(!
	g¡d
::
¡ºcmp
(
ss
,"size(",5)) {

21012 
_cimg_mp_İ
("Function 'size()'");

21013 
	g¬g1
 = 
compe
(
ss5
,
£1
,
d•th1
,0,
is_ü™iÿl
);

21014 
_cimg_mp_cÚ¡ªt
(
_cimg_mp_is_sÿÏr
(
¬g1
)?0:
_cimg_mp_size
(arg1));

21017 ià(!
	g¡d
::
¡ºcmp
(
ss
,"solve(",6)) {

21018 
_cimg_mp_İ
("Function 'solve()'");

21019 
	gs1
 = 
ss6
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

21020 
	g¬g1
 = 
compe
(
ss6
,
s1
,
d•th1
,0,
is_ü™iÿl
);

21021 
	gs2
 = 
s1
 + 1; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

21022 
	g¬g2
 = 
compe
(++
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

21023 
	g¬g3
 = 
s2
<
£1
?
compe
(++s2,£1,
d•th1
,0,
is_ü™iÿl
):1;

21024 
_cimg_mp_check_ty³
(
¬g1
,1,2,0);

21025 
_cimg_mp_check_ty³
(
¬g2
,2,2,0);

21026 
_cimg_mp_check_cÚ¡ªt
(
¬g3
,3,3);

21027 
	gp1
 = 
_cimg_mp_size
(
¬g1
);

21028 
	gp2
 = 
_cimg_mp_size
(
¬g2
);

21029 
	gp3
 = ()
mem
[
¬g3
];

21030 
	g¬g5
 = 
p2
/
p3
;

21031 
	g¬g4
 = 
p1
/
¬g5
;

21032 ià(
¬g4
*
	g¬g5
!=
p1
 || 
¬g5
*
p3
!=
p2
) {

21033 
_cimg_mp_¡»¼
;

21034 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

21038 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

21039 
s_ty³
(
¬g1
).
_d©a
,s_ty³(
¬g2
)._d©a,
p3
,

21040 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

21042 
	gpos
 = 
veùÜ
(
¬g4
*
p3
);

21043 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_sŞve
,
pos
,
¬g1
,
¬g2
,
¬g4
,
¬g5
,
p3
).
move_to
(
code
);

21044 
_cimg_mp_»tuº
(
pos
);

21047 ià(!
	g¡d
::
¡ºcmp
(
ss
,"sort(",5)) {

21048 
_cimg_mp_İ
("Function 'sort()'");

21049 
	gs1
 = 
ss5
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

21050 
	g¬g1
 = 
compe
(
ss5
,
s1
,
d•th1
,0,
is_ü™iÿl
);

21051 
	g¬g2
 = 
¬g4
 = 1; 
	g¬g3
 = ~0U;

21052 ià(
	gs1
<
	g£1
) {

21053 
	gs0
 = ++
s1
; s0<
	g£1
 && (*s0!=',' || 
Ëv–
[
s0
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s0;

21054 
	g¬g2
 = 
compe
(
s1
,
s0
,
d•th1
,0,
is_ü™iÿl
);

21055 ià(
	gs0
<
	g£1
) {

21056 
	gs1
 = ++
s0
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

21057 
	g¬g3
 = 
compe
(
s0
,
s1
,
d•th1
,0,
is_ü™iÿl
);

21058 
	g¬g4
 = 
s1
<
£1
?
compe
(++s1,£1,
d•th1
,0,
is_ü™iÿl
):1;

21061 
_cimg_mp_check_ty³
(
¬g1
,1,2,0);

21062 
_cimg_mp_check_ty³
(
¬g2
,2,1,0);

21063 ià(
	g¬g3
!=~0Uè
_cimg_mp_check_ty³
(
¬g3
,3,1,0);

21064 
_cimg_mp_check_ty³
(
¬g4
,4,1,0);

21065 
	gp1
 = 
_cimg_mp_size
(
¬g1
);

21066 
	gpos
 = 
veùÜ
(
p1
);

21067 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_sÜt
,
pos
,
¬g1
,
p1
,
¬g2
,
¬g3
,
¬g4
).
move_to
(
code
);

21068 
_cimg_mp_»tuº
(
pos
);

21071 ià(!
	g¡d
::
¡ºcmp
(
ss
,"sqr(",4)) {

21072 
_cimg_mp_İ
("Function 'sqr()'");

21073 
	g¬g1
 = 
compe
(
ss4
,
£1
,
d•th1
,0,
is_ü™iÿl
);

21074 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_sqr
,arg1);

21075 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
cimg
::
sqr
(
mem
[arg1]));

21076 
_cimg_mp_sÿÏr1
(
mp_sqr
,
¬g1
);

21079 ià(!
	g¡d
::
¡ºcmp
(
ss
,"sqrt(",5)) {

21080 
_cimg_mp_İ
("Function 'sqrt()'");

21081 
	g¬g1
 = 
compe
(
ss5
,
£1
,
d•th1
,0,
is_ü™iÿl
);

21082 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_sq¹
,arg1);

21083 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
¡d
::
sq¹
(
mem
[arg1]));

21084 
_cimg_mp_sÿÏr1
(
mp_sq¹
,
¬g1
);

21087 ià(!
	g¡d
::
¡ºcmp
(
ss
,"srand(",6)) {

21088 
_cimg_mp_İ
("Function 'srand()'");

21089 
	g¬g1
 = 
ss6
<
£1
?
compe
(ss6,£1,
d•th1
,0,
is_ü™iÿl
):~0U;

21090 ià(
	g¬g1
!=~0Uè{ 
_cimg_mp_check_ty³
(
¬g1
,1,1,0); 
_cimg_mp_sÿÏr1
(
mp_¤ªd
,arg1); }

21091 
_cimg_mp_sÿÏr0
(
mp_¤ªd0
);

21094 ià(!
	g¡d
::
¡ºcmp
(
ss
,"stats(",6)) {

21095 
_cimg_mp_İ
("Function 'stats()'");

21096 ià(*
	gss6
=='#') {

21097 
p1
 = 
compe
(
ss7
,
£1
,
d•th1
,0,
is_ü™iÿl
);

21098 
_cimg_mp_check_li¡
(
çl£
);

21099 } { ià(
	gss6
!=
£1
è; 
	gp1
 = ~0U; }

21100 
	gpos
 = 
veùÜ
(14);

21101 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_image_¡©s
,
pos
,
p1
).
move_to
(
code
);

21102 
_cimg_mp_»tuº
(
pos
);

21105 #ifdeà
cimg_mp_func_¡Üe


21106 ià(!
	g¡d
::
¡ºcmp
(
ss
,"store(",6)) {

21107 
_cimg_mp_İ
("Function 'store()'");

21108 
	gs1
 = 
ss6
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

21109 
	g¬g1
 = 
compe
(
ss6
,
s1
,
d•th1
,0,
is_ü™iÿl
);

21110 
	gp1
 = 
_cimg_mp_size
(
¬g1
);

21111 
	gp3
 = 
¡d
::
max
(1U,
p1
);

21112 
	gs2
 = 
s1
 + 1; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

21113 
	g¬g2
 = 
compe
(++
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

21114 
_cimg_mp_check_ty³
(
¬g2
,2,2,0);

21115 
	gp2
 = 
_cimg_mp_size
(
¬g2
);

21116 
	g¬g3
 = 
¬g5
 = 
¬g6
 = 1U; 
	g¬g4
 = ~0U; 
	gpos
 = 0;

21117 ià(
	gs2
<
	g£1
) {

21118 
	gs1
 = 
s2
 + 1; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

21119 
	g¬g3
 = 
compe
(++
s2
,
s1
,
d•th1
,0,
is_ü™iÿl
);

21120 
_cimg_mp_check_ty³
(
¬g3
,3,1,0);

21121 
	g¬g4
 = 
¬g5
 = 
¬g6
 = 1U;

21122 ià(
	gs1
<
	g£1
) {

21123 
	gs2
 = 
s1
 + 1; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

21124 
	g¬g4
 = 
compe
(++
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

21125 
_cimg_mp_check_ty³
(
¬g4
,4,1,0);

21126 ià(
	gs2
<
	g£1
) {

21127 
	gs1
 = 
s2
 + 1; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

21128 
	g¬g5
 = 
compe
(++
s2
,
s1
,
d•th1
,0,
is_ü™iÿl
);

21129 
_cimg_mp_check_ty³
(
¬g5
,5,1,0);

21130 ià(
	gs1
<
	g£1
) {

21131 
	gs2
 = 
s1
 + 1; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

21132 
	g¬g6
 = 
compe
(++
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

21133 
	gpos
 = 
s2
<
£1
?
compe
(++s2,£1,
d•th1
,0,
is_ü™iÿl
):0;

21134 
_cimg_mp_check_ty³
(
¬g6
,6,1,0);

21135 
_cimg_mp_check_ty³
(
pos
,7,1,0);

21140 ià(
	g¬g4
==~0Uè
¬g4
 = 
cÚ¡ªt
(
p3
);

21142 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g3
è&& _cimg_mp_is_cÚ¡ªt(
¬g4
) &&

21143 
_cimg_mp_is_cÚ¡ªt
(
¬g5
è&& _cimg_mp_is_cÚ¡ªt(
¬g6
)) {

21145 
	gv¬g3
 = ()
mem
[
¬g3
],

21146 
	gv¬g4
 = ()
mem
[
¬g4
],

21147 
	gv¬g5
 = ()
mem
[
¬g5
],

21148 
	gv¬g6
 = ()
mem
[
¬g6
];

21149 ià(
v¬g3
*
v¬g4
*
v¬g5
*
	gv¬g6
>
	gp3
) {

21150 
	g_cimg_mp_¡»¼
;

21151 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

21155 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

21156 
v¬g3
,
v¬g4
,
v¬g5
,
v¬g6
,
p3
,

21157 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

21160 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_¡Üe
,
_cimg_mp_¦Ù_Çn
,
¬g1
,
p1
,
¬g2
,
p2
,

21161 
¬g3
,
¬g4
,
¬g5
,
¬g6
,
pos
).
move_to
(
code
);

21162 
_cimg_mp_»tuº_Çn
();

21166 ià(!
	g¡d
::
¡ºcmp
(
ss
,"stov(",5)) {

21167 
_cimg_mp_İ
("Function 'stov()'");

21168 
	gs1
 = 
ss5
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

21169 
	g¬g1
 = 
compe
(
ss5
,
s1
,
d•th1
,0,
is_ü™iÿl
);

21170 
	g¬g2
 = 
¬g3
 = 0;

21171 ià(
	gs1
<
	g£1
) {

21172 
	gs2
 = 
s1
 + 1; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

21173 
	g¬g2
 = 
compe
(++
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

21174 
	g¬g3
 = 
s2
<
£1
?
compe
(++s2,£1,
d•th1
,0,
is_ü™iÿl
):0;

21176 
_cimg_mp_check_ty³
(
¬g2
,2,1,0);

21177 
_cimg_mp_check_ty³
(
¬g3
,3,1,0);

21178 
	gp1
 = 
_cimg_mp_size
(
¬g1
);

21179 
	gpos
 = 
sÿÏr
();

21180 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_¡ov
,
pos
,
¬g1
,
p1
,
¬g2
,
¬g3
).
move_to
(
code
);

21181 
_cimg_mp_»tuº
(
pos
);

21184 ià(!
	g¡d
::
¡ºcmp
(
ss
,"string(",7)) {

21185 
_cimg_mp_İ
("Function 'string()'");

21186 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_¡ršg
,0,0,0).
move_to
(
l_İcode
);

21188 ià(*
	gss7
=='#') {

21189 
s0
 = 
ss8
; 
	gs0
<
	g£1
 && (*s0!=',' || 
Ëv–
[s0 - 
ex´
.
_d©a
]!=
şev–1
)) ++s0;

21190 
	g¬g1
 = 
compe
(
ss8
,
s0
++,
d•th1
,0,
is_ü™iÿl
);

21191 
_cimg_mp_check_cÚ¡ªt
(
¬g1
,1,3);

21192 
	g¬g1
 = ()
mem
[
¬g1
];

21193 
	gs
 = 
s0
;

21194 } { 
	g¬g1
=~0U; 
	gs
 = 
ss7
; }

21196 
	gp1
 = 0;

21197 ; 
	gs
<
	g£
; ++s) {

21198 
	gns
 = 
s
; ns<
	g£
 && (*ns!=',' || 
Ëv–
[
ns
 - 
ex´
.
_d©a
]!=
şev–1
) &&

21199 (*
ns
!=')' || 
Ëv–
[n - 
ex´
.
_d©a
]!=
şev–
)) ++ns;

21200 
	g¬g2
 = 
compe
(
s
,
ns
,
d•th1
,0,
is_ü™iÿl
);

21201 
	gp2
 = 
_cimg_mp_size
(
¬g2
);

21202 ià(
	gp2
è
	gp1
+=
p2
;

21204 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g2
)è
	gp1
+=
cimg_¢´štf
(
v¬ŸbË_Çme
.
assign
(24),24,"%.17g",
mem
[arg2]);

21205 
	gp1
+=23;

21207 
	gCImg
<
	gulÚgT
>::
veùÜ
(
¬g2
,
p2
).
move_to
(
l_İcode
);

21208 
	gs
 = 
ns
;

21210 ià(
	g¬g1
==~0Uè
¬g1
 = 
p1
;

21211 
	gpos
 = 
veùÜ
(
¬g1
,0);

21212 (
	gl_İcode
>'y').
move_to
(
İcode
);

21213 
	gİcode
[1] = 
pos
;

21214 
	gİcode
[2] = 
¬g1
;

21215 
	gİcode
[3] = 
İcode
.
_height
;

21216 
	gİcode
.
move_to
(
code
);

21217 
_cimg_mp_»tuº
(
pos
);

21220 ià(!
	g¡d
::
¡ºcmp
(
ss
,"svd(",4)) {

21221 
_cimg_mp_İ
("Function 'svd()'");

21222 
	gs1
 = 
ss4
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

21223 
	g¬g1
 = 
compe
(
ss4
,
s1
,
d•th1
,0,
is_ü™iÿl
);

21224 
	g¬g2
 = 
s1
<
£1
?
compe
(++s1,£1,
d•th1
,0,
is_ü™iÿl
):1;

21225 
_cimg_mp_check_ty³
(
¬g1
,1,2,0);

21226 
_cimg_mp_check_cÚ¡ªt
(
¬g2
,2,3);

21227 
	gp1
 = 
_cimg_mp_size
(
¬g1
);

21228 
	gp2
 = ()
mem
[
¬g2
];

21229 
	gp3
 = 
p1
/
p2
;

21230 ià(
p3
*
	gp2
!=
p1
) {

21231 
_cimg_mp_¡»¼
;

21232 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

21236 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

21237 
s_ty³
(
¬g1
).
_d©a
,
p2
,

21238 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

21240 
	gpos
 = 
veùÜ
(
p1
 + 
p2
 +…2*p2);

21241 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_m©rix_svd
,
pos
,
¬g1
,
p2
,
p3
).
move_to
(
code
);

21242 
_cimg_mp_»tuº
(
pos
);

21245 ià(!
	g¡d
::
¡ºcmp
(
ss
,"swap(",5)) {

21246 
_cimg_mp_İ
("Function 'swap()'");

21247 
	gs1
 = 
ss5
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

21248 
	g»f
.
assign
(14);

21249 
	g¬g1
 = 
compe
(
ss5
,
s1
,
d•th1
,
»f
,
is_ü™iÿl
);

21250 
	g¬g2
 = 
compe
(++
s1
,
£1
,
d•th1
,
»f
.
_d©a
 + 7,
is_ü™iÿl
);

21251 
	gp1
 = 
_cimg_mp_size
(
¬g1
);

21252 
_cimg_mp_check_ty³
(
¬g2
,2,
p1
?2:1,p1);

21253 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è|| _cimg_mp_is_cÚ¡ªt(
¬g2
)) {

21254 
	g_cimg_mp_¡»¼
;

21255 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

21258 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

21259 
_cimg_mp_is_cÚ¡ªt
(
¬g1
)?"First":"Second",

21260 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

21262 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_sw­
,
¬g1
,
¬g2
,
p1
).
move_to
(
code
);

21265 cÚ¡ *
	g_»f
 = 
»f
;

21266 
	gis_¡h
 = 
Œue
;

21268 *
	g_»f
) {

21270 
¬g3
 = 
_»f
[1];

21271 
	g¬g4
 = 
_»f
[2];

21272 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_veùÜ_£t_off
,
¬g1
,
¬g3
,(ulÚgT)
_cimg_mp_size
×rg3),
¬g4
).

21273 
move_to
(
code
);

21276 ià(!
is_ü™iÿl
è
is_·¿Î–izabË
 = 
çl£
;

21277 
	gp1
 = 
_»f
[1];

21278 
	gis_»Ïtive
 = (
boŞ
)
_»f
[2];

21279 
	g¬g3
 = 
_»f
[3];

21280 ià(
	gp1
!=~0U) {

21281 ià(
li¡out
)

21282 
CImg
<
ulÚgT
>::
veùÜ
((ulÚgT)(
is_»Ïtive
?
mp_li¡_£t_joff
:
mp_li¡_£t_ioff
),

21283 
¬g1
,
p1
,
¬g3
).
move_to
(
code
);

21285 ià(
	gimgout
)

21286 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_£t_joff
:
mp_£t_ioff
),

21287 
¬g1
,
¬g3
).
move_to
(
code
);

21291 ià(!
is_ü™iÿl
è
is_·¿Î–izabË
 = 
çl£
;

21292 
	gp1
 = 
_»f
[1];

21293 
	gis_»Ïtive
 = (
boŞ
)
_»f
[2];

21294 
	g¬g3
 = 
_»f
[3];

21295 
	g¬g4
 = 
_»f
[4];

21296 
	g¬g5
 = 
_»f
[5];

21297 
	g¬g6
 = 
_»f
[6];

21298 ià(
	gp1
!=~0U) {

21299 ià(
li¡out
)

21300 
CImg
<
ulÚgT
>::
veùÜ
((ulÚgT)(
is_»Ïtive
?
mp_li¡_£t_jxyzc
:
mp_li¡_£t_ixyzc
),

21301 
¬g1
,
p1
,
¬g3
,
¬g4
,
¬g5
,
¬g6
).
move_to
(
code
);

21303 ià(
	gimgout
)

21304 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_£t_jxyzc
:
mp_£t_ixyzc
),

21305 
¬g1
,
¬g3
,
¬g4
,
¬g5
,
¬g6
).
move_to
(
code
);

21309 ià(!
is_ü™iÿl
è
is_·¿Î–izabË
 = 
çl£
;

21310 
	gp1
 = 
_»f
[1];

21311 
	gis_»Ïtive
 = (
boŞ
)
_»f
[2];

21312 
	g¬g3
 = 
_»f
[3];

21313 ià(
	gp1
!=~0U) {

21314 ià(
li¡out
) {

21315 ià(
_cimg_mp_is_sÿÏr
(
¬g1
))

21316 
CImg
<
ulÚgT
>::
veùÜ
((ulÚgT)(
is_»Ïtive
?
mp_li¡_£t_Joff_s
:
mp_li¡_£t_Ioff_s
),

21317 
¬g1
,
p1
,
¬g3
).
move_to
(
code
);

21319 
_cimg_mp_check_cÚ¡ªt_šdex
(
p1
);

21320 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_li¡_£t_Joff_v
:
mp_li¡_£t_Ioff_v
),

21321 
¬g1
,
p1
,
¬g3
,
_cimg_mp_size
×rg1)).
move_to
(
code
);

21325 ià(
	gimgout
) {

21326 ià(
_cimg_mp_is_sÿÏr
(
¬g1
))

21327 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_£t_Joff_s
:
mp_£t_Ioff_s
),

21328 
¬g1
,
¬g3
).
move_to
(
code
);

21330 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_£t_Joff_v
:
mp_£t_Ioff_v
),

21331 
¬g1
,
¬g3
,
_cimg_mp_size
×rg1)).
move_to
(
code
);

21336 ià(!
is_ü™iÿl
è
is_·¿Î–izabË
 = 
çl£
;

21337 
	gp1
 = 
_»f
[1];

21338 
	gis_»Ïtive
 = (
boŞ
)
_»f
[2];

21339 
	g¬g3
 = 
_»f
[3];

21340 
	g¬g4
 = 
_»f
[4];

21341 
	g¬g5
 = 
_»f
[5];

21342 ià(
	gp1
!=~0U) {

21343 ià(
li¡out
) {

21344 ià(
_cimg_mp_is_sÿÏr
(
¬g1
))

21345 
CImg
<
ulÚgT
>::
veùÜ
((ulÚgT)(
is_»Ïtive
?
mp_li¡_£t_Jxyz_s
:
mp_li¡_£t_Ixyz_s
),

21346 
¬g1
,
p1
,
¬g3
,
¬g4
,
¬g5
).
move_to
(
code
);

21348 
_cimg_mp_check_cÚ¡ªt_šdex
(
p1
);

21349 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_li¡_£t_Jxyz_v
:
mp_li¡_£t_Ixyz_v
),

21350 
¬g1
,
p1
,
¬g3
,
¬g4
,
¬g5
,
_cimg_mp_size
×rg1)).
move_to
(
code
);

21354 ià(
	gimgout
) {

21355 ià(
_cimg_mp_is_sÿÏr
(
¬g1
))

21356 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_£t_Jxyz_s
:
mp_£t_Ixyz_s
),

21357 
¬g1
,
¬g3
,
¬g4
,
¬g5
).
move_to
(
code
);

21359 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)(
is_»Ïtive
?
mp_£t_Jxyz_v
:
mp_£t_Ixyz_v
),

21360 
¬g1
,
¬g3
,
¬g4
,
¬g5
,
_cimg_mp_size
×rg1)).
move_to
(
code
);

21366 
	g_»f
+=7;

21367 
	g¬g1
 = 
¬g2
;

21368 
	gis_¡h
 = !
is_¡h
;

21369 } !
	gis_¡h
);

21371 ià(
	gp_»f
è
	g¡d
::
memıy
(
p_»f
,
»f
,
siz_»f
);

21372 
_cimg_mp_»tuº
(
¬g1
);

21377 ià(!
¡d
::
¡ºcmp
(
ss
,"tan(",4)) {

21378 
_cimg_mp_İ
("Function 'tan()'");

21379 
	g¬g1
 = 
compe
(
ss4
,
£1
,
d•th1
,0,
is_ü™iÿl
);

21380 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_n
,arg1);

21381 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
¡d
::
n
(
mem
[arg1]));

21382 
_cimg_mp_sÿÏr1
(
mp_n
,
¬g1
);

21385 ià(!
	g¡d
::
¡ºcmp
(
ss
,"tanh(",5)) {

21386 
_cimg_mp_İ
("Function 'tanh()'");

21387 
	g¬g1
 = 
compe
(
ss5
,
£1
,
d•th1
,0,
is_ü™iÿl
);

21388 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_nh
,arg1);

21389 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
¡d
::
nh
(
mem
[arg1]));

21390 
_cimg_mp_sÿÏr1
(
mp_nh
,
¬g1
);

21393 ià(!
	g¡d
::
¡ºcmp
(
ss
,"trace(",6)) {

21394 
_cimg_mp_İ
("Function 'trace()'");

21395 
	g¬g1
 = 
compe
(
ss6
,
£1
,
d•th1
,0,
is_ü™iÿl
);

21396 
_cimg_mp_check_m©rix_squ¬e
(
¬g1
,1);

21397 
	gp1
 = ()
cimg
::
round
(
¡d
::
sq¹
(()
_cimg_mp_size
(
¬g1
)));

21398 
_cimg_mp_sÿÏr2
(
mp_Œaû
,
¬g1
,
p1
);

21401 ià(!
	g¡d
::
¡ºcmp
(
ss
,"transpose(",10)) {

21402 
_cimg_mp_İ
("Function 'transpose()'");

21403 
	gs1
 = 
ss
 + 10; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

21404 
	g¬g1
 = 
compe
(
ss
 + 10,
s1
,
d•th1
,0,
is_ü™iÿl
);

21405 
	g¬g2
 = 
compe
(++
s1
,
£1
,
d•th1
,0,
is_ü™iÿl
);

21406 
_cimg_mp_check_ty³
(
¬g1
,1,2,0);

21407 
_cimg_mp_check_cÚ¡ªt
(
¬g2
,2,3);

21408 
	gp1
 = 
_cimg_mp_size
(
¬g1
);

21409 
	gp2
 = ()
mem
[
¬g2
];

21410 
	gp3
 = 
p1
/
p2
;

21411 ià(
p2
*
	gp3
!=
p1
) {

21412 
_cimg_mp_¡»¼
;

21413 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

21416 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

21417 
s_ty³
(
¬g1
).
_d©a
,
p2
,

21418 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

21420 
	gpos
 = 
veùÜ
(
p3
*
p2
);

21421 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_Œª¥o£
,
pos
,
¬g1
,
p2
,
p3
).
move_to
(
code
);

21422 
_cimg_mp_»tuº
(
pos
);

21427 ià(*
ss1
=='(') {

21428 
_cimg_mp_İ
("Function 'u()'");

21429 ià(*
	gss2
==')'è
_cimg_mp_sÿÏr2
(
mp_u
,0,1);

21430 
	gs1
 = 
ss2
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

21431 
	g¬g1
 = 
compe
(
ss2
,
s1
,
d•th1
,0,
is_ü™iÿl
);

21432 ià(
	gs1
<
	g£1
è
	g¬g2
 = 
compe
(++
s1
,
£1
,
d•th1
,0,
is_ü™iÿl
); {‡rg2 = 
¬g1
; 
	g¬g1
 = 0; }

21433 
_cimg_mp_check_ty³
(
¬g2
,2,3,
_cimg_mp_size
(
¬g1
));

21434 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& _cimg_mp_is_veùÜ(
¬g2
)è
_cimg_mp_veùÜ2_vv
(
mp_u
,arg1,arg2);

21435 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& 
_cimg_mp_is_sÿÏr
(
¬g2
)è
_cimg_mp_veùÜ2_vs
(
mp_u
,arg1,arg2);

21436 ià(
_cimg_mp_is_sÿÏr
(
¬g1
è&& 
_cimg_mp_is_veùÜ
(
¬g2
)è
_cimg_mp_veùÜ2_sv
(
mp_u
,arg1,arg2);

21437 
_cimg_mp_sÿÏr2
(
mp_u
,
¬g1
,
¬g2
);

21440 ià(!
	g¡d
::
¡ºcmp
(
ss
,"ui2f(",5)) {

21441 
_cimg_mp_İ
("Function 'ui2f()'");

21442 
	g¬g1
 = 
compe
(
ss5
,
£1
,
d•th1
,0,
is_ü™iÿl
);

21443 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_ui2f
,arg1);

21444 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(()
cimg
::
ušt2æßt
(()
mem
[arg1]));

21445 
_cimg_mp_sÿÏr1
(
mp_ui2f
,
¬g1
);

21448 ià(!
	g¡d
::
¡ºcmp
(
ss
,"unref(",6)) {

21449 
_cimg_mp_İ
("Function 'unref()'");

21450 
	g¬g1
=~0U;

21451 
	gs0
 = 
ss6
; s0<
	g£1
; s0 = 
s1
) {

21452 ià(
s0
>
ss6
 && *s0==',') ++s0;

21453 
	gs1
 = 
s0
; s1<
	g£1
 && *s1!=','è++
s1
;

21454 
	gc1
 = *
s1
;

21455 ià(
	gs1
>
	gs0
) {

21456 *
	gs1
 = 0;

21457 
g‘_v¬ŸbË_pos
(
s0
,
¬g1
,
¬g2
);

21458 ià(
	g¬g2
!=~0Uè
»£rved_Ïb–
[
¬g2
] = ~0U;

21459 ià(
	g¬g1
!=~0U) {

21460 
v¬ŸbË_def
.
»move
(
¬g1
);

21461 ià(
	g¬g1
<
	gv¬ŸbË_pos
.
	g_width
 - 1)

21462 
	g¡d
::
memmove
(
v¬ŸbË_pos
.
_d©a
 + 
¬g1
,variable_pos._data +‡rg1 + 1,

21463 (
uštT
)*(
v¬ŸbË_pos
.
_width
 - 
¬g1
 - 1));

21464 --
	gv¬ŸbË_pos
.
	g_width
;

21466 *
	gs1
 = 
c1
;

21467 } 
compe
(
s0
,
s1
,
d•th1
,0,
is_ü™iÿl
);

21469 
_cimg_mp_»tuº
(
¬g1
!=~0U?¬g1:
_cimg_mp_¦Ù_Çn
);

21472 ià(!
	g¡d
::
¡ºcmp
(
ss
,"uppercase(",10)) {

21473 
_cimg_mp_İ
("Function 'uppercase()'");

21474 
	g¬g1
 = 
compe
(
ss
 + 10,
£1
,
d•th1
,0,
is_ü™iÿl
);

21475 ià(
_cimg_mp_is_veùÜ
(
¬g1
)è
_cimg_mp_veùÜ1_v
(
mp_uµ”ÿ£
,arg1);

21476 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)è
_cimg_mp_cÚ¡ªt
(
cimg
::
uµ”ÿ£
(
mem
[arg1]));

21477 
_cimg_mp_sÿÏr1
(
mp_uµ”ÿ£
,
¬g1
);

21482 ià((
cimg_ssÿnf
(
ss
,"veùÜ%u%c",&(
¬g1
=~0U),&
£p
)==2 && sep=='(' &&‡rg1>0) ||

21483 !
¡d
::
¡ºcmp
(
ss
,"vector(",7) ||

21484 (!
	g¡d
::
¡ºcmp
(
ss
,"veùÜ",6è&& 
	gss7
<
	g£1
 && (
	gs
=
¡d
::
¡rchr
(
ss7
,'('))!=0)) {

21485 
_cimg_mp_İ
("Function 'vector()'");

21486 
	g¬g2
 = 0;

21487 ià(
	g¬g1
==~0U && *
ss6
!='(') {

21488 
¬g1
 = 
compe
(
ss6
,
s
++,
d•th1
,0,
is_ü™iÿl
);

21489 
_cimg_mp_check_cÚ¡ªt
(
¬g1
,0,3);

21490 
	g¬g1
 = ()
mem
[
¬g1
];

21491 } 
	gs
 = 
¡d
::
¡rchr
(
ss6
,'(') + 1;

21493 ià(
	g¬g1
==~0U && *
s
=='#') {

21494 
s0
 = ++
s
; 
	gs0
<
	g£1
 && (*s0!=',' || 
Ëv–
[s0 - 
ex´
.
_d©a
]!=
şev–1
)) ++s0;

21495 
	g¬g1
 = 
compe
(
s
,
s0
++,
d•th1
,0,
is_ü™iÿl
);

21496 
_cimg_mp_check_cÚ¡ªt
(
¬g1
,1,3);

21497 
	g¬g1
 = ()
mem
[
¬g1
];

21498 
	gs
 = 
s0
;

21501 ià(
	gs
<
	g£1
 || 
	g¬g1
==~0Uè ; s<
	g£
; ++s) {

21502 
	gns
 = 
s
; ns<
	g£
 && (*ns!=',' || 
Ëv–
[
ns
 - 
ex´
.
_d©a
]!=
şev–1
) &&

21503 (*
ns
!=')' || 
Ëv–
[n - 
ex´
.
_d©a
]!=
şev–
)) ++ns;

21504 
	g¬g3
 = 
compe
(
s
,
ns
,
d•th1
,0,
is_ü™iÿl
);

21505 ià(
_cimg_mp_is_veùÜ
(
¬g3
)) {

21506 
	g¬g4
 = 
_cimg_mp_size
(
¬g3
);

21507 
	gCImg
<
	gulÚgT
>::
£qu’û
(
¬g4
,
¬g3
 + 1,¬g3 +‡rg4).
move_to
(
l_İcode
);

21508 
	g¬g2
+=
¬g4
;

21509 } { 
	gCImg
<
	gulÚgT
>::
veùÜ
(
¬g3
).
move_to
(
l_İcode
); ++
	g¬g2
; }

21510 
	gs
 = 
ns
;

21512 ià(
	g¬g1
==~0Uè
¬g1
 = 
¬g2
;

21513 ià(!
	g¬g1
è
_cimg_mp_»tuº
(0);

21514 
	gpos
 = 
veùÜ
(
¬g1
);

21515 
	gl_İcode
.
š£¹
(
CImg
<
ulÚgT
>::
veùÜ
((ulÚgT)
mp_veùÜ_š™
,
pos
,0,
¬g1
),0);

21516 (
	gl_İcode
>'y').
move_to
(
İcode
);

21517 
	gİcode
[2] = 
İcode
.
_height
;

21518 
	gİcode
.
move_to
(
code
);

21519 
_cimg_mp_»tuº
(
pos
);

21522 ià(!
	g¡d
::
¡ºcmp
(
ss
,"vmax(",5) || !std::strncmp(ss,"vmin(",5) ||

21523 !
	g¡d
::
¡ºcmp
(
ss
,"vmaxabs(",8) || !std::strncmp(ss,"vminabs(",8) ||

21524 !
	g¡d
::
¡ºcmp
(
ss
,"vmed(",5) || !std::strncmp(ss,"vkth(",5) ||

21525 !
	g¡d
::
¡ºcmp
(
ss
,"vsum(",5) || !std::strncmp(ss,"vavg(",5) ||

21526 !
	g¡d
::
¡ºcmp
(
ss
,"vstd(",5) || !std::strncmp(ss,"vvar(",5) ||

21527 !
	g¡d
::
¡ºcmp
(
ss
,"vprod(",6) ||

21528 !
	g¡d
::
¡ºcmp
(
ss
,"vargmin(",8) || !std::strncmp(ss,"vargmax(",8) ||

21529 !
	g¡d
::
¡ºcmp
(
ss
,"vargminabs(",11) || !std::strncmp(ss,"vargmaxabs(",11) ||

21530 !
	g¡d
::
¡ºcmp
(
ss
,"vargkth(",8)) {

21531 
_cimg_mp_İ
(
ss
[1]=='a'?(ss[2]=='v'?"Function 'vavg()'":

21532 
ss
[4]=='k'?"Function 'vargkth()'":

21533 
ss
[5]=='i' && ss[7]=='('?"Function 'vargmin()'":

21534 
ss
[5]=='i'?"Function vargminabs()'":

21535 
ss
[7]=='('?"Function 'vargmax()'":

21537 
ss
[1]=='s'?(ss[2]=='u'?"Function 'vsum()'":"Function 'vstd()'"):

21538 
ss
[1]=='k'?"Function 'vkth()'":

21539 
ss
[1]=='p'?"Function 'vprod()'":

21540 
ss
[1]=='v'?"Function 'vvar()'":

21541 
ss
[2]=='i'?(ss[4]=='('?"Function 'vmin()'":

21543 
ss
[2]=='a'?(ss[4]=='('?"Function 'vmax()'":

21546 
	gİ
 = 
ss
[1]=='a'?(ss[2]=='v'?
mp_vavg
:

21547 
ss
[4]=='k'?
mp_v¬gkth
:

21548 
ss
[5]=='i' && ss[7]=='('?
mp_v¬gmš
:

21549 
ss
[5]=='i'?
mp_v¬gmšabs
:

21550 
ss
[7]=='('?
mp_v¬gmax
:
mp_v¬gmaxabs
):

21551 
ss
[1]=='s'?(ss[2]=='u'?
mp_vsum
:
mp_v¡d
):

21552 
ss
[1]=='k'?
mp_vkth
:

21553 
ss
[1]=='p'?
mp_v´od
:

21554 
ss
[1]=='v'?
mp_vv¬
:

21555 
ss
[2]=='i'?(ss[4]=='('?
mp_vmš
:
mp_vmšabs
):

21556 
ss
[2]=='a'?(ss[4]=='('?
mp_vmax
:
mp_vmaxabs
):

21557 
mp_vmedŸn
;

21558 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
İ
,0,0,0).
move_to
(
l_İcode
);

21559 
	gp1
 = ~0U;

21560 
	gp3
 = 1;

21561 
	gs
 = 
¡d
::
¡rchr
(
ss
,'('è+ 1; s<
	g£
; ++s) {

21562 
	gns
 = 
s
; ns<
	g£
 && (*ns!=',' || 
Ëv–
[
ns
 - 
ex´
.
_d©a
]!=
şev–1
) &&

21563 (*
ns
!=')' || 
Ëv–
[n - 
ex´
.
_d©a
]!=
şev–
)) ++ns;

21564 
	g¬g2
 = 
compe
(
s
,
ns
,
d•th1
,0,
is_ü™iÿl
);

21565 
	gp2
 = 
_cimg_mp_size
(
¬g2
);

21566 ià(
	gp1
==~0Uè{ ià(
_cimg_mp_is_veùÜ
(
¬g2
)è
p1
 = 
p2
; }

21567 
_cimg_mp_check_ty³
(
¬g2
,
p3
,3,
p1
);

21568 
	gCImg
<
	gulÚgT
>::
veùÜ
(
¬g2
,
p2
).
move_to
(
l_İcode
);

21569 
	gs
 = 
ns
;

21570 ++
	gp3
;

21572 (
	gl_İcode
>'y').
move_to
(
İcode
);

21573 ià(
	gp1
==~0Uè{ 
pos
 = 
sÿÏr
();…1 = 0; } 
	gpos
 = 
veùÜ
(
p1
);

21574 
	gİcode
[1] = 
pos
;

21575 
	gİcode
[2] = 
p1
;

21576 
	gİcode
[3] = 
İcode
.
_height
;

21577 
	gİcode
.
move_to
(
code
);

21578 
_cimg_mp_»tuº
(
pos
);

21581 ià(!
	g¡d
::
¡ºcmp
(
ss
,"vtos(",5)) {

21582 
_cimg_mp_İ
("Function 'vtos()'");

21583 
	gs1
 = 
ss5
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

21584 
	g¬g1
 = 
compe
(
ss5
,
s1
,
d•th1
,0,
is_ü™iÿl
);

21585 
	g¬g2
 = 0; 
	g¬g3
 = ~0U;

21586 ià(
	gs1
<
	g£1
) {

21587 
	gs2
 = 
s1
 + 1; s2<
	g£1
 && (*s2!=',' || 
Ëv–
[
s2
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s2;

21588 
	g¬g2
 = 
compe
(++
s1
,
s2
,
d•th1
,0,
is_ü™iÿl
);

21589 
	g¬g3
 = 
s2
<
£1
?
compe
(++s2,£1,
d•th1
,0,
is_ü™iÿl
):~0U;

21591 
_cimg_mp_check_ty³
(
¬g2
,2,1,0);

21592 ià(
	g¬g3
==~0U) {

21593 
p1
 = 
_cimg_mp_size
(
¬g1
);

21594 
	gp1
 = 
p1
?25*p1 - 1:24;

21596 
_cimg_mp_check_cÚ¡ªt
(
¬g3
,3,3);

21597 
	gp1
 = ()
mem
[
¬g3
];

21599 
	gpos
 = 
veùÜ
(
p1
);

21600 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_vtos
,
pos
,
p1
,
¬g1
,
_cimg_mp_size
×rg1),
¬g2
).
move_to
(
code
);

21601 
_cimg_mp_»tuº
(
pos
);

21606 ià(*
ss1
=='(') {

21607 
_cimg_mp_İ
("Function 'w()'");

21608 ià(*
	gss2
=='#') {

21609 
p1
 = 
compe
(
ss3
,
£1
,
d•th1
,0,
is_ü™iÿl
);

21610 
_cimg_mp_check_li¡
(
çl£
);

21611 } { ià(
	gss2
!=
£1
è; 
	gp1
 = ~0U; }

21612 
	gpos
 = 
sÿÏr
();

21613 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_image_w
,
pos
,
p1
).
move_to
(
code
);

21614 
_cimg_mp_»tuº
(
pos
);

21617 ià(*
	gss1
=='h' && *
ss2
=='(') {

21618 
_cimg_mp_İ
("Function 'wh()'");

21619 ià(*
	gss3
=='#') {

21620 
p1
 = 
compe
(
ss4
,
£1
,
d•th1
,0,
is_ü™iÿl
);

21621 
_cimg_mp_check_li¡
(
çl£
);

21622 } { ià(
	gss3
!=
£1
è; 
	gp1
 = ~0U; }

21623 
	gpos
 = 
sÿÏr
();

21624 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_image_wh
,
pos
,
p1
).
move_to
(
code
);

21625 
_cimg_mp_»tuº
(
pos
);

21628 ià(*
	gss1
=='h' && *
ss2
=='d' && *
ss3
=='(') {

21629 
_cimg_mp_İ
("Function 'whd()'");

21630 ià(*
	gss4
=='#') {

21631 
p1
 = 
compe
(
ss5
,
£1
,
d•th1
,0,
is_ü™iÿl
);

21632 
_cimg_mp_check_li¡
(
çl£
);

21633 } { ià(
	gss4
!=
£1
è; 
	gp1
 = ~0U; }

21634 
	gpos
 = 
sÿÏr
();

21635 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_image_whd
,
pos
,
p1
).
move_to
(
code
);

21636 
_cimg_mp_»tuº
(
pos
);

21639 ià(*
	gss1
=='h' && *
ss2
=='d' && *
ss3
=='s' && *
ss4
=='(') {

21640 
_cimg_mp_İ
("Function 'whds()'");

21641 ià(*
	gss5
=='#') {

21642 
p1
 = 
compe
(
ss6
,
£1
,
d•th1
,0,
is_ü™iÿl
);

21643 
_cimg_mp_check_li¡
(
çl£
);

21644 } { ià(
	gss5
!=
£1
è; 
	gp1
 = ~0U; }

21645 
	gpos
 = 
sÿÏr
();

21646 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_image_whds
,
pos
,
p1
).
move_to
(
code
);

21647 
_cimg_mp_»tuº
(
pos
);

21650 ià(!
	g¡d
::
¡ºcmp
(
ss
,"while(",6)) {

21651 
_cimg_mp_İ
("Function 'while()'");

21652 
	gs0
 = *
ss5
=='('?
ss6
:
ss8
;

21653 
	gs1
 = 
s0
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

21654 
	gp1
 = 
code
.
_width
;

21655 
	g¬g1
 = 
compe
(
s0
,
s1
,
d•th1
,0,
is_ü™iÿl
);

21656 
	gp2
 = 
code
.
_width
;

21657 
	g¬g6
 = 
mempos
;

21658 
	gpos
 = 
compe
(++
s1
,
£1
,
d•th1
,0,
is_ü™iÿl
);

21659 
_cimg_mp_check_ty³
(
¬g1
,1,1,0);

21660 
	g¬g2
 = 
_cimg_mp_size
(
pos
);

21661 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_whe
,
pos
,
¬g1
,
p2
 - 
p1
,
code
.
_width
 -…2,
¬g2
,

21662 
pos
>=
¬g6
 && !
_cimg_mp_is_cÚ¡ªt
(pos),

21663 
¬g1
>=
¬g6
 && !
_cimg_mp_is_cÚ¡ªt
×rg1)).
move_to
(
code
,
p1
);

21664 
_cimg_mp_»tuº
(
pos
);

21669 ià(!
¡d
::
¡ºcmp
(
ss
,"xor(",4)) {

21670 
_cimg_mp_İ
("Function 'xor()'");

21671 
	gs1
 = 
ss4
; s1<
	g£1
 && (*s1!=',' || 
Ëv–
[
s1
 - 
ex´
.
_d©a
]!=
şev–1
)) ++s1;

21672 
	g¬g1
 = 
compe
(
ss4
,
s1
,
d•th1
,0,
is_ü™iÿl
);

21673 
	g¬g2
 = 
compe
(++
s1
,
£1
,
d•th1
,0,
is_ü™iÿl
);

21674 
_cimg_mp_check_ty³
(
¬g2
,2,3,
_cimg_mp_size
(
¬g1
));

21675 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& _cimg_mp_is_veùÜ(
¬g2
)è
_cimg_mp_veùÜ2_vv
(
mp_b™wi£_xÜ
,arg1,arg2);

21676 ià(
_cimg_mp_is_veùÜ
(
¬g1
è&& 
_cimg_mp_is_sÿÏr
(
¬g2
)è
_cimg_mp_veùÜ2_vs
(
mp_b™wi£_xÜ
,arg1,arg2);

21677 ià(
_cimg_mp_is_sÿÏr
(
¬g1
è&& 
_cimg_mp_is_veùÜ
(
¬g2
)è
_cimg_mp_veùÜ2_sv
(
mp_b™wi£_xÜ
,arg1,arg2);

21678 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
è&& _cimg_mp_is_cÚ¡ªt(
¬g2
))

21679 
_cimg_mp_cÚ¡ªt
((
lÚgT
)
mem
[
¬g1
] ^ (lÚgT)mem[
¬g2
]);

21680 
_cimg_mp_sÿÏr2
(
mp_b™wi£_xÜ
,
¬g1
,
¬g2
);

21685 ià(!
	g¡d
::
¡ºcmp
(
ss
,"max(",4) || !std::strncmp(ss,"min(",4) ||

21686 !
	g¡d
::
¡ºcmp
(
ss
,"maxabs(",7) || !std::strncmp(ss,"minabs(",7) ||

21687 !
	g¡d
::
¡ºcmp
(
ss
,"med(",4) || !std::strncmp(ss,"kth(",4) ||

21688 !
	g¡d
::
¡ºcmp
(
ss
,"sum(",4) || !std::strncmp(ss,"avg(",4) ||

21689 !
	g¡d
::
¡ºcmp
(
ss
,"std(",4) || !std::strncmp(ss,"var(",4) ||

21690 !
	g¡d
::
¡ºcmp
(
ss
,"prod(",5) ||

21691 !
	g¡d
::
¡ºcmp
(
ss
,"argmin(",7) || !std::strncmp(ss,"argmax(",7) ||

21692 !
	g¡d
::
¡ºcmp
(
ss
,"argminabs(",10) || !std::strncmp(ss,"argmaxabs(",10) ||

21693 !
	g¡d
::
¡ºcmp
(
ss
,"argkth(",7)) {

21694 
_cimg_mp_İ
(*
ss
=='a'?(ss[1]=='v'?"Function 'avg()'":

21695 
ss
[3]=='k'?"Function 'argkth()'":

21696 
ss
[4]=='i' && ss[6]=='('?"Function 'argmin()'":

21697 
ss
[4]=='i'?"Function‡rgminabs()'":

21698 
ss
[6]=='('?"Function 'argmax()'":

21700 *
ss
=='s'?(ss[1]=='u'?"Function 'sum()'":"Function 'std()'"):

21701 *
ss
=='k'?"Function 'kth()'":

21702 *
ss
=='p'?"Function 'prod()'":

21703 *
ss
=='v'?"Function 'var()'":

21704 
ss
[1]=='i'?(ss[3]=='('?"Function 'min()'":

21706 
ss
[1]=='a'?(ss[3]=='('?"Function 'max()'":

21709 
	gİ
 = *
ss
=='a'?(ss[1]=='v'?
mp_avg
:

21710 
ss
[3]=='k'?
mp_¬gkth
:

21711 
ss
[4]=='i' && ss[6]=='('?
mp_¬gmš
:

21712 
ss
[4]=='i'?
mp_¬gmšabs
:

21713 
ss
[6]=='('?
mp_¬gmax
:
mp_¬gmaxabs
):

21714 *
ss
=='s'?(ss[1]=='u'?
mp_sum
:
mp_¡d
):

21715 *
ss
=='k'?
mp_kth
:

21716 *
ss
=='p'?
mp_´od
:

21717 *
ss
=='v'?
mp_v¬
:

21718 
ss
[1]=='i'?(ss[3]=='('?
mp_mš
:
mp_mšabs
):

21719 
ss
[1]=='a'?(ss[3]=='('?
mp_max
:
mp_maxabs
):

21720 
mp_medŸn
;

21721 
	gis_¡h
 = 
Œue
;

21722 
	gpos
 = 
sÿÏr
();

21723 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
İ
,
pos
,0).
move_to
(
l_İcode
);

21724 
	gs
 = 
¡d
::
¡rchr
(
ss
,'('è+ 1; s<
	g£
; ++s) {

21725 
	gns
 = 
s
; ns<
	g£
 && (*ns!=',' || 
Ëv–
[
ns
 - 
ex´
.
_d©a
]!=
şev–1
) &&

21726 (*
ns
!=')' || 
Ëv–
[n - 
ex´
.
_d©a
]!=
şev–
)) ++ns;

21727 
	g¬g2
 = 
compe
(
s
,
ns
,
d•th1
,0,
is_ü™iÿl
);

21728 ià(
_cimg_mp_is_veùÜ
(
¬g2
))

21729 
	gCImg
<
	gulÚgT
>::
£qu’û
(
_cimg_mp_size
(
¬g2
),arg2 + 1,

21730 
¬g2
 + (
ulÚgT
)
_cimg_mp_size
(arg2)).

21731 
move_to
(
l_İcode
);

21732 
	gCImg
<
	gulÚgT
>::
veùÜ
(
¬g2
).
move_to
(
l_İcode
);

21733 
	gis_¡h
&=
_cimg_mp_is_cÚ¡ªt
(
¬g2
);

21734 
	gs
 = 
ns
;

21736 (
	gl_İcode
>'y').
move_to
(
İcode
);

21737 
	gİcode
[2] = 
İcode
.
_height
;

21738 ià(
	gis_¡h
è
_cimg_mp_cÚ¡ªt
(
İ
(*
this
));

21739 
	gİcode
.
move_to
(
code
);

21740 
_cimg_mp_»tuº
(
pos
);

21744 
	gs0
 = 
¡rchr
(
ss
,'(');

21745 ià(
	gs0
) {

21746 
	gv¬ŸbË_Çme
.
assign
(
ss
,()(
s0
 - s + 1)).
back
() = 0;

21749 
	gp1
 = 0;

21750 
	gs
 = 
s0
 + 1; s<=
£1
; ++
	gp1
, s = 
ns
 + 1) {

21751 *
s
 && 
cimg
::
is_bÏnk
(*s)) ++s;

21752 ià(*
	gs
==')' && !
p1
) ;

21753 
	gns
 = 
s
; ns<
	g£
 && (*ns!=',' || 
Ëv–
[
ns
 - 
ex´
.
_d©a
]!=
şev–1
) &&

21754 (*
ns
!=')' || 
Ëv–
[n - 
ex´
.
_d©a
]!=
şev–
)) ++ns;

21757 
	g¬g3
 = 0;

21758 
cimgli¡_fÜ
(
maüo_def
,
l
èià(!
	g¡d
::
¡rcmp
(maüo_def[l],
v¬ŸbË_Çme
è&& ++
	g¬g3
 &&

21759 
	gmaüo_def
[
l
].
back
()==()
p1
) {

21760 
p2
 = ()
maüo_def
[
l
].
back
();

21761 
	gCImg
<
	gch¬T
> 
	g_ex´
 = 
maüo_body
[
l
];

21763 
	gp1
 = 1;

21764 
	gs
 = 
s0
 + 1; s<=
£1
; ++
	gp1
, s = 
ns
 + 1) {

21765 *
s
 && 
cimg
::
is_bÏnk
(*s)) ++s;

21766 ià(*
	gs
==')' && 
p1
==1) ;

21767 ià(
	gp1
>
	gp2
) { ++p1; ; }

21768 
	gns
 = 
s
; ns<
	g£
 && (*ns!=',' || 
Ëv–
[
ns
 - 
ex´
.
_d©a
]!=
şev–1
) &&

21769 (*
ns
!=')' || 
Ëv–
[n - 
ex´
.
_d©a
]!=
şev–
)) ++ns;

21770 
	gv¬ŸbË_Çme
.
assign
(
s
,()(
ns
 - s + 1)).
back
() = 0;

21771 
	g¬g2
 = 0;

21772 
cimg_fÜX
(
_ex´
,
k
) {

21773 ià(
	g_ex´
[
k
]==()
p1
) {

21774 
¬g1
 = 
_ex´
.
_width
;

21775 
	g_ex´
.
»size
(
¬g1
 + 
v¬ŸbË_Çme
.
_width
 - 2,1,1,1,0);

21776 
	g¡d
::
memmove
(
_ex´
.
_d©a
 + 
k
 + 
v¬ŸbË_Çme
.
_width
 - 1,_ex´._d©¨+ k + 1,
¬g1
 - k - 1);

21777 
	g¡d
::
memıy
(
_ex´
.
_d©a
 + 
k
,
v¬ŸbË_Çme
,v¬ŸbË_Çme.
_width
 - 1);

21778 
	gk
+=
v¬ŸbË_Çme
.
_width
 - 2;

21780 ++
	g¬g2
;

21785 
	gCImg
<
	gch¬T
> 
_³x´
(
_ex´
.
_width
);

21786 
	gns
 = 
_³x´
.
_d©a
;

21787 
	gps
 = 
_ex´
.
_d©a
, 
	gc1
 = ' '; *ps; ++ps) {

21788 ià(!
	gcimg
::
is_bÏnk
(*
ps
)è
c1
 = *ps;

21789 *(
	gns
++èğ
c1
;

21791 *
	gns
 = 0;

21793 
	gCImg
<
	guštT
> 
	g_Ëv–
 = 
g‘_Ëv–
(
_ex´
);

21794 
	gex´
.
sw­
(
_ex´
);

21795 
	g³x´
.
sw­
(
_³x´
);

21796 
	gËv–
.
sw­
(
_Ëv–
);

21797 
	gs0
 = 
u£r_maüo
;

21798 
	gu£r_maüo
 = 
maüo_def
[
l
];

21799 
	gpos
 = 
compe
(
ex´
.
_d©a
,ex´._d©¨+ƒx´.
_width
 - 1,
d•th1
,
p_»f
,
is_ü™iÿl
);

21800 
	gu£r_maüo
 = 
s0
;

21801 
	gËv–
.
sw­
(
_Ëv–
);

21802 
	g³x´
.
sw­
(
_³x´
);

21803 
	gex´
.
sw­
(
_ex´
);

21804 
_cimg_mp_»tuº
(
pos
);

21807 ià(
	g¬g3
) {

21808 
	gCImg
<
	guštT
> 
sig_Çrgs
(
¬g3
);

21809 
	g¬g1
 = 0;

21810 
cimgli¡_fÜ
(
maüo_def
,
l
èià(!
	g¡d
::
¡rcmp
(maüo_def[l],
v¬ŸbË_Çme
))

21811 
	gsig_Çrgs
[
¬g1
++] = ()
maüo_def
[
l
].
back
();

21812 
	g_cimg_mp_¡»¼
;

21813 
	gcimg
::
¡»Îsize
(
v¬ŸbË_Çme
,64);

21814 ià(
	gsig_Çrgs
.
	g_width
>1) {

21815 
	gsig_Çrgs
.
sÜt
();

21816 
	g¬g1
 = 
sig_Çrgs
.
back
();

21817 --
	gsig_Çrgs
.
	g_width
;

21818 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

21822 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
v¬ŸbË_Çme
.
_d©a
,

21823 
p1
,
sig_Çrgs
.
v®ue_¡ršg
().
_d©a
,
¬g1
,

21824 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

21826 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

21830 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
v¬ŸbË_Çme
.
_d©a
,

21831 
p1
,*
sig_Çrgs
,*sig_nargs!=1?"s":"",

21832 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

21838 ià(*
	g£1
=='\'' &&

21839 ((
£1
>
ss
 && *ss=='\'') ||

21840 (
£1
>
ss1
 && *
ss
=='_' && *ss1=='\''))) {

21841 ià(*
ss
=='_'è{ 
_cimg_mp_İ
("Ch¬ in™Ÿliz”"); 
	gs1
 = 
ss2
; }

21842 { 
_cimg_mp_İ
("SŒšg in™Ÿliz”"); 
	gs1
 = 
ss1
; }

21843 
	g¬g1
 = ()(
£1
 - 
s1
);

21844 ià(
	g¬g1
) {

21845 
	gCImg
<
	gch¬T
>(
	gs1
,
	g¬g1
 + 1).
move_to
(
v¬ŸbË_Çme
).
back
() = 0;

21846 
	gcimg
::
¡ruÃsÿ³
(
v¬ŸbË_Çme
);

21847 
	g¬g1
 = ()
¡d
::
¡¾’
(
v¬ŸbË_Çme
);

21849 ià(!
	g¬g1
è
_cimg_mp_»tuº
(0);

21850 ià(*
	gss
=='_') {

21851 ià(
¬g1
==1è
_cimg_mp_cÚ¡ªt
(()*
v¬ŸbË_Çme
);

21852 
	g_cimg_mp_¡»¼
;

21853 
	gcimg
::
¡»Îsize
(
v¬ŸbË_Çme
,64);

21854 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

21857 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,

21858 
ss1
,

21859 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

21861 
	gpos
 = 
veùÜ
(
¬g1
);

21862 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_¡ršg_š™
,
pos
,
¬g1
).
move_to
(
l_İcode
);

21863 
	gCImg
<
	gulÚgT
>(1,
	g¬g1
/(ulÚgTè+ (¬g1%(ulÚgT)?1:0)).
move_to
(
l_İcode
);

21864 
	g¡d
::
memıy
((*)
l_İcode
[1].
_d©a
,
v¬ŸbË_Çme
,
¬g1
);

21865 (
	gl_İcode
>'y').
move_to
(
code
);

21866 
_cimg_mp_»tuº
(
pos
);

21870 ià(*
	gss
=='[' && *
£1
==']') {

21871 
_cimg_mp_İ
("Vector initializer");

21872 
	gs1
 = 
ss1
; s1<
	g£2
 && 
	gcimg
::
is_bÏnk
(*
s1
)) ++s1;

21873 
	gs2
 = 
£2
; s2>
	gs1
 && 
	gcimg
::
is_bÏnk
(*
s2
)) --s2;

21874 ià(
	gs2
>
	gs1
 && *s1=='\'' && *
s2
=='\'') {

21875 
¬g1
 = ()(
s2
 - 
s1
 - 1);

21876 ià(
	g¬g1
) {

21877 
	gCImg
<
	gch¬T
>(
	gs1
 + 1,
	g¬g1
 + 1).
move_to
(
v¬ŸbË_Çme
).
back
() = 0;

21878 
	gcimg
::
¡ruÃsÿ³
(
v¬ŸbË_Çme
);

21879 
	g¬g1
 = ()
¡d
::
¡¾’
(
v¬ŸbË_Çme
);

21881 ià(!
	g¬g1
è
_cimg_mp_»tuº
(0);

21882 
	gpos
 = 
veùÜ
(
¬g1
);

21883 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_¡ršg_š™
,
pos
,
¬g1
).
move_to
(
l_İcode
);

21884 
	gCImg
<
	gulÚgT
>(1,
	g¬g1
/(ulÚgTè+ (¬g1%(ulÚgT)?1:0)).
move_to
(
l_İcode
);

21885 
	g¡d
::
memıy
((*)
l_İcode
[1].
_d©a
,
v¬ŸbË_Çme
,
¬g1
);

21886 (
	gl_İcode
>'y').
move_to
(
code
);

21888 
	g¬g1
 = 0;

21889 ià(*
	gss1
!=']'è
s
 = 
ss1
; 
	gs
<
	g£
; ++s) {

21890 
	gns
 = 
s
; ns<
	g£
 && (*ns!=',' || 
Ëv–
[
ns
 - 
ex´
.
_d©a
]!=
şev–1
) &&

21891 (*
ns
!=']' || 
Ëv–
[n - 
ex´
.
_d©a
]!=
şev–
)) ++ns;

21892 
	g¬g2
 = 
compe
(
s
,
ns
,
d•th1
,0,
is_ü™iÿl
);

21893 ià(
_cimg_mp_is_veùÜ
(
¬g2
)) {

21894 
	g¬g3
 = 
_cimg_mp_size
(
¬g2
);

21895 
	gCImg
<
	gulÚgT
>::
£qu’û
(
¬g3
,
¬g2
 + 1,¬g2 +‡rg3).
move_to
(
l_İcode
);

21896 
	g¬g1
+=
¬g3
;

21897 } { 
	gCImg
<
	gulÚgT
>::
veùÜ
(
¬g2
).
move_to
(
l_İcode
); ++
	g¬g1
; }

21898 
	gs
 = 
ns
;

21900 ià(!
	g¬g1
è
_cimg_mp_»tuº
(0);

21901 
	gpos
 = 
veùÜ
(
¬g1
);

21902 
	gl_İcode
.
š£¹
(
CImg
<
ulÚgT
>::
veùÜ
((ulÚgT)
mp_veùÜ_š™
,
pos
,0,
¬g1
),0);

21903 (
	gl_İcode
>'y').
move_to
(
İcode
);

21904 
	gİcode
[2] = 
İcode
.
_height
;

21905 
	gİcode
.
move_to
(
code
);

21907 
_cimg_mp_»tuº
(
pos
);

21911 ià(*
	gss1
=='#' && 
ss2
<
£
) {

21912 
¬g1
 = 
compe
(
ss2
,
£
,
d•th1
,0,
is_ü™iÿl
);

21913 
	gp1
 = ()(
li¡š
.
_width
 && 
_cimg_mp_is_cÚ¡ªt
(
¬g1
)?
cimg
::
mod
(()
mem
[¬g1],li¡š.
width
()):~0U);

21914 *
	gss
) {

21916 ià(!
li¡š
è
_cimg_mp_»tuº
(0);

21917 ià(
	gp1
!=~0Uè
_cimg_mp_cÚ¡ªt
(
li¡š
[
p1
].
_width
);

21918 
_cimg_mp_sÿÏr1
(
mp_li¡_width
,
¬g1
);

21920 ià(!
li¡š
è
_cimg_mp_»tuº
(0);

21921 ià(
	gp1
!=~0Uè
_cimg_mp_cÚ¡ªt
(
li¡š
[
p1
].
_height
);

21922 
_cimg_mp_sÿÏr1
(
mp_li¡_height
,
¬g1
);

21924 ià(!
li¡š
è
_cimg_mp_»tuº
(0);

21925 ià(
	gp1
!=~0Uè
_cimg_mp_cÚ¡ªt
(
li¡š
[
p1
].
_d•th
);

21926 
_cimg_mp_sÿÏr1
(
mp_li¡_d•th
,
¬g1
);

21928 ià(!
li¡š
è
_cimg_mp_»tuº
(0);

21929 ià(
	gp1
!=~0Uè
_cimg_mp_cÚ¡ªt
(
li¡š
[
p1
].
_is_sh¬ed
);

21930 
_cimg_mp_sÿÏr1
(
mp_li¡_is_sh¬ed
,
¬g1
);

21932 ià(!
li¡š
è
_cimg_mp_»tuº
(0);

21933 ià(
	gp1
!=~0Uè
_cimg_mp_cÚ¡ªt
(
li¡š
[
p1
].
_¥eùrum
);

21934 
_cimg_mp_sÿÏr1
(
mp_li¡_¥eùrum
,
¬g1
);

21936 ià(!
li¡š
è
_cimg_mp_»tuº
(0);

21937 
_cimg_mp_sÿÏr7
(
mp_li¡_ixyzc
,
¬g1
,
_cimg_mp_¦Ù_x
,
_cimg_mp_¦Ù_y
,
_cimg_mp_¦Ù_z
,
_cimg_mp_¦Ù_c
,

21938 0,
_cimg_mp_bound¬y
);

21940 
p2
 = 
p1
!=~0U?
li¡š
[p1].
_¥eùrum
:li¡š.
_width
?~0U:0;

21941 ià(!
	gp2
è
_cimg_mp_»tuº
(0);

21942 
	gpos
 = 
veùÜ
(
p2
);

21943 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_li¡_Joff
,
pos
,
p1
,0,0,
p2
).
move_to
(
code
);

21944 
_cimg_mp_»tuº
(
pos
);

21946 ià(!
li¡š
è
_cimg_mp_»tuº
(0);

21947 
_cimg_mp_sÿÏr7
(
mp_li¡_ixyzc
,
¬g1
,
_cimg_mp_¦Ù_x
,
_cimg_mp_¦Ù_y
,
_cimg_mp_¦Ù_z
,0,

21948 0,
_cimg_mp_bound¬y
);

21950 ià(!
li¡š
è
_cimg_mp_»tuº
(0);

21951 
_cimg_mp_sÿÏr7
(
mp_li¡_ixyzc
,
¬g1
,
_cimg_mp_¦Ù_x
,
_cimg_mp_¦Ù_y
,
_cimg_mp_¦Ù_z
,1,

21952 0,
_cimg_mp_bound¬y
);

21954 ià(!
li¡š
è
_cimg_mp_»tuº
(0);

21955 
_cimg_mp_sÿÏr7
(
mp_li¡_ixyzc
,
¬g1
,
_cimg_mp_¦Ù_x
,
_cimg_mp_¦Ù_y
,
_cimg_mp_¦Ù_z
,2,

21956 0,
_cimg_mp_bound¬y
);

21958 ià(!
li¡š
è
_cimg_mp_»tuº
(0);

21959 
_cimg_mp_sÿÏr7
(
mp_li¡_ixyzc
,
¬g1
,
_cimg_mp_¦Ù_x
,
_cimg_mp_¦Ù_y
,
_cimg_mp_¦Ù_z
,3,

21960 0,
_cimg_mp_bound¬y
);

21964 ià(*
	gss1
 && *
	gss2
=='#' && 
ss3
<
£
) {

21965 
¬g1
 = 
compe
(
ss3
,
£
,
d•th1
,0,
is_ü™iÿl
);

21966 
	gp1
 = ()(
li¡š
.
_width
 && 
_cimg_mp_is_cÚ¡ªt
(
¬g1
)?
cimg
::
mod
(()
mem
[¬g1],li¡š.
width
()):~0U);

21967 ià(*
	gss
=='w' && *
ss1
=='h') {

21968 ià(!
li¡š
è
_cimg_mp_»tuº
(0);

21969 ià(
	gp1
!=~0Uè
_cimg_mp_cÚ¡ªt
(
li¡š
[
p1
].
_width
*li¡š[p1].
_height
);

21970 
_cimg_mp_sÿÏr1
(
mp_li¡_wh
,
¬g1
);

21972 
	g¬g2
 = ~0U;

21974 ià(*
	gss
=='i') {

21975 ià(*
ss1
>='0' && *ss1<='9') {

21976 ià(!
li¡š
è
_cimg_mp_»tuº
(0);

21977 
_cimg_mp_sÿÏr7
(
mp_li¡_ixyzc
,
¬g1
,
_cimg_mp_¦Ù_x
,
_cimg_mp_¦Ù_y
,
_cimg_mp_¦Ù_z
,*
ss1
 - '0',

21978 0,
_cimg_mp_bound¬y
);

21981 ià(*
	gss1
=='c') {

21982 ià(!
li¡š
è
_cimg_mp_»tuº
(0);

21983 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)) {

21984 ià(!
	gli¡_medŸn
èli¡_medŸn.
assign
(
li¡š
.
_width
);

21985 ià(!
	gli¡_medŸn
[
p1
]è
	gCImg
<
	gdoubËT
>::
veùÜ
(
li¡š
[p1].
medŸn
()).
move_to
(
li¡_medŸn
[p1]);

21986 
_cimg_mp_cÚ¡ªt
(*
li¡_medŸn
[
p1
]);

21988 
_cimg_mp_sÿÏr1
(
mp_li¡_medŸn
,
¬g1
);

21991 ià(*
	gss1
=='n') {

21992 ià(!
li¡š
è
_cimg_mp_»tuº
(0);

21993 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)) {

21994 ià(!
	gli¡_nÜm
èli¡_nÜm.
assign
(
li¡š
.
_width
);

21995 ià(!
	gli¡_nÜm
[
p1
]è
	gCImg
<
	gdoubËT
>::
veùÜ
(
li¡š
[p1].
magn™ude
()).
move_to
(
li¡_nÜm
[p1]);

21996 
_cimg_mp_cÚ¡ªt
(*
li¡_nÜm
[
p1
]);

21998 
_cimg_mp_sÿÏr1
(
mp_li¡_nÜm
,
¬g1
);

22001 *
	gss1
) {

22002 'm' : 
¬g2
 = 0; ;

22003 'M' : 
¬g2
 = 1; ;

22004 'a' : 
¬g2
 = 2; ;

22005 'v' : 
¬g2
 = 3; ;

22006 's' : 
¬g2
 = 12; ;

22007 'p' : 
¬g2
 = 13; ;

22009 } ià(*
	gss1
=='m'è*
ss
) {

22010 'x' : 
¬g2
 = 4; ;

22011 'y' : 
¬g2
 = 5; ;

22012 'z' : 
¬g2
 = 6; ;

22013 'c' : 
¬g2
 = 7; ;

22014 } ià(*
	gss1
=='M'è*
ss
) {

22015 'x' : 
¬g2
 = 8; ;

22016 'y' : 
¬g2
 = 9; ;

22017 'z' : 
¬g2
 = 10; ;

22018 'c' : 
¬g2
 = 11; ;

22020 ià(
	g¬g2
!=~0U) {

22021 ià(!
li¡š
è
_cimg_mp_»tuº
(0);

22022 ià(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)) {

22023 ià(!
	gli¡_¡©s
èli¡_¡©s.
assign
(
li¡š
.
_width
);

22024 ià(!
	gli¡_¡©s
[
p1
]èli¡_¡©s[p1].
assign
(1,14,1,1,0).
fl
(
li¡š
[p1].
g‘_¡©s
(),
çl£
);

22025 
_cimg_mp_cÚ¡ªt
(
li¡_¡©s
(
p1
,
¬g2
));

22027 
_cimg_mp_sÿÏr2
(
mp_li¡_¡©s
,
¬g1
,
¬g2
);

22031 ià(*
	gss
=='w' && *
ss1
=='h' && *
ss2
=='d' && *
ss3
=='#' && 
ss4
<
£
) {

22032 
¬g1
 = 
compe
(
ss4
,
£
,
d•th1
,0,
is_ü™iÿl
);

22033 ià(!
	gli¡š
è
_cimg_mp_»tuº
(0);

22034 
	gp1
 = ()(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)?
cimg
::
mod
(()
mem
[¬g1],
li¡š
.
width
()):~0U);

22035 ià(
	gp1
!=~0Uè
_cimg_mp_cÚ¡ªt
(
li¡š
[
p1
].
_width
*li¡š[p1].
_height
*li¡š[p1].
_d•th
);

22036 
_cimg_mp_sÿÏr1
(
mp_li¡_whd
,
¬g1
);

22038 ià(*
	gss
=='w' && *
ss1
=='h' && *
ss2
=='d' && *
ss3
=='s' && *
ss4
=='#' && 
ss5
<
£
) {

22039 
¬g1
 = 
compe
(
ss5
,
£
,
d•th1
,0,
is_ü™iÿl
);

22040 ià(!
	gli¡š
è
_cimg_mp_»tuº
(0);

22041 
	gp1
 = ()(
_cimg_mp_is_cÚ¡ªt
(
¬g1
)?
cimg
::
mod
(()
mem
[¬g1],
li¡š
.
width
()):~0U);

22042 ià(
	gp1
!=~0Uè
_cimg_mp_cÚ¡ªt
(
li¡š
[
p1
].
_width
*li¡š[p1].
_height
*li¡š[p1].
_d•th
*li¡š[p1].
_¥eùrum
);

22043 
_cimg_mp_sÿÏr1
(
mp_li¡_whds
,
¬g1
);

22046 ià(!
	g¡d
::
¡rcmp
(
ss
,"š‹½Ş©iÚ")è
_cimg_mp_»tuº
(
_cimg_mp_š‹½Ş©iÚ
);

22047 ià(!
	g¡d
::
¡rcmp
(
ss
,"bound¬y")è
_cimg_mp_»tuº
(
_cimg_mp_bound¬y
);

22050 
	gv¬ŸbË_Çme
.
assign
(
ss
,()(
£
 + 1 - ss)).
back
() = 0;

22051 
	gis_¡h
 = 
Œue
;

22052 ià(*
	gv¬ŸbË_Çme
>='0' && *
v¬ŸbË_Çme
<='9'è
is_¡h
 = 
çl£
;

22053 
	gns
 = 
v¬ŸbË_Çme
; *ns; ++ns)

22054 ià(!
is_v¬ch¬
(*
ns
)è{ 
	gis_¡h
 = 
çl£
; ; }

22055 ià(
	gis_¡h
) {

22056 ià(
	gv¬ŸbË_Çme
[1]) {

22057 
cimgli¡_fÜ
(
v¬ŸbË_def
,
i
èià(!
	g¡d
::
¡rcmp
(
v¬ŸbË_Çme
,variable_def[i]))

22058 
_cimg_mp_»tuº
(
v¬ŸbË_pos
[
i
]);

22059 } ià(
	g»£rved_Ïb–
[()*
v¬ŸbË_Çme
]!=~0U)

22060 
_cimg_mp_»tuº
(
»£rved_Ïb–
[()*
v¬ŸbË_Çme
]);

22064 
	gc1
 = *
£1
;

22065 
	g_cimg_mp_¡»¼
;

22066 
	gcimg
::
¡»Îsize
(
v¬ŸbË_Çme
,64);

22067 ià(
	gis_¡h
)

22068 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

22070 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,

22071 
v¬ŸbË_Çme
.
_d©a
,

22072 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

22073 
	gs1
 = 
¡d
::
¡rchr
(
ss
,'(');

22074 
	gs_İ
 = 
s1
 && 
c1
==')'?"function call":"item";

22075 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

22077 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,

22078 
s_İ
,
v¬ŸbË_Çme
.
_d©a
,

22079 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

22083 
İ”©Ü
()(cÚ¡ 
	gx
, cÚ¡ 
	gy
, cÚ¡ 
	gz
, cÚ¡ 
	gc
) {

22084 
	gmem
[
_cimg_mp_¦Ù_x
] = 
x
; mem[
_cimg_mp_¦Ù_y
] = 
y
; mem[
_cimg_mp_¦Ù_z
] = 
z
; mem[
_cimg_mp_¦Ù_c
] = 
c
;

22085 
	gp_code
 = 
code
;…_code<
	gp_code_’d
; ++p_code) {

22086 
	gİcode
.
	g_d©a
 = 
p_code
->
_d©a
;

22087 cÚ¡ 
ulÚgT
 
	grg‘
 = 
İcode
[1];

22088 
	gmem
[
rg‘
] = 
_cimg_mp_defunc
(*
this
);

22090  *
	g»suÉ
;

22094 
	g‹m¶©e
<
ty³Çme
 
	gt
>

22095 
İ”©Ü
()(cÚ¡ 
	gx
, cÚ¡ 
	gy
, cÚ¡ 
	gz
, cÚ¡ 
	gc
, 
t
 *cÚ¡ 
	gouut
) {

22096 
	gmem
[
_cimg_mp_¦Ù_x
] = 
x
; mem[
_cimg_mp_¦Ù_y
] = 
y
; mem[
_cimg_mp_¦Ù_z
] = 
z
; mem[
_cimg_mp_¦Ù_c
] = 
c
;

22097 
	gp_code
 = 
code
;…_code<
	gp_code_’d
; ++p_code) {

22098 
	gİcode
.
	g_d©a
 = 
p_code
->
_d©a
;

22099 cÚ¡ 
ulÚgT
 
	grg‘
 = 
İcode
[1];

22100 
	gmem
[
rg‘
] = 
_cimg_mp_defunc
(*
this
);

22102 ià(
	g»suÉ_dim
) {

22103 cÚ¡ *
	g±rs
 = 
»suÉ
 + 1;

22104 
t
 *
	g±rd
 = 
ouut
;

22105 
	gk
 = 0; k<
	g»suÉ_dim
; ++kè*(
	g±rd
++èğ(
t
)*(
±rs
++);

22106 } *
	gouut
 = (
t
)*
»suÉ
;

22110 
begš_t
() {

22111 ià(!
	gcode_begš_t
) ;

22112 ià(
	gimgš
) {

22113 
	gmem
[
_cimg_mp_¦Ù_x
] = 
imgš
.
_width
 - 1.;

22114 
	gmem
[
_cimg_mp_¦Ù_y
] = 
imgš
.
_height
 - 1.;

22115 
	gmem
[
_cimg_mp_¦Ù_z
] = 
imgš
.
_d•th
 - 1.;

22116 
	gmem
[
_cimg_mp_¦Ù_c
] = 
imgš
.
_¥eùrum
 - 1.;

22117 } 
	gmem
[
_cimg_mp_¦Ù_x
] = 
mem
[
_cimg_mp_¦Ù_y
] = mem[
_cimg_mp_¦Ù_z
] = mem[
_cimg_mp_¦Ù_c
] = 0;

22118 
	gp_code_’d
 = 
code_begš_t
.
’d
();

22119 
	gp_code
 = 
code_begš_t
;…_code<
	gp_code_’d
; ++p_code) {

22120 
	gİcode
.
	g_d©a
 = 
p_code
->
_d©a
;

22121 cÚ¡ 
ulÚgT
 
	grg‘
 = 
İcode
[1];

22122 
	gmem
[
rg‘
] = 
_cimg_mp_defunc
(*
this
);

22124 
	gp_code_’d
 = 
code
.
’d
();

22128 
’d_t
() {

22129 ià(!
	gcode_’d_t
) ;

22130 ià(
	gimgš
) {

22131 
	gmem
[
_cimg_mp_¦Ù_x
] = 
imgš
.
_width
 - 1.;

22132 
	gmem
[
_cimg_mp_¦Ù_y
] = 
imgš
.
_height
 - 1.;

22133 
	gmem
[
_cimg_mp_¦Ù_z
] = 
imgš
.
_d•th
 - 1.;

22134 
	gmem
[
_cimg_mp_¦Ù_c
] = 
imgš
.
_¥eùrum
 - 1.;

22135 } 
	gmem
[
_cimg_mp_¦Ù_x
] = 
mem
[
_cimg_mp_¦Ù_y
] = mem[
_cimg_mp_¦Ù_z
] = mem[
_cimg_mp_¦Ù_c
] = 0;

22136 
	gp_code_’d
 = 
code_’d_t
.
’d
();

22137 
	gp_code
 = 
code_’d_t
;…_code<
	gp_code_’d
; ++p_code) {

22138 
	gİcode
.
	g_d©a
 = 
p_code
->
_d©a
;

22139 cÚ¡ 
ulÚgT
 
	grg‘
 = 
İcode
[1];

22140 
	gmem
[
rg‘
] = 
_cimg_mp_defunc
(*
this
);

22145 
’d
() {

22146 ià(!
	gcode_’d
) ;

22147 ià(
	gimgš
) {

22148 
	gmem
[
_cimg_mp_¦Ù_x
] = 
imgš
.
_width
 - 1.;

22149 
	gmem
[
_cimg_mp_¦Ù_y
] = 
imgš
.
_height
 - 1.;

22150 
	gmem
[
_cimg_mp_¦Ù_z
] = 
imgš
.
_d•th
 - 1.;

22151 
	gmem
[
_cimg_mp_¦Ù_c
] = 
imgš
.
_¥eùrum
 - 1.;

22152 } 
	gmem
[
_cimg_mp_¦Ù_x
] = 
mem
[
_cimg_mp_¦Ù_y
] = mem[
_cimg_mp_¦Ù_z
] = mem[
_cimg_mp_¦Ù_c
] = 0;

22153 
	gp_code_’d
 = 
code_’d
.
’d
();

22154 
	gp_code
 = 
code_’d
;…_code<
	gp_code_’d
; ++p_code) {

22155 
	gİcode
.
	g_d©a
 = 
p_code
->
_d©a
;

22156 cÚ¡ 
ulÚgT
 
	grg‘
 = 
İcode
[1];

22157 
	gmem
[
rg‘
] = 
_cimg_mp_defunc
(*
this
);

22163 
m”ge
(
_cimg_m©h_·r£r
& 
mp
) {

22164 ià(&
	gmp
==
this
) ;

22165 
cimg_rofY
(
mp
.
memm”ge
,
k
) {

22167 
	gpos
 = ()
mp
.
memm”ge
(0,
k
),

22168 
	gsiz
 = ()
mp
.
memm”ge
(1,
k
),

22169 
	giİ
 = ()
mp
.
memm”ge
(2,
k
);

22170 ià(!
	gsiz
è
	giİ
) {

22171 0 : 
mp
.
mem
[
pos
] = mem[pos]; ;

22172 1 : 
mp
.
mem
[
pos
]+=mem[pos]; ;

22173 2 : 
mp
.
mem
[
pos
]-=mem[pos]; ;

22174 3 : 
mp
.
mem
[
pos
]*=mem[pos]; ;

22175 4 : 
mp
.
mem
[
pos
]/=mem[pos]; ;

22176 5 : 
mp
.
mem
[
pos
] = 
¡d
::
mš
(mp.mem[pos],mem[pos]); ;

22177 6 : 
mp
.
mem
[
pos
] = 
¡d
::
max
(mp.mem[pos],mem[pos]); ;

22178 } 
	giİ
) {

22180 
CImg
<
doubËT
>(&
mp
.
mem
[
pos
 + 1],
	gsiz
,1,1,1,
	gŒue
) = CImg<doubleT>(&mem[pos + 1],siz,1,1,1,true);

22183 
CImg
<
doubËT
>(&
mp
.
mem
[
pos
 + 1],
	gsiz
,1,1,1,
	gŒue
)+=CImg<doubleT>(&mem[pos + 1],siz,1,1,1,true);

22186 
CImg
<
doubËT
>(&
mp
.
mem
[
pos
 + 1],
	gsiz
,1,1,1,
	gŒue
)-=CImg<doubleT>(&mem[pos + 1],siz,1,1,1,true);

22189 
CImg
<
doubËT
>(&
mp
.
mem
[
pos
 + 1],
	gsiz
,1,1,1,
	gŒue
)*=CImg<doubleT>(&mem[pos + 1],siz,1,1,1,true);

22192 
CImg
<
doubËT
>(&
mp
.
mem
[
pos
 + 1],
	gsiz
,1,1,1,
	gŒue
)/=CImg<doubleT>(&mem[pos + 1],siz,1,1,1,true);

22195 
CImg
<
doubËT
>(&
mp
.
mem
[
pos
 + 1],
	gsiz
,1,1,1,
	gŒue
).
mš
(CImg<doubËT>(&mem[po + 1],
siz
,1,1,1,
Œue
));

22198 
CImg
<
doubËT
>(&
mp
.
mem
[
pos
 + 1],
	gsiz
,1,1,1,
	gŒue
).
max
(CImg<doubËT>(&mem[po + 1],
siz
,1,1,1,
Œue
));

22205 cÚ¡ *
s_¬gth
(cÚ¡ 
n_¬g
) {

22207 *
	g_s_¬g
[] = { "", "First", "Second", "Third", "Fourth", "Fifth", "Sixth", "Seventh", "Eighth","Ninth",

22210  
	g_s_¬g
[
n_¬g
<(
_s_¬g
)/(*)?n_arg:(_s_arg)/(*)-1];

22214 
	gCImg
<
	gch¬T
> 
s_ÿÎšg_funùiÚ
() const {

22215 
	gCImg
<
	gch¬T
> 
	g»s
;

22217 
	gl1
 = 
ÿÎšg_funùiÚ
?()
¡d
::
¡¾’
(calling_function):0U,

22218 
	gl2
 = 
u£r_maüo
?()
¡d
::
¡¾’
(user_macro):0U;

22219 ià(
	gl2
) {

22220 
	g»s
.
assign
(
l1
 + 
l2
 + 48);

22221 
cimg_¢´štf
(
»s
,»s.
_width
,"%s(): Wh’ sub¡™utšg funùiÚ '%s()'",
ÿÎšg_funùiÚ
,
u£r_maüo
);

22223 
	g»s
.
assign
(
l1
 + 
l2
 + 4);

22224 
cimg_¢´štf
(
»s
,»s.
_width
,"%s()",
ÿÎšg_funùiÚ
);

22226  
	g»s
;

22230 
	gCImg
<
	gch¬T
> 
s_ty³
(cÚ¡ 
¬g
) const {

22231 
	gCImg
<
	gch¬T
> 
	g»s
;

22232 ià(
_cimg_mp_is_veùÜ
(
¬g
)) {

22233 
	gCImg
<
	gch¬T
>::
¡ršg
("veùÜXXXXXXXXXXXXXXXX").
move_to
(
»s
);

22234 
cimg_¥rštf
(
»s
.
_d©a
 + 6,"%u",
_cimg_mp_size
(
¬g
));

22235 } 
	gCImg
<
	gch¬T
>::
¡ršg
("sÿÏr").
move_to
(
»s
);

22236  
	g»s
;

22240 
	gCImg
<
	guštT
> 
g‘_Ëv–
(
CImg
<
ch¬T
>& 
_ex´
) const {

22241 
boŞ
 
	gis_esÿ³d
 = 
çl£
, 
	gÃxt_is_esÿ³d
 = false;

22242 
	gmode
 = 0, 
	gÃxt_mode
 = 0;

22243 
	gCImg
<
	guštT
> 
»s
(
_ex´
.
_width
 - 1);

22244 *
	gpd
 = 
»s
.
_d©a
;

22245 
	g_Ëv–
 = 0;

22246 cÚ¡ *
	gps
 = 
_ex´
.
_d©a
; *p && 
	g_Ëv–
>=0; ++ps) {

22247 ià(!
	gis_esÿ³d
 && !
	gÃxt_is_esÿ³d
 && *
	gps
=='\\'è
Ãxt_is_esÿ³d
 = 
Œue
;

22248 ià(!
	gis_esÿ³d
 && *
	gps
=='\'') {

22249 ià(!
mode
 && 
ps
>
_ex´
.
_d©a
 && *Õ - 1)=='['è
Ãxt_mode
 = mode = 2;

22250 ià(
	gmode
==2 && *(
ps
 + 1)==']'è
Ãxt_mode
 = !
mode
;

22251 ià(
	gmode
<2è
	gÃxt_mode
 = 
mode
?(mode = 0):1;

22253 *(
	gpd
++èğ()(
mode
>=1 || 
is_esÿ³d
?
_Ëv–
 + (mode==1):

22254 *
ps
=='(' || *ps=='['?
_Ëv–
++:

22255 *
ps
==')' || *ps==']'?--
_Ëv–
:

22256 
_Ëv–
);

22257 
	gmode
 = 
Ãxt_mode
;

22258 
	gis_esÿ³d
 = 
Ãxt_is_esÿ³d
;

22259 
	gÃxt_is_esÿ³d
 = 
çl£
;

22261 ià(
	gmode
) {

22262 
	gcimg
::
¡»Îsize
(
_ex´
,64);

22263 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

22265 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,

22266 
_ex´
.
_d©a
);

22268 ià(
	g_Ëv–
) {

22269 
	gcimg
::
¡»Îsize
(
_ex´
,64);

22270 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

22272 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,

22273 
_ex´
.
_d©a
);

22275  
	g»s
;

22279 
g‘_mem_img_šdex
() {

22280 ià(
	gmem_img_šdex
==~0U) {

22281 ià(&
imgout
>
li¡out
.
d©a
(è&& &imgout<li¡out.
’d
())

22282 
mem_img_šdex
 = 
cÚ¡ªt
(()(&
imgout
 - 
li¡out
.
d©a
()));

22284 
	gpos
 = ~0U;

22285 
cimgli¡_fÜ
(
li¡out
,
l
)

22286 ià(
	gimgout
.
	g_d©a
==
li¡out
[
l
].
_d©a
 && 
imgout
.
is_§meXYZC
Öi¡out[l])è{ 
pos
 =†; ; }

22287 ià(
	gpos
!=~0Uè
mem_img_šdex
 = 
cÚ¡ªt
(()
pos
);

22290  
	gmem_img_šdex
;

22294 
g‘_v¬ŸbË_pos
(cÚ¡ *
v¬ŸbË_Çme
, &
pos
, &
½os
) {

22295 
	gc1
, 
	gc2
, 
	gc3
, 
	gc4
;

22296 
	gpos
 = 
½os
 = ~0U;

22297 ià(!
	gv¬ŸbË_Çme
 || !*variable_name) ;

22299 
	g½
 = 
v¬ŸbË_Çme
[1]?~0U:*variable_name;

22300 ià(
	gv¬ŸbË_Çme
[1] && !variable_name[2]) {

22301 
	gc1
 = 
v¬ŸbË_Çme
[0];

22302 
	gc2
 = 
v¬ŸbË_Çme
[1];

22303 ià(
	gc1
=='w' && 
c2
=='h'è
½
 = 0;

22304 ià(
	gc1
=='p' && 
c2
=='i'è
½
 = 3;

22305 ià(
	gc1
=='i') {

22306 ià(
c2
>='0' && c2<='9'è
½
 = 20 + c2 - '0';

22307 ià(
	gc2
=='m'è
½
 = 4;

22308 ià(
	gc2
=='M'è
½
 = 5;

22309 ià(
	gc2
=='a'è
½
 = 6;

22310 ià(
	gc2
=='v'è
½
 = 7;

22311 ià(
	gc2
=='s'è
½
 = 8;

22312 ià(
	gc2
=='p'è
½
 = 9;

22313 ià(
	gc2
=='c'è
½
 = 10;

22314 } ià(
	gc2
=='m') {

22315 ià(
c1
=='x'è
½
 = 12;

22316 ià(
	gc1
=='y'è
½
 = 13;

22317 ià(
	gc1
=='z'è
½
 = 14;

22318 ià(
	gc1
=='c'è
½
 = 15;

22319 } ià(
	gc2
=='M') {

22320 ià(
c1
=='x'è
½
 = 16;

22321 ià(
	gc1
=='y'è
½
 = 17;

22322 ià(
	gc1
=='z'è
½
 = 18;

22323 ià(
	gc1
=='c'è
½
 = 19;

22325 } ià(
	gv¬ŸbË_Çme
[1] && variable_name[2] && !variable_name[3]) {

22326 
	gc1
 = 
v¬ŸbË_Çme
[0];

22327 
	gc2
 = 
v¬ŸbË_Çme
[1];

22328 
	gc3
 = 
v¬ŸbË_Çme
[2];

22329 ià(
	gc1
=='w' && 
c2
=='h' && 
c3
=='d'è
½
 = 1;

22330 } ià(
	gv¬ŸbË_Çme
[1] && variable_name[2] && variable_name[3] &&

22331 !
	gv¬ŸbË_Çme
[4]) {

22332 
	gc1
 = 
v¬ŸbË_Çme
[0];

22333 
	gc2
 = 
v¬ŸbË_Çme
[1];

22334 
	gc3
 = 
v¬ŸbË_Çme
[2];

22335 
	gc4
 = 
v¬ŸbË_Çme
[3];

22336 ià(
	gc1
=='w' && 
c2
=='h' && 
c3
=='d' && 
c4
=='s'è
½
 = 2;

22337 } ià(!
	g¡d
::
¡rcmp
(
v¬ŸbË_Çme
,"š‹½Ş©iÚ")è
	g½
 = 30;

22338 ià(!
	g¡d
::
¡rcmp
(
v¬ŸbË_Çme
,"bound¬y")è
	g½
 = 31;

22340 ià(
	g½
!=~0Uè{ 
½os
 = 
½
; ; }

22343 
cimgli¡_fÜ
(
v¬ŸbË_def
,
i
)

22344 ià(!
	g¡d
::
¡rcmp
(
v¬ŸbË_Çme
,
v¬ŸbË_def
[
i
])è{ 
	gpos
 = i; ; }

22348 
	gCImg
<
	gboŞT
> 
is_šside_¡ršg
(
CImg
<
ch¬T
>& 
_ex´
) const {

22349 
boŞ
 
	gis_esÿ³d
 = 
çl£
, 
	gÃxt_is_esÿ³d
 = false;

22350 
	gmode
 = 0, 
	gÃxt_mode
 = 0;

22351 
	gCImg
<
	gboŞT
> 
	g»s
 = 
CImg
<
ch¬T
>::
¡ršg
(
_ex´
);

22352 
boŞ
 *
	gpd
 = 
»s
.
_d©a
;

22353 cÚ¡ *
	gps
 = 
_ex´
.
_d©a
; *ps; ++ps) {

22354 ià(!
	gÃxt_is_esÿ³d
 && *
	gps
=='\\'è
Ãxt_is_esÿ³d
 = 
Œue
;

22355 ià(!
	gis_esÿ³d
 && *
	gps
=='\'') {

22356 ià(!
mode
 && 
ps
>
_ex´
.
_d©a
 && *Õ - 1)=='['è
Ãxt_mode
 = mode = 2;

22357 ià(
	gmode
==2 && *(
ps
 + 1)==']'è
Ãxt_mode
 = !
mode
;

22358 ià(
	gmode
<2è
	gÃxt_mode
 = 
mode
?(mode = 0):1;

22360 *(
	gpd
++èğ
mode
>=1 || 
is_esÿ³d
;

22361 
	gmode
 = 
Ãxt_mode
;

22362 
	gis_esÿ³d
 = 
Ãxt_is_esÿ³d
;

22363 
	gÃxt_is_esÿ³d
 = 
çl£
;

22365  
	g»s
;

22369 
boŞ
 
is_v¬ch¬
(cÚ¡ 
c
) const {

22370  (
	gc
>='a' && 
c
<='z') || (c>='A' && c<='Z') || (c>='0' && c<='9') || c=='_';

22374 
boŞ
 
is_comp_veùÜ
(cÚ¡ 
¬g
) const {

22375 
	gsiz
 = 
_cimg_mp_size
(
¬g
);

22376 ià(
	gsiz
>8è 
	gçl£
;

22377 cÚ¡ *
	g±r
 = 
memty³
.
d©a
(
¬g
 + 1);

22378 
boŞ
 
	gis_tmp
 = 
Œue
;

22379 
	gsiz
-->0èià(*(
	g±r
++)è{ 
	gis_tmp
 = 
çl£
; ; }

22380  
	gis_tmp
;

22386 
check_cÚ¡ªt
(cÚ¡ 
¬g
, cÚ¡ 
n_¬g
,

22387 cÚ¡ 
mode
,

22388 *cÚ¡ 
ss
, *cÚ¡ 
£
, cÚ¡ 
§ved_ch¬
) {

22389 
_cimg_mp_check_ty³
(
¬g
,
n_¬g
,1,0);

22390 ià(!(
_cimg_mp_is_cÚ¡ªt
(
¬g
) &&

22391 (!
	gmode
 || ()()
	gmem
[
¬g
]==
mem
[arg]) &&

22392 (
mode
<2 || 
mem
[
¬g
]>=(mode==3)))) {

22393 cÚ¡ *cÚ¡ 
s_¬g
 = 
s_¬gth
(
n_¬g
);

22394 *
	gs0
; 
	g_cimg_mp_¡»¼
;

22395 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

22398 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,*s_op?":":"",

22399 
s_¬g
,*s_¬g?"‡rgum’t":" Argum’t",
s_ty³
(
¬g
).
_d©a
,

22400 !
mode
?"":mode==1?"n integer":

22401 
mode
==2?"…ositive integer":" strictly…ositive integer",

22402 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

22407 
check_cÚ¡ªt_šdex
(cÚ¡ 
¬g
,

22408 *cÚ¡ 
ss
, *cÚ¡ 
£
, cÚ¡ 
§ved_ch¬
) {

22409 ià(
	g¬g
!=~0U && !
_cimg_mp_is_cÚ¡ªt
(
¬g
)) {

22410 *
s0
; 
	g_cimg_mp_¡»¼
;

22411 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

22414 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,*s_op?":":"",

22415 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

22420 
check_m©rix_squ¬e
(cÚ¡ 
¬g
, cÚ¡ 
n_¬g
,

22421 *cÚ¡ 
ss
, *cÚ¡ 
£
, cÚ¡ 
§ved_ch¬
) {

22422 
_cimg_mp_check_ty³
(
¬g
,
n_¬g
,2,0);

22424 
	gsiz
 = 
_cimg_mp_size
(
¬g
),

22425 
	gn
 = ()
cimg
::
round
(
¡d
::
sq¹
(()
siz
));

22426 ià(
n
*
	gn
!=
siz
) {

22427 cÚ¡ *
s_¬g
;

22428 ià(*
	gs_İ
!='F'è
s_¬g
 = !
n_¬g
?"":n_arg==1?"Left-hand":"Right-hand";

22429 
	gs_¬g
 = !
n_¬g
?"":n_arg==1?"First":n_arg==2?"Second":n_arg==3?"Third":"One";

22430 *
	gs0
; 
	g_cimg_mp_¡»¼
;

22431 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

22434 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,*s_op?":":"",

22435 
s_¬g
,*
s_İ
=='F'?(*s_arg?"‡rgument":" Argument"):(*s_arg?" operand":" Operand"),

22436 
s_ty³
(
¬g
).
_d©a
,

22437 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

22445 
check_ty³
(cÚ¡ 
¬g
, cÚ¡ 
n_¬g
,

22446 cÚ¡ 
mode
, cÚ¡ 
N
,

22447 *cÚ¡ 
ss
, *cÚ¡ 
£
, cÚ¡ 
§ved_ch¬
) {

22448 cÚ¡ 
boŞ


22449 
	gis_sÿÏr
 = 
_cimg_mp_is_sÿÏr
(
¬g
),

22450 
	gis_veùÜ
 = 
_cimg_mp_is_veùÜ
(
¬g
è&& (!
N
 || 
_cimg_mp_size
(arg)==N);

22451 
boŞ
 
	gcÚd
 = 
çl£
;

22452 ià(
	gmode
&1è
	gcÚd
|=
is_sÿÏr
;

22453 ià(
	gmode
&2è
	gcÚd
|=
is_veùÜ
;

22454 ià(!
	gcÚd
) {

22455 cÚ¡ *
	gs_¬g
;

22456 ià(*
	gs_İ
!='F'è
s_¬g
 = !
n_¬g
?"":n_arg==1?"Left-hand":"Right-hand";

22457 
	gs_¬g
 = 
s_¬gth
(
n_¬g
);

22458 
	gCImg
<
	gch¬T
> 
sb_ty³
(32);

22459 ià(
	gmode
==1è
cimg_¢´štf
(
sb_ty³
,sb_ty³.
_width
,"'scalar'");

22460 ià(
	gmode
==2) {

22461 ià(
N
è
cimg_¢´štf
(
sb_ty³
,sb_ty³.
_width
,"'vector%u'",N);

22462 
cimg_¢´štf
(
sb_ty³
,sb_ty³.
_width
,"'vector'");

22464 ià(
	gN
è
cimg_¢´štf
(
sb_ty³
,sb_ty³.
_width
,"'sÿÏr' o¸'veùÜ%u'",
N
);

22465 
cimg_¢´štf
(
sb_ty³
,sb_ty³.
_width
,"'scalar' or 'vector'");

22467 *
	gs0
; 
	g_cimg_mp_¡»¼
;

22468 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

22471 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,*s_op?":":"",

22472 
s_¬g
,*
s_İ
=='F'?(*s_arg?"‡rgument":" Argument"):(*s_arg?" operand":" Operand"),

22473 
s_ty³
(
¬g
).
_d©a
,
sb_ty³
._data,

22474 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

22479 
check_li¡
(cÚ¡ 
boŞ
 
is_out
,

22480 *cÚ¡ 
ss
, *cÚ¡ 
£
, cÚ¡ 
§ved_ch¬
) {

22481 ià((!
	gis_out
 && !
	gli¡š
è|| (is_ouˆ&& !
	gli¡out
)) {

22482 *
	gs0
; 
	g_cimg_mp_¡»¼
;

22483 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] "

22486 
pix–_ty³
(),
_cimg_mp_ÿÎšg_funùiÚ
,
s_İ
,*s_op?":":"",

22487 
s0
>
ex´
.
_d©a
?"...":"",s0,
£
<&ex´.
back
()?"...":"");

22492 
cÚ¡ªt
(cÚ¡ 
v®
) {

22495 ià(
	gcimg
::
ty³
<>::
is_Çn
(
v®
)è 
_cimg_mp_¦Ù_Çn
;

22496 ià(
	gv®
==()()
v®
) {

22497 ià(
v®
>=0 && val<=10)  ()val;

22498 ià(
	gv®
<0 && v®>=-5è ()(10 - 
v®
);

22500 ià(
	gv®
==0.5)  16;

22503 
	gšd
 = ~0U;

22504 ià(
	gcÚ¡ÿche_size
<1024) {

22505 ià(!
	gcÚ¡ÿche_size
) {

22506 
	gcÚ¡ÿche_v®s
.
assign
(16,1,1,1,0);

22507 
	gcÚ¡ÿche_šds
.
assign
(16,1,1,1,0);

22508 *
	gcÚ¡ÿche_v®s
 = 
v®
;

22509 
	gcÚ¡ÿche_size
 = 1;

22510 
	gšd
 = 0;

22512 cÚ¡ 
	gv®_beg
 = *
cÚ¡ÿche_v®s
, 
	gv®_’d
 = cÚ¡ÿche_v®s[
cÚ¡ÿche_size
 - 1];

22513 ià(
	gv®_beg
>=
v®
è
šd
 = 0;

22514 ià(
	gv®_’d
==
v®
è
šd
 = 
cÚ¡ÿche_size
 - 1;

22515 ià(
	gv®_’d
<
	gv®
è
	gšd
 = 
cÚ¡ÿche_size
;

22517 
	gi0
 = 1, 
	gi1
 = 
cÚ¡ÿche_size
 - 2;

22518 
	gi0
<=
i1
) {

22519 cÚ¡ 
mid
 = (
i0
 + 
i1
)/2;

22520 ià(
	gcÚ¡ÿche_v®s
[
mid
]==
v®
è{ 
i0
 = mid; ; }

22521 ià(
	gcÚ¡ÿche_v®s
[
mid
]<
	gv®
è
	gi0
 = mid + 1;

22522 
	gi1
 = 
mid
 - 1;

22524 
	gšd
 = 
i0
;

22527 ià(
	gšd
>=
cÚ¡ÿche_size
 || 
cÚ¡ÿche_v®s
[
šd
]!=
v®
) {

22528 ++
cÚ¡ÿche_size
;

22529 ià(
	gcÚ¡ÿche_size
>
	gcÚ¡ÿche_v®s
.
	g_width
) {

22530 
	gcÚ¡ÿche_v®s
.
»size
(-200,1,1,1,0);

22531 
	gcÚ¡ÿche_šds
.
»size
(-200,1,1,1,0);

22533 cÚ¡ 
	gl
 = 
cÚ¡ÿche_size
 - ()
šd
 - 1;

22534 ià(
	gl
>0) {

22535 
	g¡d
::
memmove
(&
cÚ¡ÿche_v®s
[
šd
 + 1],&cÚ¡ÿche_v®s[šd],
l
*());

22536 
	g¡d
::
memmove
(&
cÚ¡ÿche_šds
[
šd
 + 1],&cÚ¡ÿche_šds[šd],
l
*());

22538 
	gcÚ¡ÿche_v®s
[
šd
] = 
v®
;

22539 
	gcÚ¡ÿche_šds
[
šd
] = 0;

22542 ià(
	gcÚ¡ÿche_šds
[
šd
])  constcache_inds[ind];

22546 ià(
	gmempos
>=
mem
.
_width
è{ mem.
»size
(-200,1,1,1,0); 
	gmemty³
.resize(-200,1,1,1,0); }

22547 cÚ¡ 
	gpos
 = 
mempos
++;

22548 
	gmem
[
pos
] = 
v®
;

22549 
	gmemty³
[
pos
] = 1;

22550 ià(
	gšd
!=~0Uè
cÚ¡ÿche_šds
[
šd
] = 
pos
;

22551  
	gpos
;

22555 
sÿÏr
() {

22556 ià(
	gmempos
>=
mem
.
_width
è{ mem.
»size
(-200,1,1,1,0); 
	gmemty³
.resize(mem._width,1,1,1,0); }

22557  
	gmempos
++;

22561 
veùÜ
(cÚ¡ 
siz
) {

22562 ià(
	gmempos
 + 
	gsiz
>=
mem
.
_width
) {

22563 
mem
.
»size
(2*mem.
_width
 + 
siz
,1,1,1,0);

22564 
	gmemty³
.
»size
(
mem
.
_width
,1,1,1,0);

22566 cÚ¡ 
	gpos
 = 
mempos
++;

22567 
	gmem
[
pos
] = 
cimg
::
ty³
<>::
Çn
();

22568 
	gmemty³
[
pos
] = 
siz
 + 1;

22569 
	gmempos
+=
siz
;

22570  
	gpos
;

22574 
veùÜ
(cÚ¡ 
siz
, cÚ¡ 
v®ue
) {

22575 cÚ¡ 
	gpos
 = 
veùÜ
(
siz
);

22576 *
	g±r
 = &
mem
[
pos
] + 1;

22577 
	gi
 = 0; i<
	gsiz
; ++iè*(
	g±r
++èğ
v®ue
;

22578  
	gpos
;

22582 
veùÜ_cİy
(cÚ¡ 
¬g
) {

22584 
	gsiz
 = 
_cimg_mp_size
(
¬g
),

22585 
	gpos
 = 
veùÜ
(
siz
);

22586 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_veùÜ_cİy
,
pos
,
¬g
,
siz
).
move_to
(
code
);

22587  
	gpos
;

22591 
£t_v¬ŸbË_veùÜ
(cÚ¡ 
¬g
) {

22592 
	gsiz
 = 
_cimg_mp_size
(
¬g
);

22593 *
	g±r
 = 
memty³
.
d©a
(
¬g
 + 1);

22594 
	gsiz
-->0è*(
	g±r
++) = -1;

22597 
sÿÏr0
(cÚ¡ 
mp_func
 
İ
) {

22598 cÚ¡ 
	gpos
 = 
sÿÏr
();

22599 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
İ
,
pos
).
move_to
(
code
);

22600  
	gpos
;

22603 
sÿÏr1
(cÚ¡ 
mp_func
 
İ
, cÚ¡ 
¬g1
) {

22604 cÚ¡ 
	gpos
 =

22605 
¬g1
!=~0U &&‡rg1>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
×rg1è&& 
İ
!=
mp_cİy
?¬g1:
sÿÏr
();

22606 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
İ
,
pos
,
¬g1
).
move_to
(
code
);

22607  
	gpos
;

22610 
sÿÏr2
(cÚ¡ 
mp_func
 
İ
, cÚ¡ 
¬g1
, cÚ¡ 
¬g2
) {

22611 cÚ¡ 
	gpos
 =

22612 
¬g1
!=~0U &&‡rg1>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
(arg1)?arg1:

22613 
¬g2
!=~0U &&‡rg2>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
×rg2)?¬g2:
sÿÏr
();

22614 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
İ
,
pos
,
¬g1
,
¬g2
).
move_to
(
code
);

22615  
	gpos
;

22618 
sÿÏr3
(cÚ¡ 
mp_func
 
İ
,

22619 cÚ¡ 
¬g1
, cÚ¡ 
¬g2
, cÚ¡ 
¬g3
) {

22620 cÚ¡ 
	gpos
 =

22621 
¬g1
!=~0U &&‡rg1>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
(arg1)?arg1:

22622 
¬g2
!=~0U &&‡rg2>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
(arg2)?arg2:

22623 
¬g3
!=~0U &&‡rg3>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
×rg3)?¬g3:
sÿÏr
();

22624 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
İ
,
pos
,
¬g1
,
¬g2
,
¬g3
).
move_to
(
code
);

22625  
	gpos
;

22628 
sÿÏr4
(cÚ¡ 
mp_func
 
İ
,

22629 cÚ¡ 
¬g1
, cÚ¡ 
¬g2
, cÚ¡ 
¬g3
,

22630 cÚ¡ 
¬g4
) {

22631 cÚ¡ 
	gpos
 =

22632 
¬g1
!=~0U &&‡rg1>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
(arg1)?arg1:

22633 
¬g2
!=~0U &&‡rg2>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
(arg2)?arg2:

22634 
¬g3
!=~0U &&‡rg3>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
(arg3)?arg3:

22635 
¬g4
!=~0U &&‡rg4>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
×rg4)?¬g4:
sÿÏr
();

22636 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
İ
,
pos
,
¬g1
,
¬g2
,
¬g3
,
¬g4
).
move_to
(
code
);

22637  
	gpos
;

22640 
sÿÏr5
(cÚ¡ 
mp_func
 
İ
,

22641 cÚ¡ 
¬g1
, cÚ¡ 
¬g2
, cÚ¡ 
¬g3
,

22642 cÚ¡ 
¬g4
, cÚ¡ 
¬g5
) {

22643 cÚ¡ 
	gpos
 =

22644 
¬g1
!=~0U &&‡rg1>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
(arg1)?arg1:

22645 
¬g2
!=~0U &&‡rg2>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
(arg2)?arg2:

22646 
¬g3
!=~0U &&‡rg3>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
(arg3)?arg3:

22647 
¬g4
!=~0U &&‡rg4>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
(arg4)?arg4:

22648 
¬g5
!=~0U &&‡rg5>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
×rg5)?¬g5:
sÿÏr
();

22649 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
İ
,
pos
,
¬g1
,
¬g2
,
¬g3
,
¬g4
,
¬g5
).
move_to
(
code
);

22650  
	gpos
;

22653 
sÿÏr6
(cÚ¡ 
mp_func
 
İ
,

22654 cÚ¡ 
¬g1
, cÚ¡ 
¬g2
, cÚ¡ 
¬g3
,

22655 cÚ¡ 
¬g4
, cÚ¡ 
¬g5
, cÚ¡ 
¬g6
) {

22656 cÚ¡ 
	gpos
 =

22657 
¬g1
!=~0U &&‡rg1>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
(arg1)?arg1:

22658 
¬g2
!=~0U &&‡rg2>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
(arg2)?arg2:

22659 
¬g3
!=~0U &&‡rg3>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
(arg3)?arg3:

22660 
¬g4
!=~0U &&‡rg4>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
(arg4)?arg4:

22661 
¬g5
!=~0U &&‡rg5>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
(arg5)?arg5:

22662 
¬g6
!=~0U &&‡rg6>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
×rg6)?¬g6:
sÿÏr
();

22663 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
İ
,
pos
,
¬g1
,
¬g2
,
¬g3
,
¬g4
,
¬g5
,
¬g6
).
move_to
(
code
);

22664  
	gpos
;

22667 
sÿÏr7
(cÚ¡ 
mp_func
 
İ
,

22668 cÚ¡ 
¬g1
, cÚ¡ 
¬g2
, cÚ¡ 
¬g3
,

22669 cÚ¡ 
¬g4
, cÚ¡ 
¬g5
, cÚ¡ 
¬g6
,

22670 cÚ¡ 
¬g7
) {

22671 cÚ¡ 
	gpos
 =

22672 
¬g1
!=~0U &&‡rg1>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
(arg1)?arg1:

22673 
¬g2
!=~0U &&‡rg2>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
(arg2)?arg2:

22674 
¬g3
!=~0U &&‡rg3>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
(arg3)?arg3:

22675 
¬g4
!=~0U &&‡rg4>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
(arg4)?arg4:

22676 
¬g5
!=~0U &&‡rg5>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
(arg5)?arg5:

22677 
¬g6
!=~0U &&‡rg6>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
(arg6)?arg6:

22678 
¬g7
!=~0U &&‡rg7>
_cimg_mp_¦Ù_c
 && 
_cimg_mp_is_comp
×rg7)?¬g7:
sÿÏr
();

22679 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
İ
,
pos
,
¬g1
,
¬g2
,
¬g3
,
¬g4
,
¬g5
,
¬g6
,
¬g7
).
move_to
(
code
);

22680  
	gpos
;

22683 
£lf_veùÜ_s
(cÚ¡ 
pos
, cÚ¡ 
mp_func
 
İ
, cÚ¡ 
¬g1
) {

22684 cÚ¡ 
	gsiz
 = 
_cimg_mp_size
(
pos
);

22685 ià(
	gsiz
>24è
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_£lf_m­_veùÜ_s
,
pos
,
siz
,(ulÚgT)
İ
,
¬g1
).
move_to
(
code
);

22687 
	gcode
.
š£¹
(
siz
);

22688 
	gk
 = 1; k<=
siz
; ++k)

22689 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
İ
,
pos
 + 
k
,
¬g1
).
move_to
(
code
[code.
_width
 - 1 - 
siz
 + k]);

22693 
£lf_veùÜ_v
(cÚ¡ 
pos
, cÚ¡ 
mp_func
 
İ
, cÚ¡ 
¬g1
) {

22694 cÚ¡ 
	gsiz
 = 
_cimg_mp_size
(
pos
);

22695 ià(
	gsiz
>24è
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_£lf_m­_veùÜ_v
,
pos
,
siz
,(ulÚgT)
İ
,
¬g1
).
move_to
(
code
);

22697 
	gcode
.
š£¹
(
siz
);

22698 
	gk
 = 1; k<=
siz
; ++k)

22699 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
İ
,
pos
 + 
k
,
¬g1
 + k).
move_to
(
code
[code.
_width
 - 1 - 
siz
 + k]);

22703 
veùÜ1_v
(cÚ¡ 
mp_func
 
İ
, cÚ¡ 
¬g1
) {

22705 
	gsiz
 = 
_cimg_mp_size
(
¬g1
),

22706 
	gpos
 = 
is_comp_veùÜ
(
¬g1
)?¬g1:
veùÜ
(
siz
);

22707 ià(
	gsiz
>24è
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_veùÜ_m­_v
,
pos
,
siz
,(ulÚgT)
İ
,
¬g1
).
move_to
(
code
);

22709 
	gcode
.
š£¹
(
siz
);

22710 
	gk
 = 1; k<=
siz
; ++k)

22711 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
İ
,
pos
 + 
k
,
¬g1
 + k).
move_to
(
code
[code.
_width
 - 1 - 
siz
 + k]);

22713  
	gpos
;

22716 
veùÜ2_vv
(cÚ¡ 
mp_func
 
İ
, cÚ¡ 
¬g1
, cÚ¡ 
¬g2
) {

22718 
	gsiz
 = 
_cimg_mp_size
(
¬g1
),

22719 
	gpos
 = 
is_comp_veùÜ
(
¬g1
)?¬g1:is_comp_veùÜ(
¬g2
)?¬g2:
veùÜ
(
siz
);

22720 ià(
	gsiz
>24è
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_veùÜ_m­_vv
,
pos
,
siz
,(ulÚgT)
İ
,
¬g1
,
¬g2
).
move_to
(
code
);

22722 
	gcode
.
š£¹
(
siz
);

22723 
	gk
 = 1; k<=
siz
; ++k)

22724 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
İ
,
pos
 + 
k
,
¬g1
 + k,
¬g2
 + k).
move_to
(
code
[code.
_width
 - 1 - 
siz
 + k]);

22726  
	gpos
;

22729 
veùÜ2_vs
(cÚ¡ 
mp_func
 
İ
, cÚ¡ 
¬g1
, cÚ¡ 
¬g2
) {

22731 
	gsiz
 = 
_cimg_mp_size
(
¬g1
),

22732 
	gpos
 = 
is_comp_veùÜ
(
¬g1
)?¬g1:
veùÜ
(
siz
);

22733 ià(
	gsiz
>24è
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_veùÜ_m­_vs
,
pos
,
siz
,(ulÚgT)
İ
,
¬g1
,
¬g2
).
move_to
(
code
);

22735 
	gcode
.
š£¹
(
siz
);

22736 
	gk
 = 1; k<=
siz
; ++k)

22737 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
İ
,
pos
 + 
k
,
¬g1
 + k,
¬g2
).
move_to
(
code
[code.
_width
 - 1 - 
siz
 + k]);

22739  
	gpos
;

22742 
veùÜ2_sv
(cÚ¡ 
mp_func
 
İ
, cÚ¡ 
¬g1
, cÚ¡ 
¬g2
) {

22744 
	gsiz
 = 
_cimg_mp_size
(
¬g2
),

22745 
	gpos
 = 
is_comp_veùÜ
(
¬g2
)?¬g2:
veùÜ
(
siz
);

22746 ià(
	gsiz
>24è
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_veùÜ_m­_sv
,
pos
,
siz
,(ulÚgT)
İ
,
¬g1
,
¬g2
).
move_to
(
code
);

22748 
	gcode
.
š£¹
(
siz
);

22749 
	gk
 = 1; k<=
siz
; ++k)

22750 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
İ
,
pos
 + 
k
,
¬g1
,
¬g2
 + k).
move_to
(
code
[code.
_width
 - 1 - 
siz
 + k]);

22752  
	gpos
;

22755 
veùÜ3_vss
(cÚ¡ 
mp_func
 
İ
, cÚ¡ 
¬g1
, cÚ¡ 
¬g2
,

22756 cÚ¡ 
¬g3
) {

22758 
	gsiz
 = 
_cimg_mp_size
(
¬g1
),

22759 
	gpos
 = 
is_comp_veùÜ
(
¬g1
)?¬g1:
veùÜ
(
siz
);

22760 ià(
	gsiz
>24è
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
mp_veùÜ_m­_vss
,
pos
,
siz
,(ulÚgT)
İ
,
¬g1
,
¬g2
,
¬g3
).
move_to
(
code
);

22762 
	gcode
.
š£¹
(
siz
);

22763 
	gk
 = 1; k<=
siz
; ++k)

22764 
	gCImg
<
	gulÚgT
>::
veùÜ
((
ulÚgT
)
İ
,
pos
 + 
k
,
¬g1
 + k,
¬g2
,
¬g3
).
move_to
(
code
[code.
_width
 - 1 - 
siz
 + k]);

22766  
	gpos
;

22772 #ifdeà
_mp_¬g


22773 #undeà
_mp_¬g


22775 
	#_mp_¬g
(
x
è
mp
.
mem
[mp.
İcode
[x]]

	)

22777 
mp_abs
(
_cimg_m©h_·r£r
& 
mp
) {

22778  
	gcimg
::
abs
(
_mp_¬g
(2));

22781 
mp_add
(
_cimg_m©h_·r£r
& 
mp
) {

22782  
_mp_¬g
(2) + _mp_arg(3);

22785 
mp_acos
(
_cimg_m©h_·r£r
& 
mp
) {

22786  
	g¡d
::
acos
(
_mp_¬g
(2));

22789 
mp_acosh
(
_cimg_m©h_·r£r
& 
mp
) {

22790  
	gcimg
::
acosh
(
_mp_¬g
(2));

22793 
mp_asšh
(
_cimg_m©h_·r£r
& 
mp
) {

22794  
	gcimg
::
asšh
(
_mp_¬g
(2));

22797 
mp_©ªh
(
_cimg_m©h_·r£r
& 
mp
) {

22798  
	gcimg
::
©ªh
(
_mp_¬g
(2));

22801 
mp_¬g
(
_cimg_m©h_·r£r
& 
mp
) {

22802 cÚ¡ 
	g_šd
 = ()
_mp_¬g
(4);

22804 
	gnb_¬gs
 = ()
mp
.
İcode
[2] - 4,

22805 
	gšd
 = 
_šd
<0?_šd + 
nb_¬gs
:()_ind,

22806 
	gsiz
 = ()
mp
.
İcode
[3];

22807 ià(
	gsiz
>0) {

22808 ià(
	gšd
>=
nb_¬gs
è
¡d
::
mem£t
(&
_mp_¬g
(1è+ 1,0,
siz
*());

22809 
	g¡d
::
memıy
(&
_mp_¬g
(1è+ 1,&_mp_¬g(
šd
 + 4è+ 1,
siz
*());

22810  
	gcimg
::
ty³
<>::
Çn
();

22812 ià(
	gšd
>=
nb_¬gs
)  0;

22813  
_mp_¬g
(
šd
 + 4);

22816 
mp_¬g0
(
_cimg_m©h_·r£r
& 
mp
) {

22817 cÚ¡ 
	g_šd
 = ()
_mp_¬g
(4);

22819 
	gnb_¬gs
 = ()
mp
.
İcode
[2] - 4,

22820 
	gšd
 = 
_šd
<0?_šd + 
nb_¬gs
:_ind + 1U,

22821 
	gsiz
 = ()
mp
.
İcode
[3];

22822 ià(
	gsiz
>0) {

22823 ià(
	gšd
>=
nb_¬gs
è
¡d
::
mem£t
(&
_mp_¬g
(1è+ 1,0,
siz
*());

22824 
	g¡d
::
memıy
(&
_mp_¬g
(1è+ 1,&_mp_¬g(
šd
 + 4è+ 1,
siz
*());

22825  
	gcimg
::
ty³
<>::
Çn
();

22827 ià(
	gšd
>=
nb_¬gs
)  0;

22828  
_mp_¬g
(
šd
 + 4);

22831 
mp_¬gkth
(
_cimg_m©h_·r£r
& 
mp
) {

22832 cÚ¡ 
	gi_’d
 = ()
mp
.
İcode
[2];

22833 cÚ¡ 
	gv®
 = 
mp_kth
(
mp
);

22834 
	gi
 = 4; i<
	gi_’d
; ++ièià(
	gv®
==
_mp_¬g
(
i
))  i - 3.;

22838 
mp_¬gmš
(
_cimg_m©h_·r£r
& 
mp
) {

22839 cÚ¡ 
	gi_’d
 = ()
mp
.
İcode
[2];

22840 
	gv®
 = 
_mp_¬g
(3);

22841 
	g¬gv®
 = 0;

22842 
	gi
 = 4; i<
	gi_’d
; ++i) {

22843 cÚ¡ 
	g_v®
 = 
_mp_¬g
(
i
);

22844 ià(
	g_v®
<
	gv®
è{ v® = 
_v®
; 
	g¬gv®
 = 
i
 - 3; }

22846  ()
	g¬gv®
;

22849 
mp_¬gmšabs
(
_cimg_m©h_·r£r
& 
mp
) {

22850 cÚ¡ 
	gi_’d
 = ()
mp
.
İcode
[2];

22851 
	gv®
 = 
_mp_¬g
(3), 
	gabsv®
 = 
cimg
::
abs
(
v®
);

22852 
	g¬gv®
 = 0;

22853 
	gi
 = 4; i<
	gi_’d
; ++i) {

22854 cÚ¡ 
	g_v®
 = 
_mp_¬g
(
i
), 
	g_absv®
 = 
cimg
::
abs
(
_v®
);

22855 ià(
	g_absv®
<
	gabsv®
è{ 
	gv®
 = 
_v®
;‡bsv® = 
_absv®
; 
	g¬gv®
 = 
i
 - 3; }

22857  ()
	g¬gv®
;

22860 
mp_¬gmax
(
_cimg_m©h_·r£r
& 
mp
) {

22861 cÚ¡ 
	gi_’d
 = ()
mp
.
İcode
[2];

22862 
	gv®
 = 
_mp_¬g
(3);

22863 
	g¬gv®
 = 0;

22864 
	gi
 = 4; i<
	gi_’d
; ++i) {

22865 cÚ¡ 
	g_v®
 = 
_mp_¬g
(
i
);

22866 ià(
	g_v®
>
	gv®
è{ v® = 
_v®
; 
	g¬gv®
 = 
i
 - 3; }

22868  ()
	g¬gv®
;

22871 
mp_¬gmaxabs
(
_cimg_m©h_·r£r
& 
mp
) {

22872 cÚ¡ 
	gi_’d
 = ()
mp
.
İcode
[2];

22873 
	gv®
 = 
_mp_¬g
(3), 
	gabsv®
 = 
cimg
::
abs
(
v®
);

22874 
	g¬gv®
 = 0;

22875 
	gi
 = 4; i<
	gi_’d
; ++i) {

22876 cÚ¡ 
	g_v®
 = 
_mp_¬g
(
i
), 
	g_absv®
 = 
cimg
::
abs
(
_v®
);

22877 ià(
	g_absv®
>
	gabsv®
è{ 
	gv®
 = 
_v®
;‡bsv® = 
_absv®
; 
	g¬gv®
 = 
i
 - 3; }

22879  ()
	g¬gv®
;

22882 
mp_asš
(
_cimg_m©h_·r£r
& 
mp
) {

22883  
	g¡d
::
asš
(
_mp_¬g
(2));

22886 
mp_©ª
(
_cimg_m©h_·r£r
& 
mp
) {

22887  
	g¡d
::
©ª
(
_mp_¬g
(2));

22890 
mp_©ª2
(
_cimg_m©h_·r£r
& 
mp
) {

22891  
	g¡d
::
©ª2
(
_mp_¬g
(2),_mp_arg(3));

22894 
mp_avg
(
_cimg_m©h_·r£r
& 
mp
) {

22895 cÚ¡ 
	gi_’d
 = ()
mp
.
İcode
[2];

22896 
	gv®
 = 
_mp_¬g
(3);

22897 
	gi
 = 4; i<
	gi_’d
; ++iè
	gv®
+=
_mp_¬g
(
i
);

22898  
	gv®
/(
	gi_’d
 - 3);

22901 
mp_b™wi£_ªd
(
_cimg_m©h_·r£r
& 
mp
) {

22902  ()((
	glÚgT
)
_mp_¬g
(2) & (longT)_mp_arg(3));

22905 
mp_b™wi£_Ëá_shiá
(
_cimg_m©h_·r£r
& 
mp
) {

22906  ()((
	glÚgT
)
_mp_¬g
(2)<<()_mp_arg(3));

22909 
mp_b™wi£_nÙ
(
_cimg_m©h_·r£r
& 
mp
) {

22911  ()~()
_mp_¬g
(2);

22914 
mp_b™wi£_Ü
(
_cimg_m©h_·r£r
& 
mp
) {

22915  ()((
	glÚgT
)
_mp_¬g
(2) | (longT)_mp_arg(3));

22918 
mp_b™wi£_right_shiá
(
_cimg_m©h_·r£r
& 
mp
) {

22919  ()((
	glÚgT
)
_mp_¬g
(2)>>()_mp_arg(3));

22922 
mp_b™wi£_xÜ
(
_cimg_m©h_·r£r
& 
mp
) {

22923  ()((
	glÚgT
)
_mp_¬g
(2) ^ (longT)_mp_arg(3));

22926 
mp_boŞ
(
_cimg_m©h_·r£r
& 
mp
) {

22927  ()(
	gboŞ
)
_mp_¬g
(2);

22930 
mp_b»ak
(
_cimg_m©h_·r£r
& 
mp
) {

22931 
	gmp
.
	gb»ak_ty³
 = 1;

22932 
	gmp
.
	gp_code
 = 
mp
.
p_b»ak
 - 1;

22933  
	gcimg
::
ty³
<>::
Çn
();

22936 
mp_b»akpošt
(
_cimg_m©h_·r£r
& 
mp
) {

22937 
	gcimg_abÜt_š™
;

22938 
	gcimg_abÜt_‹¡
;

22939 
	gcimg
::
unu£d
(
mp
);

22940  
	gcimg
::
ty³
<>::
Çn
();

22943 #ifdeà
cimg_mp_func_run


22944 
mp_run
(
_cimg_m©h_·r£r
& 
mp
) {

22945 cÚ¡ 
	gnb_¬gs
 = ()(
mp
.
İcode
[2] - 3)/2;

22946 
	gCImgLi¡
<
	gch¬T
> 
	g_¡r
;

22947 
	gCImg
<
	gch¬T
> 
	g™
;

22948 
	gn
 = 0;‚<
	gnb_¬gs
; ++n) {

22949 cÚ¡ 
	gsiz
 = ()
mp
.
İcode
[4 + 2*
n
];

22950 ià(
	gsiz
) {

22951 cÚ¡ *
	g±r
 = &
_mp_¬g
(3 + 2*
n
) + 1;

22952 
	gl
 = 0;

22953 
	gl
<
	gsiz
 && 
	g±r
[
l
]) ++l;

22954 
	gCImg
<
	gdoubËT
>(
	g±r
,
	gl
,1,1,1,
	gŒue
).
move_to
(
_¡r
);

22956 
	g™
.
assign
(24);

22957 
cimg_¢´štf
(
™
,™.
_width
,"%.17g",
_mp_¬g
(3 + 2*
n
));

22958 
	gCImg
<
	gch¬T
>::
¡ršg
(
™
,
çl£
,
Œue
).
move_to
(
_¡r
);

22961 
CImg
(1,1,1,1,0).
move_to
(
_¡r
);

22962 
	gCImg
<
	gch¬T
> 
	g¡r
 = 
_¡r
>'x';

22963 
cimg_mp_func_run
(
¡r
.
_d©a
);

22964  
	gcimg
::
ty³
<>::
Çn
();

22968 
mp_cb¹
(
_cimg_m©h_·r£r
& 
mp
) {

22969  
	gcimg
::
cb¹
(
_mp_¬g
(2));

22972 
mp_û
(
_cimg_m©h_·r£r
& 
mp
) {

22973  
	g¡d
::
û
(
_mp_¬g
(2));

22976 
mp_com¶ex_abs
(
_cimg_m©h_·r£r
& 
mp
) {

22977  
	gcimg
::
_hypÙ
(
_mp_¬g
(2),_mp_arg(3));

22980 
mp_com¶ex_cÚj
(
_cimg_m©h_·r£r
& 
mp
) {

22981 cÚ¡ 
	g»®
 = 
_mp_¬g
(2), 
	gimag
 = _mp_arg(3);

22982 *
	g±rd
 = &
_mp_¬g
(1) + 1;

22983 
	g±rd
[0] = 
»®
;

22984 
	g±rd
[1] = -
imag
;

22985  
	gcimg
::
ty³
<>::
Çn
();

22988 
mp_com¶ex_div_sv
(
_cimg_m©h_·r£r
& 
mp
) {

22990 *
	g±r2
 = &
_mp_¬g
(3) + 1,

22991 
	gr1
 = 
_mp_¬g
(2),

22992 
	gr2
 = *(
±r2
++), 
	gi2
 = *ptr2;

22993 *
	g±rd
 = &
_mp_¬g
(1) + 1;

22994 cÚ¡ 
	gd’om
 = 
r2
*r2 + 
i2
*i2;

22995 *(
	g±rd
++èğ
r1
*
r2
/
d’om
;

22996 *
	g±rd
 = -
r1
*
i2
/
d’om
;

22997  
	gcimg
::
ty³
<>::
Çn
();

23000 
mp_com¶ex_div_vv
(
_cimg_m©h_·r£r
& 
mp
) {

23002 *
	g±r1
 = &
_mp_¬g
(2è+ 1, *
	g±r2
 = &_mp_arg(3) + 1,

23003 
	gr1
 = *(
±r1
++), 
	gi1
 = *ptr1,

23004 
	gr2
 = *(
±r2
++), 
	gi2
 = *ptr2;

23005 *
	g±rd
 = &
_mp_¬g
(1) + 1;

23006 cÚ¡ 
	gd’om
 = 
r2
*r2 + 
i2
*i2;

23007 *(
	g±rd
++èğ(
r1
*
r2
 + 
i1
*
i2
)/
d’om
;

23008 *
	g±rd
 = (
r2
*
i1
 - 
r1
*
i2
)/
d’om
;

23009  
	gcimg
::
ty³
<>::
Çn
();

23012 
mp_com¶ex_exp
(
_cimg_m©h_·r£r
& 
mp
) {

23013 cÚ¡ 
	g»®
 = 
_mp_¬g
(2), 
	gimag
 = _mp_¬g(3), 
	gexp_»®
 = 
¡d
::
exp
(
»®
);

23014 *
	g±rd
 = &
_mp_¬g
(1) + 1;

23015 
	g±rd
[0] = 
exp_»®
*
¡d
::
cos
(
imag
);

23016 
	g±rd
[1] = 
exp_»®
*
¡d
::
sš
(
imag
);

23017  
	gcimg
::
ty³
<>::
Çn
();

23020 
mp_com¶ex_log
(
_cimg_m©h_·r£r
& 
mp
) {

23021 cÚ¡ 
	g»®
 = 
_mp_¬g
(2), 
	gimag
 = _mp_arg(3);

23022 *
	g±rd
 = &
_mp_¬g
(1) + 1;

23023 
	g±rd
[0] = 0.5*
¡d
::
log
(
»®
*»® + 
imag
*imag);

23024 
	g±rd
[1] = 
¡d
::
©ª2
(
imag
,
»®
);

23025  
	gcimg
::
ty³
<>::
Çn
();

23028 
mp_com¶ex_mul
(
_cimg_m©h_·r£r
& 
mp
) {

23030 *
	g±r1
 = &
_mp_¬g
(2è+ 1, *
	g±r2
 = &_mp_arg(3) + 1,

23031 
	gr1
 = *(
±r1
++), 
	gi1
 = *ptr1,

23032 
	gr2
 = *(
±r2
++), 
	gi2
 = *ptr2;

23033 *
	g±rd
 = &
_mp_¬g
(1) + 1;

23034 *(
	g±rd
++èğ
r1
*
r2
 - 
i1
*
i2
;

23035 *(
	g±rd
++èğ
r1
*
i2
 + 
r2
*
i1
;

23036  
	gcimg
::
ty³
<>::
Çn
();

23039 
_mp_com¶ex_pow
(cÚ¡ 
r1
, cÚ¡ 
i1
,

23040 cÚ¡ 
r2
, cÚ¡ 
i2
,

23041 *
±rd
) {

23042 
	gro
, 
	gio
;

23043 ià(
	gcimg
::
abs
(
i2
)<1e-15) {

23044 ià(
cimg
::
abs
(
r1
)<1e-15 && cimg::abs(
i1
)<1e-15) {

23045 ià(
cimg
::
abs
(
r2
)<1e-15è{ 
ro
 = 1; 
	gio
 = 0; }

23046 
	gro
 = 
io
 = 0;

23049 
	gmod1_2
 = 
r1
*r1 + 
i1
*i1,

23050 
	gphi1
 = 
¡d
::
©ª2
(
i1
,
r1
),

23051 
	gmodo
 = 
¡d
::
pow
(
mod1_2
,0.5*
r2
),

23052 
	gphio
 = 
r2
*
phi1
;

23053 
	gro
 = 
modo
*
¡d
::
cos
(
phio
);

23054 
	gio
 = 
modo
*
¡d
::
sš
(
phio
);

23057 ià(
	gcimg
::
abs
(
r1
)<1e-15 && 
cimg
::abs(
i1
)<1e-15è
ro
 = 
io
 = 0;

23059 
	gmod1_2
 = 
r1
*r1 + 
i1
*i1,

23060 
	gphi1
 = 
¡d
::
©ª2
(
i1
,
r1
),

23061 
	gmodo
 = 
¡d
::
pow
(
mod1_2
,0.5*
r2
)*
	g¡d
::
exp
(-
i2
*
phi1
),

23062 
	gphio
 = 
r2
*
phi1
 + 0.5*
i2
*
¡d
::
log
(
mod1_2
);

23063 
	gro
 = 
modo
*
¡d
::
cos
(
phio
);

23064 
	gio
 = 
modo
*
¡d
::
sš
(
phio
);

23066 *(
	g±rd
++èğ
ro
;

23067 *
	g±rd
 = 
io
;

23070 
mp_com¶ex_pow_ss
(
_cimg_m©h_·r£r
& 
mp
) {

23071 cÚ¡ 
	gv®1
 = 
_mp_¬g
(2), 
	gv®2
 = _mp_arg(3);

23072 *
	g±rd
 = &
_mp_¬g
(1) + 1;

23073 
_mp_com¶ex_pow
(
v®1
,0,
v®2
,0,
±rd
);

23074  
	gcimg
::
ty³
<>::
Çn
();

23077 
mp_com¶ex_pow_sv
(
_cimg_m©h_·r£r
& 
mp
) {

23078 cÚ¡ 
	gv®1
 = 
_mp_¬g
(2), *
	g±r2
 = &_mp_arg(3) + 1;

23079 *
	g±rd
 = &
_mp_¬g
(1) + 1;

23080 
_mp_com¶ex_pow
(
v®1
,0,
±r2
[0],±r2[1],
±rd
);

23081  
	gcimg
::
ty³
<>::
Çn
();

23084 
mp_com¶ex_pow_vs
(
_cimg_m©h_·r£r
& 
mp
) {

23085 cÚ¡ *
	g±r1
 = &
_mp_¬g
(2è+ 1, 
	gv®2
 = _mp_arg(3);

23086 *
	g±rd
 = &
_mp_¬g
(1) + 1;

23087 
_mp_com¶ex_pow
(
±r1
[0],±r1[1],
v®2
,0,
±rd
);

23088  
	gcimg
::
ty³
<>::
Çn
();

23091 
mp_com¶ex_pow_vv
(
_cimg_m©h_·r£r
& 
mp
) {

23092 cÚ¡ *
	g±r1
 = &
_mp_¬g
(2è+ 1, *
	g±r2
 = &_mp_arg(3) + 1;

23093 *
	g±rd
 = &
_mp_¬g
(1) + 1;

23094 
_mp_com¶ex_pow
(
±r1
[0],±r1[1],
±r2
[0],±r2[1],
±rd
);

23095  
	gcimg
::
ty³
<>::
Çn
();

23098 
mp_com¶ex_cos
(
_cimg_m©h_·r£r
& 
mp
) {

23099 cÚ¡ 
	g»®
 = 
_mp_¬g
(2), 
	gimag
 = _mp_arg(3);

23100 *
	g±rd
 = &
_mp_¬g
(1) + 1;

23101 
	g±rd
[0] = 
¡d
::
cos
(
»®
)*¡d::
cosh
(
imag
);

23102 
	g±rd
[1] = -
¡d
::
sš
(
»®
)*¡d::
sšh
(
imag
);

23103  
	gcimg
::
ty³
<>::
Çn
();

23106 
mp_com¶ex_sš
(
_cimg_m©h_·r£r
& 
mp
) {

23107 cÚ¡ 
	g»®
 = 
_mp_¬g
(2), 
	gimag
 = _mp_arg(3);

23108 *
	g±rd
 = &
_mp_¬g
(1) + 1;

23109 
	g±rd
[0] = 
¡d
::
sš
(
»®
)*¡d::
cosh
(
imag
);

23110 
	g±rd
[1] = 
¡d
::
cos
(
»®
)*¡d::
sšh
(
imag
);

23111  
	gcimg
::
ty³
<>::
Çn
();

23114 
mp_com¶ex_n
(
_cimg_m©h_·r£r
& 
mp
) {

23115 cÚ¡ 
	g»®
 = 
_mp_¬g
(2), 
	gimag
 = _mp_¬g(3), 
	gd’om
 = 
¡d
::
cos
(2*
»®
è+ std::
cosh
(2*
imag
);

23116 *
	g±rd
 = &
_mp_¬g
(1) + 1;

23117 
	g±rd
[0] = 
¡d
::
sš
(2*
»®
)/
d’om
;

23118 
	g±rd
[1] = 
¡d
::
sšh
(2*
imag
)/
d’om
;

23119  
	gcimg
::
ty³
<>::
Çn
();

23122 
mp_com¶ex_cosh
(
_cimg_m©h_·r£r
& 
mp
) {

23123 cÚ¡ 
	g»®
 = 
_mp_¬g
(2), 
	gimag
 = _mp_arg(3);

23124 *
	g±rd
 = &
_mp_¬g
(1) + 1;

23125 
	g±rd
[0] = 
¡d
::
cosh
(
»®
)*¡d::
cos
(
imag
);

23126 
	g±rd
[1] = 
¡d
::
sšh
(
»®
)*¡d::
sš
(
imag
);

23127  
	gcimg
::
ty³
<>::
Çn
();

23130 
mp_com¶ex_sšh
(
_cimg_m©h_·r£r
& 
mp
) {

23131 cÚ¡ 
	g»®
 = 
_mp_¬g
(2), 
	gimag
 = _mp_arg(3);

23132 *
	g±rd
 = &
_mp_¬g
(1) + 1;

23133 
	g±rd
[0] = 
¡d
::
sšh
(
»®
)*¡d::
cos
(
imag
);

23134 
	g±rd
[1] = 
¡d
::
cosh
(
»®
)*¡d::
sš
(
imag
);

23135  
	gcimg
::
ty³
<>::
Çn
();

23138 
mp_com¶ex_nh
(
_cimg_m©h_·r£r
& 
mp
) {

23139 cÚ¡ 
	g»®
 = 
_mp_¬g
(2), 
	gimag
 = _mp_¬g(3), 
	gd’om
 = 
¡d
::
cosh
(2*
»®
è+ std::
cos
(2*
imag
);

23140 *
	g±rd
 = &
_mp_¬g
(1) + 1;

23141 
	g±rd
[0] = 
¡d
::
sšh
(2*
»®
)/
d’om
;

23142 
	g±rd
[1] = 
¡d
::
sš
(2*
imag
)/
d’om
;

23143  
	gcimg
::
ty³
<>::
Çn
();

23146 
mp_cÚtšue
(
_cimg_m©h_·r£r
& 
mp
) {

23147 
	gmp
.
	gb»ak_ty³
 = 2;

23148 
	gmp
.
	gp_code
 = 
mp
.
p_b»ak
 - 1;

23149  
	gcimg
::
ty³
<>::
Çn
();

23152 
mp_cÚvŞve
(
_cimg_m©h_·r£r
 &
mp
) {

23153  
_mp_cÜ»Ï‹
(
mp
,
Œue
);

23156 
mp_cÜ»Ï‹
(
_cimg_m©h_·r£r
 &
mp
) {

23157  
_mp_cÜ»Ï‹
(
mp
,
çl£
);

23160 
_mp_cÜ»Ï‹
(
_cimg_m©h_·r£r
 &
mp
, 
boŞ
 
is_cÚvŞve
) {

23161 *
	g±rd
 = &
_mp_¬g
(1) + 1;

23162 cÚ¡ *cÚ¡ 
	g±rA
 = &
_mp_¬g
(2è+ 1, *cÚ¡ 
	g±rM
 = &_mp_arg(7) + 1;

23164 
	gwA
 = ()
mp
.
İcode
[3],

23165 
	ghA
 = ()
mp
.
İcode
[4],

23166 
	gdA
 = ()
mp
.
İcode
[5],

23167 
	gsA
 = ()
mp
.
İcode
[6],

23168 
	gwM
 = ()
mp
.
İcode
[8],

23169 
	ghM
 = ()
mp
.
İcode
[9],

23170 
	gdM
 = ()
mp
.
İcode
[10],

23171 
	gsM
 = ()
mp
.
İcode
[11],

23172 
	gbound¬y_cÚd™iÚs
 = ()
_mp_¬g
(12),

23173 
	gchªÃl_mode
 = ()
mp
.
İcode
[14],

23174 
	gxûÁ”
 = ()
_mp_¬g
(15),

23175 
	gyûÁ”
 = ()
_mp_¬g
(16),

23176 
	gzûÁ”
 = ()
_mp_¬g
(17),

23177 
	gx¡¬t
 = ()
mp
.
İcode
[18],

23178 
	gy¡¬t
 = ()
mp
.
İcode
[19],

23179 
	gz¡¬t
 = ()
mp
.
İcode
[20],

23180 
	gx’d
 = ()
mp
.
İcode
[21],

23181 
	gy’d
 = ()
mp
.
İcode
[22],

23182 
	gz’d
 = ()
mp
.
İcode
[23];

23183 cÚ¡ 
boŞ


23184 
	gis_nÜm®ized
 = (
boŞ
)
_mp_¬g
(13);

23186 
	gx¡ride
 = ()
_mp_¬g
(24),

23187 
	gy¡ride
 = ()
_mp_¬g
(25),

23188 
	gz¡ride
 = ()
_mp_¬g
(26),

23189 
	gxd©iÚ
 = ()
_mp_¬g
(27),

23190 
	gyd©iÚ
 = ()
_mp_¬g
(28),

23191 
	gzd©iÚ
 = ()
_mp_¬g
(29);

23192 
	gCImg
<
	gdoubËT
> 
	g»s
;

23193 ià(
	gis_cÚvŞve
è
	g»s
 = 
CImg
<
doubËT
>(
±rA
,
	gwA
,
	ghA
,
	gdA
,
	gsA
,
	gŒue
).

23194 
g‘_cÚvŞve
(
CImg
<
doubËT
>(
±rM
,
wM
,
hM
,
dM
,
sM
,
Œue
),

23195 
bound¬y_cÚd™iÚs
,
is_nÜm®ized
,
chªÃl_mode
,

23196 
xûÁ”
,
yûÁ”
,
zûÁ”
,

23197 
x¡¬t
,
y¡¬t
,
z¡¬t
,

23198 
x’d
,
y’d
,
z’d
,

23199 
x¡ride
,
y¡ride
,
z¡ride
,

23200 
xd©iÚ
,
yd©iÚ
,
zd©iÚ
);

23201 
	g»s
 = 
CImg
<
doubËT
>(
±rA
,
	gwA
,
	ghA
,
	gdA
,
	gsA
,
	gŒue
).

23202 
g‘_cÜ»Ï‹
(
CImg
<
doubËT
>(
±rM
,
wM
,
hM
,
dM
,
sM
,
Œue
),

23203 
bound¬y_cÚd™iÚs
,
is_nÜm®ized
,
chªÃl_mode
,

23204 
xûÁ”
,
yûÁ”
,
zûÁ”
,

23205 
x¡¬t
,
y¡¬t
,
z¡¬t
,

23206 
x’d
,
y’d
,
z’d
,

23207 
x¡ride
,
y¡ride
,
z¡ride
,

23208 
xd©iÚ
,
yd©iÚ
,
zd©iÚ
);

23209 
	gCImg
<
	gdoubËT
>(
	g±rd
,
	g»s
.
	g_width
,»s.
	g_height
,»s.
	g_d•th
,»s.
	g_¥eùrum
,
	gŒue
èğ
»s
;

23210  
	gcimg
::
ty³
<>::
Çn
();

23213 
mp_cos
(
_cimg_m©h_·r£r
& 
mp
) {

23214  
	g¡d
::
cos
(
_mp_¬g
(2));

23217 
mp_cosh
(
_cimg_m©h_·r£r
& 
mp
) {

23218  
	g¡d
::
cosh
(
_mp_¬g
(2));

23221 
mp_ü™iÿl
(
_cimg_m©h_·r£r
& 
mp
) {

23222 cÚ¡ 
ulÚgT
 
	gg_rg‘
 = 
mp
.
İcode
[1];

23223 
cimg_´agma_İ’mp
(
ü™iÿl
(
mp_ü™iÿl
))

23225 cÚ¡ 
	gCImg
<
	gulÚgT
> *cÚ¡ 
	gp_’d
 = ++
mp
.
p_code
 + mp.
İcode
[2];

23226 
	gmp
.
	gp_code
<
	gp_’d
; ++mp.p_code) {

23227 
	gmp
.
	gİcode
.
	g_d©a
 = 
mp
.
p_code
->
_d©a
;

23228 cÚ¡ 
ulÚgT
 
	grg‘
 = 
mp
.
İcode
[1];

23229 
	gmp
.
	gmem
[
rg‘
] = 
_cimg_mp_defunc
(
mp
);

23232 --
	gmp
.
	gp_code
;

23233  
	gmp
.
	gmem
[
g_rg‘
];

23236 
mp_üİ
(
_cimg_m©h_·r£r
& 
mp
) {

23237 *
	g±rd
 = &
_mp_¬g
(1) + 1;

23238 cÚ¡ 
	gx
 = ()
_mp_¬g
(3), 
	gy
 = ()_mp_¬g(4), 
	gz
 = ()_mp_¬g(5), 
	gc
 = ()_mp_arg(6);

23240 
	gdx
 = ()
mp
.
İcode
[7],

23241 
	gdy
 = ()
mp
.
İcode
[8],

23242 
	gdz
 = ()
mp
.
İcode
[9],

23243 
	gdc
 = ()
mp
.
İcode
[10];

23244 cÚ¡ 
	gbound¬y_cÚd™iÚs
 = ()
_mp_¬g
(11);

23245 
	gšd
 = ()
mp
.
İcode
[2];

23246 ià(
	gšd
!=~0Uè
šd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

23247 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
šd
==~0U?
mp
.
imgš
:mp.
li¡š
[ind];

23248 ià(!
	gimg
è
	g¡d
::
mem£t
(
±rd
,0,
dx
*
dy
*
dz
*
dc
*());

23249 
	gCImg
<
	gdoubËT
>(
	g±rd
,
	gdx
,
	gdy
,
	gdz
,
	gdc
,
	gŒue
èğ
img
.
g‘_üİ
(
x
,
y
,
z
,
c
,

23250 
x
 + 
dx
 - 1,
y
 + 
dy
 - 1,

23251 
z
 + 
dz
 - 1,
c
 + 
dc
 - 1,

23252 
bound¬y_cÚd™iÚs
);

23253  
	gcimg
::
ty³
<>::
Çn
();

23256 
mp_üoss
(
_cimg_m©h_·r£r
& 
mp
) {

23257 
	gCImg
<
	gdoubËT
>

23258 
vout
(&
_mp_¬g
(1è+ 1,1,3,1,1,
Œue
),

23259 
v1
(&
_mp_¬g
(2è+ 1,1,3,1,1,
Œue
),

23260 
v2
(&
_mp_¬g
(3è+ 1,1,3,1,1,
Œue
);

23261 (
	gvout
 = 
v1
).
üoss
(
v2
);

23262  
	gcimg
::
ty³
<>::
Çn
();

23265 
mp_cut
(
_cimg_m©h_·r£r
& 
mp
) {

23266 
	gv®
 = 
_mp_¬g
(2), 
	gcmš
 = _mp_¬g(3), 
	gcmax
 = _mp_arg(4);

23267  
	gv®
<
	gcmš
?cmš:
v®
>
cmax
?cmax:val;

23270 
mp_d©e
(
_cimg_m©h_·r£r
& 
mp
) {

23272 
	gsiz_out
 = ()
mp
.
İcode
[2],

23273 
	gsiz_¬g1
 = ()
mp
.
İcode
[4],

23274 
	gsiz_¬g2
 = ()
mp
.
İcode
[6];

23275 *
	g±r_out
 = &
_mp_¬g
(1è+ (
siz_out
?1:0);

23277 *
	g±r_¬g1
 = 
siz_¬g1
==~0U?0:&
_mp_¬g
(3) + (siz_arg1?1:0),

23278 *
	g±r_¬g2
 = 
siz_¬g2
==~0U?0:&
_mp_¬g
(5) + 1;

23280 ià(!
	g±r_¬g2
) {

23281 ià(!
	gsiz_¬g1
è 
	gcimg
::
d©e
(()*
±r_¬g1
);

23282 ià(
	gsiz_¬g1
==~0Uè
k
 = 0; 
	gk
<
	gsiz_out
; ++kè
	g±r_out
[k] = k;

23283 
	gk
 = 0; k<
	gsiz_out
; ++kè
	g±r_out
[
k
] = 
±r_¬g1
[k];

23284 
	gcimg
::
d©e
(
±r_out
,
siz_out
);

23285  
	gcimg
::
ty³
<>::
Çn
();

23289 
	gCImg
<
	gch¬T
> 
ss
(
siz_¬g2
 + 1);

23290 
cimg_fÜX
(
ss
,
i
è
	gss
[i] = ()
±r_¬g2
[i];

23291 
	gss
.
back
() = 0;

23292 ià(!
	gsiz_¬g1
è 
	gcimg
::
fd©e
(
ss
,()*
±r_¬g1
);

23293 
	gk
 = 0; k<
	gsiz_out
; ++kè
	g±r_out
[
k
] = 
±r_¬g1
[k];

23294 
	gcimg
::
fd©e
(
ss
,
±r_out
,
siz_out
);

23295  
	gcimg
::
ty³
<>::
Çn
();

23298 
mp_debug
(
_cimg_m©h_·r£r
& 
mp
) {

23299 
	gCImg
<
	gch¬T
> 
ex´
(
mp
.
İcode
[2] - 4);

23301 cÚ¡ 
ulÚgT
 *
	g±rs
 = 
mp
.
İcode
.
_d©a
 + 4;

23302 
cimg_fÜ
(
ex´
,
±rd
,è*
	g±rd
 = ()*(
±rs
++);

23304 
	gcimg
::
¡»Îsize
(
ex´
);

23305 cÚ¡ 
ulÚgT
 
	gg_rg‘
 = 
mp
.
İcode
[1];

23307 #ià
cimg_u£_İ’mp
==0

23308 cÚ¡ 
	gn_th»ad
 = 0;

23310 cÚ¡ 
	gn_th»ad
 = 
omp_g‘_th»ad_num
();

23312 
cimg_´agma_İ’mp
(
ü™iÿl
(
mp_debug
))

23314 
	g¡d
::
årštf
(
cimg
::
ouut
(),

23315 "\n[" 
cimg_­²ame
 "_math_parser] %p[thread #%u]:%*c"

23317 (*)&
mp
,
n_th»ad
,mp.
debug_šd’t
,' ',

23318 
ex´
.
_d©a
,()
mp
.
İcode
[3],()
g_rg‘
,mp.
mem
.
_width
);

23319 
	g¡d
::
fæush
(
cimg
::
ouut
());

23320 
	gmp
.
	gdebug_šd’t
+=3;

23322 cÚ¡ 
	gCImg
<
	gulÚgT
> *cÚ¡ 
	gp_’d
 = ++
mp
.
p_code
 + mp.
İcode
[3];

23323 
	gCImg
<
	gulÚgT
> 
	g_İ
;

23324  ; 
	gmp
.
	gp_code
<
	gp_’d
; ++mp.p_code) {

23325 cÚ¡ 
	gCImg
<
	gulÚgT
> &
	gİ
 = *
mp
.
p_code
;

23326 
	gmp
.
	gİcode
.
	g_d©a
 = 
İ
.
_d©a
;

23328 
	g_İ
.
assign
(1,
İ
.
_height
 - 1);

23329 cÚ¡ 
ulÚgT
 *
	g±rs
 = 
İ
.
_d©a
 + 1;

23330 
ulÚgT
 *
	g±rd
 = 
_İ
.
_d©a
, *cÚ¡ 
	g±rde
 = _İ._d©¨+ _İ.
_height
;…trd<ptrde; ++ptrd)

23331 *
	g±rd
 = *(
±rs
++);

23333 cÚ¡ 
ulÚgT
 
	grg‘
 = 
mp
.
İcode
[1];

23334 
	gmp
.
	gmem
[
rg‘
] = 
_cimg_mp_defunc
(
mp
);

23335 
cimg_´agma_İ’mp
(
ü™iÿl
(
mp_debug
))

23337 
	g¡d
::
årštf
(
cimg
::
ouut
(),

23338 "\n[" 
cimg_­²ame
 "_math_parser] %p[thread #%u]:%*c"

23340 (*)&
mp
,
n_th»ad
,mp.
debug_šd’t
,' ',

23341 (*)
mp
.
İcode
.
_d©a
,(*)*mp.İcode,
_İ
.
v®ue_¡ršg
().
d©a
(),

23342 ()
rg‘
,
mp
.
mem
[target]);

23343 
	g¡d
::
fæush
(
cimg
::
ouut
());

23346 
cimg_´agma_İ’mp
(
ü™iÿl
(
mp_debug
))

23348 
	gmp
.
	gdebug_šd’t
-=3;

23349 
	g¡d
::
årštf
(
cimg
::
ouut
(),

23350 "\n[" 
cimg_­²ame
 "_math_parser] %p[thread #%u]:%*c"

23352 (*)&
mp
,
n_th»ad
,mp.
debug_šd’t
,' ',

23353 
ex´
.
_d©a
,()
g_rg‘
,
mp
.
mem
[g_rg‘],mp.mem.
_width
);

23354 
	g¡d
::
fæush
(
cimg
::
ouut
());

23356 --
	gmp
.
	gp_code
;

23357  
	gmp
.
	gmem
[
g_rg‘
];

23360 
mp_deüem’t
(
_cimg_m©h_·r£r
& 
mp
) {

23361  
_mp_¬g
(2) - 1;

23364 
mp_d‘
(
_cimg_m©h_·r£r
& 
mp
) {

23365 cÚ¡ *
	g±rs
 = &
_mp_¬g
(2) + 1;

23366 cÚ¡ 
	gk
 = ()
mp
.
İcode
[3];

23367  
	gCImg
<
	gdoubËT
>(
	g±rs
,
	gk
,k,1,1,
	gŒue
).
d‘
();

23370 
mp_dŸg
(
_cimg_m©h_·r£r
& 
mp
) {

23371 cÚ¡ 
	gi_’d
 = ()
mp
.
İcode
[2], 
	gsiz
 = mp.opcode[2] - 3;

23372 *
	g±rd
 = &
_mp_¬g
(1) + 1;

23373 
	g¡d
::
mem£t
(
±rd
,0,
siz
*siz*());

23374 
	gi
 = 3; i<
	gi_’d
; ++iè{ *(
	g±rd
++èğ
_mp_¬g
(
i
);…Œd+=
siz
; }

23375  
	gcimg
::
ty³
<>::
Çn
();

23378 
mp_di¥Ïy_memÜy
(
_cimg_m©h_·r£r
& 
mp
) {

23379 
	gcimg
::
unu£d
(
mp
);

23380 
	g¡d
::
åutc
('\n',
cimg
::
ouut
());

23381 
	gmp
.
	gmem
.
di¥Ïy
("[" 
cimg_­²ame
 "_math_parser] Memory snapshot");

23382  
	gcimg
::
ty³
<>::
Çn
();

23385 
mp_di¥Ïy
(
_cimg_m©h_·r£r
& 
mp
) {

23387 
	g_siz
 = ()
mp
.
İcode
[3],

23388 
	gsiz
 = 
_siz
?_siz:1;

23389 cÚ¡ *cÚ¡ 
	g±r
 = &
_mp_¬g
(1è+ (
_siz
?1:0);

23391 
	gw
 = ()
_mp_¬g
(4),

23392 
	gh
 = ()
_mp_¬g
(5),

23393 
	gd
 = ()
_mp_¬g
(6),

23394 
	gs
 = ()
_mp_¬g
(7);

23395 
	gCImg
<
	gdoubËT
> 
	gimg
;

23396 ià(
	gw
>0 && 
	gh
>0 && 
	gd
>0 && 
	gs
>0) {

23397 ià(()
w
*
h
*
d
*
	gs
<=
siz
è
img
.
assign
(
±r
,w,h,d,
s
,
Œue
);

23398 
	gimg
.
assign
(
±r
,
siz
).
»size
(
w
,
h
,
d
,
s
,-1);

23399 } 
	gimg
.
assign
(
±r
,1,
siz
,1,1,
Œue
);

23401 
	gCImg
<
	gch¬T
> 
ex´
(
mp
.
İcode
[2] - 8);

23402 cÚ¡ 
ulÚgT
 *
	g±rs
 = 
mp
.
İcode
.
_d©a
 + 8;

23403 
cimg_fÜ
(
ex´
,
±rd
,è*
	g±rd
 = ()*(
±rs
++);

23404 ((
	gCImg
<
	gch¬T
>::
¡ršg
("[" 
cimg_­²ame
 "_m©h_·r£r] ",
çl£
,
Œue
),
	gex´
)>'x').
move_to
(
ex´
);

23405 
	gcimg
::
¡»Îsize
(
ex´
);

23406 
	g¡d
::
åutc
('\n',
cimg
::
ouut
());

23407 
	gimg
.
di¥Ïy
(
ex´
.
_d©a
);

23408  
	gcimg
::
ty³
<>::
Çn
();

23411 
mp_div
(
_cimg_m©h_·r£r
& 
mp
) {

23412  
_mp_¬g
(2)/_mp_arg(3);

23415 
mp_dÙ
(
_cimg_m©h_·r£r
& 
mp
) {

23416 cÚ¡ 
	gsiz
 = ()
mp
.
İcode
[4];

23417  
	gCImg
<
	gdoubËT
>(&
_mp_¬g
(2è+ 1,1,
	gsiz
,1,1,
	gŒue
).

23418 
dÙ
(
CImg
<
doubËT
>(&
_mp_¬g
(3è+ 1,1,
siz
,1,1,
Œue
));

23421 
mp_do
(
_cimg_m©h_·r£r
& 
mp
) {

23422 cÚ¡ 
ulÚgT


23423 
	gmem_body
 = 
mp
.
İcode
[1],

23424 
	gmem_cÚd
 = 
mp
.
İcode
[2];

23425 cÚ¡ 
	gCImg
<
	gulÚgT
>

23426 *cÚ¡ 
	gp_body
 = ++
mp
.
p_code
,

23427 *cÚ¡ 
	gp_cÚd
 = 
p_body
 + 
mp
.
İcode
[3],

23428 *cÚ¡ 
	gp_’d
 = 
p_cÚd
 + 
mp
.
İcode
[4];

23429 cÚ¡ 
	gvsiz
 = ()
mp
.
İcode
[5];

23430 ià(
	gmp
.
	gİcode
[6]) {

23431 ià(
	gvsiz
è
	gCImg
<
	gdoubËT
>(&
	gmp
.
	gmem
[
mem_body
] + 1,vsiz,1,1,1,
	gŒue
).
fl
(
cimg
::
ty³
<>::
Çn
());

23432 
	gmp
.
	gmem
[
mem_body
] = 
cimg
::
ty³
<>::
Çn
();

23434 ià(
	gmp
.
	gİcode
[7]èmp.
	gmem
[
mem_cÚd
] = 0;

23436 cÚ¡ 
	g_b»ak_ty³
 = 
mp
.
b»ak_ty³
;

23437 
	gmp
.
	gb»ak_ty³
 = 0;

23439 
	gmp
.
	gp_code
 = 
p_body
; mp.p_code<
	gp_cÚd
; ++mp.p_code) {

23440 
	gmp
.
	gİcode
.
	g_d©a
 = 
mp
.
p_code
->
_d©a
;

23441 cÚ¡ 
ulÚgT
 
	grg‘
 = 
mp
.
İcode
[1];

23442 
	gmp
.
	gmem
[
rg‘
] = 
_cimg_mp_defunc
(
mp
);

23444 ià(
	gmp
.
	gb»ak_ty³
==1è; ià(mp.b»ak_ty³==2è
mp
.
b»ak_ty³
 = 0;

23445 
	gmp
.
	gp_code
 = 
p_cÚd
; mp.p_code<
	gp_’d
; ++mp.p_code) {

23446 
	gmp
.
	gİcode
.
	g_d©a
 = 
mp
.
p_code
->
_d©a
;

23447 cÚ¡ 
ulÚgT
 
	grg‘
 = 
mp
.
İcode
[1];

23448 
	gmp
.
	gmem
[
rg‘
] = 
_cimg_mp_defunc
(
mp
);

23450 ià(
	gmp
.
	gb»ak_ty³
==1è; ià(mp.b»ak_ty³==2è
mp
.
b»ak_ty³
 = 0;

23451 } 
	gmp
.
	gmem
[
mem_cÚd
]);

23452 
	gmp
.
	gb»ak_ty³
 = 
_b»ak_ty³
;

23453 
	gmp
.
	gp_code
 = 
p_’d
 - 1;

23454  
	gmp
.
	gmem
[
mem_body
];

23457 
mp_d¿w
(
_cimg_m©h_·r£r
& 
mp
) {

23458 cÚ¡ 
	gx
 = ()
_mp_¬g
(4), 
	gy
 = ()_mp_¬g(5), 
	gz
 = ()_mp_¬g(6), 
	gc
 = ()_mp_arg(7);

23459 
	gšd
 = ()
mp
.
İcode
[3];

23460 ià(
	gšd
!=~0Uè
šd
 = ()
cimg
::
mod
(()
_mp_¬g
(3),
mp
.
li¡š
.
width
());

23461 
	gCImg
<
	gT
> &
	gimg
 = 
šd
==~0U?
mp
.
imgout
:mp.
li¡out
[ind];

23463 
	gdx
 = ()
mp
.
İcode
[8],

23464 
	gdy
 = ()
mp
.
İcode
[9],

23465 
	gdz
 = ()
mp
.
İcode
[10],

23466 
	gdc
 = ()
mp
.
İcode
[11];

23467 
	gdx
 = 
dx
==~0U?
img
.
_width
:()
_mp_¬g
(8);

23468 
	gdy
 = 
dy
==~0U?
img
.
_height
:()
_mp_¬g
(9);

23469 
	gdz
 = 
dz
==~0U?
img
.
_d•th
:()
_mp_¬g
(10);

23470 
	gdc
 = 
dc
==~0U?
img
.
_¥eùrum
:()
_mp_¬g
(11);

23472 cÚ¡ 
ulÚgT
 
	gsizS
 = 
mp
.
İcode
[2];

23473 ià(
	gsizS
<(
	gulÚgT
)
dx
*
dy
*
dz
*
	gdc
)

23474 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] CImg<%s>: Function 'draw()': "

23477 
mp
.
imgš
.
pix–_ty³
(),
sizS
,
dx
,
dy
,
dz
,
dc
,(
ulÚgT
)dx*dy*dz*dc);

23478 
	gCImg
<
	gdoubËT
> 
S
(&
_mp_¬g
(1è+ 1,
dx
,
dy
,
dz
,
dc
,
Œue
);

23479 cÚ¡ 
	gİac™y
 = ()
_mp_¬g
(12);

23481 ià(
	gimg
.
	g_d©a
) {

23482 ià(
	gmp
.
	gİcode
[13]!=~0U) {

23483 cÚ¡ 
ulÚgT
 
sizM
 = 
mp
.
İcode
[14];

23484 ià(
	gsizM
<(
	gulÚgT
)
dx
*
dy
*
	gdz
)

23485 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] CImg<%s>: Function 'draw()': "

23488 
mp
.
imgš
.
pix–_ty³
(),
sizS
,
dx
,
dy
,
dz
,
dc
,(
ulÚgT
)dx*dy*dz*dc);

23489 cÚ¡ 
	gCImg
<
	gdoubËT
> 
M
(&
_mp_¬g
(13è+ 1,
dx
,
dy
,
dz
,()(
sizM
/(dx*dy*dz)),
Œue
);

23490 
	gimg
.
d¿w_image
(
x
,
y
,
z
,
c
,
S
,
M
,
İac™y
,()
_mp_¬g
(15));

23491 } 
	gimg
.
d¿w_image
(
x
,
y
,
z
,
c
,
S
,
İac™y
);

23493  
	gcimg
::
ty³
<>::
Çn
();

23496 
mp_echo
(
_cimg_m©h_·r£r
& 
mp
) {

23497 cÚ¡ 
	gnb_¬gs
 = ()(
mp
.
İcode
[2] - 3)/2;

23498 
	gCImgLi¡
<
	gch¬T
> 
	g_¡r
;

23499 
	gCImg
<
	gch¬T
> 
	g™
;

23500 
	gn
 = 0;‚<
	gnb_¬gs
; ++n) {

23501 cÚ¡ 
	gsiz
 = ()
mp
.
İcode
[4 + 2*
n
];

23502 ià(
	gsiz
) {

23503 cÚ¡ *
	g±r
 = &
_mp_¬g
(3 + 2*
n
) + 1;

23504 
	gl
 = 0;

23505 
	gl
<
	gsiz
 && 
	g±r
[
l
]) ++l;

23506 
	gCImg
<
	gdoubËT
>(
	g±r
,
	gl
,1,1,1,
	gŒue
).
move_to
(
_¡r
);

23508 
	g™
.
assign
(24);

23509 
cimg_¢´štf
(
™
,™.
_width
,"%.17g",
_mp_¬g
(3 + 2*
n
));

23510 
	gCImg
<
	gch¬T
>::
¡ršg
(
™
,
çl£
,
Œue
).
move_to
(
_¡r
);

23513 
CImg
(1,1,1,1,0).
move_to
(
_¡r
);

23514 cÚ¡ 
	gCImg
<
	gch¬T
> 
	g¡r
 = 
_¡r
>'x';

23515 
	g¡d
::
årštf
(
cimg
::
ouut
(),"\n%s",
¡r
.
_d©a
);

23516  
	gcimg
::
ty³
<>::
Çn
();

23519 
mp_–l£
(
_cimg_m©h_·r£r
& 
mp
) {

23520 cÚ¡ 
	gi_’d
 = ()
mp
.
İcode
[2];

23521 
	gšd
 = ()
mp
.
İcode
[3];

23522 ià(
	gšd
!=~0Uè
šd
 = ()
cimg
::
mod
(()
_mp_¬g
(3),
mp
.
li¡š
.
width
());

23523 
	gCImg
<
	gT
> &
	gimg
 = 
šd
==~0U?
mp
.
imgout
:mp.
li¡out
[ind];

23524 
	gCImg
<
	gT
> 
cŞÜ
(
img
.
_¥eùrum
,1,1,1,0);

23525 
boŞ
 
	gis_šv®id_¬gum’ts
 = 
çl£
, 
	gis_oušed
 = false;

23526 
	gr1
 = 0, 
	gr2
 = 0, 
	gªgË
 = 0, 
	gİac™y
 = 1;

23527 
	gi
 = 4, 
	g·‰”n
 = ~0U;

23528 
	gx0
 = 0, 
	gy0
 = 0;

23529 ià(
	gi
>=
i_’d
è
is_šv®id_¬gum’ts
 = 
Œue
;

23531 
	gx0
 = ()
cimg
::
round
(
_mp_¬g
(
i
++));

23532 ià(
	gi
>=
i_’d
è
is_šv®id_¬gum’ts
 = 
Œue
;

23534 
	gy0
 = ()
cimg
::
round
(
_mp_¬g
(
i
++));

23535 ià(
	gi
>=
i_’d
è
is_šv®id_¬gum’ts
 = 
Œue
;

23537 
	gr1
 = ()
_mp_¬g
(
i
++);

23538 ià(
	gi
>=
i_’d
è
r2
 = 
r1
;

23540 
	gr2
 = ()
_mp_¬g
(
i
++);

23541 ià(
	gi
<
	gi_’d
) {

23542 
	gªgË
 = ()
_mp_¬g
(
i
++);

23543 ià(
	gi
<
	gi_’d
) {

23544 
	gİac™y
 = ()
_mp_¬g
(
i
++);

23545 ià(
	gr1
<0 && 
	gr2
<0) {

23546 
	g·‰”n
 = ()
_mp_¬g
(
i
++);

23547 
	gis_oušed
 = 
Œue
;

23548 
	gr1
 = -
r1
; 
	gr2
 = -
r2
;

23550 ià(
	gi
<
	gi_’d
) {

23551 
cimg_fÜX
(
cŞÜ
,
k
èià(
	gi
<
	gi_’d
è
	gcŞÜ
[k] = (
T
)
_mp_¬g
(
i
++);

23552 { 
	gcŞÜ
.
»size
(
k
,1,1,1,-1); ; }

23553 
	gcŞÜ
.
»size
(
img
.
_¥eùrum
,1,1,1,0,2);

23561 ià(!
	gis_šv®id_¬gum’ts
) {

23562 ià(
	gis_oušed
è
	gimg
.
d¿w_–l£
(
x0
,
y0
,
r1
,
r2
,
ªgË
,
cŞÜ
.
_d©a
,
İac™y
,
·‰”n
);

23563 
	gimg
.
d¿w_–l£
(
x0
,
y0
,
r1
,
r2
,
ªgË
,
cŞÜ
.
_d©a
,
İac™y
);

23565 
	gCImg
<
	gdoubËT
> 
¬gs
(
i_’d
 - 4);

23566 
cimg_fÜX
(
¬gs
,
k
è
	g¬gs
[k] = 
_mp_¬g
(4 + k);

23567 ià(
	gšd
==~0U)

23568 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] CImg<%s>: Function 'ellipse()': "

23570 
mp
.
imgš
.
pix–_ty³
(),
¬gs
.
v®ue_¡ršg
().
_d©a
);

23572 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] CImg<%s>: Function 'ellipse()': "

23574 
mp
.
imgš
.
pix–_ty³
(),
šd
,
¬gs
.
_width
?",":"",¬gs.
v®ue_¡ršg
().
_d©a
);

23576  
	gcimg
::
ty³
<>::
Çn
();

23579 
mp_eq
(
_cimg_m©h_·r£r
& 
mp
) {

23580  ()(
_mp_¬g
(2)==_mp_arg(3));

23583 
mp_exp
(
_cimg_m©h_·r£r
& 
mp
) {

23584  
	g¡d
::
exp
(
_mp_¬g
(2));

23587 
mp_ex´
(
_cimg_m©h_·r£r
& 
mp
) {

23589 
	gsizs
 = ()
mp
.
İcode
[3],

23590 
	gw
 = ()
mp
.
İcode
[4],

23591 
	gh
 = ()
mp
.
İcode
[5],

23592 
	gd
 = ()
mp
.
İcode
[6],

23593 
	gs
 = ()
mp
.
İcode
[7],

23594 
	gsizd
 = 
w
*
h
*
d
*
s
;

23595 cÚ¡ *
	g±rs
 = &
_mp_¬g
(2) + 1;

23596 *
	g±rd
 = &
_mp_¬g
(1);

23597 
	gCImg
<
	gch¬T
> 
ss
(
sizs
 + 1);

23598 
cimg_fÜ_šX
(
ss
,0,ss.
width
(è- 1,
i
è
	gss
[i] = ()
±rs
[i];

23599 
	gss
.
back
() = 0;

23600 ià(!
	gsizd
è 
	gCImg
<
	gT
>(
	gw
,
	gh
,
	gd
,
	gs
,0).
ev®
(
ss
,0,0,0,0,&
mp
.
li¡š
,&mp.
li¡out
);

23601 
	gCImg
<
	gdoubËT
>(++
	g±rd
,
	gw
,
	gh
,
	gd
,
	gs
,
	gŒue
èğ
CImg
<
T
>(
w
,h,d,s,0).
fl
(
ss
,
Œue
,Œue,&
mp
.
li¡š
,&mp.
li¡out
);

23602  
	gcimg
::
ty³
<>::
Çn
();

23605 
mp_eye
(
_cimg_m©h_·r£r
& 
mp
) {

23606 *
	g±rd
 = &
_mp_¬g
(1) + 1;

23607 cÚ¡ 
	gk
 = ()
mp
.
İcode
[2];

23608 
	gCImg
<
	gdoubËT
>(
	g±rd
,
	gk
,k,1,1,
	gŒue
).
id’t™y_m©rix
();

23609  
	gcimg
::
ty³
<>::
Çn
();

23612 
mp_f2ui
(
_cimg_m©h_·r£r
& 
mp
) {

23613  ()
	gcimg
::
æßt2ušt
(()
_mp_¬g
(2));

23616 
mp_çùÜŸl
(
_cimg_m©h_·r£r
& 
mp
) {

23617  
	gcimg
::
çùÜŸl
(()
_mp_¬g
(2));

23620 
mp_fibÚacci
(
_cimg_m©h_·r£r
& 
mp
) {

23621  
	gcimg
::
fibÚacci
(()
_mp_¬g
(2));

23624 
mp_fšd
(
_cimg_m©h_·r£r
& 
mp
) {

23625 cÚ¡ 
	g_¡•
 = ()
_mp_¬g
(6), 
	g¡•
 = 
_¡•
?_step:-1;

23626 cÚ¡ 
ulÚgT
 
	gsiz
 = (ulÚgT)
mp
.
İcode
[3];

23627 
lÚgT
 
	gšd
 = (lÚgT)(
mp
.
İcode
[5]!=
_cimg_mp_¦Ù_Çn
?
_mp_¬g
(5):
¡•
>0?0:
siz
 - 1);

23628 ià(
	gšd
<0 || ind>=(
lÚgT
)
siz
)  -1.;

23630 *cÚ¡ 
	g±rb
 = &
_mp_¬g
(2) + 1,

23631 *cÚ¡ 
	g±»
 = 
±rb
 + 
siz
,

23632 
	gv®
 = 
_mp_¬g
(4),

23633 *
	g±r
 = 
±rb
 + 
šd
;

23636 ià(
	g¡•
>0) {

23637 
	g±r
<
	g±»
 && *±r!=
v®
è
±r
+=
¡•
;

23638  
	g±r
>=
±»
?-1.:()(
±r
 - 
±rb
);

23642 
	g±r
>=
±rb
 && *
±r
!=
v®
è±r+=
¡•
;

23643  
	g±r
<
	g±rb
?-1.:()(
±r
 - 
±rb
);

23646 
mp_fšd_£q
(
_cimg_m©h_·r£r
& 
mp
) {

23647 cÚ¡ 
	g_¡•
 = ()
_mp_¬g
(7), 
	g¡•
 = 
_¡•
?_step:-1;

23648 cÚ¡ 
ulÚgT


23649 
	gsiz1
 = (
ulÚgT
)
mp
.
İcode
[3],

23650 
	gsiz2
 = (
ulÚgT
)
mp
.
İcode
[5];

23651 
lÚgT
 
	gšd
 = (lÚgT)(
mp
.
İcode
[6]!=
_cimg_mp_¦Ù_Çn
?
_mp_¬g
(6):
¡•
>0?0:
siz1
 - 1);

23652 ià(
	gšd
<0 || ind>=(
lÚgT
)
siz1
)  -1.;

23654 *cÚ¡ 
	g±r1b
 = &
_mp_¬g
(2) + 1,

23655 *cÚ¡ 
	g±r1e
 = 
±r1b
 + 
siz1
,

23656 *cÚ¡ 
	g±r2b
 = &
_mp_¬g
(4) + 1,

23657 *cÚ¡ 
	g±r2e
 = 
±r2b
 + 
siz2
,

23658 *
	g±r1
 = 
±r1b
 + 
šd
,

23659 *
	gp1
 = 0,

23660 *
	gp2
 = 0;

23663 ià(
	g¡•
>0) {

23665 
	g±r1
<
	g±r1e
 && *±r1!=*
±r2b
è
±r1
+=
¡•
;

23666 ià(
	g±r1
>=
±r1e
)  -1.;

23667 
	gp1
 = 
±r1
 + 1;

23668 
	gp2
 = 
±r2b
 + 1;

23669 
	gp1
<
	g±r1e
 && 
	gp2
<
	g±r2e
 && *p1==*
p2
è{ ++
p1
; ++p2; }

23670 } 
	gp2
<
	g±r2e
 && (
	g±r1
+=
¡•
)<
±r1e
);

23671  
	gp2
<
	g±r2e
?-1.:()(
±r1
 - 
±r1b
);

23676 
	g±r1
>=
±r1b
 && *
±r1
!=*
±r2b
è±r1+=
¡•
;

23677 ià(
	g±r1
<
	g±r1b
)  -1.;

23678 
	gp1
 = 
±r1
 + 1;

23679 
	gp2
 = 
±r2b
 + 1;

23680 
	gp1
<
	g±r1e
 && 
	gp2
<
	g±r2e
 && *p1==*
p2
è{ ++
p1
; ++p2; }

23681 } 
	gp2
<
	g±r2e
 && (
	g±r1
+=
¡•
)>=
±r1b
);

23682  
	gp2
<
	g±r2e
?-1.:()(
±r1
 - 
±r1b
);

23685 
mp_æoÜ
(
_cimg_m©h_·r£r
& 
mp
) {

23686  
	g¡d
::
æoÜ
(
_mp_¬g
(2));

23689 
mp_fÜ
(
_cimg_m©h_·r£r
& 
mp
) {

23690 cÚ¡ 
ulÚgT


23691 
	gmem_body
 = 
mp
.
İcode
[1],

23692 
	gmem_cÚd
 = 
mp
.
İcode
[3];

23693 cÚ¡ 
	gCImg
<
	gulÚgT
>

23694 *cÚ¡ 
	gp_š™
 = ++
mp
.
p_code
,

23695 *cÚ¡ 
	gp_cÚd
 = 
p_š™
 + 
mp
.
İcode
[4],

23696 *cÚ¡ 
	gp_body
 = 
p_cÚd
 + 
mp
.
İcode
[5],

23697 *cÚ¡ 
	gp_po¡
 = 
p_body
 + 
mp
.
İcode
[6],

23698 *cÚ¡ 
	gp_’d
 = 
p_po¡
 + 
mp
.
İcode
[7];

23699 cÚ¡ 
	gvsiz
 = ()
mp
.
İcode
[2];

23700 
boŞ
 
	gis_cÚd
 = 
çl£
;

23701 ià(
	gmp
.
	gİcode
[8]) {

23702 ià(
	gvsiz
è
	gCImg
<
	gdoubËT
>(&
	gmp
.
	gmem
[
mem_body
] + 1,vsiz,1,1,1,
	gŒue
).
fl
(
cimg
::
ty³
<>::
Çn
());

23703 
	gmp
.
	gmem
[
mem_body
] = 
cimg
::
ty³
<>::
Çn
();

23705 ià(
	gmp
.
	gİcode
[9]èmp.
	gmem
[
mem_cÚd
] = 0;

23706 cÚ¡ 
	g_b»ak_ty³
 = 
mp
.
b»ak_ty³
;

23707 
	gmp
.
	gb»ak_ty³
 = 0;

23709 
	gmp
.
	gp_code
 = 
p_š™
; mp.p_code<
	gp_cÚd
; ++mp.p_code) {

23710 
	gmp
.
	gİcode
.
	g_d©a
 = 
mp
.
p_code
->
_d©a
;

23711 cÚ¡ 
ulÚgT
 
	grg‘
 = 
mp
.
İcode
[1];

23712 
	gmp
.
	gmem
[
rg‘
] = 
_cimg_mp_defunc
(
mp
);

23715 ià(!
	gmp
.
	gb»ak_ty³
) do {

23716 
	gmp
.
	gp_code
 = 
p_cÚd
; mp.p_code<
	gp_body
; ++mp.p_code) {

23717 
	gmp
.
	gİcode
.
	g_d©a
 = 
mp
.
p_code
->
_d©a
;

23718 cÚ¡ 
ulÚgT
 
	grg‘
 = 
mp
.
İcode
[1];

23719 
	gmp
.
	gmem
[
rg‘
] = 
_cimg_mp_defunc
(
mp
);

23721 ià(
	gmp
.
	gb»ak_ty³
==1) ;

23723 
	gis_cÚd
 = (
boŞ
)
mp
.
mem
[
mem_cÚd
];

23724 ià(
	gis_cÚd
 && !
	gmp
.
	gb»ak_ty³
) {

23725 
	gmp
.
	gp_code
 = 
p_body
; mp.p_code<
	gp_po¡
; ++mp.p_code) {

23726 
	gmp
.
	gİcode
.
	g_d©a
 = 
mp
.
p_code
->
_d©a
;

23727 cÚ¡ 
ulÚgT
 
	grg‘
 = 
mp
.
İcode
[1];

23728 
	gmp
.
	gmem
[
rg‘
] = 
_cimg_mp_defunc
(
mp
);

23730 ià(
	gmp
.
	gb»ak_ty³
==1è; ià(mp.b»ak_ty³==2è
mp
.
b»ak_ty³
 = 0;

23732 
	gmp
.
	gp_code
 = 
p_po¡
; mp.p_code<
	gp_’d
; ++mp.p_code) {

23733 
	gmp
.
	gİcode
.
	g_d©a
 = 
mp
.
p_code
->
_d©a
;

23734 cÚ¡ 
ulÚgT
 
	grg‘
 = 
mp
.
İcode
[1];

23735 
	gmp
.
	gmem
[
rg‘
] = 
_cimg_mp_defunc
(
mp
);

23737 ià(
	gmp
.
	gb»ak_ty³
==1è; ià(mp.b»ak_ty³==2è
mp
.
b»ak_ty³
 = 0;

23739 } 
	gis_cÚd
);

23741 
	gmp
.
	gb»ak_ty³
 = 
_b»ak_ty³
;

23742 
	gmp
.
	gp_code
 = 
p_’d
 - 1;

23743  
	gmp
.
	gmem
[
mem_body
];

23746 
mp_fsize
(
_cimg_m©h_·r£r
& 
mp
) {

23747 cÚ¡ *
	g±rs
 = &
_mp_¬g
(2) + 1;

23748 cÚ¡ 
ulÚgT
 
	gsiz
 = (ulÚgT)
mp
.
İcode
[3];

23749 
	gCImg
<
	gch¬T
> 
ss
(
siz
 + 1);

23750 
cimg_fÜX
(
ss
,
i
è
	gss
[i] = ()
±rs
[i];

23751 
	gss
.
back
() = 0;

23752  ()
	gcimg
::
fsize
(
ss
);

23755 
mp_g
(
_cimg_m©h_·r£r
& 
mp
) {

23756 
	gcimg
::
unu£d
(
mp
);

23757  
	gcimg
::
g¿nd
(&
mp
.
ºg
);

23760 
mp_gauss
(
_cimg_m©h_·r£r
& 
mp
) {

23761 cÚ¡ 
	gx
 = 
_mp_¬g
(2), 
	gs
 = _mp_arg(3);

23762  
	g¡d
::
exp
(-
x
*x/(2*
s
*s))/(
_mp_¬g
(4)?
¡d
::
sq¹
(2*s*s*
cimg
::
PI
):1);

23765 #ifdeà
cimg_mp_func_g‘


23766 
mp_g‘
(
_cimg_m©h_·r£r
& 
mp
) {

23767 cÚ¡ *
	g±rs
 = &
_mp_¬g
(2) + 1;

23768 *
	g±rd
 = &
_mp_¬g
(1);

23770 
	gsizs
 = ()
mp
.
İcode
[3],

23771 
	gsizd
 = ()
mp
.
İcode
[4];

23772 cÚ¡ 
boŞ
 
	gto_numb”s
 = (boŞ)
mp
.
İcode
[5];

23773 
	gCImg
<
	gch¬T
> 
ss
(
sizs
 + 1);

23774 
cimg_fÜ_šX
(
ss
,0,ss.
width
(è- 1,
i
è
	gss
[i] = ()
±rs
[i];

23775 
	gss
.
back
() = 0;

23776 ià(
	gsizd
è
cimg_mp_func_g‘
(
±rd
 + 1,
sizd
,
to_numb”s
,
ss
.
_d©a
);

23777 
cimg_mp_func_g‘
(
±rd
,0,
to_numb”s
,
ss
.
_d©a
);

23778  
	gcimg
::
ty³
<>::
Çn
();

23782 
mp_gcd
(
_cimg_m©h_·r£r
& 
mp
) {

23783  
	gcimg
::
gcd
(()
_mp_¬g
(2),()_mp_arg(3));

23786 #ifdeà
cimg_mp_func_Çme


23787 
mp_Çme
(
_cimg_m©h_·r£r
& 
mp
) {

23788 *cÚ¡ 
	g±r
 = &
_mp_¬g
(1) + 1;

23789 cÚ¡ 
	gsiz
 = ()
mp
.
İcode
[3];

23790 
	gšd
 = ()
mp
.
İcode
[2];

23791 ià(
	gšd
==~0Uè
¡d
::
mem£t
(
±r
,0,
siz
*());

23793 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

23794 
cimg_mp_func_Çme
(
šd
,
±r
,
siz
);

23796  
	gcimg
::
ty³
<>::
Çn
();

23800 
mp_gt
(
_cimg_m©h_·r£r
& 
mp
) {

23801  ()(
_mp_¬g
(2)>_mp_arg(3));

23804 
mp_g‹
(
_cimg_m©h_·r£r
& 
mp
) {

23805  ()(
_mp_¬g
(2)>=_mp_arg(3));

23808 
mp_i
(
_cimg_m©h_·r£r
& 
mp
) {

23809  ()
	gmp
.
	gimgš
.
©XYZC
(()
mp
.
mem
[
_cimg_mp_¦Ù_x
],()mp.mem[
_cimg_mp_¦Ù_y
],

23810 ()
mp
.
mem
[
_cimg_mp_¦Ù_z
],()mp.mem[
_cimg_mp_¦Ù_c
],(
T
)0);

23813 
mp_if
(
_cimg_m©h_·r£r
& 
mp
) {

23814 cÚ¡ 
boŞ
 
	gis_cÚd
 = (boŞ)
_mp_¬g
(2);

23815 cÚ¡ 
ulÚgT


23816 
	gmem_Ëá
 = 
mp
.
İcode
[3],

23817 
	gmem_right
 = 
mp
.
İcode
[4];

23818 cÚ¡ 
	gCImg
<
	gulÚgT
>

23819 *cÚ¡ 
	gp_right
 = ++
mp
.
p_code
 + mp.
İcode
[5],

23820 *cÚ¡ 
	gp_’d
 = 
p_right
 + 
mp
.
İcode
[6];

23821 cÚ¡ 
	gvrg‘
 = ()
mp
.
İcode
[1], 
	gvsiz
 = ()mp.opcode[7];

23822 ià(
	gis_cÚd
è ; 
	gmp
.
	gp_code
<
	gp_right
; ++mp.p_code) {

23823 
	gmp
.
	gİcode
.
	g_d©a
 = 
mp
.
p_code
->
_d©a
;

23824 cÚ¡ 
ulÚgT
 
	grg‘
 = 
mp
.
İcode
[1];

23825 
	gmp
.
	gmem
[
rg‘
] = 
_cimg_mp_defunc
(
mp
);

23827 
	gmp
.
	gp_code
 = 
p_right
; mp.p_code<
	gp_’d
; ++mp.p_code) {

23828 
	gmp
.
	gİcode
.
	g_d©a
 = 
mp
.
p_code
->
_d©a
;

23829 cÚ¡ 
ulÚgT
 
	grg‘
 = 
mp
.
İcode
[1];

23830 
	gmp
.
	gmem
[
rg‘
] = 
_cimg_mp_defunc
(
mp
);

23832 ià(
	gmp
.
	gp_code
==
mp
.
p_b»ak
è--mp.
p_code
;

23833 
	gmp
.
	gp_code
 = 
p_’d
 - 1;

23834 ià(
	gvsiz
è
	g¡d
::
memıy
(&
mp
.
mem
[
vrg‘
] + 1,&mp.mem[
is_cÚd
?
mem_Ëá
:
mem_right
] + 1,()*
vsiz
);

23835  
	gmp
.
	gmem
[
is_cÚd
?
mem_Ëá
:
mem_right
];

23838 
mp_image_d
(
_cimg_m©h_·r£r
& 
mp
) {

23839 
	gšd
 = ()
mp
.
İcode
[2];

23840 ià(
	gšd
!=~0Uè
šd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

23841 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
šd
==~0U?
mp
.
imgout
:mp.
li¡out
[ind];

23842  ()
	gimg
.
d•th
();

23845 
mp_image_di¥Ïy
(
_cimg_m©h_·r£r
& 
mp
) {

23846 cÚ¡ 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡out
.
width
());

23847 
	gcimg
::
mu‹x
(6);

23848 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
li¡out
[
šd
];

23849 
	gCImg
<
	gch¬T
> 
t™Ë
(256);

23850 
	g¡d
::
åutc
('\n',
cimg
::
ouut
());

23851 
cimg_¢´štf
(
t™Ë
,t™Ë.
_width
,"[ Imag#%u ]",
šd
);

23852 
	gimg
.
di¥Ïy
(
t™Ë
);

23853 
	gcimg
::
mu‹x
(6,0);

23854  
	gcimg
::
ty³
<>::
Çn
();

23857 
mp_image_h
(
_cimg_m©h_·r£r
& 
mp
) {

23858 
	gšd
 = ()
mp
.
İcode
[2];

23859 ià(
	gšd
!=~0Uè
šd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

23860 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
šd
==~0U?
mp
.
imgout
:mp.
li¡out
[ind];

23861  ()
	gimg
.
height
();

23864 
mp_image_medŸn
(
_cimg_m©h_·r£r
& 
mp
) {

23865 
	gšd
 = ()
mp
.
İcode
[2];

23866 ià(
	gšd
!=~0Uè
šd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

23867 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
šd
==~0U?
mp
.
imgout
:mp.
li¡out
[ind];

23868  ()
	gimg
.
medŸn
();

23871 
mp_image_nÜm
(
_cimg_m©h_·r£r
& 
mp
) {

23872 
	gšd
 = ()
mp
.
İcode
[2];

23873 ià(
	gšd
!=~0Uè
šd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

23874 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
šd
==~0U?
mp
.
imgout
:mp.
li¡out
[ind];

23875  ()
	gimg
.
magn™ude
();

23878 
mp_image_´št
(
_cimg_m©h_·r£r
& 
mp
) {

23879 cÚ¡ 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡out
.
width
());

23880 
	gcimg
::
mu‹x
(6);

23881 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
li¡out
[
šd
];

23882 
	gCImg
<
	gch¬T
> 
t™Ë
(256);

23883 
	g¡d
::
åutc
('\n',
cimg
::
ouut
());

23884 
cimg_¢´štf
(
t™Ë
,t™Ë.
_width
,"[ Imag#%u ]",
šd
);

23885 
	gimg
.
´št
(
t™Ë
);

23886 
	gcimg
::
mu‹x
(6,0);

23887  
	gcimg
::
ty³
<>::
Çn
();

23890 
mp_image_»size
(
_cimg_m©h_·r£r
& 
mp
) {

23891 cÚ¡ 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡out
.
width
());

23892 
	gcimg
::
mu‹x
(6);

23893 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
li¡out
[
šd
];

23895 
	g_w
 = 
mp
.
İcode
[3]==~0U?-100:
_mp_¬g
(3),

23896 
	g_h
 = 
mp
.
İcode
[4]==~0U?-100:
_mp_¬g
(4),

23897 
	g_d
 = 
mp
.
İcode
[5]==~0U?-100:
_mp_¬g
(5),

23898 
	g_s
 = 
mp
.
İcode
[6]==~0U?-100:
_mp_¬g
(6);

23900 
	gw
 = ()(
_w
>=0?_w:-_w*
img
.
width
()/100),

23901 
	gh
 = ()(
_h
>=0?_h:-_h*
img
.
height
()/100),

23902 
	gd
 = ()(
_d
>=0?_d:-_d*
img
.
d•th
()/100),

23903 
	gs
 = ()(
_s
>=0?_s:-_s*
img
.
¥eùrum
()/100),

23904 
	gš‹½
 = ()
_mp_¬g
(7);

23905 ià(
	gmp
.
	gis_fl
 && 
	gimg
.
	g_d©a
==
mp
.
imgout
.
_d©a
) {

23906 
cimg
::
mu‹x
(6,0);

23907 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] CImg<%s>: Function 'resize()': "

23910 
img
.
pix–_ty³
(),img.
_width
,img.
_height
,img.
_d•th
,img.
_¥eùrum
,
w
,
h
,
d
,
s
);

23913 
	gbound¬y
 = ()
_mp_¬g
(8);

23915 
	gcx
 = ()
_mp_¬g
(9),

23916 
	gcy
 = ()
_mp_¬g
(10),

23917 
	gcz
 = ()
_mp_¬g
(11),

23918 
	gcc
 = ()
_mp_¬g
(12);

23919 
	gimg
.
»size
(
w
,
h
,
d
,
s
,
š‹½
,
bound¬y
,
cx
,
cy
,
cz
,
cc
);

23920 
	gcimg
::
mu‹x
(6,0);

23921  
	gcimg
::
ty³
<>::
Çn
();

23924 
mp_image_s
(
_cimg_m©h_·r£r
& 
mp
) {

23925 
	gšd
 = ()
mp
.
İcode
[2];

23926 ià(
	gšd
!=~0Uè
šd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

23927 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
šd
==~0U?
mp
.
imgout
:mp.
li¡out
[ind];

23928  ()
	gimg
.
¥eùrum
();

23931 
mp_image_sÜt
(
_cimg_m©h_·r£r
& 
mp
) {

23932 cÚ¡ 
boŞ
 
	gis_šü—sšg
 = (boŞ)
_mp_¬g
(3);

23934 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡out
.
width
()),

23935 
	gaxis
 = ()
_mp_¬g
(4);

23936 
	gcimg
::
mu‹x
(6);

23937 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
li¡out
[
šd
];

23938 
	gimg
.
sÜt
(
is_šü—sšg
,

23939 
axis
==0 ||‡xis=='x'?'x':

23940 
axis
==1 ||‡xis=='y'?'y':

23941 
axis
==2 ||‡xis=='z'?'z':

23942 
axis
==3 ||‡xis=='c'?'c':0);

23943 
	gcimg
::
mu‹x
(6,0);

23944  
	gcimg
::
ty³
<>::
Çn
();

23947 
mp_image_¡©s
(
_cimg_m©h_·r£r
& 
mp
) {

23948 *
	g±rd
 = &
_mp_¬g
(1) + 1;

23949 
	gšd
 = ()
mp
.
İcode
[2];

23950 ià(
	gšd
==~0Uè
CImg
<
doubËT
>(
±rd
,14,1,1,1,
	gŒue
èğ
mp
.
imgout
.
g‘_¡©s
();

23952 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

23953 
	gCImg
<
	gdoubËT
>(
	g±rd
,14,1,1,1,
	gŒue
èğ
mp
.
li¡out
[
šd
].
g‘_¡©s
();

23955  
	gcimg
::
ty³
<>::
Çn
();

23958 
mp_image_w
(
_cimg_m©h_·r£r
& 
mp
) {

23959 
	gšd
 = ()
mp
.
İcode
[2];

23960 ià(
	gšd
!=~0Uè
šd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

23961 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
šd
==~0U?
mp
.
imgout
:mp.
li¡out
[ind];

23962  ()
	gimg
.
width
();

23965 
mp_image_wh
(
_cimg_m©h_·r£r
& 
mp
) {

23966 
	gšd
 = ()
mp
.
İcode
[2];

23967 ià(
	gšd
!=~0Uè
šd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

23968 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
šd
==~0U?
mp
.
imgout
:mp.
li¡out
[ind];

23969  ()
	gimg
.
width
()*img.
height
();

23972 
mp_image_whd
(
_cimg_m©h_·r£r
& 
mp
) {

23973 
	gšd
 = ()
mp
.
İcode
[2];

23974 ià(
	gšd
!=~0Uè
šd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

23975 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
šd
==~0U?
mp
.
imgout
:mp.
li¡out
[ind];

23976  ()
	gimg
.
width
()*img.
height
()*img.
d•th
();

23979 
mp_image_whds
(
_cimg_m©h_·r£r
& 
mp
) {

23980 
	gšd
 = ()
mp
.
İcode
[2];

23981 ià(
	gšd
!=~0Uè
šd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

23982 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
šd
==~0U?
mp
.
imgout
:mp.
li¡out
[ind];

23983  ()
	gimg
.
width
()*img.
height
()*img.
d•th
()*img.
¥eùrum
();

23986 
mp_šüem’t
(
_cimg_m©h_·r£r
& 
mp
) {

23987  
_mp_¬g
(2) + 1;

23990 
mp_š¿nge
(
_cimg_m©h_·r£r
& 
mp
) {

23991 cÚ¡ 
	gsizd
 = ()
mp
.
İcode
[2];

23992 cÚ¡ 
boŞ


23993 
	gšşude_m
 = (
boŞ
)
_mp_¬g
(9),

23994 
	gšşude_M
 = (
boŞ
)
_mp_¬g
(10);

23995 ià(!
	gsizd
) {

23996 cÚ¡ 
	gv®
 = 
_mp_¬g
(3);

23997 cÚ¡ 
	gm
 = 
_mp_¬g
(5), 
	gM
 = _mp_arg(7);

23998 ià(
	gM
>=
m
è ()((
šşude_m
?(
v®
>=m):(v®>m)è&& (
šşude_M
?(v®<=
M
):(val<M)));

23999  ()((
	gšşude_M
?(
	gv®
>=
M
):(
v®
>M)è&& (
šşude_m
?(v®<=
m
):(val<m)));

24004 
	gsiz1
 = ()
mp
.
İcode
[4],

24005 
	gsiz2
 = ()
mp
.
İcode
[6],

24006 
	gsiz3
 = ()
mp
.
İcode
[8],

24007 
	goff1
 = 
siz1
?1:0,

24008 
	goff2
 = 
siz2
?1:0,

24009 
	goff3
 = 
siz3
?1:0;

24010 *
	g±rd
 = &
_mp_¬g
(1) + 1;

24012 *
	g±r1
 = &
_mp_¬g
(3è+ 
off1
,

24013 *
	g±r2
 = &
_mp_¬g
(5è+ 
off2
,

24014 *
	g±r3
 = &
_mp_¬g
(7è+ 
off3
;

24015 
	gk
 = 0; k<
	gsizd
; ++k) {

24016 cÚ¡ 
	gv®
 = *
±r1
;

24017 cÚ¡ 
	gm
 = *
±r2
, 
	gM
 = *
±r3
;

24018 ià(
	gM
>=
m
)

24019 
±rd
[
k
] = ()((
šşude_m
?(
v®
>=
m
):(v®>m)è&& (
šşude_M
?(v®<=
M
):(val<M)));

24021 
	g±rd
[
k
] = ()((
šşude_M
?(
v®
>=
M
):(v®>M)è&& (
šşude_m
?(v®<=
m
):(val<m)));

24022 
	g±r1
+=
off1
;

24023 
	g±r2
+=
off2
;

24024 
	g±r3
+=
off3
;

24026  
	gcimg
::
ty³
<>::
Çn
();

24029 
mp_št
(
_cimg_m©h_·r£r
& 
mp
) {

24030  ()(
	glÚgT
)
_mp_¬g
(2);

24033 
mp_ioff
(
_cimg_m©h_·r£r
& 
mp
) {

24035 
	gbound¬y_cÚd™iÚs
 = ()
_mp_¬g
(3);

24036 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
imgš
;

24037 cÚ¡ 
lÚgT


24038 
	goff
 = (
lÚgT
)
_mp_¬g
(2),

24039 
	gwhds
 = (
lÚgT
)
img
.
size
();

24040 ià(
	goff
>=0 && 
off
<
whds
è ()
img
[off];

24041 ià(
	gimg
.
	g_d©a
è
	gbound¬y_cÚd™iÚs
) {

24043 cÚ¡ 
lÚgT
 
whds2
 = 2*
whds
, 
	gmoff
 = 
cimg
::
mod
(
off
,whds2);

24044  ()
	gimg
[
moff
<
whds
?moff:
whds2
 - moff - 1];

24047  ()
img
[
cimg
::
mod
(
off
,
whds
)];

24049  ()
img
[
off
<0?0:
whds
 - 1];

24056 
mp_isboŞ
(
_cimg_m©h_·r£r
& 
mp
) {

24057 cÚ¡ 
	gv®
 = 
_mp_¬g
(2);

24058  ()(
	gv®
==0. || 
v®
==1.);

24061 
mp_isdœ
(
_cimg_m©h_·r£r
& 
mp
) {

24062 cÚ¡ *
	g±rs
 = &
_mp_¬g
(2) + 1;

24063 cÚ¡ 
ulÚgT
 
	gsiz
 = (ulÚgT)
mp
.
İcode
[3];

24064 
	gCImg
<
	gch¬T
> 
ss
(
siz
 + 1);

24065 
cimg_fÜX
(
ss
,
i
è
	gss
[i] = ()
±rs
[i];

24066 
	gss
.
back
() = 0;

24067  ()
	gcimg
::
is_dœeùÜy
(
ss
);

24070 
mp_isš
(
_cimg_m©h_·r£r
& 
mp
) {

24071 cÚ¡ 
	gi_’d
 = ()
mp
.
İcode
[2];

24072 cÚ¡ 
	gv®
 = 
_mp_¬g
(3);

24073 
	gi
 = 4; i<
	gi_’d
; ++i)

24074 ià(
	gv®
==
_mp_¬g
(
i
))  1.;

24078 
mp_isšf
(
_cimg_m©h_·r£r
& 
mp
) {

24079  ()
	gcimg
::
ty³
<>::
is_šf
(
_mp_¬g
(2));

24082 
mp_isšt
(
_cimg_m©h_·r£r
& 
mp
) {

24083  ()(()(
	glÚgT
)
_mp_¬g
(2)==_mp_arg(2));

24086 
mp_isfe
(
_cimg_m©h_·r£r
& 
mp
) {

24087 cÚ¡ *
	g±rs
 = &
_mp_¬g
(2) + 1;

24088 cÚ¡ 
ulÚgT
 
	gsiz
 = (ulÚgT)
mp
.
İcode
[3];

24089 
	gCImg
<
	gch¬T
> 
ss
(
siz
 + 1);

24090 
cimg_fÜX
(
ss
,
i
è
	gss
[i] = ()
±rs
[i];

24091 
	gss
.
back
() = 0;

24092  ()
	gcimg
::
is_fe
(
ss
);

24095 
mp_i¢ª
(
_cimg_m©h_·r£r
& 
mp
) {

24096  ()
	gcimg
::
ty³
<>::
is_Çn
(
_mp_¬g
(2));

24099 
mp_ixyzc
(
_cimg_m©h_·r£r
& 
mp
) {

24101 
	gš‹½Ş©iÚ
 = ()
_mp_¬g
(6),

24102 
	gbound¬y_cÚd™iÚs
 = ()
_mp_¬g
(7);

24103 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
imgš
;

24105 
	gx
 = 
_mp_¬g
(2), 
	gy
 = _mp_arg(3),

24106 
	gz
 = 
_mp_¬g
(4), 
	gc
 = _mp_arg(5);

24107 
	gš‹½Ş©iÚ
) {

24109 
bound¬y_cÚd™iÚs
) {

24112 
w2
 = 2.f*
img
.
width
(), 
	gh2
 = 2.f*img.
height
(), 
	gd2
 = 2.f*img.
d•th
(), 
	gs2
 = 2.f*img.
¥eùrum
(),

24113 
	gmx
 = 
cimg
::
mod
(()
x
,
w2
), 
	gmy
 = cimg::mod(()
y
,
h2
),

24114 
	gmz
 = 
cimg
::
mod
(()
z
,
d2
), 
	gmc
 = cimg::mod(()
c
,
s2
);

24115  ()
	gimg
.
_cubic_©XYZ
(
mx
<
img
.
width
()?mx:
w2
 - mx - 1,

24116 
my
<
img
.
height
()?my:
h2
 - my - 1,

24117 
mz
<
img
.
d•th
()?mz:
d2
 - mz - 1,

24118 ()(
mc
<
img
.
¥eùrum
()?mc:
s2
 - mc - 1));

24121  ()
img
.
_cubic_©XYZ_p
(()
x
,()
y
,()
z
,

24122 ()
cimg
::
mod
(
c
,()
img
.
_¥eùrum
));

24124  ()
img
.
_cubic_©XYZ
(()
x
,()
y
,()
z
,

24125 ()(
c
<0?0:c>=
img
.
_¥eùrum
?img._spectrum - 1:c));

24127 ià(
c
<0 || c>=
img
.
_¥eùrum
è (
T
)0;

24128  ()
	gimg
.
cubic_©XYZ
(()
x
,()
y
,()
z
,()
c
,(
T
)0);

24131 
bound¬y_cÚd™iÚs
) {

24134 
w2
 = 2.f*
img
.
width
(), 
	gh2
 = 2.f*img.
height
(), 
	gd2
 = 2.f*img.
d•th
(), 
	gs2
 = 2.f*img.
¥eùrum
(),

24135 
	gmx
 = 
cimg
::
mod
(()
x
,
w2
), 
	gmy
 = cimg::mod(()
y
,
h2
),

24136 
	gmz
 = 
cimg
::
mod
(()
z
,
d2
), 
	gmc
 = cimg::mod(()
c
,
s2
);

24137  ()
	gimg
.
_lš—r_©XYZ
(
mx
<
img
.
width
()?mx:
w2
 - mx - 1,

24138 
my
<
img
.
height
()?my:
h2
 - my - 1,

24139 
mz
<
img
.
d•th
()?mz:
d2
 - mz - 1,

24140 ()(
mc
<
img
.
¥eùrum
()?mc:
s2
 - mc - 1));

24143  ()
img
.
_lš—r_©XYZ_p
(()
x
,()
y
,()
z
,

24144 ()
cimg
::
mod
(
c
,()
img
.
_¥eùrum
));

24146  ()
img
.
_lš—r_©XYZ
(()
x
,()
y
,()
z
,

24147 ()(
c
<0?0:c>=
img
.
_¥eùrum
?img._spectrum - 1:c));

24149 ià(
c
<0 || c>=
img
.
_¥eùrum
è (
T
)0;

24150  ()
	gimg
.
lš—r_©XYZ
(()
x
,()
y
,()
z
,()
c
,(
T
)0);

24153 
bound¬y_cÚd™iÚs
) {

24156 
w2
 = 2*
img
.
width
(), 
	gh2
 = 2*img.
height
(), 
	gd2
 = 2*img.
d•th
(), 
	gs2
 = 2*img.
¥eùrum
(),

24157 
	gmx
 = 
cimg
::
mod
(()
x
,
w2
), 
	gmy
 = cimg::mod(()
y
,
h2
),

24158 
	gmz
 = 
cimg
::
mod
(()
z
,
d2
), 
	gmc
 = cimg::mod(()
c
,
s2
);

24159  ()
img
(
mx
<img.
width
()?mx:
w2
 - mx - 1,

24160 
my
<
img
.
height
()?my:
h2
 - my - 1,

24161 
mz
<
img
.
d•th
()?mz:
d2
 - mz - 1,

24162 
mc
<
img
.
¥eùrum
()?mc:
s2
 - mc - 1);

24165  ()
img
(()
cimg
::
mod
(
x
,()img.
_width
),

24166 ()
cimg
::
mod
(
y
,()
img
.
_height
),

24167 ()
cimg
::
mod
(
z
,()
img
.
_d•th
),

24168 ()
cimg
::
mod
(
c
,()
img
.
_¥eùrum
));

24170  ()
img
.
_©XYZC
(()
x
,()
y
,()
z
,()
c
);

24172  ()
img
.
©XYZC
(()
x
,()
y
,()
z
,()
c
,(
T
)0);

24177 
mp_joff
(
_cimg_m©h_·r£r
& 
mp
) {

24179 
	gbound¬y_cÚd™iÚs
 = ()
_mp_¬g
(3);

24181 
	gox
 = ()
mp
.
mem
[
_cimg_mp_¦Ù_x
], 
	goy
 = ()mp.mem[
_cimg_mp_¦Ù_y
],

24182 
	goz
 = ()
mp
.
mem
[
_cimg_mp_¦Ù_z
], 
	goc
 = ()mp.mem[
_cimg_mp_¦Ù_c
];

24183 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
imgš
;

24184 cÚ¡ 
lÚgT


24185 
	goff
 = 
img
.
off£t
(
ox
,
oy
,
oz
,
oc
è+ (
	glÚgT
)
_mp_¬g
(2),

24186 
	gwhds
 = (
lÚgT
)
img
.
size
();

24187 ià(
	goff
>=0 && 
off
<
whds
è ()
img
[off];

24188 ià(
	gimg
.
	g_d©a
è
	gbound¬y_cÚd™iÚs
) {

24190 cÚ¡ 
lÚgT
 
whds2
 = 2*
whds
, 
	gmoff
 = 
cimg
::
mod
(
off
,whds2);

24191  ()
	gimg
[
moff
<
whds
?moff:
whds2
 - moff - 1];

24194  ()
img
[
cimg
::
mod
(
off
,
whds
)];

24196  ()
img
[
off
<0?0:
whds
 - 1];

24203 
mp_jxyzc
(
_cimg_m©h_·r£r
& 
mp
) {

24205 
	gš‹½Ş©iÚ
 = ()
_mp_¬g
(6),

24206 
	gbound¬y_cÚd™iÚs
 = ()
_mp_¬g
(7);

24207 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
imgš
;

24209 
	gox
 = 
mp
.
mem
[
_cimg_mp_¦Ù_x
], 
	goy
 = mp.mem[
_cimg_mp_¦Ù_y
],

24210 
	goz
 = 
mp
.
mem
[
_cimg_mp_¦Ù_z
], 
	goc
 = mp.mem[
_cimg_mp_¦Ù_c
],

24211 
	gx
 = 
ox
 + 
_mp_¬g
(2), 
	gy
 = 
oy
 + _mp_arg(3),

24212 
	gz
 = 
oz
 + 
_mp_¬g
(4), 
	gc
 = 
oc
 + _mp_arg(5);

24213 
	gš‹½Ş©iÚ
) {

24215 
bound¬y_cÚd™iÚs
) {

24218 
w2
 = 2.f*
img
.
width
(), 
	gh2
 = 2.f*img.
height
(), 
	gd2
 = 2.f*img.
d•th
(), 
	gs2
 = 2.f*img.
¥eùrum
(),

24219 
	gmx
 = 
cimg
::
mod
(()
x
,
w2
), 
	gmy
 = cimg::mod(()
y
,
h2
),

24220 
	gmz
 = 
cimg
::
mod
(()
z
,
d2
), 
	gmc
 = cimg::mod(()
c
,
s2
);

24221  ()
	gimg
.
_cubic_©XYZ
(
mx
<
img
.
width
()?mx:
w2
 - mx - 1,

24222 
my
<
img
.
height
()?my:
h2
 - my - 1,

24223 
mz
<
img
.
d•th
()?mz:
d2
 - mz - 1,

24224 ()(
mc
<
img
.
¥eùrum
()?mc:
s2
 - mc - 1));

24227  ()
img
.
_cubic_©XYZ_p
(()
x
,()
y
,()
z
,

24228 ()
cimg
::
mod
(
c
,()
img
.
_¥eùrum
));

24230  ()
img
.
_cubic_©XYZ
(()
x
,()
y
,()
z
,

24231 ()(
c
<0?0:c>=
img
.
_¥eùrum
?img._spectrum - 1:c));

24233 ià(
c
<0 || c>=
img
.
_¥eùrum
è (
T
)0;

24234  ()
	gimg
.
cubic_©XYZ
(()
x
,()
y
,()
z
,()
c
,(
T
)0);

24237 
bound¬y_cÚd™iÚs
) {

24240 
w2
 = 2.f*
img
.
width
(), 
	gh2
 = 2.f*img.
height
(), 
	gd2
 = 2.f*img.
d•th
(), 
	gs2
 = 2.f*img.
¥eùrum
(),

24241 
	gmx
 = 
cimg
::
mod
(()
x
,
w2
), 
	gmy
 = cimg::mod(()
y
,
h2
),

24242 
	gmz
 = 
cimg
::
mod
(()
z
,
d2
), 
	gmc
 = cimg::mod(()
c
,
s2
);

24243  ()
	gimg
.
_lš—r_©XYZ
(
mx
<
img
.
width
()?mx:
w2
 - mx - 1,

24244 
my
<
img
.
height
()?my:
h2
 - my - 1,

24245 
mz
<
img
.
d•th
()?mz:
d2
 - mz - 1,

24246 ()(
mc
<
img
.
¥eùrum
()?mc:
s2
 - mc - 1));

24249  ()
img
.
_lš—r_©XYZ_p
(()
x
,()
y
,()
z
,

24250 ()
cimg
::
mod
(
c
,()
img
.
_¥eùrum
));

24252  ()
img
.
_lš—r_©XYZ
(()
x
,()
y
,()
z
,

24253 ()(
c
<0?0:c>=
img
.
_¥eùrum
?img._spectrum - 1:c));

24255 ià(
c
<0 || c>=
img
.
_¥eùrum
è (
T
)0;

24256  ()
	gimg
.
lš—r_©XYZ
(()
x
,()
y
,()
z
,()
c
,(
T
)0);

24259 
bound¬y_cÚd™iÚs
) {

24262 
w2
 = 2*
img
.
width
(), 
	gh2
 = 2*img.
height
(), 
	gd2
 = 2*img.
d•th
(), 
	gs2
 = 2*img.
¥eùrum
(),

24263 
	gmx
 = 
cimg
::
mod
(()
x
,
w2
), 
	gmy
 = cimg::mod(()
y
,
h2
),

24264 
	gmz
 = 
cimg
::
mod
(()
z
,
d2
), 
	gmc
 = cimg::mod(()
c
,
s2
);

24265  ()
img
(
mx
<img.
width
()?mx:
w2
 - mx - 1,

24266 
my
<
img
.
height
()?my:
h2
 - my - 1,

24267 
mz
<
img
.
d•th
()?mz:
d2
 - mz - 1,

24268 
mc
<
img
.
¥eùrum
()?mc:
s2
 - mc - 1);

24271  ()
img
(()
cimg
::
mod
(
x
,()img.
_width
),

24272 ()
cimg
::
mod
(
y
,()
img
.
_height
),

24273 ()
cimg
::
mod
(
z
,()
img
.
_d•th
),

24274 ()
cimg
::
mod
(
c
,()
img
.
_¥eùrum
));

24276  ()
img
.
_©XYZC
(()
x
,()
y
,()
z
,()
c
);

24278  ()
img
.
©XYZC
(()
x
,()
y
,()
z
,()
c
,(
T
)0);

24283 
mp_kth
(
_cimg_m©h_·r£r
& 
mp
) {

24284 cÚ¡ 
	gi_’d
 = ()
mp
.
İcode
[2];

24285 
	gCImg
<
	gdoubËT
> 
v®s
(
i_’d
 - 4);

24286 *
	gp
 = 
v®s
.
d©a
();

24287 
	gi
 = 4; i<
	gi_’d
; ++iè*(
	gp
++èğ
_mp_¬g
(
i
);

24288 
lÚgT
 
	gšd
 = (lÚgT)
cimg
::
round
(
_mp_¬g
(3));

24289 ià(
	gšd
<0èšd+=
v®s
.
width
() + 1;

24290 
	gšd
 = 
cimg
::
cut
(
šd
,(
lÚgT
)1,ÖÚgT)
v®s
.
width
());

24291  
	gv®s
.
kth_sm®Ë¡
((
ulÚgT
)(
šd
 - 1));

24294 
mp_Ë½
(
_cimg_m©h_·r£r
& 
mp
) {

24295 cÚ¡ 
	gt
 = 
_mp_¬g
(4);

24296  
_mp_¬g
(2)*(1-
	gt
) + _mp_arg(3)*t;

24299 
mp_lš—r_add
(
_cimg_m©h_·r£r
& 
mp
) {

24300  
_mp_¬g
(2)*_mp_arg(3) + _mp_arg(4);

24303 
mp_lš—r_sub_Ëá
(
_cimg_m©h_·r£r
& 
mp
) {

24304  
_mp_¬g
(2)*_mp_arg(3) - _mp_arg(4);

24307 
mp_lš—r_sub_right
(
_cimg_m©h_·r£r
& 
mp
) {

24308  
_mp_¬g
(4) - _mp_arg(2)*_mp_arg(3);

24311 
mp_li¡_d•th
(
_cimg_m©h_·r£r
& 
mp
) {

24312 cÚ¡ 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

24313  ()
	gmp
.
	gli¡š
[
šd
].
	g_d•th
;

24316 
mp_li¡_fšd
(
_cimg_m©h_·r£r
& 
mp
) {

24318 
	gšdi
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

24319 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
li¡š
[
šdi
];

24320 cÚ¡ 
	g_¡•
 = ()
_mp_¬g
(5), 
	g¡•
 = 
_¡•
?_step:-1;

24321 cÚ¡ 
ulÚgT
 
	gsiz
 = (ulÚgT)
img
.
size
();

24322 
lÚgT
 
	gšd
 = (lÚgT)(
mp
.
İcode
[4]!=
_cimg_mp_¦Ù_Çn
?
_mp_¬g
(4):
¡•
>0?0:
siz
 - 1);

24323 ià(
	gšd
<0 || ind>=(
lÚgT
)
siz
)  -1.;

24324 cÚ¡ 
T


24325 *cÚ¡ 
	g±rb
 = 
img
.
d©a
(),

24326 *cÚ¡ 
	g±»
 = 
img
.
’d
(),

24327 *
	g±r
 = 
±rb
 + 
šd
;

24328 cÚ¡ 
	gv®
 = 
_mp_¬g
(3);

24331 ià(
	g¡•
>0) {

24332 
	g±r
<
	g±»
 && ()*±r!=
v®
è
±r
+=
¡•
;

24333  
	g±r
>=
±»
?-1.:()(
±r
 - 
±rb
);

24337 
	g±r
>=
±rb
 && ()*
±r
!=
v®
è±r+=
¡•
;

24338  
	g±r
<
	g±rb
?-1.:()(
±r
 - 
±rb
);

24341 
mp_li¡_fšd_£q
(
_cimg_m©h_·r£r
& 
mp
) {

24343 
	gšdi
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

24344 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
li¡š
[
šdi
];

24345 cÚ¡ 
	g_¡•
 = (
boŞ
)
_mp_¬g
(6), 
	g¡•
 = 
_¡•
?_step:-1;

24346 cÚ¡ 
ulÚgT


24347 
	gsiz1
 = (
ulÚgT
)
img
.
size
(),

24348 
	gsiz2
 = (
ulÚgT
)
mp
.
İcode
[4];

24349 
lÚgT
 
	gšd
 = (lÚgT)(
mp
.
İcode
[5]!=
_cimg_mp_¦Ù_Çn
?
_mp_¬g
(5):
¡•
>0?0:
siz1
 - 1);

24350 ià(
	gšd
<0 || ind>=(
lÚgT
)
siz1
)  -1.;

24351 cÚ¡ 
T


24352 *cÚ¡ 
	g±r1b
 = 
img
.
d©a
(),

24353 *cÚ¡ 
	g±r1e
 = 
±r1b
 + 
siz1
,

24354 *
	g±r1
 = 
±r1b
 + 
šd
,

24355 *
	gp1
 = 0;

24357 *cÚ¡ 
	g±r2b
 = &
_mp_¬g
(3) + 1,

24358 *cÚ¡ 
	g±r2e
 = 
±r2b
 + 
siz2
,

24359 *
	gp2
 = 0;

24362 ià(
	g¡•
>0) {

24364 
	g±r1
<
	g±r1e
 && *±r1!=*
±r2b
è
±r1
+=
¡•
;

24365 ià(
	g±r1
>=
±r1e
)  -1.;

24366 
	gp1
 = 
±r1
 + 1;

24367 
	gp2
 = 
±r2b
 + 1;

24368 
	gp1
<
	g±r1e
 && 
	gp2
<
	g±r2e
 && *p1==*
p2
è{ ++
p1
; ++p2; }

24369 } 
	gp2
<
	g±r2e
 && (
	g±r1
+=
¡•
)<
±r1e
);

24370  
	gp2
<
	g±r2e
?-1.:()(
±r1
 - 
±r1b
);

24375 
	g±r1
>=
±r1b
 && *
±r1
!=*
±r2b
è±r1+=
¡•
;

24376 ià(
	g±r1
<
	g±r1b
)  -1.;

24377 
	gp1
 = 
±r1
 + 1;

24378 
	gp2
 = 
±r2b
 + 1;

24379 
	gp1
<
	g±r1e
 && 
	gp2
<
	g±r2e
 && *p1==*
p2
è{ ++
p1
; ++p2; }

24380 } 
	gp2
<
	g±r2e
 && (
	g±r1
+=
¡•
)>=
±r1b
);

24381  
	gp2
<
	g±r2e
?-1.:()(
±r1
 - 
±r1b
);

24384 
mp_li¡_height
(
_cimg_m©h_·r£r
& 
mp
) {

24385 cÚ¡ 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

24386  ()
	gmp
.
	gli¡š
[
šd
].
	g_height
;

24389 
mp_li¡_ioff
(
_cimg_m©h_·r£r
& 
mp
) {

24391 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
()),

24392 
	gbound¬y_cÚd™iÚs
 = ()
_mp_¬g
(4);

24393 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
li¡š
[
šd
];

24394 cÚ¡ 
lÚgT


24395 
	goff
 = (
lÚgT
)
_mp_¬g
(3),

24396 
	gwhds
 = (
lÚgT
)
img
.
size
();

24397 ià(
	goff
>=0 && 
off
<
whds
è ()
img
[off];

24398 ià(
	gimg
.
	g_d©a
è
	gbound¬y_cÚd™iÚs
) {

24400 cÚ¡ 
lÚgT
 
whds2
 = 2*
whds
, 
	gmoff
 = 
cimg
::
mod
(
off
,whds2);

24401  ()
	gimg
[
moff
<
whds
?moff:
whds2
 - moff - 1];

24404  ()
img
[
cimg
::
mod
(
off
,
whds
)];

24406  ()
img
[
off
<0?0:
whds
 - 1];

24413 
mp_li¡_is_sh¬ed
(
_cimg_m©h_·r£r
& 
mp
) {

24414 cÚ¡ 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

24415  ()
	gmp
.
	gli¡š
[
šd
].
	g_is_sh¬ed
;

24418 
mp_li¡_ixyzc
(
_cimg_m©h_·r£r
& 
mp
) {

24420 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
()),

24421 
	gš‹½Ş©iÚ
 = ()
_mp_¬g
(7),

24422 
	gbound¬y_cÚd™iÚs
 = ()
_mp_¬g
(8);

24423 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
li¡š
[
šd
];

24425 
	gx
 = 
_mp_¬g
(3), 
	gy
 = _mp_arg(4),

24426 
	gz
 = 
_mp_¬g
(5), 
	gc
 = _mp_arg(6);

24427 
	gš‹½Ş©iÚ
) {

24429 
bound¬y_cÚd™iÚs
) {

24432 
w2
 = 2.f*
img
.
width
(), 
	gh2
 = 2.f*img.
height
(), 
	gd2
 = 2.f*img.
d•th
(), 
	gs2
 = 2.f*img.
¥eùrum
(),

24433 
	gmx
 = 
cimg
::
mod
(()
x
,
w2
), 
	gmy
 = cimg::mod(()
y
,
h2
),

24434 
	gmz
 = 
cimg
::
mod
(()
z
,
d2
), 
	gmc
 = cimg::mod(()
c
,
s2
);

24435  ()
	gimg
.
_cubic_©XYZ
(
mx
<
img
.
width
()?mx:
w2
 - mx - 1,

24436 
my
<
img
.
height
()?my:
h2
 - my - 1,

24437 
mz
<
img
.
d•th
()?mz:
d2
 - mz - 1,

24438 ()(
mc
<
img
.
¥eùrum
()?mc:
s2
 - mc - 1));

24441  ()
img
.
_cubic_©XYZ_p
(()
x
,()
y
,()
z
,

24442 ()
cimg
::
mod
(
c
,()
img
.
_¥eùrum
));

24444  ()
img
.
_cubic_©XYZ
(()
x
,()
y
,()
z
,

24445 ()(
c
<0?0:c>=
img
.
_¥eùrum
?img._spectrum - 1:c));

24447 ià(
c
<0 || c>=
img
.
_¥eùrum
è (
T
)0;

24448  ()
	gimg
.
cubic_©XYZ
(()
x
,()
y
,()
z
,()
c
,(
T
)0);

24451 
bound¬y_cÚd™iÚs
) {

24454 
w2
 = 2.f*
img
.
width
(), 
	gh2
 = 2.f*img.
height
(), 
	gd2
 = 2.f*img.
d•th
(), 
	gs2
 = 2.f*img.
¥eùrum
(),

24455 
	gmx
 = 
cimg
::
mod
(()
x
,
w2
), 
	gmy
 = cimg::mod(()
y
,
h2
),

24456 
	gmz
 = 
cimg
::
mod
(()
z
,
d2
), 
	gmc
 = cimg::mod(()
c
,
s2
);

24457  ()
	gimg
.
_lš—r_©XYZ
(
mx
<
img
.
width
()?mx:
w2
 - mx - 1,

24458 
my
<
img
.
height
()?my:
h2
 - my - 1,

24459 
mz
<
img
.
d•th
()?mz:
d2
 - mz - 1,

24460 ()(
mc
<
img
.
¥eùrum
()?mc:
s2
 - mc - 1));

24463  ()
img
.
_lš—r_©XYZ_p
(()
x
,()
y
,()
z
,

24464 ()
cimg
::
mod
(
c
,()
img
.
_¥eùrum
));

24466  ()
img
.
_lš—r_©XYZ
(()
x
,()
y
,()
z
,

24467 ()(
c
<0?0:c>=
img
.
_¥eùrum
?img._spectrum - 1:c));

24469 ià(
c
<0 || c>=
img
.
_¥eùrum
è (
T
)0;

24470  ()
	gimg
.
lš—r_©XYZ
(()
x
,()
y
,()
z
,()
c
,(
T
)0);

24473 
bound¬y_cÚd™iÚs
) {

24476 
w2
 = 2*
img
.
width
(), 
	gh2
 = 2*img.
height
(), 
	gd2
 = 2*img.
d•th
(), 
	gs2
 = 2*img.
¥eùrum
(),

24477 
	gmx
 = 
cimg
::
mod
(()
x
,
w2
), 
	gmy
 = cimg::mod(()
y
,
h2
),

24478 
	gmz
 = 
cimg
::
mod
(()
z
,
d2
), 
	gmc
 = cimg::mod(()
c
,
s2
);

24479  ()
img
(
mx
<img.
width
()?mx:
w2
 - mx - 1,

24480 
my
<
img
.
height
()?my:
h2
 - my - 1,

24481 
mz
<
img
.
d•th
()?mz:
d2
 - mz - 1,

24482 
mc
<
img
.
¥eùrum
()?mc:
s2
 - mc - 1);

24485  ()
img
(()
cimg
::
mod
(
x
,()img.
_width
),

24486 ()
cimg
::
mod
(
y
,()
img
.
_height
),

24487 ()
cimg
::
mod
(
z
,()
img
.
_d•th
),

24488 ()
cimg
::
mod
(
c
,()
img
.
_¥eùrum
));

24490  ()
img
.
_©XYZC
(()
x
,()
y
,()
z
,()
c
);

24492  ()
img
.
©XYZC
(()
x
,()
y
,()
z
,()
c
,(
T
)0);

24497 
mp_li¡_joff
(
_cimg_m©h_·r£r
& 
mp
) {

24499 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
()),

24500 
	gbound¬y_cÚd™iÚs
 = ()
_mp_¬g
(4);

24502 
	gox
 = ()
mp
.
mem
[
_cimg_mp_¦Ù_x
], 
	goy
 = ()mp.mem[
_cimg_mp_¦Ù_y
],

24503 
	goz
 = ()
mp
.
mem
[
_cimg_mp_¦Ù_z
], 
	goc
 = ()mp.mem[
_cimg_mp_¦Ù_c
];

24504 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
li¡š
[
šd
];

24505 cÚ¡ 
lÚgT


24506 
	goff
 = 
img
.
off£t
(
ox
,
oy
,
oz
,
oc
è+ (
	glÚgT
)
_mp_¬g
(3),

24507 
	gwhds
 = (
lÚgT
)
img
.
size
();

24508 ià(
	goff
>=0 && 
off
<
whds
è ()
img
[off];

24509 ià(
	gimg
.
	g_d©a
è
	gbound¬y_cÚd™iÚs
) {

24511 cÚ¡ 
lÚgT
 
whds2
 = 2*
whds
, 
	gmoff
 = 
cimg
::
mod
(
off
,whds2);

24512  ()
	gimg
[
moff
<
whds
?moff:
whds2
 - moff - 1];

24515  ()
img
[
cimg
::
mod
(
off
,
whds
)];

24517  ()
img
[
off
<0?0:
whds
 - 1];

24524 
mp_li¡_jxyzc
(
_cimg_m©h_·r£r
& 
mp
) {

24526 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
()),

24527 
	gš‹½Ş©iÚ
 = ()
_mp_¬g
(7),

24528 
	gbound¬y_cÚd™iÚs
 = ()
_mp_¬g
(8);

24529 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
li¡š
[
šd
];

24531 
	gox
 = 
mp
.
mem
[
_cimg_mp_¦Ù_x
], 
	goy
 = mp.mem[
_cimg_mp_¦Ù_y
],

24532 
	goz
 = 
mp
.
mem
[
_cimg_mp_¦Ù_z
], 
	goc
 = mp.mem[
_cimg_mp_¦Ù_c
],

24533 
	gx
 = 
ox
 + 
_mp_¬g
(3), 
	gy
 = 
oy
 + _mp_arg(4),

24534 
	gz
 = 
oz
 + 
_mp_¬g
(5), 
	gc
 = 
oc
 + _mp_arg(6);

24535 
	gš‹½Ş©iÚ
) {

24537 
bound¬y_cÚd™iÚs
) {

24540 
w2
 = 2.f*
img
.
width
(), 
	gh2
 = 2.f*img.
height
(), 
	gd2
 = 2.f*img.
d•th
(), 
	gs2
 = 2.f*img.
¥eùrum
(),

24541 
	gmx
 = 
cimg
::
mod
(()
x
,
w2
), 
	gmy
 = cimg::mod(()
y
,
h2
),

24542 
	gmz
 = 
cimg
::
mod
(()
z
,
d2
), 
	gmc
 = cimg::mod(()
c
,
s2
);

24543  ()
	gimg
.
_cubic_©XYZ
(
mx
<
img
.
width
()?mx:
w2
 - mx - 1,

24544 
my
<
img
.
height
()?my:
h2
 - my - 1,

24545 
mz
<
img
.
d•th
()?mz:
d2
 - mz - 1,

24546 ()(
mc
<
img
.
¥eùrum
()?mc:
s2
 - mc - 1));

24549  ()
img
.
_cubic_©XYZ_p
(()
x
,()
y
,()
z
,

24550 ()
cimg
::
mod
(
c
,()
img
.
_¥eùrum
));

24552  ()
img
.
_cubic_©XYZ
(()
x
,()
y
,()
z
,

24553 ()(
c
<0?0:c>=
img
.
_¥eùrum
?img._spectrum - 1:c));

24555 ià(
c
<0 || c>=
img
.
_¥eùrum
è (
T
)0;

24556  ()
	gimg
.
cubic_©XYZ
(()
x
,()
y
,()
z
,()
c
,(
T
)0);

24559 
bound¬y_cÚd™iÚs
) {

24562 
w2
 = 2.f*
img
.
width
(), 
	gh2
 = 2.f*img.
height
(), 
	gd2
 = 2.f*img.
d•th
(), 
	gs2
 = 2.f*img.
¥eùrum
(),

24563 
	gmx
 = 
cimg
::
mod
(()
x
,
w2
), 
	gmy
 = cimg::mod(()
y
,
h2
),

24564 
	gmz
 = 
cimg
::
mod
(()
z
,
d2
), 
	gmc
 = cimg::mod(()
c
,
s2
);

24565  ()
	gimg
.
_lš—r_©XYZ
(
mx
<
img
.
width
()?mx:
w2
 - mx - 1,

24566 
my
<
img
.
height
()?my:
h2
 - my - 1,

24567 
mz
<
img
.
d•th
()?mz:
d2
 - mz - 1,

24568 ()(
mc
<
img
.
¥eùrum
()?mc:
s2
 - mc - 1));

24571  ()
img
.
_lš—r_©XYZ_p
(()
x
,()
y
,()
z
,

24572 ()
cimg
::
mod
(
c
,()
img
.
_¥eùrum
));

24574  ()
img
.
_lš—r_©XYZ
(()
x
,()
y
,()
z
,

24575 ()(
c
<0?0:c>=
img
.
_¥eùrum
?img._spectrum - 1:c));

24577 ià(
c
<0 || c>=
img
.
_¥eùrum
è (
T
)0;

24578  ()
	gimg
.
lš—r_©XYZ
(()
x
,()
y
,()
z
,()
c
,(
T
)0);

24581 
bound¬y_cÚd™iÚs
) {

24584 
w2
 = 2*
img
.
width
(), 
	gh2
 = 2*img.
height
(), 
	gd2
 = 2*img.
d•th
(), 
	gs2
 = 2*img.
¥eùrum
(),

24585 
	gmx
 = 
cimg
::
mod
(()
x
,
w2
), 
	gmy
 = cimg::mod(()
y
,
h2
),

24586 
	gmz
 = 
cimg
::
mod
(()
z
,
d2
), 
	gmc
 = cimg::mod(()
c
,
s2
);

24587  ()
img
(
mx
<img.
width
()?mx:
w2
 - mx - 1,

24588 
my
<
img
.
height
()?my:
h2
 - my - 1,

24589 
mz
<
img
.
d•th
()?mz:
d2
 - mz - 1,

24590 
mc
<
img
.
¥eùrum
()?mc:
s2
 - mc - 1);

24593  ()
img
(()
cimg
::
mod
(
x
,()img.
_width
),

24594 ()
cimg
::
mod
(
y
,()
img
.
_height
),

24595 ()
cimg
::
mod
(
z
,()
img
.
_d•th
),

24596 ()
cimg
::
mod
(
c
,()
img
.
_¥eùrum
));

24598  ()
img
.
_©XYZC
(()
x
,()
y
,()
z
,()
c
);

24600  ()
img
.
©XYZC
(()
x
,()
y
,()
z
,()
c
,(
T
)0);

24605 
mp_li¡_l
(
_cimg_m©h_·r£r
& 
mp
) {

24606  ()
	gmp
.
	gli¡out
.
width
();

24609 
mp_li¡_medŸn
(
_cimg_m©h_·r£r
& 
mp
) {

24610 cÚ¡ 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

24611 ià(!
	gmp
.
	gli¡_medŸn
èmp.li¡_medŸn.
assign
(
mp
.
li¡š
.
_width
);

24612 ià(!
	gmp
.
	gli¡_medŸn
[
šd
]è
	gCImg
<
	gdoubËT
>::
veùÜ
(
mp
.
li¡š
[šd].
medŸn
()).
move_to
(mp.
li¡_medŸn
[ind]);

24613  *
	gmp
.
	gli¡_medŸn
[
šd
];

24616 
mp_li¡_nÜm
(
_cimg_m©h_·r£r
& 
mp
) {

24617 cÚ¡ 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

24618 ià(!
	gmp
.
	gli¡_nÜm
èmp.li¡_nÜm.
assign
(
mp
.
li¡š
.
_width
);

24619 ià(!
	gmp
.
	gli¡_nÜm
[
šd
]è
	gCImg
<
	gdoubËT
>::
veùÜ
(
mp
.
li¡š
[šd].
magn™ude
()).
move_to
(mp.
li¡_nÜm
[ind]);

24620  *
	gmp
.
	gli¡_nÜm
[
šd
];

24623 
mp_li¡_£t_ioff
(
_cimg_m©h_·r£r
& 
mp
) {

24624 cÚ¡ 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

24625 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
li¡out
[
šd
];

24626 cÚ¡ 
lÚgT


24627 
	goff
 = (
lÚgT
)
_mp_¬g
(3),

24628 
	gwhds
 = (
lÚgT
)
img
.
size
();

24629 cÚ¡ 
	gv®
 = 
_mp_¬g
(1);

24630 ià(
	goff
>=0 && 
off
<
whds
è
img
[off] = (
T
)
v®
;

24631  
	gv®
;

24634 
mp_li¡_£t_ixyzc
(
_cimg_m©h_·r£r
& 
mp
) {

24635 cÚ¡ 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

24636 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
li¡out
[
šd
];

24638 
	gx
 = ()
_mp_¬g
(3), 
	gy
 = ()_mp_arg(4),

24639 
	gz
 = ()
_mp_¬g
(5), 
	gc
 = ()_mp_arg(6);

24640 cÚ¡ 
	gv®
 = 
_mp_¬g
(1);

24641 ià(
	gx
>=0 && 
x
<
img
.
width
(è&& 
y
>=0 && y<img.
height
() &&

24642 
z
>=0 && z<
img
.
d•th
(è&& 
c
>=0 && c<img.
¥eùrum
())

24643 
img
(
x
,
y
,
z
,
c
èğ(
T
)
v®
;

24644  
	gv®
;

24647 
mp_li¡_£t_joff
(
_cimg_m©h_·r£r
& 
mp
) {

24648 cÚ¡ 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

24649 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
li¡out
[
šd
];

24651 
	gox
 = ()
mp
.
mem
[
_cimg_mp_¦Ù_x
], 
	goy
 = ()mp.mem[
_cimg_mp_¦Ù_y
],

24652 
	goz
 = ()
mp
.
mem
[
_cimg_mp_¦Ù_z
], 
	goc
 = ()mp.mem[
_cimg_mp_¦Ù_c
];

24653 cÚ¡ 
lÚgT


24654 
	goff
 = 
img
.
off£t
(
ox
,
oy
,
oz
,
oc
è+ (
	glÚgT
)
_mp_¬g
(3),

24655 
	gwhds
 = (
lÚgT
)
img
.
size
();

24656 cÚ¡ 
	gv®
 = 
_mp_¬g
(1);

24657 ià(
	goff
>=0 && 
off
<
whds
è
img
[off] = (
T
)
v®
;

24658  
	gv®
;

24661 
mp_li¡_£t_jxyzc
(
_cimg_m©h_·r£r
& 
mp
) {

24662 cÚ¡ 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

24663 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
li¡out
[
šd
];

24665 
	gox
 = 
mp
.
mem
[
_cimg_mp_¦Ù_x
], 
	goy
 = mp.mem[
_cimg_mp_¦Ù_y
],

24666 
	goz
 = 
mp
.
mem
[
_cimg_mp_¦Ù_z
], 
	goc
 = mp.mem[
_cimg_mp_¦Ù_c
];

24668 
	gx
 = ()(
ox
 + 
_mp_¬g
(3)), 
	gy
 = ()(
oy
 + _mp_arg(4)),

24669 
	gz
 = ()(
oz
 + 
_mp_¬g
(5)), 
	gc
 = ()(
oc
 + _mp_arg(6));

24670 cÚ¡ 
	gv®
 = 
_mp_¬g
(1);

24671 ià(
	gx
>=0 && 
x
<
img
.
width
(è&& 
y
>=0 && y<img.
height
() &&

24672 
z
>=0 && z<
img
.
d•th
(è&& 
c
>=0 && c<img.
¥eùrum
())

24673 
img
(
x
,
y
,
z
,
c
èğ(
T
)
v®
;

24674  
	gv®
;

24677 
mp_li¡_£t_Ioff_s
(
_cimg_m©h_·r£r
& 
mp
) {

24678 cÚ¡ 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

24679 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
li¡out
[
šd
];

24680 cÚ¡ 
lÚgT


24681 
	goff
 = (
lÚgT
)
_mp_¬g
(3),

24682 
	gwhd
 = (
lÚgT
)
img
.
width
()*img.
height
()*img.
d•th
();

24683 cÚ¡ 
T
 
	gv®
 = (T)
_mp_¬g
(1);

24684 ià(
	goff
>=0 && 
off
<
whd
) {

24685 
T
 *
±rd
 = &
img
[
off
];

24686 
cimg_fÜC
(
img
,
c
è{ *
	g±rd
 = 
v®
;…Œd+=
whd
; }

24688  
_mp_¬g
(1);

24691 
mp_li¡_£t_Ioff_v
(
_cimg_m©h_·r£r
& 
mp
) {

24692 cÚ¡ 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

24693 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
li¡out
[
šd
];

24694 cÚ¡ 
lÚgT


24695 
	goff
 = (
lÚgT
)
_mp_¬g
(3),

24696 
	gwhd
 = (
lÚgT
)
img
.
width
()*img.
height
()*img.
d•th
();

24697 cÚ¡ *
	g±rs
 = &
_mp_¬g
(1) + 1;

24698 ià(
	goff
>=0 && 
off
<
whd
) {

24699 cÚ¡ 
vsiz
 = ()
mp
.
İcode
[4];

24700 
T
 *
	g±rd
 = &
img
[
off
];

24701 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *
	g±rd
 = (
T
)*(
±rs
++);…Œd+=
whd
; }

24703  
	gcimg
::
ty³
<>::
Çn
();

24706 
mp_li¡_£t_Ixyz_s
(
_cimg_m©h_·r£r
& 
mp
) {

24707 cÚ¡ 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

24708 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
li¡out
[
šd
];

24710 
	gx
 = ()
_mp_¬g
(3),

24711 
	gy
 = ()
_mp_¬g
(4),

24712 
	gz
 = ()
_mp_¬g
(5);

24713 cÚ¡ 
T
 
	gv®
 = (T)
_mp_¬g
(1);

24714 ià(
	gx
>=0 && 
x
<
img
.
width
(è&& 
y
>=0 && y<img.
height
(è&& 
z
>=0 && z<img.
d•th
()) {

24715 
T
 *
±rd
 = &
img
(
x
,
y
,
z
);

24716 cÚ¡ 
ulÚgT
 
	gwhd
 = (ulÚgT)
img
.
_width
*img.
_height
*img.
_d•th
;

24717 
cimg_fÜC
(
img
,
c
è{ *
	g±rd
 = 
v®
;…Œd+=
whd
; }

24719  
_mp_¬g
(1);

24722 
mp_li¡_£t_Ixyz_v
(
_cimg_m©h_·r£r
& 
mp
) {

24723 cÚ¡ 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

24724 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
li¡out
[
šd
];

24726 
	gx
 = ()
_mp_¬g
(3),

24727 
	gy
 = ()
_mp_¬g
(4),

24728 
	gz
 = ()
_mp_¬g
(5);

24729 cÚ¡ *
	g±rs
 = &
_mp_¬g
(1) + 1;

24730 ià(
	gx
>=0 && 
x
<
img
.
width
(è&& 
y
>=0 && y<img.
height
(è&& 
z
>=0 && z<img.
d•th
()) {

24731 cÚ¡ 
vsiz
 = ()
mp
.
İcode
[6];

24732 
T
 *
	g±rd
 = &
img
(
x
,
y
,
z
);

24733 cÚ¡ 
ulÚgT
 
	gwhd
 = (ulÚgT)
img
.
_width
*img.
_height
*img.
_d•th
;

24734 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *
	g±rd
 = (
T
)*(
±rs
++);…Œd+=
whd
; }

24736  
	gcimg
::
ty³
<>::
Çn
();

24739 
mp_li¡_£t_Joff_s
(
_cimg_m©h_·r£r
& 
mp
) {

24740 cÚ¡ 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

24741 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
li¡out
[
šd
];

24743 
	gox
 = ()
mp
.
mem
[
_cimg_mp_¦Ù_x
], 
	goy
 = ()mp.mem[
_cimg_mp_¦Ù_y
],

24744 
	goz
 = ()
mp
.
mem
[
_cimg_mp_¦Ù_z
], 
	goc
 = ()mp.mem[
_cimg_mp_¦Ù_c
];

24745 cÚ¡ 
lÚgT


24746 
	goff
 = 
img
.
off£t
(
ox
,
oy
,
oz
,
oc
è+ (
	glÚgT
)
_mp_¬g
(3),

24747 
	gwhd
 = (
lÚgT
)
img
.
width
()*img.
height
()*img.
d•th
();

24748 cÚ¡ 
T
 
	gv®
 = (T)
_mp_¬g
(1);

24749 ià(
	goff
>=0 && 
off
<
whd
) {

24750 
T
 *
±rd
 = &
img
[
off
];

24751 
cimg_fÜC
(
img
,
c
è{ *
	g±rd
 = 
v®
;…Œd+=
whd
; }

24753  
_mp_¬g
(1);

24756 
mp_li¡_£t_Joff_v
(
_cimg_m©h_·r£r
& 
mp
) {

24757 cÚ¡ 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

24758 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
li¡out
[
šd
];

24760 
	gox
 = ()
mp
.
mem
[
_cimg_mp_¦Ù_x
], 
	goy
 = ()mp.mem[
_cimg_mp_¦Ù_y
],

24761 
	goz
 = ()
mp
.
mem
[
_cimg_mp_¦Ù_z
], 
	goc
 = ()mp.mem[
_cimg_mp_¦Ù_c
];

24762 cÚ¡ 
lÚgT


24763 
	goff
 = 
img
.
off£t
(
ox
,
oy
,
oz
,
oc
è+ (
	glÚgT
)
_mp_¬g
(3),

24764 
	gwhd
 = (
lÚgT
)
img
.
width
()*img.
height
()*img.
d•th
();

24765 cÚ¡ *
	g±rs
 = &
_mp_¬g
(1) + 1;

24766 ià(
	goff
>=0 && 
off
<
whd
) {

24767 cÚ¡ 
vsiz
 = ()
mp
.
İcode
[4];

24768 
T
 *
	g±rd
 = &
img
[
off
];

24769 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *
	g±rd
 = (
T
)*(
±rs
++);…Œd+=
whd
; }

24771  
	gcimg
::
ty³
<>::
Çn
();

24774 
mp_li¡_£t_Jxyz_s
(
_cimg_m©h_·r£r
& 
mp
) {

24775 cÚ¡ 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

24776 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
li¡out
[
šd
];

24777 cÚ¡ 
	gox
 = 
mp
.
mem
[
_cimg_mp_¦Ù_x
], 
	goy
 = mp.mem[
_cimg_mp_¦Ù_y
], 
	goz
 = mp.mem[
_cimg_mp_¦Ù_z
];

24779 
	gx
 = ()(
ox
 + 
_mp_¬g
(3)),

24780 
	gy
 = ()(
oy
 + 
_mp_¬g
(4)),

24781 
	gz
 = ()(
oz
 + 
_mp_¬g
(5));

24782 cÚ¡ 
T
 
	gv®
 = (T)
_mp_¬g
(1);

24783 ià(
	gx
>=0 && 
x
<
img
.
width
(è&& 
y
>=0 && y<img.
height
(è&& 
z
>=0 && z<img.
d•th
()) {

24784 
T
 *
±rd
 = &
img
(
x
,
y
,
z
);

24785 cÚ¡ 
ulÚgT
 
	gwhd
 = (ulÚgT)
img
.
_width
*img.
_height
*img.
_d•th
;

24786 
cimg_fÜC
(
img
,
c
è{ *
	g±rd
 = 
v®
;…Œd+=
whd
; }

24788  
_mp_¬g
(1);

24791 
mp_li¡_£t_Jxyz_v
(
_cimg_m©h_·r£r
& 
mp
) {

24792 cÚ¡ 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

24793 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
li¡out
[
šd
];

24794 cÚ¡ 
	gox
 = 
mp
.
mem
[
_cimg_mp_¦Ù_x
], 
	goy
 = mp.mem[
_cimg_mp_¦Ù_y
], 
	goz
 = mp.mem[
_cimg_mp_¦Ù_z
];

24796 
	gx
 = ()(
ox
 + 
_mp_¬g
(3)),

24797 
	gy
 = ()(
oy
 + 
_mp_¬g
(4)),

24798 
	gz
 = ()(
oz
 + 
_mp_¬g
(5));

24799 cÚ¡ *
	g±rs
 = &
_mp_¬g
(1) + 1;

24800 ià(
	gx
>=0 && 
x
<
img
.
width
(è&& 
y
>=0 && y<img.
height
(è&& 
z
>=0 && z<img.
d•th
()) {

24801 cÚ¡ 
vsiz
 = ()
mp
.
İcode
[6];

24802 
T
 *
	g±rd
 = &
img
(
x
,
y
,
z
);

24803 cÚ¡ 
ulÚgT
 
	gwhd
 = (ulÚgT)
img
.
_width
*img.
_height
*img.
_d•th
;

24804 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *
	g±rd
 = (
T
)*(
±rs
++);…Œd+=
whd
; }

24806  
	gcimg
::
ty³
<>::
Çn
();

24809 
mp_li¡_¥eùrum
(
_cimg_m©h_·r£r
& 
mp
) {

24810 cÚ¡ 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

24811  ()
	gmp
.
	gli¡š
[
šd
].
	g_¥eùrum
;

24814 
mp_li¡_¡©s
(
_cimg_m©h_·r£r
& 
mp
) {

24816 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
()),

24817 
	gk
 = ()
mp
.
İcode
[3];

24818 ià(!
	gmp
.
	gli¡_¡©s
èmp.li¡_¡©s.
assign
(
mp
.
li¡š
.
_width
);

24819 ià(!
	gmp
.
	gli¡_¡©s
[
šd
]èmp.li¡_¡©s[šd].
assign
(1,14,1,1,0).
fl
(
mp
.
li¡š
[šd].
g‘_¡©s
(),
çl£
);

24820  
	gmp
.
li¡_¡©s
(
šd
,
k
);

24823 
mp_li¡_wh
(
_cimg_m©h_·r£r
& 
mp
) {

24824 cÚ¡ 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

24825  ()
	gmp
.
	gli¡š
[
šd
].
_width
*mp.li¡š[šd].
	g_height
;

24828 
mp_li¡_whd
(
_cimg_m©h_·r£r
& 
mp
) {

24829 cÚ¡ 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

24830  ()
	gmp
.
	gli¡š
[
šd
].
_width
*mp.li¡š[šd].
_height
*mp.li¡š[šd].
	g_d•th
;

24833 
mp_li¡_whds
(
_cimg_m©h_·r£r
& 
mp
) {

24834 cÚ¡ 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

24835  ()
	gmp
.
	gli¡š
[
šd
].
_width
*mp.li¡š[šd].
_height
*mp.li¡š[šd].
_d•th
*mp.li¡š[šd].
	g_¥eùrum
;

24838 
mp_li¡_width
(
_cimg_m©h_·r£r
& 
mp
) {

24839 cÚ¡ 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
());

24840  ()
	gmp
.
	gli¡š
[
šd
].
	g_width
;

24843 
mp_li¡_Ioff
(
_cimg_m©h_·r£r
& 
mp
) {

24844 *
	g±rd
 = &
_mp_¬g
(1) + 1;

24846 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
()),

24847 
	gbound¬y_cÚd™iÚs
 = ()
_mp_¬g
(4),

24848 
	gvsiz
 = ()
mp
.
İcode
[5];

24849 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
li¡š
[
šd
];

24850 cÚ¡ 
lÚgT


24851 
	goff
 = (
lÚgT
)
_mp_¬g
(3),

24852 
	gwhd
 = (
lÚgT
)
img
.
width
()*img.
height
()*img.
d•th
();

24853 cÚ¡ 
T
 *
	g±rs
;

24854 ià(
	goff
>=0 && 
off
<
whd
) {

24855 
±rs
 = &
img
[
off
];

24856 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ*
±rs
; 
	g±rs
+=
whd
; }

24857  
	gcimg
::
ty³
<>::
Çn
();

24859 ià(
	gimg
.
	g_d©a
è
	gbound¬y_cÚd™iÚs
) {

24861 cÚ¡ 
lÚgT
 
whd2
 = 2*
whd
, 
	gmoff
 = 
cimg
::
mod
(
off
,whd2);

24862 
	g±rs
 = &
img
[
moff
<
whd
?moff:
whd2
 - moff - 1];

24863 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ*
±rs
; 
	g±rs
+=
whd
; }

24864  
	gcimg
::
ty³
<>::
Çn
();

24867 
±rs
 = &
img
[
cimg
::
mod
(
off
,
whd
)];

24868 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ*
±rs
; 
	g±rs
+=
whd
; }

24869  
	gcimg
::
ty³
<>::
Çn
();

24871 
±rs
 = 
off
<0?&
img
[0]:&img[
whd
 - 1];

24872 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ*
±rs
; 
	g±rs
+=
whd
; }

24873  
	gcimg
::
ty³
<>::
Çn
();

24875 
¡d
::
mem£t
(
±rd
,0,
vsiz
*());

24876  
	gcimg
::
ty³
<>::
Çn
();

24878 
	g¡d
::
mem£t
(
±rd
,0,
vsiz
*());

24879  
	gcimg
::
ty³
<>::
Çn
();

24882 
mp_li¡_Ixyz
(
_cimg_m©h_·r£r
& 
mp
) {

24883 *
	g±rd
 = &
_mp_¬g
(1) + 1;

24885 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
()),

24886 
	gš‹½Ş©iÚ
 = ()
_mp_¬g
(6),

24887 
	gbound¬y_cÚd™iÚs
 = ()
_mp_¬g
(7),

24888 
	gvsiz
 = ()
mp
.
İcode
[8];

24889 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
li¡š
[
šd
];

24890 cÚ¡ 
	gx
 = 
_mp_¬g
(3), 
	gy
 = _mp_¬g(4), 
	gz
 = _mp_arg(5);

24891 cÚ¡ 
ulÚgT
 
	gwhd
 = (ulÚgT)
img
.
_width
*img.
_height
*img.
_d•th
;

24892 cÚ¡ 
T
 *
	g±rs
;

24893 
	gš‹½Ş©iÚ
) {

24895 
bound¬y_cÚd™iÚs
) {

24898 
w2
 = 2.f*
img
.
width
(), 
	gh2
 = 2.f*img.
height
(), 
	gd2
 = 2.f*img.
d•th
(),

24899 
	gmx
 = 
cimg
::
mod
(()
x
,
w2
), 
	gmy
 = cimg::mod(()
y
,
h2
), 
	gmz
 = cimg::mod(()
z
,
d2
),

24900 
	gcx
 = 
mx
<
img
.
width
()?mx:
w2
 - mx - 1,

24901 
	gcy
 = 
my
<
img
.
height
()?my:
h2
 - my - 1,

24902 
	gcz
 = 
mz
<
img
.
d•th
()?mz:
d2
 - mz - 1;

24903 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
_cubic_©XYZ
(
cx
,
cy
,
cz
,c);

24906 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
_cubic_©XYZ_p
(()
x
,()
y
,()
z
,c);

24909 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
_cubic_©XYZ
(()
x
,()
y
,()
z
,c);

24912 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
cubic_©XYZ
(()
x
,()
y
,()
z
,c,(
T
)0);

24915 
bound¬y_cÚd™iÚs
) {

24918 
w2
 = 2.f*
img
.
width
(), 
	gh2
 = 2.f*img.
height
(), 
	gd2
 = 2.f*img.
d•th
(),

24919 
	gmx
 = 
cimg
::
mod
(()
x
,
w2
), 
	gmy
 = cimg::mod(()
y
,
h2
), 
	gmz
 = cimg::mod(()
z
,
d2
),

24920 
	gcx
 = 
mx
<
img
.
width
()?mx:
w2
 - mx - 1,

24921 
	gcy
 = 
my
<
img
.
height
()?my:
h2
 - my - 1,

24922 
	gcz
 = 
mz
<
img
.
d•th
()?mz:
d2
 - mz - 1;

24923 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
_lš—r_©XYZ
(
cx
,
cy
,
cz
,c);

24926 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
_lš—r_©XYZ_p
(()
x
,()
y
,()
z
,c);

24929 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
_lš—r_©XYZ
(()
x
,()
y
,()
z
,c);

24932 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
lš—r_©XYZ
(()
x
,()
y
,()
z
,c,(
T
)0);

24935 
bound¬y_cÚd™iÚs
) {

24938 
w2
 = 2*
img
.
width
(), 
	gh2
 = 2*img.
height
(), 
	gd2
 = 2*img.
d•th
(),

24939 
	gmx
 = 
cimg
::
mod
(()
x
,
w2
), 
	gmy
 = cimg::mod(()
y
,
h2
), 
	gmz
 = cimg::mod(()
z
,
d2
),

24940 
	gcx
 = 
mx
<
img
.
width
()?mx:
w2
 - mx - 1,

24941 
	gcy
 = 
my
<
img
.
height
()?my:
h2
 - my - 1,

24942 
	gcz
 = 
mz
<
img
.
d•th
()?mz:
d2
 - mz - 1;

24943 
	g±rs
 = &
img
(
cx
,
cy
,
cz
);

24944 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ()*
±rs
; 
	g±rs
+=
whd
; }

24948 
cx
 = ()
cimg
::
mod
(
x
,()
img
.
_width
),

24949 
	gcy
 = ()
cimg
::
mod
(
y
,()
img
.
_height
),

24950 
	gcz
 = ()
cimg
::
mod
(
z
,()
img
.
_d•th
);

24951 
	g±rs
 = &
img
(
cx
,
cy
,
cz
);

24952 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ()*
±rs
; 
	g±rs
+=
whd
; }

24955 
±rs
 = &
img
.
_©XYZ
(()
x
,()
y
,()
z
);

24956 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ()*
±rs
; 
	g±rs
+=
whd
; }

24959 ià(
img
.
cÚšsXYZC
(()
x
,()
y
,()
z
)) {

24960 
	g±rs
 = &
img
(()
x
,()
y
,()
z
);

24961 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ()*
±rs
; 
	g±rs
+=
whd
; }

24962 } 
	g¡d
::
mem£t
(
±rd
,0,
vsiz
*());

24965  
	gcimg
::
ty³
<>::
Çn
();

24968 
mp_li¡_Joff
(
_cimg_m©h_·r£r
& 
mp
) {

24969 *
	g±rd
 = &
_mp_¬g
(1) + 1;

24971 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
()),

24972 
	gbound¬y_cÚd™iÚs
 = ()
_mp_¬g
(4),

24973 
	gvsiz
 = ()
mp
.
İcode
[5];

24975 
	gox
 = ()
mp
.
mem
[
_cimg_mp_¦Ù_x
], 
	goy
 = ()mp.mem[
_cimg_mp_¦Ù_y
], 
	goz
 = ()mp.mem[
_cimg_mp_¦Ù_z
];

24976 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
li¡š
[
šd
];

24977 cÚ¡ 
lÚgT


24978 
	goff
 = 
img
.
off£t
(
ox
,
oy
,
oz
è+ (
	glÚgT
)
_mp_¬g
(3),

24979 
	gwhd
 = (
lÚgT
)
img
.
width
()*img.
height
()*img.
d•th
();

24980 cÚ¡ 
T
 *
	g±rs
;

24981 ià(
	goff
>=0 && 
off
<
whd
) {

24982 
±rs
 = &
img
[
off
];

24983 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ*
±rs
; 
	g±rs
+=
whd
; }

24984  
	gcimg
::
ty³
<>::
Çn
();

24986 ià(
	gimg
.
	g_d©a
è
	gbound¬y_cÚd™iÚs
) {

24988 cÚ¡ 
lÚgT
 
whd2
 = 2*
whd
, 
	gmoff
 = 
cimg
::
mod
(
off
,whd2);

24989 
	g±rs
 = &
img
[
moff
<
whd
?moff:
whd2
 - moff - 1];

24990 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ*
±rs
; 
	g±rs
+=
whd
; }

24991  
	gcimg
::
ty³
<>::
Çn
();

24994 
±rs
 = &
img
[
cimg
::
mod
(
off
,
whd
)];

24995 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ*
±rs
; 
	g±rs
+=
whd
; }

24996  
	gcimg
::
ty³
<>::
Çn
();

24998 
±rs
 = 
off
<0?&
img
[0]:&img[
whd
 - 1];

24999 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ*
±rs
; 
	g±rs
+=
whd
; }

25000  
	gcimg
::
ty³
<>::
Çn
();

25002 
¡d
::
mem£t
(
±rd
,0,
vsiz
*());

25003  
	gcimg
::
ty³
<>::
Çn
();

25005 
	g¡d
::
mem£t
(
±rd
,0,
vsiz
*());

25006  
	gcimg
::
ty³
<>::
Çn
();

25009 
mp_li¡_Jxyz
(
_cimg_m©h_·r£r
& 
mp
) {

25010 *
	g±rd
 = &
_mp_¬g
(1) + 1;

25012 
	gšd
 = ()
cimg
::
mod
(()
_mp_¬g
(2),
mp
.
li¡š
.
width
()),

25013 
	gš‹½Ş©iÚ
 = ()
_mp_¬g
(6),

25014 
	gbound¬y_cÚd™iÚs
 = ()
_mp_¬g
(7),

25015 
	gvsiz
 = ()
mp
.
İcode
[8];

25016 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
li¡š
[
šd
];

25018 
	gox
 = 
mp
.
mem
[
_cimg_mp_¦Ù_x
], 
	goy
 = mp.mem[
_cimg_mp_¦Ù_y
], 
	goz
 = mp.mem[
_cimg_mp_¦Ù_z
],

25019 
	gx
 = 
ox
 + 
_mp_¬g
(3), 
	gy
 = 
oy
 + _mp_¬g(4), 
	gz
 = 
oz
 + _mp_arg(5);

25020 cÚ¡ 
ulÚgT
 
	gwhd
 = (ulÚgT)
img
.
_width
*img.
_height
*img.
_d•th
;

25021 cÚ¡ 
T
 *
	g±rs
;

25022 
	gš‹½Ş©iÚ
) {

25024 
bound¬y_cÚd™iÚs
) {

25027 
w2
 = 2.f*
img
.
width
(), 
	gh2
 = 2.f*img.
height
(), 
	gd2
 = 2.f*img.
d•th
(),

25028 
	gmx
 = 
cimg
::
mod
(()
x
,
w2
), 
	gmy
 = cimg::mod(()
y
,
h2
), 
	gmz
 = cimg::mod(()
z
,
d2
),

25029 
	gcx
 = 
mx
<
img
.
width
()?mx:
w2
 - mx - 1,

25030 
	gcy
 = 
my
<
img
.
height
()?my:
h2
 - my - 1,

25031 
	gcz
 = 
mz
<
img
.
d•th
()?mz:
d2
 - mz - 1;

25032 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
_cubic_©XYZ
(
cx
,
cy
,
cz
,c);

25035 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
_cubic_©XYZ_p
(()
x
,()
y
,()
z
,c);

25038 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
_cubic_©XYZ
(()
x
,()
y
,()
z
,c);

25041 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
cubic_©XYZ
(()
x
,()
y
,()
z
,c,(
T
)0);

25044 
bound¬y_cÚd™iÚs
) {

25047 
w2
 = 2.f*
img
.
width
(), 
	gh2
 = 2.f*img.
height
(), 
	gd2
 = 2.f*img.
d•th
(),

25048 
	gmx
 = 
cimg
::
mod
(()
x
,
w2
), 
	gmy
 = cimg::mod(()
y
,
h2
), 
	gmz
 = cimg::mod(()
z
,
d2
),

25049 
	gcx
 = 
mx
<
img
.
width
()?mx:
w2
 - mx - 1,

25050 
	gcy
 = 
my
<
img
.
height
()?my:
h2
 - my - 1,

25051 
	gcz
 = 
mz
<
img
.
d•th
()?mz:
d2
 - mz - 1;

25052 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
_lš—r_©XYZ
(
cx
,
cy
,
cz
,c);

25055 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
_lš—r_©XYZ_p
(()
x
,()
y
,()
z
,c);

25058 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
_lš—r_©XYZ
(()
x
,()
y
,()
z
,c);

25061 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
lš—r_©XYZ
(()
x
,()
y
,()
z
,c,(
T
)0);

25064 
bound¬y_cÚd™iÚs
) {

25067 
w2
 = 2*
img
.
width
(), 
	gh2
 = 2*img.
height
(), 
	gd2
 = 2*img.
d•th
(),

25068 
	gmx
 = 
cimg
::
mod
(()
x
,
w2
), 
	gmy
 = cimg::mod(()
y
,
h2
), 
	gmz
 = cimg::mod(()
z
,
d2
),

25069 
	gcx
 = 
mx
<
img
.
width
()?mx:
w2
 - mx - 1,

25070 
	gcy
 = 
my
<
img
.
height
()?my:
h2
 - my - 1,

25071 
	gcz
 = 
mz
<
img
.
d•th
()?mz:
d2
 - mz - 1;

25072 
	g±rs
 = &
img
(
cx
,
cy
,
cz
);

25073 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ()*
±rs
; 
	g±rs
+=
whd
; }

25077 
cx
 = ()
cimg
::
mod
(
x
,()
img
.
_width
),

25078 
	gcy
 = ()
cimg
::
mod
(
y
,()
img
.
_height
),

25079 
	gcz
 = ()
cimg
::
mod
(
z
,()
img
.
_d•th
);

25080 
	g±rs
 = &
img
(
cx
,
cy
,
cz
);

25081 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ()*
±rs
; 
	g±rs
+=
whd
; }

25084 
±rs
 = &
img
.
_©XYZ
(()
x
,()
y
,()
z
);

25085 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ()*
±rs
; 
	g±rs
+=
whd
; }

25088 ià(
img
.
cÚšsXYZC
(()
x
,()
y
,()
z
)) {

25089 
	g±rs
 = &
img
(()
x
,()
y
,()
z
);

25090 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ()*
±rs
; 
	g±rs
+=
whd
; }

25091 } 
	g¡d
::
mem£t
(
±rd
,0,
vsiz
*());

25094  
	gcimg
::
ty³
<>::
Çn
();

25097 
mp_log
(
_cimg_m©h_·r£r
& 
mp
) {

25098  
	g¡d
::
log
(
_mp_¬g
(2));

25101 
mp_log10
(
_cimg_m©h_·r£r
& 
mp
) {

25102  
	g¡d
::
log10
(
_mp_¬g
(2));

25105 
mp_log2
(
_cimg_m©h_·r£r
& 
mp
) {

25106  
	gcimg
::
log2
(
_mp_¬g
(2));

25109 
mp_logiÿl_ªd
(
_cimg_m©h_·r£r
& 
mp
) {

25110 cÚ¡ 
boŞ
 
	gv®_Ëá
 = (boŞ)
_mp_¬g
(2);

25111 cÚ¡ 
	gCImg
<
	gulÚgT
> *cÚ¡ 
	gp_’d
 = ++
mp
.
p_code
 + mp.
İcode
[4];

25112 ià(!
	gv®_Ëá
è{ 
	gmp
.
	gp_code
 = 
p_’d
 - 1;  0; }

25113 cÚ¡ 
ulÚgT
 
	gmem_right
 = 
mp
.
İcode
[3];

25114  ; 
	gmp
.
	gp_code
<
	gp_’d
; ++mp.p_code) {

25115 
	gmp
.
	gİcode
.
	g_d©a
 = 
mp
.
p_code
->
_d©a
;

25116 cÚ¡ 
ulÚgT
 
	grg‘
 = 
mp
.
İcode
[1];

25117 
	gmp
.
	gmem
[
rg‘
] = 
_cimg_mp_defunc
(
mp
);

25119 --
	gmp
.
	gp_code
;

25120  ()(
	gboŞ
)
	gmp
.
	gmem
[
mem_right
];

25123 
mp_logiÿl_nÙ
(
_cimg_m©h_·r£r
& 
mp
) {

25124  ()!
_mp_¬g
(2);

25127 
mp_logiÿl_Ü
(
_cimg_m©h_·r£r
& 
mp
) {

25128 cÚ¡ 
boŞ
 
	gv®_Ëá
 = (boŞ)
_mp_¬g
(2);

25129 cÚ¡ 
	gCImg
<
	gulÚgT
> *cÚ¡ 
	gp_’d
 = ++
mp
.
p_code
 + mp.
İcode
[4];

25130 ià(
	gv®_Ëá
è{ 
	gmp
.
	gp_code
 = 
p_’d
 - 1;  1; }

25131 cÚ¡ 
ulÚgT
 
	gmem_right
 = 
mp
.
İcode
[3];

25132  ; 
	gmp
.
	gp_code
<
	gp_’d
; ++mp.p_code) {

25133 
	gmp
.
	gİcode
.
	g_d©a
 = 
mp
.
p_code
->
_d©a
;

25134 cÚ¡ 
ulÚgT
 
	grg‘
 = 
mp
.
İcode
[1];

25135 
	gmp
.
	gmem
[
rg‘
] = 
_cimg_mp_defunc
(
mp
);

25137 --
	gmp
.
	gp_code
;

25138  ()(
	gboŞ
)
	gmp
.
	gmem
[
mem_right
];

25141 
mp_low”ÿ£
(
_cimg_m©h_·r£r
& 
mp
) {

25142  
	gcimg
::
low”ÿ£
(
_mp_¬g
(2));

25145 
mp_É
(
_cimg_m©h_·r£r
& 
mp
) {

25146  ()(
_mp_¬g
(2)<_mp_arg(3));

25149 
mp_Ée
(
_cimg_m©h_·r£r
& 
mp
) {

25150  ()(
_mp_¬g
(2)<=_mp_arg(3));

25153 
mp_m©rix_eig
(
_cimg_m©h_·r£r
& 
mp
) {

25154 *
	g±rd
 = &
_mp_¬g
(1) + 1;

25155 cÚ¡ *
	g±r1
 = &
_mp_¬g
(2) + 1;

25156 cÚ¡ 
	gk
 = ()
mp
.
İcode
[3];

25157 
	gCImg
<
	gdoubËT
> 
	gv®
, 
	gvec
;

25158 
	gCImg
<
	gdoubËT
>(
	g±r1
,
	gk
,k,1,1,
	gŒue
).
symm‘ric_eig’
(
v®
,
vec
);

25159 
	gCImg
<
	gdoubËT
>(
	g±rd
,1,
	gk
,1,1,
	gŒue
èğ
v®
;

25160 
	gCImg
<
	gdoubËT
>(
	g±rd
 + 
	gk
,k,k,1,1,
	gŒue
èğ
vec
.
g‘_Œª¥o£
();

25161  
	gcimg
::
ty³
<>::
Çn
();

25164 
mp_m©rix_šv”t
(
_cimg_m©h_·r£r
& 
mp
) {

25165 *cÚ¡ 
	g±rd
 = &
_mp_¬g
(1) + 1;

25166 cÚ¡ *cÚ¡ 
	g±r1
 = &
_mp_¬g
(2) + 1;

25167 cÚ¡ 
	gk
 = ()
mp
.
İcode
[3];

25168 cÚ¡ 
boŞ
 
	gu£_LU
 = (boŞ)
_mp_¬g
(4);

25169 
	gCImg
<
	gdoubËT
>(
	g±rd
,
	gk
,k,1,1,
	gŒue
èğ
CImg
<
doubËT
>(
±r1
,k,k,1,1,Œue).
g‘_šv”t
(
u£_LU
);

25170  
	gcimg
::
ty³
<>::
Çn
();

25173 
mp_m©rix_mul
(
_cimg_m©h_·r£r
& 
mp
) {

25174 *
	g±rd
 = &
_mp_¬g
(1) + 1;

25176 *
	g±r1
 = &
_mp_¬g
(2) + 1,

25177 *
	g±r2
 = &
_mp_¬g
(3) + 1;

25179 
	gk
 = ()
mp
.
İcode
[4],

25180 
	gl
 = ()
mp
.
İcode
[5],

25181 
	gm
 = ()
mp
.
İcode
[6];

25182 
	gCImg
<
	gdoubËT
>(
	g±rd
,
	gm
,
	gk
,1,1,
	gŒue
èğ
CImg
<
doubËT
>(
±r1
,
	gl
,k,1,1,Œue)*CImg<doubËT>(
	g±r2
,m,l,1,1,true);

25183  
	gcimg
::
ty³
<>::
Çn
();

25186 
mp_m©rix_p£udošv”t
(
_cimg_m©h_·r£r
& 
mp
) {

25187 *
	g±rd
 = &
_mp_¬g
(1) + 1;

25188 cÚ¡ *
	g±r1
 = &
_mp_¬g
(2) + 1;

25190 
	gk
 = ()
mp
.
İcode
[3],

25191 
	gl
 = ()
mp
.
İcode
[4];

25192 cÚ¡ 
boŞ
 
	gu£_LU
 = (boŞ)
_mp_¬g
(5);

25193 
	gCImg
<
	gdoubËT
>(
	g±rd
,
	gl
,
	gk
,1,1,
	gŒue
èğ
CImg
<
doubËT
>(
±r1
,k,l,1,1,Œue).
g‘_p£udošv”t
(
u£_LU
);

25194  
	gcimg
::
ty³
<>::
Çn
();

25197 
mp_m©rix_svd
(
_cimg_m©h_·r£r
& 
mp
) {

25198 *
	g±rd
 = &
_mp_¬g
(1) + 1;

25199 cÚ¡ *
	g±r1
 = &
_mp_¬g
(2) + 1;

25201 
	gk
 = ()
mp
.
İcode
[3],

25202 
	gl
 = ()
mp
.
İcode
[4];

25203 
	gCImg
<
	gdoubËT
> 
	gU
, 
	gS
, 
	gV
;

25204 
	gCImg
<
	gdoubËT
>(
	g±r1
,
	gk
,
	gl
,1,1,
	gŒue
).
SVD
(
U
,
S
,
V
);

25205 
	gCImg
<
	gdoubËT
>(
	g±rd
,
	gk
,
	gl
,1,1,
	gŒue
èğ
U
;

25206 
	gCImg
<
	gdoubËT
>(
	g±rd
 + 
k
*
	gl
,1,
	gk
,1,1,
	gŒue
èğ
S
;

25207 
	gCImg
<
	gdoubËT
>(
	g±rd
 + 
k
*
	gl
 + 
	gk
,k,k,1,1,
	gŒue
èğ
V
;

25208  
	gcimg
::
ty³
<>::
Çn
();

25211 
mp_max
(
_cimg_m©h_·r£r
& 
mp
) {

25212 cÚ¡ 
	gi_’d
 = ()
mp
.
İcode
[2];

25213 
	gv®
 = 
_mp_¬g
(3);

25214 
	gi
 = 4; i<
	gi_’d
; ++iè
	gv®
 = 
¡d
::
max
(
v®
,
_mp_¬g
(
i
));

25215  
	gv®
;

25218 
mp_maxabs
(
_cimg_m©h_·r£r
& 
mp
) {

25219 cÚ¡ 
	gi_’d
 = ()
mp
.
İcode
[2];

25220 
	gv®
 = 
_mp_¬g
(3), 
	gabsv®
 = 
cimg
::
abs
(
v®
);

25221 
	gi
 = 4; i<
	gi_’d
; ++i) {

25222 cÚ¡ 
	g_v®
 = 
_mp_¬g
(
i
), 
	g_absv®
 = 
cimg
::
abs
(
_v®
);

25223 ià(
	g_absv®
>
	gabsv®
è{ 
	gv®
 = 
_v®
;‡bsv® = 
_absv®
; }

25225  
	gv®
;

25228 * 
_mp_memcİy_doubË
(
_cimg_m©h_·r£r
& 
mp
, cÚ¡ 
šd
, cÚ¡ 
ulÚgT
 *cÚ¡ 
p_»f
,

25229 cÚ¡ 
lÚgT
 
siz
, cÚ¡ 
šc
) {

25230 cÚ¡ 
lÚgT


25231 
	goff
 = *
p_»f
?p_»f[1] + (
lÚgT
)
mp
.
mem
[ÖÚgTí_»f[2]] + 1:
šd
,

25232 
	geoff
 = 
off
 + (
siz
 - 1)*
šc
;

25233 ià(
	goff
<0 || 
	geoff
>=
mp
.
mem
.
width
())

25234 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] CImg<%s>: Function 'copy()': "

25238 
mp
.
imgš
.
pix–_ty³
(),
siz
,
šc
,
off
,
eoff
,mp.
mem
.
_width
 - 1);

25239  &
	gmp
.
	gmem
[
off
];

25242 * 
_mp_memcİy_æßt
(
_cimg_m©h_·r£r
& 
mp
, cÚ¡ 
ulÚgT
 *cÚ¡ 
p_»f
,

25243 cÚ¡ 
lÚgT
 
siz
, cÚ¡ 
šc
, cÚ¡ 
boŞ
 
is_out
) {

25244 cÚ¡ 
	gšd
 = ()
p_»f
[1];

25245 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
is_out
?

25246 (
šd
==~0U?
mp
.
imgout
:mp.
li¡out
[
cimg
::
mod
(()mp.
mem
[šd],mp.li¡out.
width
())]):

25247 (
šd
==~0U?
mp
.
imgš
:mp.
li¡š
[
cimg
::
mod
(()mp.
mem
[šd],mp.li¡š.
width
())]);

25248 cÚ¡ 
boŞ
 
	gis_»Ïtive
 = (boŞ)
p_»f
[2];

25249 
	gox
, 
	goy
, 
	goz
, 
	goc
;

25250 
lÚgT
 
	goff
 = 0;

25251 ià(
	gis_»Ïtive
) {

25252 
	gox
 = ()
mp
.
mem
[
_cimg_mp_¦Ù_x
];

25253 
	goy
 = ()
mp
.
mem
[
_cimg_mp_¦Ù_y
];

25254 
	goz
 = ()
mp
.
mem
[
_cimg_mp_¦Ù_z
];

25255 
	goc
 = ()
mp
.
mem
[
_cimg_mp_¦Ù_c
];

25256 
	goff
 = 
img
.
off£t
(
ox
,
oy
,
oz
,
oc
);

25258 ià((*
	gp_»f
)%2) {

25260 
	gx
 = ()
mp
.
mem
[
p_»f
[3]],

25261 
	gy
 = ()
mp
.
mem
[
p_»f
[4]],

25262 
	gz
 = ()
mp
.
mem
[
p_»f
[5]],

25263 
	gc
 = *
p_»f
==5?0:()
mp
.
mem
[p_ref[6]];

25264 
	goff
+=
img
.
off£t
(
x
,
y
,
z
,
c
);

25265 } 
	goff
+=(
lÚgT
)
mp
.
mem
[
p_»f
[3]];

25266 cÚ¡ 
lÚgT
 
	geoff
 = 
off
 + (
siz
 - 1)*
šc
;

25267 ià(
	goff
<0 || 
	geoff
>=(
lÚgT
)
img
.
size
())

25268 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] CImg<%s>: Function 'copy()': "

25272 
mp
.
imgš
.
pix–_ty³
(),
siz
,
šc
,
off
,
eoff
,
img
.
size
() - 1);

25273  (*)&
	gimg
[
off
];

25276 
mp_memcİy
(
_cimg_m©h_·r£r
& 
mp
) {

25277 
lÚgT
 
	gsiz
 = (lÚgT)
_mp_¬g
(4);

25278 cÚ¡ 
lÚgT
 
	gšc_d
 = (lÚgT)
_mp_¬g
(5), 
	gšc_s
 = (longT)_mp_arg(6);

25280 
	g_İac™y
 = ()
_mp_¬g
(7),

25281 
	gİac™y
 = ()
cimg
::
abs
(
_İac™y
),

25282 
	gomİac™y
 = 1 - 
¡d
::
max
(
_İac™y
,0.f);

25283 ià(
	gsiz
>0) {

25284 cÚ¡ 
boŞ


25285 
	gis_doubËd
 = 
mp
.
İcode
[8]<=1,

25286 
	gis_doubËs
 = 
mp
.
İcode
[15]<=1;

25287 ià(
	gis_doubËd
 && 
	gis_doubËs
) {

25288 *
	g±rd
 = 
_mp_memcİy_doubË
(
mp
,()mp.
İcode
[2],&mp.İcode[8],
siz
,
šc_d
);

25289 cÚ¡ *
	g±rs
 = 
_mp_memcİy_doubË
(
mp
,()mp.
İcode
[3],&mp.İcode[15],
siz
,
šc_s
);

25290 ià(
	gšc_d
==1 && 
šc_s
==1 && 
_İac™y
>=1) {

25291 ià(
±rs
 + 
siz
 - 1<
±rd
 ||…Œs>±rd + siz - 1è
¡d
::
memıy
(ptrd,ptrs,siz*());

25292 
	g¡d
::
memmove
(
±rd
,
±rs
,
siz
*());

25294 ià(
	g±rs
 + (
	gsiz
 - 1)*
	gšc_s
<
	g±rd
 ||…Œs>±rd + (siz - 1)*
	gšc_d
) {

25295 ià(
	g_İac™y
>=1è
siz
-->0è{ *
±rd
 = *
±rs
; 
	g±rd
+=
šc_d
; 
	g±rs
+=
šc_s
; }

25296 
	gsiz
-->0è{ *
	g±rd
 = 
omİac™y
**
±rd
 + 
İac™y
**
±rs
;…Œd+=
šc_d
; 
	g±rs
+=
šc_s
; }

25298 
	gCImg
<
	gdoubËT
> 
buf
(()
siz
);

25299 
cimg_fÜ
(
buf
,
±r
,è{ *
	g±r
 = *
±rs
; 
	g±rs
+=
šc_s
; }

25300 
	g±rs
 = 
buf
;

25301 ià(
	g_İac™y
>=1è
siz
-->0è{ *
±rd
 = *(
±rs
++); 
	g±rd
+=
šc_d
; }

25302 
	gsiz
-->0è{ *
	g±rd
 = 
omİac™y
**
±rd
 + 
İac™y
**(
±rs
++);…Œd+=
šc_d
; }

25305 } ià(
	gis_doubËd
 && !
	gis_doubËs
) {

25306 *
	g±rd
 = 
_mp_memcİy_doubË
(
mp
,()mp.
İcode
[2],&mp.İcode[8],
siz
,
šc_d
);

25307 cÚ¡ *
	g±rs
 = 
_mp_memcİy_æßt
(
mp
,&mp.
İcode
[15],
siz
,
šc_s
,
çl£
);

25308 ià(
	g_İac™y
>=1è
siz
-->0è{ *
±rd
 = *
±rs
; 
	g±rd
+=
šc_d
; 
	g±rs
+=
šc_s
; }

25309 
	gsiz
-->0è{ *
	g±rd
 = 
omİac™y
**
±rd
 + 
_İac™y
**
±rs
;…Œd+=
šc_d
; 
	g±rs
+=
šc_s
; }

25310 } ià(!
	gis_doubËd
 && 
	gis_doubËs
) {

25311 *
	g±rd
 = 
_mp_memcİy_æßt
(
mp
,&mp.
İcode
[8],
siz
,
šc_d
,
Œue
);

25312 cÚ¡ *
	g±rs
 = 
_mp_memcİy_doubË
(
mp
,()mp.
İcode
[3],&mp.İcode[15],
siz
,
šc_s
);

25313 ià(
	g_İac™y
>=1è
siz
-->0è{ *
±rd
 = ()*
±rs
; 
	g±rd
+=
šc_d
; 
	g±rs
+=
šc_s
; }

25314 
	gsiz
-->0è{ *
	g±rd
 = ()(
omİac™y
**
±rd
 + 
İac™y
**
±rs
);…Œd+=
šc_d
; 
	g±rs
+=
šc_s
; }

25316 *
	g±rd
 = 
_mp_memcİy_æßt
(
mp
,&mp.
İcode
[8],
siz
,
šc_d
,
Œue
);

25317 cÚ¡ *
	g±rs
 = 
_mp_memcİy_æßt
(
mp
,&mp.
İcode
[15],
siz
,
šc_s
,
çl£
);

25318 ià(
	gšc_d
==1 && 
šc_s
==1 && 
_İac™y
>=1) {

25319 ià(
±rs
 + 
siz
 - 1<
±rd
 ||…Œs>±rd + siz - 1è
¡d
::
memıy
(ptrd,ptrs,siz*());

25320 
	g¡d
::
memmove
(
±rd
,
±rs
,
siz
*());

25322 ià(
	g±rs
 + (
	gsiz
 - 1)*
	gšc_s
<
	g±rd
 ||…Œs>±rd + (siz - 1)*
	gšc_d
) {

25323 ià(
	g_İac™y
>=1è
siz
-->0è{ *
±rd
 = *
±rs
; 
	g±rd
+=
šc_d
; 
	g±rs
+=
šc_s
; }

25324 
	gsiz
-->0è{ *
	g±rd
 = 
omİac™y
**
±rd
 + 
İac™y
**
±rs
;…Œd+=
šc_d
; 
	g±rs
+=
šc_s
; }

25326 
	gCImg
<
	gæßtT
> 
buf
(()
siz
);

25327 
cimg_fÜ
(
buf
,
±r
,è{ *
	g±r
 = *
±rs
; 
	g±rs
+=
šc_s
; }

25328 
	g±rs
 = 
buf
;

25329 ià(
	g_İac™y
>=1è
siz
-->0è{ *
±rd
 = *(
±rs
++); 
	g±rd
+=
šc_d
; }

25330 
	gsiz
-->0è{ *
	g±rd
 = 
omİac™y
**
±rd
 + 
İac™y
**(
±rs
++);…Œd+=
šc_d
; }

25335  
_mp_¬g
(1);

25338 
mp_mš
(
_cimg_m©h_·r£r
& 
mp
) {

25339 cÚ¡ 
	gi_’d
 = ()
mp
.
İcode
[2];

25340 
	gv®
 = 
_mp_¬g
(3);

25341 
	gi
 = 4; i<
	gi_’d
; ++iè
	gv®
 = 
¡d
::
mš
(
v®
,
_mp_¬g
(
i
));

25342  
	gv®
;

25345 
mp_mšabs
(
_cimg_m©h_·r£r
& 
mp
) {

25346 cÚ¡ 
	gi_’d
 = ()
mp
.
İcode
[2];

25347 
	gv®
 = 
_mp_¬g
(3), 
	gabsv®
 = 
cimg
::
abs
(
v®
);

25348 
	gi
 = 4; i<
	gi_’d
; ++i) {

25349 cÚ¡ 
	g_v®
 = 
_mp_¬g
(
i
), 
	g_absv®
 = 
cimg
::
abs
(
_v®
);

25350 ià(
	g_absv®
<
	gabsv®
è{ 
	gv®
 = 
_v®
;‡bsv® = 
_absv®
; }

25352  
	gv®
;

25355 
mp_mšus
(
_cimg_m©h_·r£r
& 
mp
) {

25356  -
_mp_¬g
(2);

25359 
mp_medŸn
(
_cimg_m©h_·r£r
& 
mp
) {

25360 cÚ¡ 
	gi_’d
 = ()
mp
.
İcode
[2];

25361 
	gi_’d
 - 3) {

25362 1 :  
_mp_¬g
(3);

25363 2 :  
cimg
::
medŸn
(
_mp_¬g
(3),_mp_arg(4));

25364 3 :  
cimg
::
medŸn
(
_mp_¬g
(3),_mp_arg(4),_mp_arg(5));

25365 5 :  
cimg
::
medŸn
(
_mp_¬g
(3),_mp_arg(4),_mp_arg(5),_mp_arg(6),_mp_arg(7));

25366 7 :  
cimg
::
medŸn
(
_mp_¬g
(3),_mp_arg(4),_mp_arg(5),_mp_arg(6),_mp_arg(7),_mp_arg(8),_mp_arg(9));

25367 9 :  
cimg
::
medŸn
(
_mp_¬g
(3),_mp_arg(4),_mp_arg(5),_mp_arg(6),_mp_arg(7),_mp_arg(8),_mp_arg(9),

25368 
_mp_¬g
(10),_mp_arg(11));

25369 13 :  
cimg
::
medŸn
(
_mp_¬g
(3),_mp_arg(4),_mp_arg(5),_mp_arg(6),_mp_arg(7),_mp_arg(8),_mp_arg(9),

25370 
_mp_¬g
(10),_mp_arg(11),_mp_arg(12),_mp_arg(13),_mp_arg(14),_mp_arg(15));

25372 
	gCImg
<
	gdoubËT
> 
v®s
(
i_’d
 - 3);

25373 *
	gp
 = 
v®s
.
d©a
();

25374 
	gi
 = 3; i<
	gi_’d
; ++iè*(
	gp
++èğ
_mp_¬g
(
i
);

25375  
	gv®s
.
medŸn
();

25378 
mp_modulo
(
_cimg_m©h_·r£r
& 
mp
) {

25379  
	gcimg
::
mod
(
_mp_¬g
(2),_mp_arg(3));

25382 
mp_m´oj
(
_cimg_m©h_·r£r
& 
mp
) {

25383 *
	g±rd
 = &
_mp_¬g
(1) + 1;

25385 *
	g±rS
 = &
_mp_¬g
(2) + 1,

25386 *
	g±rD
 = &
_mp_¬g
(5) + 1;

25388 
	gwS
 = ()
mp
.
İcode
[3],

25389 
	ghS
 = ()
mp
.
İcode
[4],

25390 
	gwD
 = ()
mp
.
İcode
[6];

25392 
	gm‘hod
 = 
¡d
::
max
(0,()
_mp_¬g
(7)),

25393 
	gmax_™”
 = 
¡d
::
max
(0,()
_mp_¬g
(8));

25395 
	gmax_»sidu®
 = 
¡d
::
max
(0.,
_mp_¬g
(9));

25397 
	gCImg
<
	gdoubËT
>(
	g±rd
,
	gwS
,
	gwD
,1,1,
	gŒue
èğ
CImg
<
doubËT
>(
±rS
,wS,
	ghS
,1,1,
	gçl£
).

25398 
´ojeù_m©rix
(
CImg
<
doubËT
>(
±rD
,
wD
,
hS
,1,1,
Œue
),
m‘hod
,
max_™”
,
max_»sidu®
);

25399  
	gcimg
::
ty³
<>::
Çn
();

25402 
mp_mul
(
_cimg_m©h_·r£r
& 
mp
) {

25403  
_mp_¬g
(2)*_mp_arg(3);

25406 
mp_mul2
(
_cimg_m©h_·r£r
& 
mp
) {

25407  
_mp_¬g
(2)*_mp_arg(3)*_mp_arg(4);

25410 
mp_Ãq
(
_cimg_m©h_·r£r
& 
mp
) {

25411  ()(
_mp_¬g
(2)!=_mp_arg(3));

25414 
mp_nÜm0
(
_cimg_m©h_·r£r
& 
mp
) {

25415 cÚ¡ 
	gi_’d
 = ()
mp
.
İcode
[2];

25416 
	gi_’d
 - 3) {

25417 1 :  
_mp_¬g
(3)!=0;

25418 2 :  (
_mp_¬g
(3)!=0) + (_mp_arg(4)!=0);

25420 
	g»s
 = 0;

25421 
	gi
 = 3; i<
	gi_’d
; ++i)

25422 
	g»s
+=
_mp_¬g
(
i
)==0?0:1;

25423  
	g»s
;

25426 
mp_nÜm1
(
_cimg_m©h_·r£r
& 
mp
) {

25427 cÚ¡ 
	gi_’d
 = ()
mp
.
İcode
[2];

25428 
	gi_’d
 - 3) {

25429 1 :  
cimg
::
abs
(
_mp_¬g
(3));

25430 2 :  
cimg
::
abs
(
_mp_¬g
(3)) + cimg::abs(_mp_arg(4));

25432 
	g»s
 = 0;

25433 
	gi
 = 3; i<
	gi_’d
; ++i)

25434 
	g»s
+=
cimg
::
abs
(
_mp_¬g
(
i
));

25435  
	g»s
;

25438 
mp_nÜm2
(
_cimg_m©h_·r£r
& 
mp
) {

25439 cÚ¡ 
	gi_’d
 = ()
mp
.
İcode
[2];

25440 
	gi_’d
 - 3) {

25441 1 :  
cimg
::
abs
(
_mp_¬g
(3));

25442 2 :  
cimg
::
_hypÙ
(
_mp_¬g
(3),_mp_arg(4));

25444 
	g»s
 = 0;

25445 
	gi
 = 3; i<
	gi_’d
; ++i)

25446 
	g»s
+=
cimg
::
sqr
(
_mp_¬g
(
i
));

25447  
	g¡d
::
sq¹
(
»s
);

25450 
mp_nÜmšf
(
_cimg_m©h_·r£r
& 
mp
) {

25451 cÚ¡ 
	gi_’d
 = ()
mp
.
İcode
[2];

25452 
	gi_’d
 - 3) {

25453 1 :  
cimg
::
abs
(
_mp_¬g
(3));

25454 2 :  
¡d
::
max
(
cimg
::
abs
(
_mp_¬g
(3)),cimg::abs(_mp_arg(4)));

25456 
	g»s
 = 0;

25457 
	gi
 = 3; i<
	gi_’d
; ++i) {

25458 cÚ¡ 
	gv®
 = 
cimg
::
abs
(
_mp_¬g
(
i
));

25459 ià(
	gv®
>
	g»s
è» ğ
v®
;

25461  
	g»s
;

25464 
mp_nÜmp
(
_cimg_m©h_·r£r
& 
mp
) {

25465 cÚ¡ 
	gi_’d
 = ()
mp
.
İcode
[2];

25466 ià(
	gi_’d
==4è 
cimg
::
abs
(
_mp_¬g
(3));

25467 cÚ¡ 
	gp
 = ()
mp
.
İcode
[3];

25468 
	g»s
 = 0;

25469 
	gi
 = 4; i<
	gi_’d
; ++i)

25470 
	g»s
+=
¡d
::
pow
(
cimg
::
abs
(
_mp_¬g
(
i
)),
p
);

25471 
	g»s
 = 
¡d
::
pow
(
»s
,1/
p
);

25472  
	g»s
>0?res:0.;

25475 
mp_³rmutiÚs
(
_cimg_m©h_·r£r
& 
mp
) {

25476  
	gcimg
::
³rmutiÚs
(()
_mp_¬g
(2),()_mp_¬g(3),(
boŞ
)_mp_arg(4));

25479 
mp_pŞygÚ
(
_cimg_m©h_·r£r
& 
mp
) {

25480 cÚ¡ 
	gi_’d
 = ()
mp
.
İcode
[2];

25481 
	gšd
 = ()
mp
.
İcode
[3];

25482 ià(
	gšd
!=~0Uè
šd
 = ()
cimg
::
mod
(()
_mp_¬g
(3),
mp
.
li¡š
.
width
());

25483 
	gCImg
<
	gT
> &
	gimg
 = 
šd
==~0U?
mp
.
imgout
:mp.
li¡out
[ind];

25484 
boŞ
 
	gis_šv®id_¬gum’ts
 = 
i_’d
<=4, 
	gis_oušed
 = 
çl£
;

25485 ià(!
	gis_šv®id_¬gum’ts
) {

25486 
	gnbv
 = ()
_mp_¬g
(4);

25487 ià(!
	gnbv
è
	gis_šv®id_¬gum’ts
 = 
Œue
;

25489 ià(
	gnbv
<0è{‚bv = -
nbv
; 
	gis_oušed
 = 
Œue
; }

25490 
	gCImg
<
	gštT
> 
pošts
(
nbv
,2,1,1,0);

25491 
	gCImg
<
	gT
> 
cŞÜ
(
img
.
_¥eùrum
,1,1,1,0);

25492 
	gİac™y
 = 1;

25493 
	gi
 = 5, 
	g·‰”n
=~0U;

25494 
cimg_fÜoff
(
pošts
,
k
èià(
	gi
<
	gi_’d
èpošts(k/2,k%2èğ()
cimg
::
round
(
_mp_¬g
(
i
++));

25495 { 
	gis_šv®id_¬gum’ts
 = 
Œue
; ; }

25496 ià(!
	gis_šv®id_¬gum’ts
) {

25497 ià(
	gi
<
	gi_’d
è
	gİac™y
 = ()
_mp_¬g
(
i
++);

25498 ià(
	gis_oušed
 && 
	gi
<
	gi_’d
è
	g·‰”n
 = ()
_mp_¬g
(
i
++);

25499 
cimg_fÜX
(
cŞÜ
,
k
èià(
	gi
<
	gi_’d
è
	gcŞÜ
[k] = (
T
)
_mp_¬g
(
i
++);

25500 { 
	gcŞÜ
.
»size
(
k
,1,1,1,-1); ; }

25501 
	gcŞÜ
.
»size
(
img
.
_¥eùrum
,1,1,1,0,2);

25502 ià(
	gis_oušed
è
	gimg
.
d¿w_pŞygÚ
(
pošts
,
cŞÜ
.
_d©a
,
İac™y
,
·‰”n
);

25503 
	gimg
.
d¿w_pŞygÚ
(
pošts
,
cŞÜ
.
_d©a
,
İac™y
);

25507 ià(
	gis_šv®id_¬gum’ts
) {

25508 
	gCImg
<
	gdoubËT
> 
¬gs
(
i_’d
 - 4);

25509 
cimg_fÜX
(
¬gs
,
k
è
	g¬gs
[k] = 
_mp_¬g
(4 + k);

25510 ià(
	gšd
==~0U)

25511 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] CImg<%s>: Function 'polygon()': "

25513 
mp
.
imgš
.
pix–_ty³
(),
¬gs
.
v®ue_¡ršg
().
_d©a
);

25515 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] CImg<%s>: Function 'polygon()': "

25517 
mp
.
imgš
.
pix–_ty³
(),
šd
,
¬gs
.
_width
?",":"",¬gs.
v®ue_¡ršg
().
_d©a
);

25519  
	gcimg
::
ty³
<>::
Çn
();

25522 
mp_pow
(
_cimg_m©h_·r£r
& 
mp
) {

25523 cÚ¡ 
	gv
 = 
_mp_¬g
(2), 
	gp
 = _mp_arg(3);

25524  
	g¡d
::
pow
(
v
,
p
);

25527 
mp_pow0_25
(
_cimg_m©h_·r£r
& 
mp
) {

25528 cÚ¡ 
	gv®
 = 
_mp_¬g
(2);

25529  
	g¡d
::
sq¹
(
¡d
::sq¹(
v®
));

25532 
mp_pow3
(
_cimg_m©h_·r£r
& 
mp
) {

25533 cÚ¡ 
	gv®
 = 
_mp_¬g
(2);

25534  
v®
*v®*
	gv®
;

25537 
mp_pow4
(
_cimg_m©h_·r£r
& 
mp
) {

25538 cÚ¡ 
	gv®
 = 
_mp_¬g
(2);

25539  
v®
*v®*v®*
	gv®
;

25542 
mp_´št
(
_cimg_m©h_·r£r
& 
mp
) {

25543 cÚ¡ 
	gv®
 = 
_mp_¬g
(1);

25544 cÚ¡ 
boŞ
 
	g´št_ch¬
 = (boŞ)
mp
.
İcode
[3];

25545 
cimg_´agma_İ’mp
(
ü™iÿl
(
mp_´št
))

25547 
	gCImg
<
	gch¬T
> 
_ex´
(
mp
.
İcode
[2] - 4);

25548 cÚ¡ 
ulÚgT
 *
	g±rs
 = 
mp
.
İcode
.
_d©a
 + 4;

25549 
cimg_fÜ
(
_ex´
,
±rd
,è*
	g±rd
 = ()*(
±rs
++);

25550 
	gcimg
::
¡»Îsize
(
_ex´
);

25551 
	gcimg
::
mu‹x
(6);

25552 ià(
	g´št_ch¬
)

25553 
	g¡d
::
årštf
(
cimg
::
ouut
(),"\n[" 
cimg_­²ame
 "_math_parser] %s = %.17g = '%c'",

25554 
_ex´
.
_d©a
,
v®
,()val);

25556 
	g¡d
::
årštf
(
cimg
::
ouut
(),"\n[" 
cimg_­²ame
 "_math_parser] %s = %.17g",

25557 
_ex´
.
_d©a
,
v®
);

25558 
	g¡d
::
fæush
(
cimg
::
ouut
());

25559 
	gcimg
::
mu‹x
(6,0);

25561  
	gv®
;

25564 
mp_´od
(
_cimg_m©h_·r£r
& 
mp
) {

25565 cÚ¡ 
	gi_’d
 = ()
mp
.
İcode
[2];

25566 
	gv®
 = 
_mp_¬g
(3);

25567 
	gi
 = 4; i<
	gi_’d
; ++iè
	gv®
*=
_mp_¬g
(
i
);

25568  
	gv®
;

25571 
mp_cİy
(
_cimg_m©h_·r£r
& 
mp
) {

25572  
_mp_¬g
(2);

25575 
mp_rŞ
(
_cimg_m©h_·r£r
& 
mp
) {

25576  
	gcimg
::
rŞ
(
_mp_¬g
(2),()_mp_arg(3));

25579 
mp_rÜ
(
_cimg_m©h_·r£r
& 
mp
) {

25580  
	gcimg
::
rÜ
(
_mp_¬g
(2),()_mp_arg(3));

25583 
mp_rÙ2d
(
_cimg_m©h_·r£r
& 
mp
) {

25584 *
	g±rd
 = &
_mp_¬g
(1) + 1;

25586 
	gth‘a
 = ()
_mp_¬g
(2)*
cimg
::
PI
/180,

25587 
	gÿ
 = 
¡d
::
cos
(
th‘a
),

25588 
	g§
 = 
¡d
::
sš
(
th‘a
);

25589 *(
	g±rd
++èğ
ÿ
;

25590 *(
	g±rd
++èğ-
§
;

25591 *(
	g±rd
++èğ
§
;

25592 *
	g±rd
 = 
ÿ
;

25593  
	gcimg
::
ty³
<>::
Çn
();

25596 
mp_rÙ3d
(
_cimg_m©h_·r£r
& 
mp
) {

25597 *
	g±rd
 = &
_mp_¬g
(1) + 1;

25598 cÚ¡ 
	gx
 = ()
_mp_¬g
(2), 
	gy
 = ()_mp_¬g(3), 
	gz
 = ()_mp_¬g(4), 
	gth‘a
 = ()_mp_arg(5);

25599 
	gCImg
<
	gdoubËT
>(
	g±rd
,3,3,1,1,
	gŒue
èğ
CImg
<
doubËT
>::
rÙ©iÚ_m©rix
(
x
,
y
,
z
,
th‘a
);

25600  
	gcimg
::
ty³
<>::
Çn
();

25603 
mp_round
(
_cimg_m©h_·r£r
& 
mp
) {

25604  
	gcimg
::
round
(
_mp_¬g
(2),_mp_arg(3),()_mp_arg(4));

25607 
mp_£lf_add
(
_cimg_m©h_·r£r
& 
mp
) {

25608  
_mp_¬g
(1)+=_mp_arg(2);

25611 
mp_£lf_b™wi£_ªd
(
_cimg_m©h_·r£r
& 
mp
) {

25612 &
	gv®
 = 
_mp_¬g
(1);

25613  
	gv®
 = ()((
lÚgT
)
v®
 & (lÚgT)
_mp_¬g
(2));

25616 
mp_£lf_b™wi£_Ëá_shiá
(
_cimg_m©h_·r£r
& 
mp
) {

25617 &
	gv®
 = 
_mp_¬g
(1);

25618  
	gv®
 = ()((
lÚgT
)
v®
<<()
_mp_¬g
(2));

25621 
mp_£lf_b™wi£_Ü
(
_cimg_m©h_·r£r
& 
mp
) {

25622 &
	gv®
 = 
_mp_¬g
(1);

25623  
	gv®
 = ()((
lÚgT
)
v®
 | (lÚgT)
_mp_¬g
(2));

25626 
mp_£lf_b™wi£_right_shiá
(
_cimg_m©h_·r£r
& 
mp
) {

25627 &
	gv®
 = 
_mp_¬g
(1);

25628  
	gv®
 = ()((
lÚgT
)
v®
>>()
_mp_¬g
(2));

25631 
mp_£lf_deüem’t
(
_cimg_m©h_·r£r
& 
mp
) {

25632  --
_mp_¬g
(1);

25635 
mp_£lf_šüem’t
(
_cimg_m©h_·r£r
& 
mp
) {

25636  ++
_mp_¬g
(1);

25639 
mp_£lf_m­_veùÜ_s
(
_cimg_m©h_·r£r
& 
mp
) {

25641 
	g±rd
 = ()
mp
.
İcode
[1] + 1,

25642 
	gsiz
 = ()
mp
.
İcode
[2];

25643 
mp_func
 
	gİ
 = (mp_func)
mp
.
İcode
[3];

25644 
	gCImg
<
	gulÚgT
> 
l_İcode
(1,3);

25645 
	gl_İcode
[2] = 
mp
.
İcode
[4];

25646 
	gl_İcode
.
sw­
(
mp
.
İcode
);

25647 
	gulÚgT
 &
	grg‘
 = 
mp
.
İcode
[1];

25648 
	gsiz
-->0è{ 
	grg‘
 = 
±rd
++; (*
	gİ
)(
	gmp
); }

25649 
	gl_İcode
.
sw­
(
mp
.
İcode
);

25650  
	gcimg
::
ty³
<>::
Çn
();

25653 
mp_£lf_m­_veùÜ_v
(
_cimg_m©h_·r£r
& 
mp
) {

25655 
	g±rd
 = ()
mp
.
İcode
[1] + 1,

25656 
	gsiz
 = ()
mp
.
İcode
[2],

25657 
	g±rs
 = ()
mp
.
İcode
[4] + 1;

25658 
mp_func
 
	gİ
 = (mp_func)
mp
.
İcode
[3];

25659 
	gCImg
<
	gulÚgT
> 
l_İcode
(1,4);

25660 
	gl_İcode
.
sw­
(
mp
.
İcode
);

25661 
	gulÚgT
 &
	grg‘
 = 
mp
.
İcode
[1], &
	g¬gum’t
 = mp.opcode[2];

25662 
	gsiz
-->0è{ 
	grg‘
 = 
±rd
++; 
	g¬gum’t
 = 
±rs
++; (*
	gİ
)(
	gmp
); }

25663 
	gl_İcode
.
sw­
(
mp
.
İcode
);

25664  
	gcimg
::
ty³
<>::
Çn
();

25667 
mp_£lf_mul
(
_cimg_m©h_·r£r
& 
mp
) {

25668  
_mp_¬g
(1)*=_mp_arg(2);

25671 
mp_£lf_div
(
_cimg_m©h_·r£r
& 
mp
) {

25672  
_mp_¬g
(1)/=_mp_arg(2);

25675 
mp_£lf_modulo
(
_cimg_m©h_·r£r
& 
mp
) {

25676 &
	gv®
 = 
_mp_¬g
(1);

25677  
	gv®
 = 
cimg
::
mod
(
v®
,
_mp_¬g
(2));

25680 
mp_£lf_pow
(
_cimg_m©h_·r£r
& 
mp
) {

25681 &
	gv®
 = 
_mp_¬g
(1);

25682  
	gv®
 = 
¡d
::
pow
(
v®
,
_mp_¬g
(2));

25685 
mp_£lf_sub
(
_cimg_m©h_·r£r
& 
mp
) {

25686  
_mp_¬g
(1)-=_mp_arg(2);

25689 
mp_£t_ioff
(
_cimg_m©h_·r£r
& 
mp
) {

25690 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
imgout
;

25691 cÚ¡ 
lÚgT


25692 
	goff
 = (
lÚgT
)
_mp_¬g
(2),

25693 
	gwhds
 = (
lÚgT
)
img
.
size
();

25694 cÚ¡ 
	gv®
 = 
_mp_¬g
(1);

25695 ià(
	goff
>=0 && 
off
<
whds
è
img
[off] = (
T
)
v®
;

25696  
	gv®
;

25699 
mp_£t_ixyzc
(
_cimg_m©h_·r£r
& 
mp
) {

25700 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
imgout
;

25702 
	gx
 = ()
_mp_¬g
(2), 
	gy
 = ()_mp_arg(3),

25703 
	gz
 = ()
_mp_¬g
(4), 
	gc
 = ()_mp_arg(5);

25704 cÚ¡ 
	gv®
 = 
_mp_¬g
(1);

25705 ià(
	gx
>=0 && 
x
<
img
.
width
(è&& 
y
>=0 && y<img.
height
() &&

25706 
z
>=0 && z<
img
.
d•th
(è&& 
c
>=0 && c<img.
¥eùrum
())

25707 
img
(
x
,
y
,
z
,
c
èğ(
T
)
v®
;

25708  
	gv®
;

25711 
mp_£t_joff
(
_cimg_m©h_·r£r
& 
mp
) {

25712 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
imgout
;

25714 
	gox
 = ()
mp
.
mem
[
_cimg_mp_¦Ù_x
], 
	goy
 = ()mp.mem[
_cimg_mp_¦Ù_y
],

25715 
	goz
 = ()
mp
.
mem
[
_cimg_mp_¦Ù_z
], 
	goc
 = ()mp.mem[
_cimg_mp_¦Ù_c
];

25716 cÚ¡ 
lÚgT


25717 
	goff
 = 
img
.
off£t
(
ox
,
oy
,
oz
,
oc
è+ (
	glÚgT
)
_mp_¬g
(2),

25718 
	gwhds
 = (
lÚgT
)
img
.
size
();

25719 cÚ¡ 
	gv®
 = 
_mp_¬g
(1);

25720 ià(
	goff
>=0 && 
off
<
whds
è
img
[off] = (
T
)
v®
;

25721  
	gv®
;

25724 
mp_£t_jxyzc
(
_cimg_m©h_·r£r
& 
mp
) {

25725 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
imgout
;

25727 
	gox
 = 
mp
.
mem
[
_cimg_mp_¦Ù_x
], 
	goy
 = mp.mem[
_cimg_mp_¦Ù_y
],

25728 
	goz
 = 
mp
.
mem
[
_cimg_mp_¦Ù_z
], 
	goc
 = mp.mem[
_cimg_mp_¦Ù_c
];

25730 
	gx
 = ()(
ox
 + 
_mp_¬g
(2)), 
	gy
 = ()(
oy
 + _mp_arg(3)),

25731 
	gz
 = ()(
oz
 + 
_mp_¬g
(4)), 
	gc
 = ()(
oc
 + _mp_arg(5));

25732 cÚ¡ 
	gv®
 = 
_mp_¬g
(1);

25733 ià(
	gx
>=0 && 
x
<
img
.
width
(è&& 
y
>=0 && y<img.
height
() &&

25734 
z
>=0 && z<
img
.
d•th
(è&& 
c
>=0 && c<img.
¥eùrum
())

25735 
img
(
x
,
y
,
z
,
c
èğ(
T
)
v®
;

25736  
	gv®
;

25739 
mp_£t_Ioff_s
(
_cimg_m©h_·r£r
& 
mp
) {

25740 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
imgout
;

25741 cÚ¡ 
lÚgT


25742 
	goff
 = (
lÚgT
)
_mp_¬g
(2),

25743 
	gwhd
 = (
lÚgT
)
img
.
width
()*img.
height
()*img.
d•th
();

25744 cÚ¡ 
T
 
	gv®
 = (T)
_mp_¬g
(1);

25745 ià(
	goff
>=0 && 
off
<
whd
) {

25746 
T
 *
±rd
 = &
img
[
off
];

25747 
cimg_fÜC
(
img
,
c
è{ *
	g±rd
 = 
v®
;…Œd+=
whd
; }

25749  
_mp_¬g
(1);

25752 
mp_£t_Ioff_v
(
_cimg_m©h_·r£r
& 
mp
) {

25753 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
imgout
;

25754 cÚ¡ 
lÚgT


25755 
	goff
 = (
lÚgT
)
_mp_¬g
(2),

25756 
	gwhd
 = (
lÚgT
)
img
.
width
()*img.
height
()*img.
d•th
();

25757 cÚ¡ *
	g±rs
 = &
_mp_¬g
(1) + 1;

25758 ià(
	goff
>=0 && 
off
<
whd
) {

25759 cÚ¡ 
vsiz
 = ()
mp
.
İcode
[3];

25760 
T
 *
	g±rd
 = &
img
[
off
];

25761 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *
	g±rd
 = (
T
)*(
±rs
++);…Œd+=
whd
; }

25763  
	gcimg
::
ty³
<>::
Çn
();

25766 
mp_£t_Ixyz_s
(
_cimg_m©h_·r£r
& 
mp
) {

25767 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
imgout
;

25769 
	gx
 = ()
_mp_¬g
(2),

25770 
	gy
 = ()
_mp_¬g
(3),

25771 
	gz
 = ()
_mp_¬g
(4);

25772 cÚ¡ 
T
 
	gv®
 = (T)
_mp_¬g
(1);

25773 ià(
	gx
>=0 && 
x
<
img
.
width
(è&& 
y
>=0 && y<img.
height
(è&& 
z
>=0 && z<img.
d•th
()) {

25774 
T
 *
±rd
 = &
img
(
x
,
y
,
z
);

25775 cÚ¡ 
ulÚgT
 
	gwhd
 = (ulÚgT)
img
.
_width
*img.
_height
*img.
_d•th
;

25776 
cimg_fÜC
(
img
,
c
è{ *
	g±rd
 = 
v®
;…Œd+=
whd
; }

25778  
_mp_¬g
(1);

25781 
mp_£t_Ixyz_v
(
_cimg_m©h_·r£r
& 
mp
) {

25782 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
imgout
;

25784 
	gx
 = ()
_mp_¬g
(2),

25785 
	gy
 = ()
_mp_¬g
(3),

25786 
	gz
 = ()
_mp_¬g
(4);

25787 cÚ¡ *
	g±rs
 = &
_mp_¬g
(1) + 1;

25788 ià(
	gx
>=0 && 
x
<
img
.
width
(è&& 
y
>=0 && y<img.
height
(è&& 
z
>=0 && z<img.
d•th
()) {

25789 cÚ¡ 
vsiz
 = ()
mp
.
İcode
[5];

25790 
T
 *
	g±rd
 = &
img
(
x
,
y
,
z
);

25791 cÚ¡ 
ulÚgT
 
	gwhd
 = (ulÚgT)
img
.
_width
*img.
_height
*img.
_d•th
;

25792 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *
	g±rd
 = (
T
)*(
±rs
++);…Œd+=
whd
; }

25794  
	gcimg
::
ty³
<>::
Çn
();

25797 
mp_£t_Joff_s
(
_cimg_m©h_·r£r
& 
mp
) {

25798 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
imgout
;

25800 
	gox
 = ()
mp
.
mem
[
_cimg_mp_¦Ù_x
], 
	goy
 = ()mp.mem[
_cimg_mp_¦Ù_y
],

25801 
	goz
 = ()
mp
.
mem
[
_cimg_mp_¦Ù_z
], 
	goc
 = ()mp.mem[
_cimg_mp_¦Ù_c
];

25802 cÚ¡ 
lÚgT


25803 
	goff
 = 
img
.
off£t
(
ox
,
oy
,
oz
,
oc
è+ (
	glÚgT
)
_mp_¬g
(2),

25804 
	gwhd
 = (
lÚgT
)
img
.
width
()*img.
height
()*img.
d•th
();

25805 cÚ¡ 
T
 
	gv®
 = (T)
_mp_¬g
(1);

25806 ià(
	goff
>=0 && 
off
<
whd
) {

25807 
T
 *
±rd
 = &
img
[
off
];

25808 
cimg_fÜC
(
img
,
c
è{ *
	g±rd
 = 
v®
;…Œd+=
whd
; }

25810  
_mp_¬g
(1);

25813 
mp_£t_Joff_v
(
_cimg_m©h_·r£r
& 
mp
) {

25814 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
imgout
;

25816 
	gox
 = ()
mp
.
mem
[
_cimg_mp_¦Ù_x
], 
	goy
 = ()mp.mem[
_cimg_mp_¦Ù_y
],

25817 
	goz
 = ()
mp
.
mem
[
_cimg_mp_¦Ù_z
], 
	goc
 = ()mp.mem[
_cimg_mp_¦Ù_c
];

25818 cÚ¡ 
lÚgT


25819 
	goff
 = 
img
.
off£t
(
ox
,
oy
,
oz
,
oc
è+ (
	glÚgT
)
_mp_¬g
(2),

25820 
	gwhd
 = (
lÚgT
)
img
.
width
()*img.
height
()*img.
d•th
();

25821 cÚ¡ *
	g±rs
 = &
_mp_¬g
(1) + 1;

25822 ià(
	goff
>=0 && 
off
<
whd
) {

25823 cÚ¡ 
vsiz
 = ()
mp
.
İcode
[3];

25824 
T
 *
	g±rd
 = &
img
[
off
];

25825 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *
	g±rd
 = (
T
)*(
±rs
++);…Œd+=
whd
; }

25827  
	gcimg
::
ty³
<>::
Çn
();

25830 
mp_£t_Jxyz_s
(
_cimg_m©h_·r£r
& 
mp
) {

25831 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
imgout
;

25832 cÚ¡ 
	gox
 = 
mp
.
mem
[
_cimg_mp_¦Ù_x
], 
	goy
 = mp.mem[
_cimg_mp_¦Ù_y
], 
	goz
 = mp.mem[
_cimg_mp_¦Ù_z
];

25834 
	gx
 = ()(
ox
 + 
_mp_¬g
(2)),

25835 
	gy
 = ()(
oy
 + 
_mp_¬g
(3)),

25836 
	gz
 = ()(
oz
 + 
_mp_¬g
(4));

25837 cÚ¡ 
T
 
	gv®
 = (T)
_mp_¬g
(1);

25838 ià(
	gx
>=0 && 
x
<
img
.
width
(è&& 
y
>=0 && y<img.
height
(è&& 
z
>=0 && z<img.
d•th
()) {

25839 
T
 *
±rd
 = &
img
(
x
,
y
,
z
);

25840 cÚ¡ 
ulÚgT
 
	gwhd
 = (ulÚgT)
img
.
_width
*img.
_height
*img.
_d•th
;

25841 
cimg_fÜC
(
img
,
c
è{ *
	g±rd
 = 
v®
;…Œd+=
whd
; }

25843  
_mp_¬g
(1);

25846 
mp_£t_Jxyz_v
(
_cimg_m©h_·r£r
& 
mp
) {

25847 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
imgout
;

25848 cÚ¡ 
	gox
 = 
mp
.
mem
[
_cimg_mp_¦Ù_x
], 
	goy
 = mp.mem[
_cimg_mp_¦Ù_y
], 
	goz
 = mp.mem[
_cimg_mp_¦Ù_z
];

25850 
	gx
 = ()(
ox
 + 
_mp_¬g
(2)),

25851 
	gy
 = ()(
oy
 + 
_mp_¬g
(3)),

25852 
	gz
 = ()(
oz
 + 
_mp_¬g
(4));

25853 cÚ¡ *
	g±rs
 = &
_mp_¬g
(1) + 1;

25854 ià(
	gx
>=0 && 
x
<
img
.
width
(è&& 
y
>=0 && y<img.
height
(è&& 
z
>=0 && z<img.
d•th
()) {

25855 cÚ¡ 
vsiz
 = ()
mp
.
İcode
[5];

25856 
T
 *
	g±rd
 = &
img
(
x
,
y
,
z
);

25857 cÚ¡ 
ulÚgT
 
	gwhd
 = (ulÚgT)
img
.
_width
*img.
_height
*img.
_d•th
;

25858 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *
	g±rd
 = (
T
)*(
±rs
++);…Œd+=
whd
; }

25860  
	gcimg
::
ty³
<>::
Çn
();

25863 
mp_shiá
(
_cimg_m©h_·r£r
& 
mp
) {

25864 *cÚ¡ 
	g±rd
 = &
_mp_¬g
(1) + 1;

25865 cÚ¡ *cÚ¡ 
	g±rs
 = &
_mp_¬g
(2) + 1;

25866 cÚ¡ 
	gsiz
 = ()
mp
.
İcode
[3];

25868 
	gshiá
 = ()
_mp_¬g
(4),

25869 
	gbound¬y_cÚd™iÚs
 = ()
_mp_¬g
(5);

25870 
	gCImg
<
	gdoubËT
>(
	g±rd
,
	gsiz
,1,1,1,
	gŒue
èğ
CImg
<
doubËT
>(
±rs
,siz,1,1,1,Œue).
shiá
(shiá,0,0,0,
bound¬y_cÚd™iÚs
);

25871  
	gcimg
::
ty³
<>::
Çn
();

25874 
mp_sign
(
_cimg_m©h_·r£r
& 
mp
) {

25875  
	gcimg
::
sign
(
_mp_¬g
(2));

25878 
mp_sš
(
_cimg_m©h_·r£r
& 
mp
) {

25879  
	g¡d
::
sš
(
_mp_¬g
(2));

25882 
mp_sšc
(
_cimg_m©h_·r£r
& 
mp
) {

25883  
	gcimg
::
sšc
(
_mp_¬g
(2));

25886 
mp_sšh
(
_cimg_m©h_·r£r
& 
mp
) {

25887  
	g¡d
::
sšh
(
_mp_¬g
(2));

25890 
mp_sŞve
(
_cimg_m©h_·r£r
& 
mp
) {

25891 *
	g±rd
 = &
_mp_¬g
(1) + 1;

25893 *
	g±r1
 = &
_mp_¬g
(2) + 1,

25894 *
	g±r2
 = &
_mp_¬g
(3) + 1;

25896 
	gk
 = ()
mp
.
İcode
[4],

25897 
	gl
 = ()
mp
.
İcode
[5],

25898 
	gm
 = ()
mp
.
İcode
[6];

25899 
	gCImg
<
	gdoubËT
>(
	g±rd
,
	gm
,
	gk
,1,1,
	gŒue
èğ
CImg
<
doubËT
>(
±r2
,m,
	gl
,1,1,
	gçl£
).
sŞve
(CImg<doubËT>(
±r1
,
k
,
l
,1,1,
Œue
));

25900  
	gcimg
::
ty³
<>::
Çn
();

25903 
mp_sÜt
(
_cimg_m©h_·r£r
& 
mp
) {

25904 *cÚ¡ 
	g±rd
 = &
_mp_¬g
(1) + 1;

25905 cÚ¡ *cÚ¡ 
	g±rs
 = &
_mp_¬g
(2) + 1;

25906 cÚ¡ 
boŞ
 
	gis_šü—sšg
 = (boŞ)
_mp_¬g
(4);

25908 
	gsiz
 = ()
mp
.
İcode
[3],

25909 
	gnb_–ts
 = 
mp
.
İcode
[5]==~0U?
siz
:()
_mp_¬g
(5),

25910 
	gsiz_–t
 = ()
_mp_¬g
(6);

25911 cÚ¡ 
ulÚgT
 
	g¢
 = 
siz_–t
*
nb_–ts
;

25912 ià(
	g¢
>
	gsiz
 || 
	gsiz_–t
<1)

25913 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] CImg<%s>: Function 'sort()': "

25916 
mp
.
imgš
.
pix–_ty³
(),
_mp_¬g
(5),_mp_¬g(6),
siz
);

25917 
	gCImg
<
	gdoubËT
>(
	g±rd
,
	gsiz_–t
,
	gnb_–ts
,1,1,
	gŒue
èğ
CImg
<
doubËT
>(
±rs
,siz_elt,nb_elts,1,1,true).

25918 
g‘_sÜt
(
is_šü—sšg
,
siz_–t
>1?'y':0);

25919 ià(
	g¢
<
	gsiz
è
	gCImg
<
	gdoubËT
>(
	g±rd
 + sn,siz - sn,1,1,1,
	gŒue
èğ
CImg
<
doubËT
>(
±rs
 + 
¢
,siz - sn,1,1,1,true);

25920  
	gcimg
::
ty³
<>::
Çn
();

25923 
mp_sqr
(
_cimg_m©h_·r£r
& 
mp
) {

25924  
	gcimg
::
sqr
(
_mp_¬g
(2));

25927 
mp_sq¹
(
_cimg_m©h_·r£r
& 
mp
) {

25928  
	g¡d
::
sq¹
(
_mp_¬g
(2));

25931 
mp_¤ªd
(
_cimg_m©h_·r£r
& 
mp
) {

25932 
	gmp
.
	gºg
 = (
cimg_ušt64
)
_mp_¬g
(2);

25933  
	gcimg
::
ty³
<>::
Çn
();

25936 
mp_¤ªd0
(
_cimg_m©h_·r£r
& 
mp
) {

25937 
	gcimg
::
¤ªd
(&
mp
.
ºg
);

25939 #ià
cimg_u£_İ’mp
!=0

25940 
	gmp
.
	gºg
+=
omp_g‘_th»ad_num
();

25942  
	gcimg
::
ty³
<>::
Çn
();

25945 
mp_¡d
(
_cimg_m©h_·r£r
& 
mp
) {

25946 cÚ¡ 
	gi_’d
 = ()
mp
.
İcode
[2];

25947 
	gCImg
<
	gdoubËT
> 
v®s
(
i_’d
 - 3);

25948 *
	gp
 = 
v®s
.
d©a
();

25949 
	gi
 = 3; i<
	gi_’d
; ++iè*(
	gp
++èğ
_mp_¬g
(
i
);

25950  
	g¡d
::
sq¹
(
v®s
.
v¬Ÿnû
());

25953 
mp_¡ršg_š™
(
_cimg_m©h_·r£r
& 
mp
) {

25954 cÚ¡ *
	g±rs
 = (*)&
mp
.
İcode
[3];

25956 
	g±rd
 = ()
mp
.
İcode
[1] + 1,

25957 
	gsiz
 = ()
mp
.
İcode
[2];

25958 
	gsiz
-->0è
	gmp
.
	gmem
[
±rd
++] = ()*(
±rs
++);

25959  
	gcimg
::
ty³
<>::
Çn
();

25962 #ifdeà
cimg_mp_func_¡Üe


25963 
mp_¡Üe
(
_cimg_m©h_·r£r
& 
mp
) {

25965 *
	g±r1
 = &
_mp_¬g
(2),

25966 *
	g±r2
 = &
_mp_¬g
(4) + 1;

25968 
	gsiz1
 = ()
mp
.
İcode
[3],

25969 
	gsiz2
 = ()
mp
.
İcode
[5],

25970 
	gsizM
 = 
¡d
::
max
(
siz1
,1U);

25972 
	gw
 = ()
_mp_¬g
(6),

25973 
	gh
 = ()
_mp_¬g
(7),

25974 
	gd
 = ()
_mp_¬g
(8),

25975 
	gs
 = ()
_mp_¬g
(9);

25977 cÚ¡ 
boŞ
 
	gis_com´es£d
 = (boŞ)
_mp_¬g
(10);

25978 ià(
	gw
<0 || 
	gh
<0 || 
	gd
<0 || 
	gs
<0)

25979 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] CImg<%s>: Function 'store()': "

25981 
cimg
::
ty³
<
T
>::
¡ršg
(),
w
,
h
,
d
,
s
);

25982 ià(()
w
*
h
*
d
*
	gs
>
	gsizM
)

25983 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] CImg<%s>: Function 'store()': "

25985 
cimg
::
ty³
<
T
>::
¡ršg
(),
w
,
h
,
d
,
s
,
sizM
);

25986 
	gCImg
<
	gch¬T
> 
ss
(
siz2
 + 1);

25987 
cimg_fÜ_šX
(
ss
,0,ss.
width
(è- 1,
i
è
	gss
[i] = ()
±r2
[i];

25988 
	gss
.
back
() = 0;

25989 ià(
	gsiz1
è
cimg_mp_func_¡Üe
(
±r1
 + 1,

25990 ()
w
,()
h
,()
d
,()
s
,

25991 
is_com´es£d
,
ss
.
_d©a
);

25992 
cimg_mp_func_¡Üe
(
±r1
,1,1,1,1,
is_com´es£d
,
ss
.
_d©a
);

25993  
	gcimg
::
ty³
<>::
Çn
();

25997 
mp_¡ov
(
_cimg_m©h_·r£r
& 
mp
) {

25998 cÚ¡ *
	g±rs
 = &
_mp_¬g
(2);

25999 cÚ¡ 
ulÚgT
 
	gsiz
 = (ulÚgT)
mp
.
İcode
[3];

26000 
lÚgT
 
	gšd
 = (lÚgT)
_mp_¬g
(4);

26001 cÚ¡ 
boŞ
 
	gis_¡riù
 = (boŞ)
_mp_¬g
(5);

26002 
	gv®
 = 
cimg
::
ty³
<>::
Çn
();

26003 ià(
	gšd
<0 || ind>=(
lÚgT
)
siz
è 
v®
;

26004 ià(!
	gsiz
è *
	g±rs
>='0' && *
±rs
<='9'?*±r - '0':
v®
;

26006 
	gCImg
<
	gch¬T
> 
ss
(
siz
 + 1 - 
šd
);

26007 
	g±rs
+=1 + 
šd
;

26008 
cimg_fÜX
(
ss
,
i
è
	gss
[i] = ()
±rs
[i];

26009 
	gss
.
back
() = 0;

26011 cÚ¡ *
	gs
 = 
ss
.
_d©a
;

26012 *
	gs
 && *s<=32è++
s
;

26013 cÚ¡ 
boŞ
 
	gis_Ãg©ive
 = *
s
=='-';

26014 ià(
	gis_Ãg©ive
 || *
	gs
=='+'è++
s
;

26015 
	g”r
 = 0;

26016 
	g£p
;

26018 ià(*
	gs
=='0' && (
s
[1]=='x' || s[1]=='X') && s[2]>32) {

26019 
iv®
;

26020 
	g”r
 = 
cimg_ssÿnf
(
s
 + 2,"%x%c",&
iv®
,&
£p
);

26021 ià(
	g”r
>0è
	gv®
 = ()
iv®
;

26022 } ià(*
	gs
>32) {

26023 
	g”r
 = 
cimg_ssÿnf
(
s
,"%lf%c",&
v®
,&
£p
);

26024 #ià
cimg_OS
==2

26027 ià(!
	g”r
 && (*
	gs
=='i' || *
s
=='I' || *s=='n' || *s=='N')) {

26028 ià(!
cimg
::
¡ºÿ£cmp
(
s
,"šf",3)è{ 
v®
 = cimg::
ty³
<>::
šf
(); 
	g”r
 = 1 + (s[3]!=0); }

26029 ià(!
	gcimg
::
¡ºÿ£cmp
(
s
,"Çn",3)è{ 
	gv®
 = 
cimg
::
ty³
<>::
Çn
(); 
	g”r
 = 1 + (s[3]!=0); }

26033 ià(
	g”r
<=0 || (
is_¡riù
 && 
”r
!=1)è 
cimg
::
ty³
<>::
Çn
();

26034 ià(
	gis_Ãg©ive
è
	gv®
 = -
v®
;

26035  
	gv®
;

26038 
mp_¡ršg
(
_cimg_m©h_·r£r
& 
mp
) {

26039 *cÚ¡ 
	g±rd
 = &
_mp_¬g
(1) + 1;

26040 cÚ¡ 
	gnb_¬gs
 = ()(
mp
.
İcode
[3] - 3)/2;

26041 
	gCImgLi¡
<
	gch¬T
> 
	g_¡r
;

26042 
	gCImg
<
	gch¬T
> 
	g™
;

26043 
	gn
 = 0;‚<
	gnb_¬gs
; ++n) {

26044 cÚ¡ 
	gsiz
 = ()
mp
.
İcode
[5 + 2*
n
];

26045 ià(
	gsiz
) {

26046 cÚ¡ *
	g±r
 = &
_mp_¬g
(4 + 2*
n
) + 1;

26047 
	gl
 = 0;

26048 
	gl
<
	gsiz
 && 
	g±r
[
l
]) ++l;

26049 
	gCImg
<
	gdoubËT
>(
	g±r
,
	gl
,1,1,1,
	gŒue
).
move_to
(
_¡r
);

26051 
	g™
.
assign
(24);

26052 
cimg_¢´štf
(
™
,™.
_width
,"%.17g",
_mp_¬g
(4 + 2*
n
));

26053 
	gCImg
<
	gch¬T
>::
¡ršg
(
™
,
çl£
,
Œue
).
move_to
(
_¡r
);

26056 cÚ¡ 
	gCImg
<
	gch¬T
> 
	g¡r
 = 
_¡r
>'x';

26057 cÚ¡ 
	gsizd
 = 
¡d
::
mš
(
¡r
.
_width
,()
mp
.
İcode
[2]);

26058 
	g¡d
::
mem£t
(
±rd
,0,
mp
.
İcode
[2]*());

26059 
	gk
 = 0; k<
	gsizd
; ++kè
	g±rd
[
k
] = ()
¡r
[k];

26060  
	gcimg
::
ty³
<>::
Çn
();

26063 
mp_sub
(
_cimg_m©h_·r£r
& 
mp
) {

26064  
_mp_¬g
(2) - _mp_arg(3);

26067 
mp_sum
(
_cimg_m©h_·r£r
& 
mp
) {

26068 cÚ¡ 
	gi_’d
 = ()
mp
.
İcode
[2];

26069 
	gv®
 = 
_mp_¬g
(3);

26070 
	gi
 = 4; i<
	gi_’d
; ++iè
	gv®
+=
_mp_¬g
(
i
);

26071  
	gv®
;

26074 
mp_sw­
(
_cimg_m©h_·r£r
& 
mp
) {

26075 cÚ¡ 
	gsiz
 = ()
mp
.
İcode
[3];

26076 ià(!
	gsiz
) {

26077 &
	g¬g1
 = 
_mp_¬g
(1), &
	g¬g2
 = _mp_arg(2);

26078 
	gcimg
::
sw­
(
¬g1
,
¬g2
);

26080 *cÚ¡ 
	g±r1
 = &
_mp_¬g
(1è+ 1, *cÚ¡ 
	g±r2
 = &_mp_arg(2) + 1;

26081 
	gk
 = 0; k<
	gsiz
; ++kè
	gcimg
::
sw­
(
±r1
[
k
],
±r2
[k]);

26083  
_mp_¬g
(1);

26086 
mp_n
(
_cimg_m©h_·r£r
& 
mp
) {

26087  
	g¡d
::
n
(
_mp_¬g
(2));

26090 
mp_nh
(
_cimg_m©h_·r£r
& 
mp
) {

26091  
	g¡d
::
nh
(
_mp_¬g
(2));

26094 
mp_Œaû
(
_cimg_m©h_·r£r
& 
mp
) {

26095 cÚ¡ *
	g±rs
 = &
_mp_¬g
(2) + 1;

26096 cÚ¡ 
	gk
 = ()
mp
.
İcode
[3];

26097  
	gCImg
<
	gdoubËT
>(
	g±rs
,
	gk
,k,1,1,
	gŒue
).
Œaû
();

26100 
mp_Œª¥o£
(
_cimg_m©h_·r£r
& 
mp
) {

26101 *
	g±rd
 = &
_mp_¬g
(1) + 1;

26102 cÚ¡ *
	g±rs
 = &
_mp_¬g
(2) + 1;

26104 
	gk
 = ()
mp
.
İcode
[3],

26105 
	gl
 = ()
mp
.
İcode
[4];

26106 
	gCImg
<
	gdoubËT
>(
	g±rd
,
	gl
,
	gk
,1,1,
	gŒue
èğ
CImg
<
doubËT
>(
±rs
,k,l,1,1,Œue).
g‘_Œª¥o£
();

26107  
	gcimg
::
ty³
<>::
Çn
();

26110 
mp_u
(
_cimg_m©h_·r£r
& 
mp
) {

26111  
	gcimg
::
¿nd
(
_mp_¬g
(2),_mp_¬g(3),&
mp
.
ºg
);

26114 
mp_ui2f
(
_cimg_m©h_·r£r
& 
mp
) {

26115  ()
	gcimg
::
ušt2æßt
(()
_mp_¬g
(2));

26118 
mp_uµ”ÿ£
(
_cimg_m©h_·r£r
& 
mp
) {

26119  
	gcimg
::
uµ”ÿ£
(
_mp_¬g
(2));

26122 
mp_v¬
(
_cimg_m©h_·r£r
& 
mp
) {

26123 cÚ¡ 
	gi_’d
 = ()
mp
.
İcode
[2];

26124 
	gCImg
<
	gdoubËT
> 
v®s
(
i_’d
 - 3);

26125 *
	gp
 = 
v®s
.
d©a
();

26126 
	gi
 = 3; i<
	gi_’d
; ++iè*(
	gp
++èğ
_mp_¬g
(
i
);

26127  
	gv®s
.
v¬Ÿnû
();

26130 
mp_veùÜ_cİy
(
_cimg_m©h_·r£r
& 
mp
) {

26131 
	g¡d
::
memıy
(&
_mp_¬g
(1è+ 1,&_mp_¬g(2è+ 1,()*
mp
.
İcode
[3]);

26132  
	gcimg
::
ty³
<>::
Çn
();

26135 
mp_veùÜ_üİ
(
_cimg_m©h_·r£r
& 
mp
) {

26136 *
	g±rd
 = &
_mp_¬g
(1) + 1;

26137 cÚ¡ *
	g±rs
 = &
_mp_¬g
(2) + 1;

26138 cÚ¡ 
lÚgT


26139 
	gËngth
 = (
lÚgT
)
mp
.
İcode
[3],

26140 
	g¡¬t
 = (
lÚgT
)
_mp_¬g
(4),

26141 
	gsubËngth
 = (
lÚgT
)
mp
.
İcode
[5],

26142 
	g¡•
 = (
lÚgT
)
_mp_¬g
(6);

26143 ià(
	g¡¬t
<0 || s¹ + 
	g¡•
*(
	gsubËngth
-1)>=
Ëngth
)

26144 
throw
 
CImgArgum’tExû±iÚ
("[" 
cimg_­²ame
 "_math_parser] CImg<%s>: Value‡ccessor '[]': "

26147 
mp
.
imgš
.
pix–_ty³
(),
Ëngth
,
¡¬t
,
subËngth
,
¡•
);

26148 
	g±rs
+=
¡¬t
;

26149 ià(
	g¡•
==1è
¡d
::
memıy
(
±rd
,
±rs
,
subËngth
*());

26150 
lÚgT
 
	gk
 = 0; k<
	gsubËngth
; ++kè{ *(
	g±rd
++èğ*
±rs
; 
	g±rs
+=
¡•
; }

26151  
	gcimg
::
ty³
<>::
Çn
();

26154 
mp_veùÜ_š™
(
_cimg_m©h_·r£r
& 
mp
) {

26156 
	g±rs
 = 4U,

26157 
	g±rd
 = ()
mp
.
İcode
[1] + 1,

26158 
	gsiz
 = ()
mp
.
İcode
[3];

26159 
	gmp
.
	gİcode
[2] - 4) {

26160 0 : 
¡d
::
mem£t
(
mp
.
mem
.
_d©a
 + 
±rd
,0,
siz
*()); ;

26161 1 : { cÚ¡ 
v®
 = 
_mp_¬g
(
±rs
); 
	gsiz
-->0è
	gmp
.
	gmem
[
±rd
++] = val; } ;

26162  : 
siz
-->0è{ 
mp
.
mem
[
±rd
++] = 
_mp_¬g
(
±rs
++); ià(
	g±rs
>=mp.
İcode
[2])…trs = 4U; }

26164  
	gcimg
::
ty³
<>::
Çn
();

26167 
mp_veùÜ_eq
(
_cimg_m©h_·r£r
& 
mp
) {

26169 *
	g±r1
 = &
_mp_¬g
(2) + 1,

26170 *
	g±r2
 = &
_mp_¬g
(4) + 1;

26171 
	gp1
 = ()
mp
.
İcode
[3], 
	gp2
 = ()mp.İcode[5], 
	gn
;

26172 cÚ¡ 
	gN
 = ()
_mp_¬g
(6);

26173 cÚ¡ 
boŞ
 
	gÿ£_£ns™ive
 = (boŞ)
_mp_¬g
(7);

26174 
boŞ
 
	g¡l_equ®
 = 
Œue
;

26175 
	gv®ue
;

26176 ià(!
	gN
è 
	gŒue
;

26179 ià(
	gN
<0) {

26180 ià(
	gp1
>0 && 
	gp2
>0) {

26181 ià(
	gp1
!=
p2
è 
çl£
;

26182 ià(
	gÿ£_£ns™ive
)

26183 
	g¡l_equ®
 && 
	gp1
--è¡l_equ® = *(
±r1
++)==*(
±r2
++);

26185 
	g¡l_equ®
 && 
	gp1
--)

26186 
	g¡l_equ®
 = 
cimg
::
low”ÿ£
(*(
±r1
++))==cimg::low”ÿ£(*(
±r2
++));

26187  
	g¡l_equ®
;

26188 } ià(
	gp1
>0 && !
	gp2
) {

26189 
	gv®ue
 = 
_mp_¬g
(4);

26190 ià(!
	gÿ£_£ns™ive
è
	gv®ue
 = 
cimg
::
low”ÿ£
(
v®ue
);

26191 
	g¡l_equ®
 && 
	gp1
--è¡l_equ® = *(
±r1
++)==
v®ue
;

26192  
	g¡l_equ®
;

26193 } ià(!
	gp1
 && 
	gp2
>0) {

26194 
	gv®ue
 = 
_mp_¬g
(2);

26195 ià(!
	gÿ£_£ns™ive
è
	gv®ue
 = 
cimg
::
low”ÿ£
(
v®ue
);

26196 
	g¡l_equ®
 && 
	gp2
--è¡l_equ® = *(
±r2
++)==
v®ue
;

26197  
	g¡l_equ®
;

26199 ià(
	gÿ£_£ns™ive
è 
_mp_¬g
(2)==_mp_arg(4);

26200  
	gcimg
::
low”ÿ£
(
_mp_¬g
(2))==
cimg
::lowercase(_mp_arg(4));

26205 ià(
	gp1
>0 && 
	gp2
>0) {

26206 
	gn
 = 
cimg
::
mš
(()
N
,
p1
,
p2
);

26207 ià(
	gÿ£_£ns™ive
)

26208 
	g¡l_equ®
 && 
	gn
--è¡l_equ® = *(
±r1
++)==(*
±r2
++);

26210 
	g¡l_equ®
 && 
	gn
--è¡l_equ® = 
cimg
::
low”ÿ£
(*(
±r1
++))==cimg::low”ÿ£(*(
±r2
++));

26211  
	g¡l_equ®
;

26212 } ià(
	gp1
>0 && !
	gp2
) {

26213 
	gn
 = 
¡d
::
mš
(()
N
,
p1
);

26214 
	gv®ue
 = 
_mp_¬g
(4);

26215 ià(!
	gÿ£_£ns™ive
è
	gv®ue
 = 
cimg
::
low”ÿ£
(
v®ue
);

26216 
	g¡l_equ®
 && 
	gn
--è¡l_equ® = *(
±r1
++)==
v®ue
;

26217  
	g¡l_equ®
;

26218 } ià(!
	gp1
 && 
	gp2
>0) {

26219 
	gn
 = 
¡d
::
mš
(()
N
,
p2
);

26220 
	gv®ue
 = 
_mp_¬g
(2);

26221 ià(!
	gÿ£_£ns™ive
è
	gv®ue
 = 
cimg
::
low”ÿ£
(
v®ue
);

26222 
	g¡l_equ®
 && 
	gn
--è¡l_equ® = *(
±r2
++)==
v®ue
;

26223  
	g¡l_equ®
;

26225 ià(
	gÿ£_£ns™ive
è 
_mp_¬g
(2)==_mp_arg(4);

26226  
	gcimg
::
low”ÿ£
(
_mp_¬g
(2))==
cimg
::lowercase(_mp_arg(4));

26229 
mp_veùÜ_Ë½
(
_cimg_m©h_·r£r
& 
mp
) {

26230 
	gsiz
 = ()
mp
.
İcode
[2];

26231 *
	g±rd
 = &
_mp_¬g
(1) + 1;

26233 *
	g±rs1
 = &
_mp_¬g
(3) + 1,

26234 *
	g±rs2
 = &
_mp_¬g
(4) + 1,

26235 
	gt
 = 
_mp_¬g
(5);

26236 
	gk
 = 0; k<
	gsiz
; ++kè
	g±rd
[
k
] = 
±rs1
[k]*(1-
t
è+ 
±rs2
[k]*t;

26237  
	gcimg
::
ty³
<>::
Çn
();

26240 
mp_veùÜ_off
(
_cimg_m©h_·r£r
& 
mp
) {

26242 
	g±r
 = ()
mp
.
İcode
[2] + 1,

26243 
	gsiz
 = ()
mp
.
İcode
[3];

26244 cÚ¡ 
	goff
 = ()
_mp_¬g
(4);

26245  
	goff
>=0 && 
off
<()
siz
?
mp
.
mem
[
±r
 + off]:
cimg
::
ty³
<>::
Çn
();

26248 
mp_veùÜ_m­_sv
(
_cimg_m©h_·r£r
& 
mp
) {

26250 
	gsiz
 = ()
mp
.
İcode
[2],

26251 
	g±rs
 = ()
mp
.
İcode
[5] + 1;

26252 *
	g±rd
 = &
_mp_¬g
(1) + 1;

26253 
mp_func
 
	gİ
 = (mp_func)
mp
.
İcode
[3];

26254 
	gCImg
<
	gulÚgT
> 
l_İcode
(4);

26255 
	gl_İcode
[2] = 
mp
.
İcode
[4];

26256 
	gl_İcode
.
sw­
(
mp
.
İcode
);

26257 
	gulÚgT
 &
	g¬gum’t2
 = 
mp
.
İcode
[3];

26258 
	gsiz
-->0è{ 
	g¬gum’t2
 = 
±rs
++; *(
	g±rd
++èğ(*
İ
)(
mp
); }

26259 
	gl_İcode
.
sw­
(
mp
.
İcode
);

26260  
	gcimg
::
ty³
<>::
Çn
();

26263 
mp_veùÜ_m­_v
(
_cimg_m©h_·r£r
& 
mp
) {

26265 
	gsiz
 = ()
mp
.
İcode
[2],

26266 
	g±rs
 = ()
mp
.
İcode
[4] + 1;

26267 *
	g±rd
 = &
_mp_¬g
(1) + 1;

26268 
mp_func
 
	gİ
 = (mp_func)
mp
.
İcode
[3];

26269 
	gCImg
<
	gulÚgT
> 
l_İcode
(1,3);

26270 
	gl_İcode
.
sw­
(
mp
.
İcode
);

26271 
	gulÚgT
 &
	g¬gum’t
 = 
mp
.
İcode
[2];

26272 
	gsiz
-->0è{ 
	g¬gum’t
 = 
±rs
++; *(
	g±rd
++èğ(*
İ
)(
mp
); }

26273 
	gl_İcode
.
sw­
(
mp
.
İcode
);

26274  
	gcimg
::
ty³
<>::
Çn
();

26277 
mp_veùÜ_m­_vs
(
_cimg_m©h_·r£r
& 
mp
) {

26279 
	gsiz
 = ()
mp
.
İcode
[2],

26280 
	g±rs
 = ()
mp
.
İcode
[4] + 1;

26281 *
	g±rd
 = &
_mp_¬g
(1) + 1;

26282 
mp_func
 
	gİ
 = (mp_func)
mp
.
İcode
[3];

26283 
	gCImg
<
	gulÚgT
> 
l_İcode
(1,4);

26284 
	gl_İcode
[3] = 
mp
.
İcode
[5];

26285 
	gl_İcode
.
sw­
(
mp
.
İcode
);

26286 
	gulÚgT
 &
	g¬gum’t1
 = 
mp
.
İcode
[2];

26287 
	gsiz
-->0è{ 
	g¬gum’t1
 = 
±rs
++; *(
	g±rd
++èğ(*
İ
)(
mp
); }

26288 
	gl_İcode
.
sw­
(
mp
.
İcode
);

26289  
	gcimg
::
ty³
<>::
Çn
();

26292 
mp_veùÜ_m­_vss
(
_cimg_m©h_·r£r
& 
mp
) {

26294 
	gsiz
 = ()
mp
.
İcode
[2],

26295 
	g±rs
 = ()
mp
.
İcode
[4] + 1;

26296 *
	g±rd
 = &
_mp_¬g
(1) + 1;

26297 
mp_func
 
	gİ
 = (mp_func)
mp
.
İcode
[3];

26298 
	gCImg
<
	gulÚgT
> 
l_İcode
(1,5);

26299 
	gl_İcode
[3] = 
mp
.
İcode
[5];

26300 
	gl_İcode
[4] = 
mp
.
İcode
[6];

26301 
	gl_İcode
.
sw­
(
mp
.
İcode
);

26302 
	gulÚgT
 &
	g¬gum’t1
 = 
mp
.
İcode
[2];

26303 
	gsiz
-->0è{ 
	g¬gum’t1
 = 
±rs
++; *(
	g±rd
++èğ(*
İ
)(
mp
); }

26304 
	gl_İcode
.
sw­
(
mp
.
İcode
);

26305  
	gcimg
::
ty³
<>::
Çn
();

26308 
mp_veùÜ_m­_vv
(
_cimg_m©h_·r£r
& 
mp
) {

26310 
	gsiz
 = ()
mp
.
İcode
[2],

26311 
	g±rs1
 = ()
mp
.
İcode
[4] + 1,

26312 
	g±rs2
 = ()
mp
.
İcode
[5] + 1;

26313 *
	g±rd
 = &
_mp_¬g
(1) + 1;

26314 
mp_func
 
	gİ
 = (mp_func)
mp
.
İcode
[3];

26315 
	gCImg
<
	gulÚgT
> 
l_İcode
(1,4);

26316 
	gl_İcode
.
sw­
(
mp
.
İcode
);

26317 
	gulÚgT
 &
	g¬gum’t1
 = 
mp
.
İcode
[2], &
	g¬gum’t2
 = mp.opcode[3];

26318 
	gsiz
-->0è{ 
	g¬gum’t1
 = 
±rs1
++; 
	g¬gum’t2
 = 
±rs2
++; *(
	g±rd
++èğ(*
İ
)(
mp
); }

26319 
	gl_İcode
.
sw­
(
mp
.
İcode
);

26320  
	gcimg
::
ty³
<>::
Çn
();

26323 
mp_veùÜ_Ãq
(
_cimg_m©h_·r£r
& 
mp
) {

26324  !
mp_veùÜ_eq
(
mp
);

26327 
mp_veùÜ_´št
(
_cimg_m©h_·r£r
& 
mp
) {

26328 cÚ¡ 
boŞ
 
	g´št_¡ršg
 = (boŞ)
mp
.
İcode
[4];

26329 
cimg_´agma_İ’mp
(
ü™iÿl
(
mp_veùÜ_´št
))

26331 
	gCImg
<
	gch¬T
> 
_ex´
(
mp
.
İcode
[2] - 5);

26332 cÚ¡ 
ulÚgT
 *
	g±rs
 = 
mp
.
İcode
.
_d©a
 + 5;

26333 
cimg_fÜ
(
_ex´
,
±rd
,è*
	g±rd
 = ()*(
±rs
++);

26334 
	gcimg
::
¡»Îsize
(
_ex´
);

26336 
	g±r
 = ()
mp
.
İcode
[1] + 1,

26337 
	gsiz0
 = ()
mp
.
İcode
[3],

26338 
	gsiz
 = 
siz0
;

26339 
	gcimg
::
mu‹x
(6);

26340 
	g¡d
::
årštf
(
cimg
::
ouut
(),"\n[" 
cimg_­²ame
 "_m©h_·r£r] % ğ[ ",
_ex´
.
_d©a
);

26341 
	gcouÁ
 = 0;

26342 
	gsiz
-->0) {

26343 ià(
	gcouÁ
>=64 && 
siz
>=64) {

26344 
¡d
::
årštf
(
cimg
::
ouut
(),"...,");

26345 
	g±r
 = ()
mp
.
İcode
[1] + 1 + 
siz0
 - 64;

26346 
	gsiz
 = 64;

26347 } 
	g¡d
::
årštf
(
cimg
::
ouut
(),"%.17g%s",
mp
.
mem
[
±r
++],
siz
?",":"");

26348 ++
	gcouÁ
;

26350 ià(
	g´št_¡ršg
) {

26351 
	gCImg
<
	gch¬T
> 
¡r
(
siz0
 + 1);

26352 
	g±r
 = ()
mp
.
İcode
[1] + 1;

26353 
	gk
 = 0; k<
	gsiz0
; ++kè
	g¡r
[
k
] = ()
mp
.
mem
[
±r
++];

26354 
	g¡r
[
siz0
] = 0;

26355 
	gcimg
::
¡»Îsize
(
¡r
,1024,
çl£
);

26356 
	g¡d
::
årštf
(
cimg
::
ouut
()," ] = '%s' (size: %u)",
¡r
.
_d©a
,
siz0
);

26357 } 
	g¡d
::
årštf
(
cimg
::
ouut
()," ] (size: %u)",
siz0
);

26358 
	g¡d
::
fæush
(
cimg
::
ouut
());

26359 
	gcimg
::
mu‹x
(6,0);

26361  
	gcimg
::
ty³
<>::
Çn
();

26364 
mp_veùÜ_»size
(
_cimg_m©h_·r£r
& 
mp
) {

26365 *cÚ¡ 
	g±rd
 = &
_mp_¬g
(1) + 1;

26366 cÚ¡ 
	gp1
 = ()
mp
.
İcode
[2], 
	gp2
 = ()mp.opcode[4];

26368 
	gš‹½Ş©iÚ
 = ()
_mp_¬g
(5),

26369 
	gbound¬y_cÚd™iÚs
 = ()
_mp_¬g
(6);

26370 ià(
	gp2
) {

26371 cÚ¡ *cÚ¡ 
	g±rs
 = &
_mp_¬g
(3) + 1;

26372 
	gCImg
<
	gdoubËT
>(
	g±rd
,
	gp1
,1,1,1,
	gŒue
èğ
CImg
<
doubËT
>(
±rs
,
	gp2
,1,1,1,true).

26373 
g‘_»size
(
p1
,1,1,1,
š‹½Ş©iÚ
,
bound¬y_cÚd™iÚs
);

26375 cÚ¡ 
	gv®ue
 = 
_mp_¬g
(3);

26376 
	gCImg
<
	gdoubËT
>(
	g±rd
,
	gp1
,1,1,1,
	gŒue
èğ
CImg
<
doubËT
>(1,1,1,1,
	gv®ue
).
»size
(
p1
,1,1,1,
š‹½Ş©iÚ
,

26377 
bound¬y_cÚd™iÚs
);

26379  
	gcimg
::
ty³
<>::
Çn
();

26382 
mp_veùÜ_»v”£
(
_cimg_m©h_·r£r
& 
mp
) {

26383 *cÚ¡ 
	g±rd
 = &
_mp_¬g
(1) + 1;

26384 cÚ¡ *cÚ¡ 
	g±rs
 = &
_mp_¬g
(2) + 1;

26385 cÚ¡ 
	gp1
 = ()
mp
.
İcode
[3];

26386 
	gCImg
<
	gdoubËT
>(
	g±rd
,
	gp1
,1,1,1,
	gŒue
èğ
CImg
<
doubËT
>(
±rs
,p1,1,1,1,Œue).
g‘_mœrÜ
('x');

26387  
	gcimg
::
ty³
<>::
Çn
();

26390 
mp_veùÜ_£t_off
(
_cimg_m©h_·r£r
& 
mp
) {

26392 
	g±r
 = ()
mp
.
İcode
[2] + 1,

26393 
	gsiz
 = ()
mp
.
İcode
[3];

26394 cÚ¡ 
	goff
 = ()
_mp_¬g
(4);

26395 ià(
	goff
>=0 && 
off
<()
siz
è
mp
.
mem
[
±r
 + off] = 
_mp_¬g
(1);

26396  
_mp_¬g
(1);

26399 
	#_cimg_mp_vfunc
(
func
) \

26400 cÚ¡ 
lÚgT
 
sizd
 = (lÚgT)
mp
.
İcode
[2];\

26401 cÚ¡ 
nb¬gs
 = ()(
mp
.
İcode
[3] - 4)/2; \

26402 *cÚ¡ 
±rd
 = &
	`_mp_¬g
(1è+ (
sizd
?1:0); \

26403 
	`cimg_´agma_İ’mp
(
·¿Î–
 
	`cimg_İ’mp_if_size
(
sizd
,256)) \

26404 { 
CImg
<
doubËT
> 
	`vec
(
nb¬gs
); 
»s
; \

26405 
	`cimg_´agma_İ’mp
(è
lÚgT
 
k
 = 
sizd
?sizd - 1:0; k>=0; --k) { \

26406 
	`cimg_fÜX
(
vec
,
n
èvec[n] = *(&
	`_mp_¬g
(4 + 2*nè+ (
k
+1)*(
mp
.
İcode
[4 + 2*n + 1]?1:0)); \

26407 
func
; 
±rd
[
k
] = 
»s
; \

26409  
sizd
?
cimg
::
ty³
<>::
	`Çn
():*
±rd
;

	)

26411 
_mp_v¬gkth
(
CImg
<
doubËT
>& 
vec
) {

26412 cÚ¡ 
	gv®
 = (+
vec
).
g‘_sh¬ed_pošts
(1,vec.
width
() - 1).

26413 
kth_sm®Ë¡
((
ulÚgT
)
cimg
::
cut
((
lÚgT
)*
vec
 - 1,ÖÚgT)0,ÖÚgT)vec.
width
() - 2));

26414 
cimg_fÜ_šX
(
vec
,1,vec.
width
()-1,
šd
èià(
	gvec
[šd]==
v®
)  ind - 1.;

26418 
mp_v¬gkth
(
_cimg_m©h_·r£r
& 
mp
) {

26419 
_cimg_mp_vfunc
(
»s
 = 
_mp_v¬gkth
(
vec
));

26422 
mp_v¬gmax
(
_cimg_m©h_·r£r
& 
mp
) {

26423 
_cimg_mp_vfunc
(
»s
 = ()(&
vec
.
max
(è- vec.
d©a
()));

26426 
mp_v¬gmaxabs
(
_cimg_m©h_·r£r
& 
mp
) {

26427 
_cimg_mp_vfunc
(
»s
 = ()(&
vec
.
maxabs
(è- vec.
d©a
()));

26430 
mp_v¬gmš
(
_cimg_m©h_·r£r
& 
mp
) {

26431 
_cimg_mp_vfunc
(
»s
 = ()(&
vec
.
mš
(è- vec.
d©a
()));

26434 
mp_v¬gmšabs
(
_cimg_m©h_·r£r
& 
mp
) {

26435 
_cimg_mp_vfunc
(
»s
 = ()(&
vec
.
mšabs
(è- vec.
d©a
()));

26438 
mp_vavg
(
_cimg_m©h_·r£r
& 
mp
) {

26439 
_cimg_mp_vfunc
(
»s
 = 
vec
.
m—n
());

26442 
mp_vkth
(
_cimg_m©h_·r£r
& 
mp
) {

26443 
_cimg_mp_vfunc
(
»s
 = 
vec
.
g‘_sh¬ed_pošts
(1,vec.
width
() - 1).

26444 
kth_sm®Ë¡
((
ulÚgT
)
cimg
::
cut
((
lÚgT
)*
vec
 - 1,ÖÚgT)0,ÖÚgT)vec.
width
() - 2)));

26447 
mp_vmax
(
_cimg_m©h_·r£r
& 
mp
) {

26448 
_cimg_mp_vfunc
(
»s
 = 
vec
.
max
());

26451 
mp_vmaxabs
(
_cimg_m©h_·r£r
& 
mp
) {

26452 
_cimg_mp_vfunc
(
»s
 = 
vec
.
maxabs
());

26455 
mp_vmedŸn
(
_cimg_m©h_·r£r
& 
mp
) {

26456 
_cimg_mp_vfunc
(
»s
 = 
vec
.
medŸn
());

26459 
mp_vmš
(
_cimg_m©h_·r£r
& 
mp
) {

26460 
_cimg_mp_vfunc
(
»s
 = 
vec
.
mš
());

26463 
mp_vmšabs
(
_cimg_m©h_·r£r
& 
mp
) {

26464 
_cimg_mp_vfunc
(
»s
 = 
vec
.
mšabs
());

26467 
mp_v´od
(
_cimg_m©h_·r£r
& 
mp
) {

26468 
_cimg_mp_vfunc
(
»s
 = 
vec
.
´oduù
());

26471 
mp_v¡d
(
_cimg_m©h_·r£r
& 
mp
) {

26472 
_cimg_mp_vfunc
(
»s
 = 
¡d
::
sq¹
(
vec
.
g‘_¡©s
()[3]));

26475 
mp_vsum
(
_cimg_m©h_·r£r
& 
mp
) {

26476 
_cimg_mp_vfunc
(
»s
 = 
vec
.
sum
());

26479 
mp_vv¬
(
_cimg_m©h_·r£r
& 
mp
) {

26480 
_cimg_mp_vfunc
(
»s
 = 
vec
.
g‘_¡©s
()[3]);

26483 
mp_vtos
(
_cimg_m©h_·r£r
& 
mp
) {

26484 *
	g±rd
 = &
_mp_¬g
(1) + 1;

26486 
	gsizd
 = ()
mp
.
İcode
[2],

26487 
	gsizs
 = ()
mp
.
İcode
[4];

26488 
	g¡d
::
mem£t
(
±rd
,0,
sizd
*());

26489 cÚ¡ 
	gnb_dig™s
 = ()
_mp_¬g
(5);

26490 
	gCImg
<
	gch¬T
> 
fÜm©
(8);

26491 
	gnb_dig™s
) {

26492 -1 : 
¡d
::
¡rıy
(
fÜm©
,"%g"); ;

26493 0 : 
¡d
::
¡rıy
(
fÜm©
,"%.17g"); ;

26494  : 
cimg_¢´štf
(
fÜm©
,fÜm©.
_width
,"%%.%dg",
nb_dig™s
);

26496 
	gCImg
<
	gch¬T
> 
	g¡r
;

26497 ià(
	gsizs
) {

26498 cÚ¡ *
	g±rs
 = &
_mp_¬g
(3) + 1;

26499 
	gCImg
<
	gdoubËT
>(
	g±rs
,
	gsizs
,1,1,1,
	gŒue
).
v®ue_¡ršg
(',',
sizd
 + 1,
fÜm©
).
move_to
(
¡r
);

26501 
	g¡r
.
assign
(
sizd
 + 1);

26502 
cimg_¢´štf
(
¡r
,
sizd
 + 1,
fÜm©
,
_mp_¬g
(3));

26504 cÚ¡ 
	gl
 = 
¡d
::
mš
(
sizd
,()¡d::
¡¾’
(
¡r
) + 1);

26505 
	gCImg
<
	gdoubËT
>(
	g±rd
,
	gl
,1,1,1,
	gŒue
èğ
¡r
.
g‘_sh¬ed_pošts
(0,
l
 - 1);

26506  
	gcimg
::
ty³
<>::
Çn
();

26509 
mp_whe
(
_cimg_m©h_·r£r
& 
mp
) {

26510 cÚ¡ 
ulÚgT


26511 
	gmem_body
 = 
mp
.
İcode
[1],

26512 
	gmem_cÚd
 = 
mp
.
İcode
[2];

26513 cÚ¡ 
	gCImg
<
	gulÚgT
>

26514 *cÚ¡ 
	gp_cÚd
 = ++
mp
.
p_code
,

26515 *cÚ¡ 
	gp_body
 = 
p_cÚd
 + 
mp
.
İcode
[3],

26516 *cÚ¡ 
	gp_’d
 = 
p_body
 + 
mp
.
İcode
[4];

26517 cÚ¡ 
	gvsiz
 = ()
mp
.
İcode
[5];

26518 
boŞ
 
	gis_cÚd
 = 
çl£
;

26519 ià(
	gmp
.
	gİcode
[6]) {

26520 ià(
	gvsiz
è
	gCImg
<
	gdoubËT
>(&
	gmp
.
	gmem
[
mem_body
] + 1,vsiz,1,1,1,
	gŒue
).
fl
(
cimg
::
ty³
<>::
Çn
());

26521 
	gmp
.
	gmem
[
mem_body
] = 
cimg
::
ty³
<>::
Çn
();

26523 ià(
	gmp
.
	gİcode
[7]èmp.
	gmem
[
mem_cÚd
] = 0;

26524 cÚ¡ 
	g_b»ak_ty³
 = 
mp
.
b»ak_ty³
;

26525 
	gmp
.
	gb»ak_ty³
 = 0;

26527 
	gmp
.
	gp_code
 = 
p_cÚd
; mp.p_code<
	gp_body
; ++mp.p_code) {

26528 
	gmp
.
	gİcode
.
	g_d©a
 = 
mp
.
p_code
->
_d©a
;

26529 cÚ¡ 
ulÚgT
 
	grg‘
 = 
mp
.
İcode
[1];

26530 
	gmp
.
	gmem
[
rg‘
] = 
_cimg_mp_defunc
(
mp
);

26532 ià(
	gmp
.
	gb»ak_ty³
==1) ;

26533 
	gis_cÚd
 = (
boŞ
)
mp
.
mem
[
mem_cÚd
];

26534 ià(
	gis_cÚd
 && !
	gmp
.
	gb»ak_ty³
)

26535 
	gmp
.
	gp_code
 = 
p_body
; mp.p_code<
	gp_’d
; ++mp.p_code) {

26536 
	gmp
.
	gİcode
.
	g_d©a
 = 
mp
.
p_code
->
_d©a
;

26537 cÚ¡ 
ulÚgT
 
	grg‘
 = 
mp
.
İcode
[1];

26538 
	gmp
.
	gmem
[
rg‘
] = 
_cimg_mp_defunc
(
mp
);

26540 ià(
	gmp
.
	gb»ak_ty³
==1è; ià(mp.b»ak_ty³==2è
mp
.
b»ak_ty³
 = 0;

26541 } 
	gis_cÚd
);

26543 
	gmp
.
	gb»ak_ty³
 = 
_b»ak_ty³
;

26544 
	gmp
.
	gp_code
 = 
p_’d
 - 1;

26545  
	gmp
.
	gmem
[
mem_body
];

26548 
mp_Ioff
(
_cimg_m©h_·r£r
& 
mp
) {

26549 *
	g±rd
 = &
_mp_¬g
(1) + 1;

26551 
	gbound¬y_cÚd™iÚs
 = ()
_mp_¬g
(3),

26552 
	gvsiz
 = ()
mp
.
İcode
[4];

26553 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
imgš
;

26554 cÚ¡ 
lÚgT


26555 
	goff
 = (
lÚgT
)
_mp_¬g
(2),

26556 
	gwhd
 = (
lÚgT
)
img
.
width
()*img.
height
()*img.
d•th
();

26557 cÚ¡ 
T
 *
	g±rs
;

26558 ià(
	goff
>=0 && 
off
<
whd
) {

26559 
±rs
 = &
img
[
off
];

26560 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ*
±rs
; 
	g±rs
+=
whd
; }

26561  
	gcimg
::
ty³
<>::
Çn
();

26563 ià(
	gimg
.
	g_d©a
è
	gbound¬y_cÚd™iÚs
) {

26565 cÚ¡ 
lÚgT
 
whd2
 = 2*
whd
, 
	gmoff
 = 
cimg
::
mod
(
off
,whd2);

26566 
	g±rs
 = &
img
[
moff
<
whd
?moff:
whd2
 - moff - 1];

26567 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ*
±rs
; 
	g±rs
+=
whd
; }

26568  
	gcimg
::
ty³
<>::
Çn
();

26571 
±rs
 = &
img
[
cimg
::
mod
(
off
,
whd
)];

26572 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ*
±rs
; 
	g±rs
+=
whd
; }

26573  
	gcimg
::
ty³
<>::
Çn
();

26575 
±rs
 = 
off
<0?&
img
[0]:&img[
whd
 - 1];

26576 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ*
±rs
; 
	g±rs
+=
whd
; }

26577  
	gcimg
::
ty³
<>::
Çn
();

26579 
¡d
::
mem£t
(
±rd
,0,
vsiz
*());

26580  
	gcimg
::
ty³
<>::
Çn
();

26582 
	g¡d
::
mem£t
(
±rd
,0,
vsiz
*());

26583  
	gcimg
::
ty³
<>::
Çn
();

26586 
mp_Ixyz
(
_cimg_m©h_·r£r
& 
mp
) {

26587 *
	g±rd
 = &
_mp_¬g
(1) + 1;

26589 
	gš‹½Ş©iÚ
 = ()
_mp_¬g
(5),

26590 
	gbound¬y_cÚd™iÚs
 = ()
_mp_¬g
(6),

26591 
	gvsiz
 = ()
mp
.
İcode
[7];

26592 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
imgš
;

26593 cÚ¡ 
	gx
 = 
_mp_¬g
(2), 
	gy
 = _mp_¬g(3), 
	gz
 = _mp_arg(4);

26594 cÚ¡ 
ulÚgT
 
	gwhd
 = (ulÚgT)
img
.
_width
*img.
_height
*img.
_d•th
;

26595 cÚ¡ 
T
 *
	g±rs
;

26596 
	gš‹½Ş©iÚ
) {

26598 
bound¬y_cÚd™iÚs
) {

26601 
w2
 = 2.f*
img
.
width
(), 
	gh2
 = 2.f*img.
height
(), 
	gd2
 = 2.f*img.
d•th
(),

26602 
	gmx
 = 
cimg
::
mod
(()
x
,
w2
), 
	gmy
 = cimg::mod(()
y
,
h2
), 
	gmz
 = cimg::mod(()
z
,
d2
),

26603 
	gcx
 = 
mx
<
img
.
width
()?mx:
w2
 - mx - 1,

26604 
	gcy
 = 
my
<
img
.
height
()?my:
h2
 - my - 1,

26605 
	gcz
 = 
mz
<
img
.
d•th
()?mz:
d2
 - mz - 1;

26606 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
_cubic_©XYZ
(
cx
,
cy
,
cz
,c);

26609 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
_cubic_©XYZ_p
(()
x
,()
y
,()
z
,c);

26612 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
_cubic_©XYZ
(()
x
,()
y
,()
z
,c);

26615 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
cubic_©XYZ
(()
x
,()
y
,()
z
,c,(
T
)0);

26618 
bound¬y_cÚd™iÚs
) {

26621 
w2
 = 2.f*
img
.
width
(), 
	gh2
 = 2.f*img.
height
(), 
	gd2
 = 2.f*img.
d•th
(),

26622 
	gmx
 = 
cimg
::
mod
(()
x
,
w2
), 
	gmy
 = cimg::mod(()
y
,
h2
), 
	gmz
 = cimg::mod(()
z
,
d2
),

26623 
	gcx
 = 
mx
<
img
.
width
()?mx:
w2
 - mx - 1,

26624 
	gcy
 = 
my
<
img
.
height
()?my:
h2
 - my - 1,

26625 
	gcz
 = 
mz
<
img
.
d•th
()?mz:
d2
 - mz - 1;

26626 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
_lš—r_©XYZ
(
cx
,
cy
,
cz
,c);

26629 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
_lš—r_©XYZ_p
(()
x
,()
y
,()
z
,c);

26632 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
_lš—r_©XYZ
(()
x
,()
y
,()
z
,c);

26635 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
lš—r_©XYZ
(()
x
,()
y
,()
z
,c,(
T
)0);

26638 
bound¬y_cÚd™iÚs
) {

26641 
w2
 = 2*
img
.
width
(), 
	gh2
 = 2*img.
height
(), 
	gd2
 = 2*img.
d•th
(),

26642 
	gmx
 = 
cimg
::
mod
(()
x
,
w2
), 
	gmy
 = cimg::mod(()
y
,
h2
), 
	gmz
 = cimg::mod(()
z
,
d2
),

26643 
	gcx
 = 
mx
<
img
.
width
()?mx:
w2
 - mx - 1,

26644 
	gcy
 = 
my
<
img
.
height
()?my:
h2
 - my - 1,

26645 
	gcz
 = 
mz
<
img
.
d•th
()?mz:
d2
 - mz - 1;

26646 
	g±rs
 = &
img
(
cx
,
cy
,
cz
);

26647 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ()*
±rs
; 
	g±rs
+=
whd
; }

26651 
cx
 = ()
cimg
::
mod
(
x
,()
img
.
_width
),

26652 
	gcy
 = ()
cimg
::
mod
(
y
,()
img
.
_height
),

26653 
	gcz
 = ()
cimg
::
mod
(
z
,()
img
.
_d•th
);

26654 
	g±rs
 = &
img
(
cx
,
cy
,
cz
);

26655 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ()*
±rs
; 
	g±rs
+=
whd
; }

26658 
±rs
 = &
img
.
_©XYZ
(()
x
,()
y
,()
z
);

26659 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ()*
±rs
; 
	g±rs
+=
whd
; }

26662 ià(
img
.
cÚšsXYZC
(()
x
,()
y
,()
z
)) {

26663 
	g±rs
 = &
img
(()
x
,()
y
,()
z
);

26664 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ()*
±rs
; 
	g±rs
+=
whd
; }

26665 } 
	g¡d
::
mem£t
(
±rd
,0,
vsiz
*());

26668  
	gcimg
::
ty³
<>::
Çn
();

26671 
mp_Joff
(
_cimg_m©h_·r£r
& 
mp
) {

26672 *
	g±rd
 = &
_mp_¬g
(1) + 1;

26674 
	gbound¬y_cÚd™iÚs
 = ()
_mp_¬g
(3),

26675 
	gvsiz
 = ()
mp
.
İcode
[4];

26676 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
imgš
;

26678 
	gox
 = ()
mp
.
mem
[
_cimg_mp_¦Ù_x
],

26679 
	goy
 = ()
mp
.
mem
[
_cimg_mp_¦Ù_y
],

26680 
	goz
 = ()
mp
.
mem
[
_cimg_mp_¦Ù_z
];

26681 cÚ¡ 
lÚgT


26682 
	goff
 = 
img
.
off£t
(
ox
,
oy
,
oz
è+ (
	glÚgT
)
_mp_¬g
(2),

26683 
	gwhd
 = (
lÚgT
)
img
.
width
()*img.
height
()*img.
d•th
();

26684 cÚ¡ 
T
 *
	g±rs
;

26685 ià(
	goff
>=0 && 
off
<
whd
) {

26686 
±rs
 = &
img
[
off
];

26687 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ*
±rs
; 
	g±rs
+=
whd
; }

26688  
	gcimg
::
ty³
<>::
Çn
();

26690 ià(
	gimg
.
	g_d©a
è
	gbound¬y_cÚd™iÚs
) {

26692 cÚ¡ 
lÚgT
 
whd2
 = 2*
whd
, 
	gmoff
 = 
cimg
::
mod
(
off
,whd2);

26693 
	g±rs
 = &
img
[
moff
<
whd
?moff:
whd2
 - moff - 1];

26694 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ*
±rs
; 
	g±rs
+=
whd
; }

26695  
	gcimg
::
ty³
<>::
Çn
();

26698 
±rs
 = &
img
[
cimg
::
mod
(
off
,
whd
)];

26699 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ*
±rs
; 
	g±rs
+=
whd
; }

26700  
	gcimg
::
ty³
<>::
Çn
();

26702 
±rs
 = 
off
<0?&
img
[0]:&img[
whd
 - 1];

26703 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ*
±rs
; 
	g±rs
+=
whd
; }

26704  
	gcimg
::
ty³
<>::
Çn
();

26706 
¡d
::
mem£t
(
±rd
,0,
vsiz
*());

26707  
	gcimg
::
ty³
<>::
Çn
();

26709 
	g¡d
::
mem£t
(
±rd
,0,
vsiz
*());

26710  
	gcimg
::
ty³
<>::
Çn
();

26713 
mp_Jxyz
(
_cimg_m©h_·r£r
& 
mp
) {

26714 *
	g±rd
 = &
_mp_¬g
(1) + 1;

26716 
	gš‹½Ş©iÚ
 = ()
_mp_¬g
(5),

26717 
	gbound¬y_cÚd™iÚs
 = ()
_mp_¬g
(6),

26718 
	gvsiz
 = ()
mp
.
İcode
[7];

26719 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
mp
.
imgš
;

26721 
	gox
 = 
mp
.
mem
[
_cimg_mp_¦Ù_x
], 
	goy
 = mp.mem[
_cimg_mp_¦Ù_y
], 
	goz
 = mp.mem[
_cimg_mp_¦Ù_z
],

26722 
	gx
 = 
ox
 + 
_mp_¬g
(2), 
	gy
 = 
oy
 + _mp_¬g(3), 
	gz
 = 
oz
 + _mp_arg(4);

26723 cÚ¡ 
ulÚgT
 
	gwhd
 = (ulÚgT)
img
.
_width
*img.
_height
*img.
_d•th
;

26724 cÚ¡ 
T
 *
	g±rs
;

26725 
	gš‹½Ş©iÚ
) {

26727 
bound¬y_cÚd™iÚs
) {

26730 
w2
 = 2.f*
img
.
width
(), 
	gh2
 = 2.f*img.
height
(), 
	gd2
 = 2.f*img.
d•th
(),

26731 
	gmx
 = 
cimg
::
mod
(()
x
,
w2
), 
	gmy
 = cimg::mod(()
y
,
h2
), 
	gmz
 = cimg::mod(()
z
,
d2
),

26732 
	gcx
 = 
mx
<
img
.
width
()?mx:
w2
 - mx - 1,

26733 
	gcy
 = 
my
<
img
.
height
()?my:
h2
 - my - 1,

26734 
	gcz
 = 
mz
<
img
.
d•th
()?mz:
d2
 - mz - 1;

26735 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
_cubic_©XYZ
(
cx
,
cy
,
cz
,c);

26738 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
_cubic_©XYZ_p
(()
x
,()
y
,()
z
,c);

26741 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
_cubic_©XYZ
(()
x
,()
y
,()
z
,c);

26744 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
cubic_©XYZ
(()
x
,()
y
,()
z
,c,(
T
)0);

26747 
bound¬y_cÚd™iÚs
) {

26750 
w2
 = 2.f*
img
.
width
(), 
	gh2
 = 2.f*img.
height
(), 
	gd2
 = 2.f*img.
d•th
(),

26751 
	gmx
 = 
cimg
::
mod
(()
x
,
w2
), 
	gmy
 = cimg::mod(()
y
,
h2
), 
	gmz
 = cimg::mod(()
z
,
d2
),

26752 
	gcx
 = 
mx
<
img
.
width
()?mx:
w2
 - mx - 1,

26753 
	gcy
 = 
my
<
img
.
height
()?my:
h2
 - my - 1,

26754 
	gcz
 = 
mz
<
img
.
d•th
()?mz:
d2
 - mz - 1;

26755 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
_lš—r_©XYZ
(
cx
,
cy
,
cz
,c);

26758 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
_lš—r_©XYZ_p
(()
x
,()
y
,()
z
,c);

26761 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
_lš—r_©XYZ
(()
x
,()
y
,()
z
,c);

26764 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è*(
	g±rd
++èğ()img.
lš—r_©XYZ
(()
x
,()
y
,()
z
,c,(
T
)0);

26767 
bound¬y_cÚd™iÚs
) {

26770 
w2
 = 2*
img
.
width
(), 
	gh2
 = 2*img.
height
(), 
	gd2
 = 2*img.
d•th
(),

26771 
	gmx
 = 
cimg
::
mod
(()
x
,
w2
), 
	gmy
 = cimg::mod(()
y
,
h2
), 
	gmz
 = cimg::mod(()
z
,
d2
),

26772 
	gcx
 = 
mx
<
img
.
width
()?mx:
w2
 - mx - 1,

26773 
	gcy
 = 
my
<
img
.
height
()?my:
h2
 - my - 1,

26774 
	gcz
 = 
mz
<
img
.
d•th
()?mz:
d2
 - mz - 1;

26775 
	g±rs
 = &
img
(
cx
,
cy
,
cz
);

26776 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ()*
±rs
; 
	g±rs
+=
whd
; }

26780 
cx
 = ()
cimg
::
mod
(
x
,()
img
.
_width
),

26781 
	gcy
 = ()
cimg
::
mod
(
y
,()
img
.
_height
),

26782 
	gcz
 = ()
cimg
::
mod
(
z
,()
img
.
_d•th
);

26783 
	g±rs
 = &
img
(
cx
,
cy
,
cz
);

26784 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ()*
±rs
; 
	g±rs
+=
whd
; }

26787 
±rs
 = &
img
.
_©XYZ
(()
x
,()
y
,()
z
);

26788 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ()*
±rs
; 
	g±rs
+=
whd
; }

26791 ià(
img
.
cÚšsXYZC
(()
x
,()
y
,()
z
)) {

26792 
	g±rs
 = &
img
(()
x
,()
y
,()
z
);

26793 
cimg_fÜ_šC
(
img
,0,
vsiz
 - 1,
c
è{ *(
	g±rd
++èğ()*
±rs
; 
	g±rs
+=
whd
; }

26794 } 
	g¡d
::
mem£t
(
±rd
,0,
vsiz
*());

26797  
	gcimg
::
ty³
<>::
Çn
();

26800 #undeà
_mp_¬g


26804 
	#_cimg_ü—‹_poštwi£_funùiÚs
(
Çme
,
func
,
mš_size
) \

26805 
CImg
<
T
>& 
	`Çme
() { \

26806 ià(
	`is_em±y
()è *
this
; \

26807 
	`cimg_İ’mp_fÜ
(*
this
,
	`func
(()*
±r
),
mš_size
); \

26808  *
this
; \

26810 
CImg
<
Tæßt
> 
g‘_
##
	`Çme
() const { \

26811  
CImg
<
Tæßt
>(*
this
,
çl£
).
	`Çme
(); \

26812 }

	)

26827 
_cimg_ü—‹_poštwi£_funùiÚs
(
sqr
,
cimg
::sqr,524288)

26842 
_cimg_ü—‹_poštwi£_funùiÚs
(
sq¹
,
¡d
::sqrt,8192)

26851 
_cimg_ü—‹_poštwi£_funùiÚs
(
exp
,
¡d
::exp,4096)

26861 
_cimg_ü—‹_poštwi£_funùiÚs
(
log
,
¡d
::log,262144)

26871 
_cimg_ü—‹_poštwi£_funùiÚs
(
log2
,
cimg
::log2,4096)

26881 
_cimg_ü—‹_poštwi£_funùiÚs
(
log10
,
¡d
::log10,4096)

26890 
_cimg_ü—‹_poštwi£_funùiÚs
(
abs
,
cimg
::abs,524288)

26904 
_cimg_ü—‹_poštwi£_funùiÚs
(
sign
,
cimg
::sign,32768)

26914 
_cimg_ü—‹_poštwi£_funùiÚs
(
cos
,
¡d
::cos,8192)

26924 
_cimg_ü—‹_poštwi£_funùiÚs
(
sš
,
¡d
::sin,8192)

26935 
_cimg_ü—‹_poštwi£_funùiÚs
(
sšc
,
cimg
::sinc,2048)

26945 
_cimg_ü—‹_poštwi£_funùiÚs
(
n
,
¡d
::tan,2048)

26955 
_cimg_ü—‹_poštwi£_funùiÚs
(
cosh
,
¡d
::cosh,2048)

26965 
_cimg_ü—‹_poštwi£_funùiÚs
(
sšh
,
¡d
::sinh,2048)

26975 
_cimg_ü—‹_poštwi£_funùiÚs
(
nh
,
¡d
::tanh,2048)

26985 
_cimg_ü—‹_poštwi£_funùiÚs
(
acos
,
¡d
::acos,8192)

26995 
_cimg_ü—‹_poštwi£_funùiÚs
(
asš
,
¡d
::asin,8192)

27005 
_cimg_ü—‹_poštwi£_funùiÚs
(
©ª
,
¡d
::atan,8192)

27024 
	g‹m¶©e
<
ty³Çme
 
	gt
>

27025 
	gCImg
<
	gT
>& 
©ª2
(cÚ¡ 
CImg
<
t
>& 
img
) {

27026 cÚ¡ 
ulÚgT
 
	gsiz
 = 
size
(), 
	gisiz
 = 
img
.size();

27027 ià(
	gsiz
 && 
	gisiz
) {

27028 ià(
is_ov”Ïµed
(
img
)è 
©ª2
(+img);

27029 
T
 *
	g±rd
 = 
_d©a
, *cÚ¡ 
	g±»
 = _d©¨+ 
siz
;

27030 ià(
	gsiz
>
	gisiz
è
ulÚgT
 
	gn
 = 
siz
/
isiz
;‚; --n)

27031 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_’d
 = 
±rs
 + 
isiz
;…Œs<±rs_’d; ++
	g±rd
)

27032 *
	g±rd
 = (
T
)
¡d
::
©ª2
(()*
±rd
,()*(
±rs
++));

27033 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±»
; ++±rdè*±rd = (
T
)
¡d
::
©ª2
(()*
±rd
,()*(
±rs
++));

27035  *
	gthis
;

27039 
	g‹m¶©e
<
ty³Çme
 
	gt
>

27040 
	gCImg
<
	gTæßt
> 
g‘_©ª2
(cÚ¡ 
CImg
<
t
>& 
img
) const {

27041  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
).
©ª2
(
img
);

27052 
_cimg_ü—‹_poštwi£_funùiÚs
(
acosh
,
cimg
::acosh,8192)

27062 
_cimg_ü—‹_poštwi£_funùiÚs
(
asšh
,
cimg
::asinh,8192)

27072 
_cimg_ü—‹_poštwi£_funùiÚs
(
©ªh
,
cimg
::atanh,8192)

27091 
	g‹m¶©e
<
ty³Çme
 
	gt
>

27092 
	gCImg
<
	gT
>& 
mul
(cÚ¡ 
CImg
<
t
>& 
img
) {

27093 cÚ¡ 
ulÚgT
 
	gsiz
 = 
size
(), 
	gisiz
 = 
img
.size();

27094 ià(
	gsiz
 && 
	gisiz
) {

27095 ià(
is_ov”Ïµed
(
img
)è 
mul
(+img);

27096 
T
 *
	g±rd
 = 
_d©a
, *cÚ¡ 
	g±»
 = _d©¨+ 
siz
;

27097 ià(
	gsiz
>
	gisiz
è
ulÚgT
 
	gn
 = 
siz
/
isiz
;‚; --n)

27098 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_’d
 = 
±rs
 + 
isiz
;…Œs<±rs_’d; ++
	g±rd
)

27099 *
	g±rd
 = (
T
)(*
±rd
 * *(
±rs
++));

27100 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±»
; ++±rdè*±rd = (
T
)(*
±rd
 * *(
±rs
++));

27102  *
	gthis
;

27106 
	g‹m¶©e
<
ty³Çme
 
	gt
>

27107 
	gCImg
<
	g_cimg_Tt
> 
g‘_mul
(cÚ¡ 
CImg
<
t
>& 
img
) const {

27108  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
,
	gçl£
).
mul
(
img
);

27115 
	g‹m¶©e
<
ty³Çme
 
	gt
>

27116 
	gCImg
<
	gT
>& 
div
(cÚ¡ 
CImg
<
t
>& 
img
) {

27117 cÚ¡ 
ulÚgT
 
	gsiz
 = 
size
(), 
	gisiz
 = 
img
.size();

27118 ià(
	gsiz
 && 
	gisiz
) {

27119 ià(
is_ov”Ïµed
(
img
)è 
div
(+img);

27120 
T
 *
	g±rd
 = 
_d©a
, *cÚ¡ 
	g±»
 = _d©¨+ 
siz
;

27121 ià(
	gsiz
>
	gisiz
è
ulÚgT
 
	gn
 = 
siz
/
isiz
;‚; --n)

27122 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_’d
 = 
±rs
 + 
isiz
;…Œs<±rs_’d; ++
	g±rd
)

27123 *
	g±rd
 = (
T
)(*
±rd
 / *(
±rs
++));

27124 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±»
; ++±rdè*±rd = (
T
)(*
±rd
 / *(
±rs
++));

27126  *
	gthis
;

27130 
	g‹m¶©e
<
ty³Çme
 
	gt
>

27131 
	gCImg
<
	g_cimg_Tt
> 
g‘_div
(cÚ¡ 
CImg
<
t
>& 
img
) const {

27132  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
,
	gçl£
).
div
(
img
);

27151 
	gCImg
<
	gT
>& 
pow
(cÚ¡ 
p
) {

27152 ià(
is_em±y
()è *
	gthis
;

27153 ià(
	gp
==-4è{ 
cimg_İ’mp_fÜ
(*
this
,1/(
Tæßt
)
cimg
::
pow4
(*
±r
),32768);  *
	gthis
; }

27154 ià(
	gp
==-3è{ 
cimg_İ’mp_fÜ
(*
this
,1/(
Tæßt
)
cimg
::
pow3
(*
±r
),32768);  *
	gthis
; }

27155 ià(
	gp
==-2è{ 
cimg_İ’mp_fÜ
(*
this
,1/(
Tæßt
)
cimg
::
sqr
(*
±r
),32768);  *
	gthis
; }

27156 ià(
	gp
==-1è{ 
cimg_İ’mp_fÜ
(*
this
,1/(
Tæßt
)*
±r
,32768);  *
	gthis
; }

27157 ià(
	gp
==-0.5è{ 
cimg_İ’mp_fÜ
(*
this
,1/
¡d
::
sq¹
((
Tæßt
)*
±r
),8192);  *
	gthis
; }

27158 ià(
	gp
==0è 
fl
((
T
)1);

27159 ià(
	gp
==0.5è 
sq¹
();

27160 ià(
	gp
==1è *
this
;

27161 ià(
	gp
==2è 
sqr
();

27162 ià(
	gp
==3è{ 
cimg_İ’mp_fÜ
(*
this
,
cimg
::
pow3
(*
±r
),262144);  *
	gthis
; }

27163 ià(
	gp
==4è{ 
cimg_İ’mp_fÜ
(*
this
,
cimg
::
pow4
(*
±r
),131072);  *
	gthis
; }

27164 
cimg_İ’mp_fÜ
(*
this
,
¡d
::
pow
((
Tæßt
)*
±r
,(Tæßt)
p
),1024);

27165  *
	gthis
;

27169 
	gCImg
<
	gTæßt
> 
g‘_pow
(cÚ¡ 
p
) const {

27170  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
).
pow
(
p
);

27177 
	gCImg
<
	gT
>& 
pow
(cÚ¡ *cÚ¡ 
ex´essiÚ
) {

27178  
pow
((+*
this
).
_fl
(
ex´essiÚ
,
Œue
,1,0,0,"pow",this));

27182 
	gCImg
<
	gTæßt
> 
g‘_pow
(cÚ¡ *cÚ¡ 
ex´essiÚ
) const {

27183  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
).
pow
(
ex´essiÚ
);

27190 
	g‹m¶©e
<
ty³Çme
 
	gt
>

27191 
	gCImg
<
	gT
>& 
pow
(cÚ¡ 
CImg
<
t
>& 
img
) {

27192 cÚ¡ 
ulÚgT
 
	gsiz
 = 
size
(), 
	gisiz
 = 
img
.size();

27193 ià(
	gsiz
 && 
	gisiz
) {

27194 ià(
is_ov”Ïµed
(
img
)è 
pow
(+img);

27195 
T
 *
	g±rd
 = 
_d©a
, *cÚ¡ 
	g±»
 = _d©¨+ 
siz
;

27196 ià(
	gsiz
>
	gisiz
è
ulÚgT
 
	gn
 = 
siz
/
isiz
;‚; --n)

27197 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_’d
 = 
±rs
 + 
isiz
;…Œs<±rs_’d; ++
	g±rd
)

27198 *
	g±rd
 = (
T
)
¡d
::
pow
(()*
±rd
,()(*(
±rs
++)));

27199 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±»
; ++±rdè*±rd = (
T
)
¡d
::
pow
(()*
±rd
,()(*(
±rs
++)));

27201  *
	gthis
;

27205 
	g‹m¶©e
<
ty³Çme
 
	gt
>

27206 
	gCImg
<
	gTæßt
> 
g‘_pow
(cÚ¡ 
CImg
<
t
>& 
img
) const {

27207  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
).
pow
(
img
);

27214 
	gCImg
<
	gT
>& 
rŞ
(cÚ¡ 
n
=1) {

27215 ià(
is_em±y
()è *
this
;

27216 
cimg_İ’mp_fÜ
(*
this
,
cimg
::
rŞ
(*
±r
,
n
),32768);

27217  *
	gthis
;

27221 
	gCImg
<
	gT
> 
g‘_rŞ
(cÚ¡ 
n
=1) const {

27222  (+*
this
).
rŞ
(
n
);

27229 
	gCImg
<
	gT
>& 
rŞ
(cÚ¡ *cÚ¡ 
ex´essiÚ
) {

27230  
rŞ
((+*
this
).
_fl
(
ex´essiÚ
,
Œue
,1,0,0,"rol",this));

27234 
	gCImg
<
	gT
> 
g‘_rŞ
(cÚ¡ *cÚ¡ 
ex´essiÚ
) const {

27235  (+*
	gthis
).
rŞ
(
ex´essiÚ
);

27242 
	g‹m¶©e
<
ty³Çme
 
	gt
>

27243 
	gCImg
<
	gT
>& 
rŞ
(cÚ¡ 
CImg
<
t
>& 
img
) {

27244 cÚ¡ 
ulÚgT
 
	gsiz
 = 
size
(), 
	gisiz
 = 
img
.size();

27245 ià(
	gsiz
 && 
	gisiz
) {

27246 ià(
is_ov”Ïµed
(
img
)è 
rŞ
(+img);

27247 
T
 *
	g±rd
 = 
_d©a
, *cÚ¡ 
	g±»
 = _d©¨+ 
siz
;

27248 ià(
	gsiz
>
	gisiz
è
ulÚgT
 
	gn
 = 
siz
/
isiz
;‚; --n)

27249 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_’d
 = 
±rs
 + 
isiz
;…Œs<±rs_’d; ++
	g±rd
)

27250 *
	g±rd
 = (
T
)
cimg
::
rŞ
(*
±rd
,()(*(
±rs
++)));

27251 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±»
; ++±rdè*±rd = (
T
)
cimg
::
rŞ
(*
±rd
,()(*(
±rs
++)));

27253  *
	gthis
;

27257 
	g‹m¶©e
<
ty³Çme
 
	gt
>

27258 
	gCImg
<
	gT
> 
g‘_rŞ
(cÚ¡ 
CImg
<
t
>& 
img
) const {

27259  (+*
	gthis
).
rŞ
(
img
);

27266 
	gCImg
<
	gT
>& 
rÜ
(cÚ¡ 
n
=1) {

27267 ià(
is_em±y
()è *
this
;

27268 
cimg_İ’mp_fÜ
(*
this
,
cimg
::
rÜ
(*
±r
,
n
),32768);

27269  *
	gthis
;

27273 
	gCImg
<
	gT
> 
g‘_rÜ
(cÚ¡ 
n
=1) const {

27274  (+*
this
).
rÜ
(
n
);

27281 
	gCImg
<
	gT
>& 
rÜ
(cÚ¡ *cÚ¡ 
ex´essiÚ
) {

27282  
rÜ
((+*
this
).
_fl
(
ex´essiÚ
,
Œue
,1,0,0,"ror",this));

27286 
	gCImg
<
	gT
> 
g‘_rÜ
(cÚ¡ *cÚ¡ 
ex´essiÚ
) const {

27287  (+*
	gthis
).
rÜ
(
ex´essiÚ
);

27294 
	g‹m¶©e
<
ty³Çme
 
	gt
>

27295 
	gCImg
<
	gT
>& 
rÜ
(cÚ¡ 
CImg
<
t
>& 
img
) {

27296 cÚ¡ 
ulÚgT
 
	gsiz
 = 
size
(), 
	gisiz
 = 
img
.size();

27297 ià(
	gsiz
 && 
	gisiz
) {

27298 ià(
is_ov”Ïµed
(
img
)è 
rÜ
(+img);

27299 
T
 *
	g±rd
 = 
_d©a
, *cÚ¡ 
	g±»
 = _d©¨+ 
siz
;

27300 ià(
	gsiz
>
	gisiz
è
ulÚgT
 
	gn
 = 
siz
/
isiz
;‚; --n)

27301 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_’d
 = 
±rs
 + 
isiz
;…Œs<±rs_’d; ++
	g±rd
)

27302 *
	g±rd
 = (
T
)
cimg
::
rÜ
(*
±rd
,()(*(
±rs
++)));

27303 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±»
; ++±rdè*±rd = (
T
)
cimg
::
rÜ
(*
±rd
,()(*(
±rs
++)));

27305  *
	gthis
;

27309 
	g‹m¶©e
<
ty³Çme
 
	gt
>

27310 
	gCImg
<
	gT
> 
g‘_rÜ
(cÚ¡ 
CImg
<
t
>& 
img
) const {

27311  (+*
	gthis
).
rÜ
(
img
);

27320 
	gCImg
<
	gT
>& 
mš
(cÚ¡ 
T
& 
v®ue
) {

27321 ià(
is_em±y
()è *
	gthis
;

27322 
cimg_İ’mp_fÜ
(*
this
,
¡d
::
mš
(*
±r
,
v®ue
),65536);

27323  *
	gthis
;

27327 
	gCImg
<
	gT
> 
g‘_mš
(cÚ¡ 
T
& 
v®ue
) const {

27328  (+*
	gthis
).
mš
(
v®ue
);

27337 
	g‹m¶©e
<
ty³Çme
 
	gt
>

27338 
	gCImg
<
	gT
>& 
mš
(cÚ¡ 
CImg
<
t
>& 
img
) {

27339 cÚ¡ 
ulÚgT
 
	gsiz
 = 
size
(), 
	gisiz
 = 
img
.size();

27340 ià(
	gsiz
 && 
	gisiz
) {

27341 ià(
is_ov”Ïµed
(
img
)è 
mš
(+img);

27342 
T
 *
	g±rd
 = 
_d©a
, *cÚ¡ 
	g±»
 = _d©¨+ 
siz
;

27343 ià(
	gsiz
>
	gisiz
è
ulÚgT
 
	gn
 = 
siz
/
isiz
;‚; --n)

27344 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_’d
 = 
±rs
 + 
isiz
;…Œs<±rs_’d; ++
	g±rd
)

27345 *
	g±rd
 = 
¡d
::
mš
((
T
)*(
±rs
++),*
±rd
);

27346 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±»
; ++±rdè*±rd = 
¡d
::
mš
((
T
)*(
±rs
++),*
±rd
);

27348  *
	gthis
;

27352 
	g‹m¶©e
<
ty³Çme
 
	gt
>

27353 
	gCImg
<
	g_cimg_Tt
> 
g‘_mš
(cÚ¡ 
CImg
<
t
>& 
img
) const {

27354  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
,
	gçl£
).
mš
(
img
);

27363 
	gCImg
<
	gT
>& 
mš
(cÚ¡ *cÚ¡ 
ex´essiÚ
) {

27364  
mš
((+*
this
).
_fl
(
ex´essiÚ
,
Œue
,1,0,0,"min",this));

27368 
	gCImg
<
	gTæßt
> 
g‘_mš
(cÚ¡ *cÚ¡ 
ex´essiÚ
) const {

27369  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
).
mš
(
ex´essiÚ
);

27378 
	gCImg
<
	gT
>& 
max
(cÚ¡ 
T
& 
v®ue
) {

27379 ià(
is_em±y
()è *
	gthis
;

27380 
cimg_İ’mp_fÜ
(*
this
,
¡d
::
max
(*
±r
,
v®ue
),65536);

27381  *
	gthis
;

27385 
	gCImg
<
	gT
> 
g‘_max
(cÚ¡ 
T
& 
v®ue
) const {

27386  (+*
	gthis
).
max
(
v®ue
);

27395 
	g‹m¶©e
<
ty³Çme
 
	gt
>

27396 
	gCImg
<
	gT
>& 
max
(cÚ¡ 
CImg
<
t
>& 
img
) {

27397 cÚ¡ 
ulÚgT
 
	gsiz
 = 
size
(), 
	gisiz
 = 
img
.size();

27398 ià(
	gsiz
 && 
	gisiz
) {

27399 ià(
is_ov”Ïµed
(
img
)è 
max
(+img);

27400 
T
 *
	g±rd
 = 
_d©a
, *cÚ¡ 
	g±»
 = _d©¨+ 
siz
;

27401 ià(
	gsiz
>
	gisiz
è
ulÚgT
 
	gn
 = 
siz
/
isiz
;‚; --n)

27402 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_’d
 = 
±rs
 + 
isiz
;…Œs<±rs_’d; ++
	g±rd
)

27403 *
	g±rd
 = 
¡d
::
max
((
T
)*(
±rs
++),*
±rd
);

27404 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±»
; ++±rdè*±rd = 
¡d
::
max
((
T
)*(
±rs
++),*
±rd
);

27406  *
	gthis
;

27410 
	g‹m¶©e
<
ty³Çme
 
	gt
>

27411 
	gCImg
<
	g_cimg_Tt
> 
g‘_max
(cÚ¡ 
CImg
<
t
>& 
img
) const {

27412  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
,
	gçl£
).
max
(
img
);

27421 
	gCImg
<
	gT
>& 
max
(cÚ¡ *cÚ¡ 
ex´essiÚ
) {

27422  
max
((+*
this
).
_fl
(
ex´essiÚ
,
Œue
,1,0,0,"max",this));

27426 
	gCImg
<
	gTæßt
> 
g‘_max
(cÚ¡ *cÚ¡ 
ex´essiÚ
) const {

27427  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
).
max
(
ex´essiÚ
);

27436 
	gCImg
<
	gT
>& 
mšabs
(cÚ¡ 
T
& 
v®ue
) {

27437 ià(
is_em±y
()è *
	gthis
;

27438 cÚ¡ 
T
 
	gabsv®ue
 = 
cimg
::
abs
(
v®ue
);

27439 
cimg_İ’mp_fÜ
(*
this
,
cimg
::
mšabs
(*
±r
,
v®ue
,
absv®ue
),65536);

27440  *
	gthis
;

27444 
	gCImg
<
	gT
> 
g‘_mšabs
(cÚ¡ 
T
& 
v®ue
) const {

27445  (+*
	gthis
).
mšabs
(
v®ue
);

27454 
	g‹m¶©e
<
ty³Çme
 
	gt
>

27455 
	gCImg
<
	gT
>& 
mšabs
(cÚ¡ 
CImg
<
t
>& 
img
) {

27456 cÚ¡ 
ulÚgT
 
	gsiz
 = 
size
(), 
	gisiz
 = 
img
.size();

27457 ià(
	gsiz
 && 
	gisiz
) {

27458 ià(
is_ov”Ïµed
(
img
)è 
mšabs
(+img);

27459 
T
 *
	g±rd
 = 
_d©a
, *cÚ¡ 
	g±»
 = _d©¨+ 
siz
;

27460 ià(
	gsiz
>
	gisiz
è
ulÚgT
 
	gn
 = 
siz
/
isiz
;‚; --n)

27461 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_’d
 = 
±rs
 + 
isiz
;…Œs<±rs_’d; ++
	g±rd
)

27462 *
	g±rd
 = 
cimg
::
mšabs
((
T
)*(
±rs
++),*
±rd
);

27463 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±»
; ++±rdè*±rd = 
cimg
::
mšabs
((
T
)*(
±rs
++),*
±rd
);

27465  *
	gthis
;

27469 
	g‹m¶©e
<
ty³Çme
 
	gt
>

27470 
	gCImg
<
	g_cimg_Tt
> 
g‘_mšabs
(cÚ¡ 
CImg
<
t
>& 
img
) const {

27471  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
,
	gçl£
).
mšabs
(
img
);

27480 
	gCImg
<
	gT
>& 
mšabs
(cÚ¡ *cÚ¡ 
ex´essiÚ
) {

27481  
mšabs
((+*
this
).
_fl
(
ex´essiÚ
,
Œue
,1,0,0,"minabs",this));

27485 
	gCImg
<
	gTæßt
> 
g‘_mšabs
(cÚ¡ *cÚ¡ 
ex´essiÚ
) const {

27486  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
).
mšabs
(
ex´essiÚ
);

27495 
	gCImg
<
	gT
>& 
maxabs
(cÚ¡ 
T
& 
v®ue
) {

27496 ià(
is_em±y
()è *
	gthis
;

27497 cÚ¡ 
T
 
	gabsv®ue
 = 
cimg
::
abs
(
v®ue
);

27498 
cimg_İ’mp_fÜ
(*
this
,
cimg
::
maxabs
(*
±r
,
v®ue
,
absv®ue
),65536);

27499  *
	gthis
;

27503 
	gCImg
<
	gT
> 
g‘_maxabs
(cÚ¡ 
T
& 
v®ue
) const {

27504  (+*
	gthis
).
maxabs
(
v®ue
);

27513 
	g‹m¶©e
<
ty³Çme
 
	gt
>

27514 
	gCImg
<
	gT
>& 
maxabs
(cÚ¡ 
CImg
<
t
>& 
img
) {

27515 cÚ¡ 
ulÚgT
 
	gsiz
 = 
size
(), 
	gisiz
 = 
img
.size();

27516 ià(
	gsiz
 && 
	gisiz
) {

27517 ià(
is_ov”Ïµed
(
img
)è 
maxabs
(+img);

27518 
T
 *
	g±rd
 = 
_d©a
, *cÚ¡ 
	g±»
 = _d©¨+ 
siz
;

27519 ià(
	gsiz
>
	gisiz
è
ulÚgT
 
	gn
 = 
siz
/
isiz
;‚; --n)

27520 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_’d
 = 
±rs
 + 
isiz
;…Œs<±rs_’d; ++
	g±rd
)

27521 *
	g±rd
 = 
cimg
::
maxabs
((
T
)*(
±rs
++),*
±rd
);

27522 cÚ¡ 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±»
; ++±rdè*±rd = 
cimg
::
maxabs
((
T
)*(
±rs
++),*
±rd
);

27524  *
	gthis
;

27528 
	g‹m¶©e
<
ty³Çme
 
	gt
>

27529 
	gCImg
<
	g_cimg_Tt
> 
g‘_maxabs
(cÚ¡ 
CImg
<
t
>& 
img
) const {

27530  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
,
	gçl£
).
maxabs
(
img
);

27539 
	gCImg
<
	gT
>& 
maxabs
(cÚ¡ *cÚ¡ 
ex´essiÚ
) {

27540  
maxabs
((+*
this
).
_fl
(
ex´essiÚ
,
Œue
,1,0,0,"maxabs",this));

27544 
	gCImg
<
	gTæßt
> 
g‘_maxabs
(cÚ¡ *cÚ¡ 
ex´essiÚ
) const {

27545  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
).
maxabs
(
ex´essiÚ
);

27551 
	gT
& 
mš
() {

27552 ià(
is_em±y
())

27553 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


27555 
cimg_š¡ªû
);

27556 
T
 *
	g±r_mš
 = 
_d©a
;

27557 
T
 
	gmš_v®ue
 = *
±r_mš
;

27558 
cimg_fÜ
(*
this
,
±rs
,
T
èià(*
	g±rs
<
	gmš_v®ue
èmš_v®uğ*(
±r_mš
=ptrs);

27559  *
	g±r_mš
;

27563 cÚ¡ 
	gT
& 
mš
() const {

27564 ià(
is_em±y
())

27565 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


27567 
cimg_š¡ªû
);

27568 cÚ¡ 
T
 *
	g±r_mš
 = 
_d©a
;

27569 
T
 
	gmš_v®ue
 = *
±r_mš
;

27570 
cimg_fÜ
(*
this
,
±rs
,
T
èià(*
	g±rs
<
	gmš_v®ue
èmš_v®uğ*(
±r_mš
=ptrs);

27571  *
	g±r_mš
;

27577 
	gT
& 
mšabs
() {

27578 ià(
is_em±y
())

27579 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


27581 
cimg_š¡ªû
);

27582 
T
 *
	g±r_mšabs
 = 
_d©a
;

27583 
T
 
	gmšabs_v®ue
 = *
±r_mšabs
;

27584 
cimg_fÜ
(*
this
,
±rs
,
T
) {

27585 cÚ¡ 
T
 
	gma
 = 
cimg
::
abs
(*
±rs
);

27586 ià(
	gma
<
	gmšabs_v®ue
è{ mšabs_v®uğ
ma
; 
	g±r_mšabs
 = 
±rs
; }

27588  *
	g±r_mšabs
;

27592 cÚ¡ 
	gT
& 
mšabs
() const {

27593 ià(
is_em±y
())

27594 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


27596 
cimg_š¡ªû
);

27597 cÚ¡ 
T
 *
	g±r_mšabs
 = 
_d©a
;

27598 
T
 
	gmšabs_v®ue
 = *
±r_mšabs
;

27599 
cimg_fÜ
(*
this
,
±rs
,
T
) {

27600 cÚ¡ 
T
 
	gma
 = 
cimg
::
abs
(*
±rs
);

27601 ià(
	gma
<
	gmšabs_v®ue
è{ mšabs_v®uğ
ma
; 
	g±r_mšabs
 = 
±rs
; }

27603  *
	g±r_mšabs
;

27609 
	gT
& 
max
() {

27610 ià(
is_em±y
())

27611 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


27613 
cimg_š¡ªû
);

27614 
T
 *
	g±r_max
 = 
_d©a
;

27615 
T
 
	gmax_v®ue
 = *
±r_max
;

27616 
cimg_fÜ
(*
this
,
±rs
,
T
èià(*
	g±rs
>
	gmax_v®ue
èmax_v®uğ*(
±r_max
=ptrs);

27617  *
	g±r_max
;

27621 cÚ¡ 
	gT
& 
max
() const {

27622 ià(
is_em±y
())

27623 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


27625 
cimg_š¡ªû
);

27626 cÚ¡ 
T
 *
	g±r_max
 = 
_d©a
;

27627 
T
 
	gmax_v®ue
 = *
±r_max
;

27628 
cimg_fÜ
(*
this
,
±rs
,
T
èià(*
	g±rs
>
	gmax_v®ue
èmax_v®uğ*(
±r_max
=ptrs);

27629  *
	g±r_max
;

27635 
	gT
& 
maxabs
() {

27636 ià(
is_em±y
())

27637 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


27639 
cimg_š¡ªû
);

27640 
T
 *
	g±r_maxabs
 = 
_d©a
;

27641 
T
 
	gmaxabs_v®ue
 = *
±r_maxabs
;

27642 
cimg_fÜ
(*
this
,
±rs
,
T
) {

27643 cÚ¡ 
T
 
	gma
 = 
cimg
::
abs
(*
±rs
);

27644 ià(
	gma
>
	gmaxabs_v®ue
è{ maxabs_v®uğ
ma
; 
	g±r_maxabs
 = 
±rs
; }

27646  *
	g±r_maxabs
;

27650 cÚ¡ 
	gT
& 
maxabs
() const {

27651 ià(
is_em±y
())

27652 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


27654 
cimg_š¡ªû
);

27655 cÚ¡ 
T
 *
	g±r_maxabs
 = 
_d©a
;

27656 
T
 
	gmaxabs_v®ue
 = *
±r_maxabs
;

27657 
cimg_fÜ
(*
this
,
±rs
,
T
) {

27658 cÚ¡ 
T
 
	gma
 = 
cimg
::
abs
(*
±rs
);

27659 ià(
	gma
>
	gmaxabs_v®ue
è{ maxabs_v®uğ
ma
; 
	g±r_maxabs
 = 
±rs
; }

27661  *
	g±r_maxabs
;

27668 
	g‹m¶©e
<
ty³Çme
 
	gt
>

27669 
	gT
& 
mš_max
(
t
& 
max_v®
) {

27670 ià(
is_em±y
())

27671 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


27673 
cimg_š¡ªû
);

27674 
T
 *
	g±r_mš
 = 
_d©a
;

27675 
T
 
	gmš_v®ue
 = *
±r_mš
, 
	gmax_v®ue
 = 
mš_v®ue
;

27676 
cimg_fÜ
(*
this
,
±rs
,
T
) {

27677 cÚ¡ 
T
 
	gv®
 = *
±rs
;

27678 ià(
	gv®
<
	gmš_v®ue
è{ mš_v®uğ
v®
; 
	g±r_mš
 = 
±rs
; }

27679 ià(
	gv®
>
	gmax_v®ue
èmax_v®uğ
v®
;

27681 
	gmax_v®
 = (
t
)
max_v®ue
;

27682  *
	g±r_mš
;

27686 
	g‹m¶©e
<
ty³Çme
 
	gt
>

27687 cÚ¡ 
	gT
& 
mš_max
(
t
& 
max_v®
) const {

27688 ià(
is_em±y
())

27689 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


27691 
cimg_š¡ªû
);

27692 cÚ¡ 
T
 *
	g±r_mš
 = 
_d©a
;

27693 
T
 
	gmš_v®ue
 = *
±r_mš
, 
	gmax_v®ue
 = 
mš_v®ue
;

27694 
cimg_fÜ
(*
this
,
±rs
,
T
) {

27695 cÚ¡ 
T
 
	gv®
 = *
±rs
;

27696 ià(
	gv®
<
	gmš_v®ue
è{ mš_v®uğ
v®
; 
	g±r_mš
 = 
±rs
; }

27697 ià(
	gv®
>
	gmax_v®ue
èmax_v®uğ
v®
;

27699 
	gmax_v®
 = (
t
)
max_v®ue
;

27700  *
	g±r_mš
;

27707 
	g‹m¶©e
<
ty³Çme
 
	gt
>

27708 
	gT
& 
max_mš
(
t
& 
mš_v®
) {

27709 ià(
is_em±y
())

27710 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


27712 
cimg_š¡ªû
);

27713 
T
 *
	g±r_max
 = 
_d©a
;

27714 
T
 
	gmax_v®ue
 = *
±r_max
, 
	gmš_v®ue
 = 
max_v®ue
;

27715 
cimg_fÜ
(*
this
,
±rs
,
T
) {

27716 cÚ¡ 
T
 
	gv®
 = *
±rs
;

27717 ià(
	gv®
>
	gmax_v®ue
è{ max_v®uğ
v®
; 
	g±r_max
 = 
±rs
; }

27718 ià(
	gv®
<
	gmš_v®ue
èmš_v®uğ
v®
;

27720 
	gmš_v®
 = (
t
)
mš_v®ue
;

27721  *
	g±r_max
;

27725 
	g‹m¶©e
<
ty³Çme
 
	gt
>

27726 cÚ¡ 
	gT
& 
max_mš
(
t
& 
mš_v®
) const {

27727 ià(
is_em±y
())

27728 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


27730 
cimg_š¡ªû
);

27731 cÚ¡ 
T
 *
	g±r_max
 = 
_d©a
;

27732 
T
 
	gmax_v®ue
 = *
±r_max
, 
	gmš_v®ue
 = 
max_v®ue
;

27733 
cimg_fÜ
(*
this
,
±rs
,
T
) {

27734 cÚ¡ 
T
 
	gv®
 = *
±rs
;

27735 ià(
	gv®
>
	gmax_v®ue
è{ max_v®uğ
v®
; 
	g±r_max
 = 
±rs
; }

27736 ià(
	gv®
<
	gmš_v®ue
èmš_v®uğ
v®
;

27738 
	gmš_v®
 = (
t
)
mš_v®ue
;

27739  *
	g±r_max
;

27746 
T
 
kth_sm®Ë¡
(cÚ¡ 
ulÚgT
 
k
) const {

27747 ià(
is_em±y
())

27748 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


27750 
cimg_š¡ªû
);

27751 ià(
	gk
>=
size
()è 
max
();

27752 
	gCImg
<
	gT
> 
¬r
(*
this
,
çl£
);

27753 
ulÚgT
 
	gl
 = 0, 
	gœ
 = 
size
() - 1;

27755 ià(
	gœ
<=
l
 + 1) {

27756 ià(
œ
==
l
 + 1 && 
¬r
[œ]<¬r[l]è
cimg
::
sw­
(arr[l],arr[ir]);

27757  
	g¬r
[
k
];

27759 cÚ¡ 
ulÚgT
 
	gmid
 = (
l
 + 
œ
)>>1;

27760 
	gcimg
::
sw­
(
¬r
[
mid
],¬r[
l
 + 1]);

27761 ià(
	g¬r
[
l
]>¬r[
œ
]è
	gcimg
::
sw­
(
¬r
[l],arr[ir]);

27762 ià(
	g¬r
[
l
 + 1]>¬r[
œ
]è
	gcimg
::
sw­
(
¬r
[l + 1],arr[ir]);

27763 ià(
	g¬r
[
l
]>¬r[È+ 1]è
	gcimg
::
sw­
(
¬r
[l],arr[l + 1]);

27764 
ulÚgT
 
	gi
 = 
l
 + 1, 
	gj
 = 
œ
;

27765 cÚ¡ 
T
 
	gpivÙ
 = 
¬r
[
l
 + 1];

27767 dØ++
	gi
; 
	g¬r
[
i
]<
	gpivÙ
);

27768 dØ--
	gj
; 
	g¬r
[
j
]>
	gpivÙ
);

27769 ià(
	gj
<
	gi
) ;

27770 
	gcimg
::
sw­
(
¬r
[
i
],¬r[
j
]);

27772 
	g¬r
[
l
 + 1] = 
¬r
[
j
];

27773 
	g¬r
[
j
] = 
pivÙ
;

27774 ià(
	gj
>=
k
è
œ
 = 
j
 - 1;

27775 ià(
	gj
<=
k
è
l
 = 
i
;

27783 
T
 
medŸn
() const {

27784 ià(
is_em±y
())

27785 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


27787 
cimg_š¡ªû
);

27788 cÚ¡ 
ulÚgT
 
	gs
 = 
size
();

27789 
	gs
) {

27790 1 :  
_d©a
[0];

27791 2 :  
cimg
::
medŸn
(
_d©a
[0],_data[1]);

27792 3 :  
cimg
::
medŸn
(
_d©a
[0],_data[1],_data[2]);

27793 5 :  
cimg
::
medŸn
(
_d©a
[0],_data[1],_data[2],_data[3],_data[4]);

27794 7 :  
cimg
::
medŸn
(
_d©a
[0],_data[1],_data[2],_data[3],_data[4],_data[5],_data[6]);

27795 9 :  
cimg
::
medŸn
(
_d©a
[0],_data[1],_data[2],_data[3],_data[4],_data[5],_data[6],_data[7],_data[8]);

27796 13 :  
cimg
::
medŸn
(
_d©a
[0],_data[1],_data[2],_data[3],_data[4],_data[5],_data[6],_data[7],_data[8],

27797 
_d©a
[9],_data[10],_data[11],_data[12]);

27799 cÚ¡ 
T
 
	g»s
 = 
kth_sm®Ë¡
(
s
>>1);

27800  (
	gs
%2)?
	g»s
:(
T
)((
»s
 + 
kth_sm®Ë¡
((
s
>>1) - 1))/2);

27806 
´oduù
() const {

27807 ià(
is_em±y
())  0;

27808 
	g»s
 = 1;

27809 
cimg_fÜ
(*
this
,
±rs
,
T
è
	g»s
*=()*ptrs;

27810  
	g»s
;

27816 
sum
() const {

27817 
	g»s
 = 0;

27818 
cimg_fÜ
(*
this
,
±rs
,
T
è
	g»s
+=()*ptrs;

27819  
	g»s
;

27825 
m—n
() const {

27826 
	g»s
 = 0;

27827 
cimg_fÜ
(*
this
,
±rs
,
T
è
	g»s
+=()*ptrs;

27828  
	g»s
/
size
();

27842 
v¬Ÿnû
(cÚ¡ 
v¬Ÿnû_m‘hod
=1) const {

27843 
foo
;

27844  
v¬Ÿnû_m—n
(
v¬Ÿnû_m‘hod
,
foo
);

27852 
	g‹m¶©e
<
ty³Çme
 
	gt
>

27853 
v¬Ÿnû_m—n
(cÚ¡ 
v¬Ÿnû_m‘hod
, 
t
& 
m—n
) const {

27854 ià(
is_em±y
())

27855 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


27857 
cimg_š¡ªû
);

27859 
	gv¬Ÿnû
 = 0, 
	gav”age
 = 0;

27860 cÚ¡ 
ulÚgT
 
	gsiz
 = 
size
();

27861 
	gv¬Ÿnû_m‘hod
) {

27863 
S
 = 0, 
	gS2
 = 0;

27864 
cimg_fÜ
(*
this
,
±rs
,
T
è{ cÚ¡ 
	gv®
 = ()*±rs; 
	gS
+=
v®
; 
	gS2
+=val*val; }

27865 
	gv¬Ÿnû
 = (
S2
 - 
S
*S/
siz
)/siz;

27866 
	gav”age
 = 
S
;

27869 
S
 = 0, 
	gS2
 = 0;

27870 
cimg_fÜ
(*
this
,
±rs
,
T
è{ cÚ¡ 
	gv®
 = ()*±rs; 
	gS
+=
v®
; 
	gS2
+=val*val; }

27871 
	gv¬Ÿnû
 = 
siz
>1?(
S2
 - 
S
*S/siz)/(siz - 1):0;

27872 
	gav”age
 = 
S
;

27875 
CImg
<
Tæßt
> 
buf
(*
this
,
çl£
);

27876 
	gbuf
.
sÜt
();

27877 cÚ¡ 
ulÚgT
 
	gsiz2
 = 
siz
>>1;

27878 cÚ¡ 
	gmed_i
 = ()
buf
[
siz2
];

27879 
cimg_fÜ
(
buf
,
±rs
,
Tæßt
) {

27880 cÚ¡ 
	gv®
 = ()*
±rs
; *
	g±rs
 = (
Tæßt
)
cimg
::
abs
(
v®
 - 
med_i
); 
	gav”age
+=val;

27882 
	gbuf
.
sÜt
();

27883 cÚ¡ 
	gsig
 = ()(1.4828*
buf
[
siz2
]);

27884 
	gv¬Ÿnû
 = 
sig
*sig;

27887 
CImg
<
Tæßt
> 
buf
(*
this
,
çl£
);

27888 cÚ¡ 
ulÚgT
 
	gsiz2
 = 
siz
>>1;

27889 
cimg_fÜ
(
buf
,
±rs
,
Tæßt
) {

27890 cÚ¡ 
	gv®
 = ()*
±rs
; (*
	g±rs
)=(
Tæßt
)((*±rs)*
v®
); 
	gav”age
+=val;

27892 
	gbuf
.
sÜt
();

27893 
	ga
 = 0;

27894 cÚ¡ 
Tæßt
 *
	g±rs
 = 
buf
.
_d©a
;

27895 
ulÚgT
 
	gj
 = 0; j<
	gsiz2
; ++jè
	ga
+=()*(
±rs
++);

27896 cÚ¡ 
	gsig
 = ()(2.6477*
¡d
::
sq¹
(
a
/
siz2
));

27897 
	gv¬Ÿnû
 = 
sig
*sig;

27900 
	gm—n
 = (
t
)(
av”age
/
siz
);

27901  
	gv¬Ÿnû
>0?variance:0;

27913 
v¬Ÿnû_noi£
(cÚ¡ 
v¬Ÿnû_m‘hod
=2) const {

27914 ià(
is_em±y
())

27915 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


27917 
cimg_š¡ªû
);

27919 cÚ¡ 
ulÚgT
 
	gsiz
 = 
size
();

27920 ià(!
	gsiz
 || !
	g_d©a
)  0;

27921 ià(
	gv¬Ÿnû_m‘hod
>1) {

27922 
	gCImg
<
	gTdoubË
> 
tmp
(*
this
,
çl£
);

27923 ià(
	g_d•th
==1) {

27924 cÚ¡ 
c¡e
 = 1./
¡d
::
sq¹
(20.);

27925 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
*
_height
>=(
cimg_İ’mp_sizeçùÜ
)*262144 &&

27926 
_¥eùrum
>=2))

27927 
cimg_fÜC
(*
this
,
c
) {

27928 
CImg_3x3
(
I
,
T
);

27929 
cimg_fÜ3x3
(*
this
,
x
,
y
,0,
c
,
I
,
T
) {

27930 
tmp
(
x
,
y
,
c
èğ
c¡e
*(()
Inc
 + ()
Ipc
 + ()
Iú
 +

27931 ()
Iı
 - 4*()
Icc
);

27935 cÚ¡ 
	gc¡e
 = 1./
¡d
::
sq¹
(42.);

27936 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
*
_height
*
_d•th
>=(
cimg_İ’mp_sizeçùÜ
)*262144 &&

27937 
_¥eùrum
>=2))

27938 
cimg_fÜC
(*
this
,
c
) {

27939 
CImg_3x3x3
(
I
,
T
);

27940 
cimg_fÜ3x3x3
(*
this
,
x
,
y
,
z
,
c
,
I
,
T
) {

27941 
tmp
(
x
,
y
,
z
,
c
èğ
c¡e
*(

27942 ()
Incc
 + ()
Ipcc
 + ()
Iúc
 + ()
Iıc
 +

27943 ()
Icú
 + ()
Icı
 - 6*()
Iccc
);

27947  
	gtmp
.
v¬Ÿnû
(
v¬Ÿnû_m‘hod
);

27951 
	gv¬Ÿnû
 = 0, 
	gS
 = 0, 
	gS2
 = 0;

27952 ià(
	g_d•th
==1) {

27953 cÚ¡ 
c¡e
 = 1./
¡d
::
sq¹
(20.);

27954 
CImg_3x3
(
I
,
T
);

27955 
cimg_fÜC
(*
this
,
c
è
cimg_fÜ3x3
(*this,
x
,
y
,0,c,
I
,
T
) {

27956 cÚ¡ 
	gv®
 = 
c¡e
*(()
Inc
 + ()
Ipc
 +

27957 ()
Iú
 + ()
Iı
 - 4*()
Icc
);

27958 
	gS
+=
v®
; 
	gS2
+=val*val;

27961 cÚ¡ 
	gc¡e
 = 1./
¡d
::
sq¹
(42.);

27962 
CImg_3x3x3
(
I
,
T
);

27963 
cimg_fÜC
(*
this
,
c
è
cimg_fÜ3x3x3
(*this,
x
,
y
,
z
,c,
I
,
T
) {

27964 cÚ¡ 
	gv®
 = 
c¡e
 *

27965 (()
Incc
 + ()
Ipcc
 + ()
Iúc
 +

27966 ()
Iıc
 +

27967 ()
Icú
 + ()
Icı
 - 6*()
Iccc
);

27968 
	gS
+=
v®
; 
	gS2
+=val*val;

27971 ià(
	gv¬Ÿnû_m‘hod
è
	gv¬Ÿnû
 = 
siz
>1?(
S2
 - 
S
*S/siz)/(siz - 1):0;

27972 
	gv¬Ÿnû
 = (
S2
 - 
S
*S/
siz
)/siz;

27973  
	gv¬Ÿnû
>0?variance:0;

27980 
	g‹m¶©e
<
ty³Çme
 
	gt
>

27981 
MSE
(cÚ¡ 
CImg
<
t
>& 
img
) const {

27982 ià(
	gimg
.
size
()!=size())

27983 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


27985 
cimg_š¡ªû
,

27986 
img
.
_width
,img.
_height
,img.
_d•th
,img.
_¥eùrum
,img.
_d©a
);

27987 
	gvMSE
 = 0;

27988 cÚ¡ 
t
* 
	g±r2
 = 
img
.
_d©a
;

27989 
cimg_fÜ
(*
this
,
±r1
,
T
) {

27990 cÚ¡ 
	gdiff
 = ()*
±r1
 - ()*(
±r2
++);

27991 
	gvMSE
+=
diff
*diff;

27993 cÚ¡ 
ulÚgT
 
	gsiz
 = 
img
.
size
();

27994 ià(
	gsiz
è
	gvMSE
/=
siz
;

27995  
	gvMSE
;

28003 
	g‹m¶©e
<
ty³Çme
 
	gt
>

28004 
PSNR
(cÚ¡ 
CImg
<
t
>& 
img
, cÚ¡ 
max_v®ue
=255) const {

28005 cÚ¡ 
vMSE
 = ()
¡d
::
sq¹
(
MSE
(
img
));

28006  (
	gvMSE
!=0)?()(20*
¡d
::
log10
(
max_v®ue
/
vMSE
)):()(
cimg
::
ty³
<>::
max
());

28019 
ev®
(cÚ¡ *cÚ¡ 
ex´essiÚ
,

28020 cÚ¡ 
x
=0, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0,

28021 cÚ¡ 
CImgLi¡
<
T
> *cÚ¡ 
li¡_šputs
=0, CImgLi¡<T> *cÚ¡ 
li¡_ouuts
=0) {

28022  
_ev®
(
this
,
ex´essiÚ
,
x
,
y
,
z
,
c
,
li¡_šputs
,
li¡_ouuts
);

28026 
ev®
(cÚ¡ *cÚ¡ 
ex´essiÚ
,

28027 cÚ¡ 
x
=0, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0,

28028 cÚ¡ 
CImgLi¡
<
T
> *cÚ¡ 
li¡_šputs
=0, CImgLi¡<T> *cÚ¡ 
li¡_ouuts
=0) const {

28029  
_ev®
(0,
ex´essiÚ
,
x
,
y
,
z
,
c
,
li¡_šputs
,
li¡_ouuts
);

28034 
	g‹m¶©e
<
ty³Çme
 
	gt
>

28035 
boŞ
 
__ev®
(cÚ¡ *cÚ¡ 
ex´essiÚ
, 
t
 &
»s
) const {

28036 ià(!
	gex´essiÚ
 || !*ex´essiÚè{ 
	g»s
 = (
t
)0;  
	gŒue
; }

28037 cÚ¡ 
	gc
 = *
ex´essiÚ
;

28038 
boŞ
 
	gis_sucûss
 = 
çl£
;

28039 
	gc1
, 
	g’d
;

28040 
	gv®
;

28041 ià(
	gc
>='0' && 
c
<='9') {

28042 ià(!
ex´essiÚ
[1]) {

28043 
»s
 = (
t
)(
c
 - '0');

28044 
	gis_sucûss
 = 
Œue
;

28045 } ià(
	g¡d
::
ssÿnf
(
ex´essiÚ
,"%lf%c",&
v®
,&
’d
)==1) {

28046 
»s
 = (
t
)
v®
;

28047 
	gis_sucûss
 = 
Œue
;

28049 } ià((
	gc
=='+' || 
c
=='-' || c=='!') &&

28050 (
c1
=
ex´essiÚ
[1])>='0' && c1<='0') {

28051 ià(!
ex´essiÚ
[2]) {

28052 cÚ¡ 
iv®
 = 
c1
 - '0';

28053 
	g»s
 = (
t
)(
c
=='+'?
iv®
:c=='-'?-ival:!ival);

28054 
	gis_sucûss
 = 
Œue
;

28055 } ià(
	g¡d
::
ssÿnf
(
ex´essiÚ
 + 1,"%lf%c",&
v®
,&
’d
)==1) {

28056 
»s
 = (
t
)(
c
=='+'?
v®
:c=='-'?-val:()!val);

28057 
	gis_sucûss
 = 
Œue
;

28059 } ià(!
	gex´essiÚ
[1]) *expression) {

28060 'w' : 
»s
 = (
t
)
_width
; 
	gis_sucûss
 = 
Œue
; ;

28061 'h' : 
»s
 = (
t
)
_height
; 
	gis_sucûss
 = 
Œue
; ;

28062 'd' : 
»s
 = (
t
)
_d•th
; 
	gis_sucûss
 = 
Œue
; ;

28063 's' : 
»s
 = (
t
)
_¥eùrum
; 
	gis_sucûss
 = 
Œue
; ;

28064 'r' : 
»s
 = (
t
)
_is_sh¬ed
; 
	gis_sucûss
 = 
Œue
; ;

28066  
	gis_sucûss
;

28069 
_ev®
(
CImg
<
T
> *cÚ¡ 
img_ouut
, cÚ¡ *cÚ¡ 
ex´essiÚ
,

28070 cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
,

28071 cÚ¡ 
CImgLi¡
<
T
> *cÚ¡ 
li¡_šputs
, CImgLi¡<T> *cÚ¡ 
li¡_ouuts
) const {

28072 ià(!
	gex´essiÚ
 || !*expression)  0;

28073 
	g_v®
 = 0;

28074 ià(
__ev®
(
ex´essiÚ
,
_v®
)è 
	g_v®
;

28075 
_cimg_m©h_·r£r
 
mp
(
ex´essiÚ
 + (*expression=='>' || *expression=='<' ||

28076 *
ex´essiÚ
=='*' || *expression==':'),"eval",

28077 *
this
,
img_ouut
,
li¡_šputs
,
li¡_ouuts
,
çl£
);

28078 
	gmp
.
begš_t
();

28079 cÚ¡ 
	gv®
 = 
mp
(
x
,
y
,
z
,
c
);

28080 
	gmp
.
’d_t
();

28081 
	gmp
.
’d
();

28082  
	gv®
;

28097 
	g‹m¶©e
<
ty³Çme
 
	gt
>

28098 
ev®
(
CImg
<
t
> &
ouut
, cÚ¡ *cÚ¡ 
ex´essiÚ
,

28099 cÚ¡ 
x
=0, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0,

28100 cÚ¡ 
CImgLi¡
<
T
> *cÚ¡ 
li¡_šputs
=0, CImgLi¡<T> *cÚ¡ 
li¡_ouuts
=0) {

28101 
_ev®
(
ouut
,
this
,
ex´essiÚ
,
x
,
y
,
z
,
c
,
li¡_šputs
,
li¡_ouuts
);

28105 
	g‹m¶©e
<
ty³Çme
 
	gt
>

28106 
ev®
(
CImg
<
t
>& 
ouut
, cÚ¡ *cÚ¡ 
ex´essiÚ
,

28107 cÚ¡ 
x
=0, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0,

28108 cÚ¡ 
CImgLi¡
<
T
> *cÚ¡ 
li¡_šputs
=0, CImgLi¡<T> *cÚ¡ 
li¡_ouuts
=0) const {

28109 
_ev®
(
ouut
,0,
ex´essiÚ
,
x
,
y
,
z
,
c
,
li¡_šputs
,
li¡_ouuts
);

28112 
	g‹m¶©e
<
ty³Çme
 
	gt
>

28113 
_ev®
(
CImg
<
t
>& 
ouut
, CImg<
T
> *cÚ¡ 
img_ouut
, cÚ¡ *cÚ¡ 
ex´essiÚ
,

28114 cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
,

28115 cÚ¡ 
CImgLi¡
<
T
> *cÚ¡ 
li¡_šputs
, CImgLi¡<T> *cÚ¡ 
li¡_ouuts
) const {

28116 ià(!
	gex´essiÚ
 || !*ex´essiÚè{ 
	gouut
.
assign
(1); *output = 0; ; }

28117 
	g_v®
 = 0;

28118 ià(
__ev®
(
ex´essiÚ
,
_v®
)è{ 
	gouut
.
assign
(1); *output = _val; ; }

28119 
_cimg_m©h_·r£r
 
mp
(
ex´essiÚ
 + (*expression=='>' || *expression=='<' ||

28120 *
ex´essiÚ
=='*' || *expression==':'),"eval",

28121 *
this
,
img_ouut
,
li¡_šputs
,
li¡_ouuts
,
çl£
);

28122 
	gouut
.
assign
(1,
¡d
::
max
(1U,
mp
.
»suÉ_dim
));

28123 
	gmp
.
begš_t
();

28124 
mp
(
x
,
y
,
z
,
c
,
ouut
.
_d©a
);

28125 
	gmp
.
’d_t
();

28126 
	gmp
.
’d
();

28136 
	g‹m¶©e
<
ty³Çme
 
	gt
>

28137 
	gCImg
<
	gdoubËT
> 
ev®
(cÚ¡ *cÚ¡ 
ex´essiÚ
, cÚ¡ 
CImg
<
t
>& 
xyzc
,

28138 cÚ¡ 
CImgLi¡
<
T
> *cÚ¡ 
li¡_šputs
=0, CImgLi¡<T> *cÚ¡ 
li¡_ouuts
=0) {

28139  
_ev®
(
this
,
ex´essiÚ
,
xyzc
,
li¡_šputs
,
li¡_ouuts
);

28143 
	g‹m¶©e
<
ty³Çme
 
	gt
>

28144 
	gCImg
<
	gdoubËT
> 
ev®
(cÚ¡ *cÚ¡ 
ex´essiÚ
, cÚ¡ 
CImg
<
t
>& 
xyzc
,

28145 cÚ¡ 
CImgLi¡
<
T
> *cÚ¡ 
li¡_šputs
=0, CImgLi¡<T> *cÚ¡ 
li¡_ouuts
=0) const {

28146  
_ev®
(0,
ex´essiÚ
,
xyzc
,
li¡_šputs
,
li¡_ouuts
);

28149 
	g‹m¶©e
<
ty³Çme
 
	gt
>

28150 
	gCImg
<
	gdoubËT
> 
_ev®
(
CImg
<
T
> *cÚ¡ 
ouut
, cÚ¡ *cÚ¡ 
ex´essiÚ
, cÚ¡ CImg<
t
>& 
xyzc
,

28151 cÚ¡ 
CImgLi¡
<
T
> *cÚ¡ 
li¡_šputs
=0, CImgLi¡<T> *cÚ¡ 
li¡_ouuts
=0) const {

28152 
CImg
<
doubËT
> 
»s
(1,
xyzc
.
size
()/4);

28153 ià(!
	gex´essiÚ
 || !*ex´essiÚè 
	g»s
.
fl
(0);

28154 
_cimg_m©h_·r£r
 
mp
(
ex´essiÚ
,"ev®",*
this
,
ouut
,
li¡_šputs
,
li¡_ouuts
,
çl£
);

28156 #ià
cimg_u£_İ’mp
!=0

28157 
	gtid
 = 0;

28158 
cimg_´agma_İ’mp
(
·¿Î–
 ià(
»s
.
_height
>=512))

28160 
_cimg_m©h_·r£r
 *
_mp
 = 0;

28161 
cimg_´agma_İ’mp
(
ü™iÿl
(
_ev®
)è{ 
	g_mp
 = !
tid
?&
mp
:
Ãw
 
_cimg_m©h_·r£r
(mp); ++
	gtid
; }

28162 
	g_cimg_m©h_·r£r
 &
	glmp
 = *
_mp
;

28163 
cimg_´agma_İ’mp
(
b¬r›r
)

28164 
	glmp
.
begš_t
();

28165 
cimg_´agma_İ’mp
()

28166 
	gi
 = 0; i<
	g»s
.
height
(); ++i) {

28167 cÚ¡ 
	gi4
 = 4*
i
;

28169 
	gx
 = ()
xyzc
[
i4
], 
	gy
 = ()xyzc[i4 + 1],

28170 
	gz
 = ()
xyzc
[
i4
 + 2], 
	gc
 = ()xyzc[i4 + 3];

28171 
	g»s
[
i
] = 
lmp
(
x
,
y
,
z
,
c
);

28173 
	glmp
.
’d_t
();

28174 
cimg_´agma_İ’mp
(
b¬r›r
ècimg_´agma_İ’mp(
ü™iÿl
è{ 
	glmp
.
m”ge
(
mp
); }

28175 ià(&
	glmp
!=&
mp
è
d–‘e
 &
lmp
;

28178 
	gmp
.
begš_t
();

28179 cÚ¡ 
t
 *
	gps
 = 
xyzc
.
_d©a
;

28180 
cimg_fÜ
(
»s
,
pd
,) {

28181 cÚ¡ 
	gx
 = ()*(
ps
++), 
	gy
 = ()*Õs++), 
	gz
 = ()*Õs++), 
	gc
 = ()*(ps++);

28182 *
	gpd
 = 
mp
(
x
,
y
,
z
,
c
);

28184 
	gmp
.
’d_t
();

28186 
	gmp
.
’d
();

28187  
	g»s
;

28196 
	gCImg
<
	gTdoubË
> 
g‘_¡©s
(cÚ¡ 
v¬Ÿnû_m‘hod
=1) const {

28197 ià(
is_em±y
()è 
CImg
<
doubËT
>();

28198 cÚ¡ 
ulÚgT
 
	gsiz
 = 
size
();

28199 cÚ¡ 
lÚgT
 
	goff_’d
 = (lÚgT)
siz
;

28200 
	gS
 = 0, 
	gS2
 = 0, 
	gP
 = 1;

28201 
lÚgT
 
	goffm
 = 0, 
	goffM
 = 0;

28202 
T
 
	gm
 = *
_d©a
, 
	gM
 = 
m
;

28204 
cimg_´agma_İ’mp
(
·¿Î–
 
»duùiÚ
(+:
S
,
S2
è»duùiÚ(*:
P
è
cimg_İ’mp_if_size
(
siz
,131072)) {

28205 
lÚgT
 
	gloffm
 = 0, 
	gloffM
 = 0;

28206 
T
 
	glm
 = *
_d©a
, 
	glM
 = 
lm
;

28207 
cimg_´agma_İ’mp
()

28208 
lÚgT
 
	goff
 = 0; off<
	goff_’d
; ++off) {

28209 cÚ¡ 
T
 
	gv®
 = 
_d©a
[
off
];

28210 cÚ¡ 
	g_v®
 = ()
v®
;

28211 ià(
	gv®
<
	glm
è{†m = 
v®
; 
	gloffm
 = 
off
; }

28212 ià(
	gv®
>
	glM
è{†M = 
v®
; 
	gloffM
 = 
off
; }

28213 
	gS
+=
_v®
;

28214 
	gS2
+=
_v®
*_val;

28215 
	gP
*=
_v®
;

28217 
cimg_´agma_İ’mp
(
ü™iÿl
(
g‘_¡©s
)) {

28218 ià(
	glm
<
	gm
 || (lm==
m
 && 
loffm
<
offm
)è{ m = 
lm
; 
	goffm
 =†offm; }

28219 ià(
	glM
>
	gM
 || (lM==
M
 && 
loffM
<
offM
)è{ M = 
lM
; 
	goffM
 =†offM; }

28224 
	gm—n_v®ue
 = 
S
/
siz
,

28225 
	g_v¬Ÿnû_v®ue
 = 
v¬Ÿnû_m‘hod
==0?(
S2
 - 
S
*S/
siz
)/siz:

28226 (
v¬Ÿnû_m‘hod
==1?(
siz
>1?(
S2
 - 
S
*S/siz)/(siz - 1):0):

28227 
v¬Ÿnû
(
v¬Ÿnû_m‘hod
)),

28228 
	gv¬Ÿnû_v®ue
 = 
_v¬Ÿnû_v®ue
>0?_variance_value:0;

28230 
	gxm
 = 0, 
	gym
 = 0, 
	gzm
 = 0, 
	gcm
 = 0,

28231 
	gxM
 = 0, 
	gyM
 = 0, 
	gzM
 = 0, 
	gcM
 = 0;

28232 
cÚšs
(
_d©a
[
offm
],
xm
,
ym
,
zm
,
cm
);

28233 
cÚšs
(
_d©a
[
offM
],
xM
,
yM
,
zM
,
cM
);

28234  
	gCImg
<
	gTdoubË
>(1,14).
fl
(()
m
,()
M
,
m—n_v®ue
,
v¬Ÿnû_v®ue
,

28235 ()
xm
,()
ym
,()
zm
,()
cm
,

28236 ()
xM
,()
yM
,()
zM
,()
cM
,

28237 
S
,
P
);

28241 
	gCImg
<
	gT
>& 
¡©s
(cÚ¡ 
v¬Ÿnû_m‘hod
=1) {

28242  
g‘_¡©s
(
v¬Ÿnû_m‘hod
).
move_to
(*
this
);

28260 
magn™ude
(cÚ¡ 
magn™ude_ty³
=2) const {

28261 ià(
is_em±y
())

28262 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


28264 
cimg_š¡ªû
);

28265 cÚ¡ 
ulÚgT
 
	gsiz
 = 
size
();

28266 
	g»s
 = 0;

28267 
	gmagn™ude_ty³
) {

28269 
cimg_fÜ
(*
this
,
±rs
,
T
è{ cÚ¡ 
	gv®
 = ()
cimg
::
abs
(*±rs); ià(v®>
	g»s
è» ğ
v®
; }

28272 
cimg_´agma_İ’mp
(
·¿Î–
 
»duùiÚ
(+:
»s
è
cimg_İ’mp_if_size
(
size
(),8192))

28273 
lÚgT
 
	goff
 = 0; off<(
	glÚgT
)
	gsiz
; ++offè
	g»s
+=()
cimg
::
abs
(
_d©a
[
off
]);

28276 
cimg_´agma_İ’mp
(
·¿Î–
 
»duùiÚ
(+:
»s
è
cimg_İ’mp_if_size
(
size
(),8192))

28277 
lÚgT
 
	goff
 = 0; off<(
	glÚgT
)
	gsiz
; ++offè
	g»s
+=()
cimg
::
sqr
(
_d©a
[
off
]);

28278 
	g»s
 = ()
¡d
::
sq¹
(
»s
);

28281  
	g»s
;

28287 
Œaû
() const {

28288 ià(
is_em±y
())

28289 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


28291 
cimg_š¡ªû
);

28292 
	g»s
 = 0;

28293 
cimg_fÜX
(*
this
,
k
è
	g»s
+=()(*this)(k,
	gk
);

28294  
	g»s
;

28300 
d‘
() const {

28301 ià(
is_em±y
(è|| 
	g_width
!=
_height
 || 
_d•th
!=1 || 
_¥eùrum
!=1)

28302 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


28304 
cimg_š¡ªû
);

28306 
	g_width
) {

28307 1 :  ()((*
this
)(0,0));

28308 2 :  ()((*
this
)(0,0))*()((*
	gthis
)(1,1)) - ()((*this)(0,1))*()((*this)(1,0));

28311 
a
 = ()
_d©a
[0], 
	gd
 = ()_d©a[1], 
	gg
 = ()_data[2],

28312 
	gb
 = ()
_d©a
[3], 
	ge
 = ()_d©a[4], 
	gh
 = ()_data[5],

28313 
	gc
 = ()
_d©a
[6], 
	gf
 = ()_d©a[7], 
	gi
 = ()_data[8];

28314  
i
*
a
*
	ge
 -‡*
h
*
	gf
 - i*
b
*
	gd
 + b*
g
*à+ 
c
*
d
*
	gh
 - c*g*e;

28317 
CImg
<
Tæßt
> 
lu
(*
this
,
çl£
);

28318 
	gCImg
<
	guštT
> 
	gšdx
;

28319 
boŞ
 
	gd
;

28320 
	glu
.
_LU
(
šdx
,
d
);

28321 
	g»s
 = 
d
?()1:()-1;

28322 
cimg_fÜX
(
lu
,
i
è
	g»s
*=lu(i,i);

28323  
	g»s
;

28332 
	g‹m¶©e
<
ty³Çme
 
	gt
>

28333 
dÙ
(cÚ¡ 
CImg
<
t
>& 
img
) const {

28334 cÚ¡ 
ulÚgT
 
	gnb
 = 
¡d
::
mš
(
size
(),
img
.size());

28335 
	g»s
 = 0;

28336 
cimg_´agma_İ’mp
(
·¿Î–
 
»duùiÚ
(+:
»s
è
cimg_İ’mp_if_size
(
nb
,8192))

28337 
lÚgT
 
	goff
 = 0; off<(
	glÚgT
)
	gnb
; ++offè
	g»s
+=()
_d©a
[
off
]*()
img
[off];

28338  
	g»s
;

28347 
	gCImg
<
	gT
> 
g‘_veùÜ_©
(cÚ¡ 
x
, cÚ¡ 
y
=0, cÚ¡ 
z
=0) const {

28348 
CImg
<
T
> 
»s
;

28349 ià(
	g»s
.
	g_height
!=
_¥eùrum
è
»s
.
assign
(1,_spectrum);

28350 cÚ¡ 
ulÚgT
 
	gwhd
 = (ulÚgT)
_width
*
_height
*
_d•th
;

28351 cÚ¡ 
T
 *
	g±rs
 = 
d©a
(
x
,
y
,
z
);

28352 
T
 *
	g±rd
 = 
»s
.
_d©a
;

28353 
cimg_fÜC
(*
this
,
c
è{ *(
	g±rd
++èğ*
±rs
; 
	g±rs
+=
whd
; }

28354  
	g»s
;

28364 
	gCImg
<
	gT
> 
g‘_m©rix_©
(cÚ¡ 
x
=0, cÚ¡ 
y
=0, cÚ¡ 
z
=0) const {

28365 cÚ¡ 
n
 = ()
cimg
::
round
(
¡d
::
sq¹
(()
_¥eùrum
));

28366 cÚ¡ 
T
 *
	g±rs
 = 
d©a
(
x
,
y
,
z
,0);

28367 cÚ¡ 
ulÚgT
 
	gwhd
 = (ulÚgT)
_width
*
_height
*
_d•th
;

28368 
	gCImg
<
	gT
> 
»s
(
n
,n);

28369 
T
 *
	g±rd
 = 
»s
.
_d©a
;

28370 
cimg_fÜC
(*
this
,
c
è{ *(
	g±rd
++èğ*
±rs
; 
	g±rs
+=
whd
; }

28371  
	g»s
;

28380 
	gCImg
<
	gT
> 
g‘_‹nsÜ_©
(cÚ¡ 
x
, cÚ¡ 
y
=0, cÚ¡ 
z
=0) const {

28381 cÚ¡ 
T
 *
±rs
 = 
d©a
(
x
,
y
,
z
,0);

28382 cÚ¡ 
ulÚgT
 
	gwhd
 = (ulÚgT)
_width
*
_height
*
_d•th
;

28383 ià(
	g_¥eùrum
==6)

28384  
‹nsÜ
(*
±rs
,*ÕŒ + 
whd
),*(ptrs + 2*whd),*(ptrs + 3*whd),*(ptrs + 4*whd),*(ptrs + 5*whd));

28385 ià(
	g_¥eùrum
==3)

28386  
‹nsÜ
(*
±rs
,*ÕŒ + 
whd
),*(ptrs + 2*whd));

28387  
‹nsÜ
(*
±rs
);

28397 
	g‹m¶©e
<
ty³Çme
 
	gt
>

28398 
	gCImg
<
	gT
>& 
£t_veùÜ_©
(cÚ¡ 
CImg
<
t
>& 
vec
, cÚ¡ 
x
, cÚ¡ 
y
=0, cÚ¡ 
z
=0) {

28399 ià(
x
<
_width
 && 
y
<
_height
 && 
z
<
_d•th
) {

28400 cÚ¡ 
t
 *
±rs
 = 
vec
.
_d©a
;

28401 cÚ¡ 
ulÚgT
 
	gwhd
 = (ulÚgT)
_width
*
_height
*
_d•th
;

28402 
T
 *
	g±rd
 = 
d©a
(
x
,
y
,
z
);

28403 
	gk
 = 
¡d
::
mš
(()
vec
.
size
(),
_¥eùrum
); k; --k) {

28404 *
	g±rd
 = (
T
)*(
±rs
++);…Œd+=
whd
;

28407  *
	gthis
;

28417 
	g‹m¶©e
<
ty³Çme
 
	gt
>

28418 
	gCImg
<
	gT
>& 
£t_m©rix_©
(cÚ¡ 
CImg
<
t
>& 
m©
, cÚ¡ 
x
=0, cÚ¡ 
y
=0, cÚ¡ 
z
=0) {

28419  
£t_veùÜ_©
(
m©
,
x
,
y
,
z
);

28429 
	g‹m¶©e
<
ty³Çme
 
	gt
>

28430 
	gCImg
<
	gT
>& 
£t_‹nsÜ_©
(cÚ¡ 
CImg
<
t
>& 
‹n
, cÚ¡ 
x
=0, cÚ¡ 
y
=0, cÚ¡ 
z
=0) {

28431 
T
 *
±rd
 = 
d©a
(
x
,
y
,
z
,0);

28432 cÚ¡ 
ulÚgT
 
	gsiz
 = (ulÚgT)
_width
*
_height
*
_d•th
;

28433 ià(
	g‹n
.
	g_height
==2) {

28434 *
±rd
 = (
T
)
‹n
[0]; 
	g±rd
+=
siz
;

28435 *
	g±rd
 = (
T
)
‹n
[1];…Œd+=
siz
;

28436 *
	g±rd
 = (
T
)
‹n
[3];

28439 *
	g±rd
 = (
T
)
‹n
[0];…Œd+=
siz
;

28440 *
	g±rd
 = (
T
)
‹n
[1];…Œd+=
siz
;

28441 *
	g±rd
 = (
T
)
‹n
[2];…Œd+=
siz
;

28442 *
	g±rd
 = (
T
)
‹n
[4];…Œd+=
siz
;

28443 *
	g±rd
 = (
T
)
‹n
[5];…Œd+=
siz
;

28444 *
	g±rd
 = (
T
)
‹n
[8];

28446  *
	gthis
;

28453 
	gCImg
<
	gT
>& 
dŸgÚ®
() {

28454  
g‘_dŸgÚ®
().
move_to
(*
this
);

28458 
	gCImg
<
	gT
> 
g‘_dŸgÚ®
() const {

28459 ià(
is_em±y
()è *
	gthis
;

28460 cÚ¡ 
	gsiz
 = ()
size
();

28461 
	gCImg
<
	gT
> 
»s
(
siz
,siz,1,1,0);

28462 
cimg_fÜoff
(*
this
,
off
è
»s
(()off,()off) = (*this)[off];

28463  
	g»s
;

28471 
	gCImg
<
	gT
>& 
id’t™y_m©rix
() {

28472  
id’t™y_m©rix
(
¡d
::
max
(
_width
,
_height
)).
move_to
(*
this
);

28476 
	gCImg
<
	gT
> 
g‘_id’t™y_m©rix
() const {

28477  
id’t™y_m©rix
(
¡d
::
max
(
_width
,
_height
));

28485 
	gCImg
<
	gT
>& 
£qu’û
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
) {

28486 ià(
is_em±y
()è *
	gthis
;

28487 cÚ¡ 
ulÚgT
 
	gsiz
 = 
size
() - 1;

28488 
T
* 
	g±r
 = 
_d©a
;

28489 ià(
	gsiz
) {

28490 cÚ¡ 
	gd–
 = ()
a1
 - ()
a0
;

28491 
cimg_fÜoff
(*
this
,
l
è*(
	g±r
++èğ(
T
)(
a0
 + 
d–
*l/
siz
);

28492 } *
	g±r
 = 
a0
;

28493  *
	gthis
;

28497 
	gCImg
<
	gT
> 
g‘_£qu’û
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
) const {

28498  (+*
	gthis
).
£qu’û
(
a0
,
a1
);

28505 
	gCImg
<
	gT
>& 
Œª¥o£
() {

28506 ià(
	g_width
==1è{ 
_width
 = 
_height
; 
	g_height
 = 1;  *
	gthis
; }

28507 ià(
	g_height
==1è{ 
_height
 = 
_width
; 
	g_width
 = 1;  *
	gthis
; }

28508 ià(
	g_width
==
_height
) {

28509 
cimg_fÜYZC
(*
this
,
y
,
z
,
c
è
x
 = y; 
	gx
<
width
(); ++xè
	gcimg
::
sw­
((*this)(x,y,z,c),(*this)(y,x,z,c));

28510  *
	gthis
;

28512  
g‘_Œª¥o£
().
move_to
(*
this
);

28516 
	gCImg
<
	gT
> 
g‘_Œª¥o£
() const {

28517  
g‘_³rmu‹_axes
("yxzc");

28525 
	g‹m¶©e
<
ty³Çme
 
	gt
>

28526 
	gCImg
<
	gT
>& 
üoss
(cÚ¡ 
CImg
<
t
>& 
img
) {

28527 ià(
	g_width
!=1 || 
_height
<3 || 
img
.
_width
!=1 || img._height<3)

28528 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


28530 
cimg_š¡ªû
,

28531 
img
.
_width
,img.
_height
,img.
_d•th
,img.
_¥eùrum
,img.
_d©a
);

28533 cÚ¡ 
T
 
	gx
 = (*
this
)[0], 
	gy
 = (*this)[1], 
	gz
 = (*this)[2];

28534 (*
	gthis
)[0] = (
T
)(
y
*
img
[2] - 
z
*img[1]);

28535 (*
	gthis
)[1] = (
T
)(
z
*
img
[0] - 
x
*img[2]);

28536 (*
	gthis
)[2] = (
T
)(
x
*
img
[1] - 
y
*img[0]);

28537  *
	gthis
;

28541 
	g‹m¶©e
<
ty³Çme
 
	gt
>

28542 
	gCImg
<
	g_cimg_Tt
> 
g‘_üoss
(cÚ¡ 
CImg
<
t
>& 
img
) const {

28543  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
).
üoss
(
img
);

28552 
	gCImg
<
	gT
>& 
šv”t
(cÚ¡ 
boŞ
 
u£_LU
=
Œue
) {

28553 ià(
_width
!=
_height
 || 
_d•th
!=1 || 
_¥eùrum
!=1)

28554 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


28556 
cimg_š¡ªû
);

28557 cÚ¡ 
	gd‘e
 = 
_width
>3?-1.:
d‘
();

28558 ià(
	gd‘e
!=0. && 
_width
==2) {

28560 
a
 = 
_d©a
[0], 
	gc
 = _data[1],

28561 
	gb
 = 
_d©a
[2], 
	gd
 = _data[3];

28562 
	g_d©a
[0] = (
T
)(
d
/
d‘e
); _d©a[1] = (T)(-
c
/dete);

28563 
	g_d©a
[2] = (
T
)(-
b
/
d‘e
); _d©a[3] = (T)(
a
/dete);

28564 } ià(
	gd‘e
!=0. && 
_width
==3) {

28566 
a
 = 
_d©a
[0], 
	gd
 = _d©a[1], 
	gg
 = _data[2],

28567 
	gb
 = 
_d©a
[3], 
	ge
 = _d©a[4], 
	gh
 = _data[5],

28568 
	gc
 = 
_d©a
[6], 
	gf
 = _d©a[7], 
	gi
 = _data[8];

28569 
	g_d©a
[0] = (
T
)((
i
*
e
 - 
f
*
h
)/
d‘e
), _d©a[1] = (T)((
g
*à- i*
d
)/dete), _data[2] = (T)((d*h - g*e)/dete);

28570 
	g_d©a
[3] = (
T
)((
h
*
c
 - 
i
*
b
)/
d‘e
), _d©a[4] = (T)((i*
a
 - c*
g
)/dete), _data[5] = (T)((g*b -‡*h)/dete);

28571 
	g_d©a
[6] = (
T
)((
b
*
f
 - 
e
*
c
)/
d‘e
), _d©a[7] = (T)((
d
*ø- 
a
*f)/dete), _data[8] = (T)((a*e - d*b)/dete);

28574 #ifdeà
cimg_u£_Ï·ck


28575 
	gINFO
 = ()
u£_LU
, 
	gN
 = 
_width
, 
	gLWORK
 = 4*
N
, *cÚ¡ 
	gIPIV
 = 
Ãw
 [N];

28576 
Tæßt


28577 *cÚ¡ 
	gÏpA
 = 
Ãw
 
Tæßt
[
N
*N],

28578 *cÚ¡ 
	gWORK
 = 
Ãw
 
Tæßt
[
LWORK
];

28579 
cimg_fÜXY
(*
this
,
k
,
l
è
	gÏpA
[k*
N
 +†] = (
Tæßt
)((*this)(k,
	gl
));

28580 
	gcimg
::
g‘rf
(
N
,
ÏpA
,
IPIV
,
INFO
);

28581 ià(
	gINFO
)

28582 
	gcimg
::
w¬n
(
_cimg_š¡ªû


28584 
cimg_š¡ªû
,

28585 
INFO
);

28587 
	gcimg
::
g‘ri
(
N
,
ÏpA
,
IPIV
,
WORK
,
LWORK
,
INFO
);

28588 ià(
	gINFO
)

28589 
	gcimg
::
w¬n
(
_cimg_š¡ªû


28591 
cimg_š¡ªû
,

28592 
INFO
);

28594 ià(!
	gINFO
è
cimg_fÜXY
(*
this
,
k
,
l
è(*
	gthis
)(
	gk
,
	gl
èğ(
T
)(
ÏpA
[k*
N
 +†]); 
fl
(0);

28595 
	gd–‘e
[] 
	gIPIV
; d–‘e[] 
	gÏpA
; d–‘e[] 
	gWORK
;

28597 ià(
	gu£_LU
) {

28598 
	gCImg
<
	gTæßt
> 
A
(*
this
,
çl£
), 
	gšdx
;

28599 
boŞ
 
	gd
;

28600 
	gA
.
_LU
(
šdx
,
d
);

28601 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
_width
*
_height
,16*16))

28602 
cimg_fÜX
(*
this
,
j
) {

28603 
	gCImg
<
	gTæßt
> 
cŞ
(1,
_width
,1,1,0);

28604 
cŞ
(
j
) = 1;

28605 
	gcŞ
.
_sŞve
(
A
,
šdx
);

28606 
cimg_fÜX
(*
this
,
i
è(*
	gthis
)(
	gj
,
	gi
èğ(
T
)
cŞ
(i);

28608 } 
p£udošv”t
(
çl£
);

28611  *
	gthis
;

28615 
	gCImg
<
	gTæßt
> 
g‘_šv”t
(cÚ¡ 
boŞ
 
u£_LU
=
Œue
) const {

28616  
CImg
<
Tæßt
>(*
this
,
çl£
).
šv”t
(
u£_LU
);

28622 
	gCImg
<
	gT
>& 
p£udošv”t
(cÚ¡ 
boŞ
 
u£_LU
=
çl£
) {

28623  
g‘_p£udošv”t
(
u£_LU
).
move_to
(*
this
);

28627 
	gCImg
<
	gTæßt
> 
g‘_p£udošv”t
(cÚ¡ 
boŞ
 
u£_LU
=
çl£
) const {

28630 ià(
u£_LU
) {

28631 
CImg
<
Tæßt
> 
AtA
(
width
(),width());

28632 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
_width
*
_height
,128*128))

28633 
cimg_fÜY
(
AtA
,
i
)

28634 
	gj
 = 0; j<=
i
; ++j) {

28635 
	g»s
 = 0;

28636 
cimg_fÜY
(*
this
,
k
è
	g»s
+=(*this)(
i
,
	gk
)*(*
	gthis
)(
	gj
,k);

28637 
AtA
(
j
,
i
èğAtA(i,jèğ(
Tæßt
)
»s
;

28639 
	gAtA
.
šv”t
(
Œue
);

28640  
AtA
*
g‘_Œª¥o£
();

28644 
	gCImg
<
	gTæßt
> 
	gU
, 
	gS
, 
	gV
;

28645 
SVD
(
U
,
S
,
V
,
çl£
);

28646 cÚ¡ 
Tæßt
 
	g•sÚ
 = ((Tæßt)<=4?5.96e-8f:1.11e-16f)*
¡d
::
max
(
_width
,
_height
)*
	gS
.max();

28647 
cimg_fÜX
(
V
,
x
) {

28648 cÚ¡ 
Tæßt
 
	gs
 = 
S
(
x
), 
	gšvs
 = 
s
>
•sÚ
?1/s:0;

28649 
cimg_fÜY
(
V
,
y
èV(
x
,y)*=
švs
;

28651  
V
*
	gU
.
Œª¥o£
();

28662 
	g‹m¶©e
<
ty³Çme
 
	gt
>

28663 
	gCImg
<
	gT
>& 
sŞve
(cÚ¡ 
CImg
<
t
>& 
A
, cÚ¡ 
boŞ
 
u£_LU
=
çl£
) {

28664 ià(
_d•th
!=1 || 
_¥eùrum
!=1 || 
_height
!=
A
._height || A._depth!=1 || A._spectrum!=1)

28665 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


28668 
cimg_š¡ªû
,

28669 
A
.
_width
,A.
_height
,A.
_d•th
,A.
_¥eùrum
,A.
_d©a
);

28670 
_cimg_Ttæßt
 
	tTtæßt
;

28672 ià(
	gA
.
size
()==1è (*
this
)/=
A
[0];

28673 ià(
	gA
.
	g_width
==2 && 
A
.
_height
==2 && _height==2) {

28674 cÚ¡ 
a
 = ()
A
[0], 
	gb
 = ()A[1], 
	gc
 = ()A[2], 
	gd
 = ()A[3],

28675 
	gç
 = 
¡d
::
çbs
(
a
), 
	gfb
 = std::çbs(
b
), 
	gfc
 = std::çbs(
c
), 
	gfd
 = std::çbs(
d
),

28676 
	gd‘
 = 
a
*
d
 - 
b
*
c
, 
	gfM
 = 
cimg
::
max
(
ç
,
fb
,
fc
,
fd
);

28677 ià(
	gfM
==
ç
)

28678 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
>=256))

28679 
cimg_fÜX
(*
this
,
k
) {

28680 cÚ¡ 
	gu
 = ()(*
this
)(
k
,0), 
	gv
 = ()(*this)(k,1), 
	gy
 = (
a
*
v
 - 
c
*
u
)/
d‘
;

28681 (*
	gthis
)(
	gk
,0èğ(
T
)((
u
 - 
b
*
y
)/
a
); (*this)(k,1) = (T)y;

28682 } ià(
	gfM
==
fc
)

28683 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
>=256))

28684 
cimg_fÜX
(*
this
,
k
) {

28685 cÚ¡ 
	gu
 = ()(*
this
)(
k
,0), 
	gv
 = ()(*this)(k,1), 
	gy
 = (
a
*
v
 - 
c
*
u
)/
d‘
;

28686 (*
	gthis
)(
	gk
,0èğ(
T
)((
v
 - 
d
*
y
)/
c
); (*this)(k,1) = (T)y;

28687 } ià(
	gfM
==
fb
)

28688 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
>=256))

28689 
cimg_fÜX
(*
this
,
k
) {

28690 cÚ¡ 
	gu
 = ()(*
this
)(
k
,0), 
	gv
 = ()(*this)(k,1), 
	gx
 = (
d
*
u
 - 
b
*
v
)/
d‘
;

28691 (*
	gthis
)(
	gk
,0èğ(
T
)
x
; (*this)(k,1èğ(T)((
u
 - 
a
*x)/
b
);

28693 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
>=256))

28694 
cimg_fÜX
(*
this
,
k
) {

28695 cÚ¡ 
	gu
 = ()(*
this
)(
k
,0), 
	gv
 = ()(*this)(k,1), 
	gx
 = (
d
*
u
 - 
b
*
v
)/
d‘
;

28696 (*
	gthis
)(
	gk
,0èğ(
T
)
x
; (*this)(k,1èğ(T)((
v
 - 
c
*x)/
d
);

28698  *
	gthis
;

28701 ià(
	gA
.
	g_width
==
A
.
_height
) {

28702 #ifdeà
cimg_u£_Ï·ck


28703 
TRANS
 = 'N';

28704 
	gINFO
, 
	gN
 = 
_height
, 
	gLWORK
 = 4*
N
, *cÚ¡ 
	gIPIV
 = 
Ãw
 [N];

28705 
Ttæßt


28706 *cÚ¡ 
	gÏpA
 = 
Ãw
 
Ttæßt
[
N
*N],

28707 *cÚ¡ 
	gÏpB
 = 
Ãw
 
Ttæßt
[
N
],

28708 *cÚ¡ 
	gWORK
 = 
Ãw
 
Ttæßt
[
LWORK
];

28709 
cimg_fÜXY
(
A
,
k
,
l
è
	gÏpA
[k*
N
 +†] = (
Ttæßt
)(A(k,l));

28710 
cimg_fÜX
(*
this
,
i
) {

28711 
cimg_fÜY
(*
this
,
j
è
	gÏpB
[j] = (
Ttæßt
)((*this)(
i
,
	gj
));

28712 
	gcimg
::
g‘rf
(
N
,
ÏpA
,
IPIV
,
INFO
);

28713 ià(
	gINFO
)

28714 
	gcimg
::
w¬n
(
_cimg_š¡ªû


28716 
cimg_š¡ªû
,

28717 
INFO
);

28719 
	gcimg
::
g‘rs
(
TRANS
,
N
,
ÏpA
,
IPIV
,
ÏpB
,
INFO
);

28720 ià(
	gINFO
)

28721 
	gcimg
::
w¬n
(
_cimg_š¡ªû


28723 
cimg_š¡ªû
,

28724 
INFO
);

28726 ià(!
	gINFO
è
cimg_fÜY
(*
this
,
j
è(*
	gthis
)(
	gi
,
	gj
èğ(
T
)(
ÏpB
[j]); cimg_forY(*this,j) (*this)(i,j) = (T)0;

28728 
	gd–‘e
[] 
	gIPIV
; d–‘e[] 
	gÏpA
; d–‘e[] 
	gÏpB
; d–‘e[] 
	gWORK
;

28730 
	gCImg
<
	gTtæßt
> 
lu
(
A
,
çl£
);

28731 
	gCImg
<
	gTtæßt
> 
	gšdx
;

28732 
boŞ
 
	gd
;

28733 
	glu
.
_LU
(
šdx
,
d
);

28734 
	gCImg
<
	gT
> 
»s
(
_width
,
A
._width);

28735 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
_width
*
_height
,16))

28736 
cimg_fÜX
(*
this
,
i
è
	g»s
.
d¿w_image
(i,
g‘_cŞumn
(i).
_sŞve
(
lu
,
šdx
));

28737 
	g»s
.
move_to
(*
this
);

28741 #ifdeà
cimg_u£_Ï·ck


28742 
	gTRANS
 = 'N';

28743 
	gINFO
, 
	gN
 = 
A
.
_width
, 
	gM
 = A.
_height
, 
	gLWORK
 = -1, 
	gLDA
 = 
M
, 
	gLDB
 = M, 
	gNRHS
 = _width;

28744 
Ttæßt
 
	gWORK_QUERY
;

28745 
Ttæßt


28746 * cÚ¡ 
	gÏpA
 = 
Ãw
 
Ttæßt
[
M
*
N
],

28747 * cÚ¡ 
	gÏpB
 = 
Ãw
 
Ttæßt
[
M
*
NRHS
];

28748 
	gcimg
::
sg–s
(
TRANS
, 
M
, 
N
, 
NRHS
, 
ÏpA
, 
LDA
, 
ÏpB
, 
LDB
, &
WORK_QUERY
, 
LWORK
, 
INFO
);

28749 
	gLWORK
 = (è
WORK_QUERY
;

28750 
Ttæßt
 *cÚ¡ 
	gWORK
 = 
Ãw
 Ttæßt[
LWORK
];

28751 
cimg_fÜXY
(
A
,
k
,
l
è
	gÏpA
[k*
M
 +†] = (
Ttæßt
)(A(k,l));

28752 
cimg_fÜXY
(*
this
,
k
,
l
è
	gÏpB
[k*
M
 +†] = (
Ttæßt
)((*this)(k,
	gl
));

28753 
	gcimg
::
sg–s
(
TRANS
, 
M
, 
N
, 
NRHS
, 
ÏpA
, 
LDA
, 
ÏpB
, 
LDB
, 
WORK
, 
LWORK
, 
INFO
);

28754 ià(
	gINFO
 != 0)

28755 
cimg
::
w¬n
(
_cimg_š¡ªû


28757 
cimg_š¡ªû
,

28758 
INFO
);

28759 
assign
(
NRHS
, 
N
);

28760 ià(!
	gINFO
è
cimg_fÜXY
(*
this
,
k
,
l
è(*
	gthis
)(
	gk
,
	gl
èğ(
T
)
ÏpB
[k*
M
 +†];

28761 (
	gA
.
g‘_p£udošv”t
(
u£_LU
)*(*
	gthis
)).
move_to
(*
this
);

28762 
	gd–‘e
[] 
	gÏpA
; d–‘e[] 
	gÏpB
; d–‘e[] 
	gWORK
;

28764 (
	gA
.
g‘_p£udošv”t
(
u£_LU
)*(*
	gthis
)).
move_to
(*
this
);

28767  *
	gthis
;

28771 
	g‹m¶©e
<
ty³Çme
 
	gt
>

28772 
	gCImg
<
	g_cimg_Ttæßt
> 
g‘_sŞve
(cÚ¡ 
CImg
<
t
>& 
A
, cÚ¡ 
boŞ
 
u£_LU
=
çl£
) const {

28773 
_cimg_Ttæßt
 
	tTtæßt
;

28774  
	gCImg
<
	gTtæßt
>(*
	gthis
,
	gçl£
).
sŞve
(
A
,
u£_LU
);

28777 
	g‹m¶©e
<
ty³Çme
 
	gt
,y³Çm
	gti
>

28778 
	gCImg
<
	gT
>& 
_sŞve
(cÚ¡ 
CImg
<
t
>& 
A
, cÚ¡ CImg<
ti
>& 
šdx
) {

28779 
_cimg_Ttæßt
 
	tTtæßt
;

28780 cÚ¡ 
	gN
 = 
height
();

28781 
	gii
 = -1;

28782 
Ttæßt
 
	gsum
;

28783 
	gi
 = 0; i<
	gN
; ++i) {

28784 cÚ¡ 
	g
 = ()
šdx
[
i
];

28785 
	gsum
 = (*
this
)(

);

28786 (*
	gthis
)(
	g
èğ(*
this
)(
i
);

28787 ià(
	gii
>=0è
j
 = 
ii
; 
	gj
<=
i
 - 1; ++jè
	gsum
-=
A
(j,i)*(*
	gthis
)(j);

28788 ià(
	gsum
!=0è
ii
 = 
i
;

28789 (*
	gthis
)(
	gi
èğ(
T
)
sum
;

28791 
	gi
 = 
N
 - 1; i>=0; --i) {

28792 
	gsum
 = (*
this
)(
i
);

28793 
	gj
 = 
i
 + 1; j<
	gN
; ++jè
	gsum
-=
A
(
j
,i)*(*
	gthis
)(j);

28794 (*
	gthis
)(
	gi
èğ(
T
)(
sum
/
A
(
i
,i));

28796  *
	gthis
;

28806 
	g‹m¶©e
<
ty³Çme
 
	gt
>

28807 
	gCImg
<
	gT
>& 
sŞve_ŒidŸgÚ®
(cÚ¡ 
CImg
<
t
>& 
A
) {

28808 cÚ¡ 
	gsiz
 = ()
size
();

28809 ià(
	gA
.
	g_width
!=3 || 
A
.
_height
!=
siz
)

28810 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


28813 
cimg_š¡ªû
,

28814 
A
.
_width
,A.
_height
,A.
_d•th
,A.
_¥eùrum
,A.
_d©a
);

28815 
_cimg_Ttæßt
 
	tTtæßt
;

28816 cÚ¡ 
Ttæßt
 
	g•sÚ
 = 1e-4f;

28817 
	gCImg
<
	gTtæßt
> 
	gB
 = 
A
.
g‘_cŞumn
(1), 
V
(*
this
,
çl£
);

28818 
	gi
 = 1; i<()
	gsiz
; ++i) {

28819 cÚ¡ 
Ttæßt
 
	gm
 = 
A
(0,
i
)/(
	gB
[˜- 1]?B[˜- 1]:
•sÚ
);

28820 
	gB
[
i
] -ğ
m
*
A
(2,i - 1);

28821 
	gV
[
i
] -ğ
m
*
V
[i - 1];

28823 (*
	gthis
)[
siz
 - 1] = (
T
)(
V
[siz - 1]/(
B
[siz - 1]?B[siz - 1]:
•sÚ
));

28824 
	gi
 = ()
siz
 - 2; i>=0; --iè(*
	gthis
)[
i
] = (
T
)((
V
[i] - 
A
(2,i)*(*this)[˜+ 1])/(
	gB
[i]?B[i]:
•sÚ
));

28825  *
	gthis
;

28829 
	g‹m¶©e
<
ty³Çme
 
	gt
>

28830 
	gCImg
<
	g_cimg_Ttæßt
> 
g‘_sŞve_ŒidŸgÚ®
(cÚ¡ 
CImg
<
t
>& 
A
) const {

28831  
	gCImg
<
	g_cimg_Ttæßt
>(*
	gthis
,
	gçl£
).
sŞve_ŒidŸgÚ®
(
A
);

28839 
	g‹m¶©e
<
ty³Çme
 
	gt
>

28840 cÚ¡ 
	gCImg
<
	gT
>& 
eig’
(
CImg
<
t
>& 
v®
, CImg<t> &
vec
) const {

28841 ià(
is_em±y
()è{ 
	gv®
.
assign
(); 
	gvec
.assign(); }

28843 ià(
	g_width
!=
_height
 || 
_d•th
>1 || 
_¥eùrum
>1)

28844 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


28846 
cimg_š¡ªû
);

28848 ià(
	gv®
.
size
()<(
	gulÚgT
)
	g_width
èv®.
assign
(1,
_width
);

28849 ià(
	gvec
.
size
()<(
	gulÚgT
)
_width
*
	g_width
èvec.
assign
(_width,_width);

28850 
	g_width
) {

28851 1 : { 
v®
[0] = (
t
)(*
this
)[0]; 
	gvec
[0] = (t)1; } ;

28853 cÚ¡ 
a
 = (*
this
)[0], 
	gb
 = (*this)[1], 
	gc
 = (*this)[2], 
	gd
 = (*this)[3], 
	ge
 =‡ + 
d
;

28854 
	gf
 = 
e
*- 4*(
a
*
d
 - 
b
*
c
);

28855 ià(
	gf
<0è
	gcimg
::
w¬n
(
_cimg_š¡ªû


28857 
cimg_š¡ªû
);

28858 
	gf
 = 
¡d
::
sq¹
(
f
);

28860 
	gl1
 = 0.5*(
e
 - 
f
),

28861 
	gl2
 = 0.5*(
e
 + 
f
),

28862 
	gb2
 = 
b
*b,

28863 
	gnÜm1
 = 
¡d
::
sq¹
(
cimg
::
sqr
(
l2
 - 
a
è+ 
b2
),

28864 
	gnÜm2
 = 
¡d
::
sq¹
(
cimg
::
sqr
(
l1
 - 
a
è+ 
b2
);

28865 
	gv®
[0] = (
t
)
l2
;

28866 
	gv®
[1] = (
t
)
l1
;

28867 ià(
	gnÜm1
>0è{ 
vec
(0,0èğ(
t
)(
b
/
nÜm1
); vec(0,1èğÑ)((
l2
 - 
a
)/norm1); } { vec(0,0) = 1; vec(0,1) = 0; }

28868 ià(
	gnÜm2
>0è{ 
vec
(1,0èğ(
t
)(
b
/
nÜm2
); vec(1,1èğÑ)((
l1
 - 
a
)/norm2); } { vec(1,0) = 1; vec(1,1) = 0; }

28871 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


28874 
cimg_š¡ªû
);

28877  *
	gthis
;

28884 
	gCImgLi¡
<
	gTæßt
> 
g‘_eig’
() const {

28885 
	gCImgLi¡
<
	gTæßt
> 
»s
(2);

28886 
eig’
(
»s
[0],res[1]);

28887  
	g»s
;

28895 
	g‹m¶©e
<
ty³Çme
 
	gt
>

28896 cÚ¡ 
	gCImg
<
	gT
>& 
symm‘ric_eig’
(
CImg
<
t
>& 
v®
, CImg<t>& 
vec
) const {

28897 ià(
is_em±y
()è{ 
	gv®
.
assign
(); 
	gvec
.assign();  *
	gthis
; }

28898 ià(
	g_width
!=
_height
 || 
_d•th
>1 || 
_¥eùrum
>1)

28899 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


28901 
cimg_š¡ªû
);

28902 
	gv®
.
assign
(1,
_width
);

28903 
	gvec
.
assign
(
_width
,_width);

28905 ià(
	g_width
==1è{ 
v®
[0] = 
cimg
::
abs
((*
this
)[0]); 
	gvec
[0] = 1;  *
	gthis
; }

28906 ià(
	g_width
==2) {

28908 
a
 = (*
this
)[0], 
	gb
 = (*this)[1], 
	gc
 = (*this)[2], 
	gd
 = (*this)[3],

28909 
	ge
 = 
a
 + 
d
, 
	gf
 = 
¡d
::
sq¹
(¡d::
max
(
e
*- 4*×*d - 
b
*
c
),0.0)),

28910 
	gl1
 = 0.5*(
e
 - 
f
), 
	gl2
 = 0.5*(e + f),

28911 
	gn
 = 
¡d
::
sq¹
(
cimg
::
sqr
(
l2
 - 
a
è+ 
b
*b);

28912 
	gv®
[0] = (
t
)
l2
;

28913 
	gv®
[1] = (
t
)
l1
;

28914 ià(
	gn
>0è{ 
	gvec
[0] = (
t
)(
b
/
n
); vec[2] = (t)((
l2
 - 
a
)/n); } { vec[0] = 1; vec[2] = 0; }

28915 
	gvec
[1] = -
vec
[2];

28916 
	gvec
[3] = 
vec
[0];

28917  *
	gthis
;

28920 #ifdeà
cimg_u£_Ï·ck


28921 
	gJOB
 = 'V', 
	gUPLO
 = 'U';

28922 
	gN
 = 
_width
, 
	gLWORK
 = 4*
N
, 
	gINFO
;

28923 
Tæßt


28924 *cÚ¡ 
	gÏpA
 = 
Ãw
 
Tæßt
[
N
*N],

28925 *cÚ¡ 
	gÏpW
 = 
Ãw
 
Tæßt
[
N
],

28926 *cÚ¡ 
	gWORK
 = 
Ãw
 
Tæßt
[
LWORK
];

28927 
cimg_fÜXY
(*
this
,
k
,
l
è
	gÏpA
[k*
N
 +†] = (
Tæßt
)((*this)(k,
	gl
));

28928 
	gcimg
::
syev
(
JOB
,
UPLO
,
N
,
ÏpA
,
ÏpW
,
WORK
,
LWORK
,
INFO
);

28929 ià(
	gINFO
)

28930 
	gcimg
::
w¬n
(
_cimg_š¡ªû


28932 
cimg_š¡ªû
,

28933 
INFO
);

28934 ià(!
	gINFO
) {

28935 
cimg_fÜY
(
v®
,
i
èv®(ièğ(
T
)
ÏpW
[
N
 - 1 -i];

28936 
cimg_fÜXY
(
vec
,
k
,
l
èvec(k,lèğ(
T
)(
ÏpA
[(
N
 - 1 - k)*N +†]);

28937 } { 
	gv®
.
fl
(0); 
	gvec
.fill(0); }

28938 
	gd–‘e
[] 
	gÏpA
; d–‘e[] 
	gÏpW
; d–‘e[] 
	gWORK
;

28941 
	gCImg
<
	gt
> 
V
(
_width
,_width);

28942 
Tæßt
 
	gM
 = 0, 
	gm
 = (Tæßt)
mš_max
(
M
), 
	gmaxabs
 = 
cimg
::
max
((Tæßt)1,cimg::
abs
(
m
),cimg::abs(M));

28943 (
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
)/=
maxabs
).
SVD
(
vec
,
v®
,
V
,
çl£
);

28944 ià(
	gmaxabs
!=1è
v®
*=
maxabs
;

28946 
boŞ
 
	gis_ambiguous
 = 
çl£
;

28947 
	geig
 = 0;

28948 
cimg_fÜY
(
v®
,
p
) {

28949 ià(
	gv®
[
p
]>
	geig
èeig = ()
v®
[p];

28950 
t
 
	gsÿl
 = 0;

28951 
cimg_fÜY
(
vec
,
y
è
	gsÿl
+=vec(
p
,y)*
V
(p,y);

28952 ià(
	gcimg
::
abs
(
sÿl
)<0.9fè
is_ambiguous
 = 
Œue
;

28953 ià(
	gsÿl
<0è
	gv®
[
p
] = -
v®
[p];

28955 ià(
	gis_ambiguous
) {

28956 ++(
	geig
*=2);

28957 
SVD
(
vec
,
v®
,
V
,
çl£
,40,
eig
);

28958 
	gv®
-=
eig
;

28961 
	gCImg
<
	gštT
> 
	g³rmutiÚs
;

28962 
	gCImg
<
	gt
> 
tmp
(
_width
);

28963 
	gv®
.
sÜt
(
³rmutiÚs
,
çl£
);

28964 
cimg_fÜY
(
vec
,
k
) {

28965 
cimg_fÜY
(
³rmutiÚs
,
y
è
tmp
(yèğ
vec
Õ”mutiÚs(y),
k
);

28966 
	g¡d
::
memıy
(
vec
.
d©a
(0,
k
),
tmp
.
_d©a
,(
t
)*
_width
);

28969  *
	gthis
;

28977 
	gCImgLi¡
<
	gTæßt
> 
g‘_symm‘ric_eig’
() const {

28978 
	gCImgLi¡
<
	gTæßt
> 
»s
(2);

28979 
symm‘ric_eig’
(
»s
[0],res[1]);

28980  
	g»s
;

28988 
	g‹m¶©e
<
ty³Çme
 
	gt
>

28989 
	gCImg
<
	gT
>& 
sÜt
(
CImg
<
t
>& 
³rmutiÚs
, cÚ¡ 
boŞ
 
is_šü—sšg
=
Œue
) {

28990 
³rmutiÚs
.
assign
(
_width
,
_height
,
_d•th
,
_¥eùrum
);

28991 ià(
is_em±y
()è *
	gthis
;

28992 
cimg_fÜoff
(
³rmutiÚs
,
off
è
	g³rmutiÚs
[off] = (
t
)off;

28993  
_quicksÜt
(0,
size
(è- 1,
³rmutiÚs
,
is_šü—sšg
,
Œue
);

28997 
	g‹m¶©e
<
ty³Çme
 
	gt
>

28998 
	gCImg
<
	gT
> 
g‘_sÜt
(
CImg
<
t
>& 
³rmutiÚs
, cÚ¡ 
boŞ
 
is_šü—sšg
=
Œue
) const {

28999  (+*
this
).
sÜt
(
³rmutiÚs
,
is_šü—sšg
);

29012 
	gCImg
<
	gT
>& 
sÜt
(cÚ¡ 
boŞ
 
is_šü—sšg
=
Œue
, cÚ¡ 
axis
=0) {

29013 ià(
is_em±y
()è *
this
;

29014 
	gCImg
<
	guštT
> 
	g³rm
;

29015 
	gcimg
::
low”ÿ£
(
axis
)) {

29017 
_quicksÜt
(0,
size
(è- 1,
³rm
,
is_šü—sšg
,
çl£
);

29020 
³rm
.
assign
(
_width
);

29021 
g‘_üİ
(0,0,0,0,
_width
 - 1,0,0,0).
sÜt
(
³rm
,
is_šü—sšg
);

29022 
	gCImg
<
	gT
> 
img
(*
this
,
çl£
);

29023 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è(*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
èğ
img
(
³rm
[x],y,z,c);

29026 
³rm
.
assign
(
_height
);

29027 
g‘_üİ
(0,0,0,0,0,
_height
 - 1,0,0).
sÜt
(
³rm
,
is_šü—sšg
);

29028 
	gCImg
<
	gT
> 
img
(*
this
,
çl£
);

29029 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è(*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
èğ
img
(x,
³rm
[y],z,c);

29032 
³rm
.
assign
(
_d•th
);

29033 
g‘_üİ
(0,0,0,0,0,0,
_d•th
 - 1,0).
sÜt
(
³rm
,
is_šü—sšg
);

29034 
	gCImg
<
	gT
> 
img
(*
this
,
çl£
);

29035 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è(*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
èğ
img
(x,y,
³rm
[z],c);

29038 
³rm
.
assign
(
_¥eùrum
);

29039 
g‘_üİ
(0,0,0,0,0,0,0,
_¥eùrum
 - 1).
sÜt
(
³rm
,
is_šü—sšg
);

29040 
	gCImg
<
	gT
> 
img
(*
this
,
çl£
);

29041 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è(*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
èğ
img
(x,y,z,
³rm
[c]);

29044 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


29047 
cimg_š¡ªû
,
axis
);

29049  *
	gthis
;

29053 
	gCImg
<
	gT
> 
g‘_sÜt
(cÚ¡ 
boŞ
 
is_šü—sšg
=
Œue
, cÚ¡ 
axis
=0) const {

29054  (+*
this
).
sÜt
(
is_šü—sšg
,
axis
);

29057 
	g‹m¶©e
<
ty³Çme
 
	gt
>

29058 
	gCImg
<
	gT
>& 
_quicksÜt
(cÚ¡ 
šdm
, cÚ¡ 
šdM
, 
CImg
<
t
>& 
³rmutiÚs
,

29059 cÚ¡ 
boŞ
 
is_šü—sšg
, cÚ¡ boŞ 
is_³rmutiÚs
) {

29060 ià(
	gšdm
<
	gšdM
) {

29061 cÚ¡ 
	gmid
 = (
šdm
 + 
šdM
)/2;

29062 ià(
	gis_šü—sšg
) {

29063 ià((*
	gthis
)[
šdm
]>(*this)[
mid
]) {

29064 
	gcimg
::
sw­
((*
this
)[
šdm
],(*this)[
mid
]);

29065 ià(
	gis_³rmutiÚs
è
	gcimg
::
sw­
(
³rmutiÚs
[
šdm
],³rmutiÚs[
mid
]);

29067 ià((*
	gthis
)[
mid
]>(*this)[
šdM
]) {

29068 
	gcimg
::
sw­
((*
this
)[
šdM
],(*this)[
mid
]);

29069 ià(
	gis_³rmutiÚs
è
	gcimg
::
sw­
(
³rmutiÚs
[
šdM
],³rmutiÚs[
mid
]);

29071 ià((*
	gthis
)[
šdm
]>(*this)[
mid
]) {

29072 
	gcimg
::
sw­
((*
this
)[
šdm
],(*this)[
mid
]);

29073 ià(
	gis_³rmutiÚs
è
	gcimg
::
sw­
(
³rmutiÚs
[
šdm
],³rmutiÚs[
mid
]);

29076 ià((*
	gthis
)[
šdm
]<(*this)[
mid
]) {

29077 
	gcimg
::
sw­
((*
this
)[
šdm
],(*this)[
mid
]);

29078 ià(
	gis_³rmutiÚs
è
	gcimg
::
sw­
(
³rmutiÚs
[
šdm
],³rmutiÚs[
mid
]);

29080 ià((*
	gthis
)[
mid
]<(*this)[
šdM
]) {

29081 
	gcimg
::
sw­
((*
this
)[
šdM
],(*this)[
mid
]);

29082 ià(
	gis_³rmutiÚs
è
	gcimg
::
sw­
(
³rmutiÚs
[
šdM
],³rmutiÚs[
mid
]);

29084 ià((*
	gthis
)[
šdm
]<(*this)[
mid
]) {

29085 
	gcimg
::
sw­
((*
this
)[
šdm
],(*this)[
mid
]);

29086 ià(
	gis_³rmutiÚs
è
	gcimg
::
sw­
(
³rmutiÚs
[
šdm
],³rmutiÚs[
mid
]);

29089 ià(
	gšdM
 - 
	gšdm
>=3) {

29090 cÚ¡ 
T
 
pivÙ
 = (*
this
)[
mid
];

29091 
	gi
 = 
šdm
, 
	gj
 = 
šdM
;

29092 ià(
	gis_šü—sšg
) {

29094 (*
	gthis
)[
i
]<
	gpivÙ
è++
	gi
;

29095 (*
	gthis
)[
j
]>
	gpivÙ
è--
	gj
;

29096 ià(
	gi
<=
j
) {

29097 ià(
is_³rmutiÚs
è
cimg
::
sw­
(
³rmutiÚs
[
i
],³rmutiÚs[
j
]);

29098 
	gcimg
::
sw­
((*
this
)[
i
++],(*this)[
j
--]);

29100 } 
	gi
<=
j
);

29103 (*
	gthis
)[
i
]>
	gpivÙ
è++
	gi
;

29104 (*
	gthis
)[
j
]<
	gpivÙ
è--
	gj
;

29105 ià(
	gi
<=
j
) {

29106 ià(
is_³rmutiÚs
è
cimg
::
sw­
(
³rmutiÚs
[
i
],³rmutiÚs[
j
]);

29107 
	gcimg
::
sw­
((*
this
)[
i
++],(*this)[
j
--]);

29109 } 
	gi
<=
j
);

29111 ià(
	gšdm
<
	gj
è
_quicksÜt
(
šdm
,
j
,
³rmutiÚs
,
is_šü—sšg
,
is_³rmutiÚs
);

29112 ià(
	gi
<
	gšdM
è
_quicksÜt
(
i
,
šdM
,
³rmutiÚs
,
is_šü—sšg
,
is_³rmutiÚs
);

29115  *
	gthis
;

29136 
	g‹m¶©e
<
ty³Çme
 
	gt
>

29137 cÚ¡ 
	gCImg
<
	gT
>& 
SVD
(
CImg
<
t
>& 
U
, CImg<t>& 
S
, CImg<t>& 
V
, cÚ¡ 
boŞ
 
sÜtšg
=
Œue
,

29138 cÚ¡ 
max_™”©iÚ
=40, cÚ¡ 
Ïmbda
=0) const {

29139 
_cimg_Ttæßt
 
	tTtæßt
;

29140 cÚ¡ 
Ttæßt
 
	g•sÚ
 = (Ttfloat)1e-25;

29142 ià(
is_em±y
()è{ 
	gU
.
assign
(); 
	gS
.assign(); 
	gV
.assign(); }

29144 
	gU
 = *
this
;

29145 ià(
	gÏmbda
!=0) {

29146 cÚ¡ 
d–
 = 
¡d
::
mš
(
U
.
_width
,U.
_height
);

29147 
	gi
 = 0; i<
	gd–
; ++iè
U
(
i
,ièğ(
t
)(U(i,iè+ 
	gÏmbda
);

29149 ià(
	gS
.
size
()<
	g_width
èS.
assign
(1,
_width
);

29150 ià(
	gV
.
	g_width
<_width || V.
	g_height
<_heightèV.
assign
(
_width
,_width);

29151 
	gCImg
<
	gt
> 
rv1
(
_width
);

29152 
Ttæßt
 
	gªÜm
 = 0, 
	gc
, 
	gf
, 
	gg
 = 0, 
	gh
, 
	gs
, 
	gsÿË
 = 0;

29153 
	gl
 = 0;

29155 
cimg_fÜX
(
U
,
i
) {

29156 
	gl
 = 
i
 + 1;

29157 
	grv1
[
i
] = 
sÿË
*
g
;

29158 
	gg
 = 
s
 = 
sÿË
 = 0;

29159 ià(
	gi
<
height
()) {

29160 
	gk
 = 
i
; k<
height
(); ++kè
	gsÿË
+=
cimg
::
abs
(
U
(i,
k
));

29161 ià(
	gsÿË
) {

29162 
	gk
 = 
i
; k<
height
(); ++k) {

29163 
U
(
i
,
k
)/=
sÿË
;

29164 
	gs
+=
U
(
i
,
k
)*U(i,k);

29166 
	gf
 = 
U
(
i
,i);

29167 
	gg
 = (
Ttæßt
)((
f
>=0?-1:1)*
¡d
::
sq¹
(
s
));

29168 
	gh
 = 
f
*
g
 - 
s
;

29169 
U
(
i
,ièğ
f
 - 
g
;

29170 
	gj
 = 
l
; j<
width
(); ++j) {

29171 
	gs
 = 0;

29172 
	gk
=
i
; k<
height
(); ++kè
	gs
+=
U
(i,
k
)*U(
j
,k);

29173 
	gf
 = 
s
/
h
;

29174 
	gk
 = 
i
; k<
height
(); ++kè
U
(
j
,
k
)+=
f
*U(i,k);

29176 
	gk
 = 
i
; k<
height
(); ++kè
U
(i,
k
)*=
sÿË
;

29179 
	gS
[
i
] = 
sÿË
*
g
;

29181 
	gg
 = 
s
 = 
sÿË
 = 0;

29182 ià(
	gi
<
height
(è&& i!=
width
() - 1) {

29183 
k
 = 
l
; 
	gk
<
width
(); ++kè
	gsÿË
+=
cimg
::
abs
(
U
(k,
i
));

29184 ià(
	gsÿË
) {

29185 
	gk
 = 
l
; k<
width
(); ++k) {

29186 
U
(
k
,
i
)/=
sÿË
;

29187 
	gs
+=
U
(
k
,
i
)*U(k,i);

29189 
	gf
 = 
U
(
l
,
i
);

29190 
	gg
 = (
Ttæßt
)((
f
>=0?-1:1)*
¡d
::
sq¹
(
s
));

29191 
	gh
 = 
f
*
g
 - 
s
;

29192 
U
(
l
,
i
èğ
f
 - 
g
;

29193 
	gk
 = 
l
; k<
width
(); ++kè
	grv1
[
k
] = 
U
(k,
i
)/
	gh
;

29194 
	gj
 = 
l
; j<
height
(); ++j) {

29195 
	gs
 = 0;

29196 
	gk
 = 
l
; k<
width
(); ++kè
	gs
+=
U
(
k
,
j
)*U(k,
i
);

29197 
	gk
 = 
l
; k<
width
(); ++kè
U
(
k
,
j
)+=
s
*
rv1
[k];

29199 
	gk
 = 
l
; k<
width
(); ++kè
U
(
k
,
i
)*=
sÿË
;

29202 
	gªÜm
 = (
Ttæßt
)
¡d
::
max
(()
ªÜm
,()(
cimg
::
abs
(
S
[
i
]è+ cimg::abs(
rv1
[i])));

29205 
	gi
 = 
width
() - 1; i>=0; --i) {

29206 ià(
	gi
<
width
() - 1) {

29207 ià(
	gg
) {

29208 
	gj
 = 
l
; j<
width
(); ++jè
V
(
i
,
j
è=(
U
(j,i)/UÖ,i))/
	gg
;

29209 
	gj
 = 
l
; j<
width
(); ++j) {

29210 
	gs
 = 0;

29211 
	gk
 = 
l
; k<
width
(); ++kè
	gs
+=
U
(
k
,
i
)*
V
(
j
,k);

29212 
	gk
 = 
l
; k<
width
(); ++kè
V
(
j
,
k
)+=
s
*V(
i
,k);

29215 
	gj
 = 
l
; j<
width
(); ++jè
V
(
j
,
i
èğV(i,jèğ(
t
)0.;

29217 
V
(
i
,ièğ(
t
)1;

29218 
	gg
 = 
rv1
[
i
];

29219 
	gl
 = 
i
;

29222 
	gi
 = 
¡d
::
mš
(
width
(),
height
()) - 1; i>=0; --i) {

29223 
	gl
 = 
i
 + 1;

29224 
	gg
 = 
S
[
i
];

29225 
	gj
 = 
l
; j<
width
(); ++jè
U
(
j
,
i
) = 0;

29226 ià(
	gg
) {

29227 
	gg
 = 1/
g
;

29228 
	gj
 = 
l
; j<
width
(); ++j) {

29229 
	gs
 = 0;

29230 
	gk
 = 
l
; k<
height
(); ++kè
	gs
+=
U
(
i
,
k
)*U(
j
,k);

29231 
	gf
 = (
s
/
U
(
i
,i))*
	gg
;

29232 
	gk
 = 
i
; k<
height
(); ++kè
U
(
j
,
k
)+=
f
*U(i,k);

29234 
	gj
 = 
i
; j<
height
(); ++jè
U
(i,
j
)*ğ
g
;

29235 } 
	gj
 = 
i
; j<
height
(); ++jè
U
(i,
j
) = 0;

29236 ++
U
(
i
,i);

29239 
	gk
 = 
width
() - 1; k>=0; --k) {

29240 
	gnm
 = 0;

29241 
	g™s
 = 0; its<
	gmax_™”©iÚ
; ++its) {

29242 
boŞ
 
	gæag
 = 
Œue
;

29243 
	gl
 = 
k
;†>=1; --l) {

29244 
	gnm
 = 
l
 - 1;

29245 ià((
	gcimg
::
abs
(
rv1
[
l
]è+ 
ªÜm
)=÷nÜmè{ 
æag
 = 
çl£
; ; }

29246 ià((
	gcimg
::
abs
(
S
[
nm
]è+ 
ªÜm
)==anorm) ;

29248 ià(
	gæag
) {

29249 
	gc
 = 0;

29250 
	gs
 = 1;

29251 
	gi
 = 
l
; i<=
k
; ++i) {

29252 
	gf
 = 
s
*
rv1
[
i
];

29253 
	grv1
[
i
] = 
c
*
rv1
[i];

29254 ià((
	gcimg
::
abs
(
f
è+ 
ªÜm
)==anorm) ;

29255 
	gg
 = 
S
[
i
];

29256 
	gh
 = 
cimg
::
_hypÙ
(
f
,
g
);

29257 
	gS
[
i
] = 
h
;

29258 
	gh
 = 1/
h
;

29259 
	gc
 = 
g
*
h
;

29260 
	gs
 = -
f
*
h
;

29261 
cimg_fÜY
(
U
,
j
) {

29262 cÚ¡ 
t
 
	gy
 = 
U
(
nm
,
j
), 
	gz
 = U(
i
,j);

29263 
U
(
nm
,
j
èğ
y
*
c
 + 
z
*
s
;

29264 
U
(
i
,
j
èğ
z
*
c
 - 
y
*
s
;

29269 cÚ¡ 
t
 
	gz
 = 
S
[
k
];

29270 ià(
	gl
==
k
è{ ià(
z
<0è{ 
S
[k] = -z; 
cimg_fÜX
(
U
,
j
è
V
(k,j) = -V(k,j); } ; }

29271 
	gnm
 = 
k
 - 1;

29272 
t
 
	gx
 = 
S
[
l
], 
	gy
 = S[
nm
];

29273 
	gg
 = 
rv1
[
nm
];

29274 
	gh
 = 
rv1
[
k
];

29275 
	gf
 = ((
y
 - 
z
)*(y + zè+ (
g
 - 
h
)*(g + h))/
¡d
::
max
(
•sÚ
,(
Ttæßt
)2*h*y);

29276 
	gg
 = 
cimg
::
_hypÙ
(
f
,(
Ttæßt
)1);

29277 
	gf
 = ((
x
 - 
z
)*(x + zè+ 
h
*((
y
/(
f
 + (f>=0?
g
:-g))è- h))/
¡d
::
max
(
•sÚ
,(
Ttæßt
)x);

29278 
	gc
 = 
s
 = 1;

29279 
	gj
 = 
l
; j<=
nm
; ++j) {

29280 cÚ¡ 
	gi
 = 
j
 + 1;

29281 
	gg
 = 
rv1
[
i
];

29282 
	gh
 = 
s
*
g
;

29283 
	gg
 = 
c
*
g
;

29284 
t
 
	gy1
 = 
S
[
i
], 
	gz1
 = 
cimg
::
_hypÙ
(
f
,
h
);

29285 
	grv1
[
j
] = 
z1
;

29286 
	gc
 = 
f
/
¡d
::
max
(
•sÚ
,(
Ttæßt
)
z1
);

29287 
	gs
 = 
h
/
¡d
::
max
(
•sÚ
,(
Ttæßt
)
z1
);

29288 
	gf
 = 
x
*
c
 + 
g
*
s
;

29289 
	gg
 = 
g
*
c
 - 
x
*
s
;

29290 
	gh
 = 
y1
*
s
;

29291 
	gy1
*=
c
;

29292 
cimg_fÜX
(
U
,
jj
) {

29293 cÚ¡ 
t
 
	gx2
 = 
V
(
j
,
jj
), 
	gz2
 = V(
i
,jj);

29294 
V
(
j
,
jj
èğ
x2
*
c
 + 
z2
*
s
;

29295 
V
(
i
,
jj
èğ
z2
*
c
 - 
x2
*
s
;

29297 
	gz1
 = 
cimg
::
_hypÙ
(
f
,
h
);

29298 
	gS
[
j
] = 
z1
;

29299 ià(
	gz1
) {

29300 
	gz1
 = 1/
¡d
::
max
(
•sÚ
,(
Ttæßt
)
z1
);

29301 
	gc
 = 
f
*
z1
;

29302 
	gs
 = 
h
*
z1
;

29304 
	gf
 = 
c
*
g
 + 
s
*
y1
;

29305 
	gx
 = 
c
*
y1
 - 
s
*
g
;

29306 
cimg_fÜY
(
U
,
jj
) {

29307 cÚ¡ 
t
 
	gy2
 = 
U
(
j
,
jj
), 
	gz2
 = U(
i
,jj);

29308 
U
(
j
,
jj
èğ
y2
*
c
 + 
z2
*
s
;

29309 
U
(
i
,
jj
èğ
z2
*
c
 - 
y2
*
s
;

29312 
	grv1
[
l
] = 0;

29313 
	grv1
[
k
] = 
f
;

29314 
	gS
[
k
] = 
x
;

29318 ià(
	gsÜtšg
) {

29319 
	gCImg
<
	gštT
> 
	g³rmutiÚs
;

29320 
	gCImg
<
	gt
> 
tmp
(
_width
);

29321 
	gS
.
sÜt
(
³rmutiÚs
,
çl£
);

29322 
cimg_fÜY
(
U
,
k
) {

29323 
cimg_fÜY
(
³rmutiÚs
,
y
è
tmp
(yèğ
U
Õ”mutiÚs(y),
k
);

29324 
	g¡d
::
memıy
(
U
.
d©a
(0,
k
),
tmp
.
_d©a
,(
t
)*
_width
);

29326 
cimg_fÜY
(
V
,
k
) {

29327 
cimg_fÜY
(
³rmutiÚs
,
y
è
tmp
(yèğ
V
Õ”mutiÚs(y),
k
);

29328 
	g¡d
::
memıy
(
V
.
d©a
(0,
k
),
tmp
.
_d©a
,(
t
)*
_width
);

29332  *
	gthis
;

29340 
	gCImgLi¡
<
	gTæßt
> 
g‘_SVD
(cÚ¡ 
boŞ
 
sÜtšg
=
Œue
,

29341 cÚ¡ 
max_™”©iÚ
=40, cÚ¡ 
Ïmbda
=0) const {

29342 
CImgLi¡
<
Tæßt
> 
»s
(3);

29343 
SVD
(
»s
[0],»s[1],»s[2],
sÜtšg
,
max_™”©iÚ
,
Ïmbda
);

29344  
	g»s
;

29348 
	g‹m¶©e
<
ty³Çme
 
	gt
>

29349 
	gCImg
<
	gT
>& 
_LU
(
CImg
<
t
>& 
šdx
, 
boŞ
& 
d
) {

29350 cÚ¡ 
	gN
 = 
width
();

29351 
	gimax
 = 0;

29352 
	gCImg
<
	gTæßt
> 
vv
(
N
);

29353 
	gšdx
.
assign
(
N
);

29354 
	gd
 = 
Œue
;

29356 
boŞ
 
	g»tuº0
 = 
çl£
;

29357 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
*
_height
>=512))

29358 
cimg_fÜX
(*
this
,
i
) {

29359 
Tæßt
 
	gvmax
 = 0;

29360 
cimg_fÜX
(*
this
,
j
) {

29361 cÚ¡ 
Tæßt
 
	gtmp
 = 
cimg
::
abs
((*
this
)(
j
,
i
));

29362 ià(
	gtmp
>
	gvmax
èvmax = 
tmp
;

29364 ià(
	gvmax
==0è
»tuº0
 = 
Œue
; 
	gvv
[
i
] = 1/
vmax
;

29366 ià(
	g»tuº0
è{ 
	gšdx
.
fl
(0);  fill(0); }

29368 
cimg_fÜX
(*
this
,
j
) {

29369 
	gi
 = 0; i<
	gj
; ++i) {

29370 
Tæßt
 
	gsum
 = (*
this
)(
j
,
	gi
);

29371 
	gk
 = 0; k<
	gi
; ++kè
	gsum
-=(*
this
)(
k
,i)*(*
	gthis
)(
	gj
,k);

29372 (*
	gthis
)(
	gj
,
	gi
èğ(
T
)
sum
;

29375 
Tæßt
 
	gvmax
 = 0;

29376 
	gi
 = 
j
; i<
width
(); ++i) {

29377 
Tæßt
 
	gsum
 = (*
this
)(
j
,
	gi
);

29378 
	gk
 = 0; k<
	gj
; ++kè
	gsum
-=(*
this
)(
k
,
	gi
)*(*
	gthis
)(j,k);

29379 (*
	gthis
)(
	gj
,
	gi
èğ(
T
)
sum
;

29380 cÚ¡ 
Tæßt
 
	gtmp
 = 
vv
[
i
]*
cimg
::
abs
(
sum
);

29381 ià(
	gtmp
>=
vmax
è{ vmax = 
tmp
; 
	gimax
 = 
i
; }

29383 ià(
	gj
!=
imax
) {

29384 
cimg_fÜX
(*
this
,
k
è
cimg
::
sw­
((*this)(k,
imax
),(*this)(k,
j
));

29385 
	gd
 = !
d
;

29386 
	gvv
[
imax
] = 
vv
[
j
];

29388 
	gšdx
[
j
] = (
t
)
imax
;

29389 ià((*
	gthis
)(
	gj
,j)==0è(*
this
)(
j
,jèğ(
T
)1e-20;

29390 ià(
	gj
<
	gN
) {

29391 cÚ¡ 
Tæßt
 
	gtmp
 = 1/(Tæßt)(*
this
)(
j
,
	gj
);

29392 
	gi
 = 
j
 + 1; i<
	gN
; ++iè(*
	gthis
)(
	gj
,ièğ(
T
)((*
this
)(j,i)*
	gtmp
);

29396  *
	gthis
;

29419 
	g‹m¶©e
<
ty³Çme
 
	gt
>

29420 
	gCImg
<
	gT
>& 
´ojeù_m©rix
(cÚ¡ 
CImg
<
t
>& 
diùiÚ¬y
, cÚ¡ 
m‘hod
=0,

29421 cÚ¡ 
max_™”
=0, cÚ¡ 
max_»sidu®
=1e-6) {

29422  
g‘_´ojeù_m©rix
(
diùiÚ¬y
,
m‘hod
,
max_™”
,
max_»sidu®
).
move_to
(*
this
);

29425 
	g‹m¶©e
<
ty³Çme
 
	gt
>

29426 
	gCImg
<
	gTæßt
> 
g‘_´ojeù_m©rix
(cÚ¡ 
CImg
<
t
>& 
diùiÚ¬y
, cÚ¡ 
m‘hod
=0,

29427 cÚ¡ 
max_™”
=0, cÚ¡ 
max_»sidu®
=1e-6) const {

29428 ià(
_d•th
!=1 || 
_¥eùrum
!=1)

29429 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


29431 
cimg_š¡ªû
);

29432 ià(
	gdiùiÚ¬y
.
	g_height
!=
_height
 || 
diùiÚ¬y
.
_d•th
!=1 || diùiÚ¬y.
_¥eùrum
!=1)

29433 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


29435 
cimg_š¡ªû
,

29436 
diùiÚ¬y
.
_width
,diùiÚ¬y.
_height
,diùiÚ¬y.
_d•th
,diùiÚ¬y.
_¥eùrum
);

29438 ià(!
	gm‘hod
è 
g‘_sŞve
(
diùiÚ¬y
,
Œue
);

29439 
	gCImg
<
	gTæßt
> 
W
(
_width
,
diùiÚ¬y
._width,1,1,0);

29442 
	gCImg
<
	gTæßt
> 
D
(
diùiÚ¬y
,
çl£
), 
DnÜm
(D.
_width
);

29443 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
>=2 && _width*
_height
>=32))

29444 
cimg_fÜX
(
DnÜm
,
d
) {

29445 
Tæßt
 
	gnÜm
 = 0;

29446 
cimg_fÜY
(
D
,
y
è
	gnÜm
+=
cimg
::
sqr
(D(
d
,y));

29447 
	gDnÜm
[
d
] = 
¡d
::
max
((
Tæßt
)1e-8,¡d::
sq¹
(
nÜm
));

29449 
cimg_fÜXY
(
D
,
d
,
y
èD(d,y)/=
DnÜm
[d];

29452 cÚ¡ 
	g´oj_¡•
 = 
m‘hod
<3?1:method - 2;

29453 
boŞ
 
	gis_Üthİroj
 = 
çl£
;

29455 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
>=2 && _width*
_height
>=32))

29456 
cimg_fÜX
(*
this
,
x
) {

29457 
	gCImg
<
	gTæßt
> 
	gS
 = 
g‘_cŞumn
(
x
);

29458 cÚ¡ 
	gCImg
<
	gTæßt
> 
	gS0
 = 
m‘hod
<2?
CImg
<
Tæßt
>():
S
;

29459 
Tæßt
 
	g»sidu®
 = 
S
.
magn™ude
()/S.
_height
;

29460 cÚ¡ 
	gnmax
 = 
max_™”
?max_™”:
D
.
_width
;

29462 
	gn
 = 0;‚<
	gnmax
 && 
	g»sidu®
>
	gmax_»sidu®
; ++n) {

29465 
	gdmax
 = 0;

29466 
Tæßt
 
	gabsdÙmax
 = 0, 
	gdÙmax
 = 0;

29467 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
D
.
_width
>=2 && D._width*D.
_height
>=32))

29468 
cimg_fÜX
(
D
,
d
) {

29469 
Tæßt
 
	g_dÙ
 = 0;

29470 
cimg_fÜY
(
D
,
y
è
	g_dÙ
+=
S
[y]*D(
d
,y);

29471 
Tæßt
 
	gabsdÙ
 = 
cimg
::
abs
(
_dÙ
);

29472 
cimg_´agma_İ’mp
(
ü™iÿl
(
g‘_´ojeù_m©rix
)) {

29473 ià(
	gabsdÙ
>
	gabsdÙmax
) {

29474 
	gabsdÙmax
 = 
absdÙ
;

29475 
	gdÙmax
 = 
_dÙ
;

29476 
	gdmax
 = 
d
;

29481 ià(!
	gn
 || 
	gm‘hod
<3 ||‚%
	g´oj_¡•
) {

29483 
W
(
x
,
dmax
)+=
dÙmax
;

29484 
	g»sidu®
 = 0;

29485 
cimg_fÜY
(
S
,
y
) {

29486 
	gS
[
y
]-=
dÙmax
*
D
(
dmax
,y);

29487 
	g»sidu®
+=
cimg
::
sqr
(
S
[
y
]);

29489 
	g»sidu®
 = 
¡d
::
sq¹
(
»sidu®
)/
S
.
_height
;

29490 
	gis_Üthİroj
 = 
çl£
;

29494 
W
(
x
,
dmax
) = 1;

29495 
	gnbW
 = 0;

29496 
cimg_fÜY
(
W
,
d
èià(W(
x
,d)è++
	gnbW
;

29497 
	gCImg
<
	gTæßt
> 
sD
(
nbW
,
D
.
_height
);

29498 
	gCImg
<
	guštT
> 
šds
(
nbW
);

29499 
	gsd
 = 0;

29500 
cimg_fÜY
(
W
,
d
èià(W(
x
,d)) {

29501 
cimg_fÜY
(
sD
,
y
èsD(
sd
,yèğ
D
(
d
,y);

29502 
	gšds
[
sd
++] = 
d
;

29504 
	gS0
.
g‘_sŞve
(
sD
,
Œue
).
move_to
(sD);

29507 
	gS
 = 
S0
;

29508 
cimg_fÜY
(
sD
,
k
) {

29509 cÚ¡ 
Tæßt
 
	gweight
 = 
sD
[
k
];

29510 cÚ¡ 
	gšd
 = 
šds
[
k
];

29511 
W
(
x
,
šd
èğ
weight
;

29512 
cimg_fÜY
(
S
,
y
è
	gS
[y]-=
weight
*
D
(
šd
,y);

29514 
	g»sidu®
 = 
S
.
magn™ude
()/S.
_height
;

29515 
	gis_Üthİroj
 = 
Œue
;

29520 ià(
	gm‘hod
>=2 && !
is_Üthİroj
) {

29521 
nbW
 = 0;

29522 
cimg_fÜY
(
W
,
d
èià(W(
x
,d)è++
	gnbW
;

29523 ià(
	gnbW
) {

29524 
	gCImg
<
	gTæßt
> 
sD
(
nbW
,
D
.
_height
);

29525 
	gCImg
<
	guštT
> 
šds
(
nbW
);

29526 
	gsd
 = 0;

29527 
cimg_fÜY
(
W
,
d
èià(W(
x
,d)) {

29528 
cimg_fÜY
(
sD
,
y
èsD(
sd
,yèğ
D
(
d
,y);

29529 
	gšds
[
sd
++] = 
d
;

29531 
	gS0
.
g‘_sŞve
(
sD
,
Œue
).
move_to
(sD);

29532 
cimg_fÜY
(
sD
,
k
è
W
(
x
,
šds
[k]) = sD[k];

29538 
cimg_fÜXY
(
W
,
x
,
y
èW(x,y)/=
DnÜm
[y];

29539  
	gW
;

29553 
	g‹m¶©e
<
ty³Çme
 
	gtf
,y³Çm
	gt
>

29554 
	gCImg
<
	gT
> 
dijk¡¿
(cÚ¡ 
tf
& 
di¡ªû
, cÚ¡ 
nb_nodes
,

29555 cÚ¡ 
¡¬tšg_node
, cÚ¡ 
’dšg_node
,

29556 
CImg
<
t
>& 
´evious_node
) {

29557 ià(
	g¡¬tšg_node
>=
nb_nodes
)

29558 
throw
 
CImgArgum’tExû±iÚ
("CImg<%s>::dijkstra(): Specified index of starting‚ode %u is higher "

29560 
pix–_ty³
(),
¡¬tšg_node
,
nb_nodes
);

29561 
	gCImg
<
	gT
> 
di¡
(1,
nb_nodes
,1,1,
cimg
::
ty³
<
T
>::
max
());

29562 
di¡
(
¡¬tšg_node
) = 0;

29563 
	g´evious_node
.
assign
(1,
nb_nodes
,1,1,(
t
)-1);

29564 
´evious_node
(
¡¬tšg_node
èğ(
t
)starting_node;

29565 
	gCImg
<
	guštT
> 
Q
(
nb_nodes
);

29566 
cimg_fÜX
(
Q
,
u
) Q(u) = ()u;

29567 
	gcimg
::
sw­
(
Q
(
¡¬tšg_node
),Q(0));

29568 
	gsizeQ
 = 
nb_nodes
;

29569 
	gsizeQ
) {

29571 cÚ¡ 
	gumš
 = 
Q
(0);

29572 ià(
	gumš
==
’dšg_node
è
sizeQ
 = 0;

29574 cÚ¡ 
T
 
	gdmš
 = 
di¡
(
umš
);

29575 cÚ¡ 
T
 
	gšáy
 = 
cimg
::
ty³
<T>::
max
();

29576 
	gq
 = 1; q<
	gsizeQ
; ++q) {

29577 cÚ¡ 
	gv
 = 
Q
(
q
);

29578 cÚ¡ 
T
 
	gd
 = (T)
di¡ªû
(
v
,
umš
);

29579 ià(
	gd
<
	gšáy
) {

29580 cÚ¡ 
T
 
	g®t
 = 
dmš
 + 
d
;

29581 ià(
	g®t
<
di¡
(
v
)) {

29582 
di¡
(
v
èğ
®t
;

29583 
´evious_node
(
v
èğ(
t
)
umš
;

29584 cÚ¡ 
T
 
	gdi¡pos
 = 
di¡
(
Q
(
q
));

29585 
	gpos
 = 
q
, 
	g·r
 = 0;…o && 
	gdi¡pos
<
di¡
(
Q
(
·r
=(
pos
 + 1)/2 - 1));…os=par)

29586 
cimg
::
sw­
(
Q
(
pos
),Q(
·r
));

29591 
Q
(0èğQ(--
sizeQ
);

29592 cÚ¡ 
T
 
	gdi¡pos
 = 
di¡
(
Q
(0));

29593 
	gpos
 = 0, 
	gËá
 = 0, 
	gright
 = 0;

29594 ((
	gright
=2*(
pos
 + 1),(
	gËá
=
right
 - 1))<
sizeQ
 && 
di¡pos
>
di¡
(
Q
(
Ëá
))) ||

29595 (
right
<
sizeQ
 && 
di¡pos
>
di¡
(
Q
(right)));) {

29596 ià(
	gright
<
	gsizeQ
) {

29597 ià(
di¡
(
Q
(
Ëá
))<di¡(Q(
right
))è{ 
	gcimg
::
sw­
(Q(
pos
),QÖeá)); 
	gpos
 =†eft; }

29598 { 
	gcimg
::
sw­
(
Q
(
pos
),Q(
right
)); 
	gpos
 =„ight; }

29599 } { 
	gcimg
::
sw­
(
Q
(
pos
),Q(
Ëá
)); 
	gpos
 =†eft; }

29603  
	gdi¡
;

29607 
	g‹m¶©e
<
ty³Çme
 
	gtf
,y³Çm
	gt
>

29608 
	gCImg
<
	gT
> 
dijk¡¿
(cÚ¡ 
tf
& 
di¡ªû
, cÚ¡ 
nb_nodes
,

29609 cÚ¡ 
¡¬tšg_node
, cÚ¡ 
’dšg_node
=~0U) {

29610 
CImg
<
uštT
> 
foo
;

29611  
dijk¡¿
(
di¡ªû
,
nb_nodes
,
¡¬tšg_node
,
’dšg_node
,
foo
);

29623 
	g‹m¶©e
<
ty³Çme
 
	gt
>

29624 
	gCImg
<
	gT
>& 
dijk¡¿
(cÚ¡ 
¡¬tšg_node
, cÚ¡ 
’dšg_node
,

29625 
CImg
<
t
>& 
´evious_node
) {

29626  
g‘_dijk¡¿
(
¡¬tšg_node
,
’dšg_node
,
´evious_node
).
move_to
(*
this
);

29630 
	g‹m¶©e
<
ty³Çme
 
	gt
>

29631 
	gCImg
<
	gT
> 
g‘_dijk¡¿
(cÚ¡ 
¡¬tšg_node
, cÚ¡ 
’dšg_node
,

29632 
CImg
<
t
>& 
´evious_node
) const {

29633 ià(
	g_width
!=
_height
 || 
_d•th
!=1 || 
_¥eùrum
!=1)

29634 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


29636 
cimg_š¡ªû
);

29638  
dijk¡¿
(*
this
,
_width
,
¡¬tšg_node
,
’dšg_node
,
´evious_node
);

29642 
	gCImg
<
	gT
>& 
dijk¡¿
(cÚ¡ 
¡¬tšg_node
, cÚ¡ 
’dšg_node
=~0U) {

29643  
g‘_dijk¡¿
(
¡¬tšg_node
,
’dšg_node
).
move_to
(*
this
);

29647 
	gCImg
<
	gTæßt
> 
g‘_dijk¡¿
(cÚ¡ 
¡¬tšg_node
, cÚ¡ 
’dšg_node
=~0U) const {

29648 
CImg
<
uštT
> 
foo
;

29649  
g‘_dijk¡¿
(
¡¬tšg_node
,
’dšg_node
,
foo
);

29658 
	gCImg
<
	gT
> 
¡ršg
(cÚ¡ *cÚ¡ 
¡r
, cÚ¡ 
boŞ
 
is_Ï¡_z”o
=
Œue
, cÚ¡ boŞ 
is_sh¬ed
=
çl£
) {

29659 ià(!
¡r
è 
CImg
<
T
>();

29660  
	gCImg
<
	gT
>(
	g¡r
,()
	g¡d
::
¡¾’
(
¡r
è+ (
is_Ï¡_z”o
?1:0),1,1,1,
	gis_sh¬ed
);

29667 
	gCImg
<
	gT
> 
row_veùÜ
(cÚ¡ 
T
& 
a0
) {

29668  
veùÜ
(
a0
);

29676 
	gCImg
<
	gT
> 
row_veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
) {

29677 
	gCImg
<
	gT
> 
r
(2,1);

29678 
	gr
[0] = 
a0
;„[1] = 
a1
;

29679  
	gr
;

29688 
	gCImg
<
	gT
> 
row_veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
) {

29689 
	gCImg
<
	gT
> 
r
(3,1);

29690 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;

29691  
	gr
;

29701 
	gCImg
<
	gT
> 
row_veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
) {

29702 
	gCImg
<
	gT
> 
r
(4,1);

29703 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;„[3] = 
a3
;

29704  
	gr
;

29708 
	gCImg
<
	gT
> 
row_veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
, cÚ¡ T& 
a4
) {

29709 
	gCImg
<
	gT
> 
r
(5,1);

29710 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;„[3] = 
a3
;„[4] = 
a4
;

29711  
	gr
;

29715 
	gCImg
<
	gT
> 
row_veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
, cÚ¡ T& 
a4
, cÚ¡ T& 
a5
) {

29716 
	gCImg
<
	gT
> 
r
(6,1);

29717 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;„[3] = 
a3
;„[4] = 
a4
;„[5] = 
a5
;

29718  
	gr
;

29722 
	gCImg
<
	gT
> 
row_veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
,

29723 cÚ¡ 
T
& 
a4
, cÚ¡ T& 
a5
, cÚ¡ T& 
a6
) {

29724 
	gCImg
<
	gT
> 
r
(7,1);

29725 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;„[3] = 
a3
;„[4] = 
a4
;„[5] = 
a5
;„[6] = 
a6
;

29726  
	gr
;

29730 
	gCImg
<
	gT
> 
row_veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
,

29731 cÚ¡ 
T
& 
a4
, cÚ¡ T& 
a5
, cÚ¡ T& 
a6
, cÚ¡ T& 
a7
) {

29732 
	gCImg
<
	gT
> 
r
(8,1);

29733 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;„[3] = 
a3
;„[4] = 
a4
;„[5] = 
a5
;„[6] = 
a6
;„[7] = 
a7
;

29734  
	gr
;

29738 
	gCImg
<
	gT
> 
row_veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
,

29739 cÚ¡ 
T
& 
a4
, cÚ¡ T& 
a5
, cÚ¡ T& 
a6
, cÚ¡ T& 
a7
,

29740 cÚ¡ 
T
& 
a8
) {

29741 
	gCImg
<
	gT
> 
r
(9,1);

29742 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;„[3] = 
a3
;„[4] = 
a4
;„[5] = 
a5
;„[6] = 
a6
;„[7] = 
a7
;„[8] = 
a8
;

29743  
	gr
;

29747 
	gCImg
<
	gT
> 
row_veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
,

29748 cÚ¡ 
T
& 
a4
, cÚ¡ T& 
a5
, cÚ¡ T& 
a6
, cÚ¡ T& 
a7
,

29749 cÚ¡ 
T
& 
a8
, cÚ¡ T& 
a9
) {

29750 
	gCImg
<
	gT
> 
r
(10,1);

29751 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;„[3] = 
a3
;„[4] = 
a4
;„[5] = 
a5
;„[6] = 
a6
;„[7] = 
a7
;„[8] = 
a8
;„[9] = 
a9
;

29752  
	gr
;

29756 
	gCImg
<
	gT
> 
row_veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
,

29757 cÚ¡ 
T
& 
a4
, cÚ¡ T& 
a5
, cÚ¡ T& 
a6
, cÚ¡ T& 
a7
,

29758 cÚ¡ 
T
& 
a8
, cÚ¡ T& 
a9
, cÚ¡ T& 
a10
) {

29759 
	gCImg
<
	gT
> 
r
(11,1);

29760 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;„[3] = 
a3
;„[4] = 
a4
;„[5] = 
a5
;„[6] = 
a6
;„[7] = 
a7
;„[8] = 
a8
;„[9] = 
a9
;

29761 
	gr
[10] = 
a10
;

29762  
	gr
;

29766 
	gCImg
<
	gT
> 
row_veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
,

29767 cÚ¡ 
T
& 
a4
, cÚ¡ T& 
a5
, cÚ¡ T& 
a6
, cÚ¡ T& 
a7
,

29768 cÚ¡ 
T
& 
a8
, cÚ¡ T& 
a9
, cÚ¡ T& 
a10
, cÚ¡ T& 
a11
) {

29769 
	gCImg
<
	gT
> 
r
(12,1);

29770 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;„[3] = 
a3
;„[4] = 
a4
;„[5] = 
a5
;„[6] = 
a6
;„[7] = 
a7
;„[8] = 
a8
;„[9] = 
a9
;

29771 
	gr
[10] = 
a10
;„[11] = 
a11
;

29772  
	gr
;

29776 
	gCImg
<
	gT
> 
row_veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
,

29777 cÚ¡ 
T
& 
a4
, cÚ¡ T& 
a5
, cÚ¡ T& 
a6
, cÚ¡ T& 
a7
,

29778 cÚ¡ 
T
& 
a8
, cÚ¡ T& 
a9
, cÚ¡ T& 
a10
, cÚ¡ T& 
a11
,

29779 cÚ¡ 
T
& 
a12
) {

29780 
	gCImg
<
	gT
> 
r
(13,1);

29781 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;„[3] = 
a3
;„[4] = 
a4
;„[5] = 
a5
;„[6] = 
a6
;„[7] = 
a7
;„[8] = 
a8
;„[9] = 
a9
;

29782 
	gr
[10] = 
a10
;„[11] = 
a11
;„[12] = 
a12
;

29783  
	gr
;

29787 
	gCImg
<
	gT
> 
row_veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
,

29788 cÚ¡ 
T
& 
a4
, cÚ¡ T& 
a5
, cÚ¡ T& 
a6
, cÚ¡ T& 
a7
,

29789 cÚ¡ 
T
& 
a8
, cÚ¡ T& 
a9
, cÚ¡ T& 
a10
, cÚ¡ T& 
a11
,

29790 cÚ¡ 
T
& 
a12
, cÚ¡ T& 
a13
) {

29791 
	gCImg
<
	gT
> 
r
(14,1);

29792 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;„[3] = 
a3
;„[4] = 
a4
;„[5] = 
a5
;„[6] = 
a6
;„[7] = 
a7
;„[8] = 
a8
;„[9] = 
a9
;

29793 
	gr
[10] = 
a10
;„[11] = 
a11
;„[12] = 
a12
;„[13] = 
a13
;

29794  
	gr
;

29798 
	gCImg
<
	gT
> 
row_veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
,

29799 cÚ¡ 
T
& 
a4
, cÚ¡ T& 
a5
, cÚ¡ T& 
a6
, cÚ¡ T& 
a7
,

29800 cÚ¡ 
T
& 
a8
, cÚ¡ T& 
a9
, cÚ¡ T& 
a10
, cÚ¡ T& 
a11
,

29801 cÚ¡ 
T
& 
a12
, cÚ¡ T& 
a13
, cÚ¡ T& 
a14
) {

29802 
	gCImg
<
	gT
> 
r
(15,1);

29803 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;„[3] = 
a3
;„[4] = 
a4
;„[5] = 
a5
;„[6] = 
a6
;„[7] = 
a7
;„[8] = 
a8
;„[9] = 
a9
;

29804 
	gr
[10] = 
a10
;„[11] = 
a11
;„[12] = 
a12
;„[13] = 
a13
;„[14] = 
a14
;

29805  
	gr
;

29809 
	gCImg
<
	gT
> 
row_veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
,

29810 cÚ¡ 
T
& 
a4
, cÚ¡ T& 
a5
, cÚ¡ T& 
a6
, cÚ¡ T& 
a7
,

29811 cÚ¡ 
T
& 
a8
, cÚ¡ T& 
a9
, cÚ¡ T& 
a10
, cÚ¡ T& 
a11
,

29812 cÚ¡ 
T
& 
a12
, cÚ¡ T& 
a13
, cÚ¡ T& 
a14
, cÚ¡ T& 
a15
) {

29813 
	gCImg
<
	gT
> 
r
(16,1);

29814 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;„[3] = 
a3
;„[4] = 
a4
;„[5] = 
a5
;„[6] = 
a6
;„[7] = 
a7
;„[8] = 
a8
;„[9] = 
a9
;

29815 
	gr
[10] = 
a10
;„[11] = 
a11
;„[12] = 
a12
;„[13] = 
a13
;„[14] = 
a14
;„[15] = 
a15
;

29816  
	gr
;

29823 
	gCImg
<
	gT
> 
veùÜ
(cÚ¡ 
T
& 
a0
) {

29824 
	gCImg
<
	gT
> 
r
(1,1);

29825 
	gr
[0] = 
a0
;

29826  
	gr
;

29834 
	gCImg
<
	gT
> 
veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
) {

29835 
	gCImg
<
	gT
> 
r
(1,2);

29836 
	gr
[0] = 
a0
;„[1] = 
a1
;

29837  
	gr
;

29846 
	gCImg
<
	gT
> 
veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
) {

29847 
	gCImg
<
	gT
> 
r
(1,3);

29848 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;

29849  
	gr
;

29859 
	gCImg
<
	gT
> 
veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
) {

29860 
	gCImg
<
	gT
> 
r
(1,4);

29861 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;„[3] = 
a3
;

29862  
	gr
;

29866 
	gCImg
<
	gT
> 
veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
, cÚ¡ T& 
a4
) {

29867 
	gCImg
<
	gT
> 
r
(1,5);

29868 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;„[3] = 
a3
;„[4] = 
a4
;

29869  
	gr
;

29873 
	gCImg
<
	gT
> 
veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
, cÚ¡ T& 
a4
, cÚ¡ T& 
a5
) {

29874 
	gCImg
<
	gT
> 
r
(1,6);

29875 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;„[3] = 
a3
;„[4] = 
a4
;„[5] = 
a5
;

29876  
	gr
;

29880 
	gCImg
<
	gT
> 
veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
,

29881 cÚ¡ 
T
& 
a4
, cÚ¡ T& 
a5
, cÚ¡ T& 
a6
) {

29882 
	gCImg
<
	gT
> 
r
(1,7);

29883 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;„[3] = 
a3
;„[4] = 
a4
;„[5] = 
a5
;„[6] = 
a6
;

29884  
	gr
;

29888 
	gCImg
<
	gT
> 
veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
,

29889 cÚ¡ 
T
& 
a4
, cÚ¡ T& 
a5
, cÚ¡ T& 
a6
, cÚ¡ T& 
a7
) {

29890 
	gCImg
<
	gT
> 
r
(1,8);

29891 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;„[3] = 
a3
;„[4] = 
a4
;„[5] = 
a5
;„[6] = 
a6
;„[7] = 
a7
;

29892  
	gr
;

29896 
	gCImg
<
	gT
> 
veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
,

29897 cÚ¡ 
T
& 
a4
, cÚ¡ T& 
a5
, cÚ¡ T& 
a6
, cÚ¡ T& 
a7
,

29898 cÚ¡ 
T
& 
a8
) {

29899 
	gCImg
<
	gT
> 
r
(1,9);

29900 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;„[3] = 
a3
;„[4] = 
a4
;„[5] = 
a5
;„[6] = 
a6
;„[7] = 
a7
;„[8] = 
a8
;

29901  
	gr
;

29905 
	gCImg
<
	gT
> 
veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
,

29906 cÚ¡ 
T
& 
a4
, cÚ¡ T& 
a5
, cÚ¡ T& 
a6
, cÚ¡ T& 
a7
,

29907 cÚ¡ 
T
& 
a8
, cÚ¡ T& 
a9
) {

29908 
	gCImg
<
	gT
> 
r
(1,10);

29909 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;„[3] = 
a3
;„[4] = 
a4
;„[5] = 
a5
;„[6] = 
a6
;„[7] = 
a7
;„[8] = 
a8
;„[9] = 
a9
;

29910  
	gr
;

29914 
	gCImg
<
	gT
> 
veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
,

29915 cÚ¡ 
T
& 
a4
, cÚ¡ T& 
a5
, cÚ¡ T& 
a6
, cÚ¡ T& 
a7
,

29916 cÚ¡ 
T
& 
a8
, cÚ¡ T& 
a9
, cÚ¡ T& 
a10
) {

29917 
	gCImg
<
	gT
> 
r
(1,11);

29918 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;„[3] = 
a3
;„[4] = 
a4
;„[5] = 
a5
;„[6] = 
a6
;„[7] = 
a7
;„[8] = 
a8
;„[9] = 
a9
;

29919 
	gr
[10] = 
a10
;

29920  
	gr
;

29924 
	gCImg
<
	gT
> 
veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
,

29925 cÚ¡ 
T
& 
a4
, cÚ¡ T& 
a5
, cÚ¡ T& 
a6
, cÚ¡ T& 
a7
,

29926 cÚ¡ 
T
& 
a8
, cÚ¡ T& 
a9
, cÚ¡ T& 
a10
, cÚ¡ T& 
a11
) {

29927 
	gCImg
<
	gT
> 
r
(1,12);

29928 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;„[3] = 
a3
;„[4] = 
a4
;„[5] = 
a5
;„[6] = 
a6
;„[7] = 
a7
;„[8] = 
a8
;„[9] = 
a9
;

29929 
	gr
[10] = 
a10
;„[11] = 
a11
;

29930  
	gr
;

29934 
	gCImg
<
	gT
> 
veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
,

29935 cÚ¡ 
T
& 
a4
, cÚ¡ T& 
a5
, cÚ¡ T& 
a6
, cÚ¡ T& 
a7
,

29936 cÚ¡ 
T
& 
a8
, cÚ¡ T& 
a9
, cÚ¡ T& 
a10
, cÚ¡ T& 
a11
,

29937 cÚ¡ 
T
& 
a12
) {

29938 
	gCImg
<
	gT
> 
r
(1,13);

29939 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;„[3] = 
a3
;„[4] = 
a4
;„[5] = 
a5
;„[6] = 
a6
;„[7] = 
a7
;„[8] = 
a8
;„[9] = 
a9
;

29940 
	gr
[10] = 
a10
;„[11] = 
a11
;„[12] = 
a12
;

29941  
	gr
;

29945 
	gCImg
<
	gT
> 
veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
,

29946 cÚ¡ 
T
& 
a4
, cÚ¡ T& 
a5
, cÚ¡ T& 
a6
, cÚ¡ T& 
a7
,

29947 cÚ¡ 
T
& 
a8
, cÚ¡ T& 
a9
, cÚ¡ T& 
a10
, cÚ¡ T& 
a11
,

29948 cÚ¡ 
T
& 
a12
, cÚ¡ T& 
a13
) {

29949 
	gCImg
<
	gT
> 
r
(1,14);

29950 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;„[3] = 
a3
;„[4] = 
a4
;„[5] = 
a5
;„[6] = 
a6
;„[7] = 
a7
;„[8] = 
a8
;„[9] = 
a9
;

29951 
	gr
[10] = 
a10
;„[11] = 
a11
;„[12] = 
a12
;„[13] = 
a13
;

29952  
	gr
;

29956 
	gCImg
<
	gT
> 
veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
,

29957 cÚ¡ 
T
& 
a4
, cÚ¡ T& 
a5
, cÚ¡ T& 
a6
, cÚ¡ T& 
a7
,

29958 cÚ¡ 
T
& 
a8
, cÚ¡ T& 
a9
, cÚ¡ T& 
a10
, cÚ¡ T& 
a11
,

29959 cÚ¡ 
T
& 
a12
, cÚ¡ T& 
a13
, cÚ¡ T& 
a14
) {

29960 
	gCImg
<
	gT
> 
r
(1,15);

29961 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;„[3] = 
a3
;„[4] = 
a4
;„[5] = 
a5
;„[6] = 
a6
;„[7] = 
a7
;„[8] = 
a8
;„[9] = 
a9
;

29962 
	gr
[10] = 
a10
;„[11] = 
a11
;„[12] = 
a12
;„[13] = 
a13
;„[14] = 
a14
;

29963  
	gr
;

29967 
	gCImg
<
	gT
> 
veùÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
,

29968 cÚ¡ 
T
& 
a4
, cÚ¡ T& 
a5
, cÚ¡ T& 
a6
, cÚ¡ T& 
a7
,

29969 cÚ¡ 
T
& 
a8
, cÚ¡ T& 
a9
, cÚ¡ T& 
a10
, cÚ¡ T& 
a11
,

29970 cÚ¡ 
T
& 
a12
, cÚ¡ T& 
a13
, cÚ¡ T& 
a14
, cÚ¡ T& 
a15
) {

29971 
	gCImg
<
	gT
> 
r
(1,16);

29972 
	gr
[0] = 
a0
;„[1] = 
a1
;„[2] = 
a2
;„[3] = 
a3
;„[4] = 
a4
;„[5] = 
a5
;„[6] = 
a6
;„[7] = 
a7
;„[8] = 
a8
;„[9] = 
a9
;

29973 
	gr
[10] = 
a10
;„[11] = 
a11
;„[12] = 
a12
;„[13] = 
a13
;„[14] = 
a14
;„[15] = 
a15
;

29974  
	gr
;

29982 
	gCImg
<
	gT
> 
m©rix
(cÚ¡ 
T
& 
a0
) {

29983  
veùÜ
(
a0
);

29993 
	gCImg
<
	gT
> 
m©rix
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
,

29994 cÚ¡ 
T
& 
a2
, cÚ¡ T& 
a3
) {

29995 
	gCImg
<
	gT
> 
r
(2,2); 
T
 *
	g±r
 =„.
_d©a
;

29996 *(
	g±r
++èğ
a0
; *ÕŒ++èğ
a1
;

29997 *(
	g±r
++èğ
a2
; *ÕŒ++èğ
a3
;

29998  
	gr
;

30013 
	gCImg
<
	gT
> 
m©rix
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
,

30014 cÚ¡ 
T
& 
a3
, cÚ¡ T& 
a4
, cÚ¡ T& 
a5
,

30015 cÚ¡ 
T
& 
a6
, cÚ¡ T& 
a7
, cÚ¡ T& 
a8
) {

30016 
	gCImg
<
	gT
> 
r
(3,3); 
T
 *
	g±r
 =„.
_d©a
;

30017 *(
	g±r
++èğ
a0
; *ÕŒ++èğ
a1
; *ÕŒ++èğ
a2
;

30018 *(
	g±r
++èğ
a3
; *ÕŒ++èğ
a4
; *ÕŒ++èğ
a5
;

30019 *(
	g±r
++èğ
a6
; *ÕŒ++èğ
a7
; *ÕŒ++èğ
a8
;

30020  
	gr
;

30024 
	gCImg
<
	gT
> 
m©rix
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
,

30025 cÚ¡ 
T
& 
a4
, cÚ¡ T& 
a5
, cÚ¡ T& 
a6
, cÚ¡ T& 
a7
,

30026 cÚ¡ 
T
& 
a8
, cÚ¡ T& 
a9
, cÚ¡ T& 
a10
, cÚ¡ T& 
a11
,

30027 cÚ¡ 
T
& 
a12
, cÚ¡ T& 
a13
, cÚ¡ T& 
a14
, cÚ¡ T& 
a15
) {

30028 
	gCImg
<
	gT
> 
r
(4,4); 
T
 *
	g±r
 =„.
_d©a
;

30029 *(
	g±r
++èğ
a0
; *ÕŒ++èğ
a1
; *ÕŒ++èğ
a2
; *ÕŒ++èğ
a3
;

30030 *(
	g±r
++èğ
a4
; *ÕŒ++èğ
a5
; *ÕŒ++èğ
a6
; *ÕŒ++èğ
a7
;

30031 *(
	g±r
++èğ
a8
; *ÕŒ++èğ
a9
; *ÕŒ++èğ
a10
; *ÕŒ++èğ
a11
;

30032 *(
	g±r
++èğ
a12
; *ÕŒ++èğ
a13
; *ÕŒ++èğ
a14
; *ÕŒ++èğ
a15
;

30033  
	gr
;

30037 
	gCImg
<
	gT
> 
m©rix
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
, cÚ¡ T& 
a4
,

30038 cÚ¡ 
T
& 
a5
, cÚ¡ T& 
a6
, cÚ¡ T& 
a7
, cÚ¡ T& 
a8
, cÚ¡ T& 
a9
,

30039 cÚ¡ 
T
& 
a10
, cÚ¡ T& 
a11
, cÚ¡ T& 
a12
, cÚ¡ T& 
a13
, cÚ¡ T& 
a14
,

30040 cÚ¡ 
T
& 
a15
, cÚ¡ T& 
a16
, cÚ¡ T& 
a17
, cÚ¡ T& 
a18
, cÚ¡ T& 
a19
,

30041 cÚ¡ 
T
& 
a20
, cÚ¡ T& 
a21
, cÚ¡ T& 
a22
, cÚ¡ T& 
a23
, cÚ¡ T& 
a24
) {

30042 
	gCImg
<
	gT
> 
r
(5,5); 
T
 *
	g±r
 =„.
_d©a
;

30043 *(
	g±r
++èğ
a0
; *ÕŒ++èğ
a1
; *ÕŒ++èğ
a2
; *ÕŒ++èğ
a3
; *ÕŒ++èğ
a4
;

30044 *(
	g±r
++èğ
a5
; *ÕŒ++èğ
a6
; *ÕŒ++èğ
a7
; *ÕŒ++èğ
a8
; *ÕŒ++èğ
a9
;

30045 *(
	g±r
++èğ
a10
; *ÕŒ++èğ
a11
; *ÕŒ++èğ
a12
; *ÕŒ++èğ
a13
; *ÕŒ++èğ
a14
;

30046 *(
	g±r
++èğ
a15
; *ÕŒ++èğ
a16
; *ÕŒ++èğ
a17
; *ÕŒ++èğ
a18
; *ÕŒ++èğ
a19
;

30047 *(
	g±r
++èğ
a20
; *ÕŒ++èğ
a21
; *ÕŒ++èğ
a22
; *ÕŒ++èğ
a23
; *ÕŒ++èğ
a24
;

30048  
	gr
;

30056 
	gCImg
<
	gT
> 
‹nsÜ
(cÚ¡ 
T
& 
a0
) {

30057  
m©rix
(
a0
);

30061 
	gCImg
<
	gT
> 
‹nsÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
) {

30062  
m©rix
(
a0
,
a1
,a1,
a2
);

30066 
	gCImg
<
	gT
> 
‹nsÜ
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
, cÚ¡ T& 
a4
, cÚ¡ T& 
a5
) {

30067  
m©rix
(
a0
,
a1
,
a2
,a1,
a3
,
a4
,a2,a4,
a5
);

30071 
	gCImg
<
	gT
> 
dŸgÚ®
(cÚ¡ 
T
& 
a0
) {

30072  
m©rix
(
a0
);

30076 
	gCImg
<
	gT
> 
dŸgÚ®
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
) {

30077  
m©rix
(
a0
,0,0,
a1
);

30081 
	gCImg
<
	gT
> 
dŸgÚ®
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
) {

30082  
m©rix
(
a0
,0,0,0,
a1
,0,0,0,
a2
);

30086 
	gCImg
<
	gT
> 
dŸgÚ®
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
) {

30087  
m©rix
(
a0
,0,0,0,0,
a1
,0,0,0,0,
a2
,0,0,0,0,
a3
);

30091 
	gCImg
<
	gT
> 
dŸgÚ®
(cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
, cÚ¡ T& 
a2
, cÚ¡ T& 
a3
, cÚ¡ T& 
a4
) {

30092  
m©rix
(
a0
,0,0,0,0,0,
a1
,0,0,0,0,0,
a2
,0,0,0,0,0,
a3
,0,0,0,0,0,
a4
);

30099 
	gCImg
<
	gT
> 
id’t™y_m©rix
(cÚ¡ 
N
) {

30100 
	gCImg
<
	gT
> 
»s
(
N
,N,1,1,0);

30101 
cimg_fÜX
(
»s
,
x
)„es(x,x) = 1;

30102  
	g»s
;

30111 
	gCImg
<
	gT
> 
£qu’û
(cÚ¡ 
N
, cÚ¡ 
T
& 
a0
, cÚ¡ T& 
a1
) {

30112 ià(
	gN
è 
	gCImg
<
	gT
>(1,N).
£qu’û
(
a0
,
a1
);

30113  
	gCImg
<
	gT
>();

30124 
	gCImg
<
	gT
> 
rÙ©iÚ_m©rix
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
w
,

30125 cÚ¡ 
boŞ
 
is_qu©”niÚ
=
çl£
) {

30126 
X
, 
Y
, 
Z
, 
W
, 
N
;

30127 ià(
	gis_qu©”niÚ
) {

30128 
	gN
 = 
¡d
::
sq¹
(()
x
*x + ()
y
*y + ()
z
*z + ()
w
*w);

30129 ià(
	gN
>0è{ 
	gX
 = 
x
/
N
; 
	gY
 = 
y
/N; 
	gZ
 = 
z
/N; 
	gW
 = 
w
/N; }

30130 { 
	gX
 = 
Y
 = 
Z
 = 0; 
	gW
 = 1; }

30131  
	gCImg
<
	gT
>::
m©rix
((
T
)(
X
*X + 
Y
*Y - 
Z
*Z - 
W
*W),(T)(2*Y*Z - 2*X*W),(T)(2*X*Z + 2*Y*W),

30132 (
T
)(2*
X
*
W
 + 2*
Y
*
Z
),(T)(X*X - Y*Y + Z*Z - W*W),(T)(2*Z*W - 2*X*Y),

30133 (
T
)(2*
Y
*
W
 - 2*
X
*
Z
),(T)(2*X*Y + 2*Z*W),(T)(X*X - Y*Y - Z*Z + W*W));

30135 
	gN
 = 
cimg
::
hypÙ
(()
x
,()
y
,()
z
);

30136 ià(
	gN
>0è{ 
	gX
 = 
x
/
N
; 
	gY
 = 
y
/N; 
	gZ
 = 
z
/N; }

30137 { 
	gX
 = 
Y
 = 0; 
	gZ
 = 1; }

30138 cÚ¡ 
	gªg
 = 
w
*
cimg
::
PI
/180, 
	gc
 = 
¡d
::
cos
(
ªg
), 
	gomc
 = 1 - 
c
, 
	gs
 = std::
sš
(ang);

30139  
	gCImg
<
	gT
>::
m©rix
((
T
)(
X
*X*
omc
 + 
c
),(T)(X*
Y
*omø- 
Z
*
s
),(T)(X*Z*omc + Y*s),

30140 (
T
)(
X
*
Y
*
omc
 + 
Z
*
s
),(T)(Y*Y*omø+ 
c
),(T)(Y*Z*omc - X*s),

30141 (
T
)(
X
*
Z
*
omc
 - 
Y
*
s
),(T)(Y*Z*omø+ X*s),(T)(Z*Z*omø+ 
c
));

30155 
	gCImg
<
	gT
>& 
fl
(cÚ¡ 
T
& 
v®
) {

30156 ià(
is_em±y
()è *
	gthis
;

30157 ià(
	gv®
 && (
	gT
)!=1è
cimg_fÜ
(*
this
,
±rd
,
T
è*
	g±rd
 = 
v®
;

30158 
	g¡d
::
mem£t
(
_d©a
,()(
ulÚgT
)
v®
,(
T
)*
size
());

30159  *
	gthis
;

30163 
	gCImg
<
	gT
> 
g‘_fl
(cÚ¡ 
T
& 
v®
) const {

30164  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_d•th
,
	g_¥eùrum
).
fl
(
v®
);

30172 
	gCImg
<
	gT
>& 
fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
) {

30173 ià(
is_em±y
()è *
	gthis
;

30174 
T
 *
	g±rd
, *
	g±»
 = 
’d
() - 1;

30175 
	g±rd
 = 
_d©a
;…Œd<
	g±»
; ) { *ÕŒd++èğ
v®0
; *ÕŒd++èğ
v®1
; }

30176 ià(
	g±rd
!=
±»
 + 1è*(
±rd
++èğ
v®0
;

30177  *
	gthis
;

30181 
	gCImg
<
	gT
> 
g‘_fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
) const {

30182  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_d•th
,
	g_¥eùrum
).
fl
(
v®0
,
v®1
);

30186 
	gCImg
<
	gT
>& 
fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
) {

30187 ià(
is_em±y
()è *
	gthis
;

30188 
T
 *
	g±rd
, *
	g±»
 = 
’d
() - 2;

30189 
	g±rd
 = 
_d©a
;…Œd<
	g±»
; ) { *ÕŒd++èğ
v®0
; *ÕŒd++èğ
v®1
; *ÕŒd++èğ
v®2
; }

30190 
	g±»
+=2;

30191 
	g±»
 - 
	g±rd
) {

30192 2 : *(--
±»
èğ
v®1
;

30193 1 : *(--
±»
èğ
v®0
;

30195  *
	gthis
;

30199 
	gCImg
<
	gT
> 
g‘_fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
) const {

30200  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_d•th
,
	g_¥eùrum
).
fl
(
v®0
,
v®1
,
v®2
);

30204 
	gCImg
<
	gT
>& 
fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
, cÚ¡ T& 
v®3
) {

30205 ià(
is_em±y
()è *
	gthis
;

30206 
T
 *
	g±rd
, *
	g±»
 = 
’d
() - 3;

30207 
	g±rd
 = 
_d©a
;…Œd<
	g±»
; ) { *ÕŒd++èğ
v®0
; *ÕŒd++èğ
v®1
; *ÕŒd++èğ
v®2
; *ÕŒd++èğ
v®3
; }

30208 
	g±»
+=3;

30209 
	g±»
 - 
	g±rd
) {

30210 3 : *(--
±»
èğ
v®2
;

30211 2 : *(--
±»
èğ
v®1
;

30212 1 : *(--
±»
èğ
v®0
;

30214  *
	gthis
;

30218 
	gCImg
<
	gT
> 
g‘_fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
, cÚ¡ T& 
v®3
) const {

30219  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_d•th
,
	g_¥eùrum
).
fl
(
v®0
,
v®1
,
v®2
,
v®3
);

30223 
	gCImg
<
	gT
>& 
fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
, cÚ¡ T& 
v®3
, cÚ¡ T& 
v®4
) {

30224 ià(
is_em±y
()è *
	gthis
;

30225 
T
 *
	g±rd
, *
	g±»
 = 
’d
() - 4;

30226 
	g±rd
 = 
_d©a
;…Œd<
	g±»
; ) {

30227 *(
	g±rd
++èğ
v®0
; *ÕŒd++èğ
v®1
; *ÕŒd++èğ
v®2
; *ÕŒd++èğ
v®3
; *ÕŒd++èğ
v®4
;

30229 
	g±»
+=4;

30230 
	g±»
 - 
	g±rd
) {

30231 4 : *(--
±»
èğ
v®3
;

30232 3 : *(--
±»
èğ
v®2
;

30233 2 : *(--
±»
èğ
v®1
;

30234 1 : *(--
±»
èğ
v®0
;

30236  *
	gthis
;

30240 
	gCImg
<
	gT
> 
g‘_fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
, cÚ¡ T& 
v®3
, cÚ¡ T& 
v®4
) const {

30241  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_d•th
,
	g_¥eùrum
).
fl
(
v®0
,
v®1
,
v®2
,
v®3
,
v®4
);

30245 
	gCImg
<
	gT
>& 
fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
, cÚ¡ T& 
v®3
, cÚ¡ T& 
v®4
, cÚ¡ T& 
v®5
) {

30246 ià(
is_em±y
()è *
	gthis
;

30247 
T
 *
	g±rd
, *
	g±»
 = 
’d
() - 5;

30248 
	g±rd
 = 
_d©a
;…Œd<
	g±»
; ) {

30249 *(
	g±rd
++èğ
v®0
; *ÕŒd++èğ
v®1
; *ÕŒd++èğ
v®2
; *ÕŒd++èğ
v®3
; *ÕŒd++èğ
v®4
; *ÕŒd++èğ
v®5
;

30251 
	g±»
+=5;

30252 
	g±»
 - 
	g±rd
) {

30253 5 : *(--
±»
èğ
v®4
;

30254 4 : *(--
±»
èğ
v®3
;

30255 3 : *(--
±»
èğ
v®2
;

30256 2 : *(--
±»
èğ
v®1
;

30257 1 : *(--
±»
èğ
v®0
;

30259  *
	gthis
;

30263 
	gCImg
<
	gT
> 
g‘_fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
, cÚ¡ T& 
v®3
, cÚ¡ T& 
v®4
, cÚ¡ T& 
v®5
) const {

30264  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_d•th
,
	g_¥eùrum
).
fl
(
v®0
,
v®1
,
v®2
,
v®3
,
v®4
,
v®5
);

30268 
	gCImg
<
	gT
>& 
fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
, cÚ¡ T& 
v®3
, cÚ¡ T& 
v®4
, cÚ¡ T& 
v®5
,

30269 cÚ¡ 
T
& 
v®6
) {

30270 ià(
is_em±y
()è *
	gthis
;

30271 
T
 *
	g±rd
, *
	g±»
 = 
’d
() - 6;

30272 
	g±rd
 = 
_d©a
;…Œd<
	g±»
; ) {

30273 *(
	g±rd
++èğ
v®0
; *ÕŒd++èğ
v®1
; *ÕŒd++èğ
v®2
; *ÕŒd++èğ
v®3
; *ÕŒd++èğ
v®4
; *ÕŒd++èğ
v®5
;

30274 *(
	g±rd
++èğ
v®6
;

30276 
	g±»
+=6;

30277 
	g±»
 - 
	g±rd
) {

30278 6 : *(--
±»
èğ
v®5
;

30279 5 : *(--
±»
èğ
v®4
;

30280 4 : *(--
±»
èğ
v®3
;

30281 3 : *(--
±»
èğ
v®2
;

30282 2 : *(--
±»
èğ
v®1
;

30283 1 : *(--
±»
èğ
v®0
;

30285  *
	gthis
;

30289 
	gCImg
<
	gT
> 
g‘_fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
, cÚ¡ T& 
v®3
, cÚ¡ T& 
v®4
, cÚ¡ T& 
v®5
,

30290 cÚ¡ 
T
& 
v®6
) const {

30291  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_d•th
,
	g_¥eùrum
).
fl
(
v®0
,
v®1
,
v®2
,
v®3
,
v®4
,
v®5
,
v®6
);

30295 
	gCImg
<
	gT
>& 
fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
, cÚ¡ T& 
v®3
, cÚ¡ T& 
v®4
, cÚ¡ T& 
v®5
,

30296 cÚ¡ 
T
& 
v®6
, cÚ¡ T& 
v®7
) {

30297 ià(
is_em±y
()è *
	gthis
;

30298 
T
 *
	g±rd
, *
	g±»
 = 
’d
() - 7;

30299 
	g±rd
 = 
_d©a
;…Œd<
	g±»
; ) {

30300 *(
	g±rd
++èğ
v®0
; *ÕŒd++èğ
v®1
; *ÕŒd++èğ
v®2
; *ÕŒd++èğ
v®3
;

30301 *(
	g±rd
++èğ
v®4
; *ÕŒd++èğ
v®5
; *ÕŒd++èğ
v®6
; *ÕŒd++èğ
v®7
;

30303 
	g±»
+=7;

30304 
	g±»
 - 
	g±rd
) {

30305 7 : *(--
±»
èğ
v®6
;

30306 6 : *(--
±»
èğ
v®5
;

30307 5 : *(--
±»
èğ
v®4
;

30308 4 : *(--
±»
èğ
v®3
;

30309 3 : *(--
±»
èğ
v®2
;

30310 2 : *(--
±»
èğ
v®1
;

30311 1 : *(--
±»
èğ
v®0
;

30313  *
	gthis
;

30317 
	gCImg
<
	gT
> 
g‘_fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
, cÚ¡ T& 
v®3
, cÚ¡ T& 
v®4
, cÚ¡ T& 
v®5
,

30318 cÚ¡ 
T
& 
v®6
, cÚ¡ T& 
v®7
) const {

30319  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_d•th
,
	g_¥eùrum
).
fl
(
v®0
,
v®1
,
v®2
,
v®3
,
v®4
,
v®5
,
v®6
,
v®7
);

30323 
	gCImg
<
	gT
>& 
fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
, cÚ¡ T& 
v®3
, cÚ¡ T& 
v®4
, cÚ¡ T& 
v®5
,

30324 cÚ¡ 
T
& 
v®6
, cÚ¡ T& 
v®7
, cÚ¡ T& 
v®8
) {

30325 ià(
is_em±y
()è *
	gthis
;

30326 
T
 *
	g±rd
, *
	g±»
 = 
’d
() - 8;

30327 
	g±rd
 = 
_d©a
;…Œd<
	g±»
; ) {

30328 *(
	g±rd
++èğ
v®0
; *ÕŒd++èğ
v®1
; *ÕŒd++èğ
v®2
;

30329 *(
	g±rd
++èğ
v®3
; *ÕŒd++èğ
v®4
; *ÕŒd++èğ
v®5
;

30330 *(
	g±rd
++èğ
v®6
; *ÕŒd++èğ
v®7
; *ÕŒd++èğ
v®8
;

30332 
	g±»
+=8;

30333 
	g±»
 - 
	g±rd
) {

30334 8 : *(--
±»
èğ
v®7
;

30335 7 : *(--
±»
èğ
v®6
;

30336 6 : *(--
±»
èğ
v®5
;

30337 5 : *(--
±»
èğ
v®4
;

30338 4 : *(--
±»
èğ
v®3
;

30339 3 : *(--
±»
èğ
v®2
;

30340 2 : *(--
±»
èğ
v®1
;

30341 1 : *(--
±»
èğ
v®0
;

30343  *
	gthis
;

30347 
	gCImg
<
	gT
> 
g‘_fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
, cÚ¡ T& 
v®3
, cÚ¡ T& 
v®4
, cÚ¡ T& 
v®5
,

30348 cÚ¡ 
T
& 
v®6
, cÚ¡ T& 
v®7
, cÚ¡ T& 
v®8
) const {

30349  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_d•th
,
	g_¥eùrum
).
fl
(
v®0
,
v®1
,
v®2
,
v®3
,
v®4
,
v®5
,
v®6
,
v®7
,
v®8
);

30353 
	gCImg
<
	gT
>& 
fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
, cÚ¡ T& 
v®3
, cÚ¡ T& 
v®4
, cÚ¡ T& 
v®5
,

30354 cÚ¡ 
T
& 
v®6
, cÚ¡ T& 
v®7
, cÚ¡ T& 
v®8
, cÚ¡ T& 
v®9
) {

30355 ià(
is_em±y
()è *
	gthis
;

30356 
T
 *
	g±rd
, *
	g±»
 = 
’d
() - 9;

30357 
	g±rd
 = 
_d©a
;…Œd<
	g±»
; ) {

30358 *(
	g±rd
++èğ
v®0
; *ÕŒd++èğ
v®1
; *ÕŒd++èğ
v®2
; *ÕŒd++èğ
v®3
; *ÕŒd++èğ
v®4
;

30359 *(
	g±rd
++èğ
v®5
; *ÕŒd++èğ
v®6
; *ÕŒd++èğ
v®7
; *ÕŒd++èğ
v®8
; *ÕŒd++èğ
v®9
;

30361 
	g±»
+=9;

30362 
	g±»
 - 
	g±rd
) {

30363 9 : *(--
±»
èğ
v®8
;

30364 8 : *(--
±»
èğ
v®7
;

30365 7 : *(--
±»
èğ
v®6
;

30366 6 : *(--
±»
èğ
v®5
;

30367 5 : *(--
±»
èğ
v®4
;

30368 4 : *(--
±»
èğ
v®3
;

30369 3 : *(--
±»
èğ
v®2
;

30370 2 : *(--
±»
èğ
v®1
;

30371 1 : *(--
±»
èğ
v®0
;

30373  *
	gthis
;

30377 
	gCImg
<
	gT
> 
g‘_fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
, cÚ¡ T& 
v®3
, cÚ¡ T& 
v®4
, cÚ¡ T& 
v®5
,

30378 cÚ¡ 
T
& 
v®6
, cÚ¡ T& 
v®7
, cÚ¡ T& 
v®8
, cÚ¡ T& 
v®9
) const {

30379  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_d•th
,
	g_¥eùrum
).
fl
(
v®0
,
v®1
,
v®2
,
v®3
,
v®4
,
v®5
,
v®6
,
v®7
,
v®8
,
v®9
);

30383 
	gCImg
<
	gT
>& 
fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
, cÚ¡ T& 
v®3
, cÚ¡ T& 
v®4
, cÚ¡ T& 
v®5
,

30384 cÚ¡ 
T
& 
v®6
, cÚ¡ T& 
v®7
, cÚ¡ T& 
v®8
, cÚ¡ T& 
v®9
, cÚ¡ T& 
v®10
) {

30385 ià(
is_em±y
()è *
	gthis
;

30386 
T
 *
	g±rd
, *
	g±»
 = 
’d
() - 10;

30387 
	g±rd
 = 
_d©a
;…Œd<
	g±»
; ) {

30388 *(
	g±rd
++èğ
v®0
; *ÕŒd++èğ
v®1
; *ÕŒd++èğ
v®2
; *ÕŒd++èğ
v®3
; *ÕŒd++èğ
v®4
;

30389 *(
	g±rd
++èğ
v®5
; *ÕŒd++èğ
v®6
; *ÕŒd++èğ
v®7
; *ÕŒd++èğ
v®8
; *ÕŒd++èğ
v®9
;

30390 *(
	g±rd
++èğ
v®10
;

30392 
	g±»
+=10;

30393 
	g±»
 - 
	g±rd
) {

30394 10 : *(--
±»
èğ
v®9
;

30395 9 : *(--
±»
èğ
v®8
;

30396 8 : *(--
±»
èğ
v®7
;

30397 7 : *(--
±»
èğ
v®6
;

30398 6 : *(--
±»
èğ
v®5
;

30399 5 : *(--
±»
èğ
v®4
;

30400 4 : *(--
±»
èğ
v®3
;

30401 3 : *(--
±»
èğ
v®2
;

30402 2 : *(--
±»
èğ
v®1
;

30403 1 : *(--
±»
èğ
v®0
;

30405  *
	gthis
;

30409 
	gCImg
<
	gT
> 
g‘_fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
, cÚ¡ T& 
v®3
, cÚ¡ T& 
v®4
, cÚ¡ T& 
v®5
,

30410 cÚ¡ 
T
& 
v®6
, cÚ¡ T& 
v®7
, cÚ¡ T& 
v®8
, cÚ¡ T& 
v®9
, cÚ¡ T& 
v®10
) const {

30411  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_d•th
,
	g_¥eùrum
).
fl
(
v®0
,
v®1
,
v®2
,
v®3
,
v®4
,
v®5
,
v®6
,
v®7
,
v®8
,
v®9
,
v®10
);

30415 
	gCImg
<
	gT
>& 
fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
, cÚ¡ T& 
v®3
, cÚ¡ T& 
v®4
, cÚ¡ T& 
v®5
,

30416 cÚ¡ 
T
& 
v®6
, cÚ¡ T& 
v®7
, cÚ¡ T& 
v®8
, cÚ¡ T& 
v®9
, cÚ¡ T& 
v®10
, cÚ¡ T& 
v®11
) {

30417 ià(
is_em±y
()è *
	gthis
;

30418 
T
 *
	g±rd
, *
	g±»
 = 
’d
() - 11;

30419 
	g±rd
 = 
_d©a
;…Œd<
	g±»
; ) {

30420 *(
	g±rd
++èğ
v®0
; *ÕŒd++èğ
v®1
; *ÕŒd++èğ
v®2
; *ÕŒd++èğ
v®3
; *ÕŒd++èğ
v®4
; *ÕŒd++èğ
v®5
;

30421 *(
	g±rd
++èğ
v®6
; *ÕŒd++èğ
v®7
; *ÕŒd++èğ
v®8
; *ÕŒd++èğ
v®9
; *ÕŒd++èğ
v®10
; *ÕŒd++èğ
v®11
;

30423 
	g±»
+=11;

30424 
	g±»
 - 
	g±rd
) {

30425 11 : *(--
±»
èğ
v®10
;

30426 10 : *(--
±»
èğ
v®9
;

30427 9 : *(--
±»
èğ
v®8
;

30428 8 : *(--
±»
èğ
v®7
;

30429 7 : *(--
±»
èğ
v®6
;

30430 6 : *(--
±»
èğ
v®5
;

30431 5 : *(--
±»
èğ
v®4
;

30432 4 : *(--
±»
èğ
v®3
;

30433 3 : *(--
±»
èğ
v®2
;

30434 2 : *(--
±»
èğ
v®1
;

30435 1 : *(--
±»
èğ
v®0
;

30437  *
	gthis
;

30441 
	gCImg
<
	gT
> 
g‘_fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
, cÚ¡ T& 
v®3
, cÚ¡ T& 
v®4
, cÚ¡ T& 
v®5
,

30442 cÚ¡ 
T
& 
v®6
, cÚ¡ T& 
v®7
, cÚ¡ T& 
v®8
, cÚ¡ T& 
v®9
, cÚ¡ T& 
v®10
, cÚ¡ T& 
v®11
) const {

30443  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_d•th
,
	g_¥eùrum
).
fl
(
v®0
,
v®1
,
v®2
,
v®3
,
v®4
,
v®5
,
v®6
,
v®7
,
v®8
,
v®9
,
v®10
,

30444 
v®11
);

30448 
	gCImg
<
	gT
>& 
fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
, cÚ¡ T& 
v®3
, cÚ¡ T& 
v®4
, cÚ¡ T& 
v®5
,

30449 cÚ¡ 
T
& 
v®6
, cÚ¡ T& 
v®7
, cÚ¡ T& 
v®8
, cÚ¡ T& 
v®9
, cÚ¡ T& 
v®10
, cÚ¡ T& 
v®11
,

30450 cÚ¡ 
T
& 
v®12
) {

30451 ià(
is_em±y
()è *
	gthis
;

30452 
T
 *
	g±rd
, *
	g±»
 = 
’d
() - 12;

30453 
	g±rd
 = 
_d©a
;…Œd<
	g±»
; ) {

30454 *(
	g±rd
++èğ
v®0
; *ÕŒd++èğ
v®1
; *ÕŒd++èğ
v®2
; *ÕŒd++èğ
v®3
; *ÕŒd++èğ
v®4
; *ÕŒd++èğ
v®5
;

30455 *(
	g±rd
++èğ
v®6
; *ÕŒd++èğ
v®7
; *ÕŒd++èğ
v®8
; *ÕŒd++èğ
v®9
; *ÕŒd++èğ
v®10
; *ÕŒd++èğ
v®11
;

30456 *(
	g±rd
++èğ
v®12
;

30458 
	g±»
+=12;

30459 
	g±»
 - 
	g±rd
) {

30460 12 : *(--
±»
èğ
v®11
;

30461 11 : *(--
±»
èğ
v®10
;

30462 10 : *(--
±»
èğ
v®9
;

30463 9 : *(--
±»
èğ
v®8
;

30464 8 : *(--
±»
èğ
v®7
;

30465 7 : *(--
±»
èğ
v®6
;

30466 6 : *(--
±»
èğ
v®5
;

30467 5 : *(--
±»
èğ
v®4
;

30468 4 : *(--
±»
èğ
v®3
;

30469 3 : *(--
±»
èğ
v®2
;

30470 2 : *(--
±»
èğ
v®1
;

30471 1 : *(--
±»
èğ
v®0
;

30473  *
	gthis
;

30477 
	gCImg
<
	gT
> 
g‘_fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
, cÚ¡ T& 
v®3
, cÚ¡ T& 
v®4
, cÚ¡ T& 
v®5
,

30478 cÚ¡ 
T
& 
v®6
, cÚ¡ T& 
v®7
, cÚ¡ T& 
v®8
, cÚ¡ T& 
v®9
, cÚ¡ T& 
v®10
, cÚ¡ T& 
v®11
,

30479 cÚ¡ 
T
& 
v®12
) const {

30480  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_d•th
,
	g_¥eùrum
).
fl
(
v®0
,
v®1
,
v®2
,
v®3
,
v®4
,
v®5
,
v®6
,
v®7
,
v®8
,
v®9
,
v®10
,

30481 
v®11
,
v®12
);

30485 
	gCImg
<
	gT
>& 
fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
, cÚ¡ T& 
v®3
, cÚ¡ T& 
v®4
, cÚ¡ T& 
v®5
,

30486 cÚ¡ 
T
& 
v®6
, cÚ¡ T& 
v®7
, cÚ¡ T& 
v®8
, cÚ¡ T& 
v®9
, cÚ¡ T& 
v®10
, cÚ¡ T& 
v®11
,

30487 cÚ¡ 
T
& 
v®12
, cÚ¡ T& 
v®13
) {

30488 ià(
is_em±y
()è *
	gthis
;

30489 
T
 *
	g±rd
, *
	g±»
 = 
’d
() - 13;

30490 
	g±rd
 = 
_d©a
;…Œd<
	g±»
; ) {

30491 *(
	g±rd
++èğ
v®0
; *ÕŒd++èğ
v®1
; *ÕŒd++èğ
v®2
; *ÕŒd++èğ
v®3
; *ÕŒd++èğ
v®4
; *ÕŒd++èğ
v®5
;

30492 *(
	g±rd
++èğ
v®6
; *ÕŒd++èğ
v®7
; *ÕŒd++èğ
v®8
; *ÕŒd++èğ
v®9
; *ÕŒd++èğ
v®10
; *ÕŒd++èğ
v®11
;

30493 *(
	g±rd
++èğ
v®12
; *ÕŒd++èğ
v®13
;

30495 
	g±»
+=13;

30496 
	g±»
 - 
	g±rd
) {

30497 13 : *(--
±»
èğ
v®12
;

30498 12 : *(--
±»
èğ
v®11
;

30499 11 : *(--
±»
èğ
v®10
;

30500 10 : *(--
±»
èğ
v®9
;

30501 9 : *(--
±»
èğ
v®8
;

30502 8 : *(--
±»
èğ
v®7
;

30503 7 : *(--
±»
èğ
v®6
;

30504 6 : *(--
±»
èğ
v®5
;

30505 5 : *(--
±»
èğ
v®4
;

30506 4 : *(--
±»
èğ
v®3
;

30507 3 : *(--
±»
èğ
v®2
;

30508 2 : *(--
±»
èğ
v®1
;

30509 1 : *(--
±»
èğ
v®0
;

30511  *
	gthis
;

30515 
	gCImg
<
	gT
> 
g‘_fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
, cÚ¡ T& 
v®3
, cÚ¡ T& 
v®4
, cÚ¡ T& 
v®5
,

30516 cÚ¡ 
T
& 
v®6
, cÚ¡ T& 
v®7
, cÚ¡ T& 
v®8
, cÚ¡ T& 
v®9
, cÚ¡ T& 
v®10
, cÚ¡ T& 
v®11
,

30517 cÚ¡ 
T
& 
v®12
, cÚ¡ T& 
v®13
) const {

30518  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_d•th
,
	g_¥eùrum
).
fl
(
v®0
,
v®1
,
v®2
,
v®3
,
v®4
,
v®5
,
v®6
,
v®7
,
v®8
,
v®9
,
v®10
,

30519 
v®11
,
v®12
,
v®13
);

30523 
	gCImg
<
	gT
>& 
fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
, cÚ¡ T& 
v®3
, cÚ¡ T& 
v®4
, cÚ¡ T& 
v®5
,

30524 cÚ¡ 
T
& 
v®6
, cÚ¡ T& 
v®7
, cÚ¡ T& 
v®8
, cÚ¡ T& 
v®9
, cÚ¡ T& 
v®10
, cÚ¡ T& 
v®11
,

30525 cÚ¡ 
T
& 
v®12
, cÚ¡ T& 
v®13
, cÚ¡ T& 
v®14
) {

30526 ià(
is_em±y
()è *
	gthis
;

30527 
T
 *
	g±rd
, *
	g±»
 = 
’d
() - 14;

30528 
	g±rd
 = 
_d©a
;…Œd<
	g±»
; ) {

30529 *(
	g±rd
++èğ
v®0
; *ÕŒd++èğ
v®1
; *ÕŒd++èğ
v®2
; *ÕŒd++èğ
v®3
; *ÕŒd++èğ
v®4
; *ÕŒd++èğ
v®5
;

30530 *(
	g±rd
++èğ
v®6
; *ÕŒd++èğ
v®7
; *ÕŒd++èğ
v®8
; *ÕŒd++èğ
v®9
; *ÕŒd++èğ
v®10
; *ÕŒd++èğ
v®11
;

30531 *(
	g±rd
++èğ
v®12
; *ÕŒd++èğ
v®13
; *ÕŒd++èğ
v®14
;

30533 
	g±»
+=14;

30534 
	g±»
 - 
	g±rd
) {

30535 14 : *(--
±»
èğ
v®13
;

30536 13 : *(--
±»
èğ
v®12
;

30537 12 : *(--
±»
èğ
v®11
;

30538 11 : *(--
±»
èğ
v®10
;

30539 10 : *(--
±»
èğ
v®9
;

30540 9 : *(--
±»
èğ
v®8
;

30541 8 : *(--
±»
èğ
v®7
;

30542 7 : *(--
±»
èğ
v®6
;

30543 6 : *(--
±»
èğ
v®5
;

30544 5 : *(--
±»
èğ
v®4
;

30545 4 : *(--
±»
èğ
v®3
;

30546 3 : *(--
±»
èğ
v®2
;

30547 2 : *(--
±»
èğ
v®1
;

30548 1 : *(--
±»
èğ
v®0
;

30550  *
	gthis
;

30554 
	gCImg
<
	gT
> 
g‘_fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
, cÚ¡ T& 
v®3
, cÚ¡ T& 
v®4
, cÚ¡ T& 
v®5
,

30555 cÚ¡ 
T
& 
v®6
, cÚ¡ T& 
v®7
, cÚ¡ T& 
v®8
, cÚ¡ T& 
v®9
, cÚ¡ T& 
v®10
, cÚ¡ T& 
v®11
,

30556 cÚ¡ 
T
& 
v®12
, cÚ¡ T& 
v®13
, cÚ¡ T& 
v®14
) const {

30557  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_d•th
,
	g_¥eùrum
).
fl
(
v®0
,
v®1
,
v®2
,
v®3
,
v®4
,
v®5
,
v®6
,
v®7
,
v®8
,
v®9
,
v®10
,

30558 
v®11
,
v®12
,
v®13
,
v®14
);

30562 
	gCImg
<
	gT
>& 
fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
, cÚ¡ T& 
v®3
, cÚ¡ T& 
v®4
, cÚ¡ T& 
v®5
,

30563 cÚ¡ 
T
& 
v®6
, cÚ¡ T& 
v®7
, cÚ¡ T& 
v®8
, cÚ¡ T& 
v®9
, cÚ¡ T& 
v®10
, cÚ¡ T& 
v®11
,

30564 cÚ¡ 
T
& 
v®12
, cÚ¡ T& 
v®13
, cÚ¡ T& 
v®14
, cÚ¡ T& 
v®15
) {

30565 ià(
is_em±y
()è *
	gthis
;

30566 
T
 *
	g±rd
, *
	g±»
 = 
’d
() - 15;

30567 
	g±rd
 = 
_d©a
;…Œd<
	g±»
; ) {

30568 *(
	g±rd
++èğ
v®0
; *ÕŒd++èğ
v®1
; *ÕŒd++èğ
v®2
; *ÕŒd++èğ
v®3
; *ÕŒd++èğ
v®4
; *ÕŒd++èğ
v®5
;

30569 *(
	g±rd
++èğ
v®6
; *ÕŒd++èğ
v®7
; *ÕŒd++èğ
v®8
; *ÕŒd++èğ
v®9
; *ÕŒd++èğ
v®10
; *ÕŒd++èğ
v®11
;

30570 *(
	g±rd
++èğ
v®12
; *ÕŒd++èğ
v®13
; *ÕŒd++èğ
v®14
; *ÕŒd++èğ
v®15
;

30572 
	g±»
+=15;

30573 
	g±»
 - 
	g±rd
) {

30574 15 : *(--
±»
èğ
v®14
;

30575 14 : *(--
±»
èğ
v®13
;

30576 13 : *(--
±»
èğ
v®12
;

30577 12 : *(--
±»
èğ
v®11
;

30578 11 : *(--
±»
èğ
v®10
;

30579 10 : *(--
±»
èğ
v®9
;

30580 9 : *(--
±»
èğ
v®8
;

30581 8 : *(--
±»
èğ
v®7
;

30582 7 : *(--
±»
èğ
v®6
;

30583 6 : *(--
±»
èğ
v®5
;

30584 5 : *(--
±»
èğ
v®4
;

30585 4 : *(--
±»
èğ
v®3
;

30586 3 : *(--
±»
èğ
v®2
;

30587 2 : *(--
±»
èğ
v®1
;

30588 1 : *(--
±»
èğ
v®0
;

30590  *
	gthis
;

30594 
	gCImg
<
	gT
> 
g‘_fl
(cÚ¡ 
T
& 
v®0
, cÚ¡ T& 
v®1
, cÚ¡ T& 
v®2
, cÚ¡ T& 
v®3
, cÚ¡ T& 
v®4
, cÚ¡ T& 
v®5
,

30595 cÚ¡ 
T
& 
v®6
, cÚ¡ T& 
v®7
, cÚ¡ T& 
v®8
, cÚ¡ T& 
v®9
, cÚ¡ T& 
v®10
, cÚ¡ T& 
v®11
,

30596 cÚ¡ 
T
& 
v®12
, cÚ¡ T& 
v®13
, cÚ¡ T& 
v®14
, cÚ¡ T& 
v®15
) const {

30597  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_d•th
,
	g_¥eùrum
).
fl
(
v®0
,
v®1
,
v®2
,
v®3
,
v®4
,
v®5
,
v®6
,
v®7
,
v®8
,
v®9
,
v®10
,

30598 
v®11
,
v®12
,
v®13
,
v®14
,
v®15
);

30609 
	gCImg
<
	gT
>& 
fl
(cÚ¡ *cÚ¡ 
ex´essiÚ
, cÚ¡ 
boŞ
 
»³©_v®ues
, cÚ¡ boŞ 
®low_fÜmuÏ
=
Œue
,

30610 cÚ¡ 
CImgLi¡
<
T
> *cÚ¡ 
li¡_šputs
=0, CImgLi¡<T> *cÚ¡ 
li¡_ouuts
=0) {

30611  
_fl
(
ex´essiÚ
,
»³©_v®ues
,
®low_fÜmuÏ
?1:0,
li¡_šputs
,
li¡_ouuts
,"fill",0);

30616 
	gCImg
<
	gT
>& 
_fl
(cÚ¡ *cÚ¡ 
ex´essiÚ
, cÚ¡ 
boŞ
 
»³©_v®ues
, cÚ¡ 
fÜmuÏ_mode
,

30617 cÚ¡ 
CImgLi¡
<
T
> *cÚ¡ 
li¡_šputs
, CImgLi¡<T> *cÚ¡ 
li¡_ouuts
,

30618 cÚ¡ *cÚ¡ 
ÿÎšg_funùiÚ
, cÚ¡ 
CImg
<
T
> *
´ovides_cİy
) {

30619 ià(
is_em±y
(è|| !
	gex´essiÚ
 || !*ex´essiÚè *
	gthis
;

30620 cÚ¡ 
	gomode
 = 
cimg
::
exû±iÚ_mode
();

30621 
	gcimg
::
exû±iÚ_mode
(0);

30622 
	gCImg
<
	gch¬T
> 
	gis_”rÜ
;

30623 
boŞ
 
	gis_v®ue_£qu’û
 = 
çl£
;

30624 
	gcimg_abÜt_š™
;

30626 ià(
	gfÜmuÏ_mode
) {

30629 
	gv®ue
;

30630 
	g£p
;

30631 cÚ¡ 
	g”r
 = 
cimg_ssÿnf
(
ex´essiÚ
,"%là%c",&
v®ue
,&
£p
);

30632 ià(
	g”r
==1 || (
”r
==2 && 
£p
==',')) {

30633 ià(
”r
==1è{ ià(
fÜmuÏ_mode
==2è *
this
;  
fl
((
T
)
v®ue
); }

30634 
	gis_v®ue_£qu’û
 = 
Œue
;

30638 
	g_cimg_abÜt_š™_İ’mp
;

30639 ià(!
	gis_v®ue_£qu’û
è
	gŒy
 {

30640 
	gCImg
<
	gT
> 
	gba£
 = 
´ovides_cİy
?´ovides_cİy->
g‘_sh¬ed
():get_shared();

30641 
_cimg_m©h_·r£r
 
mp
(
ex´essiÚ
 + (*expression=='>' || *expression=='<' ||

30642 *
ex´essiÚ
=='*' || *expression==':'),

30643 
ÿÎšg_funùiÚ
,
ba£
,
this
,
li¡_šputs
,
li¡_ouuts
,
Œue
);

30644 ià(!
	g´ovides_cİy
 && 
	gex´essiÚ
 && *ex´essiÚ!='>' && *
ex´essiÚ
!='<' && *expression!=':' &&

30645 
mp
.
Ãed_šput_cİy
)

30646 
ba£
.
assign
().assign(*
this
,
çl£
);

30649 
	gM
;

30650 ià(
	gmp
.
	g»suÉ_dim
) {

30651 
	gM
 = 
cimg
::
max
(
_width
,
_height
,
_d•th
);

30652 
	gM
 = 
M
==
_width
?
¡d
::
max
(
_height
,
_d•th
):M==_height?std::max(_width,_depth):std::max(_width,_height);

30654 
	gM
 = 
cimg
::
max
(
_width
,
_height
,
_d•th
,
_¥eùrum
);

30655 
	gM
 = 
M
==
_width
?
cimg
::
max
(
_height
,
_d•th
,
_¥eùrum
):

30656 
M
==
_height
?
cimg
::
max
(
_width
,
_d•th
,
_¥eùrum
):

30657 
M
==
_d•th
?
cimg
::
max
(
_width
,
_height
,
_¥eùrum
):cimg::max(_width,_height,_depth);

30660 
boŞ
 
	gdo_š_·¿Î–
 = 
çl£
;

30661 #ià
cimg_u£_İ’mp
!=0

30662 
cimg_İ’mp_if
(*
ex´essiÚ
=='*' || *expression==':' ||

30663 (
mp
.
is_·¿Î–izabË
 && 
M
>=(
cimg_İ’mp_sizeçùÜ
)*320 && 
size
()/M>=2))

30664 
do_š_·¿Î–
 = 
Œue
;

30666 ià(
	gmp
.
	g»suÉ_dim
) {

30667 cÚ¡ 
	gN
 = 
¡d
::
mš
(
mp
.
»suÉ_dim
,
_¥eùrum
);

30668 cÚ¡ 
ulÚgT
 
	gwhd
 = (ulÚgT)
_width
*
_height
*
_d•th
;

30669 
T
 *
	g±rd
 = *
ex´essiÚ
=='<'?
_d©a
 + 
_width
*
_height
*
_d•th
 - 1:_data;

30670 ià(*
	gex´essiÚ
=='<') {

30671 
CImg
<
doubËT
> 
»s
(1,
mp
.
»suÉ_dim
);

30672 
	gmp
.
begš_t
();

30673 
cimg_rofYZ
(*
this
,
y
,
z
) {

30674 
	gcimg_abÜt_‹¡
;

30675 ià(
	gfÜmuÏ_mode
==2è
cimg_rofX
(*
this
,
x
è
mp
(x,
y
,
z
,0);

30676 
cimg_rofX
(*
this
,
x
) {

30677 
mp
(
x
,
y
,
z
,0,
»s
.
_d©a
);

30678 cÚ¡ *
	g±rs
 = 
»s
.
_d©a
;

30679 
T
 *
	g_±rd
 = 
±rd
--; 
	gn
 = 
N
;‚>0; --nè{ *_±rd = (T)(*
±rs
++); _±rd+=
whd
; }

30682 
	gmp
.
’d_t
();

30684 } ià(*
	gex´essiÚ
=='>' || !
do_š_·¿Î–
) {

30685 
CImg
<
doubËT
> 
»s
(1,
mp
.
»suÉ_dim
);

30686 
	gmp
.
begš_t
();

30687 
cimg_fÜYZ
(*
this
,
y
,
z
) {

30688 
	gcimg_abÜt_‹¡
;

30689 ià(
	gfÜmuÏ_mode
==2è
cimg_fÜX
(*
this
,
x
è
mp
(x,
y
,
z
,0);

30690 
cimg_fÜX
(*
this
,
x
) {

30691 
mp
(
x
,
y
,
z
,0,
»s
.
_d©a
);

30692 cÚ¡ *
	g±rs
 = 
»s
.
_d©a
;

30693 
T
 *
	g_±rd
 = 
±rd
++; 
	gn
 = 
N
;‚>0; --nè{ *_±rd = (T)(*
±rs
++); _±rd+=
whd
; }

30696 
	gmp
.
’d_t
();

30700 #ià
cimg_u£_İ’mp
!=0

30701 
	gtid
 = 0;

30702 
cimg_´agma_İ’mp
(
·¿Î–
)

30704 
_cimg_m©h_·r£r
 *
	g_mp
 = 0;

30705 
cimg_´agma_İ’mp
(
ü™iÿl
(
_fl
)è{ 
	g_mp
 = !
tid
?&
mp
:
Ãw
 
_cimg_m©h_·r£r
(mp); ++
	gtid
; }

30706 
	g_cimg_m©h_·r£r
 &
	glmp
 = *
_mp
;

30707 
	glmp
.
	gis_fl
 = 
Œue
;

30708 
cimg_´agma_İ’mp
(
b¬r›r
)

30709 
	glmp
.
begš_t
();

30711 
	#_cimg_fl_İ’mp_veùÜ
(
_YZ
,
_y
,
_z
,
_X
,
_x
,
_sx
,
_sy
,
_sz
,
_off
) \

30712 
	`cimg_´agma_İ’mp
(
	`cimg_İ’mp_cŞÏp£
(2)) \

30713 
cimg_fÜ
##
	`_YZ
(*
this
,
_y
,
_z
è
_cimg_abÜt_Œy_İ’mp
 { \

30714 
cimg_abÜt_‹¡
; \

30715 ià(
fÜmuÏ_mode
==2è
cimg_fÜ
##
	`_X
(*
this
,
_x
è
	`lmp
(
x
,
y
,
z
,0); \

30717 
CImg
<
doubËT
> 
	`»s
(1,
lmp
.
»suÉ_dim
); \

30718 
T
 *
__±rd
 = 
	`d©a
(
_sx
,
_sy
,
_sz
,0); \

30719 cÚ¡ 
ulÚgT
 
off
 = (ulÚgT)
_off
; \

30720 
cimg_fÜ
##
	`_X
(*
this
,
_x
) { \

30721 
	`lmp
(
x
,
y
,
z
,0,
»s
.
_d©a
); \

30722 cÚ¡ *
±rs
 = 
»s
.
_d©a
; \

30723 
T
 *
_±rd
 = 
__±rd
; \

30724 
n
 = 
N
;‚>0; --nè{ *
_±rd
 = (
T
)(*
±rs
++); _±rd+=
whd
; } \

30725 
__±rd
+=
off
; \

30728 } 
_cimg_abÜt_ÿtch_İ’mp
 
_cimg_abÜt_ÿtch_fl_İ’mp


	)

30730 ià(
	gM
==
_width
è{ 
_cimg_fl_İ’mp_veùÜ
(
YZ
,
y
,
z
,
X
,
x
,0,y,z,1) }

30731 ià(
M
==
_height
è{ 
_cimg_fl_İ’mp_veùÜ
(
XZ
,
x
,
z
,
Y
,
y
,x,0,z,
_width
) }

30732 { 
_cimg_fl_İ’mp_veùÜ
(
XY
,
x
,
y
,
Z
,
z
,x,y,0,
_width
*
_height
) }

30734 
lmp
.
’d_t
();

30735 
cimg_´agma_İ’mp
(
b¬r›r
ècimg_´agma_İ’mp(
ü™iÿl
è{ 
	glmp
.
m”ge
(
mp
); }

30736 ià(&
	glmp
!=&
mp
è
d–‘e
 &
lmp
;

30742 
T
 *
	g±rd
 = *
ex´essiÚ
=='<'?
’d
(è- 1:
_d©a
;

30743 ià(*
	gex´essiÚ
=='<') {

30744 
mp
.
begš_t
();

30745 ià(
	gfÜmuÏ_mode
==2è
cimg_rofYZC
(*
this
,
y
,
z
,
c
è{ 
	gcimg_abÜt_‹¡
; 
cimg_rofX
(*this,
x
è
mp
(x,y,z,c); }

30746 
cimg_rofYZC
(*
this
,
y
,
z
,
c
è{ 
	gcimg_abÜt_‹¡
; 
cimg_rofX
(*this,
x
è*(
	g±rd
--èğ(
T
)
mp
(x,y,z,c); }

30747 
	gmp
.
’d_t
();

30749 } ià(*
	gex´essiÚ
=='>' || !
do_š_·¿Î–
) {

30750 
mp
.
begš_t
();

30751 ià(
	gfÜmuÏ_mode
==2è
cimg_fÜYZC
(*
this
,
y
,
z
,
c
è{ 
	gcimg_abÜt_‹¡
; 
cimg_fÜX
(*this,
x
è
mp
(x,y,z,c); }

30752 
cimg_fÜYZC
(*
this
,
y
,
z
,
c
è{ 
	gcimg_abÜt_‹¡
; 
cimg_fÜX
(*this,
x
è*(
	g±rd
++èğ(
T
)
mp
(x,y,z,c); }

30753 
	gmp
.
’d_t
();

30757 #ià
cimg_u£_İ’mp
!=0

30758 
	gtid
 = 0;

30759 
cimg_´agma_İ’mp
(
·¿Î–
)

30761 
_cimg_m©h_·r£r
 *
	g_mp
 = 0;

30762 
cimg_´agma_İ’mp
(
ü™iÿl
(
_fl
)è{ 
	g_mp
 = !
tid
?&
mp
:
Ãw
 
_cimg_m©h_·r£r
(mp); ++
	gtid
; }

30763 
	g_cimg_m©h_·r£r
 &
	glmp
 = *
_mp
;

30764 
	glmp
.
	gis_fl
 = 
Œue
;

30765 
cimg_´agma_İ’mp
(
b¬r›r
)

30766 
	glmp
.
begš_t
();

30768 
	#_cimg_fl_İ’mp_sÿÏr
(
_YZC
,
_y
,
_z
,
_c
,
_X
,
_x
,
_sx
,
_sy
,
_sz
,
_sc
,
_off
) \

30769 
	`cimg_´agma_İ’mp
(
	`cimg_İ’mp_cŞÏp£
(3)) \

30770 
cimg_fÜ
##
	`_YZC
(*
this
,
_y
,
_z
,
_c
è
_cimg_abÜt_Œy_İ’mp
 { \

30771 
cimg_abÜt_‹¡
; \

30772 ià(
fÜmuÏ_mode
==2è
cimg_fÜ
##
	`_X
(*
this
,
_x
è
	`lmp
(
x
,
y
,
z
,
c
); \

30774 
T
 *
_±rd
 = 
	`d©a
(
_sx
,
_sy
,
_sz
,
_sc
); \

30775 cÚ¡ 
ulÚgT
 
off
 = (ulÚgT)
_off
; \

30776 
cimg_fÜ
##
	`_X
(*
this
,
_x
è{ *
_±rd
 = (
T
)
	`lmp
(
x
,
y
,
z
,
c
); _±rd+=
off
; } \

30778 } 
_cimg_abÜt_ÿtch_İ’mp
 
_cimg_abÜt_ÿtch_fl_İ’mp


	)

30780 ià(
	gM
==
_width
è{ 
_cimg_fl_İ’mp_sÿÏr
(
YZC
,
y
,
z
,
c
,
X
,
x
,0,y,z,c,1) }

30781 ià(
M
==
_height
è{ 
_cimg_fl_İ’mp_sÿÏr
(
XZC
,
x
,
z
,
c
,
Y
,
y
,x,0,z,c,
_width
) }

30782 ià(
M
==
_d•th
è{ 
_cimg_fl_İ’mp_sÿÏr
(
XYC
,
x
,
y
,
c
,
Z
,
z
,x,y,0,c,
_width
*
_height
) }

30783 { 
_cimg_fl_İ’mp_sÿÏr
(
XYZ
,
x
,
y
,
z
,
C
,
c
,x,y,z,0,
_width
*
_height
*
_d•th
) }

30785 
lmp
.
’d_t
();

30786 
cimg_´agma_İ’mp
(
b¬r›r
ècimg_´agma_İ’mp(
ü™iÿl
è{ 
	glmp
.
m”ge
(
mp
); }

30787 ià(&
	glmp
!=&
mp
è
d–‘e
 &
lmp
;

30792 
	gmp
.
’d
();

30793 } 
ÿtch
 (
CImgExû±iÚ
& 
e
è{ 
	gCImg
<
	gch¬T
>::
¡ršg
Ó.
_mes§ge
).
move_to
(
is_”rÜ
); }

30797 ià(!
	gfÜmuÏ_mode
 || 
	gis_v®ue_£qu’û
 || 
	gis_”rÜ
) {

30798 
	gCImg
<
	gch¬T
> 
™em
(256);

30799 
	g£p
 = 0;

30800 cÚ¡ *
	gÃx´essiÚ
 = 
ex´essiÚ
;

30801 
ulÚgT
 
	gnb
 = 0;

30802 cÚ¡ 
ulÚgT
 
	gsiz
 = 
size
();

30803 
T
 *
	g±rd
 = 
_d©a
;

30804 
	gv®
 = 0; *
	gÃx´essiÚ
 && 
	gnb
<
	gsiz
; ++nb) {

30805 
	g£p
 = 0;

30806 cÚ¡ 
	g”r
 = 
cimg_ssÿnf
(
Ãx´essiÚ
,"%255[ \n\t0-9.eEšç+-]%c",
™em
.
_d©a
,&
£p
);

30807 ià(
	g”r
>0 && 
cimg_ssÿnf
(
™em
,"%lf",&
v®
)==1 && (
£p
==',' || s•==';' || 
”r
==1)) {

30808 
Ãx´essiÚ
+=
¡d
::
¡¾’
(
™em
è+ (
”r
>1);

30809 *(
	g±rd
++èğ(
T
)
v®
;

30812 
	gcimg
::
exû±iÚ_mode
(
omode
);

30813 ià(
	gnb
<
	gsiz
 && (
	g£p
 || *
	gÃx´essiÚ
)) {

30814 ià(
	gis_”rÜ
è
throw
 
CImgArgum’tExû±iÚ
("%s",
is_”rÜ
.
_d©a
);

30815 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


30817 
cimg_š¡ªû
,
ÿÎšg_funùiÚ
,
ex´essiÚ
);

30819 ià(
	g»³©_v®ues
 && 
	gnb
 &&‚b<
	gsiz
)

30820 
T
 *
	g±rs
 = 
_d©a
, *cÚ¡ 
	g±»
 = _d©¨+ 
siz
; 
	g±rd
<±»; ++±rsè*ÕŒd++èğ*
±rs
;

30823 
	gcimg
::
exû±iÚ_mode
(
omode
);

30824 
	gcimg_abÜt_‹¡
;

30825  *
	gthis
;

30829 
	gCImg
<
	gT
> 
g‘_fl
(cÚ¡ *cÚ¡ 
ex´essiÚ
, cÚ¡ 
boŞ
 
»³©_v®ues
, cÚ¡ boŞ 
®low_fÜmuÏ
=
Œue
,

30830 cÚ¡ 
CImgLi¡
<
T
> *cÚ¡ 
li¡_šputs
=0, CImgLi¡<T> *cÚ¡ 
li¡_ouuts
=0) const {

30831  (+*
this
).
fl
(
ex´essiÚ
,
»³©_v®ues
,
®low_fÜmuÏ
?1:0,
li¡_šputs
,
li¡_ouuts
);

30840 
	g‹m¶©e
<
ty³Çme
 
	gt
>

30841 
	gCImg
<
	gT
>& 
fl
(cÚ¡ 
CImg
<
t
>& 
v®ues
, cÚ¡ 
boŞ
 
»³©_v®ues
=
Œue
) {

30842 ià(
is_em±y
(è|| !
v®ues
è *
this
;

30843 
T
 *
	g±rd
 = 
_d©a
, *
	g±»
 = 
±rd
 + 
size
();

30844 
t
 *
	g±rs
 = 
v®ues
.
_d©a
, *
	g±rs_’d
 = 
±rs
 + v®ues.
size
();…Œs<±rs_’d && 
	g±rd
<
	g±»
; ++ptrs)

30845 *(
	g±rd
++èğ(
T
)*
±rs
;

30846 ià(
	g»³©_v®ues
 && 
	g±rd
<
	g±»
è
T
 *
	g±rs
 = 
_d©a
;…Œd<±»; ++±rsè*ÕŒd++èğ*
±rs
;

30847  *
	gthis
;

30851 
	g‹m¶©e
<
ty³Çme
 
	gt
>

30852 
	gCImg
<
	gT
> 
g‘_fl
(cÚ¡ 
CImg
<
t
>& 
v®ues
, cÚ¡ 
boŞ
 
»³©_v®ues
=
Œue
) const {

30853  
»³©_v®ues
?
CImg
<
T
>(
_width
,
_height
,
_d•th
,
_¥eùrum
).
fl
(
v®ues
,repeat_values):

30854 (+*
this
).
fl
(
v®ues
,
»³©_v®ues
);

30864 
	gCImg
<
	gT
>& 
flX
(cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ 
a0
, ...) {

30865 
	#_cimg_fl1
(
x
,
y
,
z
,
c
,
off
,
siz
,
t
) { \

30866 
va_li¡
 
­
; 
	`va_¡¬t
×p,
a0
); 
T
 *
±rd
 = 
	`d©a
(
x
,
y
,
z
,
c
); *ptrd = (T)a0; \

30867 
k
 = 1; k<
siz
; ++kè{ 
±rd
+=
off
; *±rd = (
T
)
	`va_¬g
(
­
,
t
); } \

30868 
	`va_’d
(
­
); }

	)

30869 ià(
	gy
<
	g_height
 && 
	gz
<
	g_d•th
 && 
	gc
<
	g_¥eùrum
è
_cimg_fl1
(0,
y
,
z
,
c
,1,
_width
,);

30870  *
	gthis
;

30874 
	gCImg
<
	gT
>& 
flX
(cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ 
a0
, ...) {

30875 ià(
	gy
<
	g_height
 && 
	gz
<
	g_d•th
 && 
	gc
<
	g_¥eùrum
è
_cimg_fl1
(0,
y
,
z
,
c
,1,
_width
,);

30876  *
	gthis
;

30886 
	gCImg
<
	gT
>& 
flY
(cÚ¡ 
x
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ 
a0
, ...) {

30887 ià(
	gx
<
	g_width
 && 
	gz
<
	g_d•th
 && 
	gc
<
	g_¥eùrum
è
_cimg_fl1
(
x
,0,
z
,
c
,
_width
,
_height
,);

30888  *
	gthis
;

30892 
	gCImg
<
	gT
>& 
flY
(cÚ¡ 
x
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ 
a0
, ...) {

30893 ià(
	gx
<
	g_width
 && 
	gz
<
	g_d•th
 && 
	gc
<
	g_¥eùrum
è
_cimg_fl1
(
x
,0,
z
,
c
,
_width
,
_height
,);

30894  *
	gthis
;

30904 
	gCImg
<
	gT
>& 
flZ
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
c
, cÚ¡ 
a0
, ...) {

30905 cÚ¡ 
ulÚgT
 
	gwh
 = (ulÚgT)
_width
*
_height
;

30906 ià(
	gx
<
	g_width
 && 
	gy
<
	g_height
 && 
	gc
<
	g_¥eùrum
è
_cimg_fl1
(
x
,
y
,0,
c
,
wh
,
_d•th
,);

30907  *
	gthis
;

30911 
	gCImg
<
	gT
>& 
flZ
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
c
, cÚ¡ 
a0
, ...) {

30912 cÚ¡ 
ulÚgT
 
	gwh
 = (ulÚgT)
_width
*
_height
;

30913 ià(
	gx
<
	g_width
 && 
	gy
<
	g_height
 && 
	gc
<
	g_¥eùrum
è
_cimg_fl1
(
x
,
y
,0,
c
,
wh
,
_d•th
,);

30914  *
	gthis
;

30924 
	gCImg
<
	gT
>& 
flC
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
a0
, ...) {

30925 cÚ¡ 
ulÚgT
 
	gwhd
 = (ulÚgT)
_width
*
_height
*
_d•th
;

30926 ià(
	gx
<
	g_width
 && 
	gy
<
	g_height
 && 
	gz
<
	g_d•th
è
_cimg_fl1
(
x
,
y
,
z
,0,
whd
,
_¥eùrum
,);

30927  *
	gthis
;

30931 
	gCImg
<
	gT
>& 
flC
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
a0
, ...) {

30932 cÚ¡ 
ulÚgT
 
	gwhd
 = (ulÚgT)
_width
*
_height
*
_d•th
;

30933 ià(
	gx
<
	g_width
 && 
	gy
<
	g_height
 && 
	gz
<
	g_d•th
è
_cimg_fl1
(
x
,
y
,
z
,0,
whd
,
_¥eùrum
,);

30934  *
	gthis
;

30945 
	g‹m¶©e
<
ty³Çme
 
	gt
>

30946 
	gCImg
<
	gT
>& 
disÿrd
(cÚ¡ 
CImg
<
t
>& 
v®ues
, cÚ¡ 
axis
=0) {

30947 ià(
is_em±y
(è|| !
v®ues
è *
this
;

30948  
g‘_disÿrd
(
v®ues
,
axis
).
move_to
(*
this
);

30951 
	g‹m¶©e
<
ty³Çme
 
	gt
>

30952 
	gCImg
<
	gT
> 
g‘_disÿrd
(cÚ¡ 
CImg
<
t
>& 
v®ues
, cÚ¡ 
axis
=0) const {

30953 ià(!
v®ues
è +*
this
;

30954 
	gCImg
<
	gT
> 
	g»s
;

30955 ià(
is_em±y
()è 
	g»s
;

30956 cÚ¡ 
ulÚgT
 
	gvsiz
 = 
v®ues
.
size
();

30957 cÚ¡ 
	g_axis
 = 
cimg
::
low”ÿ£
(
axis
);

30958 
ulÚgT
 
	gj
 = 0;

30959 
	gk
 = 0;

30960 
	gi0
 = 0;

30961 
	g»s
.
assign
(
width
(),
height
(),
d•th
(),
¥eùrum
());

30962 
	g_axis
) {

30964 
cimg_fÜX
(*
this
,
i
) {

30965 ià((*
	gthis
)(
	gi
)!=(
T
)
v®ues
[
j
]) {

30966 ià(
j
è--
i
;

30967 
	g»s
.
d¿w_image
(
k
,
g‘_cŞumns
(
i0
,
i
));

30968 
	gk
+=
i
 - 
i0
 + 1; 
	gi0
 = i + 1; 
	gj
 = 0;

30969 } { ++
	gj
; ià(j>=
vsiz
è{ 
j
 = 0; 
	gi0
 = 
i
 + 1; } }

30971 ià(
	gi0
<
width
()è{ 
	g»s
.
d¿w_image
(
k
,
g‘_cŞumns
(
i0
,width(è- 1)); 
	gk
+=width() - i0; }

30972 
	g»s
.
»size
(
k
,-100,-100,-100,0);

30975 
cimg_fÜY
(*
this
,
i
) {

30976 ià((*
	gthis
)(0,
	gi
)!=(
T
)
v®ues
[
j
]) {

30977 ià(
j
è--
i
;

30978 
	g»s
.
d¿w_image
(0,
k
,
g‘_rows
(
i0
,
i
));

30979 
	gk
+=
i
 - 
i0
 + 1; 
	gi0
 = i + 1; 
	gj
 = 0;

30980 } { ++
	gj
; ià(j>=
vsiz
è{ 
j
 = 0; 
	gi0
 = 
i
 + 1; } }

30982 ià(
	gi0
<
height
()è{ 
	g»s
.
d¿w_image
(0,
k
,
g‘_rows
(
i0
,height(è- 1)); 
	gk
+=height() - i0; }

30983 
	g»s
.
»size
(-100,
k
,-100,-100,0);

30986 
cimg_fÜZ
(*
this
,
i
) {

30987 ià((*
	gthis
)(0,0,
	gi
)!=(
T
)
v®ues
[
j
]) {

30988 ià(
j
è--
i
;

30989 
	g»s
.
d¿w_image
(0,0,
k
,
g‘_¦iûs
(
i0
,
i
));

30990 
	gk
+=
i
 - 
i0
 + 1; 
	gi0
 = i + 1; 
	gj
 = 0;

30991 } { ++
	gj
; ià(j>=
vsiz
è{ 
j
 = 0; 
	gi0
 = 
i
 + 1; } }

30993 ià(
	gi0
<
d•th
()è{ 
	g»s
.
d¿w_image
(0,0,
k
,
g‘_¦iûs
(
i0
,
height
(è- 1)); 
	gk
+=depth() - i0; }

30994 
	g»s
.
»size
(-100,-100,
k
,-100,0);

30997 
cimg_fÜC
(*
this
,
i
) {

30998 ià((*
	gthis
)(0,0,0,
	gi
)!=(
T
)
v®ues
[
j
]) {

30999 ià(
j
è--
i
;

31000 
	g»s
.
d¿w_image
(0,0,0,
k
,
g‘_chªÃls
(
i0
,
i
));

31001 
	gk
+=
i
 - 
i0
 + 1; 
	gi0
 = i + 1; 
	gj
 = 0;

31002 } { ++
	gj
; ià(j>=
vsiz
è{ 
j
 = 0; 
	gi0
 = 
i
 + 1; } }

31004 ià(
	gi0
<
¥eùrum
()è{ 
	g»s
.
d¿w_image
(0,0,
k
,
g‘_chªÃls
(
i0
,
height
(è- 1)); 
	gk
+=spectrum() - i0; }

31005 
	g»s
.
»size
(-100,-100,-100,
k
,0);

31008 cÚ¡ 
ulÚgT
 
siz
 = 
size
();

31009 
	g»s
.
uÄŞl
('y');

31010 ià(
	gvsiz
==1) {

31011 cÚ¡ 
T
 
v®
 = (T)
v®ues
[0];

31012 
cimg_fÜoff
(*
this
,
i
) {

31013 cÚ¡ 
T
 
	g_v®
 = (T)
_d©a
[
i
];

31014 ià(
	g_v®
!=
v®
è
»s
[
k
++] = 
_v®
;

31017 
cimg_fÜoff
(*
this
,
i
) {

31018 ià((*
	gthis
)[
i
]!=(
T
)
v®ues
[
j
]) {

31019 ià(
j
è--
i
;

31020 
	g¡d
::
memıy
(
»s
.
_d©a
 + 
k
,_d©¨+ 
i0
,(
i
 - i0 + 1)*(
T
));

31021 
	gk
+=
i
 - 
i0
 + 1; 
	gi0
 = ()˜+ 1; 
	gj
 = 0;

31022 } { ++
	gj
; ià(j>=
vsiz
è{ 
j
 = 0; 
	gi0
 = ()
i
 + 1; }}

31024 ià((
	gulÚgT
)
	gi0
<
	gsiz
è{ 
	g¡d
::
memıy
(
»s
.
_d©a
 + 
k
,_d©¨+ 
i0
,(
siz
 - i0)*(
T
)); 
	gk
+=siz - i0; }

31026 
	g»s
.
»size
(1,
k
,1,1,0);

31029  
	g»s
;

31033 
	gCImg
<
	gT
>& 
disÿrd
(cÚ¡ 
axis
=0) {

31034  
g‘_disÿrd
(
axis
).
move_to
(*
this
);

31038 
	gCImg
<
	gT
> 
g‘_disÿrd
(cÚ¡ 
axis
=0) const {

31039 
CImg
<
T
> 
»s
;

31040 ià(
is_em±y
()è 
	g»s
;

31041 cÚ¡ 
	g_axis
 = 
cimg
::
low”ÿ£
(
axis
);

31042 
T
 
	gcu¼’t
 = *
_d©a
?(T)0:(T)1;

31043 
	gj
 = 0;

31044 
	g»s
.
assign
(
width
(),
height
(),
d•th
(),
¥eùrum
());

31045 
	g_axis
) {

31047 
cimg_fÜX
(*
this
,
i
)

31048 ià((*
	gthis
)(
	gi
)!=
cu¼’t
è{ 
»s
.
d¿w_image
(
j
++,
g‘_cŞumn
(
i
)); 
	gcu¼’t
 = (*
this
)(i); }

31049 
	g»s
.
»size
(
j
,-100,-100,-100,0);

31052 
cimg_fÜY
(*
this
,
i
)

31053 ià((*
	gthis
)(0,
	gi
)!=
cu¼’t
è{ 
»s
.
d¿w_image
(0,
j
++,
g‘_row
(
i
)); 
	gcu¼’t
 = (*
this
)(0,i); }

31054 
	g»s
.
»size
(-100,
j
,-100,-100,0);

31057 
cimg_fÜZ
(*
this
,
i
)

31058 ià((*
	gthis
)(0,0,
	gi
)!=
cu¼’t
è{ 
»s
.
d¿w_image
(0,0,
j
++,
g‘_¦iû
(
i
)); 
	gcu¼’t
 = (*
this
)(0,0,i); }

31059 
	g»s
.
»size
(-100,-100,
j
,-100,0);

31062 
cimg_fÜC
(*
this
,
i
)

31063 ià((*
	gthis
)(0,0,0,
	gi
)!=
cu¼’t
è{ 
»s
.
d¿w_image
(0,0,0,
j
++,
g‘_chªÃl
(
i
)); 
	gcu¼’t
 = (*
this
)(0,0,0,i); }

31064 
	g»s
.
»size
(-100,-100,-100,
j
,0);

31067 
»s
.
uÄŞl
('y');

31068 
cimg_fÜoff
(*
this
,
i
) {

31069 cÚ¡ 
T
 
	gv®
 = (*
this
)[
i
];

31070 ià(
	gv®
!=
cu¼’t
è
»s
[
j
++] = cu¼’ˆğ
v®
;

31072 
	g»s
.
»size
(-100,
j
,-100,-100,0);

31075  
	g»s
;

31081 
	gCImg
<
	gT
>& 
šv”t_’dŸÂess
() {

31082 
	gcimg
::
šv”t_’dŸÂess
(
_d©a
,
size
());

31083  *
	gthis
;

31087 
	gCImg
<
	gT
> 
g‘_šv”t_’dŸÂess
() const {

31088  (+*
	gthis
).
šv”t_’dŸÂess
();

31097 
	gCImg
<
	gT
>& 
¿nd
(cÚ¡ 
T
& 
v®_mš
, cÚ¡ T& 
v®_max
) {

31098 cÚ¡ 
	gd–
 = ()
v®_max
 - ()
v®_mš
 + (
cimg
::
ty³
<
T
>::
is_æßt
()?0:1);

31099 ià(
	gcimg
::
ty³
<
T
>::
is_æßt
()è
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),524288)) {

31100 
cimg_ušt64
 
	gºg
 = (
cimg
::
_¿nd
(),
	gcimg
::
ºg
());

31102 #ià
cimg_u£_İ’mp
!=0

31103 
	gºg
+=
omp_g‘_th»ad_num
();

31105 
cimg_´agma_İ’mp
()

31106 
cimg_rofoff
(*
this
,
off
è
	g_d©a
[off] = (
T
)(
v®_mš
 + 
d–
*
cimg
::
¿nd
(1,&
ºg
));

31107 
	gcimg
::
¤ªd
(
ºg
);

31108 } 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),524288)) {

31109 
cimg_ušt64
 
	gºg
 = (
cimg
::
_¿nd
(),
	gcimg
::
ºg
());

31111 #ià
cimg_u£_İ’mp
!=0

31112 
	gºg
+=
omp_g‘_th»ad_num
();

31114 
cimg_´agma_İ’mp
()

31115 
cimg_rofoff
(*
this
,
off
è
	g_d©a
[off] = 
¡d
::
mš
(
v®_max
,(
T
)(
v®_mš
 + 
d–
*
cimg
::
¿nd
(1,&
ºg
)));

31116 
	gcimg
::
¤ªd
(
ºg
);

31118  *
	gthis
;

31122 
	gCImg
<
	gT
> 
g‘_¿nd
(cÚ¡ 
T
& 
v®_mš
, cÚ¡ T& 
v®_max
) const {

31123  (+*
	gthis
).
¿nd
(
v®_mš
,
v®_max
);

31134 
	gCImg
<
	gT
>& 
round
(cÚ¡ 
y
=1, cÚ¡ 
roundšg_ty³
=0) {

31135 ià(
y
>0è
cimg_İ’mp_fÜ
(*
this
,
cimg
::
round
(*
±r
,y,
roundšg_ty³
),8192);

31136  *
	gthis
;

31140 
	gCImg
<
	gT
> 
g‘_round
(cÚ¡ 
y
=1, cÚ¡ 
roundšg_ty³
=0) const {

31141  (+*
this
).
round
(
y
,
roundšg_ty³
);

31162 
	gCImg
<
	gT
>& 
noi£
(cÚ¡ 
sigma
, cÚ¡ 
noi£_ty³
=0) {

31163 ià(
is_em±y
()è *
this
;

31164 cÚ¡ 
Tæßt
 
	gvmš
 = (Tæßt)
cimg
::
ty³
<
T
>::
mš
(), 
	gvmax
 = (Tæßt)cimg::ty³<T>::
max
();

31165 
Tæßt
 
	gnsigma
 = (Tæßt)
sigma
, 
	gm
 = 0, 
	gM
 = 0;

31166 ià(
	gnsigma
==0 && 
noi£_ty³
!=3è *
this
;

31167 ià(
	gnsigma
<0 || 
	gnoi£_ty³
==2è
m
 = (
Tæßt
)
mš_max
(
M
);

31168 ià(
	gnsigma
<0ènsigm¨ğ(
Tæßt
)(-
nsigma
*(
M
-
m
)/100.);

31169 
	gnoi£_ty³
) {

31171 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),131072)) {

31172 
cimg_ušt64
 
	gºg
 = (
cimg
::
_¿nd
(),
	gcimg
::
ºg
());

31174 #ià
cimg_u£_İ’mp
!=0

31175 
	gºg
+=
omp_g‘_th»ad_num
();

31177 
cimg_´agma_İ’mp
()

31178 
cimg_rofoff
(*
this
,
off
) {

31179 
Tæßt
 
	gv®
 = (Tæßt)(
_d©a
[
off
] + 
nsigma
*
cimg
::
g¿nd
(&
ºg
));

31180 ià(
	gv®
>
	gvmax
èv® = 
vmax
;

31181 ià(
	gv®
<
	gvmš
èv® = 
vmš
;

31182 
	g_d©a
[
off
] = (
T
)
v®
;

31184 
	gcimg
::
¤ªd
(
ºg
);

31188 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),131072)) {

31189 
cimg_ušt64
 
	gºg
 = (
cimg
::
_¿nd
(),
	gcimg
::
ºg
());

31191 #ià
cimg_u£_İ’mp
!=0

31192 
	gºg
+=
omp_g‘_th»ad_num
();

31194 
cimg_´agma_İ’mp
()

31195 
cimg_rofoff
(*
this
,
off
) {

31196 
Tæßt
 
	gv®
 = (Tæßt)(
_d©a
[
off
] + 
nsigma
*
cimg
::
¿nd
(-1,1,&
ºg
));

31197 ià(
	gv®
>
	gvmax
èv® = 
vmax
;

31198 ià(
	gv®
<
	gvmš
èv® = 
vmš
;

31199 
	g_d©a
[
off
] = (
T
)
v®
;

31201 
	gcimg
::
¤ªd
(
ºg
);

31205 ià(
nsigma
<0)‚sigma = -nsigma;

31206 ià(
	gM
==
m
) {

31207 ià(
cimg
::
ty³
<
T
>::
is_æßt
()è{ --
m
; ++
	gM
; }

31208 { 
	gm
 = (
Tæßt
)
cimg
::
ty³
<
T
>::
mš
(); 
	gM
 = (Tæßt)cimg::ty³<T>::
max
(); }

31210 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),131072)) {

31211 
cimg_ušt64
 
	gºg
 = (
cimg
::
_¿nd
(),
	gcimg
::
ºg
());

31213 #ià
cimg_u£_İ’mp
!=0

31214 
	gºg
+=
omp_g‘_th»ad_num
();

31216 
cimg_´agma_İ’mp
()

31217 
cimg_rofoff
(*
this
,
off
èià(
	gcimg
::
¿nd
(100,&
ºg
)<
	gnsigma
è
	g_d©a
[off] = (
T
)(
cimg
::¿nd(1,&ºg)<0.5?
	gM
:
m
);

31218 
	gcimg
::
¤ªd
(
ºg
);

31222 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),131072)) {

31223 
cimg_ušt64
 
	gºg
 = (
cimg
::
_¿nd
(),
	gcimg
::
ºg
());

31225 #ià
cimg_u£_İ’mp
!=0

31226 
	gºg
+=
omp_g‘_th»ad_num
();

31228 
cimg_´agma_İ’mp
()

31229 
cimg_rofoff
(*
this
,
off
è
	g_d©a
[off] = (
T
)
cimg
::
´ªd
(
_d©a
[off],&
ºg
);

31230 
	gcimg
::
¤ªd
(
ºg
);

31234 cÚ¡ 
Tæßt
 
sq¹2
 = (Tæßt)
¡d
::
sq¹
(2.);

31235 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),131072)) {

31236 
cimg_ušt64
 
	gºg
 = (
cimg
::
_¿nd
(),
	gcimg
::
ºg
());

31238 #ià
cimg_u£_İ’mp
!=0

31239 
	gºg
+=
omp_g‘_th»ad_num
();

31241 
cimg_´agma_İ’mp
()

31242 
cimg_rofoff
(*
this
,
off
) {

31243 cÚ¡ 
Tæßt


31244 
	gv®0
 = (
Tæßt
)
_d©a
[
off
]/
sq¹2
,

31245 
	g»
 = (
Tæßt
)(
v®0
 + 
nsigma
*
cimg
::
g¿nd
(&
ºg
)),

31246 
	gim
 = (
Tæßt
)(
v®0
 + 
nsigma
*
cimg
::
g¿nd
(&
ºg
));

31247 
Tæßt
 
	gv®
 = 
cimg
::
hypÙ
(
»
,
im
);

31248 ià(
	gv®
>
	gvmax
èv® = 
vmax
;

31249 ià(
	gv®
<
	gvmš
èv® = 
vmš
;

31250 
	g_d©a
[
off
] = (
T
)
v®
;

31252 
	gcimg
::
¤ªd
(
ºg
);

31256 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


31259 
cimg_š¡ªû
,

31260 
noi£_ty³
);

31262  *
	gthis
;

31266 
	gCImg
<
	gT
> 
g‘_noi£
(cÚ¡ 
sigma
, cÚ¡ 
noi£_ty³
=0) const {

31267  (+*
this
).
noi£
(
sigma
,
noi£_ty³
);

31284 
	gCImg
<
	gT
>& 
nÜm®ize
(cÚ¡ 
T
& 
mš_v®ue
, cÚ¡ T& 
max_v®ue
,

31285 cÚ¡ 
cÚ¡ªt_ÿ£_¿tio
=0) {

31286 ià(
is_em±y
()è *
this
;

31287 cÚ¡ 
T
 
	ga
 = 
mš_v®ue
<
max_v®ue
?mš_v®ue:max_v®ue, 
	gb
 = min_value<max_value?max_value:min_value;

31288 
T
 
	gm
, 
	gM
 = 
max_mš
(
m
);

31289 cÚ¡ 
Tæßt
 
	gfm
 = (Tæßt)
m
, 
	gfM
 = (Tæßt)
M
;

31290 ià(
	gm
==
M
)

31291  
fl
(
cÚ¡ªt_ÿ£_¿tio
==0?
a
:

31292 
cÚ¡ªt_ÿ£_¿tio
==1?
b
:

31293 (
T
)((1 - 
cÚ¡ªt_ÿ£_¿tio
)*
a
 + cÚ¡ªt_ÿ£_¿tio*
b
));

31294 ià(
	gm
!=
a
 || 
M
!=
b
è
cimg_rof
(*
this
,
±rd
,
T
è*
	g±rd
 = (T)((*±rd - 
fm
)/(
fM
 - fm)*(b -‡) +‡);

31295  *
	gthis
;

31299 
	gCImg
<
	gTæßt
> 
g‘_nÜm®ize
(cÚ¡ 
T
& 
mš_v®ue
, cÚ¡ T& 
max_v®ue
,

31300 cÚ¡ 
¿tio_if_cÚ¡ªt_image
=0) const {

31301  
CImg
<
Tæßt
>(*
this
,
çl£
).
nÜm®ize
((Tæßt)
mš_v®ue
,(Tæßt)
max_v®ue
,
¿tio_if_cÚ¡ªt_image
);

31313 
	gCImg
<
	gT
>& 
nÜm®ize
() {

31314 cÚ¡ 
ulÚgT
 
	gwhd
 = (ulÚgT)
_width
*
_height
*
_d•th
;

31315 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*512 &&

31316 
_height
*
_d•th
>=16))

31317 
cimg_fÜYZ
(*
this
,
y
,
z
) {

31318 
T
 *
	g±rd
 = 
d©a
(0,
y
,
z
,0);

31319 
cimg_fÜX
(*
this
,
x
) {

31320 cÚ¡ 
T
 *
	g±rs
 = 
±rd
;

31321 
	gn
 = 0;

31322 
cimg_fÜC
(*
this
,
c
è{ 
	gn
+=
cimg
::
sqr
(()*
±rs
); 
	g±rs
+=
whd
; }

31323 
	gn
 = ()
¡d
::
sq¹
(
n
);

31324 
T
 *
	g_±rd
 = 
±rd
++;

31325 ià(
	gn
>0è
cimg_fÜC
(*
this
,
c
è{ *
	g_±rd
 = (
T
)(*
_±rd
/
n
); _±rd+=
whd
; }

31326 
cimg_fÜC
(*
this
,
c
è{ *
	g_±rd
 = (
T
)0; _±rd+=
whd
; }

31329  *
	gthis
;

31333 
	gCImg
<
	gTæßt
> 
g‘_nÜm®ize
() const {

31334  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
).
nÜm®ize
();

31347 
	gCImg
<
	gT
>& 
nÜm
(cÚ¡ 
nÜm_ty³
=2) {

31348 ià(
_¥eùrum
==1 && 
nÜm_ty³
è 
abs
();

31349  
g‘_nÜm
(
nÜm_ty³
).
move_to
(*
this
);

31353 
	gCImg
<
	gTæßt
> 
g‘_nÜm
(cÚ¡ 
nÜm_ty³
=2) const {

31354 ià(
is_em±y
()è *
this
;

31355 ià(
	g_¥eùrum
==1 && 
nÜm_ty³
è 
g‘_abs
();

31356 cÚ¡ 
ulÚgT
 
	gwhd
 = (ulÚgT)
_width
*
_height
*
_d•th
;

31357 
	gCImg
<
	gTæßt
> 
»s
(
_width
,
_height
,
_d•th
);

31358 
	gnÜm_ty³
) {

31360 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*512 &&

31361 
_height
*
_d•th
>=16))

31362 
cimg_fÜYZ
(*
this
,
y
,
z
) {

31363 cÚ¡ 
ulÚgT
 
	goff
 = (ulÚgT)
off£t
(0,
y
,
z
);

31364 cÚ¡ 
T
 *
	g±rs
 = 
_d©a
 + 
off
;

31365 
Tæßt
 *
	g±rd
 = 
»s
.
_d©a
 + 
off
;

31366 
cimg_fÜX
(*
this
,
x
) {

31367 
Tæßt
 
	gn
 = 0;

31368 cÚ¡ 
T
 *
	g_±rs
 = 
±rs
++;

31369 
cimg_fÜC
(*
this
,
c
è{ cÚ¡ 
Tæßt
 
	gv®
 = (Tæßt)
cimg
::
abs
(*
_±rs
); ià(v®>
	gn
èÀğ
v®
; 
	g_±rs
+=
whd
; }

31370 *(
	g±rd
++èğ
n
;

31375 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*512 &&

31376 
_height
*
_d•th
>=16))

31377 
cimg_fÜYZ
(*
this
,
y
,
z
) {

31378 cÚ¡ 
ulÚgT
 
	goff
 = (ulÚgT)
off£t
(0,
y
,
z
);

31379 cÚ¡ 
T
 *
	g±rs
 = 
_d©a
 + 
off
;

31380 
Tæßt
 *
	g±rd
 = 
»s
.
_d©a
 + 
off
;

31381 
cimg_fÜX
(*
this
,
x
) {

31382 
	gn
 = 0;

31383 cÚ¡ 
T
 *
	g_±rs
 = 
±rs
++;

31384 
cimg_fÜC
(*
this
,
c
è{ 
	gn
+=*
_±rs
==0?0:1; 
	g_±rs
+=
whd
; }

31385 *(
	g±rd
++èğ(
Tæßt
)
n
;

31390 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*512 &&

31391 
_height
*
_d•th
>=16))

31392 
cimg_fÜYZ
(*
this
,
y
,
z
) {

31393 cÚ¡ 
ulÚgT
 
	goff
 = (ulÚgT)
off£t
(0,
y
,
z
);

31394 cÚ¡ 
T
 *
	g±rs
 = 
_d©a
 + 
off
;

31395 
Tæßt
 *
	g±rd
 = 
»s
.
_d©a
 + 
off
;

31396 
cimg_fÜX
(*
this
,
x
) {

31397 
Tæßt
 
	gn
 = 0;

31398 cÚ¡ 
T
 *
	g_±rs
 = 
±rs
++;

31399 
cimg_fÜC
(*
this
,
c
è{ 
	gn
+=
cimg
::
abs
(*
_±rs
); 
	g_±rs
+=
whd
; }

31400 *(
	g±rd
++èğ
n
;

31405 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*512 &&

31406 
_height
*
_d•th
>=16))

31407 
cimg_fÜYZ
(*
this
,
y
,
z
) {

31408 cÚ¡ 
ulÚgT
 
	goff
 = (ulÚgT)
off£t
(0,
y
,
z
);

31409 cÚ¡ 
T
 *
	g±rs
 = 
_d©a
 + 
off
;

31410 
Tæßt
 *
	g±rd
 = 
»s
.
_d©a
 + 
off
;

31411 
cimg_fÜX
(*
this
,
x
) {

31412 
Tæßt
 
	gn
 = 0;

31413 cÚ¡ 
T
 *
	g_±rs
 = 
±rs
++;

31414 
cimg_fÜC
(*
this
,
c
è{ 
	gn
+=
cimg
::
sqr
((
Tæßt
)*
_±rs
); 
	g_±rs
+=
whd
; }

31415 *(
	g±rd
++èğ(
Tæßt
)
¡d
::
sq¹
((Tæßt)
n
);

31420 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*512 &&

31421 
_height
*
_d•th
>=16))

31422 
cimg_fÜYZ
(*
this
,
y
,
z
) {

31423 cÚ¡ 
ulÚgT
 
	goff
 = (ulÚgT)
off£t
(0,
y
,
z
);

31424 cÚ¡ 
T
 *
	g±rs
 = 
_d©a
 + 
off
;

31425 
Tæßt
 *
	g±rd
 = 
»s
.
_d©a
 + 
off
;

31426 
cimg_fÜX
(*
this
,
x
) {

31427 
Tæßt
 
	gn
 = 0;

31428 cÚ¡ 
T
 *
	g_±rs
 = 
±rs
++;

31429 
cimg_fÜC
(*
this
,
c
è{ 
	gn
+=
¡d
::
pow
(
cimg
::
abs
((
Tæßt
)*
_±rs
),(Tæßt)
nÜm_ty³
); 
	g_±rs
+=
whd
; }

31430 *(
	g±rd
++èğ(
Tæßt
)
¡d
::
pow
((Tæßt)
n
,1/(Tæßt)
nÜm_ty³
);

31435  
	g»s
;

31449 
	gCImg
<
	gT
>& 
cut
(cÚ¡ 
T
& 
mš_v®ue
, cÚ¡ T& 
max_v®ue
) {

31450 ià(
is_em±y
()è *
	gthis
;

31451 cÚ¡ 
T
 
	ga
 = 
mš_v®ue
<
max_v®ue
?mš_v®ue:max_v®ue, 
	gb
 = min_value<max_value?max_value:min_value;

31452 
cimg_İ’mp_fÜ
(*
this
,
cimg
::
cut
(*
±r
,
a
,
b
),32768);

31453  *
	gthis
;

31457 
	gCImg
<
	gT
> 
g‘_cut
(cÚ¡ 
T
& 
mš_v®ue
, cÚ¡ T& 
max_v®ue
) const {

31458  (+*
	gthis
).
cut
(
mš_v®ue
,
max_v®ue
);

31472 
	gCImg
<
	gT
>& 
quªtize
(cÚ¡ 
nb_Ëv–s
, cÚ¡ 
boŞ
 
k“p_¿nge
=
Œue
) {

31473 ià(!
nb_Ëv–s
)

31474 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


31476 
cimg_š¡ªû
);

31478 ià(
is_em±y
()è *
	gthis
;

31479 
Tæßt
 
	gm
, 
	gM
 = (Tæßt)
max_mš
(
m
), 
	g¿nge
 = 
M
 - m;

31480 ià(
	g¿nge
>0) {

31481 ià(
	gk“p_¿nge
)

31482 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),32768))

31483 
cimg_rofoff
(*
this
,
off
) {

31484 cÚ¡ 
	gv®
 = ()((
_d©a
[
off
] - 
m
)*
nb_Ëv–s
/
¿nge
);

31485 
	g_d©a
[
off
] = (
T
)(
m
 + 
¡d
::
mš
(
v®
,
nb_Ëv–s
 - 1)*
	g¿nge
/
	gnb_Ëv–s
);

31487 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),32768))

31488 
cimg_rofoff
(*
this
,
off
) {

31489 cÚ¡ 
	gv®
 = ()((
_d©a
[
off
] - 
m
)*
nb_Ëv–s
/
¿nge
);

31490 
	g_d©a
[
off
] = (
T
)
¡d
::
mš
(
v®
,
nb_Ëv–s
 - 1);

31493  *
	gthis
;

31497 
	gCImg
<
	gT
> 
g‘_quªtize
(cÚ¡ 
n
, cÚ¡ 
boŞ
 
k“p_¿nge
=
Œue
) const {

31498  (+*
this
).
quªtize
(
n
,
k“p_¿nge
);

31513 
	gCImg
<
	gT
>& 
th»shŞd
(cÚ¡ 
T
& 
v®ue
, cÚ¡ 
boŞ
 
soá_th»shŞd
=
çl£
, cÚ¡ boŞ 
¡riù_th»shŞd
=false) {

31514 ià(
is_em±y
()è *
this
;

31515 ià(
	g¡riù_th»shŞd
) {

31516 ià(
	gsoá_th»shŞd
)

31517 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),32768))

31518 
cimg_rofoff
(*
this
,
off
) {

31519 cÚ¡ 
T
 
	gv
 = 
_d©a
[
off
];

31520 
	g_d©a
[
off
] = 
v
>
v®ue
?(
T
)(v-value):v<-()value?(T)(v + value):(T)0;

31523 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),65536))

31524 
cimg_rofoff
(*
this
,
off
è
	g_d©a
[off] = 
_d©a
[off]>
v®ue
?(
T
)1:(T)0;

31526 ià(
	gsoá_th»shŞd
)

31527 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),32768))

31528 
cimg_rofoff
(*
this
,
off
) {

31529 cÚ¡ 
T
 
	gv
 = 
_d©a
[
off
];

31530 
	g_d©a
[
off
] = 
v
>=
v®ue
?(
T
)(v-value):v<=-()value?(T)(v + value):(T)0;

31533 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),65536))

31534 
cimg_rofoff
(*
this
,
off
è
	g_d©a
[off] = 
_d©a
[off]>=
v®ue
?(
T
)1:(T)0;

31536  *
	gthis
;

31540 
	gCImg
<
	gT
> 
g‘_th»shŞd
(cÚ¡ 
T
& 
v®ue
, cÚ¡ 
boŞ
 
soá_th»shŞd
=
çl£
, cÚ¡ boŞ 
¡riù_th»shŞd
=false) const {

31541  (+*
this
).
th»shŞd
(
v®ue
,
soá_th»shŞd
,
¡riù_th»shŞd
);

31562 
	gCImg
<
	gT
>& 
hi¡og¿m
(cÚ¡ 
nb_Ëv–s
, cÚ¡ 
T
& 
mš_v®ue
, cÚ¡ T& 
max_v®ue
) {

31563  
g‘_hi¡og¿m
(
nb_Ëv–s
,
mš_v®ue
,
max_v®ue
).
move_to
(*
this
);

31567 
	gCImg
<
	gT
>& 
hi¡og¿m
(cÚ¡ 
nb_Ëv–s
) {

31568  
g‘_hi¡og¿m
(
nb_Ëv–s
).
move_to
(*
this
);

31572 
	gCImg
<
	gulÚgT
> 
g‘_hi¡og¿m
(cÚ¡ 
nb_Ëv–s
, cÚ¡ 
T
& 
mš_v®ue
, cÚ¡ T& 
max_v®ue
) const {

31573 ià(!
	gnb_Ëv–s
 || 
is_em±y
()è 
	gCImg
<
	gulÚgT
>();

31575 
	gvmš
 = ()(
mš_v®ue
<
max_v®ue
?min_value:max_value),

31576 
	gvmax
 = ()(
mš_v®ue
<
max_v®ue
?max_value:min_value);

31577 
	gCImg
<
	gulÚgT
> 
»s
(
nb_Ëv–s
,1,1,1,0);

31578 
cimg_rof
(*
this
,
±rs
,
T
) {

31579 cÚ¡ 
T
 
	gv®
 = *
±rs
;

31580 ià(
	gv®
>=
vmš
 && 
v®
<=
vmax
è++
»s
[v®==vmax?
nb_Ëv–s
 - 1:()((val - vmin)*nb_levels/(vmax - vmin))];

31582  
	g»s
;

31586 
	gCImg
<
	gulÚgT
> 
g‘_hi¡og¿m
(cÚ¡ 
nb_Ëv–s
) const {

31587 ià(!
	gnb_Ëv–s
 || 
is_em±y
()è 
	gCImg
<
	gulÚgT
>();

31588 
T
 
	gvmax
 = 0, 
	gvmš
 = 
mš_max
(
vmax
);

31589  
g‘_hi¡og¿m
(
nb_Ëv–s
,
vmš
,
vmax
);

31606 
	gCImg
<
	gT
>& 
equ®ize
(cÚ¡ 
nb_Ëv–s
, cÚ¡ 
T
& 
mš_v®ue
, cÚ¡ T& 
max_v®ue
) {

31607 ià(!
	gnb_Ëv–s
 || 
is_em±y
()è *
	gthis
;

31608 cÚ¡ 
T


31609 
	gvmš
 = 
mš_v®ue
<
max_v®ue
?min_value:max_value,

31610 
	gvmax
 = 
mš_v®ue
<
max_v®ue
?max_value:min_value;

31611 
	gCImg
<
	gulÚgT
> 
	ghi¡
 = 
g‘_hi¡og¿m
(
nb_Ëv–s
,
vmš
,
vmax
);

31612 
ulÚgT
 
	gcumul
 = 0;

31613 
cimg_fÜX
(
hi¡
,
pos
è{ 
	gcumul
+=hi¡[pos]; 
	ghi¡
[pos] = 
cumul
; }

31614 ià(!
	gcumul
) cumul = 1;

31615 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),1048576))

31616 
cimg_rofoff
(*
this
,
off
) {

31617 cÚ¡ 
	gpos
 = ()((
_d©a
[
off
] - 
vmš
)*(
nb_Ëv–s
 - 1.)/(
vmax
 - vmin));

31618 ià(
	gpos
>=0 && 
pos
<()
nb_Ëv–s
è
_d©a
[
off
] = (
T
)(
vmš
 + (
vmax
 - vmš)*
hi¡
[pos]/
cumul
);

31620  *
	gthis
;

31624 
	gCImg
<
	gT
>& 
equ®ize
(cÚ¡ 
nb_Ëv–s
) {

31625 ià(!
	gnb_Ëv–s
 || 
is_em±y
()è *
	gthis
;

31626 
T
 
	gvmax
 = 0, 
	gvmš
 = 
mš_max
(
vmax
);

31627  
equ®ize
(
nb_Ëv–s
,
vmš
,
vmax
);

31631 
	gCImg
<
	gT
> 
g‘_equ®ize
(cÚ¡ 
nbËv–s
, cÚ¡ 
T
& 
v®_mš
, cÚ¡ T& 
v®_max
) const {

31632  (+*
	gthis
).
equ®ize
(
nbËv–s
,
v®_mš
,
v®_max
);

31636 
	gCImg
<
	gT
> 
g‘_equ®ize
(cÚ¡ 
nbËv–s
) const {

31637  (+*
	gthis
).
equ®ize
(
nbËv–s
);

31655 
	g‹m¶©e
<
ty³Çme
 
	gt
>

31656 
	gCImg
<
	gT
>& 
šdex
(cÚ¡ 
CImg
<
t
>& 
cŞÜm­
, cÚ¡ 
d™h”šg
=1, cÚ¡ 
boŞ
 
m­_šdexes
=
çl£
) {

31657  
g‘_šdex
(
cŞÜm­
,
d™h”šg
,
m­_šdexes
).
move_to
(*
this
);

31661 
	g‹m¶©e
<
ty³Çme
 
	gt
>

31662 
	gCImg
<
ty³Çme
 CImg<
	gt
>::
Tušt
>

31663 
g‘_šdex
(cÚ¡ 
CImg
<
t
>& 
cŞÜm­
, cÚ¡ 
d™h”šg
=1, cÚ¡ 
boŞ
 
m­_šdexes
=
Œue
) const {

31664 ià(
cŞÜm­
.
_¥eùrum
!=_spectrum)

31665 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


31668 
cimg_š¡ªû
,

31669 
cŞÜm­
.
_width
,cŞÜm­.
_height
,cŞÜm­.
_d•th
,cŞÜm­.
_¥eùrum
,cŞÜm­.
_d©a
);

31671 
ty³Çme
 
	tCImg
<
	tt
>::
	tTušt
 
	ttušt
;

31672 ià(
is_em±y
()è 
	gCImg
<
	gtušt
>();

31673 cÚ¡ 
ulÚgT


31674 
	gwhd
 = (
ulÚgT
)
_width
*
_height
*
_d•th
,

31675 
	gpwhd
 = (
ulÚgT
)
cŞÜm­
.
_width
*cŞÜm­.
_height
*cŞÜm­.
_d•th
;

31676 
	gCImg
<
	gtušt
> 
»s
(
_width
,
_height
,
_d•th
,
m­_šdexes
?
_¥eùrum
:1);

31677 ià(
	gd™h”šg
>0) {

31678 
tušt
 *
	g±rd
 = 
»s
.
_d©a
;

31679 cÚ¡ 
	gnd™h”šg
 = 
cimg
::
cut
(
d™h”šg
,0,1)/16;

31680 
Tæßt
 
	gv®m
 = 0, 
	gv®M
 = (Tæßt)
max_mš
(
v®m
);

31681 ià(
	gv®m
==
v®M
 && 
v®m
>=0 && v®M<=255è{ v®m = 0; 
	gv®M
 = 255; }

31682 
	gCImg
<
	gTæßt
> 
	gÿche
 = 
g‘_üİ
(-1,0,0,0,
_width
,1,0,
_¥eùrum
 - 1);

31683 
Tæßt
 *
	gÿche_cu¼’t
 = 
ÿche
.
d©a
(1,0,0,0), *
	gÿche_Ãxt
 = cache.data(1,1,0,0);

31684 cÚ¡ 
ulÚgT
 
	gcwhd
 = (ulÚgT)
ÿche
.
_width
*ÿche.
_height
*ÿche.
_d•th
;

31685 
	g_¥eùrum
) {

31687 
cimg_fÜYZ
(*
this
,
y
,
z
) {

31688 ià(
	gy
<
height
() - 2) {

31689 
Tæßt
 *
	g±rc0
 = 
ÿche_Ãxt
; cÚ¡ 
T
 *
	g±rs0
 = 
d©a
(0,
y
 + 1,
z
,0);

31690 
cimg_fÜX
(*
this
,
x
è*(
	g±rc0
++èğ(
Tæßt
)*(
±rs0
++);

31692 
Tæßt
 *
	g±rs0
 = 
ÿche_cu¼’t
, *
	g±r¢0
 = 
ÿche_Ãxt
;

31693 
cimg_fÜX
(*
this
,
x
) {

31694 cÚ¡ 
Tæßt
 
	g_v®0
 = (Tæßt)*
±rs0
, 
	gv®0
 = 
_v®0
<
v®m
?v®m:_v®0>
v®M
?valM:_val0;

31695 
Tæßt
 
	gdi¡mš
 = 
cimg
::
ty³
<Tæßt>::
max
(); cÚ¡ 
t
 *
	g±rmš0
 = 
cŞÜm­
.
_d©a
;

31696 cÚ¡ 
t
 *
	g±½0
 = 
cŞÜm­
.
_d©a
, *
	g±½_’d
 = 
±½0
 + 
pwhd
;…trp0<ptrp_end; ) {

31697 cÚ¡ 
Tæßt
 
	gpv®0
 = (Tæßt)*(
±½0
++è- 
v®0
, 
	gdi¡
 = 
pv®0
*pval0;

31698 ià(
	gdi¡
<
	gdi¡mš
è{ 
	g±rmš0
 = 
±½0
 - 1; di¡mš = 
di¡
; }

31700 cÚ¡ 
Tæßt
 
	g”r0
 = ((*(
±rs0
++)=
v®0
è- (Tæßt)*
±rmš0
)*
nd™h”šg
;

31701 *
	g±rs0
+=7*
”r0
; *(
	g±r¢0
 - 1)+=3*err0; *(ptrsn0++)+=5*err0; *ptrsn0+=err0;

31702 ià(
	gm­_šdexes
è*(
	g±rd
++èğ(
tušt
)*
±rmš0
; *ÕŒd++èğÑušt)ÕŒmš0 - 
cŞÜm­
.
_d©a
);

31704 
	gcimg
::
sw­
(
ÿche_cu¼’t
,
ÿche_Ãxt
);

31708 
tušt
 *
±rd1
 = 
±rd
 + 
whd
;

31709 
cimg_fÜYZ
(*
this
,
y
,
z
) {

31710 ià(
	gy
<
height
() - 2) {

31711 
Tæßt
 *
	g±rc0
 = 
ÿche_Ãxt
, *
	g±rc1
 = 
±rc0
 + 
cwhd
;

31712 cÚ¡ 
T
 *
	g±rs0
 = 
d©a
(0,
y
 + 1,
z
,0), *
	g±rs1
 = 
±rs0
 + 
whd
;

31713 
cimg_fÜX
(*
this
,
x
è{ *(
	g±rc0
++èğ(
Tæßt
)*(
±rs0
++); *(
	g±rc1
++èğ(Tæßt)*(
±rs1
++); }

31715 
Tæßt


31716 *
	g±rs0
 = 
ÿche_cu¼’t
, *
	g±rs1
 = 
±rs0
 + 
cwhd
,

31717 *
	g±r¢0
 = 
ÿche_Ãxt
, *
	g±r¢1
 = 
±r¢0
 + 
cwhd
;

31718 
cimg_fÜX
(*
this
,
x
) {

31719 cÚ¡ 
Tæßt


31720 
	g_v®0
 = (
Tæßt
)*
±rs0
, 
	gv®0
 = 
_v®0
<
v®m
?v®m:_v®0>
v®M
?valM:_val0,

31721 
	g_v®1
 = (
Tæßt
)*
±rs1
, 
	gv®1
 = 
_v®1
<
v®m
?v®m:_v®1>
v®M
?valM:_val1;

31722 
Tæßt
 
	gdi¡mš
 = 
cimg
::
ty³
<Tæßt>::
max
(); cÚ¡ 
t
 *
	g±rmš0
 = 
cŞÜm­
.
_d©a
;

31723 cÚ¡ 
t
 *
	g±½0
 = 
cŞÜm­
.
_d©a
, *
	g±½1
 = 
±½0
 + 
pwhd
, *
	g±½_’d
 = 
±½1
;…trp0<ptrp_end; ) {

31724 cÚ¡ 
Tæßt


31725 
	gpv®0
 = (
Tæßt
)*(
±½0
++è- 
v®0
, 
	gpv®1
 = (Tæßt)*(
±½1
++è- 
v®1
,

31726 
	gdi¡
 = 
pv®0
*pv®0 + 
pv®1
*pval1;

31727 ià(
	gdi¡
<
	gdi¡mš
è{ 
	g±rmš0
 = 
±½0
 - 1; di¡mš = 
di¡
; }

31729 cÚ¡ 
t
 *cÚ¡ 
	g±rmš1
 = 
±rmš0
 + 
pwhd
;

31730 cÚ¡ 
Tæßt


31731 
	g”r0
 = ((*(
±rs0
++)=
v®0
è- (
Tæßt
)*
±rmš0
)*
nd™h”šg
,

31732 
	g”r1
 = ((*(
±rs1
++)=
v®1
è- (
Tæßt
)*
±rmš1
)*
nd™h”šg
;

31733 *
	g±rs0
+=7*
”r0
; *
	g±rs1
+=7*
”r1
;

31734 *(
	g±r¢0
 - 1)+=3*
”r0
; *(
	g±r¢1
 - 1)+=3*
”r1
;

31735 *(
	g±r¢0
++)+=5*
”r0
; *(
	g±r¢1
++)+=5*
”r1
;

31736 *
	g±r¢0
+=
”r0
; *
	g±r¢1
+=
”r1
;

31737 ià(
	gm­_šdexes
è{ *(
	g±rd
++èğ(
tušt
)*
±rmš0
; *(
	g±rd1
++èğÑušt)*
±rmš1
; }

31738 *(
	g±rd
++èğ(
tušt
)(
±rmš0
 - 
cŞÜm­
.
_d©a
);

31740 
	gcimg
::
sw­
(
ÿche_cu¼’t
,
ÿche_Ãxt
);

31744 
tušt
 *
±rd1
 = 
±rd
 + 
whd
, *
	g±rd2
 =…trd1 + whd;

31745 
cimg_fÜYZ
(*
this
,
y
,
z
) {

31746 ià(
	gy
<
height
() - 2) {

31747 
Tæßt
 *
	g±rc0
 = 
ÿche_Ãxt
, *
	g±rc1
 = 
±rc0
 + 
cwhd
, *
	g±rc2
 = 
±rc1
 + cwhd;

31748 cÚ¡ 
T
 *
	g±rs0
 = 
d©a
(0,
y
 + 1,
z
,0), *
	g±rs1
 = 
±rs0
 + 
whd
, *
	g±rs2
 = 
±rs1
 + whd;

31749 
cimg_fÜX
(*
this
,
x
) {

31750 *(
	g±rc0
++èğ(
Tæßt
)*(
±rs0
++); *(
	g±rc1
++èğ(Tæßt)*(
±rs1
++); *(
	g±rc2
++èğ(Tæßt)*(
±rs2
++);

31753 
Tæßt


31754 *
	g±rs0
 = 
ÿche_cu¼’t
, *
	g±rs1
 = 
±rs0
 + 
cwhd
, *
	g±rs2
 = 
±rs1
 + cwhd,

31755 *
	g±r¢0
 = 
ÿche_Ãxt
, *
	g±r¢1
 = 
±r¢0
 + 
cwhd
, *
	g±r¢2
 = 
±r¢1
 + cwhd;

31756 
cimg_fÜX
(*
this
,
x
) {

31757 cÚ¡ 
Tæßt


31758 
	g_v®0
 = (
Tæßt
)*
±rs0
, 
	gv®0
 = 
_v®0
<
v®m
?v®m:_v®0>
v®M
?valM:_val0,

31759 
	g_v®1
 = (
Tæßt
)*
±rs1
, 
	gv®1
 = 
_v®1
<
v®m
?v®m:_v®1>
v®M
?valM:_val1,

31760 
	g_v®2
 = (
Tæßt
)*
±rs2
, 
	gv®2
 = 
_v®2
<
v®m
?v®m:_v®2>
v®M
?valM:_val2;

31761 
Tæßt
 
	gdi¡mš
 = 
cimg
::
ty³
<Tæßt>::
max
(); cÚ¡ 
t
 *
	g±rmš0
 = 
cŞÜm­
.
_d©a
;

31762 cÚ¡ 
t
 *
	g±½0
 = 
cŞÜm­
.
_d©a
, *
	g±½1
 = 
±½0
 + 
pwhd
, *
	g±½2
 = 
±½1
 +…whd,

31763 *
	g±½_’d
 = 
±½1
; 
	g±½0
<ptrp_end; ) {

31764 cÚ¡ 
Tæßt


31765 
	gpv®0
 = (
Tæßt
)*(
±½0
++è- 
v®0
,

31766 
	gpv®1
 = (
Tæßt
)*(
±½1
++è- 
v®1
,

31767 
	gpv®2
 = (
Tæßt
)*(
±½2
++è- 
v®2
,

31768 
	gdi¡
 = 
pv®0
*pv®0 + 
pv®1
*pv®1 + 
pv®2
*pval2;

31769 ià(
	gdi¡
<
	gdi¡mš
è{ 
	g±rmš0
 = 
±½0
 - 1; di¡mš = 
di¡
; }

31771 cÚ¡ 
t
 *cÚ¡ 
	g±rmš1
 = 
±rmš0
 + 
pwhd
, *cÚ¡ 
	g±rmš2
 = 
±rmš1
 +…whd;

31772 cÚ¡ 
Tæßt


31773 
	g”r0
 = ((*(
±rs0
++)=
v®0
è- (
Tæßt
)*
±rmš0
)*
nd™h”šg
,

31774 
	g”r1
 = ((*(
±rs1
++)=
v®1
è- (
Tæßt
)*
±rmš1
)*
nd™h”šg
,

31775 
	g”r2
 = ((*(
±rs2
++)=
v®2
è- (
Tæßt
)*
±rmš2
)*
nd™h”šg
;

31777 *
	g±rs0
+=7*
”r0
; *
	g±rs1
+=7*
”r1
; *
	g±rs2
+=7*
”r2
;

31778 *(
	g±r¢0
 - 1)+=3*
”r0
; *(
	g±r¢1
 - 1)+=3*
”r1
; *(
	g±r¢2
 - 1)+=3*
”r2
;

31779 *(
	g±r¢0
++)+=5*
”r0
; *(
	g±r¢1
++)+=5*
”r1
; *(
	g±r¢2
++)+=5*
”r2
;

31780 *
	g±r¢0
+=
”r0
; *
	g±r¢1
+=
”r1
; *
	g±r¢2
+=
”r2
;

31782 ià(
	gm­_šdexes
) {

31783 *(
	g±rd
++èğ(
tušt
)*
±rmš0
; *(
	g±rd1
++èğÑušt)*
±rmš1
; *(
	g±rd2
++èğÑušt)*
±rmš2
;

31784 } *(
	g±rd
++èğ(
tušt
)(
±rmš0
 - 
cŞÜm­
.
_d©a
);

31786 
	gcimg
::
sw­
(
ÿche_cu¼’t
,
ÿche_Ãxt
);

31790 
cimg_fÜYZ
(*
this
,
y
,
z
) {

31791 ià(
	gy
<
height
() - 2) {

31792 
Tæßt
 *
	g±rc
 = 
ÿche_Ãxt
;

31793 
cimg_fÜC
(*
this
,
c
) {

31794 
Tæßt
 *
	g_±rc
 = 
±rc
; cÚ¡ 
T
 *
	g_±rs
 = 
d©a
(0,
y
 + 1,
z
,
c
);

31795 
cimg_fÜX
(*
this
,
x
è*(
	g_±rc
++èğ(
Tæßt
)*(
_±rs
++);

31796 
	g±rc
+=
cwhd
;

31799 
Tæßt
 *
	g±rs
 = 
ÿche_cu¼’t
, *
	g±r¢
 = 
ÿche_Ãxt
;

31800 
cimg_fÜX
(*
this
,
x
) {

31801 
Tæßt
 
	gdi¡mš
 = 
cimg
::
ty³
<Tæßt>::
max
(); cÚ¡ 
t
 *
	g±rmš
 = 
cŞÜm­
.
_d©a
;

31802 cÚ¡ 
t
 *
	g±½
 = 
cŞÜm­
.
_d©a
, *
	g±½_’d
 = 
±½
 + 
pwhd
;…trp<ptrp_end; ++ptrp) {

31803 
Tæßt
 
	gdi¡
 = 0; Tæßˆ*
	g_±rs
 = 
±rs
; cÚ¡ 
t
 *
	g_±½
 = 
±½
;

31804 
cimg_fÜC
(*
this
,
c
) {

31805 cÚ¡ 
Tæßt
 
	g_v®
 = *
_±rs
, 
	gv®
 = 
_v®
<
v®m
?v®m:_v®>
v®M
?valM:_val;

31806 
	gdi¡
+=
cimg
::
sqr
((*
_±rs
=
v®
è- (
Tæßt
)*
_±½
); 
	g_±rs
+=
cwhd
; 
	g_±½
+=
pwhd
;

31808 ià(
	gdi¡
<
	gdi¡mš
è{ 
	g±rmš
 = 
±½
; di¡mš = 
di¡
; }

31810 cÚ¡ 
t
 *
	g_±rmš
 = 
±rmš
; 
Tæßt
 *
	g_±rs
 = 
±rs
++, *
	g_±r¢
 = (
±r¢
++) - 1;

31811 
cimg_fÜC
(*
this
,
c
) {

31812 cÚ¡ 
Tæßt
 
	g”r
 = (*(
_±rs
++è- (Tæßt)*
_±rmš
)*
nd™h”šg
;

31813 *
	g_±rs
+=7*
”r
; *(
	g_±r¢
++)+=3*err; *(_ptrsn++)+=5*err; *_ptrsn+=err;

31814 
	g_±rmš
+=
pwhd
; 
	g_±rs
+=
cwhd
 - 1; 
	g_±r¢
+=cwhd - 2;

31816 ià(
	gm­_šdexes
) {

31817 
tušt
 *
	g_±rd
 = 
±rd
++;

31818 
cimg_fÜC
(*
this
,
c
è{ *
	g_±rd
 = (
tušt
)*
±rmš
; _±rd+=
whd
; 
	g±rmš
+=
pwhd
; }

31820 *(
	g±rd
++èğ(
tušt
)(
±rmš
 - 
cŞÜm­
.
_d©a
);

31822 
	gcimg
::
sw­
(
ÿche_cu¼’t
,
ÿche_Ãxt
);

31826 
	g_¥eùrum
) {

31828 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*64 &&

31829 
_height
*
_d•th
>=16 && 
pwhd
>=16))

31830 
cimg_fÜYZ
(*
this
,
y
,
z
) {

31831 
tušt
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
);

31832 cÚ¡ 
T
 *
	g±rs0
 = 
d©a
(0,
y
,
z
), *
	g±rs_’d
 = 
±rs0
 + 
_width
;…trs0<ptrs_end; ) {

31833 cÚ¡ 
Tæßt
 
	gv®0
 = (Tæßt)*(
±rs0
++);

31834 
Tæßt
 
	gdi¡mš
 = 
cimg
::
ty³
<Tæßt>::
max
(); cÚ¡ 
t
 *
	g±rmš0
 = 
cŞÜm­
.
_d©a
;

31835 cÚ¡ 
t
 *
	g±½0
 = 
cŞÜm­
.
_d©a
, *
	g±½_’d
 = 
±½0
 + 
pwhd
;…trp0<ptrp_end; ) {

31836 cÚ¡ 
Tæßt
 
	gpv®0
 = (Tæßt)*(
±½0
++è- 
v®0
, 
	gdi¡
 = 
pv®0
*pval0;

31837 ià(
	gdi¡
<
	gdi¡mš
è{ 
	g±rmš0
 = 
±½0
 - 1; di¡mš = 
di¡
; }

31839 ià(
	gm­_šdexes
è*(
	g±rd
++èğ(
tušt
)*
±rmš0
; *ÕŒd++èğÑušt)ÕŒmš0 - 
cŞÜm­
.
_d©a
);

31844 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*64 &&

31845 
_height
*
_d•th
>=16 && 
pwhd
>=16))

31846 
cimg_fÜYZ
(*
this
,
y
,
z
) {

31847 
tušt
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
), *
	g±rd1
 = 
±rd
 + 
whd
;

31848 cÚ¡ 
T
 *
	g±rs0
 = 
d©a
(0,
y
,
z
), *
	g±rs1
 = 
±rs0
 + 
whd
, *
	g±rs_’d
 =…Œs0 + 
_width
;…trs0<ptrs_end; ) {

31849 cÚ¡ 
Tæßt
 
	gv®0
 = (Tæßt)*(
±rs0
++), 
	gv®1
 = (Tæßt)*(
±rs1
++);

31850 
Tæßt
 
	gdi¡mš
 = 
cimg
::
ty³
<Tæßt>::
max
(); cÚ¡ 
t
 *
	g±rmš0
 = 
cŞÜm­
.
_d©a
;

31851 cÚ¡ 
t
 *
	g±½0
 = 
cŞÜm­
.
_d©a
, *
	g±½1
 = 
±½0
 + 
pwhd
, *
	g±½_’d
 = 
±½1
;…trp0<ptrp_end; ) {

31852 cÚ¡ 
Tæßt


31853 
	gpv®0
 = (
Tæßt
)*(
±½0
++è- 
v®0
, 
	gpv®1
 = (Tæßt)*(
±½1
++è- 
v®1
,

31854 
	gdi¡
 = 
pv®0
*pv®0 + 
pv®1
*pval1;

31855 ià(
	gdi¡
<
	gdi¡mš
è{ 
	g±rmš0
 = 
±½0
 - 1; di¡mš = 
di¡
; }

31857 ià(
	gm­_šdexes
è{ *(
	g±rd
++èğ(
tušt
)*
±rmš0
; *(
	g±rd1
++èğÑušt)*ÕŒmš0 + 
pwhd
); }

31858 *(
	g±rd
++èğ(
tušt
)(
±rmš0
 - 
cŞÜm­
.
_d©a
);

31863 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*64 &&

31864 
_height
*
_d•th
>=16 && 
pwhd
>=16))

31865 
cimg_fÜYZ
(*
this
,
y
,
z
) {

31866 
tušt
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
), *
	g±rd1
 = 
±rd
 + 
whd
, *
	g±rd2
 = 
±rd1
 + whd;

31867 cÚ¡ 
T
 *
	g±rs0
 = 
d©a
(0,
y
,
z
), *
	g±rs1
 = 
±rs0
 + 
whd
, *
	g±rs2
 = 
±rs1
 + whd,

31868 *
	g±rs_’d
 = 
±rs0
 + 
_width
; 
	g±rs0
<ptrs_end; ) {

31869 cÚ¡ 
Tæßt
 
	gv®0
 = (Tæßt)*(
±rs0
++), 
	gv®1
 = (Tæßt)*(
±rs1
++), 
	gv®2
 = (Tæßt)*(
±rs2
++);

31870 
Tæßt
 
	gdi¡mš
 = 
cimg
::
ty³
<Tæßt>::
max
(); cÚ¡ 
t
 *
	g±rmš0
 = 
cŞÜm­
.
_d©a
;

31871 cÚ¡ 
t
 *
	g±½0
 = 
cŞÜm­
.
_d©a
, *
	g±½1
 = 
±½0
 + 
pwhd
, *
	g±½2
 = 
±½1
 +…whd,

31872 *
	g±½_’d
 = 
±½1
; 
	g±½0
<ptrp_end; ) {

31873 cÚ¡ 
Tæßt


31874 
	gpv®0
 = (
Tæßt
)*(
±½0
++è- 
v®0
,

31875 
	gpv®1
 = (
Tæßt
)*(
±½1
++è- 
v®1
,

31876 
	gpv®2
 = (
Tæßt
)*(
±½2
++è- 
v®2
,

31877 
	gdi¡
 = 
pv®0
*pv®0 + 
pv®1
*pv®1 + 
pv®2
*pval2;

31878 ià(
	gdi¡
<
	gdi¡mš
è{ 
	g±rmš0
 = 
±½0
 - 1; di¡mš = 
di¡
; }

31880 ià(
	gm­_šdexes
) {

31881 *(
	g±rd
++èğ(
tušt
)*
±rmš0
;

31882 *(
	g±rd1
++èğ(
tušt
)*(
±rmš0
 + 
pwhd
);

31883 *(
	g±rd2
++èğ(
tušt
)*(
±rmš0
 + 2*
pwhd
);

31884 } *(
	g±rd
++èğ(
tušt
)(
±rmš0
 - 
cŞÜm­
.
_d©a
);

31889 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*64 &&

31890 
_height
*
_d•th
>=16 && 
pwhd
>=16))

31891 
cimg_fÜYZ
(*
this
,
y
,
z
) {

31892 
tušt
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
);

31893 cÚ¡ 
T
 *
	g±rs
 = 
d©a
(0,
y
,
z
), *
	g±rs_’d
 = 
±rs
 + 
_width
;…trs<ptrs_end; ++ptrs) {

31894 
Tæßt
 
	gdi¡mš
 = 
cimg
::
ty³
<Tæßt>::
max
(); cÚ¡ 
t
 *
	g±rmš
 = 
cŞÜm­
.
_d©a
;

31895 cÚ¡ 
t
 *
	g±½
 = 
cŞÜm­
.
_d©a
, *
	g±½_’d
 = 
±½
 + 
pwhd
;…trp<ptrp_end; ++ptrp) {

31896 
Tæßt
 
	gdi¡
 = 0; cÚ¡ 
T
 *
	g_±rs
 = 
±rs
; cÚ¡ 
t
 *
	g_±½
 = 
±½
;

31897 
cimg_fÜC
(*
this
,
c
è{ 
	gdi¡
+=
cimg
::
sqr
((
Tæßt
)*
_±rs
 - (Tæßt)*
_±½
); 
	g_±rs
+=
whd
; 
	g_±½
+=
pwhd
; }

31898 ià(
	gdi¡
<
	gdi¡mš
è{ 
	g±rmš
 = 
±½
; di¡mš = 
di¡
; }

31900 ià(
	gm­_šdexes
) {

31901 
tušt
 *
	g_±rd
 = 
±rd
++;

31902 
cimg_fÜC
(*
this
,
c
è{ *
	g_±rd
 = (
tušt
)*
±rmš
; _±rd+=
whd
; 
	g±rmš
+=
pwhd
; }

31904 *(
	g±rd
++èğ(
tušt
)(
±rmš
 - 
cŞÜm­
.
_d©a
);

31909  
	g»s
;

31926 
	g‹m¶©e
<
ty³Çme
 
	gt
>

31927 
	gCImg
<
	gT
>& 
m­
(cÚ¡ 
CImg
<
t
>& 
cŞÜm­
, cÚ¡ 
bound¬y_cÚd™iÚs
=0) {

31928  
g‘_m­
(
cŞÜm­
,
bound¬y_cÚd™iÚs
).
move_to
(*
this
);

31932 
	g‹m¶©e
<
ty³Çme
 
	gt
>

31933 
	gCImg
<
	gt
> 
g‘_m­
(cÚ¡ 
CImg
<
t
>& 
cŞÜm­
, cÚ¡ 
bound¬y_cÚd™iÚs
=0) const {

31934 cÚ¡ 
ulÚgT


31935 
whd
 = (
ulÚgT
)
_width
*
_height
*
_d•th
, 
	gsiz
 = 
size
(),

31936 
	gcwhd
 = (
ulÚgT
)
cŞÜm­
.
_width
*cŞÜm­.
_height
*cŞÜm­.
_d•th
,

31937 
	gcwhd2
 = 2*
cwhd
;

31938 
	gCImg
<
	gt
> 
»s
(
_width
,
_height
,
_d•th
,
_¥eùrum
*
cŞÜm­
._spectrum);

31939 
	gcŞÜm­
.
	g_¥eùrum
) {

31942 
bound¬y_cÚd™iÚs
) {

31944 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),256))

31945 
lÚgT
 
	goff
 = 0; off<(
	glÚgT
)
	gsiz
; ++off) {

31946 cÚ¡ 
ulÚgT
 
	gšd
 = ((ulÚgT)
_d©a
[
off
])%
cwhd2
;

31947 
	g»s
[
off
] = 
cŞÜm­
[
šd
<
cwhd
?šd:
cwhd2
 - ind - 1];

31951 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),256))

31952 
lÚgT
 
	goff
 = 0; off<(
	glÚgT
)
	gsiz
; ++off) {

31953 cÚ¡ 
ulÚgT
 
	gšd
 = (ulÚgT)
_d©a
[
off
];

31954 
	g»s
[
off
] = 
cŞÜm­
[
šd
%
cwhd
];

31958 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),256))

31959 
lÚgT
 
	goff
 = 0; off<(
	glÚgT
)
	gsiz
; ++off) {

31960 cÚ¡ 
lÚgT
 
	gšd
 = (lÚgT)
_d©a
[
off
];

31961 
	g»s
[
off
] = 
cŞÜm­
[
cimg
::
cut
(
šd
,(
lÚgT
)0,ÖÚgT)
cwhd
 - 1)];

31964 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),256))

31965 
lÚgT
 
	goff
 = 0; off<(
	glÚgT
)
	gsiz
; ++off) {

31966 cÚ¡ 
ulÚgT
 
	gšd
 = (ulÚgT)
_d©a
[
off
];

31967 
	g»s
[
off
] = 
šd
<
cwhd
?
cŞÜm­
[šd]:(
t
)0;

31973 cÚ¡ 
t
 *cÚ¡ 
±½0
 = 
cŞÜm­
.
_d©a
, *cÚ¡ 
	g±½1
 =…Œp0 + 
cwhd
;

31974 
	gbound¬y_cÚd™iÚs
) {

31976 
cimg_fÜC
(*
this
,
c
) {

31977 
t
 *cÚ¡ 
	g±rd0
 = 
»s
.
d©a
(0,0,0,2*
c
), *cÚ¡ 
	g±rd1
 = 
±rd0
 + 
whd
;

31978 cÚ¡ 
T
 *cÚ¡ 
	g±rs
 = 
d©a
(0,0,0,
c
);

31979 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),256))

31980 
lÚgT
 
	goff
 = 0; off<(
	glÚgT
)
	gwhd
; ++off) {

31981 cÚ¡ 
ulÚgT


31982 
	g_šd
 = ((
ulÚgT
)
±rs
[
off
])%
cwhd2
,

31983 
	gšd
 = 
_šd
<
cwhd
?_šd:
cwhd2
 - _ind - 1;

31984 
	g±rd0
[
off
] = 
±½0
[
šd
]; 
	g±rd1
[off] = 
±½1
[ind];

31988 
cimg_fÜC
(*
this
,
c
) {

31989 
t
 *cÚ¡ 
	g±rd0
 = 
»s
.
d©a
(0,0,0,2*
c
), *cÚ¡ 
	g±rd1
 = 
±rd0
 + 
whd
;

31990 cÚ¡ 
T
 *cÚ¡ 
	g±rs
 = 
d©a
(0,0,0,
c
);

31991 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),256))

31992 
lÚgT
 
	goff
 = 0; off<(
	glÚgT
)
	gwhd
; ++off) {

31993 cÚ¡ 
ulÚgT
 
	gšd
 = ((ulÚgT)
±rs
[
off
])%
cwhd
;

31994 
	g±rd0
[
off
] = 
±½0
[
šd
]; 
	g±rd1
[off] = 
±½1
[ind];

31998 
cimg_fÜC
(*
this
,
c
) {

31999 
t
 *cÚ¡ 
	g±rd0
 = 
»s
.
d©a
(0,0,0,2*
c
), *cÚ¡ 
	g±rd1
 = 
±rd0
 + 
whd
;

32000 cÚ¡ 
T
 *cÚ¡ 
	g±rs
 = 
d©a
(0,0,0,
c
);

32001 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),256))

32002 
lÚgT
 
	goff
 = 0; off<(
	glÚgT
)
	gwhd
; ++off) {

32003 cÚ¡ 
lÚgT
 
	gšd
 = 
cimg
::
cut
(ÖÚgT)
±rs
[
off
],ÖÚgT)0,ÖÚgT)
cwhd
 - 1);

32004 
	g±rd0
[
off
] = 
±½0
[
šd
]; 
	g±rd1
[off] = 
±½1
[ind];

32008 
cimg_fÜC
(*
this
,
c
) {

32009 
t
 *cÚ¡ 
	g±rd0
 = 
»s
.
d©a
(0,0,0,2*
c
), *cÚ¡ 
	g±rd1
 = 
±rd0
 + 
whd
;

32010 cÚ¡ 
T
 *cÚ¡ 
	g±rs
 = 
d©a
(0,0,0,
c
);

32011 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),256))

32012 
lÚgT
 
	goff
 = 0; off<(
	glÚgT
)
	gwhd
; ++off) {

32013 cÚ¡ 
ulÚgT
 
	gšd
 = (ulÚgT)
±rs
[
off
];

32014 ià(
	gšd
<
	gcwhd
è{ 
	g±rd0
[
off
] = 
±½0
[
šd
]; 
	g±rd1
[off] = 
±½1
[ind]; }

32015 
	g±rd0
[
off
] = 
±rd1
[off] = (
t
)0;

32022 cÚ¡ 
t
 *cÚ¡ 
±½0
 = 
cŞÜm­
.
_d©a
, *
	g±½1
 =…Œp0 + 
cwhd
, *
	g±½2
 =…trp0 + 2*cwhd;

32023 
	gbound¬y_cÚd™iÚs
) {

32025 
cimg_fÜC
(*
this
,
c
) {

32026 
t
 *cÚ¡ 
	g±rd0
 = 
»s
.
d©a
(0,0,0,3*
c
), *cÚ¡ 
	g±rd1
 = 
±rd0
 + 
whd
, *cÚ¡ 
	g±rd2
 = 
±rd1
 + whd;

32027 cÚ¡ 
T
 *cÚ¡ 
	g±rs
 = 
d©a
(0,0,0,
c
);

32028 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),256))

32029 
lÚgT
 
	goff
 = 0; off<(
	glÚgT
)
	gwhd
; ++off) {

32030 cÚ¡ 
ulÚgT


32031 
	g_šd
 = ((
ulÚgT
)
±rs
[
off
])%
cwhd2
,

32032 
	gšd
 = 
_šd
<
cwhd
?_šd:
cwhd2
 - _ind - 1;

32033 
	g±rd0
[
off
] = 
±½0
[
šd
]; 
	g±rd1
[off] = 
±½1
[šd]; 
	g±rd2
[off] = 
±½2
[ind];

32037 
cimg_fÜC
(*
this
,
c
) {

32038 
t
 *cÚ¡ 
	g±rd0
 = 
»s
.
d©a
(0,0,0,3*
c
), *cÚ¡ 
	g±rd1
 = 
±rd0
 + 
whd
, *cÚ¡ 
	g±rd2
 = 
±rd1
 + whd;

32039 cÚ¡ 
T
 *cÚ¡ 
	g±rs
 = 
d©a
(0,0,0,
c
);

32040 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),256))

32041 
lÚgT
 
	goff
 = 0; off<(
	glÚgT
)
	gwhd
; ++off) {

32042 cÚ¡ 
ulÚgT
 
	gšd
 = ((ulÚgT)
±rs
[
off
])%
cwhd
;

32043 
	g±rd0
[
off
] = 
±½0
[
šd
]; 
	g±rd1
[off] = 
±½1
[šd]; 
	g±rd2
[off] = 
±½2
[ind];

32047 
cimg_fÜC
(*
this
,
c
) {

32048 
t
 *cÚ¡ 
	g±rd0
 = 
»s
.
d©a
(0,0,0,3*
c
), *cÚ¡ 
	g±rd1
 = 
±rd0
 + 
whd
, *cÚ¡ 
	g±rd2
 = 
±rd1
 + whd;

32049 cÚ¡ 
T
 *cÚ¡ 
	g±rs
 = 
d©a
(0,0,0,
c
);

32050 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),256))

32051 
lÚgT
 
	goff
 = 0; off<(
	glÚgT
)
	gwhd
; ++off) {

32052 cÚ¡ 
lÚgT
 
	gšd
 = 
cimg
::
cut
(ÖÚgT)
±rs
[
off
],ÖÚgT)0,ÖÚgT)
cwhd
 - 1);

32053 
	g±rd0
[
off
] = 
±½0
[
šd
]; 
	g±rd1
[off] = 
±½1
[šd]; 
	g±rd2
[off] = 
±½2
[ind];

32057 
cimg_fÜC
(*
this
,
c
) {

32058 
t
 *cÚ¡ 
	g±rd0
 = 
»s
.
d©a
(0,0,0,3*
c
), *cÚ¡ 
	g±rd1
 = 
±rd0
 + 
whd
, *cÚ¡ 
	g±rd2
 = 
±rd1
 + whd;

32059 cÚ¡ 
T
 *cÚ¡ 
	g±rs
 = 
d©a
(0,0,0,
c
);

32060 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),256))

32061 
lÚgT
 
	goff
 = 0; off<(
	glÚgT
)
	gwhd
; ++off) {

32062 cÚ¡ 
ulÚgT
 
	gšd
 = (ulÚgT)
±rs
[
off
];

32063 ià(
	gšd
<
	gcwhd
è{ 
	g±rd0
[
off
] = 
±½0
[
šd
]; 
	g±rd1
[off] = 
±½1
[šd]; 
	g±rd2
[off] = 
±½2
[ind]; }

32064 
	g±rd0
[
off
] = 
±rd1
[off] = 
±rd2
[off] = (
t
)0;

32071 
bound¬y_cÚd™iÚs
) {

32073 
cimg_fÜC
(*
this
,
c
) {

32074 
t
 *cÚ¡ 
	g±rd
 = 
»s
.
d©a
(0,0,0,
cŞÜm­
.
_¥eùrum
*
c
);

32075 cÚ¡ 
T
 *cÚ¡ 
	g±rs
 = 
d©a
(0,0,0,
c
);

32076 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),256))

32077 
lÚgT
 
	goff
 = 0; off<(
	glÚgT
)
	gwhd
; ++off) {

32078 cÚ¡ 
ulÚgT


32079 
	g_šd
 = ((
ulÚgT
)
±rs
[
off
])%
cwhd
,

32080 
	gšd
 = 
_šd
<
cwhd
?_šd:
cwhd2
 - _ind - 1;

32081 
t
 *cÚ¡ 
	g_±rd
 = 
±rd
 + 
off
;

32082 cÚ¡ 
t
 *cÚ¡ 
	g±½
 = &
cŞÜm­
[
šd
];

32083 
cimg_fÜC
(
cŞÜm­
,
k
è
	g_±rd
[k*
whd
] = 
±½
[k*
cwhd
];

32087 
cimg_fÜC
(*
this
,
c
) {

32088 
t
 *cÚ¡ 
	g±rd
 = 
»s
.
d©a
(0,0,0,
cŞÜm­
.
_¥eùrum
*
c
);

32089 cÚ¡ 
T
 *cÚ¡ 
	g±rs
 = 
d©a
(0,0,0,
c
);

32090 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),256))

32091 
lÚgT
 
	goff
 = 0; off<(
	glÚgT
)
	gwhd
; ++off) {

32092 cÚ¡ 
ulÚgT
 
	gšd
 = ((ulÚgT)
±rs
[
off
])%
cwhd
;

32093 
t
 *cÚ¡ 
	g_±rd
 = 
±rd
 + 
off
;

32094 cÚ¡ 
t
 *cÚ¡ 
	g±½
 = &
cŞÜm­
[
šd
];

32095 
cimg_fÜC
(
cŞÜm­
,
k
è
	g_±rd
[k*
whd
] = 
±½
[k*
cwhd
];

32099 
cimg_fÜC
(*
this
,
c
) {

32100 
t
 *cÚ¡ 
	g±rd
 = 
»s
.
d©a
(0,0,0,
cŞÜm­
.
_¥eùrum
*
c
);

32101 cÚ¡ 
T
 *cÚ¡ 
	g±rs
 = 
d©a
(0,0,0,
c
);

32102 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),256))

32103 
lÚgT
 
	goff
 = 0; off<(
	glÚgT
)
	gwhd
; ++off) {

32104 cÚ¡ 
lÚgT
 
	gšd
 = 
cimg
::
cut
(ÖÚgT)
±rs
[
off
],ÖÚgT)0,ÖÚgT)
cwhd
 - 1);

32105 
t
 *cÚ¡ 
	g_±rd
 = 
±rd
 + 
off
;

32106 cÚ¡ 
t
 *cÚ¡ 
	g±½
 = &
cŞÜm­
[
šd
];

32107 
cimg_fÜC
(
cŞÜm­
,
k
è
	g_±rd
[k*
whd
] = 
±½
[k*
cwhd
];

32111 
cimg_fÜC
(*
this
,
c
) {

32112 
t
 *cÚ¡ 
	g±rd
 = 
»s
.
d©a
(0,0,0,
cŞÜm­
.
_¥eùrum
*
c
);

32113 cÚ¡ 
T
 *cÚ¡ 
	g±rs
 = 
d©a
(0,0,0,
c
);

32114 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),256))

32115 
lÚgT
 
	goff
 = 0; off<(
	glÚgT
)
	gwhd
; ++off) {

32116 cÚ¡ 
ulÚgT
 
	gšd
 = (ulÚgT)
±rs
[
off
];

32117 
t
 *cÚ¡ 
	g_±rd
 = 
±rd
 + 
off
;

32118 ià(
	gšd
<
	gcwhd
) {

32119 cÚ¡ 
t
 *cÚ¡ 
	g±½
 = &
cŞÜm­
[
šd
];

32120 
cimg_fÜC
(
cŞÜm­
,
k
è
	g_±rd
[k*
whd
] = 
±½
[k*
cwhd
];

32121 } 
cimg_fÜC
(
cŞÜm­
,
k
è
	g_±rd
[k*
whd
] = (
t
)0;

32127  
	g»s
;

32142 
	gCImg
<
	gT
>& 
Ïb–
(cÚ¡ 
boŞ
 
is_high_cÚÃùiv™y
=
çl£
, cÚ¡ 
Tæßt
 
tŞ”ªû
=0,

32143 cÚ¡ 
boŞ
 
is_L2_nÜm
=
Œue
) {

32144 ià(
is_em±y
()è *
this
;

32145  
g‘_Ïb–
(
is_high_cÚÃùiv™y
,
tŞ”ªû
,
is_L2_nÜm
).
move_to
(*
this
);

32149 
	gCImg
<
	gulÚgT
> 
g‘_Ïb–
(cÚ¡ 
boŞ
 
is_high_cÚÃùiv™y
=
çl£
, cÚ¡ 
Tæßt
 
tŞ”ªû
=0,

32150 cÚ¡ 
boŞ
 
is_L2_nÜm
=
Œue
) const {

32151 ià(
is_em±y
()è 
CImg
<
ulÚgT
>();

32154 
	gdx
[13], 
	gdy
[13], 
	gdz
[13], 
	gnb
 = 0;

32155 
	gdx
[
nb
] = 1; 
	gdy
[nb] = 0; 
	gdz
[nb++] = 0;

32156 
	gdx
[
nb
] = 0; 
	gdy
[nb] = 1; 
	gdz
[nb++] = 0;

32157 ià(
	gis_high_cÚÃùiv™y
) {

32158 
	gdx
[
nb
] = 1; 
	gdy
[nb] = 1; 
	gdz
[nb++] = 0;

32159 
	gdx
[
nb
] = 1; 
	gdy
[nb] = -1; 
	gdz
[nb++] = 0;

32161 ià(
	g_d•th
>1) {

32162 
	gdx
[
nb
] = 0; 
	gdy
[nb] = 0; 
	gdz
[nb++]=1;

32163 ià(
	gis_high_cÚÃùiv™y
) {

32164 
	gdx
[
nb
] = 1; 
	gdy
[nb] = 1; 
	gdz
[nb++] = -1;

32165 
	gdx
[
nb
] = 1; 
	gdy
[nb] = 0; 
	gdz
[nb++] = -1;

32166 
	gdx
[
nb
] = 1; 
	gdy
[nb] = -1; 
	gdz
[nb++] = -1;

32167 
	gdx
[
nb
] = 0; 
	gdy
[nb] = 1; 
	gdz
[nb++] = -1;

32169 
	gdx
[
nb
] = 0; 
	gdy
[nb] = 1; 
	gdz
[nb++] = 1;

32170 
	gdx
[
nb
] = 1; 
	gdy
[nb] = -1; 
	gdz
[nb++] = 1;

32171 
	gdx
[
nb
] = 1; 
	gdy
[nb] = 0; 
	gdz
[nb++] = 1;

32172 
	gdx
[
nb
] = 1; 
	gdy
[nb] = 1; 
	gdz
[nb++] = 1;

32175  
_Ïb–
(
nb
,
dx
,
dy
,
dz
,
tŞ”ªû
,
is_L2_nÜm
);

32184 
	g‹m¶©e
<
ty³Çme
 
	gt
>

32185 
	gCImg
<
	gT
>& 
Ïb–
(cÚ¡ 
CImg
<
t
>& 
cÚÃùiv™y_mask
, cÚ¡ 
Tæßt
 
tŞ”ªû
=0,

32186 cÚ¡ 
boŞ
 
is_L2_nÜm
=
Œue
) {

32187 ià(
is_em±y
()è *
this
;

32188  
g‘_Ïb–
(
cÚÃùiv™y_mask
,
tŞ”ªû
,
is_L2_nÜm
).
move_to
(*
this
);

32192 
	g‹m¶©e
<
ty³Çme
 
	gt
>

32193 
	gCImg
<
	gulÚgT
> 
g‘_Ïb–
(cÚ¡ 
CImg
<
t
>& 
cÚÃùiv™y_mask
, cÚ¡ 
Tæßt
 
tŞ”ªû
=0,

32194 cÚ¡ 
boŞ
 
is_L2_nÜm
=
Œue
) const {

32195 ià(
is_em±y
()è 
CImg
<
ulÚgT
>();

32196 
	gnb
 = 0;

32197 
cimg_fÜ
(
cÚÃùiv™y_mask
,
±r
,
t
èià(*
	g±r
è++
	gnb
;

32198 
	gCImg
<
	gštT
> 
dx
(
nb
,1,1,1,0), 
dy
Òb,1,1,1,0), 
dz
(nb,1,1,1,0);

32199 
	gnb
 = 0;

32200 
cimg_fÜXYZ
(
cÚÃùiv™y_mask
,
x
,
y
,
z
èià((
	gx
 || 
	gy
 || 
	gz
) &&

32201 
cÚÃùiv™y_mask
(
x
,
y
,
z
)) {

32202 
	gdx
[
nb
] = 
x
; 
	gdy
[nb] = 
y
; 
	gdz
[nb++] = 
z
;

32204  
_Ïb–
(
nb
,
dx
,
dy
,
dz
,
tŞ”ªû
,
is_L2_nÜm
);

32207 
	gCImg
<
	gulÚgT
> 
_Ïb–
(cÚ¡ 
nb
, cÚ¡ *cÚ¡ 
dx
,

32208 cÚ¡ *cÚ¡ 
dy
, cÚ¡ *cÚ¡ 
dz
,

32209 cÚ¡ 
Tæßt
 
tŞ”ªû
, cÚ¡ 
boŞ
 
is_L2_nÜm
) const {

32210 
	gCImg
<
	gulÚgT
> 
»s
(
_width
,
_height
,
_d•th
);

32211 cÚ¡ 
Tæßt
 
	g_tŞ”ªû
 = 
_¥eùrum
>1 && 
is_L2_nÜm
?
cimg
::
sqr
(
tŞ”ªû
):tolerance;

32214 
ulÚgT
 *
	g±r
 = 
»s
.
d©a
();

32215 
cimg_fÜoff
(
»s
,
p
è*(
	g±r
++) =…;

32218 
	gn
 = 0;‚<
	gnb
; ++n) {

32219 cÚ¡ 
	g_dx
 = 
dx
[
n
], 
	g_dy
 = 
dy
[n], 
	g_dz
 = 
dz
[n];

32220 ià(
	g_dx
 || 
	g_dy
 || 
	g_dz
) {

32222 
	gx0
 = 
_dx
<0?-_dx:0,

32223 
	gx1
 = 
_dx
<0?
width
():width() - _dx,

32224 
	gy0
 = 
_dy
<0?-_dy:0,

32225 
	gy1
 = 
_dy
<0?
height
():height() - _dy,

32226 
	gz0
 = 
_dz
<0?-_dz:0,

32227 
	gz1
 = 
_dz
<0?
d•th
():depth() - _dz;

32228 cÚ¡ 
lÚgT


32229 
	gwh
 = (
lÚgT
)
width
()*
height
(),

32230 
	gwhd
 = (
lÚgT
)
width
()*
height
()*
d•th
(),

32231 
	goff£t
 = 
_dz
*
wh
 + 
_dy
*
width
(è+ 
_dx
;

32232 
lÚgT
 
	gz
 = 
z0
, 
	gnz
 = z0 + 
_dz
, 
	gpz
 = z0*
wh
; z<
	gz1
; ++z, ++nz,…z+=wh) {

32233 
lÚgT
 
y
 = 
y0
, 
	gny
 = y0 + 
_dy
, 
	gpy
 = y0*
width
(è+ 
pz
; 
	gy
<
	gy1
; ++y, ++ny,…y+=width()) {

32234 
lÚgT
 
x
 = 
x0
, 
	gnx
 = x0 + 
_dx
, 
	gp
 = x0 + 
py
; 
	gx
<
	gx1
; ++x, ++nx, ++p) {

32235 
Tæßt
 
	gdiff
;

32236 
	g_¥eùrum
) {

32238 
diff
 = 
cimg
::
abs
((
Tæßt
)(*
this
)(
x
,
y
,
z
,0,
wh
,
whd
è- (Tæßt)(*this)(
nx
,
ny
,
nz
,0,wh,whd));

32241 ià(
is_L2_nÜm
)

32242 
diff
 = 
cimg
::
sqr
((
Tæßt
)(*
this
)(
x
,
y
,
z
,0,
wh
,
whd
è- (Tæßt)(*this)(
nx
,
ny
,
nz
,0,wh,whd)) +

32243 
	gcimg
::
sqr
((
Tæßt
)(*
this
)(
x
,
y
,
z
,1,
wh
,
whd
è- (Tæßt)(*this)(
nx
,
ny
,
nz
,1,wh,whd));

32245 
	gdiff
 = 
cimg
::
abs
((
Tæßt
)(*
this
)(
x
,
y
,
z
,0,
wh
,
whd
è- (Tæßt)(*this)(
nx
,
ny
,
nz
,0,wh,whd)) +

32246 
	gcimg
::
abs
((
Tæßt
)(*
this
)(
x
,
y
,
z
,1,
wh
,
whd
è- (Tæßt)(*this)(
nx
,
ny
,
nz
,1,wh,whd));

32249 ià(
is_L2_nÜm
)

32250 
diff
 = 
cimg
::
sqr
((
Tæßt
)(*
this
)(
x
,
y
,
z
,0,
wh
,
whd
è- (Tæßt)(*this)(
nx
,
ny
,
nz
,0,wh,whd)) +

32251 
	gcimg
::
sqr
((
Tæßt
)(*
this
)(
x
,
y
,
z
,1,
wh
,
whd
è- (Tæßt)(*this)(
nx
,
ny
,
nz
,1,wh,whd)) +

32252 
	gcimg
::
sqr
((
Tæßt
)(*
this
)(
x
,
y
,
z
,2,
wh
,
whd
è- (Tæßt)(*this)(
nx
,
ny
,
nz
,2,wh,whd));

32254 
	gdiff
 = 
cimg
::
abs
((
Tæßt
)(*
this
)(
x
,
y
,
z
,0,
wh
,
whd
è- (Tæßt)(*this)(
nx
,
ny
,
nz
,0,wh,whd)) +

32255 
	gcimg
::
abs
((
Tæßt
)(*
this
)(
x
,
y
,
z
,1,
wh
,
whd
è- (Tæßt)(*this)(
nx
,
ny
,
nz
,1,wh,whd)) +

32256 
	gcimg
::
abs
((
Tæßt
)(*
this
)(
x
,
y
,
z
,2,
wh
,
whd
è- (Tæßt)(*this)(
nx
,
ny
,
nz
,2,wh,whd));

32259 ià(
is_L2_nÜm
)

32260 
diff
 = 
cimg
::
sqr
((
Tæßt
)(*
this
)(
x
,
y
,
z
,0,
wh
,
whd
è- (Tæßt)(*this)(
nx
,
ny
,
nz
,0,wh,whd)) +

32261 
	gcimg
::
sqr
((
Tæßt
)(*
this
)(
x
,
y
,
z
,1,
wh
,
whd
è- (Tæßt)(*this)(
nx
,
ny
,
nz
,1,wh,whd)) +

32262 
	gcimg
::
sqr
((
Tæßt
)(*
this
)(
x
,
y
,
z
,2,
wh
,
whd
è- (Tæßt)(*this)(
nx
,
ny
,
nz
,2,wh,whd)) +

32263 
	gcimg
::
sqr
((
Tæßt
)(*
this
)(
x
,
y
,
z
,3,
wh
,
whd
è- (Tæßt)(*this)(
nx
,
ny
,
nz
,3,wh,whd));

32265 
	gdiff
 = 
cimg
::
abs
((
Tæßt
)(*
this
)(
x
,
y
,
z
,0,
wh
,
whd
è- (Tæßt)(*this)(
nx
,
ny
,
nz
,0,wh,whd)) +

32266 
	gcimg
::
abs
((
Tæßt
)(*
this
)(
x
,
y
,
z
,1,
wh
,
whd
è- (Tæßt)(*this)(
nx
,
ny
,
nz
,1,wh,whd)) +

32267 
	gcimg
::
abs
((
Tæßt
)(*
this
)(
x
,
y
,
z
,2,
wh
,
whd
è- (Tæßt)(*this)(
nx
,
ny
,
nz
,2,wh,whd)) +

32268 
	gcimg
::
abs
((
Tæßt
)(*
this
)(
x
,
y
,
z
,3,
wh
,
whd
è- (Tæßt)(*this)(
nx
,
ny
,
nz
,3,wh,whd));

32271 
diff
 = 0;

32272 ià(
	gis_L2_nÜm
)

32273 
cimg_fÜC
(*
this
,
c
)

32274 
	gdiff
+=
cimg
::
sqr
((
Tæßt
)(*
this
)(
x
,
y
,
z
,
c
,
wh
,
whd
è- (Tæßt)(*this)(
nx
,
ny
,
nz
,c,wh,whd));

32276 
cimg_fÜC
(*
this
,
c
)

32277 
	gdiff
+=
cimg
::
abs
((
Tæßt
)(*
this
)(
x
,
y
,
z
,
c
,
wh
,
whd
è- (Tæßt)(*this)(
nx
,
ny
,
nz
,c,wh,whd));

32280 ià(
	gdiff
<=
_tŞ”ªû
) {

32281 cÚ¡ 
lÚgT
 
q
 = 
p
 + 
off£t
;

32282 
ulÚgT
 
	gxk
, 
	gyk
;

32283 
	gxk
 = (
ulÚgT
)(
p
<
q
?q:p), 
	gyk
 = (ulÚgT)Õ<q?p:q); xk!=
yk
 && 
»s
[
xk
]!=xk; ) {

32284 
	gxk
 = 
»s
[
xk
]; ià(xk<
	gyk
è
	gcimg
::
sw­
(xk,
yk
);

32286 ià(
	gxk
!=
yk
è
»s
[
xk
] = (
ulÚgT
)yk;

32287 
ulÚgT
 
	g_p
 = (ulÚgT)
p
; _p!=
yk
; ) {

32288 cÚ¡ 
ulÚgT
 
	gh
 = 
»s
[
_p
];

32289 
	g»s
[
_p
] = (
ulÚgT
)
yk
;

32290 
	g_p
 = 
h
;

32292 
ulÚgT
 
	g_q
 = (ulÚgT)
q
; _q!=
yk
; ) {

32293 cÚ¡ 
ulÚgT
 
	gh
 = 
»s
[
_q
];

32294 
	g»s
[
_q
] = (
ulÚgT
)
yk
;

32295 
	g_q
 = 
h
;

32305 
ulÚgT
 
	gcouÁ”
 = 0;

32306 
	g±r
 = 
»s
.
d©a
();

32307 
cimg_fÜoff
(
»s
,
p
è{ *
	g±r
 = *
±r
=õ?
couÁ”
++:res[*ptr]; ++ptr; }

32308  
	g»s
;

32312 
	gCImg
<
	gT
>& 
_sy¡em_¡»sÿ³
() {

32313 
	#cimg_sy¡em_¡»sÿ³
(
c
,
s
èø: ià(
p
!=
±rs
è
CImg
<
T
>ÕŒs,()Õ-±rs),1,1,1,
çl£
).\

32314 
	`move_to
(
li¡
); \

32315 
CImg
<
T
>(
s
,()
¡d
::
	`¡¾’
(s),1,1,1,
çl£
).
	`move_to
(
li¡
); 
±rs
 = 
p
 + 1; 

	)

32316 
	gCImgLi¡
<
	gT
> 
	gli¡
;

32317 cÚ¡ 
T
 *
	g±rs
 = 
_d©a
;

32318 
cimg_fÜ
(*
this
,
p
,
T
è()*
	gp
) {

32319 
cimg_sy¡em_¡»sÿ³
('\\',"\\\\");

32320 
cimg_sy¡em_¡»sÿ³
('\"',"\\\"");

32321 
cimg_sy¡em_¡»sÿ³
('!',"\"\\!\"");

32322 
cimg_sy¡em_¡»sÿ³
('`',"\\`");

32323 
cimg_sy¡em_¡»sÿ³
('$',"\\$");

32325 ià(
	g±rs
<
’d
()è
	gCImg
<
	gT
>ÕŒs,()Ónd()-±rs),1,1,1,
	gçl£
).
move_to
(
li¡
);

32326  (
	gli¡
>'x').
move_to
(*
this
);

32341 cÚ¡ 
	gCImg
<
	gTuch¬
>& 
deçuÉ_LUT256
() {

32342 
	gCImg
<
	gTuch¬
> 
	gcŞÜm­
;

32343 
	gcimg
::
mu‹x
(8);

32344 ià(!
	gcŞÜm­
) {

32345 
	gcŞÜm­
.
assign
(1,256,1,3);

32346 
	gšdex
 = 0, 
	gr
 = 16;„<256;„+=32)

32347 
g
 = 16; 
	gg
<256; g+=32)

32348 
b
 = 32; 
	gb
<256; b+=64) {

32349 
cŞÜm­
(0,
šdex
,0èğ(
Tuch¬
)
r
;

32350 
cŞÜm­
(0,
šdex
,1èğ(
Tuch¬
)
g
;

32351 
cŞÜm­
(0,
šdex
++,2èğ(
Tuch¬
)
b
;

32354 
	gcimg
::
mu‹x
(8,0);

32355  
	gcŞÜm­
;

32363 cÚ¡ 
	gCImg
<
	gTuch¬
>& 
HSV_LUT256
() {

32364 
	gCImg
<
	gTuch¬
> 
	gcŞÜm­
;

32365 
	gcimg
::
mu‹x
(8);

32366 ià(!
	gcŞÜm­
) {

32367 
	gCImg
<
	gTšt
> 
tmp
(1,256,1,3,1);

32368 
	gtmp
.
g‘_sh¬ed_chªÃl
(0).
£qu’û
(0,359);

32369 
	gcŞÜm­
 = 
tmp
.
HSVtoRGB
();

32371 
	gcimg
::
mu‹x
(8,0);

32372  
	gcŞÜm­
;

32380 cÚ¡ 
	gCImg
<
	gTuch¬
>& 
lšes_LUT256
() {

32381 cÚ¡ 
	g·l
[] = {

32430 cÚ¡ 
	gCImg
<
	gTuch¬
> 
cŞÜm­
(
·l
,1,256,1,3,
çl£
);

32431  
	gcŞÜm­
;

32439 cÚ¡ 
	gCImg
<
	gTuch¬
>& 
hÙ_LUT256
() {

32440 
	gCImg
<
	gTuch¬
> 
	gcŞÜm­
;

32441 
	gcimg
::
mu‹x
(8);

32442 ià(!
	gcŞÜm­
) {

32443 
	gcŞÜm­
.
assign
(1,4,1,3,(
T
)0);

32444 
	gcŞÜm­
[1] = 
cŞÜm­
[2] = colormap[3] = colormap[6] = colormap[7] = colormap[11] = 255;

32445 
	gcŞÜm­
.
»size
(1,256,1,3,3);

32447 
	gcimg
::
mu‹x
(8,0);

32448  
	gcŞÜm­
;

32456 cÚ¡ 
	gCImg
<
	gTuch¬
>& 
coŞ_LUT256
() {

32457 
	gCImg
<
	gTuch¬
> 
	gcŞÜm­
;

32458 
	gcimg
::
mu‹x
(8);

32459 ià(!
	gcŞÜm­
ècŞÜm­.
assign
(1,2,1,3).
fl
((
T
)0,(T)255,(T)255,(T)0,(T)255,(T)255).
»size
(1,256,1,3,3);

32460 
	gcimg
::
mu‹x
(8,0);

32461  
	gcŞÜm­
;

32469 cÚ¡ 
	gCImg
<
	gTuch¬
>& 
j‘_LUT256
() {

32470 
	gCImg
<
	gTuch¬
> 
	gcŞÜm­
;

32471 
	gcimg
::
mu‹x
(8);

32472 ià(!
	gcŞÜm­
) {

32473 
	gcŞÜm­
.
assign
(1,4,1,3,(
T
)0);

32474 
	gcŞÜm­
[2] = 
cŞÜm­
[3] = colormap[5] = colormap[6] = colormap[8] = colormap[9] = 255;

32475 
	gcŞÜm­
.
»size
(1,256,1,3,3);

32477 
	gcimg
::
mu‹x
(8,0);

32478  
	gcŞÜm­
;

32486 cÚ¡ 
	gCImg
<
	gTuch¬
>& 
æag_LUT256
() {

32487 
	gCImg
<
	gTuch¬
> 
	gcŞÜm­
;

32488 
	gcimg
::
mu‹x
(8);

32489 ià(!
	gcŞÜm­
) {

32490 
	gcŞÜm­
.
assign
(1,4,1,3,(
T
)0);

32491 
	gcŞÜm­
[0] = 
cŞÜm­
[1] = colormap[5] = colormap[9] = colormap[10] = 255;

32492 
	gcŞÜm­
.
»size
(1,256,1,3,0,2);

32494 
	gcimg
::
mu‹x
(8,0);

32495  
	gcŞÜm­
;

32503 cÚ¡ 
	gCImg
<
	gTuch¬
>& 
cube_LUT256
() {

32504 
	gCImg
<
	gTuch¬
> 
	gcŞÜm­
;

32505 
	gcimg
::
mu‹x
(8);

32506 ià(!
	gcŞÜm­
) {

32507 
	gcŞÜm­
.
assign
(1,8,1,3,(
T
)0);

32508 
	gcŞÜm­
[1] = 
cŞÜm­
[3] = colormap[5] = colormap[7] =

32509 
cŞÜm­
[10] = colormap[11] = colormap[12] = colormap[13] =

32510 
cŞÜm­
[20] = colormap[21] = colormap[22] = colormap[23] = 255;

32511 
	gcŞÜm­
.
»size
(1,256,1,3,3);

32513 
	gcimg
::
mu‹x
(8,0);

32514  
	gcŞÜm­
;

32518 
	gCImg
<
	gT
>& 
sRGBtoRGB
() {

32519 ià(
is_em±y
()è *
	gthis
;

32520 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),32))

32521 
cimg_rofoff
(*
this
,
off
) {

32522 cÚ¡ 
Tæßt


32523 
	gsv®
 = (
Tæßt
)
_d©a
[
off
]/255,

32524 
	gv®
 = (
Tæßt
)(
sv®
<=0.04045f?sv®/12.92f:
¡d
::
pow
((sval + 0.055f)/(1.055f),2.4f));

32525 
	g_d©a
[
off
] = (
T
)
cimg
::
cut
(
v®
*255,0,255);

32527  *
	gthis
;

32531 
	gCImg
<
	gTæßt
> 
g‘_sRGBtoRGB
() const {

32532  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
).
sRGBtoRGB
();

32536 
	gCImg
<
	gT
>& 
RGBtosRGB
() {

32537 ià(
is_em±y
()è *
	gthis
;

32538 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
size
(),32))

32539 
cimg_rofoff
(*
this
,
off
) {

32540 cÚ¡ 
Tæßt


32541 
	gv®
 = (
Tæßt
)
_d©a
[
off
]/255,

32542 
	gsv®
 = (
Tæßt
)(
v®
<=0.0031308f?v®*12.92f:1.055f*
¡d
::
pow
(val,0.416667f) - 0.055f);

32543 
	g_d©a
[
off
] = (
T
)
cimg
::
cut
(
sv®
*255,0,255);

32545  *
	gthis
;

32549 
	gCImg
<
	gTæßt
> 
g‘_RGBtosRGB
() const {

32550  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
).
RGBtosRGB
();

32554 
	gCImg
<
	gT
>& 
RGBtoHSI
() {

32555 ià(
	g_¥eùrum
!=3)

32556 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


32558 
cimg_š¡ªû
);

32560 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

32561 cÚ¡ 
lÚgT
 
	gwhd
 = (lÚgT)
width
()*
height
()*
d•th
();

32562 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
whd
,256))

32563 
lÚgT
 
	gN
 = 0; N<
	gwhd
; ++N) {

32564 cÚ¡ 
Tæßt


32565 
	gR
 = (
Tæßt
)
p1
[
N
],

32566 
	gG
 = (
Tæßt
)
p2
[
N
],

32567 
	gB
 = (
Tæßt
)
p3
[
N
],

32568 
	gm
 = 
cimg
::
mš
(
R
,
G
,
B
),

32569 
	gM
 = 
cimg
::
max
(
R
,
G
,
B
),

32570 
	gC
 = 
M
 - 
m
,

32571 
	gsum
 = 
R
 + 
G
 + 
B
,

32572 
	gH
 = 60*(
C
==0?0:
M
==
R
?
cimg
::
mod
((
G
 - 
B
)/C,(
Tæßt
)6):M==G?(B - R)/C + 2:(R - G)/C + 4),

32573 
	gS
 = 
sum
<=0?0:1 - 3*
m
/sum,

32574 
	gI
 = 
sum
/(3*255);

32575 
	gp1
[
N
] = (
T
)
H
;

32576 
	gp2
[
N
] = (
T
)
S
;

32577 
	gp3
[
N
] = (
T
)
I
;

32579  *
	gthis
;

32583 
	gCImg
<
	gTæßt
> 
g‘_RGBtoHSI
() const {

32584  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
).
RGBtoHSI
();

32588 
	gCImg
<
	gT
>& 
HSItoRGB
() {

32589 ià(
	g_¥eùrum
!=3)

32590 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


32592 
cimg_š¡ªû
);

32594 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

32595 cÚ¡ 
lÚgT
 
	gwhd
 = (lÚgT)
width
()*
height
()*
d•th
();

32596 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
whd
,256))

32597 
lÚgT
 
	gN
 = 0; N<
	gwhd
; ++N) {

32598 cÚ¡ 
Tæßt


32599 
	gH
 = 
cimg
::
mod
((
Tæßt
)
p1
[
N
]/60,(Tfloat)6),

32600 
	gS
 = (
Tæßt
)
p2
[
N
],

32601 
	gI
 = (
Tæßt
)
p3
[
N
],

32602 
	gZ
 = 1 - 
cimg
::
abs
(cimg::
mod
(
H
,(
Tæßt
)2) - 1),

32603 
	gC
 = 
I
*
S
/(1 + 
Z
),

32604 
	gX
 = 
C
*
Z
,

32605 
	gm
 = 
I
*(1 - 
S
)/3;

32606 
Tæßt
 
	gR
, 
	gG
, 
	gB
;

32607 ()
	gH
) {

32608 0 : 
R
 = 
C
; 
	gG
 = 
X
; 
	gB
 = 0; ;

32609 1 : 
R
 = 
X
; 
	gG
 = 
C
; 
	gB
 = 0; ;

32610 2 : 
R
 = 0; 
	gG
 = 
C
; 
	gB
 = 
X
; ;

32611 3 : 
R
 = 0; 
	gG
 = 
X
; 
	gB
 = 
C
; ;

32612 4 : 
R
 = 
X
; 
	gG
 = 0; 
	gB
 = 
C
; ;

32613  : 
R
 = 
C
; 
	gG
 = 0; 
	gB
 = 
X
;

32615 
	gp1
[
N
] = (
T
)((
R
 + 
m
)*3*255);

32616 
	gp2
[
N
] = (
T
)((
G
 + 
m
)*3*255);

32617 
	gp3
[
N
] = (
T
)((
B
 + 
m
)*3*255);

32619  *
	gthis
;

32623 
	gCImg
<
	gTæßt
> 
g‘_HSItoRGB
() const {

32624  
	gCImg
< 
	gTuch¬
>(*
	gthis
,
	gçl£
).
HSItoRGB
();

32628 
	gCImg
<
	gT
>& 
RGBtoHSL
() {

32629 ià(
	g_¥eùrum
!=3)

32630 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


32632 
cimg_š¡ªû
);

32634 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

32635 cÚ¡ 
lÚgT
 
	gwhd
 = (lÚgT)
width
()*
height
()*
d•th
();

32636 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
whd
,256))

32637 
lÚgT
 
	gN
 = 0; N<
	gwhd
; ++N) {

32638 cÚ¡ 
Tæßt


32639 
	gR
 = (
Tæßt
)
p1
[
N
],

32640 
	gG
 = (
Tæßt
)
p2
[
N
],

32641 
	gB
 = (
Tæßt
)
p3
[
N
],

32642 
	gm
 = 
cimg
::
mš
(
R
,
G
,
B
),

32643 
	gM
 = 
cimg
::
max
(
R
,
G
,
B
),

32644 
	gC
 = 
M
 - 
m
,

32645 
	gH
 = 60*(
C
==0?0:
M
==
R
?
cimg
::
mod
((
G
 - 
B
)/C,(
Tæßt
)6):M==G?(B - R)/C + 2:(R - G)/C + 4),

32646 
	gL
 = 0.5f*(
m
 + 
M
)/255,

32647 
	gS
 = 
L
==1 || L==0?0:
C
/(1 - 
cimg
::
abs
(2*L - 1))/255;

32648 
	gp1
[
N
] = (
T
)
H
;

32649 
	gp2
[
N
] = (
T
)
S
;

32650 
	gp3
[
N
] = (
T
)
L
;

32652  *
	gthis
;

32656 
	gCImg
<
	gTæßt
> 
g‘_RGBtoHSL
() const {

32657  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
).
RGBtoHSL
();

32661 
	gCImg
<
	gT
>& 
HSLtoRGB
() {

32662 ià(
	g_¥eùrum
!=3)

32663 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


32665 
cimg_š¡ªû
);

32667 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

32668 cÚ¡ 
lÚgT
 
	gwhd
 = (lÚgT)
width
()*
height
()*
d•th
();

32669 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
whd
,256))

32670 
lÚgT
 
	gN
 = 0; N<
	gwhd
; ++N) {

32671 cÚ¡ 
Tæßt


32672 
	gH
 = 
cimg
::
mod
((
Tæßt
)
p1
[
N
]/60,(Tfloat)6),

32673 
	gS
 = (
Tæßt
)
p2
[
N
],

32674 
	gL
 = (
Tæßt
)
p3
[
N
],

32675 
	gC
 = (1 - 
cimg
::
abs
(2*
L
 - 1))*
S
,

32676 
	gX
 = 
C
*(1 - 
cimg
::
abs
(cimg::
mod
(
H
,(
Tæßt
)2) - 1)),

32677 
	gm
 = 
L
 - 
C
/2;

32678 
Tæßt
 
	gR
, 
	gG
, 
	gB
;

32679 ()
	gH
) {

32680 0 : 
R
 = 
C
; 
	gG
 = 
X
; 
	gB
 = 0; ;

32681 1 : 
R
 = 
X
; 
	gG
 = 
C
; 
	gB
 = 0; ;

32682 2 : 
R
 = 0; 
	gG
 = 
C
; 
	gB
 = 
X
; ;

32683 3 : 
R
 = 0; 
	gG
 = 
X
; 
	gB
 = 
C
; ;

32684 4 : 
R
 = 
X
; 
	gG
 = 0; 
	gB
 = 
C
; ;

32685  : 
R
 = 
C
; 
	gG
 = 0; 
	gB
 = 
X
;

32687 
	gp1
[
N
] = (
T
)((
R
 + 
m
)*255);

32688 
	gp2
[
N
] = (
T
)((
G
 + 
m
)*255);

32689 
	gp3
[
N
] = (
T
)((
B
 + 
m
)*255);

32691  *
	gthis
;

32695 
	gCImg
<
	gTuch¬
> 
g‘_HSLtoRGB
() const {

32696  
	gCImg
<
	gTuch¬
>(*
	gthis
,
	gçl£
).
HSLtoRGB
();

32700 
	gCImg
<
	gT
>& 
RGBtoHSV
() {

32701 ià(
	g_¥eùrum
!=3)

32702 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


32704 
cimg_š¡ªû
);

32706 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

32707 cÚ¡ 
lÚgT
 
	gwhd
 = (lÚgT)
width
()*
height
()*
d•th
();

32708 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
whd
,256))

32709 
lÚgT
 
	gN
 = 0; N<
	gwhd
; ++N) {

32710 cÚ¡ 
Tæßt


32711 
	gR
 = (
Tæßt
)
p1
[
N
],

32712 
	gG
 = (
Tæßt
)
p2
[
N
],

32713 
	gB
 = (
Tæßt
)
p3
[
N
],

32714 
	gM
 = 
cimg
::
max
(
R
,
G
,
B
),

32715 
	gC
 = 
M
 - 
cimg
::
mš
(
R
,
G
,
B
),

32716 
	gH
 = 60*(
C
==0?0:
M
==
R
?
cimg
::
mod
((
G
-
B
)/C,(
Tæßt
)6):M==G?(B - R)/C + 2:(R - G)/C + 4),

32717 
	gS
 = 
M
<=0?0:
C
/M;

32718 
	gp1
[
N
] = (
T
)
H
;

32719 
	gp2
[
N
] = (
T
)
S
;

32720 
	gp3
[
N
] = (
T
)(
M
/255);

32722  *
	gthis
;

32726 
	gCImg
<
	gTæßt
> 
g‘_RGBtoHSV
() const {

32727  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
).
RGBtoHSV
();

32731 
	gCImg
<
	gT
>& 
HSVtoRGB
() {

32732 ià(
	g_¥eùrum
!=3)

32733 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


32735 
cimg_š¡ªû
);

32737 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

32738 cÚ¡ 
lÚgT
 
	gwhd
 = (lÚgT)
width
()*
height
()*
d•th
();

32739 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
whd
,256))

32740 
lÚgT
 
	gN
 = 0; N<
	gwhd
; ++N) {

32741 
Tæßt


32742 
	gH
 = 
cimg
::
mod
((
Tæßt
)
p1
[
N
]/60,(Tfloat)6),

32743 
	gS
 = (
Tæßt
)
p2
[
N
],

32744 
	gV
 = (
Tæßt
)
p3
[
N
],

32745 
	gC
 = 
V
*
S
,

32746 
	gX
 = 
C
*(1 - 
cimg
::
abs
(cimg::
mod
(
H
,(
Tæßt
)2) - 1)),

32747 
	gm
 = 
V
 - 
C
;

32748 
Tæßt
 
	gR
, 
	gG
, 
	gB
;

32749 ()
	gH
) {

32750 0 : 
R
 = 
C
; 
	gG
 = 
X
; 
	gB
 = 0; ;

32751 1 : 
R
 = 
X
; 
	gG
 = 
C
; 
	gB
 = 0; ;

32752 2 : 
R
 = 0; 
	gG
 = 
C
; 
	gB
 = 
X
; ;

32753 3 : 
R
 = 0; 
	gG
 = 
X
; 
	gB
 = 
C
; ;

32754 4 : 
R
 = 
X
; 
	gG
 = 0; 
	gB
 = 
C
; ;

32755  : 
R
 = 
C
; 
	gG
 = 0; 
	gB
 = 
X
;

32757 
	gp1
[
N
] = (
T
)((
R
 + 
m
)*255);

32758 
	gp2
[
N
] = (
T
)((
G
 + 
m
)*255);

32759 
	gp3
[
N
] = (
T
)((
B
 + 
m
)*255);

32761  *
	gthis
;

32765 
	gCImg
<
	gTuch¬
> 
g‘_HSVtoRGB
() const {

32766  
	gCImg
<
	gTuch¬
>(*
	gthis
,
	gçl£
).
HSVtoRGB
();

32770 
	gCImg
<
	gT
>& 
RGBtoYCbCr
() {

32771 ià(
	g_¥eùrum
!=3)

32772 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


32774 
cimg_š¡ªû
);

32776 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

32777 cÚ¡ 
lÚgT
 
	gwhd
 = (lÚgT)
width
()*
height
()*
d•th
();

32778 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
whd
,512))

32779 
lÚgT
 
	gN
 = 0; N<
	gwhd
; ++N) {

32780 cÚ¡ 
Tæßt


32781 
	gR
 = (
Tæßt
)
p1
[
N
],

32782 
	gG
 = (
Tæßt
)
p2
[
N
],

32783 
	gB
 = (
Tæßt
)
p3
[
N
],

32784 
	gY
 = (66*
R
 + 129*
G
 + 25*
B
 + 128)/256 + 16,

32785 
	gCb
 = (-38*
R
 - 74*
G
 + 112*
B
 + 128)/256 + 128,

32786 
	gCr
 = (112*
R
 - 94*
G
 - 18*
B
 + 128)/256 + 128;

32787 
	gp1
[
N
] = (
T
)
cimg
::
cut
(
Y
,0,255),

32788 
	gp2
[
N
] = (
T
)
cimg
::
cut
(
Cb
,0,255),

32789 
	gp3
[
N
] = (
T
)
cimg
::
cut
(
Cr
,0,255);

32791  *
	gthis
;

32795 
	gCImg
<
	gTuch¬
> 
g‘_RGBtoYCbCr
() const {

32796  
	gCImg
<
	gTuch¬
>(*
	gthis
,
	gçl£
).
RGBtoYCbCr
();

32800 
	gCImg
<
	gT
>& 
YCbC¹oRGB
() {

32801 ià(
	g_¥eùrum
!=3)

32802 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


32804 
cimg_š¡ªû
);

32806 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

32807 cÚ¡ 
lÚgT
 
	gwhd
 = (lÚgT)
width
()*
height
()*
d•th
();

32808 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
whd
,512))

32809 
lÚgT
 
	gN
 = 0; N<
	gwhd
; ++N) {

32810 cÚ¡ 
Tæßt


32811 
	gY
 = (
Tæßt
)
p1
[
N
] - 16,

32812 
	gCb
 = (
Tæßt
)
p2
[
N
] - 128,

32813 
	gCr
 = (
Tæßt
)
p3
[
N
] - 128,

32814 
	gR
 = (298*
Y
 + 409*
Cr
 + 128)/256,

32815 
	gG
 = (298*
Y
 - 100*
Cb
 - 208*
Cr
 + 128)/256,

32816 
	gB
 = (298*
Y
 + 516*
Cb
 + 128)/256;

32817 
	gp1
[
N
] = (
T
)
cimg
::
cut
(
R
,0,255),

32818 
	gp2
[
N
] = (
T
)
cimg
::
cut
(
G
,0,255),

32819 
	gp3
[
N
] = (
T
)
cimg
::
cut
(
B
,0,255);

32821  *
	gthis
;

32825 
	gCImg
<
	gTuch¬
> 
g‘_YCbC¹oRGB
() const {

32826  
	gCImg
<
	gTuch¬
>(*
	gthis
,
	gçl£
).
YCbC¹oRGB
();

32830 
	gCImg
<
	gT
>& 
RGBtoYUV
() {

32831 ià(
	g_¥eùrum
!=3)

32832 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


32834 
cimg_š¡ªû
);

32836 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

32837 cÚ¡ 
lÚgT
 
	gwhd
 = (lÚgT)
width
()*
height
()*
d•th
();

32838 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
whd
,16384))

32839 
lÚgT
 
	gN
 = 0; N<
	gwhd
; ++N) {

32840 cÚ¡ 
Tæßt


32841 
	gR
 = (
Tæßt
)
p1
[
N
]/255,

32842 
	gG
 = (
Tæßt
)
p2
[
N
]/255,

32843 
	gB
 = (
Tæßt
)
p3
[
N
]/255,

32844 
	gY
 = 0.299f*
R
 + 0.587f*
G
 + 0.114f*
B
;

32845 
	gp1
[
N
] = (
T
)
Y
;

32846 
	gp2
[
N
] = (
T
)(0.492f*(
B
 - 
Y
));

32847 
	gp3
[
N
] = (
T
)(0.877*(
R
 - 
Y
));

32849  *
	gthis
;

32853 
	gCImg
<
	gTæßt
> 
g‘_RGBtoYUV
() const {

32854  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
).
RGBtoYUV
();

32858 
	gCImg
<
	gT
>& 
YUVtoRGB
() {

32859 ià(
	g_¥eùrum
!=3)

32860 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


32862 
cimg_š¡ªû
);

32864 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

32865 cÚ¡ 
lÚgT
 
	gwhd
 = (lÚgT)
width
()*
height
()*
d•th
();

32866 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
whd
,16384))

32867 
lÚgT
 
	gN
 = 0; N<
	gwhd
; ++N) {

32868 cÚ¡ 
Tæßt


32869 
	gY
 = (
Tæßt
)
p1
[
N
],

32870 
	gU
 = (
Tæßt
)
p2
[
N
],

32871 
	gV
 = (
Tæßt
)
p3
[
N
],

32872 
	gR
 = (
Y
 + 1.140f*
V
)*255,

32873 
	gG
 = (
Y
 - 0.395f*
U
 - 0.581f*
V
)*255,

32874 
	gB
 = (
Y
 + 2.032f*
U
)*255;

32875 
	gp1
[
N
] = (
T
)
cimg
::
cut
(
R
,0,255),

32876 
	gp2
[
N
] = (
T
)
cimg
::
cut
(
G
,0,255),

32877 
	gp3
[
N
] = (
T
)
cimg
::
cut
(
B
,0,255);

32879  *
	gthis
;

32883 
	gCImg
<
	gTuch¬
> 
g‘_YUVtoRGB
() const {

32884  
	gCImg
< 
	gTuch¬
>(*
	gthis
,
	gçl£
).
YUVtoRGB
();

32888 
	gCImg
<
	gT
>& 
RGBtoCMY
() {

32889 ià(
	g_¥eùrum
!=3)

32890 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


32892 
cimg_š¡ªû
);

32894 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

32895 cÚ¡ 
lÚgT
 
	gwhd
 = (lÚgT)
width
()*
height
()*
d•th
();

32896 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
whd
,2048))

32897 
lÚgT
 
	gN
 = 0; N<
	gwhd
; ++N) {

32898 cÚ¡ 
Tæßt


32899 
	gR
 = (
Tæßt
)
p1
[
N
],

32900 
	gG
 = (
Tæßt
)
p2
[
N
],

32901 
	gB
 = (
Tæßt
)
p3
[
N
],

32902 
	gC
 = 255 - 
R
,

32903 
	gM
 = 255 - 
G
,

32904 
	gY
 = 255 - 
B
;

32905 
	gp1
[
N
] = (
T
)
cimg
::
cut
(
C
,0,255),

32906 
	gp2
[
N
] = (
T
)
cimg
::
cut
(
M
,0,255),

32907 
	gp3
[
N
] = (
T
)
cimg
::
cut
(
Y
,0,255);

32909  *
	gthis
;

32913 
	gCImg
<
	gTuch¬
> 
g‘_RGBtoCMY
() const {

32914  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
).
RGBtoCMY
();

32918 
	gCImg
<
	gT
>& 
CMYtoRGB
() {

32919 ià(
	g_¥eùrum
!=3)

32920 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


32922 
cimg_š¡ªû
);

32924 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

32925 cÚ¡ 
lÚgT
 
	gwhd
 = (lÚgT)
width
()*
height
()*
d•th
();

32926 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
whd
,2048))

32927 
lÚgT
 
	gN
 = 0; N<
	gwhd
; ++N) {

32928 cÚ¡ 
Tæßt


32929 
	gC
 = (
Tæßt
)
p1
[
N
],

32930 
	gM
 = (
Tæßt
)
p2
[
N
],

32931 
	gY
 = (
Tæßt
)
p3
[
N
],

32932 
	gR
 = 255 - 
C
,

32933 
	gG
 = 255 - 
M
,

32934 
	gB
 = 255 - 
Y
;

32935 
	gp1
[
N
] = (
T
)
cimg
::
cut
(
R
,0,255),

32936 
	gp2
[
N
] = (
T
)
cimg
::
cut
(
G
,0,255),

32937 
	gp3
[
N
] = (
T
)
cimg
::
cut
(
B
,0,255);

32939  *
	gthis
;

32943 
	gCImg
<
	gTuch¬
> 
g‘_CMYtoRGB
() const {

32944  
	gCImg
<
	gTuch¬
>(*
	gthis
,
	gçl£
).
CMYtoRGB
();

32948 
	gCImg
<
	gT
>& 
CMYtoCMYK
() {

32949  
g‘_CMYtoCMYK
().
move_to
(*
this
);

32953 
	gCImg
<
	gTuch¬
> 
g‘_CMYtoCMYK
() const {

32954 ià(
	g_¥eùrum
!=3)

32955 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


32957 
cimg_š¡ªû
);

32959 
	gCImg
<
	gTæßt
> 
»s
(
_width
,
_height
,
_d•th
,4);

32960 cÚ¡ 
T
 *
	gps1
 = 
d©a
(0,0,0,0), *
	gps2
 = d©a(0,0,0,1), *
	gps3
 = data(0,0,0,2);

32961 
Tæßt
 *
	gpd1
 = 
»s
.
d©a
(0,0,0,0), *
	gpd2
 =„es.d©a(0,0,0,1), *
	gpd3
 =„es.d©a(0,0,0,2), *
	gpd4
 =„es.data(0,0,0,3);

32962 cÚ¡ 
lÚgT
 
	gwhd
 = (lÚgT)
width
()*
height
()*
d•th
();

32963 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
whd
,1024))

32964 
lÚgT
 
	gN
 = 0; N<
	gwhd
; ++N) {

32965 
Tæßt


32966 
	gC
 = (
Tæßt
)
ps1
[
N
],

32967 
	gM
 = (
Tæßt
)
ps2
[
N
],

32968 
	gY
 = (
Tæßt
)
ps3
[
N
],

32969 
	gK
 = 
cimg
::
mš
(
C
,
M
,
Y
);

32970 ià(
	gK
>=255è
C
 = 
M
 = 
Y
 = 0;

32971 { cÚ¡ 
Tæßt
 
	gK1
 = 255 - 
K
; 
	gC
 = 255*(
C
 - K)/
K1
; 
	gM
 = 255*(
M
 - K)/K1; 
	gY
 = 255*(
Y
 - K)/K1; }

32972 
	gpd1
[
N
] = (
Tæßt
)
cimg
::
cut
(
C
,0,255),

32973 
	gpd2
[
N
] = (
Tæßt
)
cimg
::
cut
(
M
,0,255),

32974 
	gpd3
[
N
] = (
Tæßt
)
cimg
::
cut
(
Y
,0,255),

32975 
	gpd4
[
N
] = (
Tæßt
)
cimg
::
cut
(
K
,0,255);

32977  
	g»s
;

32981 
	gCImg
<
	gT
>& 
CMYKtoCMY
() {

32982  
g‘_CMYKtoCMY
().
move_to
(*
this
);

32986 
	gCImg
<
	gTæßt
> 
g‘_CMYKtoCMY
() const {

32987 ià(
	g_¥eùrum
!=4)

32988 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


32990 
cimg_š¡ªû
);

32992 
	gCImg
<
	gTæßt
> 
»s
(
_width
,
_height
,
_d•th
,3);

32993 cÚ¡ 
T
 *
	gps1
 = 
d©a
(0,0,0,0), *
	gps2
 = d©a(0,0,0,1), *
	gps3
 = d©a(0,0,0,2), *
	gps4
 = data(0,0,0,3);

32994 
Tæßt
 *
	gpd1
 = 
»s
.
d©a
(0,0,0,0), *
	gpd2
 =„es.d©a(0,0,0,1), *
	gpd3
 =„es.data(0,0,0,2);

32995 cÚ¡ 
lÚgT
 
	gwhd
 = (lÚgT)
width
()*
height
()*
d•th
();

32996 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
whd
,1024))

32997 
lÚgT
 
	gN
 = 0; N<
	gwhd
; ++N) {

32998 cÚ¡ 
Tæßt


32999 
	gC
 = (
Tæßt
)
ps1
[
N
],

33000 
	gM
 = (
Tæßt
)
ps2
[
N
],

33001 
	gY
 = (
Tæßt
)
ps3
[
N
],

33002 
	gK
 = (
Tæßt
)
ps4
[
N
],

33003 
	gK1
 = 1 - 
K
/255,

33004 
	gnC
 = 
C
*
K1
 + 
K
,

33005 
	gnM
 = 
M
*
K1
 + 
K
,

33006 
	gnY
 = 
Y
*
K1
 + 
K
;

33007 
	gpd1
[
N
] = (
Tæßt
)
cimg
::
cut
(
nC
,0,255),

33008 
	gpd2
[
N
] = (
Tæßt
)
cimg
::
cut
(
nM
,0,255),

33009 
	gpd3
[
N
] = (
Tæßt
)
cimg
::
cut
(
nY
,0,255);

33011  
	g»s
;

33018 
	gCImg
<
	gT
>& 
RGBtoXYZ
(cÚ¡ 
boŞ
 
u£_D65
=
Œue
) {

33019 ià(
_¥eùrum
!=3)

33020 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


33022 
cimg_š¡ªû
);

33024 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

33025 cÚ¡ 
lÚgT
 
	gwhd
 = (lÚgT)
width
()*
height
()*
d•th
();

33026 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
whd
,2048))

33027 
lÚgT
 
	gN
 = 0; N<
	gwhd
; ++N) {

33028 cÚ¡ 
Tæßt


33029 
	gR
 = (
Tæßt
)
p1
[
N
]/255,

33030 
	gG
 = (
Tæßt
)
p2
[
N
]/255,

33031 
	gB
 = (
Tæßt
)
p3
[
N
]/255;

33032 ià(
	gu£_D65
) {

33033 
	gp1
[
N
] = (
T
)(0.4124564*
R
 + 0.3575761*
G
 + 0.1804375*
B
);

33034 
	gp2
[
N
] = (
T
)(0.2126729*
R
 + 0.7151522*
G
 + 0.0721750*
B
);

33035 
	gp3
[
N
] = (
T
)(0.0193339*
R
 + 0.1191920*
G
 + 0.9503041*
B
);

33037 
	gp1
[
N
] = (
T
)(0.43603516*
R
 + 0.38511658*
G
 + 0.14305115*
B
);

33038 
	gp2
[
N
] = (
T
)(0.22248840*
R
 + 0.71690369*
G
 + 0.06060791*
B
);

33039 
	gp3
[
N
] = (
T
)(0.01391602*
R
 + 0.09706116*
G
 + 0.71392822*
B
);

33042  *
	gthis
;

33046 
	gCImg
<
	gTæßt
> 
g‘_RGBtoXYZ
(cÚ¡ 
boŞ
 
u£_D65
=
Œue
) const {

33047  
CImg
<
Tæßt
>(*
this
,
çl£
).
RGBtoXYZ
(
u£_D65
);

33054 
	gCImg
<
	gT
>& 
XYZtoRGB
(cÚ¡ 
boŞ
 
u£_D65
=
Œue
) {

33055 ià(
_¥eùrum
!=3)

33056 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


33058 
cimg_š¡ªû
);

33060 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

33061 cÚ¡ 
lÚgT
 
	gwhd
 = (lÚgT)
width
()*
height
()*
d•th
();

33062 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
whd
,2048))

33063 
lÚgT
 
	gN
 = 0; N<
	gwhd
; ++N) {

33064 cÚ¡ 
Tæßt


33065 
	gX
 = (
Tæßt
)
p1
[
N
]*255,

33066 
	gY
 = (
Tæßt
)
p2
[
N
]*255,

33067 
	gZ
 = (
Tæßt
)
p3
[
N
]*255;

33068 ià(
	gu£_D65
) {

33069 
	gp1
[
N
] = (
T
)
cimg
::
cut
(3.2404542*
X
 - 1.5371385*
Y
 - 0.4985314*
Z
,0,255);

33070 
	gp2
[
N
] = (
T
)
cimg
::
cut
(-0.9692660*
X
 + 1.8760108*
Y
 + 0.0415560*
Z
,0,255);

33071 
	gp3
[
N
] = (
T
)
cimg
::
cut
(0.0556434*
X
 - 0.2040259*
Y
 + 1.0572252*
Z
,0,255);

33073 
	gp1
[
N
] = (
T
)
cimg
::
cut
(3.134274799724*
X
 - 1.617275708956*
Y
 - 0.490724283042*
Z
,0,255);

33074 
	gp2
[
N
] = (
T
)
cimg
::
cut
(-0.978795575994*
X
 + 1.916161689117*
Y
 + 0.033453331711*
Z
,0,255);

33075 
	gp3
[
N
] = (
T
)
cimg
::
cut
(0.071976988401*
X
 - 0.228984974402*
Y
 + 1.405718224383*
Z
,0,255);

33078  *
	gthis
;

33082 
	gCImg
<
	gTuch¬
> 
g‘_XYZtoRGB
(cÚ¡ 
boŞ
 
u£_D65
=
Œue
) const {

33083  
CImg
<
Tuch¬
>(*
this
,
çl£
).
XYZtoRGB
(
u£_D65
);

33087 
	gCImg
<
	gT
>& 
XYZtoLab
(cÚ¡ 
boŞ
 
u£_D65
=
Œue
) {

33088 
	#_cimg_Labf
(
x
è(24389*(x)>216?
cimg
::
	`cb¹
(x):(24389*(x)/27 + 16)/116)

	)

33090 ià(
_¥eùrum
!=3)

33091 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


33093 
cimg_š¡ªû
);

33094 cÚ¡ 
	gCImg
<
	gTæßt
> 
	gwh™e
 = 
CImg
<
Tæßt
>(1,1,1,3,255).
RGBtoXYZ
(
u£_D65
);

33095 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

33096 cÚ¡ 
lÚgT
 
	gwhd
 = (lÚgT)
width
()*
height
()*
d•th
();

33097 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
whd
,128))

33098 
lÚgT
 
	gN
 = 0; N<
	gwhd
; ++N) {

33099 cÚ¡ 
Tæßt


33100 
	gX
 = (
Tæßt
)(
p1
[
N
]/
wh™e
[0]),

33101 
	gY
 = (
Tæßt
)(
p2
[
N
]/
wh™e
[1]),

33102 
	gZ
 = (
Tæßt
)(
p3
[
N
]/
wh™e
[2]),

33103 
	gfX
 = (
Tæßt
)
_cimg_Labf
(
X
),

33104 
	gfY
 = (
Tæßt
)
_cimg_Labf
(
Y
),

33105 
	gfZ
 = (
Tæßt
)
_cimg_Labf
(
Z
);

33106 
	gp1
[
N
] = (
T
)
cimg
::
cut
(116*
fY
 - 16,0,100);

33107 
	gp2
[
N
] = (
T
)(500*(
fX
 - 
fY
));

33108 
	gp3
[
N
] = (
T
)(200*(
fY
 - 
fZ
));

33110  *
	gthis
;

33114 
	gCImg
<
	gTæßt
> 
g‘_XYZtoLab
(cÚ¡ 
boŞ
 
u£_D65
=
Œue
) const {

33115  
CImg
<
Tæßt
>(*
this
,
çl£
).
XYZtoLab
(
u£_D65
);

33119 
	gCImg
<
	gT
>& 
LabtoXYZ
(cÚ¡ 
boŞ
 
u£_D65
=
Œue
) {

33120 ià(
_¥eùrum
!=3)

33121 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


33123 
cimg_š¡ªû
);

33124 cÚ¡ 
	gCImg
<
	gTæßt
> 
	gwh™e
 = 
CImg
<
Tæßt
>(1,1,1,3,255).
RGBtoXYZ
(
u£_D65
);

33125 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

33126 cÚ¡ 
lÚgT
 
	gwhd
 = (lÚgT)
width
()*
height
()*
d•th
();

33127 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
whd
,128))

33128 
lÚgT
 
	gN
 = 0; N<
	gwhd
; ++N) {

33129 cÚ¡ 
Tæßt


33130 
	gL
 = (
Tæßt
)
p1
[
N
],

33131 
	ga
 = (
Tæßt
)
p2
[
N
],

33132 
	gb
 = (
Tæßt
)
p3
[
N
],

33133 
	gcY
 = (
L
 + 16)/116,

33134 
	gcZ
 = 
cY
 - 
b
/200,

33135 
	gcX
 = 
a
/500 + 
cY
,

33136 
	gX
 = (
Tæßt
)(24389*
cX
>216?cX*cX*cX:(116*cX - 16)*27/24389),

33137 
	gY
 = (
Tæßt
)(27*
L
>216?
cY
*cY*cY:27*L/24389),

33138 
	gZ
 = (
Tæßt
)(24389*
cZ
>216?cZ*cZ*cZ:(116*cZ - 16)*27/24389);

33139 
	gp1
[
N
] = (
T
)(
X
*
wh™e
[0]);

33140 
	gp2
[
N
] = (
T
)(
Y
*
wh™e
[1]);

33141 
	gp3
[
N
] = (
T
)(
Z
*
wh™e
[2]);

33143  *
	gthis
;

33147 
	gCImg
<
	gTæßt
> 
g‘_LabtoXYZ
(cÚ¡ 
boŞ
 
u£_D65
=
Œue
) const {

33148  
CImg
<
Tæßt
>(*
this
,
çl£
).
LabtoXYZ
(
u£_D65
);

33152 
	gCImg
<
	gT
>& 
XYZtoxyY
() {

33153 ià(
	g_¥eùrum
!=3)

33154 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


33156 
cimg_š¡ªû
);

33158 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

33159 cÚ¡ 
lÚgT
 
	gwhd
 = (lÚgT)
width
()*
height
()*
d•th
();

33160 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
whd
,4096))

33161 
lÚgT
 
	gN
 = 0; N<
	gwhd
; ++N) {

33162 cÚ¡ 
Tæßt


33163 
	gX
 = (
Tæßt
)
p1
[
N
],

33164 
	gY
 = (
Tæßt
)
p2
[
N
],

33165 
	gZ
 = (
Tæßt
)
p3
[
N
],

33166 
	gsum
 = 
X
 + 
Y
 + 
Z
,

33167 
	gnsum
 = 
sum
>0?sum:1;

33168 
	gp1
[
N
] = (
T
)(
X
/
nsum
);

33169 
	gp2
[
N
] = (
T
)(
Y
/
nsum
);

33170 
	gp3
[
N
] = (
T
)
Y
;

33172  *
	gthis
;

33176 
	gCImg
<
	gTæßt
> 
g‘_XYZtoxyY
() const {

33177  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
).
XYZtoxyY
();

33181 
	gCImg
<
	gT
>& 
xyYtoXYZ
() {

33182 ià(
	g_¥eùrum
!=3)

33183 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


33185 
cimg_š¡ªû
);

33187 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

33188 cÚ¡ 
lÚgT
 
	gwhd
 = (lÚgT)
width
()*
height
()*
d•th
();

33189 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
whd
,4096))

33190 
lÚgT
 
	gN
 = 0; N<
	gwhd
; ++N) {

33191 cÚ¡ 
Tæßt


33192 
	gpx
 = (
Tæßt
)
p1
[
N
],

33193 
	gpy
 = (
Tæßt
)
p2
[
N
],

33194 
	gY
 = (
Tæßt
)
p3
[
N
],

33195 
	gny
 = 
py
>0?py:1;

33196 
	gp1
[
N
] = (
T
)(
px
*
Y
/
ny
);

33197 
	gp2
[
N
] = (
T
)
Y
;

33198 
	gp3
[
N
] = (
T
)((1 - 
px
 - 
py
)*
Y
/
ny
);

33200  *
	gthis
;

33204 
	gCImg
<
	gTæßt
> 
g‘_xyYtoXYZ
() const {

33205  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
).
xyYtoXYZ
();

33209 
	gCImg
<
	gT
>& 
RGBtoLab
(cÚ¡ 
boŞ
 
u£_D65
=
Œue
) {

33210  
RGBtoXYZ
(
u£_D65
).
XYZtoLab
(use_D65);

33214 
	gCImg
<
	gTæßt
> 
g‘_RGBtoLab
(cÚ¡ 
boŞ
 
u£_D65
=
Œue
) const {

33215  
CImg
<
Tæßt
>(*
this
,
çl£
).
RGBtoLab
(
u£_D65
);

33219 
	gCImg
<
	gT
>& 
LabtoRGB
(cÚ¡ 
boŞ
 
u£_D65
=
Œue
) {

33220  
LabtoXYZ
().
XYZtoRGB
(
u£_D65
);

33224 
	gCImg
<
	gTuch¬
> 
g‘_LabtoRGB
(cÚ¡ 
boŞ
 
u£_D65
=
Œue
) const {

33225  
CImg
<
Tuch¬
>(*
this
,
çl£
).
LabtoRGB
(
u£_D65
);

33229 
	gCImg
<
	gT
>& 
RGBtoxyY
(cÚ¡ 
boŞ
 
u£_D65
=
Œue
) {

33230  
RGBtoXYZ
(
u£_D65
).
XYZtoxyY
();

33234 
	gCImg
<
	gTæßt
> 
g‘_RGBtoxyY
(cÚ¡ 
boŞ
 
u£_D65
=
Œue
) const {

33235  
CImg
<
Tæßt
>(*
this
,
çl£
).
RGBtoxyY
(
u£_D65
);

33239 
	gCImg
<
	gT
>& 
xyYtoRGB
(cÚ¡ 
boŞ
 
u£_D65
=
Œue
) {

33240  
xyYtoXYZ
().
XYZtoRGB
(
u£_D65
);

33244 
	gCImg
<
	gTuch¬
> 
g‘_xyYtoRGB
(cÚ¡ 
boŞ
 
u£_D65
=
Œue
) const {

33245  
CImg
<
Tuch¬
>(*
this
,
çl£
).
xyYtoRGB
(
u£_D65
);

33249 
	gCImg
<
	gT
>& 
RGBtoCMYK
() {

33250  
RGBtoCMY
().
CMYtoCMYK
();

33254 
	gCImg
<
	gTæßt
> 
g‘_RGBtoCMYK
() const {

33255  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
).
RGBtoCMYK
();

33259 
	gCImg
<
	gT
>& 
CMYKtoRGB
() {

33260  
CMYKtoCMY
().
CMYtoRGB
();

33264 
	gCImg
<
	gTuch¬
> 
g‘_CMYKtoRGB
() const {

33265  
	gCImg
<
	gTuch¬
>(*
	gthis
,
	gçl£
).
CMYKtoRGB
();

33275 
_cimg_Ïnczos
(cÚ¡ 
x
) {

33276 ià(
	gx
<=-2 || 
x
>=2)  0;

33277 cÚ¡ 
	ga
 = ()
cimg
::
PI
*
x
, 
	gb
 = 0.5f*
a
;

33278  ()(
	gx
?
	g¡d
::
sš
(
a
)*
¡d
::sš(
b
)/(a*b):1);

33303 
	gCImg
<
	gT
>& 
»size
(cÚ¡ 
size_x
, cÚ¡ 
size_y
=-100,

33304 cÚ¡ 
size_z
=-100, cÚ¡ 
size_c
=-100,

33305 cÚ¡ 
š‹½Ş©iÚ_ty³
=1, cÚ¡ 
bound¬y_cÚd™iÚs
=0,

33306 cÚ¡ 
ûÁ”šg_x
 = 0, cÚ¡ 
ûÁ”šg_y
 = 0,

33307 cÚ¡ 
ûÁ”šg_z
 = 0, cÚ¡ 
ûÁ”šg_c
 = 0) {

33308 ià(!
size_x
 || !
size_y
 || !
size_z
 || !
size_c
è 
assign
();

33310 
	g_sx
 = ()(
size_x
<0?-size_x*
width
()/100:size_x),

33311 
	g_sy
 = ()(
size_y
<0?-size_y*
height
()/100:size_y),

33312 
	g_sz
 = ()(
size_z
<0?-size_z*
d•th
()/100:size_z),

33313 
	g_sc
 = ()(
size_c
<0?-size_c*
¥eùrum
()/100:size_c),

33314 
	gsx
 = 
_sx
?_sx:1, 
	gsy
 = 
_sy
?_sy:1, 
	gsz
 = 
_sz
?_sz:1, 
	gsc
 = 
_sc
?_sc:1;

33315 ià(
	gsx
==
_width
 && 
sy
==
_height
 && 
sz
==
_d•th
 && 
sc
==
_¥eùrum
è *
this
;

33316 ià(
is_em±y
()è 
assign
(
sx
,
sy
,
sz
,
sc
,(
T
)0);

33317 ià(
	gš‹½Ş©iÚ_ty³
==-1 && 
sx
*
sy
*
sz
*
sc
==
size
()) {

33318 
_width
 = 
sx
; 
	g_height
 = 
sy
; 
	g_d•th
 = 
sz
; 
	g_¥eùrum
 = 
sc
;

33319  *
	gthis
;

33321  
g‘_»size
(
sx
,
sy
,
sz
,
sc
,
š‹½Ş©iÚ_ty³
,
bound¬y_cÚd™iÚs
,

33322 
ûÁ”šg_x
,
ûÁ”šg_y
,
ûÁ”šg_z
,
ûÁ”šg_c
).
move_to
(*
this
);

33326 
	gCImg
<
	gT
> 
g‘_»size
(cÚ¡ 
size_x
, cÚ¡ 
size_y
 = -100,

33327 cÚ¡ 
size_z
 = -100, cÚ¡ 
size_c
 = -100,

33328 cÚ¡ 
š‹½Ş©iÚ_ty³
=1, cÚ¡ 
bound¬y_cÚd™iÚs
=0,

33329 cÚ¡ 
ûÁ”šg_x
 = 0, cÚ¡ 
ûÁ”šg_y
 = 0,

33330 cÚ¡ 
ûÁ”šg_z
 = 0, cÚ¡ 
ûÁ”šg_c
 = 0) const {

33331 ià(
ûÁ”šg_x
<0 || c’‹ršg_x>1 || 
ûÁ”šg_y
<0 || centering_y>1 ||

33332 
ûÁ”šg_z
<0 || c’‹ršg_z>1 || 
ûÁ”šg_c
<0 || centering_c>1)

33333 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


33335 
cimg_š¡ªû
,

33336 
ûÁ”šg_x
,
ûÁ”šg_y
,
ûÁ”šg_z
,
ûÁ”šg_c
);

33338 ià(!
	gsize_x
 || !
	gsize_y
 || !
	gsize_z
 || !
	gsize_c
è 
	gCImg
<
	gT
>();

33340 
	gsx
 = 
¡d
::
max
(1U,()(
size_x
>=0?size_x:-size_x*
width
()/100)),

33341 
	gsy
 = 
¡d
::
max
(1U,()(
size_y
>=0?size_y:-size_y*
height
()/100)),

33342 
	gsz
 = 
¡d
::
max
(1U,()(
size_z
>=0?size_z:-size_z*
d•th
()/100)),

33343 
	gsc
 = 
¡d
::
max
(1U,()(
size_c
>=0?size_c:-size_c*
¥eùrum
()/100));

33344 ià(
	gsx
==
_width
 && 
sy
==
_height
 && 
sz
==
_d•th
 && 
sc
==
_¥eùrum
è +*
this
;

33345 ià(
is_em±y
()è 
	gCImg
<
	gT
>(
	gsx
,
	gsy
,
	gsz
,
	gsc
,(T)0);

33346 
	gCImg
<
	gT
> 
	g»s
;

33347 
	gš‹½Ş©iÚ_ty³
) {

33352 
¡d
::
memıy
(
»s
.
assign
(
sx
,
sy
,
sz
,
sc
,(
T
)0).
_d©a
,_d©a,(T)*¡d::
mš
(
size
(),(
ulÚgT
)sx*sy*sz*sc));

33359 
xc
 = ()(
ûÁ”šg_x
*(()
sx
 - 
width
())),

33360 
	gyc
 = ()(
ûÁ”šg_y
*(()
sy
 - 
height
())),

33361 
	gzc
 = ()(
ûÁ”šg_z
*(()
sz
 - 
d•th
())),

33362 
	gcc
 = ()(
ûÁ”šg_c
*(()
sc
 - 
¥eùrum
()));

33364 
	gbound¬y_cÚd™iÚs
) {

33366 
»s
.
assign
(
sx
,
sy
,
sz
,
sc
);

33367 cÚ¡ 
	gw2
 = 2*
width
(), 
	gh2
 = 2*
height
(), 
	gd2
 = 2*
d•th
(), 
	gs2
 = 2*
¥eùrum
();

33368 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),65536))

33369 
cimg_fÜXYZC
(
»s
,
x
,
y
,
z
,
c
) {

33371 
	gmx
 = 
cimg
::
mod
(
x
 - 
xc
,
w2
), 
	gmy
 = cimg::mod(
y
 - 
yc
,
h2
),

33372 
	gmz
 = 
cimg
::
mod
(
z
 - 
zc
,
d2
), 
	gmc
 = cimg::mod(
c
 - 
cc
,
s2
);

33373 
»s
(
x
,
y
,
z
,
c
èğ(*
this
)(
mx
<
width
()?mx:
w2
 - mx - 1,

33374 
	gmy
<
height
()?my:
h2
 - 
my
 - 1,

33375 
	gmz
<
d•th
()?mz:
d2
 - 
mz
 - 1,

33376 
	gmc
<
¥eùrum
()?mc:
s2
 - 
mc
 - 1);

33380 
»s
.
assign
(
sx
,
sy
,
sz
,
sc
);

33382 
	gx0
 = (()
xc
%
width
()) - width(),

33383 
	gy0
 = (()
yc
%
height
()) - height(),

33384 
	gz0
 = (()
zc
%
d•th
()) - depth(),

33385 
	gc0
 = (()
cc
%
¥eùrum
()) - spectrum(),

33386 
	gdx
 = 
width
(), 
	gdy
 = 
height
(), 
	gdz
 = 
d•th
(), 
	gdc
 = 
¥eùrum
();

33387 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),65536))

33388 
	gc
 = 
c0
; c<()
	gsc
; c+=
dc
)

33389 
z
 = 
z0
; 
	gz
<()
	gsz
; z+=
dz
)

33390 
y
 = 
y0
; 
	gy
<()
	gsy
; y+=
dy
)

33391 
x
 = 
x0
; 
	gx
<()
	gsx
; x+=
dx
)

33392 
»s
.
d¿w_image
(
x
,
y
,
z
,
c
,*
this
);

33395 
»s
.
assign
(
sx
,
sy
,
sz
,
sc
).
d¿w_image
(
xc
,
yc
,
zc
,
cc
,*
this
);

33396 
	gCImg
<
	gT
> 
	g¥r™e
;

33397 ià(
	gxc
>0) {

33398 
	g»s
.
g‘_üİ
(
xc
,
yc
,
zc
,
cc
,xc,yø+ 
height
(è- 1,zø+ 
d•th
(è- 1,cø+ 
¥eùrum
(è- 1).
move_to
(
¥r™e
);

33399 
	gx
 = 
xc
 - 1; x>=0; --xè
	g»s
.
d¿w_image
(
x
,
yc
,
zc
,
cc
,
¥r™e
);

33401 ià(
	gxc
 + 
width
()<()
	gsx
) {

33402 
	g»s
.
g‘_üİ
(
xc
 + 
width
(è- 1,
yc
,
zc
,
cc
,xø+ width(è- 1,yø+ 
height
() - 1,

33403 
zc
 + 
d•th
(è- 1,
cc
 + 
¥eùrum
(è- 1).
move_to
(
¥r™e
);

33404 
	gx
 = 
xc
 + 
width
(); x<()
	gsx
; ++xè
	g»s
.
d¿w_image
(
x
,
yc
,
zc
,
cc
,
¥r™e
);

33406 ià(
	gyc
>0) {

33407 
	g»s
.
g‘_üİ
(0,
yc
,
zc
,
cc
,
sx
 - 1,yc,zø+ 
d•th
(è- 1,cø+ 
¥eùrum
(è- 1).
move_to
(
¥r™e
);

33408 
	gy
 = 
yc
 - 1; y>=0; --yè
	g»s
.
d¿w_image
(0,
y
,
zc
,
cc
,
¥r™e
);

33410 ià(
	gyc
 + 
height
()<()
	gsy
) {

33411 
	g»s
.
g‘_üİ
(0,
yc
 + 
height
(è- 1,
zc
,
cc
,
sx
 - 1,yc + height() - 1,

33412 
zc
 + 
d•th
(è- 1,
cc
 + 
¥eùrum
(è- 1).
move_to
(
¥r™e
);

33413 
	gy
 = 
yc
 + 
height
(); y<()
	gsy
; ++yè
	g»s
.
d¿w_image
(0,
y
,
zc
,
cc
,
¥r™e
);

33415 ià(
	gzc
>0) {

33416 
	g»s
.
g‘_üİ
(0,0,
zc
,
cc
,
sx
 - 1,
sy
 - 1,zc,cø+ 
¥eùrum
(è- 1).
move_to
(
¥r™e
);

33417 
	gz
 = 
zc
 - 1; z>=0; --zè
	g»s
.
d¿w_image
(0,0,
z
,
cc
,
¥r™e
);

33419 ià(
	gzc
 + 
d•th
()<()
	gsz
) {

33420 
	g»s
.
g‘_üİ
(0,0,
zc
 +
d•th
(è- 1,
cc
,
sx
 - 1,
sy
 - 1,zø+ d•th(è- 1,cø+ 
¥eùrum
(è- 1).
move_to
(
¥r™e
);

33421 
	gz
 = 
zc
 + 
d•th
(); z<()
	gsz
; ++zè
	g»s
.
d¿w_image
(0,0,
z
,
cc
,
¥r™e
);

33423 ià(
	gcc
>0) {

33424 
	g»s
.
g‘_üİ
(0,0,0,
cc
,
sx
 - 1,
sy
 - 1,
sz
 - 1,cc).
move_to
(
¥r™e
);

33425 
	gc
 = 
cc
 - 1; c>=0; --cè
	g»s
.
d¿w_image
(0,0,0,
c
,
¥r™e
);

33427 ià(
	gcc
 + 
¥eùrum
()<()
	gsc
) {

33428 
	g»s
.
g‘_üİ
(0,0,0,
cc
 + 
¥eùrum
(è- 1,
sx
 - 1,
sy
 - 1,
sz
 - 1,cø+ s³ùrum(è- 1).
move_to
(
¥r™e
);

33429 
	gc
 = 
cc
 + 
¥eùrum
(); c<()
	gsc
; ++cè
	g»s
.
d¿w_image
(0,0,0,
c
,
¥r™e
);

33433 
»s
.
assign
(
sx
,
sy
,
sz
,
sc
,(
T
)0).
d¿w_image
(
xc
,
yc
,
zc
,
cc
,*
this
);

33441 
»s
.
assign
(
sx
,
sy
,
sz
,
sc
);

33442 
	gCImg
<
	gulÚgT
> 
off_x
(
sx
), 
off_y
(
sy
 + 1), 
off_z
(
sz
 + 1), 
off_c
(
sc
 + 1);

33443 cÚ¡ 
ulÚgT


33444 
	gwh
 = (
ulÚgT
)
_width
*
_height
,

33445 
	gwhd
 = (
ulÚgT
)
_width
*
_height
*
_d•th
,

33446 
	gsxy
 = (
ulÚgT
)
sx
*
sy
,

33447 
	gsxyz
 = (
ulÚgT
)
sx
*
sy
*
sz
,

33448 
	gÚe
 = (
ulÚgT
)1;

33449 ià(
	gsx
==
_width
è
off_x
.
fl
(1);

33451 
ulÚgT
 *
	gpoff_x
 = 
off_x
.
_d©a
, 
	gcu¼
 = 0;

33452 
cimg_fÜX
(
»s
,
x
) {

33453 cÚ¡ 
ulÚgT
 
	gŞd
 = 
cu¼
;

33454 
	gcu¼
 = (
x
 + 
Úe
)*
_width
/
sx
;

33455 *(
	gpoff_x
++èğ
cu¼
 - 
Şd
;

33458 ià(
	gsy
==
_height
è
off_y
.
fl
(
_width
);

33460 
ulÚgT
 *
	gpoff_y
 = 
off_y
.
_d©a
, 
	gcu¼
 = 0;

33461 
cimg_fÜY
(
»s
,
y
) {

33462 cÚ¡ 
ulÚgT
 
	gŞd
 = 
cu¼
;

33463 
	gcu¼
 = (
y
 + 
Úe
)*
_height
/
sy
;

33464 *(
	gpoff_y
++èğ
_width
*(
cu¼
 - 
Şd
);

33466 *
	gpoff_y
 = 0;

33468 ià(
	gsz
==
_d•th
è
off_z
.
fl
(
wh
);

33470 
ulÚgT
 *
	gpoff_z
 = 
off_z
.
_d©a
, 
	gcu¼
 = 0;

33471 
cimg_fÜZ
(
»s
,
z
) {

33472 cÚ¡ 
ulÚgT
 
	gŞd
 = 
cu¼
;

33473 
	gcu¼
 = (
z
 + 
Úe
)*
_d•th
/
sz
;

33474 *(
	gpoff_z
++èğ
wh
*(
cu¼
 - 
Şd
);

33476 *
	gpoff_z
 = 0;

33478 ià(
	gsc
==
_¥eùrum
è
off_c
.
fl
(
whd
);

33480 
ulÚgT
 *
	gpoff_c
 = 
off_c
.
_d©a
, 
	gcu¼
 = 0;

33481 
cimg_fÜC
(
»s
,
c
) {

33482 cÚ¡ 
ulÚgT
 
	gŞd
 = 
cu¼
;

33483 
	gcu¼
 = (
c
 + 
Úe
)*
_¥eùrum
/
sc
;

33484 *(
	gpoff_c
++èğ
whd
*(
cu¼
 - 
Şd
);

33486 *
	gpoff_c
 = 0;

33489 
T
 *
	g±rd
 = 
»s
.
_d©a
;

33490 cÚ¡ 
T
* 
	g±rc
 = 
_d©a
;

33491 cÚ¡ 
ulÚgT
 *
	gpoff_c
 = 
off_c
.
_d©a
;

33492 
	gc
 = 0; c<
	gsc
; ) {

33493 cÚ¡ 
T
 *
	g±rz
 = 
±rc
;

33494 cÚ¡ 
ulÚgT
 *
	gpoff_z
 = 
off_z
.
_d©a
;

33495 
	gz
 = 0; z<
	gsz
; ) {

33496 cÚ¡ 
T
 *
	g±ry
 = 
±rz
;

33497 cÚ¡ 
ulÚgT
 *
	gpoff_y
 = 
off_y
.
_d©a
;

33498 
	gy
 = 0; y<
	gsy
; ) {

33499 cÚ¡ 
T
 *
	g±rx
 = 
±ry
;

33500 cÚ¡ 
ulÚgT
 *
	gpoff_x
 = 
off_x
.
_d©a
;

33501 
cimg_fÜX
(
»s
,
x
è{ *(
	g±rd
++èğ*
±rx
; 
	g±rx
+=*(
poff_x
++); }

33502 ++
	gy
;

33503 
ulÚgT
 
	gdy
 = *(
poff_y
++);

33504  ; !
	gdy
 && 
	gy
<dy; 
	g¡d
::
memıy
(
±rd
,±rd - 
sx
,(
T
)*sx), ++y, 
	g±rd
+=sx, dy = *(
poff_y
++)) {}

33505 
±ry
+=
dy
;

33507 ++
	gz
;

33508 
ulÚgT
 
	gdz
 = *(
poff_z
++);

33509  ; !
	gdz
 && 
	gz
<dz; 
	g¡d
::
memıy
(
±rd
,±rd - 
sxy
,(
T
)*sxy), ++z, 
	g±rd
+=sxy, dz = *(
poff_z
++)) {}

33510 
±rz
+=
dz
;

33512 ++
	gc
;

33513 
ulÚgT
 
	gdc
 = *(
poff_c
++);

33514  ; !
	gdc
 && 
	gc
<dc; 
	g¡d
::
memıy
(
±rd
,±rd - 
sxyz
,(
T
)*sxyz), ++c, 
	g±rd
+=sxyz, døğ*(
poff_c
++)) {}

33515 
±rc
+=
dc
;

33522 
boŞ
 
š¡ªû_fœ¡
 = 
Œue
;

33523 ià(
	gsx
!=
_width
) {

33524 
CImg
<
Tæßt
> 
tmp
(
sx
,
_height
,
_d•th
,
_¥eùrum
,0);

33525 
	ga
 = 
_width
*
sx
, 
	gb
 = _width, 
	gc
 = sx, 
	gs
 = 0, 
	gt
 = 0;‡; ) {

33526 cÚ¡ 
	gd
 = 
¡d
::
mš
(
b
,
c
);

33527 
	ga
-=
d
; 
	gb
-=d; 
	gc
-=d;

33528 
cimg_fÜYZC
(
tmp
,
y
,
z
,
v
ètmp(
t
,y,z,v)+=(
Tæßt
)(*
this
)(
s
,
	gy
,
	gz
,
	gv
)*
	gd
;

33529 ià(!
	gb
) {

33530 
cimg_fÜYZC
(
tmp
,
y
,
z
,
v
ètmp(
t
,y,z,v)/=
_width
;

33531 ++
	gt
;

33532 
	gb
 = 
_width
;

33534 ià(!
	gc
è{ ++
	gs
; c = 
sx
; }

33536 
	gtmp
.
move_to
(
»s
);

33537 
	gš¡ªû_fœ¡
 = 
çl£
;

33539 ià(
	gsy
!=
_height
) {

33540 
CImg
<
Tæßt
> 
tmp
(
sx
,
sy
,
_d•th
,
_¥eùrum
,0);

33541 
	ga
 = 
_height
*
sy
, 
	gb
 = _height, 
	gc
 = sy, 
	gs
 = 0, 
	gt
 = 0;‡; ) {

33542 cÚ¡ 
	gd
 = 
¡d
::
mš
(
b
,
c
);

33543 
	ga
-=
d
; 
	gb
-=d; 
	gc
-=d;

33544 ià(
	gš¡ªû_fœ¡
)

33545 
cimg_fÜXZC
(
tmp
,
x
,
z
,
v
ètmp(x,
t
,z,v)+=(
Tæßt
)(*
this
)(x,
	gs
,
	gz
,
	gv
)*
	gd
;

33547 
cimg_fÜXZC
(
tmp
,
x
,
z
,
v
ètmp(x,
t
,z,v)+=(
Tæßt
)
»s
(x,
s
,z,v)*
	gd
;

33548 ià(!
	gb
) {

33549 
cimg_fÜXZC
(
tmp
,
x
,
z
,
v
ètmp(x,
t
,z,v)/=
_height
;

33550 ++
	gt
;

33551 
	gb
 = 
_height
;

33553 ià(!
	gc
è{ ++
	gs
; c = 
sy
; }

33555 
	gtmp
.
move_to
(
»s
);

33556 
	gš¡ªû_fœ¡
 = 
çl£
;

33558 ià(
	gsz
!=
_d•th
) {

33559 
CImg
<
Tæßt
> 
tmp
(
sx
,
sy
,
sz
,
_¥eùrum
,0);

33560 
	ga
 = 
_d•th
*
sz
, 
	gb
 = _d•th, 
	gc
 = sz, 
	gs
 = 0, 
	gt
 = 0;‡; ) {

33561 cÚ¡ 
	gd
 = 
¡d
::
mš
(
b
,
c
);

33562 
	ga
-=
d
; 
	gb
-=d; 
	gc
-=d;

33563 ià(
	gš¡ªû_fœ¡
)

33564 
cimg_fÜXYC
(
tmp
,
x
,
y
,
v
ètmp(x,y,
t
,v)+=(
Tæßt
)(*
this
)(x,
	gy
,
	gs
,
	gv
)*
	gd
;

33566 
cimg_fÜXYC
(
tmp
,
x
,
y
,
v
ètmp(x,y,
t
,v)+=(
Tæßt
)
»s
(x,y,
s
,v)*
	gd
;

33567 ià(!
	gb
) {

33568 
cimg_fÜXYC
(
tmp
,
x
,
y
,
v
ètmp(x,y,
t
,v)/=
_d•th
;

33569 ++
	gt
;

33570 
	gb
 = 
_d•th
;

33572 ià(!
	gc
è{ ++
	gs
; c = 
sz
; }

33574 
	gtmp
.
move_to
(
»s
);

33575 
	gš¡ªû_fœ¡
 = 
çl£
;

33577 ià(
	gsc
!=
_¥eùrum
) {

33578 
CImg
<
Tæßt
> 
tmp
(
sx
,
sy
,
sz
,
sc
,0);

33579 
	ga
 = 
_¥eùrum
*
sc
, 
	gb
 = _¥eùrum, 
	gc
 = sc, 
	gs
 = 0, 
	gt
 = 0;‡; ) {

33580 cÚ¡ 
	gd
 = 
¡d
::
mš
(
b
,
c
);

33581 
	ga
-=
d
; 
	gb
-=d; 
	gc
-=d;

33582 ià(
	gš¡ªû_fœ¡
)

33583 
cimg_fÜXYZ
(
tmp
,
x
,
y
,
z
ètmp(x,y,z,
t
)+=(
Tæßt
)(*
this
)(x,
	gy
,
	gz
,
	gs
)*
	gd
;

33585 
cimg_fÜXYZ
(
tmp
,
x
,
y
,
z
ètmp(x,y,z,
t
)+=(
Tæßt
)
»s
(x,y,z,
s
)*
	gd
;

33586 ià(!
	gb
) {

33587 
cimg_fÜXYZ
(
tmp
,
x
,
y
,
z
ètmp(x,y,z,
t
)/=
_¥eùrum
;

33588 ++
	gt
;

33589 
	gb
 = 
_¥eùrum
;

33591 ià(!
	gc
è{ ++
	gs
; c = 
sc
; }

33593 
	gtmp
.
move_to
(
»s
);

33594 
	gš¡ªû_fœ¡
 = 
çl£
;

33601 
CImg
<
uštT
> 
off
(
cimg
::
max
(
sx
,
sy
,
sz
,
sc
));

33602 
	gCImg
<
	gdoubËT
> 
foff
(
off
.
_width
);

33603 
	gCImg
<
	gT
> 
	g»sx
, 
	g»sy
, 
	g»sz
, 
	g»sc
;

33604 
	gcu¼
, 
	gŞd
;

33606 ià(
	gsx
!=
_width
) {

33607 ià(
_width
==1è
g‘_»size
(
sx
,
_height
,
_d•th
,
_¥eùrum
,1).
move_to
(
»sx
);

33608 ià(
	g_width
>
	gsx
è
g‘_»size
(
sx
,
_height
,
_d•th
,
_¥eùrum
,2).
move_to
(
»sx
);

33610 cÚ¡ 
	gfx
 = (!
bound¬y_cÚd™iÚs
 && 
sx
>
_width
)?(sx>1?(_width - 1.)/(sx - 1):0):

33611 ()
_width
/
sx
;

33612 
	g»sx
.
assign
(
sx
,
_height
,
_d•th
,
_¥eùrum
);

33613 
	gcu¼
 = 
Şd
 = 0;

33615 *
	gpoff
 = 
off
.
_d©a
;

33616 *
	gpfoff
 = 
foff
.
_d©a
;

33617 
cimg_fÜX
(
»sx
,
x
) {

33618 *(
	gpfoff
++èğ
cu¼
 - ()curr;

33619 
	gŞd
 = 
cu¼
;

33620 
	gcu¼
 = 
¡d
::
mš
(
width
(è- 1.,
cu¼
 + 
fx
);

33621 *(
	gpoff
++èğ()
cu¼
 - ()
Şd
;

33624 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»sx
.
size
(),65536))

33625 
cimg_fÜYZC
(
»sx
,
y
,
z
,
c
) {

33626 cÚ¡ 
T
 *
	g±rs
 = 
d©a
(0,
y
,
z
,
c
), *cÚ¡ 
	g±rsmax
 = 
±rs
 + 
_width
 - 1;

33627 
T
 *
	g±rd
 = 
»sx
.
d©a
(0,
y
,
z
,
c
);

33628 cÚ¡ *
	gpoff
 = 
off
.
_d©a
;

33629 cÚ¡ *
	gpfoff
 = 
foff
.
_d©a
;

33630 
cimg_fÜX
(
»sx
,
x
) {

33631 cÚ¡ 
	g®pha
 = *(
pfoff
++);

33632 cÚ¡ 
T
 
	gv®1
 = *
±rs
, 
	gv®2
 =…Œs<
±rsmax
?*ÕŒ + 1):
v®1
;

33633 *(
	g±rd
++èğ(
T
)((1 - 
®pha
)*
v®1
 +‡Íha*
v®2
);

33634 
	g±rs
+=*(
poff
++);

33638 } 
	g»sx
.
assign
(*
this
,
Œue
);

33640 ià(
	gsy
!=
_height
) {

33641 ià(
_height
==1è
»sx
.
g‘_»size
(
sx
,
sy
,
_d•th
,
_¥eùrum
,1).
move_to
(
»sy
);

33643 ià(
	g_height
>
	gsy
è
	g»sx
.
g‘_»size
(
sx
,
sy
,
_d•th
,
_¥eùrum
,2).
move_to
(
»sy
);

33645 cÚ¡ 
	gfy
 = (!
bound¬y_cÚd™iÚs
 && 
sy
>
_height
)?(sy>1?(_height - 1.)/(sy - 1):0):

33646 ()
_height
/
sy
;

33647 
	g»sy
.
assign
(
sx
,
sy
,
_d•th
,
_¥eùrum
);

33648 
	gcu¼
 = 
Şd
 = 0;

33650 *
	gpoff
 = 
off
.
_d©a
;

33651 *
	gpfoff
 = 
foff
.
_d©a
;

33652 
cimg_fÜY
(
»sy
,
y
) {

33653 *(
	gpfoff
++èğ
cu¼
 - ()curr;

33654 
	gŞd
 = 
cu¼
;

33655 
	gcu¼
 = 
¡d
::
mš
(
height
(è- 1.,
cu¼
 + 
fy
);

33656 *(
	gpoff
++èğ
sx
*(()
cu¼
 - ()
Şd
);

33659 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»sy
.
size
(),65536))

33660 
cimg_fÜXZC
(
»sy
,
x
,
z
,
c
) {

33661 cÚ¡ 
T
 *
	g±rs
 = 
»sx
.
d©a
(
x
,0,
z
,
c
), *cÚ¡ 
	g±rsmax
 = 
±rs
 + (
_height
 - 1)*
sx
;

33662 
T
 *
	g±rd
 = 
»sy
.
d©a
(
x
,0,
z
,
c
);

33663 cÚ¡ *
	gpoff
 = 
off
.
_d©a
;

33664 cÚ¡ *
	gpfoff
 = 
foff
.
_d©a
;

33665 
cimg_fÜY
(
»sy
,
y
) {

33666 cÚ¡ 
	g®pha
 = *(
pfoff
++);

33667 cÚ¡ 
T
 
	gv®1
 = *
±rs
, 
	gv®2
 =…Œs<
±rsmax
?*ÕŒ + 
sx
):
v®1
;

33668 *
	g±rd
 = (
T
)((1 - 
®pha
)*
v®1
 +‡Íha*
v®2
);

33669 
	g±rd
+=
sx
;

33670 
	g±rs
+=*(
poff
++);

33675 
	g»sx
.
assign
();

33676 } 
	g»sy
.
assign
(
»sx
,
Œue
);

33678 ià(
	gsz
!=
_d•th
) {

33679 ià(
_d•th
==1è
»sy
.
g‘_»size
(
sx
,
sy
,
sz
,
_¥eùrum
,1).
move_to
(
»sz
);

33681 ià(
	g_d•th
>
	gsz
è
	g»sy
.
g‘_»size
(
sx
,
sy
,
sz
,
_¥eùrum
,2).
move_to
(
»sz
);

33683 cÚ¡ 
	gfz
 = (!
bound¬y_cÚd™iÚs
 && 
sz
>
_d•th
)?(sz>1?(_depth - 1.)/(sz - 1):0):

33684 ()
_d•th
/
sz
;

33685 cÚ¡ 
	gsxy
 = 
sx
*
sy
;

33686 
	g»sz
.
assign
(
sx
,
sy
,
sz
,
_¥eùrum
);

33687 
	gcu¼
 = 
Şd
 = 0;

33689 *
	gpoff
 = 
off
.
_d©a
;

33690 *
	gpfoff
 = 
foff
.
_d©a
;

33691 
cimg_fÜZ
(
»sz
,
z
) {

33692 *(
	gpfoff
++èğ
cu¼
 - ()curr;

33693 
	gŞd
 = 
cu¼
;

33694 
	gcu¼
 = 
¡d
::
mš
(
d•th
(è- 1.,
cu¼
 + 
fz
);

33695 *(
	gpoff
++èğ
sxy
*(()
cu¼
 - ()
Şd
);

33698 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»sz
.
size
(),65536))

33699 
cimg_fÜXYC
(
»sz
,
x
,
y
,
c
) {

33700 cÚ¡ 
T
 *
	g±rs
 = 
»sy
.
d©a
(
x
,
y
,0,
c
), *cÚ¡ 
	g±rsmax
 = 
±rs
 + (
_d•th
 - 1)*
sxy
;

33701 
T
 *
	g±rd
 = 
»sz
.
d©a
(
x
,
y
,0,
c
);

33702 cÚ¡ *
	gpoff
 = 
off
.
_d©a
;

33703 cÚ¡ *
	gpfoff
 = 
foff
.
_d©a
;

33704 
cimg_fÜZ
(
»sz
,
z
) {

33705 cÚ¡ 
	g®pha
 = *(
pfoff
++);

33706 cÚ¡ 
T
 
	gv®1
 = *
±rs
, 
	gv®2
 =…Œs<
±rsmax
?*ÕŒ + 
sxy
):
v®1
;

33707 *
	g±rd
 = (
T
)((1 - 
®pha
)*
v®1
 +‡Íha*
v®2
);

33708 
	g±rd
+=
sxy
;

33709 
	g±rs
+=*(
poff
++);

33714 
	g»sy
.
assign
();

33715 } 
	g»sz
.
assign
(
»sy
,
Œue
);

33717 ià(
	gsc
!=
_¥eùrum
) {

33718 ià(
_¥eùrum
==1è
»sz
.
g‘_»size
(
sx
,
sy
,
sz
,
sc
,1).
move_to
(
»sc
);

33720 ià(
	g_¥eùrum
>
	gsc
è
	g»sz
.
g‘_»size
(
sx
,
sy
,
sz
,
sc
,2).
move_to
(
»sc
);

33722 cÚ¡ 
	gfc
 = (!
bound¬y_cÚd™iÚs
 && 
sc
>
_¥eùrum
)?(sc>1?(_spectrum - 1.)/(sc - 1):0):

33723 ()
_¥eùrum
/
sc
;

33724 cÚ¡ 
	gsxyz
 = 
sx
*
sy
*
sz
;

33725 
	g»sc
.
assign
(
sx
,
sy
,
sz
,
sc
);

33726 
	gcu¼
 = 
Şd
 = 0;

33728 *
	gpoff
 = 
off
.
_d©a
;

33729 *
	gpfoff
 = 
foff
.
_d©a
;

33730 
cimg_fÜC
(
»sc
,
c
) {

33731 *(
	gpfoff
++èğ
cu¼
 - ()curr;

33732 
	gŞd
 = 
cu¼
;

33733 
	gcu¼
 = 
¡d
::
mš
(
¥eùrum
(è- 1.,
cu¼
 + 
fc
);

33734 *(
	gpoff
++èğ
sxyz
*(()
cu¼
 - ()
Şd
);

33737 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»sc
.
size
(),65536))

33738 
cimg_fÜXYZ
(
»sc
,
x
,
y
,
z
) {

33739 cÚ¡ 
T
 *
	g±rs
 = 
»sz
.
d©a
(
x
,
y
,
z
,0), *cÚ¡ 
	g±rsmax
 = 
±rs
 + (
_¥eùrum
 - 1)*
sxyz
;

33740 
T
 *
	g±rd
 = 
»sc
.
d©a
(
x
,
y
,
z
,0);

33741 cÚ¡ *
	gpoff
 = 
off
.
_d©a
;

33742 cÚ¡ *
	gpfoff
 = 
foff
.
_d©a
;

33743 
cimg_fÜC
(
»sc
,
c
) {

33744 cÚ¡ 
	g®pha
 = *(
pfoff
++);

33745 cÚ¡ 
T
 
	gv®1
 = *
±rs
, 
	gv®2
 =…Œs<
±rsmax
?*ÕŒ + 
sxyz
):
v®1
;

33746 *
	g±rd
 = (
T
)((1 - 
®pha
)*
v®1
 +‡Íha*
v®2
);

33747 
	g±rd
+=
sxyz
;

33748 
	g±rs
+=*(
poff
++);

33753 
	g»sz
.
assign
();

33754 } 
	g»sc
.
assign
(
»sz
,
Œue
);

33755  
	g»sc
.
	g_is_sh¬ed
?(
	g»sz
._is_sh¬ed?(
	g»sy
._is_sh¬ed?(
	g»sx
._is_sh¬ed?(+(*
	gthis
)):
»sx
):
»sy
):
»sz
):
»sc
;

33761 
CImg
<
T
> 
»sx
, 
	g»sy
, 
	g»sz
, 
	g»sc
;

33762 ià(
	gsx
!=
_width
) {

33763 ià(
sx
<
_width
è
g‘_»size
(sx,
_height
,
_d•th
,
_¥eùrum
,1).
move_to
(
»sx
);

33765 
	g»sx
.
assign
(
sx
,
_height
,
_d•th
,
_¥eùrum
,(
T
)0);

33766 cÚ¡ 
	gdx
 = ()(2*
sx
), 
	gdy
 = 2*
width
();

33767 
	g”r
 = ()(
dy
 + 
ûÁ”šg_x
*(
sx
*dy/
width
(è- dy)), 
	gxs
 = 0;

33768 
cimg_fÜX
(
»sx
,
x
èià((
	g”r
-=
dy
)<=0) {

33769 
cimg_fÜYZC
(
»sx
,
y
,
z
,
c
è»sx(
x
,y,z,cèğ(*
this
)(
xs
,
	gy
,
	gz
,
	gc
);

33770 ++
	gxs
;

33771 
	g”r
+=
dx
;

33774 } 
	g»sx
.
assign
(*
this
,
Œue
);

33776 ià(
	gsy
!=
_height
) {

33777 ià(
sy
<
_height
è
»sx
.
g‘_»size
(
sx
,sy,
_d•th
,
_¥eùrum
,1).
move_to
(
»sy
);

33779 
	g»sy
.
assign
(
sx
,
sy
,
_d•th
,
_¥eùrum
,(
T
)0);

33780 cÚ¡ 
	gdx
 = ()(2*
sy
), 
	gdy
 = 2*
height
();

33781 
	g”r
 = ()(
dy
 + 
ûÁ”šg_y
*(
sy
*dy/
height
(è- dy)), 
	gys
 = 0;

33782 
cimg_fÜY
(
»sy
,
y
èià((
	g”r
-=
dy
)<=0) {

33783 
cimg_fÜXZC
(
»sy
,
x
,
z
,
c
è»sy(x,
y
,z,cèğ
»sx
(x,
ys
,z,c);

33784 ++
	gys
;

33785 
	g”r
+=
dx
;

33788 
	g»sx
.
assign
();

33789 } 
	g»sy
.
assign
(
»sx
,
Œue
);

33791 ià(
	gsz
!=
_d•th
) {

33792 ià(
sz
<
_d•th
è
»sy
.
g‘_»size
(
sx
,
sy
,sz,
_¥eùrum
,1).
move_to
(
»sz
);

33794 
	g»sz
.
assign
(
sx
,
sy
,
sz
,
_¥eùrum
,(
T
)0);

33795 cÚ¡ 
	gdx
 = ()(2*
sz
), 
	gdy
 = 2*
d•th
();

33796 
	g”r
 = ()(
dy
 + 
ûÁ”šg_z
*(
sz
*dy/
d•th
(è- dy)), 
	gzs
 = 0;

33797 
cimg_fÜZ
(
»sz
,
z
èià((
	g”r
-=
dy
)<=0) {

33798 
cimg_fÜXYC
(
»sz
,
x
,
y
,
c
è»sz(x,y,
z
,cèğ
»sy
(x,y,
zs
,c);

33799 ++
	gzs
;

33800 
	g”r
+=
dx
;

33803 
	g»sy
.
assign
();

33804 } 
	g»sz
.
assign
(
»sy
,
Œue
);

33806 ià(
	gsc
!=
_¥eùrum
) {

33807 ià(
sc
<
_¥eùrum
è
»sz
.
g‘_»size
(
sx
,
sy
,
sz
,sc,1).
move_to
(
»sc
);

33809 
	g»sc
.
assign
(
sx
,
sy
,
sz
,
sc
,(
T
)0);

33810 cÚ¡ 
	gdx
 = ()(2*
sc
), 
	gdy
 = 2*
¥eùrum
();

33811 
	g”r
 = ()(
dy
 + 
ûÁ”šg_c
*(
sc
*dy/
¥eùrum
(è- dy)), 
	gcs
 = 0;

33812 
cimg_fÜC
(
»sc
,
c
èià((
	g”r
-=
dy
)<=0) {

33813 
cimg_fÜXYZ
(
»sc
,
x
,
y
,
z
è»sc(x,y,z,
c
èğ
»sz
(x,y,z,
cs
);

33814 ++
	gcs
;

33815 
	g”r
+=
dx
;

33818 
	g»sz
.
assign
();

33819 } 
	g»sc
.
assign
(
»sz
,
Œue
);

33821  
	g»sc
.
	g_is_sh¬ed
?(
	g»sz
._is_sh¬ed?(
	g»sy
._is_sh¬ed?(
	g»sx
._is_sh¬ed?(+(*
	gthis
)):
»sx
):
»sy
):
»sz
):
»sc
;

33827 cÚ¡ 
Tæßt
 
vmš
 = (Tæßt)
cimg
::
ty³
<
T
>::
mš
(), 
	gvmax
 = (Tæßt)cimg::ty³<T>::
max
();

33828 
	gCImg
<
	guštT
> 
off
(
cimg
::
max
(
sx
,
sy
,
sz
,
sc
));

33829 
	gCImg
<
	gdoubËT
> 
foff
(
off
.
_width
);

33830 
	gCImg
<
	gT
> 
	g»sx
, 
	g»sy
, 
	g»sz
, 
	g»sc
;

33831 
	gcu¼
, 
	gŞd
;

33833 ià(
	gsx
!=
_width
) {

33834 ià(
_width
==1è
g‘_»size
(
sx
,
_height
,
_d•th
,
_¥eùrum
,1).
move_to
(
»sx
);

33836 ià(
	g_width
>
	gsx
è
g‘_»size
(
sx
,
_height
,
_d•th
,
_¥eùrum
,2).
move_to
(
»sx
);

33838 cÚ¡ 
	gfx
 = (!
bound¬y_cÚd™iÚs
 && 
sx
>
_width
)?(sx>1?(_width - 1.)/(sx - 1):0):

33839 ()
_width
/
sx
;

33840 
	g»sx
.
assign
(
sx
,
_height
,
_d•th
,
_¥eùrum
);

33841 
	gcu¼
 = 
Şd
 = 0;

33843 *
	gpoff
 = 
off
.
_d©a
;

33844 *
	gpfoff
 = 
foff
.
_d©a
;

33845 
cimg_fÜX
(
»sx
,
x
) {

33846 *(
	gpfoff
++èğ
cu¼
 - ()curr;

33847 
	gŞd
 = 
cu¼
;

33848 
	gcu¼
 = 
¡d
::
mš
(
width
(è- 1.,
cu¼
 + 
fx
);

33849 *(
	gpoff
++èğ()
cu¼
 - ()
Şd
;

33852 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»sx
.
size
(),65536))

33853 
cimg_fÜYZC
(
»sx
,
y
,
z
,
c
) {

33854 cÚ¡ 
T
 *cÚ¡ 
	g±rs0
 = 
d©a
(0,
y
,
z
,
c
), *
	g±rs
 = 
±rs0
, *cÚ¡ 
	g±rsmax
 = 
±rs
 + (
_width
 - 2);

33855 
T
 *
	g±rd
 = 
»sx
.
d©a
(0,
y
,
z
,
c
);

33856 cÚ¡ *
	gpoff
 = 
off
.
_d©a
;

33857 cÚ¡ *
	gpfoff
 = 
foff
.
_d©a
;

33858 
cimg_fÜX
(
»sx
,
x
) {

33860 
	gt
 = *(
pfoff
++),

33861 
	gv®1
 = ()*
±rs
,

33862 
	gv®0
 = 
±rs
>
±rs0
?()*ÕŒ - 1):
v®1
,

33863 
	gv®2
 = 
±rs
<=
±rsmax
?()*ÕŒ + 1):
v®1
,

33864 
	gv®3
 = 
±rs
<
±rsmax
?()*ÕŒ + 2):
v®2
,

33865 
	gv®
 = 
v®1
 + 0.5f*(
t
*(-
v®0
 + 
v®2
è+*t*(2*v®0 - 5*v®1 + 4*v®2 - 
v®3
) +

33866 
t
*t*t*(-
v®0
 + 3*
v®1
 - 3*
v®2
 + 
v®3
));

33867 *(
	g±rd
++èğ(
T
)(
v®
<
vmš
?vmš:v®>
vmax
?vmax:val);

33868 
	g±rs
+=*(
poff
++);

33873 } 
	g»sx
.
assign
(*
this
,
Œue
);

33875 ià(
	gsy
!=
_height
) {

33876 ià(
_height
==1è
»sx
.
g‘_»size
(
sx
,
sy
,
_d•th
,
_¥eùrum
,1).
move_to
(
»sy
);

33878 ià(
	g_height
>
	gsy
è
	g»sx
.
g‘_»size
(
sx
,
sy
,
_d•th
,
_¥eùrum
,2).
move_to
(
»sy
);

33880 cÚ¡ 
	gfy
 = (!
bound¬y_cÚd™iÚs
 && 
sy
>
_height
)?(sy>1?(_height - 1.)/(sy - 1):0):

33881 ()
_height
/
sy
;

33882 
	g»sy
.
assign
(
sx
,
sy
,
_d•th
,
_¥eùrum
);

33883 
	gcu¼
 = 
Şd
 = 0;

33885 *
	gpoff
 = 
off
.
_d©a
;

33886 *
	gpfoff
 = 
foff
.
_d©a
;

33887 
cimg_fÜY
(
»sy
,
y
) {

33888 *(
	gpfoff
++èğ
cu¼
 - ()curr;

33889 
	gŞd
 = 
cu¼
;

33890 
	gcu¼
 = 
¡d
::
mš
(
height
(è- 1.,
cu¼
 + 
fy
);

33891 *(
	gpoff
++èğ
sx
*(()
cu¼
 - ()
Şd
);

33894 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»sy
.
size
(),65536))

33895 
cimg_fÜXZC
(
»sy
,
x
,
z
,
c
) {

33896 cÚ¡ 
T
 *cÚ¡ 
	g±rs0
 = 
»sx
.
d©a
(
x
,0,
z
,
c
), *
	g±rs
 = 
±rs0
, *cÚ¡ 
	g±rsmax
 = 
±rs
 + (
_height
 - 2)*
sx
;

33897 
T
 *
	g±rd
 = 
»sy
.
d©a
(
x
,0,
z
,
c
);

33898 cÚ¡ *
	gpoff
 = 
off
.
_d©a
;

33899 cÚ¡ *
	gpfoff
 = 
foff
.
_d©a
;

33900 
cimg_fÜY
(
»sy
,
y
) {

33902 
	gt
 = *(
pfoff
++),

33903 
	gv®1
 = ()*
±rs
,

33904 
	gv®0
 = 
±rs
>
±rs0
?()*ÕŒ - 
sx
):
v®1
,

33905 
	gv®2
 = 
±rs
<=
±rsmax
?()*ÕŒ + 
sx
):
v®1
,

33906 
	gv®3
 = 
±rs
<
±rsmax
?()*ÕŒ + 2*
sx
):
v®2
,

33907 
	gv®
 = 
v®1
 + 0.5f*(
t
*(-
v®0
 + 
v®2
è+*t*(2*v®0 - 5*v®1 + 4*v®2 - 
v®3
) +

33908 
t
*t*t*(-
v®0
 + 3*
v®1
 - 3*
v®2
 + 
v®3
));

33909 *
	g±rd
 = (
T
)(
v®
<
vmš
?vmš:v®>
vmax
?vmax:val);

33910 
	g±rd
+=
sx
;

33911 
	g±rs
+=*(
poff
++);

33916 
	g»sx
.
assign
();

33917 } 
	g»sy
.
assign
(
»sx
,
Œue
);

33919 ià(
	gsz
!=
_d•th
) {

33920 ià(
_d•th
==1è
»sy
.
g‘_»size
(
sx
,
sy
,
sz
,
_¥eùrum
,1).
move_to
(
»sz
);

33922 ià(
	g_d•th
>
	gsz
è
	g»sy
.
g‘_»size
(
sx
,
sy
,
sz
,
_¥eùrum
,2).
move_to
(
»sz
);

33924 cÚ¡ 
	gfz
 = (!
bound¬y_cÚd™iÚs
 && 
sz
>
_d•th
)?(sz>1?(_depth - 1.)/(sz - 1):0):

33925 ()
_d•th
/
sz
;

33926 cÚ¡ 
	gsxy
 = 
sx
*
sy
;

33927 
	g»sz
.
assign
(
sx
,
sy
,
sz
,
_¥eùrum
);

33928 
	gcu¼
 = 
Şd
 = 0;

33930 *
	gpoff
 = 
off
.
_d©a
;

33931 *
	gpfoff
 = 
foff
.
_d©a
;

33932 
cimg_fÜZ
(
»sz
,
z
) {

33933 *(
	gpfoff
++èğ
cu¼
 - ()curr;

33934 
	gŞd
 = 
cu¼
;

33935 
	gcu¼
 = 
¡d
::
mš
(
d•th
(è- 1.,
cu¼
 + 
fz
);

33936 *(
	gpoff
++èğ
sxy
*(()
cu¼
 - ()
Şd
);

33939 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»sz
.
size
(),65536))

33940 
cimg_fÜXYC
(
»sz
,
x
,
y
,
c
) {

33941 cÚ¡ 
T
 *cÚ¡ 
	g±rs0
 = 
»sy
.
d©a
(
x
,
y
,0,
c
), *
	g±rs
 = 
±rs0
, *cÚ¡ 
	g±rsmax
 = 
±rs
 + (
_d•th
 - 2)*
sxy
;

33942 
T
 *
	g±rd
 = 
»sz
.
d©a
(
x
,
y
,0,
c
);

33943 cÚ¡ *
	gpoff
 = 
off
.
_d©a
;

33944 cÚ¡ *
	gpfoff
 = 
foff
.
_d©a
;

33945 
cimg_fÜZ
(
»sz
,
z
) {

33947 
	gt
 = *(
pfoff
++),

33948 
	gv®1
 = ()*
±rs
,

33949 
	gv®0
 = 
±rs
>
±rs0
?()*ÕŒ - 
sxy
):
v®1
,

33950 
	gv®2
 = 
±rs
<=
±rsmax
?()*ÕŒ + 
sxy
):
v®1
,

33951 
	gv®3
 = 
±rs
<
±rsmax
?()*ÕŒ + 2*
sxy
):
v®2
,

33952 
	gv®
 = 
v®1
 + 0.5f*(
t
*(-
v®0
 + 
v®2
è+*t*(2*v®0 - 5*v®1 + 4*v®2 - 
v®3
) +

33953 
t
*t*t*(-
v®0
 + 3*
v®1
 - 3*
v®2
 + 
v®3
));

33954 *
	g±rd
 = (
T
)(
v®
<
vmš
?vmš:v®>
vmax
?vmax:val);

33955 
	g±rd
+=
sxy
;

33956 
	g±rs
+=*(
poff
++);

33961 
	g»sy
.
assign
();

33962 } 
	g»sz
.
assign
(
»sy
,
Œue
);

33964 ià(
	gsc
!=
_¥eùrum
) {

33965 ià(
_¥eùrum
==1è
»sz
.
g‘_»size
(
sx
,
sy
,
sz
,
sc
,1).
move_to
(
»sc
);

33967 ià(
	g_¥eùrum
>
	gsc
è
	g»sz
.
g‘_»size
(
sx
,
sy
,
sz
,
sc
,2).
move_to
(
»sc
);

33969 cÚ¡ 
	gfc
 = (!
bound¬y_cÚd™iÚs
 && 
sc
>
_¥eùrum
)?(sc>1?(_spectrum - 1.)/(sc - 1):0):

33970 ()
_¥eùrum
/
sc
;

33971 cÚ¡ 
	gsxyz
 = 
sx
*
sy
*
sz
;

33972 
	g»sc
.
assign
(
sx
,
sy
,
sz
,
sc
);

33973 
	gcu¼
 = 
Şd
 = 0;

33975 *
	gpoff
 = 
off
.
_d©a
;

33976 *
	gpfoff
 = 
foff
.
_d©a
;

33977 
cimg_fÜC
(
»sc
,
c
) {

33978 *(
	gpfoff
++èğ
cu¼
 - ()curr;

33979 
	gŞd
 = 
cu¼
;

33980 
	gcu¼
 = 
¡d
::
mš
(
¥eùrum
(è- 1.,
cu¼
 + 
fc
);

33981 *(
	gpoff
++èğ
sxyz
*(()
cu¼
 - ()
Şd
);

33984 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»sc
.
size
(),65536))

33985 
cimg_fÜXYZ
(
»sc
,
x
,
y
,
z
) {

33986 cÚ¡ 
T
 *cÚ¡ 
	g±rs0
 = 
»sz
.
d©a
(
x
,
y
,
z
,0), *
	g±rs
 = 
±rs0
, *cÚ¡ 
	g±rsmax
 = 
±rs
 + (
_¥eùrum
 - 2)*
sxyz
;

33987 
T
 *
	g±rd
 = 
»sc
.
d©a
(
x
,
y
,
z
,0);

33988 cÚ¡ *
	gpoff
 = 
off
.
_d©a
;

33989 cÚ¡ *
	gpfoff
 = 
foff
.
_d©a
;

33990 
cimg_fÜC
(
»sc
,
c
) {

33992 
	gt
 = *(
pfoff
++),

33993 
	gv®1
 = ()*
±rs
,

33994 
	gv®0
 = 
±rs
>
±rs0
?()*ÕŒ - 
sxyz
):
v®1
,

33995 
	gv®2
 = 
±rs
<=
±rsmax
?()*ÕŒ + 
sxyz
):
v®1
,

33996 
	gv®3
 = 
±rs
<
±rsmax
?()*ÕŒ + 2*
sxyz
):
v®2
,

33997 
	gv®
 = 
v®1
 + 0.5f*(
t
*(-
v®0
 + 
v®2
è+*t*(2*v®0 - 5*v®1 + 4*v®2 - 
v®3
) +

33998 
t
*t*t*(-
v®0
 + 3*
v®1
 - 3*
v®2
 + 
v®3
));

33999 *
	g±rd
 = (
T
)(
v®
<
vmš
?vmš:v®>
vmax
?vmax:val);

34000 
	g±rd
+=
sxyz
;

34001 
	g±rs
+=*(
poff
++);

34006 
	g»sz
.
assign
();

34007 } 
	g»sc
.
assign
(
»sz
,
Œue
);

34009  
	g»sc
.
	g_is_sh¬ed
?(
	g»sz
._is_sh¬ed?(
	g»sy
._is_sh¬ed?(
	g»sx
._is_sh¬ed?(+(*
	gthis
)):
»sx
):
»sy
):
»sz
):
»sc
;

34015 cÚ¡ 
vmš
 = ()
cimg
::
ty³
<
T
>::
mš
(), 
	gvmax
 = ()cimg::ty³<T>::
max
();

34016 
	gCImg
<
	guštT
> 
off
(
cimg
::
max
(
sx
,
sy
,
sz
,
sc
));

34017 
	gCImg
<
	gdoubËT
> 
foff
(
off
.
_width
);

34018 
	gCImg
<
	gT
> 
	g»sx
, 
	g»sy
, 
	g»sz
, 
	g»sc
;

34019 
	gcu¼
, 
	gŞd
;

34021 ià(
	gsx
!=
_width
) {

34022 ià(
_width
==1è
g‘_»size
(
sx
,
_height
,
_d•th
,
_¥eùrum
,1).
move_to
(
»sx
);

34024 ià(
	g_width
>
	gsx
è
g‘_»size
(
sx
,
_height
,
_d•th
,
_¥eùrum
,2).
move_to
(
»sx
);

34026 cÚ¡ 
	gfx
 = (!
bound¬y_cÚd™iÚs
 && 
sx
>
_width
)?(sx>1?(_width - 1.)/(sx - 1):0):

34027 ()
_width
/
sx
;

34028 
	g»sx
.
assign
(
sx
,
_height
,
_d•th
,
_¥eùrum
);

34029 
	gcu¼
 = 
Şd
 = 0;

34031 *
	gpoff
 = 
off
.
_d©a
;

34032 *
	gpfoff
 = 
foff
.
_d©a
;

34033 
cimg_fÜX
(
»sx
,
x
) {

34034 *(
	gpfoff
++èğ
cu¼
 - ()curr;

34035 
	gŞd
 = 
cu¼
;

34036 
	gcu¼
 = 
¡d
::
mš
(
width
(è- 1.,
cu¼
 + 
fx
);

34037 *(
	gpoff
++èğ()
cu¼
 - ()
Şd
;

34040 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»sx
.
size
(),65536))

34041 
cimg_fÜYZC
(
»sx
,
y
,
z
,
c
) {

34042 cÚ¡ 
T
 *cÚ¡ 
	g±rs0
 = 
d©a
(0,
y
,
z
,
c
), *
	g±rs
 = 
±rs0
, *cÚ¡ 
	g±rsmš
 =…trs0 + 1,

34043 *cÚ¡ 
	g±rsmax
 = 
±rs0
 + (
_width
 - 2);

34044 
T
 *
	g±rd
 = 
»sx
.
d©a
(0,
y
,
z
,
c
);

34045 cÚ¡ *
	gpoff
 = 
off
.
_d©a
;

34046 cÚ¡ *
	gpfoff
 = 
foff
.
_d©a
;

34047 
cimg_fÜX
(
»sx
,
x
) {

34049 
	gt
 = *(
pfoff
++),

34050 
	gw0
 = 
_cimg_Ïnczos
(
t
 + 2),

34051 
	gw1
 = 
_cimg_Ïnczos
(
t
 + 1),

34052 
	gw2
 = 
_cimg_Ïnczos
(
t
),

34053 
	gw3
 = 
_cimg_Ïnczos
(
t
 - 1),

34054 
	gw4
 = 
_cimg_Ïnczos
(
t
 - 2),

34055 
	gv®2
 = ()*
±rs
,

34056 
	gv®1
 = 
±rs
>=
±rsmš
?()*ÕŒ - 1):
v®2
,

34057 
	gv®0
 = 
±rs
>
±rsmš
?()*ÕŒ - 2):
v®1
,

34058 
	gv®3
 = 
±rs
<=
±rsmax
?()*ÕŒ + 1):
v®2
,

34059 
	gv®4
 = 
±rs
<
±rsmax
?()*ÕŒ + 2):
v®3
,

34060 
	gv®
 = (
v®0
*
w0
 + 
v®1
*
w1
 + 
v®2
*
w2
 + 
v®3
*
w3
 + 
v®4
*
w4
)/(w1 + w2 + w3 + w4);

34061 *(
	g±rd
++èğ(
T
)(
v®
<
vmš
?vmš:v®>
vmax
?vmax:val);

34062 
	g±rs
+=*(
poff
++);

34067 } 
	g»sx
.
assign
(*
this
,
Œue
);

34069 ià(
	gsy
!=
_height
) {

34070 ià(
_height
==1è
»sx
.
g‘_»size
(
sx
,
sy
,
_d•th
,
_¥eùrum
,1).
move_to
(
»sy
);

34072 ià(
	g_height
>
	gsy
è
	g»sx
.
g‘_»size
(
sx
,
sy
,
_d•th
,
_¥eùrum
,2).
move_to
(
»sy
);

34074 cÚ¡ 
	gfy
 = (!
bound¬y_cÚd™iÚs
 && 
sy
>
_height
)?(sy>1?(_height - 1.)/(sy - 1):0):

34075 ()
_height
/
sy
;

34076 
	g»sy
.
assign
(
sx
,
sy
,
_d•th
,
_¥eùrum
);

34077 
	gcu¼
 = 
Şd
 = 0;

34079 *
	gpoff
 = 
off
.
_d©a
;

34080 *
	gpfoff
 = 
foff
.
_d©a
;

34081 
cimg_fÜY
(
»sy
,
y
) {

34082 *(
	gpfoff
++èğ
cu¼
 - ()curr;

34083 
	gŞd
 = 
cu¼
;

34084 
	gcu¼
 = 
¡d
::
mš
(
height
(è- 1.,
cu¼
 + 
fy
);

34085 *(
	gpoff
++èğ
sx
*(()
cu¼
 - ()
Şd
);

34088 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»sy
.
size
(),65536))

34089 
cimg_fÜXZC
(
»sy
,
x
,
z
,
c
) {

34090 cÚ¡ 
T
 *cÚ¡ 
	g±rs0
 = 
»sx
.
d©a
(
x
,0,
z
,
c
), *
	g±rs
 = 
±rs0
, *cÚ¡ 
	g±rsmš
 =…Œs0 + 
sx
,

34091 *cÚ¡ 
	g±rsmax
 = 
±rs0
 + (
_height
 - 2)*
sx
;

34092 
T
 *
	g±rd
 = 
»sy
.
d©a
(
x
,0,
z
,
c
);

34093 cÚ¡ *
	gpoff
 = 
off
.
_d©a
;

34094 cÚ¡ *
	gpfoff
 = 
foff
.
_d©a
;

34095 
cimg_fÜY
(
»sy
,
y
) {

34097 
	gt
 = *(
pfoff
++),

34098 
	gw0
 = 
_cimg_Ïnczos
(
t
 + 2),

34099 
	gw1
 = 
_cimg_Ïnczos
(
t
 + 1),

34100 
	gw2
 = 
_cimg_Ïnczos
(
t
),

34101 
	gw3
 = 
_cimg_Ïnczos
(
t
 - 1),

34102 
	gw4
 = 
_cimg_Ïnczos
(
t
 - 2),

34103 
	gv®2
 = ()*
±rs
,

34104 
	gv®1
 = 
±rs
>=
±rsmš
?()*ÕŒ - 
sx
):
v®2
,

34105 
	gv®0
 = 
±rs
>
±rsmš
?()*ÕŒ - 2*
sx
):
v®1
,

34106 
	gv®3
 = 
±rs
<=
±rsmax
?()*ÕŒ + 
sx
):
v®2
,

34107 
	gv®4
 = 
±rs
<
±rsmax
?()*ÕŒ + 2*
sx
):
v®3
,

34108 
	gv®
 = (
v®0
*
w0
 + 
v®1
*
w1
 + 
v®2
*
w2
 + 
v®3
*
w3
 + 
v®4
*
w4
)/(w1 + w2 + w3 + w4);

34109 *
	g±rd
 = (
T
)(
v®
<
vmš
?vmš:v®>
vmax
?vmax:val);

34110 
	g±rd
+=
sx
;

34111 
	g±rs
+=*(
poff
++);

34116 
	g»sx
.
assign
();

34117 } 
	g»sy
.
assign
(
»sx
,
Œue
);

34119 ià(
	gsz
!=
_d•th
) {

34120 ià(
_d•th
==1è
»sy
.
g‘_»size
(
sx
,
sy
,
sz
,
_¥eùrum
,1).
move_to
(
»sz
);

34122 ià(
	g_d•th
>
	gsz
è
	g»sy
.
g‘_»size
(
sx
,
sy
,
sz
,
_¥eùrum
,2).
move_to
(
»sz
);

34124 cÚ¡ 
	gfz
 = (!
bound¬y_cÚd™iÚs
 && 
sz
>
_d•th
)?(sz>1?(_depth - 1.)/(sz - 1):0):

34125 ()
_d•th
/
sz
;

34126 cÚ¡ 
	gsxy
 = 
sx
*
sy
;

34127 
	g»sz
.
assign
(
sx
,
sy
,
sz
,
_¥eùrum
);

34128 
	gcu¼
 = 
Şd
 = 0;

34130 *
	gpoff
 = 
off
.
_d©a
;

34131 *
	gpfoff
 = 
foff
.
_d©a
;

34132 
cimg_fÜZ
(
»sz
,
z
) {

34133 *(
	gpfoff
++èğ
cu¼
 - ()curr;

34134 
	gŞd
 = 
cu¼
;

34135 
	gcu¼
 = 
¡d
::
mš
(
d•th
(è- 1.,
cu¼
 + 
fz
);

34136 *(
	gpoff
++èğ
sxy
*(()
cu¼
 - ()
Şd
);

34139 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»sz
.
size
(),65536))

34140 
cimg_fÜXYC
(
»sz
,
x
,
y
,
c
) {

34141 cÚ¡ 
T
 *cÚ¡ 
	g±rs0
 = 
»sy
.
d©a
(
x
,
y
,0,
c
), *
	g±rs
 = 
±rs0
, *cÚ¡ 
	g±rsmš
 =…Œs0 + 
sxy
,

34142 *cÚ¡ 
	g±rsmax
 = 
±rs0
 + (
_d•th
 - 2)*
sxy
;

34143 
T
 *
	g±rd
 = 
»sz
.
d©a
(
x
,
y
,0,
c
);

34144 cÚ¡ *
	gpoff
 = 
off
.
_d©a
;

34145 cÚ¡ *
	gpfoff
 = 
foff
.
_d©a
;

34146 
cimg_fÜZ
(
»sz
,
z
) {

34148 
	gt
 = *(
pfoff
++),

34149 
	gw0
 = 
_cimg_Ïnczos
(
t
 + 2),

34150 
	gw1
 = 
_cimg_Ïnczos
(
t
 + 1),

34151 
	gw2
 = 
_cimg_Ïnczos
(
t
),

34152 
	gw3
 = 
_cimg_Ïnczos
(
t
 - 1),

34153 
	gw4
 = 
_cimg_Ïnczos
(
t
 - 2),

34154 
	gv®2
 = ()*
±rs
,

34155 
	gv®1
 = 
±rs
>=
±rsmš
?()*ÕŒ - 
sxy
):
v®2
,

34156 
	gv®0
 = 
±rs
>
±rsmš
?()*ÕŒ - 2*
sxy
):
v®1
,

34157 
	gv®3
 = 
±rs
<=
±rsmax
?()*ÕŒ + 
sxy
):
v®2
,

34158 
	gv®4
 = 
±rs
<
±rsmax
?()*ÕŒ + 2*
sxy
):
v®3
,

34159 
	gv®
 = (
v®0
*
w0
 + 
v®1
*
w1
 + 
v®2
*
w2
 + 
v®3
*
w3
 + 
v®4
*
w4
)/(w1 + w2 + w3 + w4);

34160 *
	g±rd
 = (
T
)(
v®
<
vmš
?vmš:v®>
vmax
?vmax:val);

34161 
	g±rd
+=
sxy
;

34162 
	g±rs
+=*(
poff
++);

34167 
	g»sy
.
assign
();

34168 } 
	g»sz
.
assign
(
»sy
,
Œue
);

34170 ià(
	gsc
!=
_¥eùrum
) {

34171 ià(
_¥eùrum
==1è
»sz
.
g‘_»size
(
sx
,
sy
,
sz
,
sc
,1).
move_to
(
»sc
);

34173 ià(
	g_¥eùrum
>
	gsc
è
	g»sz
.
g‘_»size
(
sx
,
sy
,
sz
,
sc
,2).
move_to
(
»sc
);

34175 cÚ¡ 
	gfc
 = (!
bound¬y_cÚd™iÚs
 && 
sc
>
_¥eùrum
)?(sc>1?(_spectrum - 1.)/(sc - 1):0):

34176 ()
_¥eùrum
/
sc
;

34177 cÚ¡ 
	gsxyz
 = 
sx
*
sy
*
sz
;

34178 
	g»sc
.
assign
(
sx
,
sy
,
sz
,
sc
);

34179 
	gcu¼
 = 
Şd
 = 0;

34181 *
	gpoff
 = 
off
.
_d©a
;

34182 *
	gpfoff
 = 
foff
.
_d©a
;

34183 
cimg_fÜC
(
»sc
,
c
) {

34184 *(
	gpfoff
++èğ
cu¼
 - ()curr;

34185 
	gŞd
 = 
cu¼
;

34186 
	gcu¼
 = 
¡d
::
mš
(
¥eùrum
(è- 1.,
cu¼
 + 
fc
);

34187 *(
	gpoff
++èğ
sxyz
*(()
cu¼
 - ()
Şd
);

34190 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»sc
.
size
(),65536))

34191 
cimg_fÜXYZ
(
»sc
,
x
,
y
,
z
) {

34192 cÚ¡ 
T
 *cÚ¡ 
	g±rs0
 = 
»sz
.
d©a
(
x
,
y
,
z
,0), *
	g±rs
 = 
±rs0
, *cÚ¡ 
	g±rsmš
 =…Œs0 + 
sxyz
,

34193 *cÚ¡ 
	g±rsmax
 = 
±rs
 + (
_¥eùrum
 - 2)*
sxyz
;

34194 
T
 *
	g±rd
 = 
»sc
.
d©a
(
x
,
y
,
z
,0);

34195 cÚ¡ *
	gpoff
 = 
off
.
_d©a
;

34196 cÚ¡ *
	gpfoff
 = 
foff
.
_d©a
;

34197 
cimg_fÜC
(
»sc
,
c
) {

34199 
	gt
 = *(
pfoff
++),

34200 
	gw0
 = 
_cimg_Ïnczos
(
t
 + 2),

34201 
	gw1
 = 
_cimg_Ïnczos
(
t
 + 1),

34202 
	gw2
 = 
_cimg_Ïnczos
(
t
),

34203 
	gw3
 = 
_cimg_Ïnczos
(
t
 - 1),

34204 
	gw4
 = 
_cimg_Ïnczos
(
t
 - 2),

34205 
	gv®2
 = ()*
±rs
,

34206 
	gv®1
 = 
±rs
>=
±rsmš
?()*ÕŒ - 
sxyz
):
v®2
,

34207 
	gv®0
 = 
±rs
>
±rsmš
?()*ÕŒ - 2*
sxyz
):
v®1
,

34208 
	gv®3
 = 
±rs
<=
±rsmax
?()*ÕŒ + 
sxyz
):
v®2
,

34209 
	gv®4
 = 
±rs
<
±rsmax
?()*ÕŒ + 2*
sxyz
):
v®3
,

34210 
	gv®
 = (
v®0
*
w0
 + 
v®1
*
w1
 + 
v®2
*
w2
 + 
v®3
*
w3
 + 
v®4
*
w4
)/(w1 + w2 + w3 + w4);

34211 *
	g±rd
 = (
T
)(
v®
<
vmš
?vmš:v®>
vmax
?vmax:val);

34212 
	g±rd
+=
sxyz
;

34213 
	g±rs
+=*(
poff
++);

34218 
	g»sz
.
assign
();

34219 } 
	g»sc
.
assign
(
»sz
,
Œue
);

34221  
	g»sc
.
	g_is_sh¬ed
?(
	g»sz
._is_sh¬ed?(
	g»sy
._is_sh¬ed?(
	g»sx
._is_sh¬ed?(+(*
	gthis
)):
»sx
):
»sy
):
»sz
):
»sc
;

34227 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


34231 
cimg_š¡ªû
,

34232 
š‹½Ş©iÚ_ty³
);

34234  
	g»s
;

34247 
	g‹m¶©e
<
ty³Çme
 
	gt
>

34248 
	gCImg
<
	gT
>& 
»size
(cÚ¡ 
CImg
<
t
>& 
¤c
,

34249 cÚ¡ 
š‹½Ş©iÚ_ty³
=1, cÚ¡ 
bound¬y_cÚd™iÚs
=0,

34250 cÚ¡ 
ûÁ”šg_x
 = 0, cÚ¡ 
ûÁ”šg_y
 = 0,

34251 cÚ¡ 
ûÁ”šg_z
 = 0, cÚ¡ 
ûÁ”šg_c
 = 0) {

34252  
»size
(
¤c
.
_width
,¤c.
_height
,¤c.
_d•th
,¤c.
_¥eùrum
,
š‹½Ş©iÚ_ty³
,
bound¬y_cÚd™iÚs
,

34253 
ûÁ”šg_x
,
ûÁ”šg_y
,
ûÁ”šg_z
,
ûÁ”šg_c
);

34257 
	g‹m¶©e
<
ty³Çme
 
	gt
>

34258 
	gCImg
<
	gT
> 
g‘_»size
(cÚ¡ 
CImg
<
t
>& 
¤c
,

34259 cÚ¡ 
š‹½Ş©iÚ_ty³
=1, cÚ¡ 
bound¬y_cÚd™iÚs
=0,

34260 cÚ¡ 
ûÁ”šg_x
 = 0, cÚ¡ 
ûÁ”šg_y
 = 0,

34261 cÚ¡ 
ûÁ”šg_z
 = 0, cÚ¡ 
ûÁ”šg_c
 = 0) const {

34262  
g‘_»size
(
¤c
.
_width
,¤c.
_height
,¤c.
_d•th
,¤c.
_¥eùrum
,
š‹½Ş©iÚ_ty³
,
bound¬y_cÚd™iÚs
,

34263 
ûÁ”šg_x
,
ûÁ”šg_y
,
ûÁ”šg_z
,
ûÁ”šg_c
);

34276 
	gCImg
<
	gT
>& 
»size
(cÚ¡ 
CImgDi¥Ïy
& 
di¥
,

34277 cÚ¡ 
š‹½Ş©iÚ_ty³
=1, cÚ¡ 
bound¬y_cÚd™iÚs
=0,

34278 cÚ¡ 
ûÁ”šg_x
 = 0, cÚ¡ 
ûÁ”šg_y
 = 0,

34279 cÚ¡ 
ûÁ”šg_z
 = 0, cÚ¡ 
ûÁ”šg_c
 = 0) {

34280  
»size
(
di¥
.
width
(),di¥.
height
(),
_d•th
,
_¥eùrum
,
š‹½Ş©iÚ_ty³
,
bound¬y_cÚd™iÚs
,

34281 
ûÁ”šg_x
,
ûÁ”šg_y
,
ûÁ”šg_z
,
ûÁ”šg_c
);

34285 
	gCImg
<
	gT
> 
g‘_»size
(cÚ¡ 
CImgDi¥Ïy
& 
di¥
,

34286 cÚ¡ 
š‹½Ş©iÚ_ty³
=1, cÚ¡ 
bound¬y_cÚd™iÚs
=0,

34287 cÚ¡ 
ûÁ”šg_x
 = 0, cÚ¡ 
ûÁ”šg_y
 = 0,

34288 cÚ¡ 
ûÁ”šg_z
 = 0, cÚ¡ 
ûÁ”šg_c
 = 0) const {

34289  
g‘_»size
(
di¥
.
width
(),di¥.
height
(),
_d•th
,
_¥eùrum
,
š‹½Ş©iÚ_ty³
,
bound¬y_cÚd™iÚs
,

34290 
ûÁ”šg_x
,
ûÁ”šg_y
,
ûÁ”šg_z
,
ûÁ”šg_c
);

34294 
	gCImg
<
	gT
>& 
»size_h®fXY
() {

34295  
g‘_»size_h®fXY
().
move_to
(*
this
);

34299 
	gCImg
<
	gT
> 
g‘_»size_h®fXY
() const {

34300 ià(
is_em±y
()è *
	gthis
;

34301 cÚ¡ 
Tæßt
 
	gk”Ãl
[9] = { 0.07842776544f, 0.1231940459f, 0.07842776544f,

34304 
	gCImg
<
	gT
> 
I
(9), 
»s
(
_width
/2,
_height
/2,
_d•th
,
_¥eùrum
);

34305 
T
 *
	g±rd
 = 
»s
.
_d©a
;

34306 
cimg_fÜZC
(*
this
,
z
,
c
è
cimg_fÜ3x3
(*this,
x
,
y
,z,c,
I
,
T
)

34307 ià(
	gx
%2 && 
	gy
%2è*(
	g±rd
++èğ(
T
)

34308 (
I
[0]*
k”Ãl
[0] + I[1]*kernel[1] + I[2]*kernel[2] +

34309 
I
[3]*
k”Ãl
[3] + I[4]*kernel[4] + I[5]*kernel[5] +

34310 
I
[6]*
k”Ãl
[6] + I[7]*kernel[7] + I[8]*kernel[8]);

34311  
	g»s
;

34319 
	gCImg
<
	gT
>& 
»size_doubËXY
() {

34320  
g‘_»size_doubËXY
().
move_to
(*
this
);

34324 
	gCImg
<
	gT
> 
g‘_»size_doubËXY
() const {

34325 
	#_cimg_gs2x_fÜ3
(
bound
,
i
) \

34326 
i
 = 0, 
_p1
##i = 0, \

34327 
_n1
##
i
 = 1>=(
bound
)?()(bound) - 1:1; \

34328 
_n1
##
i
<()(
bound
) || i==--_n1##i; \

34329 
_p1
##
i
 = i++, ++
_n1
##i, 
±rd1
+=(
»s
).
_width
, 
±rd2
+=Ôes)._width)

	)

34331 
	#_cimg_gs2x_fÜ3x3
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

34332 
	`_cimg_gs2x_fÜ3
((
img
).
_height
,
y
è
x
 = 0, \

34333 
_p1
##
x
 = 0, \

34334 
_n1
##
x
 = ()( \

34335 (
I
[1] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
)), \

34336 (
I
[3] = I[4] = (
T
)(
img
)(0,
y
,
z
,
c
)), \

34337 (
I
[7] = (
T
)(
img
)(0,
_n1
##
y
,
z
,
c
)), \

34338 1>=(
img
).
_width
?(img).
	`width
() - 1:1); \

34339 (
_n1
##
x
<(
img
).
	`width
() && ( \

34340 (
I
[2] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

34341 (
I
[5] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

34342 (
I
[8] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)),1)) || \

34343 
x
==--
_n1
##x; \

34344 
I
[1] = I[2], \

34345 
I
[3] = I[4], I[4] = I[5], \

34346 
I
[7] = I[8], \

34347 
_p1
##
x
 = x++, ++
_n1
##x)

	)

34349 ià(
is_em±y
()è *
	gthis
;

34350 
	gCImg
<
	gT
> 
»s
(
_width
<<1,
_height
<<1,
_d•th
,
_¥eùrum
);

34351 
CImg_3x3
(
I
,
T
);

34352 
cimg_fÜZC
(*
this
,
z
,
c
) {

34353 
T


34354 *
	g±rd1
 = 
»s
.
d©a
(0,0,
z
,
c
),

34355 *
	g±rd2
 = 
±rd1
 + 
»s
.
_width
;

34356 
_cimg_gs2x_fÜ3x3
(*
this
,
x
,
y
,
z
,
c
,
I
,
T
) {

34357 ià(
	gIı
!=
Iú
 && 
Ipc
!=
Inc
) {

34358 *(
±rd1
++èğ
Ipc
==
Iı
?Ipc:
Icc
;

34359 *(
	g±rd1
++èğ
Iı
==
Inc
?Inc:
Icc
;

34360 *(
	g±rd2
++èğ
Ipc
==
Iú
?Ipc:
Icc
;

34361 *(
	g±rd2
++èğ
Iú
==
Inc
?Inc:
Icc
;

34362 } { *(
	g±rd1
++èğ
Icc
; *ÕŒd1++èğIcc; *(
	g±rd2
++) = Icc; *(ptrd2++) = Icc; }

34365  
	g»s
;

34373 
	gCImg
<
	gT
>& 
»size_ŒËXY
() {

34374  
g‘_»size_ŒËXY
().
move_to
(*
this
);

34378 
	gCImg
<
	gT
> 
g‘_»size_ŒËXY
() const {

34379 
	#_cimg_gs3x_fÜ3
(
bound
,
i
) \

34380 
i
 = 0, 
_p1
##i = 0, \

34381 
_n1
##
i
 = 1>=(
bound
)?()(bound) - 1:1; \

34382 
_n1
##
i
<()(
bound
) || i==--_n1##i; \

34383 
_p1
##
i
 = i++, ++
_n1
##i, 
±rd1
+=2*(
»s
).
_width
, 
±rd2
+=2*Ôes)._width, 
±rd3
+=2*Ôes)._width)

	)

34385 
	#_cimg_gs3x_fÜ3x3
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

34386 
	`_cimg_gs3x_fÜ3
((
img
).
_height
,
y
è
x
 = 0, \

34387 
_p1
##
x
 = 0, \

34388 
_n1
##
x
 = ()( \

34389 (
I
[0] = I[1] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
)), \

34390 (
I
[3] = I[4] = (
T
)(
img
)(0,
y
,
z
,
c
)), \

34391 (
I
[6] = I[7] = (
T
)(
img
)(0,
_n1
##
y
,
z
,
c
)), \

34392 1>=(
img
).
_width
?(img).
	`width
() - 1:1); \

34393 (
_n1
##
x
<(
img
).
	`width
() && ( \

34394 (
I
[2] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

34395 (
I
[5] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

34396 (
I
[8] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)),1)) || \

34397 
x
==--
_n1
##x; \

34398 
I
[0] = I[1], I[1] = I[2], \

34399 
I
[3] = I[4], I[4] = I[5], \

34400 
I
[6] = I[7], I[7] = I[8], \

34401 
_p1
##
x
 = x++, ++
_n1
##x)

	)

34403 ià(
is_em±y
()è *
	gthis
;

34404 
	gCImg
<
	gT
> 
»s
(3*
_width
,3*
_height
,
_d•th
,
_¥eùrum
);

34405 
CImg_3x3
(
I
,
T
);

34406 
cimg_fÜZC
(*
this
,
z
,
c
) {

34407 
T


34408 *
	g±rd1
 = 
»s
.
d©a
(0,0,
z
,
c
),

34409 *
	g±rd2
 = 
±rd1
 + 
»s
.
_width
,

34410 *
	g±rd3
 = 
±rd2
 + 
»s
.
_width
;

34411 
_cimg_gs3x_fÜ3x3
(*
this
,
x
,
y
,
z
,
c
,
I
,
T
) {

34412 ià(
	gIı
 !ğ
Iú
 && 
Ipc
 !ğ
Inc
) {

34413 *(
±rd1
++èğ
Ipc
==
Iı
?Ipc:
Icc
;

34414 *(
	g±rd1
++èğ(
Ipc
==
Iı
 && 
Icc
!=
IÅ
è|| (Iı==
Inc
 && Icc!=
Iµ
)?Icp:Icc;

34415 *(
	g±rd1
++èğ
Iı
==
Inc
?Inc:
Icc
;

34416 *(
	g±rd2
++èğ(
Ipc
==
Iı
 && 
Icc
!=
I²
è|| (Ipc==
Iú
 && Icc!=
Iµ
)?Ipc:Icc;

34417 *(
	g±rd2
++èğ
Icc
;

34418 *(
	g±rd2
++èğ(
Iı
==
Inc
 && 
Icc
!=
IÂ
è|| (
Iú
==Inø&& Icc!=
IÅ
)?Inc:Icc;

34419 *(
	g±rd3
++èğ
Ipc
==
Iú
?Ipc:
Icc
;

34420 *(
	g±rd3
++èğ(
Ipc
==
Iú
 && 
Icc
!=
IÂ
è|| (Iú==
Inc
 && Icc!=
I²
)?Icn:Icc;

34421 *(
	g±rd3
++èğ
Iú
==
Inc
?Inc:
Icc
;

34423 *(
	g±rd1
++èğ
Icc
; *(ptrd1++) = Icc; *(ptrd1++) = Icc;

34424 *(
	g±rd2
++èğ
Icc
; *(ptrd2++) = Icc; *(ptrd2++) = Icc;

34425 *(
	g±rd3
++èğ
Icc
; *(ptrd3++) = Icc; *(ptrd3++) = Icc;

34429  
	g»s
;

34436 
	gCImg
<
	gT
>& 
mœrÜ
(cÚ¡ 
axis
) {

34437 ià(
is_em±y
()è *
	gthis
;

34438 
T
 *
	gpf
, *
	gpb
, *
	gbuf
 = 0;

34439 
	gcimg
::
low”ÿ£
(
axis
)) {

34441 
pf
 = 
_d©a
; 
	gpb
 = 
d©a
(
_width
 - 1);

34442 cÚ¡ 
	gwidth2
 = 
_width
/2;

34443 
	gyzv
 = 0; yzv<
_height
*
_d•th
*
	g_¥eùrum
; ++yzv) {

34444 
	gx
 = 0; x<
	gwidth2
; ++xè{ cÚ¡ 
T
 
	gv®
 = *
pf
; *(
	gpf
++èğ*
pb
; *(
	gpb
--èğ
v®
; }

34445 
	gpf
+=
_width
 - 
width2
;

34446 
	gpb
+=
_width
 + 
width2
;

34450 
buf
 = 
Ãw
 
T
[
_width
];

34451 
	gpf
 = 
_d©a
; 
	gpb
 = 
d©a
(0,
_height
 - 1);

34452 cÚ¡ 
	gheight2
 = 
_height
/2;

34453 
	gzv
 = 0; zv<
_d•th
*
	g_¥eùrum
; ++zv) {

34454 
	gy
 = 0; y<
	gheight2
; ++y) {

34455 
	g¡d
::
memıy
(
buf
,
pf
,
_width
*(
T
));

34456 
	g¡d
::
memıy
(
pf
,
pb
,
_width
*(
T
));

34457 
	g¡d
::
memıy
(
pb
,
buf
,
_width
*(
T
));

34458 
	gpf
+=
_width
;

34459 
	gpb
-=
_width
;

34461 
	gpf
+=(
ulÚgT
)
_width
*(
_height
 - 
height2
);

34462 
	gpb
+=(
ulÚgT
)
_width
*(
_height
 + 
height2
);

34466 
buf
 = 
Ãw
 
T
[(
ulÚgT
)
_width
*
_height
];

34467 
	gpf
 = 
_d©a
; 
	gpb
 = 
d©a
(0,0,
_d•th
 - 1);

34468 cÚ¡ 
	gd•th2
 = 
_d•th
/2;

34469 
cimg_fÜC
(*
this
,
c
) {

34470 
	gz
 = 0; z<
	gd•th2
; ++z) {

34471 
	g¡d
::
memıy
(
buf
,
pf
,
_width
*
_height
*(
T
));

34472 
	g¡d
::
memıy
(
pf
,
pb
,
_width
*
_height
*(
T
));

34473 
	g¡d
::
memıy
(
pb
,
buf
,
_width
*
_height
*(
T
));

34474 
	gpf
+=(
ulÚgT
)
_width
*
_height
;

34475 
	gpb
-=(
ulÚgT
)
_width
*
_height
;

34477 
	gpf
+=(
ulÚgT
)
_width
*
_height
*(
_d•th
 - 
d•th2
);

34478 
	gpb
+=(
ulÚgT
)
_width
*
_height
*(
_d•th
 + 
d•th2
);

34482 
buf
 = 
Ãw
 
T
[(
ulÚgT
)
_width
*
_height
*
_d•th
];

34483 
	gpf
 = 
_d©a
; 
	gpb
 = 
d©a
(0,0,0,
_¥eùrum
 - 1);

34484 cÚ¡ 
	g_¥eùrum2
 = 
_¥eùrum
/2;

34485 
	gv
 = 0; v<
	g_¥eùrum2
; ++v) {

34486 
	g¡d
::
memıy
(
buf
,
pf
,
_width
*
_height
*
_d•th
*(
T
));

34487 
	g¡d
::
memıy
(
pf
,
pb
,
_width
*
_height
*
_d•th
*(
T
));

34488 
	g¡d
::
memıy
(
pb
,
buf
,
_width
*
_height
*
_d•th
*(
T
));

34489 
	gpf
+=(
ulÚgT
)
_width
*
_height
*
_d•th
;

34490 
	gpb
-=(
ulÚgT
)
_width
*
_height
*
_d•th
;

34494 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


34496 
cimg_š¡ªû
,

34497 
axis
);

34499 
	gd–‘e
[] 
	gbuf
;

34500  *
	gthis
;

34504 
	gCImg
<
	gT
> 
g‘_mœrÜ
(cÚ¡ 
axis
) const {

34505  (+*
	gthis
).
mœrÜ
(
axis
);

34513 
	gCImg
<
	gT
>& 
mœrÜ
(cÚ¡ *cÚ¡ 
axes
) {

34514 cÚ¡ *
	gs
 = 
axes
; *s; ++sè
mœrÜ
(*
s
);

34515  *
	gthis
;

34519 
	gCImg
<
	gT
> 
g‘_mœrÜ
(cÚ¡ *cÚ¡ 
axes
) const {

34520  (+*
	gthis
).
mœrÜ
(
axes
);

34531 
	gCImg
<
	gT
>& 
shiá
(cÚ¡ 
d–_x
, cÚ¡ 
d–_y
=0, cÚ¡ 
d–_z
=0, cÚ¡ 
d–_c
=0,

34532 cÚ¡ 
bound¬y_cÚd™iÚs
=0) {

34533 ià(
is_em±y
()è *
this
;

34534 ià(
	gbound¬y_cÚd™iÚs
==3)

34535  
g‘_üİ
(-
d–_x
,-
d–_y
,-
d–_z
,-
d–_c
,

34536 
width
(è- 
d–_x
 - 1,

34537 
height
(è- 
d–_y
 - 1,

34538 
d•th
(è- 
d–_z
 - 1,

34539 
¥eùrum
(è- 
d–_c
 - 1,3).
move_to
(*
this
);

34540 ià(
	gd–_x
)

34541 
	gbound¬y_cÚd™iÚs
) {

34543 cÚ¡ 
ml
 = 
cimg
::
mod
(-
d–_x
,
width
()), 
	gnd–_x
 = (ml<=width()/2)?ml:(ml-width());

34544 ià(!
	gnd–_x
è *
	gthis
;

34545 
	gCImg
<
	gT
> 
buf
(
cimg
::
abs
(
nd–_x
));

34546 ià(
	gnd–_x
>0è
cimg_fÜYZC
(*
this
,
y
,
z
,
c
) {

34547 
	g¡d
::
memıy
(
buf
,
d©a
(0,
y
,
z
,
c
),
nd–_x
*(
T
));

34548 
	g¡d
::
memmove
(
d©a
(0,
y
,
z
,
c
),d©a(
nd–_x
,y,z,c),(
_width
-nd–_x)*(
T
));

34549 
	g¡d
::
memıy
(
d©a
(
_width
-
nd–_x
,
y
,
z
,
c
),
buf
,nd–_x*(
T
));

34550 } 
cimg_fÜYZC
(*
this
,
y
,
z
,
c
) {

34551 
	g¡d
::
memıy
(
buf
,
d©a
(
_width
 + 
nd–_x
,
y
,
z
,
c
),-nd–_x*(
T
));

34552 
	g¡d
::
memmove
(
d©a
(-
nd–_x
,
y
,
z
,
c
),d©a(0,y,z,c),(
_width
 +‚d–_x)*(
T
));

34553 
	g¡d
::
memıy
(
d©a
(0,
y
,
z
,
c
),
buf
,-
nd–_x
*(
T
));

34557 ià(
d–_x
<0) {

34558 cÚ¡ 
nd–_x
 = (-
d–_x
>=
width
())?width() - 1:-delta_x;

34559 ià(!
	gnd–_x
è *
	gthis
;

34560 
cimg_fÜYZC
(*
this
,
y
,
z
,
c
) {

34561 
	g¡d
::
memmove
(
d©a
(0,
y
,
z
,
c
),d©a(
nd–_x
,y,z,c),(
_width
-nd–_x)*(
T
));

34562 
T
 *
	g±rd
 = 
d©a
(
_width
 - 1,
y
,
z
,
c
);

34563 cÚ¡ 
T
 
	gv®
 = *
±rd
;

34564 
	gl
 = 0;†<
	gnd–_x
 - 1; ++lè*(--
	g±rd
èğ
v®
;

34567 cÚ¡ 
	gnd–_x
 = (
d–_x
>=
width
())?width() - 1:delta_x;

34568 ià(!
	gnd–_x
è *
	gthis
;

34569 
cimg_fÜYZC
(*
this
,
y
,
z
,
c
) {

34570 
	g¡d
::
memmove
(
d©a
(
nd–_x
,
y
,
z
,
c
),d©a(0,y,z,c),(
_width
-nd–_x)*(
T
));

34571 
T
 *
	g±rd
 = 
d©a
(0,
y
,
z
,
c
);

34572 cÚ¡ 
T
 
	gv®
 = *
±rd
;

34573 
	gl
 = 0;†<
	gnd–_x
 - 1; ++lè*(++
	g±rd
èğ
v®
;

34578 ià(
d–_x
<=-
width
(è|| d–_x>=width()è 
fl
((
T
)0);

34579 ià(
	gd–_x
<0è
cimg_fÜYZC
(*
this
,
y
,
z
,
c
) {

34580 
	g¡d
::
memmove
(
d©a
(0,
y
,
z
,
c
),d©a(-
d–_x
,y,z,c),(
_width
 + d–_x)*(
T
));

34581 
	g¡d
::
mem£t
(
d©a
(
_width
 + 
d–_x
,
y
,
z
,
c
),0,-d–_x*(
T
));

34582 } 
cimg_fÜYZC
(*
this
,
y
,
z
,
c
) {

34583 
	g¡d
::
memmove
(
d©a
(
d–_x
,
y
,
z
,
c
),d©a(0,y,z,c),(
_width
-d–_x)*(
T
));

34584 
	g¡d
::
mem£t
(
d©a
(0,
y
,
z
,
c
),0,
d–_x
*(
T
));

34588 ià(
	gd–_y
)

34589 
	gbound¬y_cÚd™iÚs
) {

34591 cÚ¡ 
ml
 = 
cimg
::
mod
(-
d–_y
,
height
()), 
	gnd–_y
 = (ml<=height()/2)?ml:(ml-height());

34592 ià(!
	gnd–_y
è *
	gthis
;

34593 
	gCImg
<
	gT
> 
buf
(
width
(),
cimg
::
abs
(
nd–_y
));

34594 ià(
	gnd–_y
>0è
cimg_fÜZC
(*
this
,
z
,
c
) {

34595 
	g¡d
::
memıy
(
buf
,
d©a
(0,0,
z
,
c
),
_width
*
nd–_y
*(
T
));

34596 
	g¡d
::
memmove
(
d©a
(0,0,
z
,
c
),d©a(0,
nd–_y
,z,c),
_width
*(
_height
-nd–_y)*(
T
));

34597 
	g¡d
::
memıy
(
d©a
(0,
_height
-
nd–_y
,
z
,
c
),
buf
,
_width
*nd–_y*(
T
));

34598 } 
cimg_fÜZC
(*
this
,
z
,
c
) {

34599 
	g¡d
::
memıy
(
buf
,
d©a
(0,
_height
 + 
nd–_y
,
z
,
c
),-nd–_y*
_width
*(
T
));

34600 
	g¡d
::
memmove
(
d©a
(0,-
nd–_y
,
z
,
c
),d©a(0,0,z,c),
_width
*(
_height
 +‚d–_y)*(
T
));

34601 
	g¡d
::
memıy
(
d©a
(0,0,
z
,
c
),
buf
,-
nd–_y
*
_width
*(
T
));

34605 ià(
d–_y
<0) {

34606 cÚ¡ 
nd–_y
 = (-
d–_y
>=
height
())?height() - 1:-delta_y;

34607 ià(!
	gnd–_y
è *
	gthis
;

34608 
cimg_fÜZC
(*
this
,
z
,
c
) {

34609 
	g¡d
::
memmove
(
d©a
(0,0,
z
,
c
),d©a(0,
nd–_y
,z,c),
_width
*(
_height
-nd–_y)*(
T
));

34610 
T
 *
	g±rd
 = 
d©a
(0,
_height
-
nd–_y
,
z
,
c
), *
	g±rs
 = data(0,_height - 1,z,c);

34611 
	gl
 = 0;†<
	gnd–_y
 - 1; ++lè{ 
	g¡d
::
memıy
(
±rd
,
±rs
,
_width
*(
T
)); 
	g±rd
+=_width; }

34614 cÚ¡ 
	gnd–_y
 = (
d–_y
>=
height
())?height() - 1:delta_y;

34615 ià(!
	gnd–_y
è *
	gthis
;

34616 
cimg_fÜZC
(*
this
,
z
,
c
) {

34617 
	g¡d
::
memmove
(
d©a
(0,
nd–_y
,
z
,
c
),d©a(0,0,z,c),
_width
*(
_height
-nd–_y)*(
T
));

34618 
T
 *
	g±rd
 = 
d©a
(0,1,
z
,
c
), *
	g±rs
 = data(0,0,z,c);

34619 
	gl
 = 0;†<
	gnd–_y
 - 1; ++lè{ 
	g¡d
::
memıy
(
±rd
,
±rs
,
_width
*(
T
)); 
	g±rd
+=_width; }

34624 ià(
d–_y
<=-
height
(è|| d–_y>=height()è 
fl
((
T
)0);

34625 ià(
	gd–_y
<0è
cimg_fÜZC
(*
this
,
z
,
c
) {

34626 
	g¡d
::
memmove
(
d©a
(0,0,
z
,
c
),d©a(0,-
d–_y
,z,c),
_width
*(
_height
 + d–_y)*(
T
));

34627 
	g¡d
::
mem£t
(
d©a
(0,
_height
 + 
d–_y
,
z
,
c
),0,-d–_y*
_width
*(
T
));

34628 } 
cimg_fÜZC
(*
this
,
z
,
c
) {

34629 
	g¡d
::
memmove
(
d©a
(0,
d–_y
,
z
,
c
),d©a(0,0,z,c),
_width
*(
_height
-d–_y)*(
T
));

34630 
	g¡d
::
mem£t
(
d©a
(0,0,
z
,
c
),0,
d–_y
*
_width
*(
T
));

34634 ià(
	gd–_z
)

34635 
	gbound¬y_cÚd™iÚs
) {

34637 cÚ¡ 
ml
 = 
cimg
::
mod
(-
d–_z
,
d•th
()), 
	gnd–_z
 = (ml<=depth()/2)?ml:(ml-depth());

34638 ià(!
	gnd–_z
è *
	gthis
;

34639 
	gCImg
<
	gT
> 
buf
(
width
(),
height
(),
cimg
::
abs
(
nd–_z
));

34640 ià(
	gnd–_z
>0è
cimg_fÜC
(*
this
,
c
) {

34641 
	g¡d
::
memıy
(
buf
,
d©a
(0,0,0,
c
),
_width
*
_height
*
nd–_z
*(
T
));

34642 
	g¡d
::
memmove
(
d©a
(0,0,0,
c
),d©a(0,0,
nd–_z
,c),
_width
*
_height
*(
_d•th
-nd–_z)*(
T
));

34643 
	g¡d
::
memıy
(
d©a
(0,0,
_d•th
-
nd–_z
,
c
),
buf
,
_width
*
_height
*nd–_z*(
T
));

34644 } 
cimg_fÜC
(*
this
,
c
) {

34645 
	g¡d
::
memıy
(
buf
,
d©a
(0,0,
_d•th
 + 
nd–_z
,
c
),-nd–_z*
_width
*
_height
*(
T
));

34646 
	g¡d
::
memmove
(
d©a
(0,0,-
nd–_z
,
c
),d©a(0,0,0,c),
_width
*
_height
*(
_d•th
 +‚d–_z)*(
T
));

34647 
	g¡d
::
memıy
(
d©a
(0,0,0,
c
),
buf
,-
nd–_z
*
_width
*
_height
*(
T
));

34651 ià(
d–_z
<0) {

34652 cÚ¡ 
nd–_z
 = (-
d–_z
>=
d•th
())?depth() - 1:-delta_z;

34653 ià(!
	gnd–_z
è *
	gthis
;

34654 
cimg_fÜC
(*
this
,
c
) {

34655 
	g¡d
::
memmove
(
d©a
(0,0,0,
c
),d©a(0,0,
nd–_z
,c),
_width
*
_height
*(
_d•th
-nd–_z)*(
T
));

34656 
T
 *
	g±rd
 = 
d©a
(0,0,
_d•th
-
nd–_z
,
c
), *
	g±rs
 = data(0,0,_depth - 1,c);

34657 
	gl
 = 0;†<
	gnd–_z
 - 1; ++l) {

34658 
	g¡d
::
memıy
(
±rd
,
±rs
,
_width
*
_height
*(
T
)); 
	g±rd
+=(
ulÚgT
)_width*_height;

34662 cÚ¡ 
	gnd–_z
 = (
d–_z
>=
d•th
())?depth() - 1:delta_z;

34663 ià(!
	gnd–_z
è *
	gthis
;

34664 
cimg_fÜC
(*
this
,
c
) {

34665 
	g¡d
::
memmove
(
d©a
(0,0,
nd–_z
,
c
),d©a(0,0,0,c),
_width
*
_height
*(
_d•th
-nd–_z)*(
T
));

34666 
T
 *
	g±rd
 = 
d©a
(0,0,1,
c
), *
	g±rs
 = data(0,0,0,c);

34667 
	gl
 = 0;†<
	gnd–_z
 - 1; ++l) {

34668 
	g¡d
::
memıy
(
±rd
,
±rs
,
_width
*
_height
*(
T
)); 
	g±rd
+=(
ulÚgT
)_width*_height;

34674 ià(
d–_z
<=-
d•th
(è|| d–_z>=d•th()è 
fl
((
T
)0);

34675 ià(
	gd–_z
<0è
cimg_fÜC
(*
this
,
c
) {

34676 
	g¡d
::
memmove
(
d©a
(0,0,0,
c
),d©a(0,0,-
d–_z
,c),
_width
*
_height
*(
_d•th
 + d–_z)*(
T
));

34677 
	g¡d
::
mem£t
(
d©a
(0,0,
_d•th
 + 
d–_z
,
c
),0,
_width
*
_height
*(-d–_z)*(
T
));

34678 } 
cimg_fÜC
(*
this
,
c
) {

34679 
	g¡d
::
memmove
(
d©a
(0,0,
d–_z
,
c
),d©a(0,0,0,c),
_width
*
_height
*(
_d•th
-d–_z)*(
T
));

34680 
	g¡d
::
mem£t
(
d©a
(0,0,0,
c
),0,
d–_z
*
_width
*
_height
*(
T
));

34684 ià(
	gd–_c
)

34685 
	gbound¬y_cÚd™iÚs
) {

34687 cÚ¡ 
ml
 = 
cimg
::
mod
(-
d–_c
,
¥eùrum
()), 
	gnd–_c
 = (ml<=spectrum()/2)?ml:(ml-spectrum());

34688 ià(!
	gnd–_c
è *
	gthis
;

34689 
	gCImg
<
	gT
> 
buf
(
width
(),
height
(),
d•th
(),
cimg
::
abs
(
nd–_c
));

34690 ià(
	gnd–_c
>0) {

34691 
	g¡d
::
memıy
(
buf
,
_d©a
,
_width
*
_height
*
_d•th
*
nd–_c
*(
T
));

34692 
	g¡d
::
memmove
(
_d©a
,
d©a
(0,0,0,
nd–_c
),
_width
*
_height
*
_d•th
*(
_¥eùrum
-nd–_c)*(
T
));

34693 
	g¡d
::
memıy
(
d©a
(0,0,0,
_¥eùrum
-
nd–_c
),
buf
,
_width
*
_height
*
_d•th
*nd–_c*(
T
));

34695 
	g¡d
::
memıy
(
buf
,
d©a
(0,0,0,
_¥eùrum
 + 
nd–_c
),-nd–_c*
_width
*
_height
*
_d•th
*(
T
));

34696 
	g¡d
::
memmove
(
d©a
(0,0,0,-
nd–_c
),
_d©a
,
_width
*
_height
*
_d•th
*(
_¥eùrum
 +‚d–_c)*(
T
));

34697 
	g¡d
::
memıy
(
_d©a
,
buf
,-
nd–_c
*
_width
*
_height
*
_d•th
*(
T
));

34701 ià(
d–_c
<0) {

34702 cÚ¡ 
nd–_c
 = (-
d–_c
>=
¥eùrum
())?spectrum() - 1:-delta_c;

34703 ià(!
	gnd–_c
è *
	gthis
;

34704 
	g¡d
::
memmove
(
_d©a
,
d©a
(0,0,0,
nd–_c
),
_width
*
_height
*
_d•th
*(
_¥eùrum
-nd–_c)*(
T
));

34705 
T
 *
	g±rd
 = 
d©a
(0,0,0,
_¥eùrum
-
nd–_c
), *
	g±rs
 = data(0,0,0,_spectrum - 1);

34706 
	gl
 = 0;†<
	gnd–_c
 - 1; ++l) {

34707 
	g¡d
::
memıy
(
±rd
,
±rs
,
_width
*
_height
*
_d•th
*(
T
)); 
	g±rd
+=(
ulÚgT
)_width*_height*_depth;

34710 cÚ¡ 
	gnd–_c
 = (
d–_c
>=
¥eùrum
())?spectrum() - 1:delta_c;

34711 ià(!
	gnd–_c
è *
	gthis
;

34712 
	g¡d
::
memmove
(
d©a
(0,0,0,
nd–_c
),
_d©a
,
_width
*
_height
*
_d•th
*(
_¥eùrum
-nd–_c)*(
T
));

34713 
T
 *
	g±rd
 = 
d©a
(0,0,0,1);

34714 
	gl
 = 0;†<
	gnd–_c
 - 1; ++l) {

34715 
	g¡d
::
memıy
(
±rd
,
_d©a
,
_width
*
_height
*
_d•th
*(
T
)); 
	g±rd
+=(
ulÚgT
)_width*_height*_depth;

34720 ià(
d–_c
<=-
¥eùrum
(è|| d–_c>=¥eùrum()è 
fl
((
T
)0);

34721 ià(
	gd–_c
<0) {

34722 
	g¡d
::
memmove
(
_d©a
,
d©a
(0,0,0,-
d–_c
),
_width
*
_height
*
_d•th
*(
_¥eùrum
 + d–_c)*(
T
));

34723 
	g¡d
::
mem£t
(
d©a
(0,0,0,
_¥eùrum
 + 
d–_c
),0,
_width
*
_height
*
_d•th
*(-d–_c)*(
T
));

34725 
	g¡d
::
memmove
(
d©a
(0,0,0,
d–_c
),
_d©a
,
_width
*
_height
*
_d•th
*(
_¥eùrum
-d–_c)*(
T
));

34726 
	g¡d
::
mem£t
(
_d©a
,0,
d–_c
*
_width
*
_height
*
_d•th
*(
T
));

34729  *
	gthis
;

34733 
	gCImg
<
	gT
> 
g‘_shiá
(cÚ¡ 
d–_x
, cÚ¡ 
d–_y
=0, cÚ¡ 
d–_z
=0, cÚ¡ 
d–_c
=0,

34734 cÚ¡ 
bound¬y_cÚd™iÚs
=0) const {

34735  (+*
this
).
shiá
(
d–_x
,
d–_y
,
d–_z
,
d–_c
,
bound¬y_cÚd™iÚs
);

34743 
	gCImg
<
	gT
>& 
³rmu‹_axes
(cÚ¡ *cÚ¡ 
axes_Üd”
) {

34744  
g‘_³rmu‹_axes
(
axes_Üd”
).
move_to
(*
this
);

34748 
	gCImg
<
	gT
> 
g‘_³rmu‹_axes
(cÚ¡ *cÚ¡ 
axes_Üd”
) const {

34749 cÚ¡ 
T
 
	gfoo
 = (T)0;

34750  
_³rmu‹_axes
(
axes_Üd”
,
foo
);

34753 
	g‹m¶©e
<
ty³Çme
 
	gt
>

34754 
	gCImg
<
	gt
> 
_³rmu‹_axes
(cÚ¡ *cÚ¡ 
axes_Üd”
, cÚ¡ 
t
&) const {

34755 ià(
is_em±y
(è|| !
	gaxes_Üd”
è 
	gCImg
<
	gt
>(*
	gthis
,
	gçl£
);

34756 
	gCImg
<
	gt
> 
	g»s
;

34757 cÚ¡ 
T
* 
	g±rs
 = 
_d©a
;

34758 
	gs_code
[4] = { 0,1,2,3 }, 
	gn_code
[4] = { 0 };

34759 
	gl
 = 0; 
	gaxes_Üd”
[
l
]; ++l) {

34760 
	gc
 = 
cimg
::
low”ÿ£
(
axes_Üd”
[
l
]);

34761 ià(
	gl
>=4 || (
c
!='x' && c!='y' && c!='z' && c!='c')è{ *
s_code
 = 4; ; }

34762 { ++
	gn_code
[
c
%=4]; 
	gs_code
[
l
] = c; }

34764 ià(*
	gaxes_Üd”
 && *
	gs_code
<4 && *
	gn_code
<=1 && 
n_code
[1]<=1 &&‚_code[2]<=1 &&‚_code[3]<=1) {

34765 cÚ¡ 
code
 = (
s_code
[0]<<12) | (s_code[1]<<8) | (s_code[2]<<4) | (s_code[3]);

34766 
ulÚgT
 
	gwh
, 
	gwhd
;

34767 
	gcode
) {

34769  +*
this
;

34771 
»s
.
assign
(
_width
,
_height
,
_¥eùrum
,
_d•th
);

34772 
	gwh
 = (
ulÚgT
)
»s
.
_width
*»s.
_height
; 
	gwhd
 = 
wh
*»s.
_d•th
;

34773 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è
»s
(x,y,c,z,
wh
,
whd
èğ(
t
)*(
±rs
++);

34776 
»s
.
assign
(
_width
,
_d•th
,
_height
,
_¥eùrum
);

34777 
	gwh
 = (
ulÚgT
)
»s
.
_width
*»s.
_height
; 
	gwhd
 = 
wh
*»s.
_d•th
;

34778 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è
»s
(x,z,y,c,
wh
,
whd
èğ(
t
)*(
±rs
++);

34781 
»s
.
assign
(
_width
,
_d•th
,
_¥eùrum
,
_height
);

34782 
	gwh
 = (
ulÚgT
)
»s
.
_width
*»s.
_height
; 
	gwhd
 = 
wh
*»s.
_d•th
;

34783 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è
»s
(x,z,c,y,
wh
,
whd
èğ(
t
)*(
±rs
++);

34786 
»s
.
assign
(
_width
,
_¥eùrum
,
_height
,
_d•th
);

34787 
	gwh
 = (
ulÚgT
)
»s
.
_width
*»s.
_height
; 
	gwhd
 = 
wh
*»s.
_d•th
;

34788 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è
»s
(x,c,y,z,
wh
,
whd
èğ(
t
)*(
±rs
++);

34791 
»s
.
assign
(
_width
,
_¥eùrum
,
_d•th
,
_height
);

34792 
	gwh
 = (
ulÚgT
)
»s
.
_width
*»s.
_height
; 
	gwhd
 = 
wh
*»s.
_d•th
;

34793 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è
»s
(x,c,z,y,
wh
,
whd
èğ(
t
)*(
±rs
++);

34796 
»s
.
assign
(
_height
,
_width
,
_d•th
,
_¥eùrum
);

34797 
	gwh
 = (
ulÚgT
)
»s
.
_width
*»s.
_height
; 
	gwhd
 = 
wh
*»s.
_d•th
;

34798 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è
»s
(y,x,z,c,
wh
,
whd
èğ(
t
)*(
±rs
++);

34801 
»s
.
assign
(
_height
,
_width
,
_¥eùrum
,
_d•th
);

34802 
	gwh
 = (
ulÚgT
)
»s
.
_width
*»s.
_height
; 
	gwhd
 = 
wh
*»s.
_d•th
;

34803 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è
»s
(y,x,c,z,
wh
,
whd
èğ(
t
)*(
±rs
++);

34806 
»s
.
assign
(
_height
,
_d•th
,
_width
,
_¥eùrum
);

34807 
	gwh
 = (
ulÚgT
)
»s
.
_width
*»s.
_height
; 
	gwhd
 = 
wh
*»s.
_d•th
;

34808 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è
»s
(y,z,x,c,
wh
,
whd
èğ(
t
)*(
±rs
++);

34811 
»s
.
assign
(
_height
,
_d•th
,
_¥eùrum
,
_width
);

34812 
	g_width
) {

34814 
t
 *
±r_r
 = 
»s
.
d©a
(0,0,0,0);

34815 
	gsiz
 = 
_height
*
_d•th
*
_¥eùrum
; siz; --siz) {

34816 *(
	g±r_r
++èğ(
t
)*(
±rs
++);

34820 
t
 *
±r_r
 = 
»s
.
d©a
(0,0,0,0), *
	g±r_g
 =„es.data(0,0,0,1);

34821 
	gsiz
 = 
_height
*
_d•th
*
_¥eùrum
; siz; --siz) {

34822 *(
	g±r_r
++èğ(
t
)
±rs
[0];

34823 *(
	g±r_g
++èğ(
t
)
±rs
[1];

34824 
	g±rs
+=2;

34828 
t
 *
±r_r
 = 
»s
.
d©a
(0,0,0,0), *
	g±r_g
 =„es.d©a(0,0,0,1), *
	g±r_b
 =„es.data(0,0,0,2);

34829 
	gsiz
 = 
_height
*
_d•th
*
_¥eùrum
; siz; --siz) {

34830 *(
	g±r_r
++èğ(
t
)
±rs
[0];

34831 *(
	g±r_g
++èğ(
t
)
±rs
[1];

34832 *(
	g±r_b
++èğ(
t
)
±rs
[2];

34833 
	g±rs
+=3;

34837 
t


34838 *
±r_r
 = 
»s
.
d©a
(0,0,0,0), *
	g±r_g
 =„es.data(0,0,0,1),

34839 *
	g±r_b
 = 
»s
.
d©a
(0,0,0,2), *
	g±r_a
 =„es.data(0,0,0,3);

34840 
	gsiz
 = 
_height
*
_d•th
*
_¥eùrum
; siz; --siz) {

34841 *(
	g±r_r
++èğ(
t
)
±rs
[0];

34842 *(
	g±r_g
++èğ(
t
)
±rs
[1];

34843 *(
	g±r_b
++èğ(
t
)
±rs
[2];

34844 *(
	g±r_a
++èğ(
t
)
±rs
[3];

34845 
	g±rs
+=4;

34849 
wh
 = (
ulÚgT
)
»s
.
_width
*»s.
_height
; 
	gwhd
 = wh*»s.
_d•th
;

34850 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è
»s
(y,z,c,x,
wh
,
whd
èğ*(
±rs
++);

34851  
	g»s
;

34856 
»s
.
assign
(
_height
,
_¥eùrum
,
_width
,
_d•th
);

34857 
	gwh
 = (
ulÚgT
)
»s
.
_width
*»s.
_height
; 
	gwhd
 = 
wh
*»s.
_d•th
;

34858 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è
»s
(y,c,x,z,
wh
,
whd
èğ(
t
)*(
±rs
++);

34861 
»s
.
assign
(
_height
,
_¥eùrum
,
_d•th
,
_width
);

34862 
	gwh
 = (
ulÚgT
)
»s
.
_width
*»s.
_height
; 
	gwhd
 = 
wh
*»s.
_d•th
;

34863 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è
»s
(y,c,z,x,
wh
,
whd
èğ(
t
)*(
±rs
++);

34866 
»s
.
assign
(
_d•th
,
_width
,
_height
,
_¥eùrum
);

34867 
	gwh
 = (
ulÚgT
)
»s
.
_width
*»s.
_height
; 
	gwhd
 = 
wh
*»s.
_d•th
;

34868 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è
»s
(z,x,y,c,
wh
,
whd
èğ(
t
)*(
±rs
++);

34871 
»s
.
assign
(
_d•th
,
_width
,
_¥eùrum
,
_height
);

34872 
	gwh
 = (
ulÚgT
)
»s
.
_width
*»s.
_height
; 
	gwhd
 = 
wh
*»s.
_d•th
;

34873 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è
»s
(z,x,c,y,
wh
,
whd
èğ(
t
)*(
±rs
++);

34876 
»s
.
assign
(
_d•th
,
_height
,
_width
,
_¥eùrum
);

34877 
	gwh
 = (
ulÚgT
)
»s
.
_width
*»s.
_height
; 
	gwhd
 = 
wh
*»s.
_d•th
;

34878 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è
»s
(z,y,x,c,
wh
,
whd
èğ(
t
)*(
±rs
++);

34881 
»s
.
assign
(
_d•th
,
_height
,
_¥eùrum
,
_width
);

34882 
	gwh
 = (
ulÚgT
)
»s
.
_width
*»s.
_height
; 
	gwhd
 = 
wh
*»s.
_d•th
;

34883 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è
»s
(z,y,c,x,
wh
,
whd
èğ(
t
)*(
±rs
++);

34886 
»s
.
assign
(
_d•th
,
_¥eùrum
,
_width
,
_height
);

34887 
	gwh
 = (
ulÚgT
)
»s
.
_width
*»s.
_height
; 
	gwhd
 = 
wh
*»s.
_d•th
;

34888 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è
»s
(z,c,x,y,
wh
,
whd
èğ(
t
)*(
±rs
++);

34891 
»s
.
assign
(
_d•th
,
_¥eùrum
,
_height
,
_width
);

34892 
	gwh
 = (
ulÚgT
)
»s
.
_width
*»s.
_height
; 
	gwhd
 = 
wh
*»s.
_d•th
;

34893 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è
»s
(z,c,y,x,
wh
,
whd
èğ(
t
)*(
±rs
++);

34896 
»s
.
assign
(
_¥eùrum
,
_width
,
_height
,
_d•th
);

34897 
	g_¥eùrum
) {

34899 cÚ¡ 
T
 *
±r_r
 = 
d©a
(0,0,0,0);

34900 
t
 *
	g±rd
 = 
»s
.
_d©a
;

34901 
ulÚgT
 
	gsiz
 = (ulÚgT)
_width
*
_height
*
_d•th
; siz; --sizè*(
	g±rd
++èğ(
t
)*(
±r_r
++);

34904 cÚ¡ 
T
 *
±r_r
 = 
d©a
(0,0,0,0), *
	g±r_g
 = data(0,0,0,1);

34905 
t
 *
	g±rd
 = 
»s
.
_d©a
;

34906 
ulÚgT
 
	gsiz
 = (ulÚgT)
_width
*
_height
*
_d•th
; siz; --siz) {

34907 
	g±rd
[0] = (
t
)*(
±r_r
++);

34908 
	g±rd
[1] = (
t
)*(
±r_g
++);

34909 
	g±rd
+=2;

34913 cÚ¡ 
T
 *
±r_r
 = 
d©a
(0,0,0,0), *
	g±r_g
 = d©a(0,0,0,1), *
	g±r_b
 = data(0,0,0,2);

34914 
t
 *
	g±rd
 = 
»s
.
_d©a
;

34915 
ulÚgT
 
	gsiz
 = (ulÚgT)
_width
*
_height
*
_d•th
; siz; --siz) {

34916 
	g±rd
[0] = (
t
)*(
±r_r
++);

34917 
	g±rd
[1] = (
t
)*(
±r_g
++);

34918 
	g±rd
[2] = (
t
)*(
±r_b
++);

34919 
	g±rd
+=3;

34923 cÚ¡ 
T
 *
±r_r
 = 
d©a
(0,0,0,0), *
	g±r_g
 = d©a(0,0,0,1), *
	g±r_b
 = d©a(0,0,0,2), *
	g±r_a
 = data(0,0,0,3);

34924 
t
 *
	g±rd
 = 
»s
.
_d©a
;

34925 
ulÚgT
 
	gsiz
 = (ulÚgT)
_width
*
_height
*
_d•th
; siz; --siz) {

34926 
	g±rd
[0] = (
t
)*(
±r_r
++);

34927 
	g±rd
[1] = (
t
)*(
±r_g
++);

34928 
	g±rd
[2] = (
t
)*(
±r_b
++);

34929 
	g±rd
[3] = (
t
)*(
±r_a
++);

34930 
	g±rd
+=4;

34934 
wh
 = (
ulÚgT
)
»s
.
_width
*»s.
_height
; 
	gwhd
 = wh*»s.
_d•th
;

34935 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è
»s
(c,x,y,z,
wh
,
whd
èğ(
t
)*(
±rs
++);

34940 
»s
.
assign
(
_¥eùrum
,
_width
,
_d•th
,
_height
);

34941 
	gwh
 = (
ulÚgT
)
»s
.
_width
*»s.
_height
; 
	gwhd
 = 
wh
*»s.
_d•th
;

34942 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è
»s
(c,x,z,y,
wh
,
whd
èğ(
t
)*(
±rs
++);

34945 
»s
.
assign
(
_¥eùrum
,
_height
,
_width
,
_d•th
);

34946 
	gwh
 = (
ulÚgT
)
»s
.
_width
*»s.
_height
; 
	gwhd
 = 
wh
*»s.
_d•th
;

34947 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è
»s
(c,y,x,z,
wh
,
whd
èğ(
t
)*(
±rs
++);

34950 
»s
.
assign
(
_¥eùrum
,
_height
,
_d•th
,
_width
);

34951 
	gwh
 = (
ulÚgT
)
»s
.
_width
*»s.
_height
; 
	gwhd
 = 
wh
*»s.
_d•th
;

34952 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è
»s
(c,y,z,x,
wh
,
whd
èğ(
t
)*(
±rs
++);

34955 
»s
.
assign
(
_¥eùrum
,
_d•th
,
_width
,
_height
);

34956 
	gwh
 = (
ulÚgT
)
»s
.
_width
*»s.
_height
; 
	gwhd
 = 
wh
*»s.
_d•th
;

34957 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è
»s
(c,z,x,y,
wh
,
whd
èğ(
t
)*(
±rs
++);

34960 
»s
.
assign
(
_¥eùrum
,
_d•th
,
_height
,
_width
);

34961 
	gwh
 = (
ulÚgT
)
»s
.
_width
*»s.
_height
; 
	gwhd
 = 
wh
*»s.
_d•th
;

34962 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
è
»s
(c,z,y,x,
wh
,
whd
èğ(
t
)*(
±rs
++);

34966 ià(!
	g»s
)

34967 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


34969 
cimg_š¡ªû
,

34970 
axes_Üd”
);

34971  
	g»s
;

34978 
	gCImg
<
	gT
>& 
uÄŞl
(cÚ¡ 
axis
) {

34979 cÚ¡ 
	gsiz
 = ()
size
();

34980 ià(
	gsiz
è
	gcimg
::
low”ÿ£
(
axis
)) {

34981 'x' : 
_width
 = 
siz
; 
	g_height
 = 
_d•th
 = 
_¥eùrum
 = 1; ;

34982 'y' : 
_height
 = 
siz
; 
	g_width
 = 
_d•th
 = 
_¥eùrum
 = 1; ;

34983 'z' : 
_d•th
 = 
siz
; 
	g_width
 = 
_height
 = 
_¥eùrum
 = 1; ;

34984 'c' : 
_¥eùrum
 = 
siz
; 
	g_width
 = 
_height
 = 
_d•th
 = 1; ;

34986  *
	gthis
;

34990 
	gCImg
<
	gT
> 
g‘_uÄŞl
(cÚ¡ 
axis
) const {

34991  (+*
	gthis
).
uÄŞl
(
axis
);

35002 
	gCImg
<
	gT
>& 
rÙ©e
(cÚ¡ 
ªgË
, cÚ¡ 
š‹½Ş©iÚ
=1,

35003 cÚ¡ 
bound¬y_cÚd™iÚs
=0) {

35004 cÚ¡ 
ÇngË
 = 
cimg
::
mod
(
ªgË
,360.f);

35005 ià(
	gÇngË
==0.fè *
this
;

35006  
g‘_rÙ©e
(
ÇngË
,
š‹½Ş©iÚ
,
bound¬y_cÚd™iÚs
).
move_to
(*
this
);

35010 
	gCImg
<
	gT
> 
g‘_rÙ©e
(cÚ¡ 
ªgË
, cÚ¡ 
š‹½Ş©iÚ
=1,

35011 cÚ¡ 
bound¬y_cÚd™iÚs
=0) const {

35012 ià(
is_em±y
()è *
this
;

35013 
	gCImg
<
	gT
> 
	g»s
;

35014 cÚ¡ 
	gÇngË
 = 
cimg
::
mod
(
ªgË
,360.f);

35015 ià(
	gbound¬y_cÚd™iÚs
!=1 && 
cimg
::
mod
(
ÇngË
,90.f)==0) {

35016 cÚ¡ 
wm1
 = 
width
(è- 1, 
	ghm1
 = 
height
() - 1;

35017 cÚ¡ 
	gŸngË
 = ()
ÇngË
/90;

35018 
	gŸngË
) {

35020 
»s
.
assign
(
_height
,
_width
,
_d•th
,
_¥eùrum
);

35021 
T
 *
	g±rd
 = 
»s
.
_d©a
;

35022 
cimg_fÜXYZC
(
»s
,
x
,
y
,
z
,
c
è*(
	g±rd
++èğ(*
this
)(y,
	ghm1
 - 
	gx
,
	gz
,
	gc
);

35025 
»s
.
assign
(
_width
,
_height
,
_d•th
,
_¥eùrum
);

35026 
T
 *
	g±rd
 = 
»s
.
_d©a
;

35027 
cimg_fÜXYZC
(
»s
,
x
,
y
,
z
,
c
è*(
	g±rd
++èğ(*
this
)(
wm1
 - x,
	ghm1
 - 
	gy
,
	gz
,
	gc
);

35030 
»s
.
assign
(
_height
,
_width
,
_d•th
,
_¥eùrum
);

35031 
T
 *
	g±rd
 = 
»s
.
_d©a
;

35032 
cimg_fÜXYZC
(
»s
,
x
,
y
,
z
,
c
è*(
	g±rd
++èğ(*
this
)(
wm1
 - y,
	gx
,
	gz
,
	gc
);

35035  *
this
;

35039 
	g¿d
 = ()(
ÇngË
*
cimg
::
PI
/180.),

35040 
	gÿ
 = ()
¡d
::
cos
(
¿d
), 
	g§
 = ()¡d::
sš
(rad),

35041 
	gux
 = 
cimg
::
abs
((
_width
 - 1)*
ÿ
), 
	guy
 = cimg::abs((_width - 1)*
§
),

35042 
	gvx
 = 
cimg
::
abs
((
_height
 - 1)*
§
), 
	gvy
 = cimg::abs((_heighˆ- 1)*
ÿ
),

35043 
	gw2
 = 0.5f*(
_width
 - 1), 
	gh2
 = 0.5f*(
_height
 - 1);

35044 
	g»s
.
assign
(()
cimg
::
round
(1 + 
ux
 + 
vx
),()cimg::round(1 + 
uy
 + 
vy
),
_d•th
,
_¥eùrum
);

35045 cÚ¡ 
	grw2
 = 0.5f*(
»s
.
_width
 - 1), 
	grh2
 = 0.5f*Ôes.
_height
 - 1);

35046 
_rÙ©e
(
»s
,
ÇngË
,
š‹½Ş©iÚ
,
bound¬y_cÚd™iÚs
,
w2
,
h2
,
rw2
,
rh2
);

35048  
	g»s
;

35059 
	gCImg
<
	gT
>& 
rÙ©e
(cÚ¡ 
ªgË
, cÚ¡ 
cx
, cÚ¡ 
cy
,

35060 cÚ¡ 
š‹½Ş©iÚ
, cÚ¡ 
bound¬y_cÚd™iÚs
=0) {

35061  
g‘_rÙ©e
(
ªgË
,
cx
,
cy
,
š‹½Ş©iÚ
,
bound¬y_cÚd™iÚs
).
move_to
(*
this
);

35065 
	gCImg
<
	gT
> 
g‘_rÙ©e
(cÚ¡ 
ªgË
, cÚ¡ 
cx
, cÚ¡ 
cy
,

35066 cÚ¡ 
š‹½Ş©iÚ
, cÚ¡ 
bound¬y_cÚd™iÚs
=0) const {

35067 ià(
is_em±y
()è *
this
;

35068 
	gCImg
<
	gT
> 
»s
(
_width
,
_height
,
_d•th
,
_¥eùrum
);

35069 
_rÙ©e
(
»s
,
ªgË
,
š‹½Ş©iÚ
,
bound¬y_cÚd™iÚs
,
cx
,
cy
,cx,cy);

35070  
	g»s
;

35074 
_rÙ©e
(
CImg
<
T
>& 
»s
, cÚ¡ 
ªgË
,

35075 cÚ¡ 
š‹½Ş©iÚ
, cÚ¡ 
bound¬y_cÚd™iÚs
,

35076 cÚ¡ 
w2
, cÚ¡ 
h2
,

35077 cÚ¡ 
rw2
, cÚ¡ 
rh2
) const {

35079 
	g¿d
 = ()(
ªgË
*
cimg
::
PI
/180.),

35080 
	gÿ
 = ()
¡d
::
cos
(
¿d
), 
	g§
 = ()¡d::
sš
(rad);

35082 
	gbound¬y_cÚd™iÚs
) {

35085 
š‹½Ş©iÚ
) {

35087 cÚ¡ 
ww
 = 2.f*
width
(), 
	ghh
 = 2.f*
height
();

35088 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),2048))

35089 
cimg_fÜXYZC
(
»s
,
x
,
y
,
z
,
c
) {

35090 cÚ¡ 
	gxc
 = 
x
 - 
rw2
, 
	gyc
 = 
y
 - 
rh2
,

35091 
	gmx
 = 
cimg
::
mod
(
w2
 + 
xc
*
ÿ
 + 
yc
*
§
,
ww
),

35092 
	gmy
 = 
cimg
::
mod
(
h2
 - 
xc
*
§
 + 
yc
*
ÿ
,
hh
);

35093 
»s
(
x
,
y
,
z
,
c
èğ
_cubic_©XY_c
(
mx
<
width
()?mx:
ww
 - mx - 1,
my
<
height
()?my:
hh
 - my - 1,z,c);

35097 cÚ¡ 
ww
 = 2.f*
width
(), 
	ghh
 = 2.f*
height
();

35098 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),2048))

35099 
cimg_fÜXYZC
(
»s
,
x
,
y
,
z
,
c
) {

35100 cÚ¡ 
	gxc
 = 
x
 - 
rw2
, 
	gyc
 = 
y
 - 
rh2
,

35101 
	gmx
 = 
cimg
::
mod
(
w2
 + 
xc
*
ÿ
 + 
yc
*
§
,
ww
),

35102 
	gmy
 = 
cimg
::
mod
(
h2
 - 
xc
*
§
 + 
yc
*
ÿ
,
hh
);

35103 
»s
(
x
,
y
,
z
,
c
èğ(
T
)
_lš—r_©XY
(
mx
<
width
()?mx:
ww
 - mx - 1,
my
<
height
()?my:
hh
 - my - 1,z,c);

35107 cÚ¡ 
ww
 = 2*
width
(), 
	ghh
 = 2*
height
();

35108 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),2048))

35109 
cimg_fÜXYZC
(
»s
,
x
,
y
,
z
,
c
) {

35110 cÚ¡ 
	gxc
 = 
x
 - 
rw2
, 
	gyc
 = 
y
 - 
rh2
,

35111 
	gmx
 = 
cimg
::
mod
(()cimg::
round
(
w2
 + 
xc
*
ÿ
 + 
yc
*
§
),
ww
),

35112 
	gmy
 = 
cimg
::
mod
(()cimg::
round
(
h2
 - 
xc
*
§
 + 
yc
*
ÿ
),
hh
);

35113 
»s
(
x
,
y
,
z
,
c
èğ(*
this
)(
mx
<
width
()?mx:
ww
 - mx - 1,
	gmy
<
height
()?my:
hh
 - 
my
 - 1,
	gz
,
	gc
);

35120 
š‹½Ş©iÚ
) {

35122 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),2048))

35123 
cimg_fÜXYZC
(
»s
,
x
,
y
,
z
,
c
) {

35124 cÚ¡ 
	gxc
 = 
x
 - 
rw2
, 
	gyc
 = 
y
 - 
rh2
;

35125 
»s
(
x
,
y
,
z
,
c
èğ
_cubic_©XY_pc
(
w2
 + 
xc
*
ÿ
 + 
yc
*
§
,
h2
 - xc*sa + yc*ca,z,c);

35129 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),2048))

35130 
cimg_fÜXYZC
(
»s
,
x
,
y
,
z
,
c
) {

35131 cÚ¡ 
	gxc
 = 
x
 - 
rw2
, 
	gyc
 = 
y
 - 
rh2
;

35132 
»s
(
x
,
y
,
z
,
c
èğ(
T
)
_lš—r_©XY_p
(
w2
 + 
xc
*
ÿ
 + 
yc
*
§
,
h2
 - xc*sa + yc*ca,z,c);

35136 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),2048))

35137 
cimg_fÜXYZC
(
»s
,
x
,
y
,
z
,
c
) {

35138 cÚ¡ 
	gxc
 = 
x
 - 
rw2
, 
	gyc
 = 
y
 - 
rh2
;

35139 
»s
(
x
,
y
,
z
,
c
èğ(*
this
)(
cimg
::
mod
(()cimg::
round
(
w2
 + 
xc
*
ÿ
 + 
yc
*
§
),()
width
()),

35140 
	gcimg
::
mod
(()
cimg
::
round
(
h2
 - 
xc
*
§
 + 
yc
*
ÿ
),()
height
()),
	gz
,
	gc
);

35146 
š‹½Ş©iÚ
) {

35148 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),2048))

35149 
cimg_fÜXYZC
(
»s
,
x
,
y
,
z
,
c
) {

35150 cÚ¡ 
	gxc
 = 
x
 - 
rw2
, 
	gyc
 = 
y
 - 
rh2
;

35151 
»s
(
x
,
y
,
z
,
c
èğ
_cubic_©XY_c
(
w2
 + 
xc
*
ÿ
 + 
yc
*
§
,
h2
 - xc*sa + yc*ca,z,c);

35155 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),2048))

35156 
cimg_fÜXYZC
(
»s
,
x
,
y
,
z
,
c
) {

35157 cÚ¡ 
	gxc
 = 
x
 - 
rw2
, 
	gyc
 = 
y
 - 
rh2
;

35158 
»s
(
x
,
y
,
z
,
c
èğ(
T
)
_lš—r_©XY
(
w2
 + 
xc
*
ÿ
 + 
yc
*
§
,
h2
 - xc*sa + yc*ca,z,c);

35162 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),2048))

35163 
cimg_fÜXYZC
(
»s
,
x
,
y
,
z
,
c
) {

35164 cÚ¡ 
	gxc
 = 
x
 - 
rw2
, 
	gyc
 = 
y
 - 
rh2
;

35165 
»s
(
x
,
y
,
z
,
c
èğ
_©XY
(()
cimg
::
round
(
w2
 + 
xc
*
ÿ
 + 
yc
*
§
),

35166 ()
cimg
::
round
(
h2
 - 
xc
*
§
 + 
yc
*
ÿ
),
z
,
c
);

35172 
š‹½Ş©iÚ
) {

35174 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),2048))

35175 
cimg_fÜXYZC
(
»s
,
x
,
y
,
z
,
c
) {

35176 cÚ¡ 
	gxc
 = 
x
 - 
rw2
, 
	gyc
 = 
y
 - 
rh2
;

35177 
»s
(
x
,
y
,
z
,
c
èğ
cubic_©XY_c
(
w2
 + 
xc
*
ÿ
 + 
yc
*
§
,
h2
 - xc*§ + yc*ÿ,z,c,(
T
)0);

35181 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),2048))

35182 
cimg_fÜXYZC
(
»s
,
x
,
y
,
z
,
c
) {

35183 cÚ¡ 
	gxc
 = 
x
 - 
rw2
, 
	gyc
 = 
y
 - 
rh2
;

35184 
»s
(
x
,
y
,
z
,
c
èğ(
T
)
lš—r_©XY
(
w2
 + 
xc
*
ÿ
 + 
yc
*
§
,
h2
 - xc*sa + yc*ca,z,c,(T)0);

35188 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),2048))

35189 
cimg_fÜXYZC
(
»s
,
x
,
y
,
z
,
c
) {

35190 cÚ¡ 
	gxc
 = 
x
 - 
rw2
, 
	gyc
 = 
y
 - 
rh2
;

35191 
»s
(
x
,
y
,
z
,
c
èğ
©XY
(()
cimg
::
round
(
w2
 + 
xc
*
ÿ
 + 
yc
*
§
),

35192 ()
cimg
::
round
(
h2
 - 
xc
*
§
 + 
yc
*
ÿ
),
z
,
c
,(
T
)0);

35210 
	gCImg
<
	gT
> 
rÙ©e
(cÚ¡ 
u
, cÚ¡ 
v
, cÚ¡ 
w
, cÚ¡ 
ªgË
,

35211 cÚ¡ 
š‹½Ş©iÚ
, cÚ¡ 
bound¬y_cÚd™iÚs
) {

35212 cÚ¡ 
	gÇngË
 = 
cimg
::
mod
(
ªgË
,360.f);

35213 ià(
	gÇngË
==0.fè *
this
;

35214  
g‘_rÙ©e
(
u
,
v
,
w
,
ÇngË
,
š‹½Ş©iÚ
,
bound¬y_cÚd™iÚs
).
move_to
(*
this
);

35218 
	gCImg
<
	gT
> 
g‘_rÙ©e
(cÚ¡ 
u
, cÚ¡ 
v
, cÚ¡ 
w
, cÚ¡ 
ªgË
,

35219 cÚ¡ 
š‹½Ş©iÚ
, cÚ¡ 
bound¬y_cÚd™iÚs
) const {

35220 ià(
is_em±y
()è *
	gthis
;

35221 
	gCImg
<
	gT
> 
	g»s
;

35223 
	gw1
 = 
_width
 - 1, 
	gh1
 = 
_height
 - 1, 
	gd1
 = 
_d•th
 -1,

35224 
	gw2
 = 0.5f*
w1
, 
	gh2
 = 0.5f*
h1
, 
	gd2
 = 0.5f*
d1
;

35225 
	gCImg
<
	gæßtT
> 
	gR
 = 
CImg
<
æßtT
>::
rÙ©iÚ_m©rix
(
u
,
v
,
w
,
ªgË
);

35226 cÚ¡ 
	gCImg
<
	gTæßt
>

35227 
	gX
 = 
R
*
CImg
<
Tæßt
>(8,3,1,1,

35228 0.f,
	gw1
,w1,0.f,0.f,w1,w1,0.f,

35229 0.f,0.f,
	gh1
,h1,0.f,0.f,h1,h1,

35230 0.f,0.f,0.f,0.f,
	gd1
,d1,d1,d1);

35232 
	gxm
, 
	gxM
 = 
X
.
g‘_sh¬ed_row
(0).
max_mš
(
xm
),

35233 
	gym
, 
	gyM
 = 
X
.
g‘_sh¬ed_row
(1).
max_mš
(
ym
),

35234 
	gzm
, 
	gzM
 = 
X
.
g‘_sh¬ed_row
(2).
max_mš
(
zm
);

35236 
	gdx
 = ()
cimg
::
round
(
xM
 - 
xm
),

35237 
	gdy
 = ()
cimg
::
round
(
yM
 - 
ym
),

35238 
	gdz
 = ()
cimg
::
round
(
zM
 - 
zm
);

35239 
	gR
.
Œª¥o£
();

35240 
	g»s
.
assign
(1 + 
dx
,1 + 
dy
,1 + 
dz
,
_¥eùrum
);

35241 cÚ¡ 
	grw2
 = 0.5f*
dx
, 
	grh2
 = 0.5f*
dy
, 
	grd2
 = 0.5f*
dz
;

35242 
_rÙ©e
(
»s
,
R
,
š‹½Ş©iÚ
,
bound¬y_cÚd™iÚs
,
w2
,
h2
,
d2
,
rw2
,
rh2
,
rd2
);

35243  
	g»s
;

35259 
	gCImg
<
	gT
> 
rÙ©e
(cÚ¡ 
u
, cÚ¡ 
v
, cÚ¡ 
w
, cÚ¡ 
ªgË
,

35260 cÚ¡ 
cx
, cÚ¡ 
cy
, cÚ¡ 
cz
,

35261 cÚ¡ 
š‹½Ş©iÚ
=1, cÚ¡ 
bound¬y_cÚd™iÚs
=0) {

35262 cÚ¡ 
ÇngË
 = 
cimg
::
mod
(
ªgË
,360.f);

35263 ià(
	gÇngË
==0.fè *
this
;

35264  
g‘_rÙ©e
(
u
,
v
,
w
,
ÇngË
,
cx
,
cy
,
cz
,
š‹½Ş©iÚ
,
bound¬y_cÚd™iÚs
).
move_to
(*
this
);

35268 
	gCImg
<
	gT
> 
g‘_rÙ©e
(cÚ¡ 
u
, cÚ¡ 
v
, cÚ¡ 
w
, cÚ¡ 
ªgË
,

35269 cÚ¡ 
cx
, cÚ¡ 
cy
, cÚ¡ 
cz
,

35270 cÚ¡ 
š‹½Ş©iÚ
=1, cÚ¡ 
bound¬y_cÚd™iÚs
=0) const {

35271 ià(
is_em±y
()è *
this
;

35272 
	gCImg
<
	gT
> 
»s
(
_width
,
_height
,
_d•th
,
_¥eùrum
);

35273 
	gCImg
<
	gæßtT
> 
	gR
 = 
CImg
<
æßtT
>::
rÙ©iÚ_m©rix
(
u
,
v
,
w
,-
ªgË
);

35274 
_rÙ©e
(
»s
,
R
,
š‹½Ş©iÚ
,
bound¬y_cÚd™iÚs
,
cx
,
cy
,
cz
,cx,cy,cz);

35275  
	g»s
;

35279 
_rÙ©e
(
CImg
<
T
>& 
»s
, cÚ¡ CImg<
Tæßt
>& 
R
,

35280 cÚ¡ 
š‹½Ş©iÚ
, cÚ¡ 
bound¬y_cÚd™iÚs
,

35281 cÚ¡ 
w2
, cÚ¡ 
h2
, cÚ¡ 
d2
,

35282 cÚ¡ 
rw2
, cÚ¡ 
rh2
, cÚ¡ 
rd2
) const {

35283 
	gbound¬y_cÚd™iÚs
) {

35285 
š‹½Ş©iÚ
) {

35287 cÚ¡ 
ww
 = 2.f*
width
(), 
	ghh
 = 2.f*
height
(), 
	gdd
 = 2.f*
d•th
();

35288 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if_size
(
»s
.
size
(),2048))

35289 
cimg_fÜXYZ
(
»s
,
x
,
y
,
z
) {

35291 
	gxc
 = 
x
 - 
rw2
, 
	gyc
 = 
y
 - 
rh2
, 
	gzc
 = 
z
 - 
rd2
,

35292 
	gX
 = 
cimg
::
mod
(()(
w2
 + 
R
(0,0)*
xc
 + R(1,0)*
yc
 + R(2,0)*
zc
),
ww
),

35293 
	gY
 = 
cimg
::
mod
(()(
h2
 + 
R
(0,1)*
xc
 + R(1,1)*
yc
 + R(2,1)*
zc
),
hh
),

35294 
	gZ
 = 
cimg
::
mod
(()(
d2
 + 
R
(0,2)*
xc
 + R(1,2)*
yc
 + R(2,2)*
zc
),
dd
);

35295 
cimg_fÜC
(
»s
,
c
è»s(
x
,
y
,
z
,cèğ
_cubic_©XYZ_c
(
X
<
width
()?X:
ww
 - X - 1,

35296 
Y
<
height
()?Y:
hh
 - Y - 1,

35297 
Z
<
d•th
()?Z:
dd
 - Z - 
z
,
c
);

35301 cÚ¡ 
ww
 = 2.f*
width
(), 
	ghh
 = 2.f*
height
(), 
	gdd
 = 2.f*
d•th
();

35302 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if_size
(
»s
.
size
(),2048))

35303 
cimg_fÜXYZ
(
»s
,
x
,
y
,
z
) {

35305 
	gxc
 = 
x
 - 
rw2
, 
	gyc
 = 
y
 - 
rh2
, 
	gzc
 = 
z
 - 
rd2
,

35306 
	gX
 = 
cimg
::
mod
(()(
w2
 + 
R
(0,0)*
xc
 + R(1,0)*
yc
 + R(2,0)*
zc
),
ww
),

35307 
	gY
 = 
cimg
::
mod
(()(
h2
 + 
R
(0,1)*
xc
 + R(1,1)*
yc
 + R(2,1)*
zc
),
hh
),

35308 
	gZ
 = 
cimg
::
mod
(()(
d2
 + 
R
(0,2)*
xc
 + R(1,2)*
yc
 + R(2,2)*
zc
),
dd
);

35309 
cimg_fÜC
(
»s
,
c
è»s(
x
,
y
,
z
,cèğ(
T
)
_lš—r_©XYZ
(
X
<
width
()?X:
ww
 - X - 1,

35310 
Y
<
height
()?Y:
hh
 - Y - 1,

35311 
Z
<
d•th
()?Z:
dd
 - Z - 1,
c
);

35315 cÚ¡ 
ww
 = 2*
width
(), 
	ghh
 = 2*
height
(), 
	gdd
 = 2*
d•th
();

35316 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if_size
(
»s
.
size
(),2048))

35317 
cimg_fÜXYZ
(
»s
,
x
,
y
,
z
) {

35318 cÚ¡ 
	gxc
 = 
x
 - 
rw2
, 
	gyc
 = 
y
 - 
rh2
, 
	gzc
 = 
z
 - 
rd2
;

35320 
	gX
 = 
cimg
::
mod
(()cimg::
round
(
w2
 + 
R
(0,0)*
xc
 + R(1,0)*
yc
 + R(2,0)*
zc
),
ww
),

35321 
	gY
 = 
cimg
::
mod
(()cimg::
round
(
h2
 + 
R
(0,1)*
xc
 + R(1,1)*
yc
 + R(2,1)*
zc
),
hh
),

35322 
	gZ
 = 
cimg
::
mod
(()cimg::
round
(
d2
 + 
R
(0,2)*
xc
 + R(1,2)*
yc
 + R(2,2)*
zc
),
dd
);

35323 
cimg_fÜC
(
»s
,
c
è»s(
x
,
y
,
z
,cèğ(*
this
)(
X
<
width
()?X:
ww
 - X - 1,

35324 
	gY
<
height
()?Y:
hh
 - 
Y
 - 1,

35325 
	gZ
<
d•th
()?Z:
dd
 - 
Z
 - 1,
	gc
);

35331 
š‹½Ş©iÚ
) {

35333 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if_size
(
»s
.
size
(),2048))

35334 
cimg_fÜXYZ
(
»s
,
x
,
y
,
z
) {

35336 
	gxc
 = 
x
 - 
rw2
, 
	gyc
 = 
y
 - 
rh2
, 
	gzc
 = 
z
 - 
rd2
,

35337 
	gX
 = 
w2
 + 
R
(0,0)*
	gxc
 + R(1,0)*
	gyc
 + R(2,0)*
	gzc
,

35338 
	gY
 = 
h2
 + 
R
(0,1)*
	gxc
 + R(1,1)*
	gyc
 + R(2,1)*
	gzc
,

35339 
	gZ
 = 
d2
 + 
R
(0,2)*
	gxc
 + R(1,2)*
	gyc
 + R(2,2)*
	gzc
;

35340 
cimg_fÜC
(
»s
,
c
è»s(
x
,
y
,
z
,cèğ
_cubic_©XYZ_pc
(
X
,
Y
,
Z
,c);

35344 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if_size
(
»s
.
size
(),2048))

35345 
cimg_fÜXYZ
(
»s
,
x
,
y
,
z
) {

35347 
	gxc
 = 
x
 - 
rw2
, 
	gyc
 = 
y
 - 
rh2
, 
	gzc
 = 
z
 - 
rd2
,

35348 
	gX
 = 
w2
 + 
R
(0,0)*
	gxc
 + R(1,0)*
	gyc
 + R(2,0)*
	gzc
,

35349 
	gY
 = 
h2
 + 
R
(0,1)*
	gxc
 + R(1,1)*
	gyc
 + R(2,1)*
	gzc
,

35350 
	gZ
 = 
d2
 + 
R
(0,2)*
	gxc
 + R(1,2)*
	gyc
 + R(2,2)*
	gzc
;

35351 
cimg_fÜC
(
»s
,
c
è»s(
x
,
y
,
z
,cèğ(
T
)
_lš—r_©XYZ_p
(
X
,
Y
,
Z
,c);

35355 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if_size
(
»s
.
size
(),2048))

35356 
cimg_fÜXYZ
(
»s
,
x
,
y
,
z
) {

35357 cÚ¡ 
	gxc
 = 
x
 - 
rw2
, 
	gyc
 = 
y
 - 
rh2
, 
	gzc
 = 
z
 - 
rd2
;

35359 
	gX
 = 
cimg
::
mod
(()cimg::
round
(
w2
 + 
R
(0,0)*
xc
 + R(1,0)*
yc
 + R(2,0)*
zc
),
width
()),

35360 
	gY
 = 
cimg
::
mod
(()cimg::
round
(
h2
 + 
R
(0,1)*
xc
 + R(1,1)*
yc
 + R(2,1)*
zc
),
height
()),

35361 
	gZ
 = 
cimg
::
mod
(()cimg::
round
(
d2
 + 
R
(0,2)*
xc
 + R(1,2)*
yc
 + R(2,2)*
zc
),
d•th
());

35362 
cimg_fÜC
(
»s
,
c
è»s(
x
,
y
,
z
,cèğ(*
this
)(
X
,
	gY
,
	gZ
,
	gc
);

35368 
š‹½Ş©iÚ
) {

35370 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if_size
(
»s
.
size
(),2048))

35371 
cimg_fÜXYZ
(
»s
,
x
,
y
,
z
) {

35373 
	gxc
 = 
x
 - 
rw2
, 
	gyc
 = 
y
 - 
rh2
, 
	gzc
 = 
z
 - 
rd2
,

35374 
	gX
 = 
w2
 + 
R
(0,0)*
	gxc
 + R(1,0)*
	gyc
 + R(2,0)*
	gzc
,

35375 
	gY
 = 
h2
 + 
R
(0,1)*
	gxc
 + R(1,1)*
	gyc
 + R(2,1)*
	gzc
,

35376 
	gZ
 = 
d2
 + 
R
(0,2)*
	gxc
 + R(1,2)*
	gyc
 + R(2,2)*
	gzc
;

35377 
cimg_fÜC
(
»s
,
c
è»s(
x
,
y
,
z
,cèğ
_cubic_©XYZ_c
(
X
,
Y
,
Z
,c);

35381 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if_size
(
»s
.
size
(),2048))

35382 
cimg_fÜXYZ
(
»s
,
x
,
y
,
z
) {

35384 
	gxc
 = 
x
 - 
rw2
, 
	gyc
 = 
y
 - 
rh2
, 
	gzc
 = 
z
 - 
rd2
,

35385 
	gX
 = 
w2
 + 
R
(0,0)*
	gxc
 + R(1,0)*
	gyc
 + R(2,0)*
	gzc
,

35386 
	gY
 = 
h2
 + 
R
(0,1)*
	gxc
 + R(1,1)*
	gyc
 + R(2,1)*
	gzc
,

35387 
	gZ
 = 
d2
 + 
R
(0,2)*
	gxc
 + R(1,2)*
	gyc
 + R(2,2)*
	gzc
;

35388 
cimg_fÜC
(
»s
,
c
è»s(
x
,
y
,
z
,cèğ
_lš—r_©XYZ
(
X
,
Y
,
Z
,c);

35392 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if_size
(
»s
.
size
(),2048))

35393 
cimg_fÜXYZ
(
»s
,
x
,
y
,
z
) {

35394 cÚ¡ 
	gxc
 = 
x
 - 
rw2
, 
	gyc
 = 
y
 - 
rh2
, 
	gzc
 = 
z
 - 
rd2
;

35396 
	gX
 = ()
cimg
::
round
(
w2
 + 
R
(0,0)*
xc
 + R(1,0)*
yc
 + R(2,0)*
zc
),

35397 
	gY
 = ()
cimg
::
round
(
h2
 + 
R
(0,1)*
xc
 + R(1,1)*
yc
 + R(2,1)*
zc
),

35398 
	gZ
 = ()
cimg
::
round
(
d2
 + 
R
(0,2)*
xc
 + R(1,2)*
yc
 + R(2,2)*
zc
);

35399 
cimg_fÜC
(
»s
,
c
è»s(
x
,
y
,
z
,cèğ
_©XYZ
(
X
,
Y
,
Z
,c);

35405 
š‹½Ş©iÚ
) {

35407 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if_size
(
»s
.
size
(),2048))

35408 
cimg_fÜXYZ
(
»s
,
x
,
y
,
z
) {

35410 
	gxc
 = 
x
 - 
rw2
, 
	gyc
 = 
y
 - 
rh2
, 
	gzc
 = 
z
 - 
rd2
,

35411 
	gX
 = 
w2
 + 
R
(0,0)*
	gxc
 + R(1,0)*
	gyc
 + R(2,0)*
	gzc
,

35412 
	gY
 = 
h2
 + 
R
(0,1)*
	gxc
 + R(1,1)*
	gyc
 + R(2,1)*
	gzc
,

35413 
	gZ
 = 
d2
 + 
R
(0,2)*
	gxc
 + R(1,2)*
	gyc
 + R(2,2)*
	gzc
;

35414 
cimg_fÜC
(
»s
,
c
è»s(
x
,
y
,
z
,cèğ
cubic_©XYZ_c
(
X
,
Y
,
Z
,c,(
T
)0);

35418 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if_size
(
»s
.
size
(),2048))

35419 
cimg_fÜXYZ
(
»s
,
x
,
y
,
z
) {

35421 
	gxc
 = 
x
 - 
rw2
, 
	gyc
 = 
y
 - 
rh2
, 
	gzc
 = 
z
 - 
rd2
,

35422 
	gX
 = 
w2
 + 
R
(0,0)*
	gxc
 + R(1,0)*
	gyc
 + R(2,0)*
	gzc
,

35423 
	gY
 = 
h2
 + 
R
(0,1)*
	gxc
 + R(1,1)*
	gyc
 + R(2,1)*
	gzc
,

35424 
	gZ
 = 
d2
 + 
R
(0,2)*
	gxc
 + R(1,2)*
	gyc
 + R(2,2)*
	gzc
;

35425 
cimg_fÜC
(
»s
,
c
è»s(
x
,
y
,
z
,cèğ
lš—r_©XYZ
(
X
,
Y
,
Z
,c,(
T
)0);

35429 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if_size
(
»s
.
size
(),2048))

35430 
cimg_fÜXYZ
(
»s
,
x
,
y
,
z
) {

35431 cÚ¡ 
	gxc
 = 
x
 - 
rw2
, 
	gyc
 = 
y
 - 
rh2
, 
	gzc
 = 
z
 - 
rd2
;

35433 
	gX
 = ()
cimg
::
round
(
w2
 + 
R
(0,0)*
xc
 + R(1,0)*
yc
 + R(2,0)*
zc
),

35434 
	gY
 = ()
cimg
::
round
(
h2
 + 
R
(0,1)*
xc
 + R(1,1)*
yc
 + R(2,1)*
zc
),

35435 
	gZ
 = ()
cimg
::
round
(
d2
 + 
R
(0,2)*
xc
 + R(1,2)*
yc
 + R(2,2)*
zc
);

35436 
cimg_fÜC
(
»s
,
c
è»s(
x
,
y
,
z
,cèğ
©XYZ
(
X
,
Y
,
Z
,c,(
T
)0);

35450 
	g‹m¶©e
<
ty³Çme
 
	gt
>

35451 
	gCImg
<
	gT
>& 
w¬p
(cÚ¡ 
CImg
<
t
>& 
p_w¬p
, cÚ¡ 
mode
=0,

35452 cÚ¡ 
š‹½Ş©iÚ
=1, cÚ¡ 
bound¬y_cÚd™iÚs
=0) {

35453  
g‘_w¬p
(
p_w¬p
,
mode
,
š‹½Ş©iÚ
,
bound¬y_cÚd™iÚs
).
move_to
(*
this
);

35457 
	g‹m¶©e
<
ty³Çme
 
	gt
>

35458 
	gCImg
<
	gT
> 
g‘_w¬p
(cÚ¡ 
CImg
<
t
>& 
p_w¬p
, cÚ¡ 
mode
=0,

35459 cÚ¡ 
š‹½Ş©iÚ
=1, cÚ¡ 
bound¬y_cÚd™iÚs
=0) const {

35460 ià(
is_em±y
(è|| !
p_w¬p
è *
this
;

35461 ià(
	gmode
 && !
is_§meXYZ
(
p_w¬p
))

35462 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


35465 
cimg_š¡ªû
,

35466 
p_w¬p
.
_width
,p_w¬p.
_height
,p_w¬p.
_d•th
,p_w¬p.
_¥eùrum
,p_w¬p.
_d©a
);

35468 
	gCImg
<
	gT
> 
»s
(
p_w¬p
.
_width
,p_w¬p.
_height
,p_w¬p.
_d•th
,
_¥eùrum
);

35470 ià(
	gp_w¬p
.
	g_¥eùrum
==1) {

35471 ià(
mode
>=3) {

35472 
»s
.
fl
((
T
)0);

35473 ià(
	gš‹½Ş©iÚ
>=1)

35474 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35475 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35476 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); cÚ¡ 
T
 *
	g±rs
 = d©a(0,y,z,
c
);

35477 
cimg_fÜX
(
»s
,
x
è
	g»s
.
£t_lš—r_©X
(*(
±rs
++),x + ()*(
±rs0
++),
y
,
z
,
c
);

35480 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35481 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); cÚ¡ 
T
 *
	g±rs
 = d©a(0,y,z,
c
);

35482 
cimg_fÜX
(
»s
,
x
) {

35483 cÚ¡ 
	gX
 = 
x
 + ()
cimg
::
round
(*(
±rs0
++));

35484 ià(
	gX
>=0 && 
X
<
width
()è
»s
(X,
y
,
z
,
c
èğ*(
±rs
++);

35487 } ià(
	gmode
==2) {

35488 
»s
.
fl
((
T
)0);

35489 ià(
	gš‹½Ş©iÚ
>=1)

35490 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35491 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35492 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); cÚ¡ 
T
 *
	g±rs
 = d©a(0,y,z,
c
);

35493 
cimg_fÜX
(
»s
,
x
è
	g»s
.
£t_lš—r_©X
(*(
±rs
++),()*(
±rs0
++),
y
,
z
,
c
);

35496 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35497 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); cÚ¡ 
T
 *
	g±rs
 = d©a(0,y,z,
c
);

35498 
cimg_fÜX
(
»s
,
x
) {

35499 cÚ¡ 
	gX
 = ()
cimg
::
round
(*(
±rs0
++));

35500 ià(
	gX
>=0 && 
X
<
width
()è
»s
(X,
y
,
z
,
c
èğ*(
±rs
++);

35503 } ià(
	gmode
==1) {

35504 ià(
š‹½Ş©iÚ
==2)

35505 
bound¬y_cÚd™iÚs
) {

35507 cÚ¡ 
w2
 = 2.f*
width
();

35508 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35509 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35510 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35511 
cimg_fÜX
(
»s
,
x
) {

35512 cÚ¡ 
	gmx
 = 
cimg
::
mod
(
x
 - ()*(
±rs0
++),
w2
);

35513 *(
	g±rd
++èğ
_cubic_©X_c
(
mx
<
width
()?mx:
w2
 - mx - 1,
y
,
z
,
c
);

35518 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35519 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35520 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35521 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
_cubic_©X_pc
(x - ()*(
±rs0
++),
y
,
z
,
c
);

35525 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35526 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35527 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35528 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
_cubic_©X_c
(x - ()*(
±rs0
++),
y
,
z
,
c
);

35532 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35533 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35534 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35535 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
cubic_©X_c
(x - ()*(
±rs0
++),
y
,
z
,
c
,(
T
)0);

35538 ià(
	gš‹½Ş©iÚ
==1)

35539 
bound¬y_cÚd™iÚs
) {

35541 cÚ¡ 
w2
 = 2.f*
width
();

35542 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35543 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35544 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35545 
cimg_fÜX
(
»s
,
x
) {

35546 cÚ¡ 
	gmx
 = 
cimg
::
mod
(
x
 - ()*(
±rs0
++),
w2
);

35547 *(
	g±rd
++èğ(
T
)
_lš—r_©X
(
mx
<
width
()?mx:
w2
 - mx - 1,
y
,
z
,
c
);

35552 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),1048576))

35553 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35554 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35555 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ(
T
)
_lš—r_©X_p
(x - ()*(
±rs0
++),
y
,
z
,
c
);

35559 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),1048576))

35560 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35561 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35562 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ(
T
)
_lš—r_©X
(x - ()*(
±rs0
++),
y
,
z
,
c
);

35566 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),1048576))

35567 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35568 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35569 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ(
T
)
lš—r_©X
(x - ()*(
±rs0
++),
y
,
z
,
c
,(T)0);

35573 
	gbound¬y_cÚd™iÚs
) {

35575 cÚ¡ 
w2
 = 2*
width
();

35576 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35577 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35578 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35579 
cimg_fÜX
(
»s
,
x
) {

35580 cÚ¡ 
	gmx
 = 
cimg
::
mod
(
x
 - ()cimg::
round
(*(
±rs0
++)),
w2
);

35581 *(
	g±rd
++èğ(*
this
)(
mx
<
width
()?mx:
w2
 - mx - 1,
	gy
,
	gz
,
	gc
);

35586 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35587 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35588 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ(*
this
)(
cimg
::
mod
(x - ()cimg::
round
(*(
±rs0
++)),
width
()),
	gy
,
	gz
,
	gc
);

35592 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35593 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35594 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
_©X
(x - ()
cimg
::
round
(*(
±rs0
++)),
y
,
z
,
c
);

35598 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35599 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35600 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
©X
(x - ()
cimg
::
round
(*(
±rs0
++)),
y
,
z
,
c
,(
T
)0);

35605 ià(
	gš‹½Ş©iÚ
==2)

35606 
bound¬y_cÚd™iÚs
) {

35608 cÚ¡ 
w2
 = 2.f*
width
();

35609 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35610 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35611 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35612 
cimg_fÜX
(
»s
,
x
) {

35613 cÚ¡ 
	gmx
 = 
cimg
::
mod
(()*(
±rs0
++),
w2
);

35614 *(
	g±rd
++èğ
_cubic_©X_c
(
mx
<
width
()?mx:
w2
 - mx - 1,0,0,
c
);

35619 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35620 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35621 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35622 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
_cubic_©X_pc
(()*(
±rs0
++),0,0,
c
);

35626 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35627 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35628 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35629 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
_cubic_©X_c
(()*(
±rs0
++),0,0,
c
);

35633 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35634 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35635 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35636 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
cubic_©X_c
(()*(
±rs0
++),0,0,
c
,(
T
)0);

35639 ià(
	gš‹½Ş©iÚ
==1)

35640 
bound¬y_cÚd™iÚs
) {

35642 cÚ¡ 
w2
 = 2.f*
width
();

35643 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35644 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35645 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35646 
cimg_fÜX
(
»s
,
x
) {

35647 cÚ¡ 
	gmx
 = 
cimg
::
mod
(()*(
±rs0
++),
w2
);

35648 *(
	g±rd
++èğ(
T
)
_lš—r_©X
(
mx
<
width
()?mx:
w2
 - mx - 1,0,0,
c
);

35653 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),1048576))

35654 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35655 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35656 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ(
T
)
_lš—r_©X_p
(()*(
±rs0
++),0,0,
c
);

35660 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),1048576))

35661 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35662 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35663 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ(
T
)
_lš—r_©X
(()*(
±rs0
++),0,0,
c
);

35667 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),1048576))

35668 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35669 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35670 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ(
T
)
lš—r_©X
(()*(
±rs0
++),0,0,
c
,(T)0);

35674 
	gbound¬y_cÚd™iÚs
) {

35676 cÚ¡ 
w2
 = 2*
width
();

35677 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35678 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35679 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35680 
cimg_fÜX
(
»s
,
x
) {

35681 cÚ¡ 
	gmx
 = 
cimg
::
mod
(()cimg::
round
(*(
±rs0
++)),
w2
);

35682 *(
	g±rd
++èğ(*
this
)(
mx
<
width
()?mx:
w2
 - mx - 1,0,0,
	gc
);

35687 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35688 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35689 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ(*
this
)(
cimg
::
mod
(()cimg::
round
(*(
±rs0
++)),
width
()),0,0,
	gc
);

35693 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35694 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35695 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
_©X
(()
cimg
::
round
(*(
±rs0
++)),0,0,
c
);

35699 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35700 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35701 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
©X
(()
cimg
::
round
(*(
±rs0
++)),0,0,
c
,(
T
)0);

35706 } ià(
	gp_w¬p
.
	g_¥eùrum
==2) {

35707 ià(
mode
>=3) {

35708 
»s
.
fl
((
T
)0);

35709 ià(
	gš‹½Ş©iÚ
>=1)

35710 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35711 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35712 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); cÚ¡ 
T
 *
	g±rs
 = d©a(0,y,z,
c
);

35713 
cimg_fÜX
(
»s
,
x
è
	g»s
.
£t_lš—r_©XY
(*(
±rs
++),x + ()*(
±rs0
++),
y
 + ()*(
±rs1
++),
z
,
c
);

35716 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35717 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); cÚ¡ 
T
 *
	g±rs
 = d©a(0,y,z,
c
);

35718 
cimg_fÜX
(
»s
,
x
) {

35719 cÚ¡ 
	gX
 = 
x
 + ()
cimg
::
round
(*(
±rs0
++)), 
	gY
 = 
y
 + ()cimg::round(*(
±rs1
++));

35720 ià(
	gX
>=0 && 
X
<
width
(è&& 
Y
>=0 && Y<
height
()è
»s
(X,Y,
z
,
c
èğ*(
±rs
++);

35723 } ià(
	gmode
==2) {

35724 
»s
.
fl
((
T
)0);

35725 ià(
	gš‹½Ş©iÚ
>=1)

35726 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35727 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35728 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); cÚ¡ 
T
 *
	g±rs
 = d©a(0,y,z,
c
);

35729 
cimg_fÜX
(
»s
,
x
è
	g»s
.
£t_lš—r_©XY
(*(
±rs
++),()*(
±rs0
++),()*(
±rs1
++),
z
,
c
);

35732 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35733 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); cÚ¡ 
T
 *
	g±rs
 = d©a(0,y,z,
c
);

35734 
cimg_fÜX
(
»s
,
x
) {

35735 cÚ¡ 
	gX
 = ()
cimg
::
round
(*(
±rs0
++)), 
	gY
 = ()cimg::round(*(
±rs1
++));

35736 ià(
	gX
>=0 && 
X
<
width
(è&& 
Y
>=0 && Y<
height
()è
»s
(X,Y,
z
,
c
èğ*(
±rs
++);

35739 } ià(
	gmode
==1) {

35740 ià(
š‹½Ş©iÚ
==2)

35741 
bound¬y_cÚd™iÚs
) {

35743 cÚ¡ 
w2
 = 2.f*
width
(), 
	gh2
 = 2.f*
height
();

35744 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35745 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35746 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35747 
cimg_fÜX
(
»s
,
x
) {

35749 
	gmx
 = 
cimg
::
mod
(
x
 - ()*(
±rs0
++),
w2
),

35750 
	gmy
 = 
cimg
::
mod
(
y
 - ()*(
±rs1
++),
h2
);

35751 *(
	g±rd
++èğ
_cubic_©XY_c
(
mx
<
width
()?mx:
w2
 - mx - 1,
my
<
height
()?my:
h2
 - my - 1,
z
,
c
);

35756 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35757 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35758 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35759 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
_cubic_©XY_pc
(x - ()*(
±rs0
++),
y
 - ()*(
±rs1
++),
z
,
c
);

35763 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35764 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35765 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35766 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
_cubic_©XY_c
(x - ()*(
±rs0
++),
y
 - ()*(
±rs1
++),
z
,
c
);

35770 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35771 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35772 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35773 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
cubic_©XY_c
(x - ()*(
±rs0
++),
y
 - ()*(
±rs1
++),
z
,
c
,(
T
)0);

35776 ià(
	gš‹½Ş©iÚ
==1)

35777 
bound¬y_cÚd™iÚs
) {

35779 cÚ¡ 
w2
 = 2.f*
width
(), 
	gh2
 = 2.f*
height
();

35780 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35781 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35782 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35783 
cimg_fÜX
(
»s
,
x
) {

35785 
	gmx
 = 
cimg
::
mod
(
x
 - ()*(
±rs0
++),
w2
),

35786 
	gmy
 = 
cimg
::
mod
(
y
 - ()*(
±rs1
++),
h2
);

35787 *(
	g±rd
++èğ(
T
)
_lš—r_©XY
(
mx
<
width
()?mx:
w2
 - mx - 1,
my
<
height
()?my:
h2
 - my - 1,
z
,
c
);

35792 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),1048576))

35793 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35794 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35795 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ(
T
)
_lš—r_©XY_p
(x - ()*(
±rs0
++),
y
 - ()*(
±rs1
++),
z
,
c
);

35799 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),1048576))

35800 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35801 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35802 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ(
T
)
_lš—r_©XY
(x - ()*(
±rs0
++),
y
 - ()*(
±rs1
++),
z
,
c
);

35806 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),1048576))

35807 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35808 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35809 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ(
T
)
lš—r_©XY
(x - ()*(
±rs0
++),
y
 - ()*(
±rs1
++),
z
,
c
,(T)0);

35813 
	gbound¬y_cÚd™iÚs
) {

35815 cÚ¡ 
w2
 = 2*
width
(), 
	gh2
 = 2*
height
();

35816 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35817 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35818 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35819 
cimg_fÜX
(
»s
,
x
) {

35821 
	gmx
 = 
cimg
::
mod
(
x
 - ()cimg::
round
(*(
±rs0
++)),
w2
),

35822 
	gmy
 = 
cimg
::
mod
(
y
 - ()cimg::
round
(*(
±rs1
++)),
h2
);

35823 *(
	g±rd
++èğ(*
this
)(
mx
<
width
()?mx:
w2
 - mx - 1,
	gmy
<
height
()?my:
h2
 - 
my
 - 1,
	gz
,
	gc
);

35828 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35829 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35830 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ(*
this
)(
cimg
::
mod
(x - ()cimg::
round
(*(
±rs0
++)),
width
()),

35831 
	gcimg
::
mod
(
y
 - ()
cimg
::
round
(*(
±rs1
++)),
height
()),
	gz
,
	gc
);

35835 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35836 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35837 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
_©XY
(x - ()
cimg
::
round
(*(
±rs0
++)),

35838 
y
 - ()
cimg
::
round
(*(
±rs1
++)),
z
,
c
);

35842 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35843 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35844 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
©XY
(x - ()
cimg
::
round
(*(
±rs0
++)),

35845 
y
 - ()
cimg
::
round
(*(
±rs1
++)),
z
,
c
,(
T
)0);

35849 ià(
	gš‹½Ş©iÚ
==2)

35850 
bound¬y_cÚd™iÚs
) {

35852 cÚ¡ 
w2
 = 2.f*
width
(), 
	gh2
 = 2.f*
height
();

35853 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35854 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35855 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35856 
cimg_fÜX
(
»s
,
x
) {

35858 
	gmx
 = 
cimg
::
mod
(()*(
±rs0
++),
w2
),

35859 
	gmy
 = 
cimg
::
mod
(()*(
±rs1
++),
h2
);

35860 *(
	g±rd
++èğ
_cubic_©XY_c
(
mx
<
width
()?mx:
w2
 - mx - 1,
my
<
height
()?my:
h2
 - my - 1,0,
c
);

35865 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35866 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35867 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35868 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
_cubic_©XY_pc
(()*(
±rs0
++),()*(
±rs1
++),0,
c
);

35872 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35873 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35874 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35875 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
_cubic_©XY_c
(()*(
±rs0
++),()*(
±rs1
++),0,
c
);

35879 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35880 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35881 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35882 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
cubic_©XY_c
(()*(
±rs0
++),()*(
±rs1
++),0,
c
,(
T
)0);

35885 ià(
	gš‹½Ş©iÚ
==1)

35886 
bound¬y_cÚd™iÚs
) {

35888 cÚ¡ 
w2
 = 2.f*
width
(), 
	gh2
 = 2.f*
height
();

35889 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35890 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35891 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35892 
cimg_fÜX
(
»s
,
x
) {

35894 
	gmx
 = 
cimg
::
mod
(()*(
±rs0
++),
w2
),

35895 
	gmy
 = 
cimg
::
mod
(()*(
±rs1
++),
h2
);

35896 *(
	g±rd
++èğ(
T
)
_lš—r_©XY
(
mx
<
width
()?mx:
w2
 - mx - 1,
my
<
height
()?my:
h2
 - my - 1,0,
c
);

35901 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),1048576))

35902 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35903 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35904 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ(
T
)
_lš—r_©XY_p
(()*(
±rs0
++),()*(
±rs1
++),0,
c
);

35908 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),1048576))

35909 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35910 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35911 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ(
T
)
_lš—r_©XY
(()*(
±rs0
++),()*(
±rs1
++),0,
c
);

35915 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),1048576))

35916 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35917 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35918 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ(
T
)
lš—r_©XY
(()*(
±rs0
++),()*(
±rs1
++),0,
c
,(T)0);

35922 
	gbound¬y_cÚd™iÚs
) {

35924 cÚ¡ 
w2
 = 2*
width
(), 
	gh2
 = 2*
height
();

35925 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35926 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35927 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35928 
cimg_fÜX
(
»s
,
x
) {

35930 
	gmx
 = 
cimg
::
mod
(()cimg::
round
(*(
±rs0
++)),
w2
),

35931 
	gmy
 = 
cimg
::
mod
(()cimg::
round
(*(
±rs1
++)),
h2
);

35932 *(
	g±rd
++èğ(*
this
)(
mx
<
width
()?mx:
w2
 - mx - 1,
	gmy
<
height
()?my:
h2
 - 
my
 - 1,0,
	gc
);

35937 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35938 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35939 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ(*
this
)(
cimg
::
mod
(()cimg::
round
(*(
±rs0
++)),
width
()),

35940 
	gcimg
::
mod
(()
cimg
::
round
(*(
±rs1
++)),
height
()),0,
	gc
);

35944 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35945 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35946 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
_©XY
(()
cimg
::
round
(*(
±rs0
++)),

35947 ()
cimg
::
round
(*(
±rs1
++)),0,
c
);

35951 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35952 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1); 
T
 *
	g±rd
 = 
»s
.d©a(0,y,z,
c
);

35953 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
©XY
(()
cimg
::
round
(*(
±rs0
++)),

35954 ()
cimg
::
round
(*(
±rs1
++)),0,
c
,(
T
)0);

35960 ià(
	gmode
>=3) {

35961 
»s
.
fl
((
T
)0);

35962 ià(
	gš‹½Ş©iÚ
>=1)

35963 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35964 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35965 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

35966 cÚ¡ 
T
 *
	g±rs
 = 
d©a
(0,
y
,
z
,
c
);

35967 
cimg_fÜX
(
»s
,
x
è
	g»s
.
£t_lš—r_©XYZ
(*(
±rs
++),x + ()*(
±rs0
++),
y
 + ()*(
±rs1
++),

35968 
z
 + ()*(
±rs2
++),
c
);

35971 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35972 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

35973 cÚ¡ 
T
 *
	g±rs
 = 
d©a
(0,
y
,
z
,
c
);

35974 
cimg_fÜX
(
»s
,
x
) {

35976 
	gX
 = 
x
 + ()
cimg
::
round
(*(
±rs0
++)),

35977 
	gY
 = 
y
 + ()
cimg
::
round
(*(
±rs1
++)),

35978 
	gZ
 = 
z
 + ()
cimg
::
round
(*(
±rs2
++));

35979 ià(
	gX
>=0 && 
X
<
width
(è&& 
Y
>=0 && Y<
height
(è&& 
Z
>=0 && Z<
d•th
()è
»s
(X,Y,Z,
c
èğ*(
±rs
++);

35982 } ià(
	gmode
==2) {

35983 
»s
.
fl
((
T
)0);

35984 ià(
	gš‹½Ş©iÚ
>=1)

35985 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

35986 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35987 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

35988 cÚ¡ 
T
 *
	g±rs
 = 
d©a
(0,
y
,
z
,
c
);

35989 
cimg_fÜX
(
»s
,
x
è
	g»s
.
£t_lš—r_©XYZ
(*(
±rs
++),()*(
±rs0
++),()*(
±rs1
++),()*(
±rs2
++),
c
);

35992 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

35993 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

35994 cÚ¡ 
T
 *
	g±rs
 = 
d©a
(0,
y
,
z
,
c
);

35995 
cimg_fÜX
(
»s
,
x
) {

35997 
	gX
 = ()
cimg
::
round
(*(
±rs0
++)),

35998 
	gY
 = ()
cimg
::
round
(*(
±rs1
++)),

35999 
	gZ
 = ()
cimg
::
round
(*(
±rs2
++));

36000 ià(
	gX
>=0 && 
X
<
width
(è&& 
Y
>=0 && Y<
height
(è&& 
Z
>=0 && Z<
d•th
()è
»s
(X,Y,Z,
c
èğ*(
±rs
++);

36003 } ià(
	gmode
==1) {

36004 ià(
š‹½Ş©iÚ
==2)

36005 
bound¬y_cÚd™iÚs
) {

36007 cÚ¡ 
w2
 = 2.f*
width
(), 
	gh2
 = 2.f*
height
(), 
	gd2
 = 2.f*
d•th
();

36008 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

36009 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

36010 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

36011 
T
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
,
c
);

36012 
cimg_fÜX
(
»s
,
x
) {

36014 
	gmx
 = 
cimg
::
mod
(
x
 - ()*(
±rs0
++),
w2
),

36015 
	gmy
 = 
cimg
::
mod
(
y
 - ()*(
±rs1
++),
h2
),

36016 
	gmz
 = 
cimg
::
mod
(
z
 - ()*(
±rs2
++),
d2
);

36017 *(
	g±rd
++èğ
_cubic_©XYZ_c
(
mx
<
width
()?mx:
w2
 - mx - 1,

36018 
my
<
height
()?my:
h2
 - my - 1,

36019 
mz
<
d•th
()?mz:
d2
 - mz - 1,
c
);

36024 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

36025 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

36026 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

36027 
T
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
,
c
);

36028 
cimg_fÜX
(
»s
,
x
)

36029 *(
	g±rd
++èğ
_cubic_©XYZ_pc
(
x
 - ()*(
±rs0
++),
y
 - ()*(
±rs1
++),
z
 - ()*(
±rs2
++),
c
);

36033 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

36034 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

36035 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

36036 
T
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
,
c
);

36037 
cimg_fÜX
(
»s
,
x
)

36038 *(
	g±rd
++èğ
_cubic_©XYZ_c
(
x
 - ()*(
±rs0
++),
y
 - ()*(
±rs1
++),
z
 - ()*(
±rs2
++),
c
);

36042 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

36043 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

36044 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

36045 
T
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
,
c
);

36046 
cimg_fÜX
(
»s
,
x
)

36047 *(
	g±rd
++èğ
cubic_©XYZ_c
(
x
 - ()*(
±rs0
++),
y
 - ()*(
±rs1
++),
z
 - ()*(
±rs2
++),
c
,(
T
)0);

36050 ià(
	gš‹½Ş©iÚ
==1)

36051 
bound¬y_cÚd™iÚs
) {

36053 cÚ¡ 
w2
 = 2.f*
width
(), 
	gh2
 = 2.f*
height
(), 
	gd2
 = 2.f*
d•th
();

36054 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

36055 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

36056 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

36057 
T
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
,
c
);

36058 
cimg_fÜX
(
»s
,
x
) {

36060 
	gmx
 = 
cimg
::
mod
(
x
 - ()*(
±rs0
++),
w2
),

36061 
	gmy
 = 
cimg
::
mod
(
y
 - ()*(
±rs1
++),
h2
),

36062 
	gmz
 = 
cimg
::
mod
(
z
 - ()*(
±rs2
++),
d2
);

36063 *(
	g±rd
++èğ(
T
)
_lš—r_©XYZ
(
mx
<
width
()?mx:
w2
 - mx - 1,

36064 
my
<
height
()?my:
h2
 - my - 1,

36065 
mz
<
d•th
()?mz:
d2
 - mz - 1,
c
);

36070 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),1048576))

36071 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

36072 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

36073 
T
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
,
c
);

36074 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ(
T
)
_lš—r_©XYZ_p
(x - ()*(
±rs0
++),
y
 - ()*(
±rs1
++),

36075 
z
 - ()*(
±rs2
++),
c
);

36079 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),1048576))

36080 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

36081 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

36082 
T
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
,
c
);

36083 
cimg_fÜX
(
»s
,
x
)

36084 *(
	g±rd
++èğ(
T
)
_lš—r_©XYZ
(
x
 - ()*(
±rs0
++),
y
 - ()*(
±rs1
++),
z
 - ()*(
±rs2
++),
c
);

36088 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),1048576))

36089 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

36090 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

36091 
T
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
,
c
);

36092 
cimg_fÜX
(
»s
,
x
)

36093 *(
	g±rd
++èğ(
T
)
lš—r_©XYZ
(
x
 - ()*(
±rs0
++),
y
 - ()*(
±rs1
++),
z
 - ()*(
±rs2
++),
c
,(T)0);

36097 
	gbound¬y_cÚd™iÚs
) {

36099 cÚ¡ 
w2
 = 2*
width
(), 
	gh2
 = 2*
height
(), 
	gd2
 = 2*
d•th
();

36100 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

36101 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

36102 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

36103 
T
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
,
c
);

36104 
cimg_fÜX
(
»s
,
x
) {

36106 
	gmx
 = 
cimg
::
mod
(
x
 - ()cimg::
round
(*(
±rs0
++)),
w2
),

36107 
	gmy
 = 
cimg
::
mod
(
y
 - ()cimg::
round
(*(
±rs1
++)),
h2
),

36108 
	gmz
 = 
cimg
::
mod
(
z
 - ()cimg::
round
(*(
±rs2
++)),
d2
);

36109 *(
	g±rd
++èğ(*
this
)(
mx
<
width
()?mx:
w2
 - mx - 1,

36110 
	gmy
<
height
()?my:
h2
 - 
my
 - 1,

36111 
	gmz
<
d•th
()?mz:
d2
 - 
mz
 - 1,
	gc
);

36116 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

36117 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

36118 
T
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
,
c
);

36119 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ(*
this
)(
cimg
::
mod
(x - ()cimg::
round
(*(
±rs0
++)),
width
()),

36120 
	gcimg
::
mod
(
y
 - ()
cimg
::
round
(*(
±rs1
++)),
height
()),

36121 
	gcimg
::
mod
(
z
 - ()
cimg
::
round
(*(
±rs2
++)),
d•th
()),
	gc
);

36125 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

36126 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

36127 
T
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
,
c
);

36128 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
_©XYZ
(x - ()
cimg
::
round
(*(
±rs0
++)),

36129 
y
 - ()
cimg
::
round
(*(
±rs1
++)),

36130 
z
 - ()
cimg
::
round
(*(
±rs2
++)),
c
);

36134 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

36135 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

36136 
T
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
,
c
);

36137 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
©XYZ
(x - ()
cimg
::
round
(*(
±rs0
++)),

36138 
y
 - ()
cimg
::
round
(*(
±rs1
++)),

36139 
z
 - ()
cimg
::
round
(*(
±rs2
++)),
c
,(
T
)0);

36143 ià(
	gš‹½Ş©iÚ
==2)

36144 
bound¬y_cÚd™iÚs
) {

36146 cÚ¡ 
w2
 = 2.f*
width
(), 
	gh2
 = 2.f*
height
(), 
	gd2
 = 2.f*
d•th
();

36147 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

36148 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

36149 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

36150 
T
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
,
c
);

36151 
cimg_fÜX
(
»s
,
x
) {

36153 
	gmx
 = 
cimg
::
mod
(()*(
±rs0
++),
w2
),

36154 
	gmy
 = 
cimg
::
mod
(()*(
±rs1
++),
h2
),

36155 
	gmz
 = 
cimg
::
mod
(()*(
±rs2
++),
d2
);

36156 *(
	g±rd
++èğ
_cubic_©XYZ_c
(
mx
<
width
()?mx:
w2
 - mx - 1,

36157 
my
<
height
()?my:
h2
 - my - 1,

36158 
mz
<
d•th
()?mz:
d2
 - mz - 1,
c
);

36163 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

36164 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

36165 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

36166 
T
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
,
c
);

36167 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
_cubic_©XYZ_pc
(()*(
±rs0
++),()*(
±rs1
++),()*(
±rs2
++),
c
);

36171 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

36172 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

36173 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

36174 
T
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
,
c
);

36175 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
_cubic_©XYZ_c
(()*(
±rs0
++),()*(
±rs1
++),()*(
±rs2
++),
c
);

36179 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

36180 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

36181 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

36182 
T
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
,
c
);

36183 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
cubic_©XYZ_c
(()*(
±rs0
++),()*(
±rs1
++),()*(
±rs2
++),

36184 
c
,(
T
)0);

36187 ià(
	gš‹½Ş©iÚ
==1)

36188 
bound¬y_cÚd™iÚs
) {

36190 cÚ¡ 
w2
 = 2.f*
width
(), 
	gh2
 = 2.f*
height
(), 
	gd2
 = 2.f*
d•th
();

36191 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

36192 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

36193 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

36194 
T
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
,
c
);

36195 
cimg_fÜX
(
»s
,
x
) {

36197 
	gmx
 = 
cimg
::
mod
(()*(
±rs0
++),
w2
),

36198 
	gmy
 = 
cimg
::
mod
(()*(
±rs1
++),
h2
),

36199 
	gmz
 = 
cimg
::
mod
(()*(
±rs2
++),
d2
);

36200 *(
	g±rd
++èğ(
T
)
_lš—r_©XYZ
(
mx
<
width
()?mx:
w2
 - mx - 1,

36201 
my
<
height
()?my:
h2
 - my - 1,

36202 
mz
<
d•th
()?mz:
d2
 - mz - 1,
c
);

36207 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),1048576))

36208 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

36209 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

36210 
T
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
,
c
);

36211 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ(
T
)
_lš—r_©XYZ_p
(()*(
±rs0
++),()*(
±rs1
++),

36212 ()*(
±rs2
++),
c
);

36216 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),1048576))

36217 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

36218 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

36219 
T
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
,
c
);

36220 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ(
T
)
_lš—r_©XYZ
(()*(
±rs0
++),()*(
±rs1
++),()*(
±rs2
++),
c
);

36224 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),1048576))

36225 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

36226 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

36227 
T
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
,
c
);

36228 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ(
T
)
lš—r_©XYZ
(()*(
±rs0
++),()*(
±rs1
++),()*(
±rs2
++),

36229 
c
,(
T
)0);

36233 
	gbound¬y_cÚd™iÚs
) {

36235 cÚ¡ 
w2
 = 2*
width
(), 
	gh2
 = 2*
height
(), 
	gd2
 = 2*
d•th
();

36236 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
»s
.
size
(),4096))

36237 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

36238 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

36239 
T
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
,
c
);

36240 
cimg_fÜX
(
»s
,
x
) {

36242 
	gmx
 = 
cimg
::
mod
(()cimg::
round
(*(
±rs0
++)),
w2
),

36243 
	gmy
 = 
cimg
::
mod
(()cimg::
round
(*(
±rs1
++)),
h2
),

36244 
	gmz
 = 
cimg
::
mod
(()cimg::
round
(*(
±rs2
++)),
d2
);

36245 *(
	g±rd
++èğ(*
this
)(
mx
<
width
()?mx:
w2
 - mx - 1,

36246 
	gmy
<
height
()?my:
h2
 - 
my
 - 1,

36247 
	gmz
<
d•th
()?mz:
d2
 - 
mz
 - 1,
	gc
);

36252 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

36253 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

36254 
T
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
,
c
);

36255 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ(*
this
)(
cimg
::
mod
(()cimg::
round
(*(
±rs0
++)),
width
()),

36256 
	gcimg
::
mod
(()
cimg
::
round
(*(
±rs1
++)),
height
()),

36257 
	gcimg
::
mod
(()
cimg
::
round
(*(
±rs2
++)),
d•th
()),
	gc
);

36261 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

36262 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

36263 
T
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
,
c
);

36264 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
_©XYZ
(()
cimg
::
round
(*(
±rs0
++)),

36265 ()
cimg
::
round
(*(
±rs1
++)),

36266 ()
cimg
::
round
(*(
±rs2
++)),
c
);

36270 
cimg_fÜYZC
(
»s
,
y
,
z
,
c
) {

36271 cÚ¡ 
t
 *
	g±rs0
 = 
p_w¬p
.
d©a
(0,
y
,
z
,0), *
	g±rs1
 =…_w¬p.d©a(0,y,z,1), *
	g±rs2
 =…_warp.data(0,y,z,2);

36272 
T
 *
	g±rd
 = 
»s
.
d©a
(0,
y
,
z
,
c
);

36273 
cimg_fÜX
(
»s
,
x
è*(
	g±rd
++èğ
©XYZ
(()
cimg
::
round
(*(
±rs0
++)),

36274 ()
cimg
::
round
(*(
±rs1
++)),

36275 ()
cimg
::
round
(*(
±rs2
++)),
c
,(
T
)0);

36280  
	g»s
;

36289 
	gCImg
<
	gT
> 
g‘_´ojeùiÚs2d
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
) const {

36290 ià(
is_em±y
(è|| 
	g_d•th
<2è +*
	gthis
;

36292 
	g_x0
 = (
x0
>=
_width
)?_width - 1:x0,

36293 
	g_y0
 = (
y0
>=
_height
)?_height - 1:y0,

36294 
	g_z0
 = (
z0
>=
_d•th
)?_depth - 1:z0;

36295 cÚ¡ 
	gCImg
<
	gT
>

36296 
	gimg_xy
 = 
g‘_üİ
(0,0,
_z0
,0,
_width
 - 1,
_height
 - 1,_z0,
_¥eùrum
 - 1),

36297 
	gimg_zy
 = 
g‘_üİ
(
_x0
,0,0,0,_x0,
_height
 - 1,
_d•th
 - 1,
_¥eùrum
 - 1).
³rmu‹_axes
("xzyc").

36298 
»size
(
_d•th
,
_height
,1,-100,-1),

36299 
	gimg_xz
 = 
g‘_üİ
(0,
_y0
,0,0,
_width
 - 1,_y0,
_d•th
 - 1,
_¥eùrum
 - 1).
»size
(_width,_depth,1,-100,-1);

36300  
	gCImg
<
	gT
>(
	g_width
 + 
	g_d•th
,
	g_height
 + _d•th,1,
	g_¥eùrum
,
	gcimg
::
mš
(
img_xy
.mš(),
img_zy
.mš(),
img_xz
.min())).

36301 
d¿w_image
(0,0,
img_xy
).d¿w_image(img_xy.
_width
,0,
img_zy
).

36302 
d¿w_image
(0,
img_xy
.
_height
,
img_xz
);

36306 
	gCImg
<
	gT
>& 
´ojeùiÚs2d
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
) {

36307 ià(
	g_d•th
<2è *
	gthis
;

36308  
g‘_´ojeùiÚs2d
(
x0
,
y0
,
z0
).
move_to
(*
this
);

36323 
	gCImg
<
	gT
>& 
üİ
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
, cÚ¡ 
c0
,

36324 cÚ¡ 
x1
, cÚ¡ 
y1
, cÚ¡ 
z1
, cÚ¡ 
c1
,

36325 cÚ¡ 
bound¬y_cÚd™iÚs
=0) {

36326  
g‘_üİ
(
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
bound¬y_cÚd™iÚs
).
move_to
(*
this
);

36330 
	gCImg
<
	gT
> 
g‘_üİ
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
, cÚ¡ 
c0
,

36331 cÚ¡ 
x1
, cÚ¡ 
y1
, cÚ¡ 
z1
, cÚ¡ 
c1
,

36332 cÚ¡ 
bound¬y_cÚd™iÚs
=0) const {

36333 ià(
is_em±y
())

36334 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


36336 
cimg_š¡ªû
);

36338 
	gnx0
 = 
x0
<
x1
?x0:x1, 
	gnx1
 = x0^x1^
nx0
,

36339 
	gny0
 = 
y0
<
y1
?y0:y1, 
	gny1
 = y0^y1^
ny0
,

36340 
	gnz0
 = 
z0
<
z1
?z0:z1, 
	gnz1
 = z0^z1^
nz0
,

36341 
	gnc0
 = 
c0
<
c1
?c0:c1, 
	gnc1
 = c0^c1^
nc0
;

36343 
	g_bound¬y_cÚd™iÚs
 = 
nx0
>=0 && 
nx1
<
width
() &&

36344 
ny0
>=0 && 
ny1
<
height
() &&

36345 
nz0
>=0 && 
nz1
<
d•th
() &&

36346 
nc0
>=0 && 
nc1
<
¥eùrum
()?0:
bound¬y_cÚd™iÚs
;

36347 
	gCImg
<
	gT
> 
»s
(1U + 
nx1
 - 
nx0
,1U + 
ny1
 - 
ny0
,1U + 
nz1
 - 
nz0
,1U + 
nc1
 - 
nc0
);

36348 ià(
	gnx0
<0 || 
	gnx1
>=
width
(è|| 
ny0
<0 || 
ny1
>=
height
(è|| 
nz0
<0 || 
nz1
>=
d•th
(è|| 
nc0
<0 || 
nc1
>=
¥eùrum
())

36349 
_bound¬y_cÚd™iÚs
) {

36351 cÚ¡ 
w2
 = 2*
width
(), 
	gh2
 = 2*
height
(), 
	gd2
 = 2*
d•th
(), 
	gs2
 = 2*
¥eùrum
();

36352 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*16 &&

36353 
_height
*
_d•th
*
_¥eùrum
>=4))

36354 
cimg_fÜXYZC
(
»s
,
x
,
y
,
z
,
c
) {

36356 
	gmx
 = 
cimg
::
mod
(
nx0
 + 
x
,
w2
),

36357 
	gmy
 = 
cimg
::
mod
(
ny0
 + 
y
,
h2
),

36358 
	gmz
 = 
cimg
::
mod
(
nz0
 + 
z
,
d2
),

36359 
	gmc
 = 
cimg
::
mod
(
nc0
 + 
c
,
s2
);

36360 
»s
(
x
,
y
,
z
,
c
èğ(*
this
)(
mx
<
width
()?mx:
w2
 - mx - 1,

36361 
	gmy
<
height
()?my:
h2
 - 
my
 - 1,

36362 
	gmz
<
d•th
()?mz:
d2
 - 
mz
 - 1,

36363 
	gmc
<
¥eùrum
()?mc:
s2
 - 
mc
 - 1);

36367 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*16 &&

36368 
_height
*
_d•th
*
_¥eùrum
>=4))

36369 
cimg_fÜXYZC
(
»s
,
x
,
y
,
z
,
c
) {

36370 
»s
(
x
,
y
,
z
,
c
èğ(*
this
)(
cimg
::
mod
(
nx0
 + x,
width
()),
	gcimg
::mod(
ny0
 + y,
height
()),

36371 
	gcimg
::
mod
(
nz0
 + 
z
,
d•th
()),cimg::mod(
nc0
 + 
c
,
¥eùrum
()));

36375 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*16 &&

36376 
_height
*
_d•th
*
_¥eùrum
>=4))

36377 
cimg_fÜXYZC
(
»s
,
x
,
y
,
z
,
c
è»s(x,y,z,cèğ
_©XYZC
(
nx0
 + x,
ny0
 + y,
nz0
 + z,
nc0
 + c);

36380 
»s
.
fl
((
T
)0).
d¿w_image
(-
nx0
,-
ny0
,-
nz0
,-
nc0
,*
this
);

36382 
	g»s
.
d¿w_image
(-
nx0
,-
ny0
,-
nz0
,-
nc0
,*
this
);

36383  
	g»s
;

36387 
	gCImg
<
	gT
>& 
üİ
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
,

36388 cÚ¡ 
x1
, cÚ¡ 
y1
, cÚ¡ 
z1
,

36389 cÚ¡ 
bound¬y_cÚd™iÚs
=0) {

36390  
üİ
(
x0
,
y0
,
z0
,0,
x1
,
y1
,
z1
,
_¥eùrum
 - 1,
bound¬y_cÚd™iÚs
);

36394 
	gCImg
<
	gT
> 
g‘_üİ
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
,

36395 cÚ¡ 
x1
, cÚ¡ 
y1
, cÚ¡ 
z1
,

36396 cÚ¡ 
bound¬y_cÚd™iÚs
=0) const {

36397  
g‘_üİ
(
x0
,
y0
,
z0
,0,
x1
,
y1
,
z1
,
_¥eùrum
 - 1,
bound¬y_cÚd™iÚs
);

36401 
	gCImg
<
	gT
>& 
üİ
(cÚ¡ 
x0
, cÚ¡ 
y0
,

36402 cÚ¡ 
x1
, cÚ¡ 
y1
,

36403 cÚ¡ 
bound¬y_cÚd™iÚs
=0) {

36404  
üİ
(
x0
,
y0
,0,0,
x1
,
y1
,
_d•th
 - 1,
_¥eùrum
 - 1,
bound¬y_cÚd™iÚs
);

36408 
	gCImg
<
	gT
> 
g‘_üİ
(cÚ¡ 
x0
, cÚ¡ 
y0
,

36409 cÚ¡ 
x1
, cÚ¡ 
y1
,

36410 cÚ¡ 
bound¬y_cÚd™iÚs
=0) const {

36411  
g‘_üİ
(
x0
,
y0
,0,0,
x1
,
y1
,
_d•th
 - 1,
_¥eùrum
 - 1,
bound¬y_cÚd™iÚs
);

36415 
	gCImg
<
	gT
>& 
üİ
(cÚ¡ 
x0
, cÚ¡ 
x1
, cÚ¡ 
bound¬y_cÚd™iÚs
=0) {

36416  
üİ
(
x0
,0,0,0,
x1
,
_height
 - 1,
_d•th
 - 1,
_¥eùrum
 - 1,
bound¬y_cÚd™iÚs
);

36420 
	gCImg
<
	gT
> 
g‘_üİ
(cÚ¡ 
x0
, cÚ¡ 
x1
, cÚ¡ 
bound¬y_cÚd™iÚs
=0) const {

36421  
g‘_üİ
(
x0
,0,0,0,
x1
,
_height
 - 1,
_d•th
 - 1,
_¥eùrum
 - 1,
bound¬y_cÚd™iÚs
);

36425 
	gCImg
<
	gT
>& 
autoüİ
(cÚ¡ 
T
& 
v®ue
, cÚ¡ *cÚ¡ 
axes
="czyx") {

36426 ià(
is_em±y
()è *
this
;

36427 cÚ¡ *
	gs
 = 
axes
; *s; ++s) {

36428 cÚ¡ 
	gaxis
 = 
cimg
::
low”ÿ£
(*
s
);

36429 cÚ¡ 
	gCImg
<
	gštT
> 
	gcoÜds
 = 
_autoüİ
(
v®ue
,
axis
);

36430 ià(
	gcoÜds
[0]==-1 && 
coÜds
[1]==-1è 
assign
();

36431 
	gaxis
) {

36433 cÚ¡ 
x0
 = 
coÜds
[0], 
	gx1
 = coords[1];

36434 ià(
	gx0
>=0 && 
x1
>=0è
üİ
(
x0
,x1);

36437 cÚ¡ 
y0
 = 
coÜds
[0], 
	gy1
 = coords[1];

36438 ià(
	gy0
>=0 && 
y1
>=0è
üİ
(0,
y0
,
_width
 - 1,y1);

36441 cÚ¡ 
z0
 = 
coÜds
[0], 
	gz1
 = coords[1];

36442 ià(
	gz0
>=0 && 
z1
>=0è
üİ
(0,0,
z0
,
_width
 - 1,
_height
 - 1,z1);

36445 cÚ¡ 
c0
 = 
coÜds
[0], 
	gc1
 = coords[1];

36446 ià(
	gc0
>=0 && 
c1
>=0è
üİ
(0,0,0,
c0
,
_width
 - 1,
_height
 - 1,
_d•th
 - 1,c1);

36450  *
	gthis
;

36454 
	gCImg
<
	gT
> 
g‘_autoüİ
(cÚ¡ 
T
& 
v®ue
, cÚ¡ *cÚ¡ 
axes
="czyx") const {

36455  (+*
this
).
autoüİ
(
v®ue
,
axes
);

36463 
	gCImg
<
	gT
>& 
autoüİ
(cÚ¡ 
T
 *cÚ¡ 
cŞÜ
=0, cÚ¡ *cÚ¡ 
axes
="zyx") {

36464 ià(
is_em±y
()è *
this
;

36465 ià(!
	gcŞÜ
) {

36466 cÚ¡ 
	gCImg
<
	gT
> 
	gcŞ1
 = 
g‘_veùÜ_©
(0,0,0);

36467 cÚ¡ 
	gw
 = 
_width
, 
	gh
 = 
_height
, 
	gd
 = 
_d•th
, 
	gs
 = 
_¥eùrum
;

36468 
autoüİ
(
cŞ1
,
axes
);

36469 ià(
	g_width
==
w
 && 
_height
==
h
 && 
_d•th
==
d
 && 
_¥eùrum
==
s
) {

36470 cÚ¡ 
CImg
<
T
> 
cŞ2
 = 
g‘_veùÜ_©
(
w
 - 1,
h
 - 1,
d
 - 1);

36471 
autoüİ
(
cŞ2
,
axes
);

36473  *
	gthis
;

36475 cÚ¡ *
	gs
 = 
axes
; *s; ++s) {

36476 cÚ¡ 
	gaxis
 = 
cimg
::
low”ÿ£
(*
s
);

36477 
	gaxis
) {

36479 
x0
 = 
width
(), 
	gx1
 = -1;

36480 
cimg_fÜC
(*
this
,
c
) {

36481 cÚ¡ 
	gCImg
<
	gštT
> 
	gcoÜds
 = 
g‘_sh¬ed_chªÃl
(
c
).
_autoüİ
(
cŞÜ
[c],'x');

36482 cÚ¡ 
	gnx0
 = 
coÜds
[0], 
	gnx1
 = coords[1];

36483 ià(
	gnx0
>=0 && 
nx1
>=0è{ 
x0
 = 
¡d
::
mš
(x0,
nx0
); 
	gx1
 = std::
max
(
x1
,nx1); }

36485 ià(
	gx0
==
width
(è&& 
x1
==-1è 
assign
(); 
üİ
(
x0
,x1);

36488 
y0
 = 
height
(), 
	gy1
 = -1;

36489 
cimg_fÜC
(*
this
,
c
) {

36490 cÚ¡ 
	gCImg
<
	gštT
> 
	gcoÜds
 = 
g‘_sh¬ed_chªÃl
(
c
).
_autoüİ
(
cŞÜ
[c],'y');

36491 cÚ¡ 
	gny0
 = 
coÜds
[0], 
	gny1
 = coords[1];

36492 ià(
	gny0
>=0 && 
ny1
>=0è{ 
y0
 = 
¡d
::
mš
(y0,
ny0
); 
	gy1
 = std::
max
(
y1
,ny1); }

36494 ià(
	gy0
==
height
(è&& 
y1
==-1è 
assign
(); 
üİ
(0,
y0
,
_width
 - 1,y1);

36497 
z0
 = 
d•th
(), 
	gz1
 = -1;

36498 
cimg_fÜC
(*
this
,
c
) {

36499 cÚ¡ 
	gCImg
<
	gštT
> 
	gcoÜds
 = 
g‘_sh¬ed_chªÃl
(
c
).
_autoüİ
(
cŞÜ
[c],'z');

36500 cÚ¡ 
	gnz0
 = 
coÜds
[0], 
	gnz1
 = coords[1];

36501 ià(
	gnz0
>=0 && 
nz1
>=0è{ 
z0
 = 
¡d
::
mš
(z0,
nz0
); 
	gz1
 = std::
max
(
z1
,nz1); }

36503 ià(
	gz0
==
d•th
(è&& 
z1
==-1è 
assign
(); 
üİ
(0,0,
z0
,
_width
 - 1,
_height
 - 1,z1);

36507  *
	gthis
;

36511 
	gCImg
<
	gT
> 
g‘_autoüİ
(cÚ¡ 
T
 *cÚ¡ 
cŞÜ
=0, cÚ¡ *cÚ¡ 
axes
="zyx") const {

36512  (+*
this
).
autoüİ
(
cŞÜ
,
axes
);

36515 
	gCImg
<
	gštT
> 
_autoüİ
(cÚ¡ 
T
& 
v®ue
, cÚ¡ 
axis
) const {

36516 
	gCImg
<
	gštT
> 
	g»s
;

36517 
	gcimg
::
low”ÿ£
(
axis
)) {

36519 
x0
 = -1, 
	gx1
 = -1;

36520 
cimg_fÜX
(*
this
,
x
è
cimg_fÜYZC
(*this,
y
,
z
,
c
)

36521 ià((*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
)!=
v®ue
è{ 
x0
 = 
x
; x = 
width
(); y = 
height
(); z = 
d•th
(); c = 
¥eùrum
(); }

36522 ià(
	gx0
>=0) {

36523 
x
 = 
width
(è- 1; 
	gx
>=0; --xè
cimg_fÜYZC
(*
this
,
y
,
z
,
c
)

36524 ià((*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
)!=
v®ue
è{ 
x1
 = 
x
; x = 0; y = 
height
(); z = 
d•th
(); c = 
¥eùrum
(); }

36526 
	g»s
 = 
CImg
<
štT
>::
veùÜ
(
x0
,
x1
);

36529 
y0
 = -1, 
	gy1
 = -1;

36530 
cimg_fÜY
(*
this
,
y
è
cimg_fÜXZC
(*this,
x
,
z
,
c
)

36531 ià((*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
)!=
v®ue
è{ 
y0
 = 
y
; x = 
width
(); y = 
height
(); z = 
d•th
(); c = 
¥eùrum
(); }

36532 ià(
	gy0
>=0) {

36533 
y
 = 
height
(è- 1; 
	gy
>=0; --yè
cimg_fÜXZC
(*
this
,
x
,
z
,
c
)

36534 ià((*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
)!=
v®ue
è{ 
y1
 = 
y
; x = 
width
(); y = 0; z = 
d•th
(); c = 
¥eùrum
(); }

36536 
	g»s
 = 
CImg
<
štT
>::
veùÜ
(
y0
,
y1
);

36539 
z0
 = -1, 
	gz1
 = -1;

36540 
cimg_fÜZ
(*
this
,
z
è
cimg_fÜXYC
(*this,
x
,
y
,
c
)

36541 ià((*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
)!=
v®ue
è{ 
z0
 = 
z
; x = 
width
(); y = 
height
(); z = 
d•th
(); c = 
¥eùrum
(); }

36542 ià(
	gz0
>=0) {

36543 
z
 = 
d•th
(è- 1; 
	gz
>=0; --zè
cimg_fÜXYC
(*
this
,
x
,
y
,
c
)

36544 ià((*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
)!=
v®ue
è{ 
z1
 = 
z
; x = 
width
(); y = 
height
(); z = 0; c = 
¥eùrum
(); }

36546 
	g»s
 = 
CImg
<
štT
>::
veùÜ
(
z0
,
z1
);

36549 
c0
 = -1, 
	gc1
 = -1;

36550 
cimg_fÜC
(*
this
,
c
è
cimg_fÜXYZ
(*this,
x
,
y
,
z
)

36551 ià((*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
)!=
v®ue
è{ 
c0
 = 
c
; x = 
width
(); y = 
height
(); z = 
d•th
(); c = 
¥eùrum
(); }

36552 ià(
	gc0
>=0) {

36553 
c
 = 
¥eùrum
(è- 1; 
	gc
>=0; --cè
cimg_fÜXYZ
(*
this
,
x
,
y
,
z
)

36554 ià((*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
)!=
v®ue
è{ 
c1
 = 
c
; x = 
width
(); y = 
height
(); z = 
d•th
(); c = 0; }

36556 
	g»s
 = 
CImg
<
štT
>::
veùÜ
(
c0
,
c1
);

36559  
	g»s
;

36566 
	gCImg
<
	gT
> 
g‘_cŞumn
(cÚ¡ 
x0
) const {

36567  
g‘_cŞumns
(
x0
,x0);

36571 
	gCImg
<
	gT
>& 
cŞumn
(cÚ¡ 
x0
) {

36572  
cŞumns
(
x0
,x0);

36580 
	gCImg
<
	gT
>& 
cŞumns
(cÚ¡ 
x0
, cÚ¡ 
x1
) {

36581  
g‘_cŞumns
(
x0
,
x1
).
move_to
(*
this
);

36585 
	gCImg
<
	gT
> 
g‘_cŞumns
(cÚ¡ 
x0
, cÚ¡ 
x1
) const {

36586  
g‘_üİ
(
x0
,0,0,0,
x1
,
height
(è- 1,
d•th
(è- 1,
¥eùrum
() - 1);

36590 
	gCImg
<
	gT
> 
g‘_row
(cÚ¡ 
y0
) const {

36591  
g‘_rows
(
y0
,y0);

36598 
	gCImg
<
	gT
>& 
row
(cÚ¡ 
y0
) {

36599  
rows
(
y0
,y0);

36607 
	gCImg
<
	gT
> 
g‘_rows
(cÚ¡ 
y0
, cÚ¡ 
y1
) const {

36608  
g‘_üİ
(0,
y0
,0,0,
width
(è- 1,
y1
,
d•th
(è- 1,
¥eùrum
() - 1);

36612 
	gCImg
<
	gT
>& 
rows
(cÚ¡ 
y0
, cÚ¡ 
y1
) {

36613  
g‘_rows
(
y0
,
y1
).
move_to
(*
this
);

36620 
	gCImg
<
	gT
> 
g‘_¦iû
(cÚ¡ 
z0
) const {

36621  
g‘_¦iûs
(
z0
,z0);

36625 
	gCImg
<
	gT
>& 
¦iû
(cÚ¡ 
z0
) {

36626  
¦iûs
(
z0
,z0);

36634 
	gCImg
<
	gT
> 
g‘_¦iûs
(cÚ¡ 
z0
, cÚ¡ 
z1
) const {

36635  
g‘_üİ
(0,0,
z0
,0,
width
(è- 1,
height
(è- 1,
z1
,
¥eùrum
() - 1);

36639 
	gCImg
<
	gT
>& 
¦iûs
(cÚ¡ 
z0
, cÚ¡ 
z1
) {

36640  
g‘_¦iûs
(
z0
,
z1
).
move_to
(*
this
);

36647 
	gCImg
<
	gT
> 
g‘_chªÃl
(cÚ¡ 
c0
) const {

36648  
g‘_chªÃls
(
c0
,c0);

36652 
	gCImg
<
	gT
>& 
chªÃl
(cÚ¡ 
c0
) {

36653  
chªÃls
(
c0
,c0);

36661 
	gCImg
<
	gT
> 
g‘_chªÃls
(cÚ¡ 
c0
, cÚ¡ 
c1
) const {

36662  
g‘_üİ
(0,0,0,
c0
,
width
(è- 1,
height
(è- 1,
d•th
(è- 1,
c1
);

36666 
	gCImg
<
	gT
>& 
chªÃls
(cÚ¡ 
c0
, cÚ¡ 
c1
) {

36667  
g‘_chªÃls
(
c0
,
c1
).
move_to
(*
this
);

36671 
	gCImg
<
	gæßtT
> 
g‘_¡»amlše
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
,

36672 cÚ¡ 
L
=256, cÚ¡ 
dl
=0.1f,

36673 cÚ¡ 
š‹½Ş©iÚ_ty³
=2, cÚ¡ 
boŞ
 
is_backw¬d_Œackšg
=
çl£
,

36674 cÚ¡ 
boŞ
 
is_Ü›Áed_Úly
=
çl£
) const {

36675 ià(
_¥eùrum
!=2 && _spectrum!=3)

36676 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


36678 
cimg_š¡ªû
);

36679 ià(
	g_¥eùrum
==2) {

36680 ià(
is_Ü›Áed_Úly
) {

36681 
ty³Çme
 
CImg
<
T
>::
_funùÜ4d_¡»amlše2d_Ü›Áed
 
func
(*
this
);

36682  
¡»amlše
(
func
,
x
,
y
,
z
,
L
,
dl
,
š‹½Ş©iÚ_ty³
,
is_backw¬d_Œackšg
,
Œue
,

36683 0,0,0,
_width
 - 1.f,
_height
 - 1.f,0.f);

36685 
ty³Çme
 
	gCImg
<
	gT
>::
_funùÜ4d_¡»amlše2d_dœeùed
 
func
(*
this
);

36686  
¡»amlše
(
func
,
x
,
y
,
z
,
L
,
dl
,
š‹½Ş©iÚ_ty³
,
is_backw¬d_Œackšg
,
çl£
,

36687 0,0,0,
_width
 - 1.f,
_height
 - 1.f,0.f);

36690 ià(
	gis_Ü›Áed_Úly
) {

36691 
ty³Çme
 
	gCImg
<
	gT
>::
_funùÜ4d_¡»amlše3d_Ü›Áed
 
func
(*
this
);

36692  
¡»amlše
(
func
,
x
,
y
,
z
,
L
,
dl
,
š‹½Ş©iÚ_ty³
,
is_backw¬d_Œackšg
,
Œue
,

36693 0,0,0,
_width
 - 1.f,
_height
 - 1.f,
_d•th
 - 1.f);

36695 
ty³Çme
 
	gCImg
<
	gT
>::
_funùÜ4d_¡»amlše3d_dœeùed
 
func
(*
this
);

36696  
¡»amlše
(
func
,
x
,
y
,
z
,
L
,
dl
,
š‹½Ş©iÚ_ty³
,
is_backw¬d_Œackšg
,
çl£
,

36697 0,0,0,
_width
 - 1.f,
_height
 - 1.f,
_d•th
 - 1.f);

36719 
	g‹m¶©e
<
ty³Çme
 
	gtfunc
>

36720 
	gCImg
<
	gæßtT
> 
¡»amlše
(cÚ¡ 
tfunc
& 
func
,

36721 cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
,

36722 cÚ¡ 
L
=256, cÚ¡ 
dl
=0.1f,

36723 cÚ¡ 
š‹½Ş©iÚ_ty³
=2, cÚ¡ 
boŞ
 
is_backw¬d_Œackšg
=
çl£
,

36724 cÚ¡ 
boŞ
 
is_Ü›Áed_Úly
=
çl£
,

36725 cÚ¡ 
x0
=0, cÚ¡ 
y0
=0, cÚ¡ 
z0
=0,

36726 cÚ¡ 
x1
=0, cÚ¡ 
y1
=0, cÚ¡ 
z1
=0) {

36727 ià(
dl
<=0)

36728 
throw
 
CImgArgum’tExû±iÚ
("CImg<%s>::streamline(): Invalid specified integration†ength %g "

36730 
pix–_ty³
(),

36731 
dl
);

36733 cÚ¡ 
boŞ
 
	gis_bounded
 = (
x0
!=
x1
 || 
y0
!=
y1
 || 
z0
!=
z1
);

36734 ià(
	gL
<=0 || (
is_bounded
 && (
x
<
x0
 || x>
x1
 || 
y
<
y0
 || y>
y1
 || 
z
<
z0
 || z>
z1
))è 
CImg
<
æßtT
>();

36735 cÚ¡ 
	gsize_L
 = ()
cimg
::
round
(
L
/
dl
 + 1);

36736 
	gCImg
<
	gæßtT
> 
coÜdš©es
(
size_L
,3);

36737 cÚ¡ 
	gdl2
 = 
dl
/2;

36739 *
	g±r_x
 = 
coÜdš©es
.
d©a
(0,0),

36740 *
	g±r_y
 = 
coÜdš©es
.
d©a
(0,1),

36741 *
	g±r_z
 = 
coÜdš©es
.
d©a
(0,2),

36742 
	gpu
 = ()(
dl
*
func
(
x
,
y
,
z
,0)),

36743 
	gpv
 = ()(
dl
*
func
(
x
,
y
,
z
,1)),

36744 
	gpw
 = ()(
dl
*
func
(
x
,
y
,
z
,2)),

36745 
	gX
 = 
x
, 
	gY
 = 
y
, 
	gZ
 = 
z
;

36747 
	gš‹½Ş©iÚ_ty³
) {

36749 
cimg_fÜX
(
coÜdš©es
,
l
) {

36750 *(
	g±r_x
++èğ
X
; *(
	g±r_y
++èğ
Y
; *(
	g±r_z
++èğ
Z
;

36752 
	gxi
 = ()(
X
>0?X + 0.5f:X - 0.5f),

36753 
	gyi
 = ()(
Y
>0?Y + 0.5f:Y - 0.5f),

36754 
	gzi
 = ()(
Z
>0?Z + 0.5f:Z - 0.5f);

36756 
	gu
 = ()(
dl
*
func
(()
xi
,()
yi
,()
zi
,0)),

36757 
	gv
 = ()(
dl
*
func
(()
xi
,()
yi
,()
zi
,1)),

36758 
	gw
 = ()(
dl
*
func
(()
xi
,()
yi
,()
zi
,2));

36759 ià(
	gis_Ü›Áed_Úly
 && 
u
*
	gpu
 + 
v
*
	gpv
 + 
w
*
	gpw
<0è{ 
	gu
 = -u; 
	gv
 = -v; 
	gw
 = -w; }

36760 ià(
	gis_backw¬d_Œackšg
è{ 
	gX
-=(
pu
=
u
); 
	gY
-=(
pv
=
v
); 
	gZ
-=(
pw
=
w
); } { X+=(pu=u); Y+=(pv=v); Z+=(pw=w); }

36761 ià(
	gis_bounded
 && (
	gX
<
	gx0
 || X>
	gx1
 || 
	gY
<
	gy0
 || Y>
	gy1
 || 
	gZ
<
	gz0
 || Z>
	gz1
)) ;

36765 
cimg_fÜX
(
coÜdš©es
,
l
) {

36766 *(
	g±r_x
++èğ
X
; *(
	g±r_y
++èğ
Y
; *(
	g±r_z
++èğ
Z
;

36768 
	gu
 = ()(
dl
*
func
(
X
,
Y
,
Z
,0)),

36769 
	gv
 = ()(
dl
*
func
(
X
,
Y
,
Z
,1)),

36770 
	gw
 = ()(
dl
*
func
(
X
,
Y
,
Z
,2));

36771 ià(
	gis_Ü›Áed_Úly
 && 
u
*
	gpu
 + 
v
*
	gpv
 + 
w
*
	gpw
<0è{ 
	gu
 = -u; 
	gv
 = -v; 
	gw
 = -w; }

36772 ià(
	gis_backw¬d_Œackšg
è{ 
	gX
-=(
pu
=
u
); 
	gY
-=(
pv
=
v
); 
	gZ
-=(
pw
=
w
); } { X+=(pu=u); Y+=(pv=v); Z+=(pw=w); }

36773 ià(
	gis_bounded
 && (
	gX
<
	gx0
 || X>
	gx1
 || 
	gY
<
	gy0
 || Y>
	gy1
 || 
	gZ
<
	gz0
 || Z>
	gz1
)) ;

36777 
cimg_fÜX
(
coÜdš©es
,
l
) {

36778 *(
	g±r_x
++èğ
X
; *(
	g±r_y
++èğ
Y
; *(
	g±r_z
++èğ
Z
;

36780 
	gu0
 = ()(
dl2
*
func
(
X
,
Y
,
Z
,0)),

36781 
	gv0
 = ()(
dl2
*
func
(
X
,
Y
,
Z
,1)),

36782 
	gw0
 = ()(
dl2
*
func
(
X
,
Y
,
Z
,2));

36783 ià(
	gis_Ü›Áed_Úly
 && 
u0
*
	gpu
 + 
v0
*
	gpv
 + 
w0
*
	gpw
<0è{ 
	gu0
 = -u0; 
	gv0
 = -v0; 
	gw0
 = -w0; }

36785 
	gu
 = ()(
dl
*
func
(
X
 + 
u0
,
Y
 + 
v0
,
Z
 + 
w0
,0)),

36786 
	gv
 = ()(
dl
*
func
(
X
 + 
u0
,
Y
 + 
v0
,
Z
 + 
w0
,1)),

36787 
	gw
 = ()(
dl
*
func
(
X
 + 
u0
,
Y
 + 
v0
,
Z
 + 
w0
,2));

36788 ià(
	gis_Ü›Áed_Úly
 && 
u
*
	gpu
 + 
v
*
	gpv
 + 
w
*
	gpw
<0è{ 
	gu
 = -u; 
	gv
 = -v; 
	gw
 = -w; }

36789 ià(
	gis_backw¬d_Œackšg
è{ 
	gX
-=(
pu
=
u
); 
	gY
-=(
pv
=
v
); 
	gZ
-=(
pw
=
w
); } { X+=(pu=u); Y+=(pv=v); Z+=(pw=w); }

36790 ià(
	gis_bounded
 && (
	gX
<
	gx0
 || X>
	gx1
 || 
	gY
<
	gy0
 || Y>
	gy1
 || 
	gZ
<
	gz0
 || Z>
	gz1
)) ;

36794 
cimg_fÜX
(
coÜdš©es
,
k
) {

36795 *(
	g±r_x
++èğ
X
; *(
	g±r_y
++èğ
Y
; *(
	g±r_z
++èğ
Z
;

36797 
	gu0
 = ()(
dl2
*
func
(
X
,
Y
,
Z
,0)),

36798 
	gv0
 = ()(
dl2
*
func
(
X
,
Y
,
Z
,1)),

36799 
	gw0
 = ()(
dl2
*
func
(
X
,
Y
,
Z
,2));

36800 ià(
	gis_Ü›Áed_Úly
 && 
u0
*
	gpu
 + 
v0
*
	gpv
 + 
w0
*
	gpw
<0è{ 
	gu0
 = -u0; 
	gv0
 = -v0; 
	gw0
 = -w0; }

36802 
	gu1
 = ()(
dl2
*
func
(
X
 + 
u0
,
Y
 + 
v0
,
Z
 + 
w0
,0)),

36803 
	gv1
 = ()(
dl2
*
func
(
X
 + 
u0
,
Y
 + 
v0
,
Z
 + 
w0
,1)),

36804 
	gw1
 = ()(
dl2
*
func
(
X
 + 
u0
,
Y
 + 
v0
,
Z
 + 
w0
,2));

36805 ià(
	gis_Ü›Áed_Úly
 && 
u1
*
	gpu
 + 
v1
*
	gpv
 + 
w1
*
	gpw
<0è{ 
	gu1
 = -u1; 
	gv1
 = -v1; 
	gw1
 = -w1; }

36807 
	gu2
 = ()(
dl2
*
func
(
X
 + 
u1
,
Y
 + 
v1
,
Z
 + 
w1
,0)),

36808 
	gv2
 = ()(
dl2
*
func
(
X
 + 
u1
,
Y
 + 
v1
,
Z
 + 
w1
,1)),

36809 
	gw2
 = ()(
dl2
*
func
(
X
 + 
u1
,
Y
 + 
v1
,
Z
 + 
w1
,2));

36810 ià(
	gis_Ü›Áed_Úly
 && 
u2
*
	gpu
 + 
v2
*
	gpv
 + 
w2
*
	gpw
<0è{ 
	gu2
 = -u2; 
	gv2
 = -v2; 
	gw2
 = -w2; }

36812 
	gu3
 = ()(
dl2
*
func
(
X
 + 
u2
,
Y
 + 
v2
,
Z
 + 
w2
,0)),

36813 
	gv3
 = ()(
dl2
*
func
(
X
 + 
u2
,
Y
 + 
v2
,
Z
 + 
w2
,1)),

36814 
	gw3
 = ()(
dl2
*
func
(
X
 + 
u2
,
Y
 + 
v2
,
Z
 + 
w2
,2));

36815 ià(
	gis_Ü›Áed_Úly
 && 
u2
*
	gpu
 + 
v2
*
	gpv
 + 
w2
*
	gpw
<0è{ 
	gu3
 = -
u3
; 
	gv3
 = -
v3
; 
	gw3
 = -
w3
; }

36817 
	gu
 = (
u0
 + 
u3
)/3 + (
u1
 + 
u2
)/1.5f,

36818 
	gv
 = (
v0
 + 
v3
)/3 + (
v1
 + 
v2
)/1.5f,

36819 
	gw
 = (
w0
 + 
w3
)/3 + (
w1
 + 
w2
)/1.5f;

36820 ià(
	gis_backw¬d_Œackšg
è{ 
	gX
-=(
pu
=
u
); 
	gY
-=(
pv
=
v
); 
	gZ
-=(
pw
=
w
); } { X+=(pu=u); Y+=(pv=v); Z+=(pw=w); }

36821 ià(
	gis_bounded
 && (
	gX
<
	gx0
 || X>
	gx1
 || 
	gY
<
	gy0
 || Y>
	gy1
 || 
	gZ
<
	gz0
 || Z>
	gz1
)) ;

36825 ià(
	g±r_x
!=
coÜdš©es
.
d©a
(0,1)è
	gcoÜdš©es
.
»size
(()(
±r_x
-coordinates.data()),3,1,1,0);

36826  
	gcoÜdš©es
;

36830 
	gCImg
<
	gæßtT
> 
¡»amlše
(cÚ¡ *cÚ¡ 
ex´essiÚ
,

36831 cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
,

36832 cÚ¡ 
L
=256, cÚ¡ 
dl
=0.1f,

36833 cÚ¡ 
š‹½Ş©iÚ_ty³
=2, cÚ¡ 
boŞ
 
is_backw¬d_Œackšg
=
Œue
,

36834 cÚ¡ 
boŞ
 
is_Ü›Áed_Úly
=
çl£
,

36835 cÚ¡ 
x0
=0, cÚ¡ 
y0
=0, cÚ¡ 
z0
=0,

36836 cÚ¡ 
x1
=0, cÚ¡ 
y1
=0, cÚ¡ 
z1
=0) {

36837 
_funùÜ4d_¡»amlše_ex´
 
func
(
ex´essiÚ
);

36838  
¡»amlše
(
func
,
x
,
y
,
z
,
L
,
dl
,
š‹½Ş©iÚ_ty³
,
is_backw¬d_Œackšg
,
is_Ü›Áed_Úly
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
);

36841 
	s_funùÜ4d_¡»amlše2d_dœeùed
 {

36842 cÚ¡ 
	gCImg
<
	gT
>& 
	g»f
;

36843 
_funùÜ4d_¡»amlše2d_dœeùed
(cÚ¡ 
CImg
<
T
>& 
´ef
):
»f
(pref) {}

36844 
İ”©Ü
()(cÚ¡ 
x
, cÚ¡ 
	gy
, cÚ¡ 
	gz
, cÚ¡ 
	gc
) const {

36845  
	gc
<2?()
	g»f
.
_lš—r_©XY
(
x
,
y
,()
z
,
c
):0;

36849 
	s_funùÜ4d_¡»amlše3d_dœeùed
 {

36850 cÚ¡ 
	gCImg
<
	gT
>& 
	g»f
;

36851 
_funùÜ4d_¡»amlše3d_dœeùed
(cÚ¡ 
CImg
<
T
>& 
´ef
):
»f
(pref) {}

36852 
İ”©Ü
()(cÚ¡ 
x
, cÚ¡ 
	gy
, cÚ¡ 
	gz
, cÚ¡ 
	gc
) const {

36853  ()
	g»f
.
_lš—r_©XYZ
(
x
,
y
,
z
,
c
);

36857 
	s_funùÜ4d_¡»amlše2d_Ü›Áed
 {

36858 cÚ¡ 
	gCImg
<
	gT
>& 
	g»f
;

36859 
	gCImg
<
	gæßtT
> *
	gpI
;

36860 
_funùÜ4d_¡»amlše2d_Ü›Áed
(cÚ¡ 
CImg
<
T
>& 
´ef
):
»f
Õ»f),
pI
(0è{ 
	gpI
 = 
Ãw
 CImg<
æßtT
>(2,2,1,2); }

36861 ~
_funùÜ4d_¡»amlše2d_Ü›Áed
(è{ 
d–‘e
 
	gpI
; }

36862 
İ”©Ü
()(cÚ¡ 
	gx
, cÚ¡ 
	gy
, cÚ¡ 
	gz
, cÚ¡ 
	gc
) const {

36863 
	#_cimg_veÿlign2d
(
i
,
j
) \

36864 ià(
	`I
(
i
,
j
,0)*I(0,0,0è+ I(i,j,1)*I(0,0,1)<0è{ I(i,j,0èğ-I(i,j,0); I(i,j,1èğ-I(i,j,1); }

	)

36866 
	gxi
 = ()
x
 - (x>=0?0:1), 
	gnxi
 = 
xi
 + 1,

36867 
	gyi
 = ()
y
 - (y>=0?0:1), 
	gnyi
 = 
yi
 + 1,

36868 
	gzi
 = ()
z
;

36870 
	gdx
 = 
x
 - 
xi
,

36871 
	gdy
 = 
y
 - 
yi
;

36872 ià(
	gc
==0) {

36873 
CImg
<
æßtT
>& 
I
 = *
pI
;

36874 ià(
	gxi
<0) xi = 0;

36875 ià(
	gnxi
<0)‚xi = 0;

36876 ià(
	gxi
>=
»f
.
width
()è
xi
 =„ef.width() - 1;

36877 ià(
	gnxi
>=
»f
.
width
()è
nxi
 =„ef.width() - 1;

36878 ià(
	gyi
<0) yi = 0;

36879 ià(
	gnyi
<0)‚yi = 0;

36880 ià(
	gyi
>=
»f
.
height
()è
yi
 =„ef.height() - 1;

36881 ià(
	gnyi
>=
»f
.
height
()è
nyi
 =„ef.height() - 1;

36882 
I
(0,0,0èğ()
»f
(
xi
,
yi
,
zi
,0); I(0,0,1) = ()ref(xi,yi,zi,1);

36883 
I
(1,0,0èğ()
»f
(
nxi
,
yi
,
zi
,0); I(1,0,1) = ()ref(nxi,yi,zi,1);

36884 
I
(1,1,0èğ()
»f
(
nxi
,
nyi
,
zi
,0); I(1,1,1) = ()ref(nxi,nyi,zi,1);

36885 
I
(0,1,0èğ()
»f
(
xi
,
nyi
,
zi
,0); I(0,1,1) = ()ref(xi,nyi,zi,1);

36886 
_cimg_veÿlign2d
(1,0); _cimg_vecalign2d(1,1); _cimg_vecalign2d(0,1);

36888  
	gc
<2?()
	gpI
->
_lš—r_©XY
(
dx
,
dy
,0,
c
):0;

36892 
	s_funùÜ4d_¡»amlše3d_Ü›Áed
 {

36893 cÚ¡ 
	gCImg
<
	gT
>& 
	g»f
;

36894 
	gCImg
<
	gæßtT
> *
	gpI
;

36895 
_funùÜ4d_¡»amlše3d_Ü›Áed
(cÚ¡ 
CImg
<
T
>& 
´ef
):
»f
Õ»f),
pI
(0è{ 
	gpI
 = 
Ãw
 CImg<
æßtT
>(2,2,2,3); }

36896 ~
_funùÜ4d_¡»amlše3d_Ü›Áed
(è{ 
d–‘e
 
	gpI
; }

36897 
İ”©Ü
()(cÚ¡ 
	gx
, cÚ¡ 
	gy
, cÚ¡ 
	gz
, cÚ¡ 
	gc
) const {

36898 
	#_cimg_veÿlign3d
(
i
,
j
,
k
èià(
	`I
(i,j,k,0)*I(0,0,0,0) + I(i,j,k,1)*I(0,0,0,1) + I(i,j,k,2)*I(0,0,0,2)<0) { \

36899 
	`I
(
i
,
j
,
k
,0èğ-I(i,j,k,0); I(i,j,k,1èğ-I(i,j,k,1); I(i,j,k,2èğ-I(i,j,k,2); }

	)

36901 
	gxi
 = ()
x
 - (x>=0?0:1), 
	gnxi
 = 
xi
 + 1,

36902 
	gyi
 = ()
y
 - (y>=0?0:1), 
	gnyi
 = 
yi
 + 1,

36903 
	gzi
 = ()
z
 - (z>=0?0:1), 
	gnzi
 = 
zi
 + 1;

36905 
	gdx
 = 
x
 - 
xi
,

36906 
	gdy
 = 
y
 - 
yi
,

36907 
	gdz
 = 
z
 - 
zi
;

36908 ià(
	gc
==0) {

36909 
CImg
<
æßtT
>& 
I
 = *
pI
;

36910 ià(
	gxi
<0) xi = 0;

36911 ià(
	gnxi
<0)‚xi = 0;

36912 ià(
	gxi
>=
»f
.
width
()è
xi
 =„ef.width() - 1;

36913 ià(
	gnxi
>=
»f
.
width
()è
nxi
 =„ef.width() - 1;

36914 ià(
	gyi
<0) yi = 0;

36915 ià(
	gnyi
<0)‚yi = 0;

36916 ià(
	gyi
>=
»f
.
height
()è
yi
 =„ef.height() - 1;

36917 ià(
	gnyi
>=
»f
.
height
()è
nyi
 =„ef.height() - 1;

36918 ià(
	gzi
<0) zi = 0;

36919 ià(
	gnzi
<0)‚zi = 0;

36920 ià(
	gzi
>=
»f
.
d•th
()è
zi
 =„ef.depth() - 1;

36921 ià(
	gnzi
>=
»f
.
d•th
()è
nzi
 =„ef.depth() - 1;

36922 
I
(0,0,0,0èğ()
»f
(
xi
,
yi
,
zi
,0); I(0,0,0,1) = ()ref(xi,yi,zi,1);

36923 
I
(0,0,0,2èğ()
»f
(
xi
,
yi
,
zi
,2); I(1,0,0,0èğ(ìef(
nxi
,yi,zi,0);

36924 
I
(1,0,0,1èğ()
»f
(
nxi
,
yi
,
zi
,1); I(1,0,0,2) = ()ref(nxi,yi,zi,2);

36925 
I
(1,1,0,0èğ()
»f
(
nxi
,
nyi
,
zi
,0); I(1,1,0,1) = ()ref(nxi,nyi,zi,1);

36926 
I
(1,1,0,2èğ()
»f
(
nxi
,
nyi
,
zi
,2); I(0,1,0,0èğ(ìef(
xi
,nyi,zi,0);

36927 
I
(0,1,0,1èğ()
»f
(
xi
,
nyi
,
zi
,1); I(0,1,0,2) = ()ref(xi,nyi,zi,2);

36928 
I
(0,0,1,0èğ()
»f
(
xi
,
yi
,
nzi
,0); I(0,0,1,1) = ()ref(xi,yi,nzi,1);

36929 
I
(0,0,1,2èğ()
»f
(
xi
,
yi
,
nzi
,2); I(1,0,1,0èğ(ìef(
nxi
,yi,nzi,0);

36930 
I
(1,0,1,1èğ()
»f
(
nxi
,
yi
,
nzi
,1); I(1,0,1,2) = ()ref(nxi,yi,nzi,2);

36931 
I
(1,1,1,0èğ()
»f
(
nxi
,
nyi
,
nzi
,0); I(1,1,1,1) = ()ref(nxi,nyi,nzi,1);

36932 
I
(1,1,1,2èğ()
»f
(
nxi
,
nyi
,
nzi
,2); I(0,1,1,0èğ(ìef(
xi
,nyi,nzi,0);

36933 
I
(0,1,1,1èğ()
»f
(
xi
,
nyi
,
nzi
,1); I(0,1,1,2) = ()ref(xi,nyi,nzi,2);

36934 
_cimg_veÿlign3d
(1,0,0); _cimg_vecalign3d(1,1,0); _cimg_vecalign3d(0,1,0);

36935 
_cimg_veÿlign3d
(0,0,1); _cimg_vecalign3d(1,0,1); _cimg_vecalign3d(1,1,1); _cimg_vecalign3d(0,1,1);

36937  ()
	gpI
->
_lš—r_©XYZ
(
dx
,
dy
,
dz
,
c
);

36941 
	s_funùÜ4d_¡»amlše_ex´
 {

36942 
_cimg_m©h_·r£r
 *
	gmp
;

36943 ~
_funùÜ4d_¡»amlše_ex´
(è{ 
	gmp
->
’d
(); 
d–‘e
 mp; }

36944 
_funùÜ4d_¡»amlše_ex´
(cÚ¡ *cÚ¡ 
ex´
):
mp
(0) {

36945 
mp
 = 
Ãw
 
_cimg_m©h_·r£r
(
ex´
,"¡»amlše",
CImg
<
T
>::
cÚ¡_em±y
(),0);

36947 
İ”©Ü
()(cÚ¡ 
	gx
, cÚ¡ 
	gy
, cÚ¡ 
	gz
, cÚ¡ 
	gc
) const {

36948  ()(*
	gmp
)(
	gx
,
	gy
,
	gz
,
	gc
);

36960 
	gCImg
<
	gT
> 
g‘_sh¬ed_pošts
(cÚ¡ 
x0
, cÚ¡ 
x1
,

36961 cÚ¡ 
y0
=0, cÚ¡ 
z0
=0, cÚ¡ 
c0
=0) {

36962 cÚ¡ 
ulÚgT


36963 
beg
 = (
ulÚgT
)
off£t
(
x0
,
y0
,
z0
,
c0
),

36964 
	g’d
 = (
ulÚgT
)
off£t
(
x1
,
y0
,
z0
,
c0
);

36965 ià(
	gbeg
>
	g’d
 || beg>=
size
(è|| 
’d
>=size())

36966 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


36968 
cimg_š¡ªû
,

36969 
x0
,
x1
,
y0
,
z0
,
c0
);

36970  
	gCImg
<
	gT
>(
	g_d©a
 + 
	gbeg
,
	gx1
 - 
	gx0
 + 1,1,1,1,
	gŒue
);

36974 cÚ¡ 
	gCImg
<
	gT
> 
g‘_sh¬ed_pošts
(cÚ¡ 
x0
, cÚ¡ 
x1
,

36975 cÚ¡ 
y0
=0, cÚ¡ 
z0
=0, cÚ¡ 
c0
=0) const {

36976 cÚ¡ 
ulÚgT


36977 
beg
 = (
ulÚgT
)
off£t
(
x0
,
y0
,
z0
,
c0
),

36978 
	g’d
 = (
ulÚgT
)
off£t
(
x1
,
y0
,
z0
,
c0
);

36979 ià(
	gbeg
>
	g’d
 || beg>=
size
(è|| 
’d
>=size())

36980 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


36982 
cimg_š¡ªû
,

36983 
x0
,
x1
,
y0
,
z0
,
c0
);

36984  
	gCImg
<
	gT
>(
	g_d©a
 + 
	gbeg
,
	gx1
 - 
	gx0
 + 1,1,1,1,
	gŒue
);

36994 
	gCImg
<
	gT
> 
g‘_sh¬ed_rows
(cÚ¡ 
y0
, cÚ¡ 
y1
,

36995 cÚ¡ 
z0
=0, cÚ¡ 
c0
=0) {

36996 cÚ¡ 
ulÚgT


36997 
beg
 = (
ulÚgT
)
off£t
(0,
y0
,
z0
,
c0
),

36998 
	g’d
 = (
ulÚgT
)
off£t
(0,
y1
,
z0
,
c0
);

36999 ià(
	gbeg
>
	g’d
 || beg>=
size
(è|| 
’d
>=size())

37000 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


37003 
cimg_š¡ªû
,

37004 
_width
 - 1,
y0
,
y1
,
z0
,
c0
);

37005  
	gCImg
<
	gT
>(
	g_d©a
 + 
	gbeg
,
	g_width
,
	gy1
 - 
	gy0
 + 1,1,1,
	gŒue
);

37009 cÚ¡ 
	gCImg
<
	gT
> 
g‘_sh¬ed_rows
(cÚ¡ 
y0
, cÚ¡ 
y1
,

37010 cÚ¡ 
z0
=0, cÚ¡ 
c0
=0) const {

37011 cÚ¡ 
ulÚgT


37012 
beg
 = (
ulÚgT
)
off£t
(0,
y0
,
z0
,
c0
),

37013 
	g’d
 = (
ulÚgT
)
off£t
(0,
y1
,
z0
,
c0
);

37014 ià(
	gbeg
>
	g’d
 || beg>=
size
(è|| 
’d
>=size())

37015 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


37018 
cimg_š¡ªû
,

37019 
_width
 - 1,
y0
,
y1
,
z0
,
c0
);

37020  
	gCImg
<
	gT
>(
	g_d©a
 + 
	gbeg
,
	g_width
,
	gy1
 - 
	gy0
 + 1,1,1,
	gŒue
);

37029 
	gCImg
<
	gT
> 
g‘_sh¬ed_row
(cÚ¡ 
y0
, cÚ¡ 
z0
=0, cÚ¡ 
c0
=0) {

37030  
g‘_sh¬ed_rows
(
y0
,y0,
z0
,
c0
);

37034 cÚ¡ 
	gCImg
<
	gT
> 
g‘_sh¬ed_row
(cÚ¡ 
y0
, cÚ¡ 
z0
=0, cÚ¡ 
c0
=0) const {

37035  
g‘_sh¬ed_rows
(
y0
,y0,
z0
,
c0
);

37044 
	gCImg
<
	gT
> 
g‘_sh¬ed_¦iûs
(cÚ¡ 
z0
, cÚ¡ 
z1
, cÚ¡ 
c0
=0) {

37045 cÚ¡ 
ulÚgT


37046 
beg
 = (
ulÚgT
)
off£t
(0,0,
z0
,
c0
),

37047 
	g’d
 = (
ulÚgT
)
off£t
(0,0,
z1
,
c0
);

37048 ià(
	gbeg
>
	g’d
 || beg>=
size
(è|| 
’d
>=size())

37049 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


37052 
cimg_š¡ªû
,

37053 
_width
 - 1,
_height
 - 1,
z0
,
z1
,
c0
);

37054  
	gCImg
<
	gT
>(
	g_d©a
 + 
	gbeg
,
	g_width
,
	g_height
,
	gz1
 - 
	gz0
 + 1,1,
	gŒue
);

37058 cÚ¡ 
	gCImg
<
	gT
> 
g‘_sh¬ed_¦iûs
(cÚ¡ 
z0
, cÚ¡ 
z1
, cÚ¡ 
c0
=0) const {

37059 cÚ¡ 
ulÚgT


37060 
beg
 = (
ulÚgT
)
off£t
(0,0,
z0
,
c0
),

37061 
	g’d
 = (
ulÚgT
)
off£t
(0,0,
z1
,
c0
);

37062 ià(
	gbeg
>
	g’d
 || beg>=
size
(è|| 
’d
>=size())

37063 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


37066 
cimg_š¡ªû
,

37067 
_width
 - 1,
_height
 - 1,
z0
,
z1
,
c0
);

37068  
	gCImg
<
	gT
>(
	g_d©a
 + 
	gbeg
,
	g_width
,
	g_height
,
	gz1
 - 
	gz0
 + 1,1,
	gŒue
);

37076 
	gCImg
<
	gT
> 
g‘_sh¬ed_¦iû
(cÚ¡ 
z0
, cÚ¡ 
c0
=0) {

37077  
g‘_sh¬ed_¦iûs
(
z0
,z0,
c0
);

37081 cÚ¡ 
	gCImg
<
	gT
> 
g‘_sh¬ed_¦iû
(cÚ¡ 
z0
, cÚ¡ 
c0
=0) const {

37082  
g‘_sh¬ed_¦iûs
(
z0
,z0,
c0
);

37090 
	gCImg
<
	gT
> 
g‘_sh¬ed_chªÃls
(cÚ¡ 
c0
, cÚ¡ 
c1
) {

37091 cÚ¡ 
ulÚgT


37092 
	gbeg
 = (
ulÚgT
)
off£t
(0,0,0,
c0
),

37093 
	g’d
 = (
ulÚgT
)
off£t
(0,0,0,
c1
);

37094 ià(
	gbeg
>
	g’d
 || beg>=
size
(è|| 
’d
>=size())

37095 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


37098 
cimg_š¡ªû
,

37099 
_width
 - 1,
_height
 - 1,
_d•th
 - 1,
c0
,
c1
);

37100  
	gCImg
<
	gT
>(
	g_d©a
 + 
	gbeg
,
	g_width
,
	g_height
,
	g_d•th
,
	gc1
 - 
	gc0
 + 1,
	gŒue
);

37104 cÚ¡ 
	gCImg
<
	gT
> 
g‘_sh¬ed_chªÃls
(cÚ¡ 
c0
, cÚ¡ 
c1
) const {

37105 cÚ¡ 
ulÚgT


37106 
	gbeg
 = (
ulÚgT
)
off£t
(0,0,0,
c0
),

37107 
	g’d
 = (
ulÚgT
)
off£t
(0,0,0,
c1
);

37108 ià(
	gbeg
>
	g’d
 || beg>=
size
(è|| 
’d
>=size())

37109 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


37112 
cimg_š¡ªû
,

37113 
_width
 - 1,
_height
 - 1,
_d•th
 - 1,
c0
,
c1
);

37114  
	gCImg
<
	gT
>(
	g_d©a
 + 
	gbeg
,
	g_width
,
	g_height
,
	g_d•th
,
	gc1
 - 
	gc0
 + 1,
	gŒue
);

37121 
	gCImg
<
	gT
> 
g‘_sh¬ed_chªÃl
(cÚ¡ 
c0
) {

37122  
g‘_sh¬ed_chªÃls
(
c0
,c0);

37126 cÚ¡ 
	gCImg
<
	gT
> 
g‘_sh¬ed_chªÃl
(cÚ¡ 
c0
) const {

37127  
g‘_sh¬ed_chªÃls
(
c0
,c0);

37131 
	gCImg
<
	gT
> 
g‘_sh¬ed
() {

37132  
	gCImg
<
	gT
>(
	g_d©a
,
	g_width
,
	g_height
,
	g_d•th
,
	g_¥eùrum
,
	gŒue
);

37136 cÚ¡ 
	gCImg
<
	gT
> 
g‘_sh¬ed
() const {

37137  
	gCImg
<
	gT
>(
	g_d©a
,
	g_width
,
	g_height
,
	g_d•th
,
	g_¥eùrum
,
	gŒue
);

37149 
	gCImgLi¡
<
	gT
> 
g‘_¥l™
(cÚ¡ 
axis
, cÚ¡ 
nb
=-1) const {

37150 
CImgLi¡
<
T
> 
»s
;

37151 ià(
is_em±y
()è 
	g»s
;

37152 cÚ¡ 
	g_axis
 = 
cimg
::
low”ÿ£
(
axis
);

37154 ià(
	gnb
<0) {

37155 cÚ¡ 
	gdp
 = ()(
nb
?-nb:1);

37156 
	g_axis
) {

37158 ià(
_width
>
dp
) {

37159 
»s
.
assign
(
_width
/
dp
 + (_width%dp?1:0),1,1);

37160 cÚ¡ 
	g³
 = 
_width
 - 
dp
;

37161 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
»s
.
_width
>=(
cimg_İ’mp_sizeçùÜ
)*128 &&

37162 
_height
*
_d•th
*
_¥eùrum
>=128))

37163 
p
 = 0; 
	gp
<()
	g³
;…+=
dp
)

37164 
g‘_üİ
(
p
,0,0,0,°+ 
dp
 - 1,
_height
 - 1,
_d•th
 - 1,
_¥eùrum
 - 1).
move_to
(
»s
[p/dp]);

37165 
g‘_üİ
((
»s
.
_width
 - 1)*
dp
,0,0,0,_width - 1,
_height
 - 1,
_d•th
 - 1,
_¥eùrum
 - 1).
move_to
Ôes.
back
());

37166 } 
	g»s
.
assign
(*
this
);

37169 ià(
_height
>
dp
) {

37170 
»s
.
assign
(
_height
/
dp
 + (_height%dp?1:0),1,1);

37171 cÚ¡ 
	g³
 = 
_height
 - 
dp
;

37172 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
»s
.
_width
>=(
cimg_İ’mp_sizeçùÜ
)*128 &&

37173 
_width
*
_d•th
*
_¥eùrum
>=128))

37174 
p
 = 0; 
	gp
<()
	g³
;…+=
dp
)

37175 
g‘_üİ
(0,
p
,0,0,
_width
 - 1,°+ 
dp
 - 1,
_d•th
 - 1,
_¥eùrum
 - 1).
move_to
(
»s
[p/dp]);

37176 
g‘_üİ
(0,(
»s
.
_width
 - 1)*
dp
,0,0,_width - 1,
_height
 - 1,
_d•th
 - 1,
_¥eùrum
 - 1).
move_to
Ôes.
back
());

37177 } 
	g»s
.
assign
(*
this
);

37180 ià(
_d•th
>
dp
) {

37181 
»s
.
assign
(
_d•th
/
dp
 + (_depth%dp?1:0),1,1);

37182 cÚ¡ 
	g³
 = 
_d•th
 - 
dp
;

37183 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
»s
.
_width
>=(
cimg_İ’mp_sizeçùÜ
)*128 &&

37184 
_width
*
_height
*
_¥eùrum
>=128))

37185 
p
 = 0; 
	gp
<()
	g³
;…+=
dp
)

37186 
g‘_üİ
(0,0,
p
,0,
_width
 - 1,
_height
 - 1,°+ 
dp
 - 1,
_¥eùrum
 - 1).
move_to
(
»s
[p/dp]);

37187 
g‘_üİ
(0,0,(
»s
.
_width
 - 1)*
dp
,0,_width - 1,
_height
 - 1,
_d•th
 - 1,
_¥eùrum
 - 1).
move_to
Ôes.
back
());

37188 } 
	g»s
.
assign
(*
this
);

37191 ià(
_¥eùrum
>
dp
) {

37192 
»s
.
assign
(
_¥eùrum
/
dp
 + (_spectrum%dp?1:0),1,1);

37193 cÚ¡ 
	g³
 = 
_¥eùrum
 - 
dp
;

37194 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
»s
.
_width
>=(
cimg_İ’mp_sizeçùÜ
)*128 &&

37195 
_width
*
_height
*
_d•th
>=128))

37196 
p
 = 0; 
	gp
<()
	g³
;…+=
dp
)

37197 
g‘_üİ
(0,0,0,
p
,
_width
 - 1,
_height
 - 1,
_d•th
 - 1,°+ 
dp
 - 1).
move_to
(
»s
[p/dp]);

37198 
g‘_üİ
(0,0,0,(
»s
.
_width
 - 1)*
dp
,_width - 1,
_height
 - 1,
_d•th
 - 1,
_¥eùrum
 - 1).
move_to
Ôes.
back
());

37199 } 
	g»s
.
assign
(*
this
);

37202 } ià(
	gnb
>0) {

37203 cÚ¡ 
	gsiz
 = 
_axis
=='x'?
_width
:_axis=='y'?
_height
:_axis=='z'?
_d•th
:_axis=='c'?
_¥eùrum
:0;

37204 ià(()
	gnb
>
	gsiz
)

37205 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


37207 
cimg_š¡ªû
,

37208 
axis
,
nb
);

37209 ià(
	gnb
==1è
»s
.
assign
(*
this
);

37211 
	g”r
 = ()
siz
;

37212 
	g_p
 = 0;

37213 
	g_axis
) {

37215 
cimg_fÜX
(*
this
,
p
èià((
	g”r
-=
nb
)<=0) {

37216 
g‘_üİ
(
_p
,0,0,0,
p
,
_height
 - 1,
_d•th
 - 1,
_¥eùrum
 - 1).
move_to
(
»s
);

37217 
	g”r
+=()
siz
;

37218 
	g_p
 = 
p
 + 1U;

37222 
cimg_fÜY
(*
this
,
p
èià((
	g”r
-=
nb
)<=0) {

37223 
g‘_üİ
(0,
_p
,0,0,
_width
 - 1,
p
,
_d•th
 - 1,
_¥eùrum
 - 1).
move_to
(
»s
);

37224 
	g”r
+=()
siz
;

37225 
	g_p
 = 
p
 + 1U;

37229 
cimg_fÜZ
(*
this
,
p
èià((
	g”r
-=
nb
)<=0) {

37230 
g‘_üİ
(0,0,
_p
,0,
_width
 - 1,
_height
 - 1,
p
,
_¥eùrum
 - 1).
move_to
(
»s
);

37231 
	g”r
+=()
siz
;

37232 
	g_p
 = 
p
 + 1U;

37236 
cimg_fÜC
(*
this
,
p
èià((
	g”r
-=
nb
)<=0) {

37237 
g‘_üİ
(0,0,0,
_p
,
_width
 - 1,
_height
 - 1,
_d•th
 - 1,
p
).
move_to
(
»s
);

37238 
	g”r
+=()
siz
;

37239 
	g_p
 = 
p
 + 1U;

37245 
T
 
	gcu¼’t
 = *
_d©a
;

37246 
	g_axis
) {

37248 
i0
 = 0;

37249 
cimg_fÜX
(*
this
,
i
)

37250 ià((*
	gthis
)(
	gi
)!=
cu¼’t
è{ 
g‘_cŞumns
(
i0
,
i
 - 1).
move_to
(
»s
); 
	gi0
 = i; 
	gcu¼’t
 = (*
this
)(i); }

37251 
g‘_cŞumns
(
i0
,
width
(è- 1).
move_to
(
»s
);

37254 
i0
 = 0;

37255 
cimg_fÜY
(*
this
,
i
)

37256 ià((*
	gthis
)(0,
	gi
)!=
cu¼’t
è{ 
g‘_rows
(
i0
,
i
 - 1).
move_to
(
»s
); 
	gi0
 = i; 
	gcu¼’t
 = (*
this
)(0,i); }

37257 
g‘_rows
(
i0
,
height
(è- 1).
move_to
(
»s
);

37260 
i0
 = 0;

37261 
cimg_fÜZ
(*
this
,
i
)

37262 ià((*
	gthis
)(0,0,
	gi
)!=
cu¼’t
è{ 
g‘_¦iûs
(
i0
,
i
 - 1).
move_to
(
»s
); 
	gi0
 = i; 
	gcu¼’t
 = (*
this
)(0,0,i); }

37263 
g‘_¦iûs
(
i0
,
d•th
(è- 1).
move_to
(
»s
);

37266 
i0
 = 0;

37267 
cimg_fÜC
(*
this
,
i
)

37268 ià((*
	gthis
)(0,0,0,
	gi
)!=
cu¼’t
è{ 
g‘_chªÃls
(
i0
,
i
 - 1).
move_to
(
»s
); 
	gi0
 = i; 
	gcu¼’t
 = (*
this
)(0,0,0,i); }

37269 
g‘_chªÃls
(
i0
,
¥eùrum
(è- 1).
move_to
(
»s
);

37272 
lÚgT
 
i0
 = 0;

37273 
cimg_fÜoff
(*
this
,
i
)

37274 ià((*
	gthis
)[
i
]!=
cu¼’t
) {

37275 
CImg
<
T
>(
_d©a
 + 
i0
,1,()(
i
 - i0)).
move_to
(
»s
);

37276 
	gi0
 = (
lÚgT
)
i
; 
	gcu¼’t
 = (*
this
)[i];

37278 
	gCImg
<
	gT
>(
	g_d©a
 + 
	gi0
,1,()(
size
(è- i0)).
move_to
(
»s
);

37282  
	g»s
;

37291 
	g‹m¶©e
<
ty³Çme
 
	gt
>

37292 
	gCImgLi¡
<
	gT
> 
g‘_¥l™
(cÚ¡ 
CImg
<
t
>& 
v®ues
, cÚ¡ 
axis
=0, cÚ¡ 
boŞ
 
k“p_v®ues
=
Œue
) const {

37293 
_cimg_Tt
 
	tTt
;

37295 
	gCImgLi¡
<
	gT
> 
	g»s
;

37296 ià(
is_em±y
()è 
	g»s
;

37297 cÚ¡ 
ulÚgT
 
	gvsiz
 = 
v®ues
.
size
();

37298 cÚ¡ 
	g_axis
 = 
cimg
::
low”ÿ£
(
axis
);

37299 ià(!
	gvsiz
è 
	gCImgLi¡
<
	gT
>(*
	gthis
);

37300 ià(
	gvsiz
==1) {

37301 cÚ¡ 
T
 
v®ue
 = (T)*
v®ues
;

37302 
	g_axis
) {

37304 
i0
 = 0, 
	gi
 = 0;

37306 
	gi
<
	g_width
 && (*
	gthis
)(i)==
v®ue
è++
i
;

37307 ià(
	gi
>
	gi0
è{ ià(
	gk“p_v®ues
è
g‘_cŞumns
(
i0
,
i
 - 1).
move_to
(
»s
); i0 = i; }

37308 
	gi
<
	g_width
 && (*
	gthis
)(i)!=
v®ue
è++
i
;

37309 ià(
	gi
>
	gi0
è{ 
g‘_cŞumns
(
i0
,
i
 - 1).
move_to
(
»s
); i0 = i; }

37310 } 
	gi
<
	g_width
);

37313 
i0
 = 0, 
	gi
 = 0;

37315 
	gi
<
	g_height
 && (*
	gthis
)(0,i)==
v®ue
è++
i
;

37316 ià(
	gi
>
	gi0
è{ ià(
	gk“p_v®ues
è
g‘_rows
(
i0
,
i
 - 1).
move_to
(
»s
); i0 = i; }

37317 
	gi
<
	g_height
 && (*
	gthis
)(0,i)!=
v®ue
è++
i
;

37318 ià(
	gi
>
	gi0
è{ 
g‘_rows
(
i0
,
i
 - 1).
move_to
(
»s
); i0 = i; }

37319 } 
	gi
<
	g_height
);

37322 
i0
 = 0, 
	gi
 = 0;

37324 
	gi
<
	g_d•th
 && (*
	gthis
)(0,0,i)==
v®ue
è++
i
;

37325 ià(
	gi
>
	gi0
è{ ià(
	gk“p_v®ues
è
g‘_¦iûs
(
i0
,
i
 - 1).
move_to
(
»s
); i0 = i; }

37326 
	gi
<
	g_d•th
 && (*
	gthis
)(0,0,i)!=
v®ue
è++
i
;

37327 ià(
	gi
>
	gi0
è{ 
g‘_¦iûs
(
i0
,
i
 - 1).
move_to
(
»s
); i0 = i; }

37328 } 
	gi
<
	g_d•th
);

37331 
i0
 = 0, 
	gi
 = 0;

37333 
	gi
<
	g_¥eùrum
 && (*
	gthis
)(0,0,0,i)==
v®ue
è++
i
;

37334 ià(
	gi
>
	gi0
è{ ià(
	gk“p_v®ues
è
g‘_chªÃls
(
i0
,
i
 - 1).
move_to
(
»s
); i0 = i; }

37335 
	gi
<
	g_¥eùrum
 && (*
	gthis
)(0,0,0,i)!=
v®ue
è++
i
;

37336 ià(
	gi
>
	gi0
è{ 
g‘_chªÃls
(
i0
,
i
 - 1).
move_to
(
»s
); i0 = i; }

37337 } 
	gi
<
	g_¥eùrum
);

37340 cÚ¡ 
ulÚgT
 
siz
 = 
size
();

37341 
ulÚgT
 
	gi0
 = 0, 
	gi
 = 0;

37343 
	gi
<
	gsiz
 && (*
	gthis
)[
i
]==
v®ue
) ++i;

37344 ià(
	gi
>
	gi0
) {

37345 ià(
	gk“p_v®ues
è
	gCImg
<
	gT
>(
	g_d©a
 + 
	gi0
,1,()(
	gi
 - i0)).
move_to
(
»s
);

37346 
	gi0
 = 
i
;

37348 
	gi
<
	gsiz
 && (*
	gthis
)[
i
]!=
v®ue
) ++i;

37349 ià(
	gi
>
	gi0
è{ 
	gCImg
<
	gT
>(
	g_d©a
 + i0,1,()(˜- i0)).
move_to
(
»s
); i0 = 
i
; }

37350 } 
	gi
<
	gsiz
);

37354 
ulÚgT
 
	gj
 = 0;

37355 
	g_axis
) {

37357 
i0
 = 0, 
	gi1
 = 0, 
	gi
 = 0;

37359 ià((
	gTt
)(*
	gthis
)(
	gi
)==(
Tt
)*
v®ues
) {

37360 
i1
 = 
i
; 
	gj
 = 0;

37361 
	gi
<
	g_width
 && (
	gTt
)(*
	gthis
)(i)==(
Tt
)
v®ues
[
j
]è{ ++
i
; ià(++
	gj
>=
vsiz
) j = 0; }

37362 
	gi
-=
j
;

37363 ià(
	gi
>
	gi1
) {

37364 ià(
	gi1
>
	gi0
è
g‘_cŞumns
(
i0
,
i1
 - 1).
move_to
(
»s
);

37365 ià(
	gk“p_v®ues
è
g‘_cŞumns
(
i1
,
i
 - 1).
move_to
(
»s
);

37366 
	gi0
 = 
i
;

37367 } ++
	gi
;

37368 } ++
	gi
;

37369 } 
	gi
<
	g_width
);

37370 ià(
	gi0
<
	g_width
è
g‘_cŞumns
(
i0
,
width
(è- 1).
move_to
(
»s
);

37373 
i0
 = 0, 
	gi1
 = 0, 
	gi
 = 0;

37375 ià((
	gTt
)(*
	gthis
)(0,
	gi
)==(
Tt
)*
v®ues
) {

37376 
i1
 = 
i
; 
	gj
 = 0;

37377 
	gi
<
	g_height
 && (
	gTt
)(*
	gthis
)(0,i)==(
Tt
)
v®ues
[
j
]è{ ++
i
; ià(++
	gj
>=
vsiz
) j = 0; }

37378 
	gi
-=
j
;

37379 ià(
	gi
>
	gi1
) {

37380 ià(
	gi1
>
	gi0
è
g‘_rows
(
i0
,
i1
 - 1).
move_to
(
»s
);

37381 ià(
	gk“p_v®ues
è
g‘_rows
(
i1
,
i
 - 1).
move_to
(
»s
);

37382 
	gi0
 = 
i
;

37383 } ++
	gi
;

37384 } ++
	gi
;

37385 } 
	gi
<
	g_height
);

37386 ià(
	gi0
<
	g_height
è
g‘_rows
(
i0
,
height
(è- 1).
move_to
(
»s
);

37389 
i0
 = 0, 
	gi1
 = 0, 
	gi
 = 0;

37391 ià((
	gTt
)(*
	gthis
)(0,0,
	gi
)==(
Tt
)*
v®ues
) {

37392 
i1
 = 
i
; 
	gj
 = 0;

37393 
	gi
<
	g_d•th
 && (
	gTt
)(*
	gthis
)(0,0,i)==(
Tt
)
v®ues
[
j
]è{ ++
i
; ià(++
	gj
>=
vsiz
) j = 0; }

37394 
	gi
-=
j
;

37395 ià(
	gi
>
	gi1
) {

37396 ià(
	gi1
>
	gi0
è
g‘_¦iûs
(
i0
,
i1
 - 1).
move_to
(
»s
);

37397 ià(
	gk“p_v®ues
è
g‘_¦iûs
(
i1
,
i
 - 1).
move_to
(
»s
);

37398 
	gi0
 = 
i
;

37399 } ++
	gi
;

37400 } ++
	gi
;

37401 } 
	gi
<
	g_d•th
);

37402 ià(
	gi0
<
	g_d•th
è
g‘_¦iûs
(
i0
,
d•th
(è- 1).
move_to
(
»s
);

37405 
i0
 = 0, 
	gi1
 = 0, 
	gi
 = 0;

37407 ià((
	gTt
)(*
	gthis
)(0,0,0,
	gi
)==(
Tt
)*
v®ues
) {

37408 
i1
 = 
i
; 
	gj
 = 0;

37409 
	gi
<
	g_¥eùrum
 && (
	gTt
)(*
	gthis
)(0,0,0,i)==(
Tt
)
v®ues
[
j
]è{ ++
i
; ià(++
	gj
>=
vsiz
) j = 0; }

37410 
	gi
-=
j
;

37411 ià(
	gi
>
	gi1
) {

37412 ià(
	gi1
>
	gi0
è
g‘_chªÃls
(
i0
,
i1
 - 1).
move_to
(
»s
);

37413 ià(
	gk“p_v®ues
è
g‘_chªÃls
(
i1
,
i
 - 1).
move_to
(
»s
);

37414 
	gi0
 = 
i
;

37415 } ++
	gi
;

37416 } ++
	gi
;

37417 } 
	gi
<
	g_¥eùrum
);

37418 ià(
	gi0
<
	g_¥eùrum
è
g‘_chªÃls
(
i0
,
¥eùrum
(è- 1).
move_to
(
»s
);

37421 cÚ¡ 
ulÚgT
 
siz
 = 
size
();

37422 
ulÚgT
 
	gi0
 = 0, 
	gi1
 = 0, 
	gi
 = 0;

37424 ià((
	gTt
)(*
	gthis
)[
i
]==(
Tt
)*
v®ues
) {

37425 
i1
 = 
i
; 
	gj
 = 0;

37426 
	gi
<
	gsiz
 && (
	gTt
)(*
	gthis
)[
i
]==(
Tt
)
v®ues
[
j
]è{ ++i; ià(++
	gj
>=
vsiz
) j = 0; }

37427 
	gi
-=
j
;

37428 ià(
	gi
>
	gi1
) {

37429 ià(
	gi1
>
	gi0
è
	gCImg
<
	gT
>(
	g_d©a
 + i0,1,()(i1 - i0)).
move_to
(
»s
);

37430 ià(
	gk“p_v®ues
è
	gCImg
<
	gT
>(
	g_d©a
 + 
	gi1
,1,()(
	gi
 - i1)).
move_to
(
»s
);

37431 
	gi0
 = 
i
;

37432 } ++
	gi
;

37433 } ++
	gi
;

37434 } 
	gi
<
	gsiz
);

37435 ià(
	gi0
<
	gsiz
è
	gCImg
<
	gT
>(
	g_d©a
 + i0,1,()(siz - i0)).
move_to
(
»s
);

37439  
	g»s
;

37448 
	g‹m¶©e
<
ty³Çme
 
	gt
>

37449 
	gCImg
<
	gT
>& 
­³nd
(cÚ¡ 
CImg
<
t
>& 
img
, cÚ¡ 
axis
='x', cÚ¡ 
®ign
=0) {

37450 ià(
is_em±y
()è 
assign
(
img
,
çl£
);

37451 ià(!
	gimg
è *
	gthis
;

37452  
	gCImgLi¡
<
	gT
>(*
	gthis
,
	gŒue
).
š£¹
(
img
).
g‘_­³nd
(
axis
,
®ign
).
move_to
(*
this
);

37456 
	gCImg
<
	gT
>& 
­³nd
(cÚ¡ 
CImg
<
T
>& 
img
, cÚ¡ 
axis
='x', cÚ¡ 
®ign
=0) {

37457 ià(
is_em±y
()è 
assign
(
img
,
çl£
);

37458 ià(!
	gimg
è *
	gthis
;

37459  
	gCImgLi¡
<
	gT
>(*
	gthis
,
	gimg
,
	gŒue
).
g‘_­³nd
(
axis
,
®ign
).
move_to
(*
this
);

37463 
	g‹m¶©e
<
ty³Çme
 
	gt
>

37464 
	gCImg
<
	g_cimg_Tt
> 
g‘_­³nd
(cÚ¡ 
CImg
<
T
>& 
img
, cÚ¡ 
axis
='x', cÚ¡ 
®ign
=0) const {

37465 ià(
is_em±y
()è +
img
;

37466 ià(!
	gimg
è +*
	gthis
;

37467  
	gCImgLi¡
<
	g_cimg_Tt
>(*
	gthis
,
	gŒue
).
š£¹
(
img
).
g‘_­³nd
(
axis
,
®ign
);

37471 
	gCImg
<
	gT
> 
g‘_­³nd
(cÚ¡ 
CImg
<
T
>& 
img
, cÚ¡ 
axis
='x', cÚ¡ 
®ign
=0) const {

37472 ià(
is_em±y
()è +
img
;

37473 ià(!
	gimg
è +*
	gthis
;

37474  
	gCImgLi¡
<
	gT
>(*
	gthis
,
	gimg
,
	gŒue
).
g‘_­³nd
(
axis
,
®ign
);

37510 
	g‹m¶©e
<
ty³Çme
 
	gt
>

37511 
	gCImg
<
	gT
>& 
cÜ»Ï‹
(cÚ¡ 
CImg
<
t
>& 
k”Ãl
, cÚ¡ 
bound¬y_cÚd™iÚs
=1,

37512 cÚ¡ 
boŞ
 
is_nÜm®ized
=
çl£
, cÚ¡ 
chªÃl_mode
=1,

37513 cÚ¡ 
xûÁ”
=~0U, cÚ¡ 
yûÁ”
=~0U, cÚ¡ 
zûÁ”
=~0U,

37514 cÚ¡ 
x¡¬t
=0, cÚ¡ 
y¡¬t
=0, cÚ¡ 
z¡¬t
=0,

37515 cÚ¡ 
x’d
=~0U, cÚ¡ 
y’d
=~0U, cÚ¡ 
z’d
=~0U,

37516 cÚ¡ 
x¡ride
=1, cÚ¡ 
y¡ride
=1, cÚ¡ 
z¡ride
=1,

37517 cÚ¡ 
xd©iÚ
=1, cÚ¡ 
yd©iÚ
=1, cÚ¡ 
zd©iÚ
=1) {

37518 ià(
is_em±y
(è|| !
k”Ãl
è *
this
;

37519  
g‘_cÜ»Ï‹
(
k”Ãl
,
bound¬y_cÚd™iÚs
,
is_nÜm®ized
,
chªÃl_mode
,

37520 
xûÁ”
,
yûÁ”
,
zûÁ”
,
x¡¬t
,
y¡¬t
,
z¡¬t
,
x’d
,
y’d
,
z’d
,

37521 
x¡ride
,
y¡ride
,
z¡ride
,
xd©iÚ
,
yd©iÚ
,
zd©iÚ
).
move_to
(*
this
);

37524 
	g‹m¶©e
<
ty³Çme
 
	gt
>

37525 
	gCImg
<
	g_cimg_Ttæßt
> 
g‘_cÜ»Ï‹
(cÚ¡ 
CImg
<
t
>& 
k”Ãl
, cÚ¡ 
bound¬y_cÚd™iÚs
=1,

37526 cÚ¡ 
boŞ
 
is_nÜm®ized
=
çl£
, cÚ¡ 
chªÃl_mode
=1,

37527 cÚ¡ 
xûÁ”
=~0U, cÚ¡ 
yûÁ”
=~0U,

37528 cÚ¡ 
zûÁ”
=~0U,

37529 cÚ¡ 
x¡¬t
=0, cÚ¡ 
y¡¬t
=0, cÚ¡ 
z¡¬t
=0,

37530 cÚ¡ 
x’d
=~0U, cÚ¡ 
y’d
=~0U,

37531 cÚ¡ 
z’d
=~0U,

37532 cÚ¡ 
x¡ride
=1, cÚ¡ 
y¡ride
=1, cÚ¡ 
z¡ride
=1,

37533 cÚ¡ 
xd©iÚ
=1, cÚ¡ 
yd©iÚ
=1, cÚ¡ 
zd©iÚ
=1) const {

37534  
_cÜ»Ï‹
(
k”Ãl
,
bound¬y_cÚd™iÚs
,
is_nÜm®ized
,
chªÃl_mode
,

37535 
xûÁ”
,
yûÁ”
,
zûÁ”
,
x¡¬t
,
y¡¬t
,
z¡¬t
,
x’d
,
y’d
,
z’d
,

37536 
x¡ride
,
y¡ride
,
z¡ride
,
xd©iÚ
,
yd©iÚ
,
zd©iÚ
,
çl£
);

37540 
	g‹m¶©e
<
ty³Çme
 
	gt
>

37541 
	gCImg
<
	g_cimg_Ttæßt
> 
_cÜ»Ï‹
(cÚ¡ 
CImg
<
t
>& 
k”Ãl
, cÚ¡ 
bound¬y_cÚd™iÚs
,

37542 cÚ¡ 
boŞ
 
is_nÜm®ized
, cÚ¡ 
chªÃl_mode
,

37543 cÚ¡ 
xûÁ”
, cÚ¡ 
yûÁ”
, cÚ¡ 
zûÁ”
,

37544 cÚ¡ 
x¡¬t
, cÚ¡ 
y¡¬t
, cÚ¡ 
z¡¬t
,

37545 cÚ¡ 
x’d
, cÚ¡ 
y’d
, cÚ¡ 
z’d
,

37546 cÚ¡ 
x¡ride
, cÚ¡ 
y¡ride
, cÚ¡ 
z¡ride
,

37547 cÚ¡ 
xd©iÚ
, cÚ¡ 
yd©iÚ
, cÚ¡ 
zd©iÚ
,

37548 cÚ¡ 
boŞ
 
is_cÚvŞve
) const {

37549 ià(
is_em±y
(è|| !
	gk”Ãl
è *
	gthis
;

37550 
_cimg_Ttæßt
 
	tTtæßt
;

37551 
	gCImg
<
	gTtæßt
> 
	g»s
;

37552 
	g_cimg_abÜt_š™_İ’mp
;

37553 
	gcimg_abÜt_š™
;

37555 ià(
	gx¡¬t
>
	gx’d
 || 
	gy¡¬t
>
	gy’d
 || 
	gz¡¬t
>
	gz’d
)

37556 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


37558 
cimg_š¡ªû
,

37559 
is_cÚvŞve
?"convolve":"correlate",

37560 
x¡¬t
,
y¡¬t
,
z¡¬t
,
x’d
,
y’d
,
z’d
);

37561 ià(
	gx¡ride
<=0 || 
y¡ride
<=0 || 
z¡ride
<=0)

37562 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


37564 
cimg_š¡ªû
,

37565 
is_cÚvŞve
?"convolve":"correlate",

37566 
x¡ride
,
y¡ride
,
z¡ride
);

37568 
	g_x¡¬t
 = ()
¡d
::
mš
(
x¡¬t
,
_width
 - 1),

37569 
	g_y¡¬t
 = ()
¡d
::
mš
(
y¡¬t
,
_height
 - 1),

37570 
	g_z¡¬t
 = ()
¡d
::
mš
(
z¡¬t
,
_d•th
 - 1),

37571 
	g_x’d
 = ()
¡d
::
mš
(
x’d
,
_width
 - 1),

37572 
	g_y’d
 = ()
¡d
::
mš
(
y’d
,
_height
 - 1),

37573 
	g_z’d
 = ()
¡d
::
mš
(
z’d
,
_d•th
 - 1),

37574 
	gnwidth
 = 1 + ()
¡d
::
æoÜ
((
_x’d
 - 
_x¡¬t
)/
x¡ride
),

37575 
	gnheight
 = 1 + ()
¡d
::
æoÜ
((
_y’d
 - 
_y¡¬t
)/
y¡ride
),

37576 
	gnd•th
 = 1 + ()
¡d
::
æoÜ
((
_z’d
 + 
_z¡¬t
)/
z¡ride
),

37577 
	g_x¡ride
 = ()
cimg
::
round
(
x¡ride
),

37578 
	g_y¡ride
 = ()
cimg
::
round
(
y¡ride
),

37579 
	g_z¡ride
 = ()
cimg
::
round
(
z¡ride
);

37581 cÚ¡ 
ulÚgT


37582 
	g»s_whd
 = (
ulÚgT
)
nwidth
*
nheight
*
nd•th
,

37583 
	g»s_size
 = 
»s_whd
*
»s
.
_¥eùrum
;

37584 cÚ¡ 
boŞ


37585 
	gis_šÃr_·¿Î–
 = 
»s_whd
>=(
cimg_İ’mp_sizeçùÜ
)*32768,

37586 
	gis_ou‹r_·¿Î–
 = 
»s_size
>=(
cimg_İ’mp_sizeçùÜ
)*32768;

37587 
	gcimg
::
unu£d
(
is_šÃr_·¿Î–
,
is_ou‹r_·¿Î–
);

37590 
	g_xûÁ”
 = 
xûÁ”
==~0U?
k”Ãl
.
width
()/2 - 1 + (k”Ãl.width()%2):()
¡d
::
mš
(xûÁ”,k”Ãl.
_width
 - 1),

37591 
	g_yûÁ”
 = 
yûÁ”
==~0U?
k”Ãl
.
height
()/2 - 1 + (k”Ãl.height()%2):()
¡d
::
mš
(yûÁ”,k”Ãl.
_height
 - 1),

37592 
	g_zûÁ”
 = 
zûÁ”
==~0U?
k”Ãl
.
d•th
()/2 - 1 + (k”Ãl.d•th()%2):()
¡d
::
mš
(zûÁ”,k”Ãl.
_d•th
 - 1),

37593 
	g_xd©iÚ
 = ()
cimg
::
round
(
xd©iÚ
),

37594 
	g_yd©iÚ
 = ()
cimg
::
round
(
yd©iÚ
),

37595 
	g_zd©iÚ
 = ()
cimg
::
round
(
zd©iÚ
);

37597 cÚ¡ 
boŞ
 
	gis_št_¡ride_d©iÚ
 =

37598 
x¡ride
==
_x¡ride
 && 
y¡ride
==
_y¡ride
 && 
z¡ride
==
_z¡ride
 &&

37599 
xd©iÚ
==
_xd©iÚ
 && 
yd©iÚ
==
_yd©iÚ
 && 
zd©iÚ
==
_zd©iÚ
;

37601 
	gCImg
<
	gt
> 
	g_k”Ãl
;

37602 ià(
	gis_cÚvŞve
) {

37603 
	g_k”Ãl
 = 
CImg
<
t
>(
k”Ãl
.
_d©a
,
	gk”Ãl
.
size
()/k”Ãl.
	g_¥eùrum
,1,1,k”Ãl._¥eùrum,
	gŒue
).

37604 
g‘_mœrÜ
('x').
»size
(
k”Ãl
,-1);

37605 
	g_xûÁ”
 = 
k”Ãl
.
width
(è- 1 - 
_xûÁ”
;

37606 
	g_yûÁ”
 = 
k”Ãl
.
height
(è- 1 - 
_yûÁ”
;

37607 
	g_zûÁ”
 = 
k”Ãl
.
d•th
(è- 1 - 
_zûÁ”
;

37608 } 
	g_k”Ãl
 = 
k”Ãl
.
g‘_sh¬ed
();

37610 ià(
	g_k”Ãl
.
	g_width
==
_k”Ãl
.
_height
 && _k”Ãl.
_width
>1 && _kernel._height>1 &&

37611 ((
_k”Ãl
.
_d•th
==1 && _k”Ãl.
_width
<=5) || (_kernel._depth==_kernel._width && _kernel._width<=3)) &&

37612 
bound¬y_cÚd™iÚs
<=1 && 
chªÃl_mode
 &&

37613 
_xûÁ”
==
_k”Ãl
.
width
()/2 - 1 + (_kernel.width()%2) &&

37614 
_yûÁ”
==
_k”Ãl
.
height
()/2 - 1 + (_kernel.height()%2) &&

37615 
_zûÁ”
==
_k”Ãl
.
d•th
()/2 - 1 + (_kernel.depth()%2) &&

37616 
is_št_¡ride_d©iÚ
 && 
_xd©iÚ
>=0 && 
_yd©iÚ
>=0 && 
_zd©iÚ
>=0) {

37619 cÚ¡ 
dw
 = 1 - (
_k”Ãl
.
width
()%2), 
	gdh
 = 1 - (_k”Ãl.
height
()%2), 
	gdd
 = 1 - (_k”Ãl.
d•th
()%2);

37620 ià(
	gdw
 || 
	gdh
 || 
	gdd
)

37621 
	g_k”Ãl
.
g‘_»size
(
_k”Ãl
.
width
(è+ 
dw
,_k”Ãl.
height
(è+ 
dh
,_k”Ãl.
d•th
(è+ 
dd
,_k”Ãl.
¥eùrum
(),

37622 0,0,1,1,1).
move_to
(
_k”Ãl
.
assign
());

37624 ià(!
	gbound¬y_cÚd™iÚs
) {

37626 
	gdx
 = 
_k”Ãl
.
_width
==1?0:1,

37627 
	gdy
 = 
_k”Ãl
.
_height
==1?0:1,

37628 
	gdz
 = 
_k”Ãl
.
_d•th
==1?0:1;

37629  
g‘_üİ
(-
dx
,-
dy
,-
dz
,
width
(è- 1 + dx,
height
(è- 1 + dy,
d•th
() - 1 + dz).

37630 
_cÜ»Ï‹
(
_k”Ãl
,
Œue
,
is_nÜm®ized
,
chªÃl_mode
,
_xûÁ”
,
_yûÁ”
,
_zûÁ”
,

37631 
_x¡¬t
 + 
dx
,
_y¡¬t
 + 
dy
,
_z¡¬t
 + 
dz
,
_x’d
 + dx,
_y’d
 + dy,
_z’d
 + dz,

37632 
x¡ride
,
y¡ride
,
z¡ride
,
xd©iÚ
,
yd©iÚ
,
zd©iÚ
,
çl£
);

37635 
	g»s
.
assign
(
nwidth
,
nheight
,
nd•th
,
¡d
::
max
(
_¥eùrum
,
_k”Ãl
._spectrum));

37637 
	g_k”Ãl
.
	g_d•th
) {

37639 
cimg_fÜC
(
»s
,
c
) {

37640 
	gcimg_abÜt_‹¡
;

37641 cÚ¡ 
	gCImg
<
	gT
> 
	gI
 = 
g‘_sh¬ed_chªÃl
(
c
%
_¥eùrum
);

37642 cÚ¡ 
	gCImg
<
	gt
> 
	gK
 = 
_k”Ãl
.
g‘_sh¬ed_chªÃl
(
c
%
k”Ãl
.
_¥eùrum
);

37643 cÚ¡ 
	gw1
 = 
I
.
width
(è- 1, 
	gh1
 = I.
height
(è- 1, 
	gd1
 = I.
d•th
() - 1;

37644 
	gCImg
<
	gTtæßt
> 
	g_»s
 = 
»s
.
g‘_sh¬ed_chªÃl
(
c
);

37645 ià(
	gis_nÜm®ized
) {

37646 cÚ¡ 
Ttæßt
 
	gM
 = (Ttæßt)
K
.
magn™ude
(2), 
	gM2
 = 
M
*M;

37647 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
_»s
.
size
(),16384))

37648 
cimg_fÜXYZ
(
»s
,
X
,
Y
,
Z
) {

37650 
	gx
 = 
_x¡¬t
 + 
_x¡ride
*
X
, 
	gy
 = 
_y¡¬t
 + 
_y¡ride
*
Y
, 
	gz
 = 
_z¡¬t
 + 
_z¡ride
*
Z
,

37651 
	gpx
 = 
x
 - 
_xd©iÚ
>0?x - _xd©iÚ:0, 
	gnx
 = x + _xd©iÚ<
w1
?x + _xdilation:w1,

37652 
	gpy
 = 
y
 - 
_yd©iÚ
>0?y - _yd©iÚ:0, 
	gny
 = y + _yd©iÚ<
h1
?y + _ydilation:h1,

37653 
	gpz
 = 
z
 - 
_zd©iÚ
>0?z - _zd©iÚ:0, 
	gnz
 = z + _zd©iÚ<
d1
?z + _zdilation:d1;

37654 cÚ¡ 
Ttæßt
 
	gN
 = 
M2
*(
cimg
::
sqr
(
I
(
px
,
py
,
pz
)è+ 
	gcimg
::sqr(I(
x
,py,pz)è+ cimg::sqr(I(
nx
,py,pz)) +

37655 
	gcimg
::
sqr
(
I
(
px
,
y
,
pz
)è+ cimg::sqr(I(
x
,y,pz)è+ cimg::sqr(I(
nx
,y,pz)) +

37656 
	gcimg
::
sqr
(
I
(
px
,
ny
,
pz
)è+ cimg::sqr(I(
x
,ny,pz)è+ cimg::sqr(I(
nx
,ny,pz)) +

37657 
	gcimg
::
sqr
(
I
(
px
,
py
,
z
)è+ cimg::sqr(I(
x
,py,z)è+ cimg::sqr(I(
nx
,py,z)) +

37658 
	gcimg
::
sqr
(
I
(
px
,
y
,
z
)è+ cimg::sqr(I(
x
,y,z)è+ cimg::sqr(I(
nx
,y,z)) +

37659 
	gcimg
::
sqr
(
I
(
px
,
ny
,
z
)è+ cimg::sqr(I(
x
,ny,z)è+ cimg::sqr(I(
nx
,ny,z)) +

37660 
	gcimg
::
sqr
(
I
(
px
,
py
,
nz
)è+ cimg::sqr(I(
x
,py,nz)è+ cimg::sqr(I(
nx
,py,nz)) +

37661 
	gcimg
::
sqr
(
I
(
px
,
y
,
nz
)è+ cimg::sqr(I(
x
,y,nz)è+ cimg::sqr(I(
nx
,y,nz)) +

37662 
	gcimg
::
sqr
(
I
(
px
,
ny
,
nz
)è+ cimg::sqr(I(
x
,ny,nz)è+ cimg::sqr(I(
nx
,ny,nz)));

37663 
_»s
(
X
,
Y
,
Z
èğ(
Ttæßt
)(
N
?(
K
[0]*
I
(
px
,
py
,
pz
è+ 
	gK
[1]*I(
x
,py,pzè+ K[2]*I(
nx
,py,pz) +

37664 
	gK
[3]*
I
(
px
,
y
,
pz
è+ K[4]*I(
x
,y,pzè+ K[5]*I(
nx
,y,pz) +

37665 
	gK
[6]*
I
(
px
,
ny
,
pz
è+ K[7]*I(
x
,ny,pzè+ K[8]*I(
nx
,ny,pz) +

37666 
	gK
[9]*
I
(
px
,
py
,
z
è+ K[10]*I(
x
,py,zè+ K[11]*I(
nx
,py,z) +

37667 
	gK
[12]*
I
(
px
,
y
,
z
è+ K[13]*I(
x
,y,zè+ K[14]*I(
nx
,y,z) +

37668 
	gK
[15]*
I
(
px
,
ny
,
z
è+ K[16]*I(
x
,ny,zè+ K[17]*I(
nx
,ny,z) +

37669 
	gK
[18]*
I
(
px
,
py
,
nz
è+ K[19]*I(
x
,py,nzè+ K[20]*I(
nx
,py,nz) +

37670 
	gK
[21]*
I
(
px
,
y
,
nz
è+ K[22]*I(
x
,y,nzè+ K[23]*I(
nx
,y,nz) +

37671 
	gK
[24]*
I
(
px
,
ny
,
nz
è+ K[25]*I(
x
,ny,nzè+ K[26]*I(
nx
,ny,nz))/
	g¡d
::
sq¹
(
N
):0);

37674 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if_size
(
_»s
.
size
(),16384))

37675 
cimg_fÜXYZ
(
»s
,
X
,
Y
,
Z
) {

37677 
	gx
 = 
_x¡¬t
 + 
_x¡ride
*
X
, 
	gy
 = 
_y¡¬t
 + 
_y¡ride
*
Y
, 
	gz
 = 
_z¡¬t
 + 
_z¡ride
*
Z
,

37678 
	gpx
 = 
x
 - 
_xd©iÚ
>0?x - _xd©iÚ:0, 
	gnx
 = x + _xd©iÚ<
w1
?x + _xdilation:w1,

37679 
	gpy
 = 
y
 - 
_yd©iÚ
>0?y - _yd©iÚ:0, 
	gny
 = y + _yd©iÚ<
h1
?y + _ydilation:h1,

37680 
	gpz
 = 
z
 - 
_zd©iÚ
>0?z - _zd©iÚ:0, 
	gnz
 = z + _zd©iÚ<
d1
?z + _zdilation:d1;

37681 
_»s
(
X
,
Y
,
Z
èğ(
Ttæßt
)(
K
[0]*
I
(
px
,
py
,
pz
è+ 
	gK
[1]*I(
x
,py,pzè+ K[2]*I(
nx
,py,pz) +

37682 
	gK
[3]*
I
(
px
,
y
,
pz
è+ K[4]*I(
x
,y,pzè+ K[5]*I(
nx
,y,pz) +

37683 
	gK
[6]*
I
(
px
,
ny
,
pz
è+ K[7]*I(
x
,ny,pzè+ K[8]*I(
nx
,ny,pz) +

37684 
	gK
[9]*
I
(
px
,
py
,
z
è+ K[10]*I(
x
,py,zè+ K[11]*I(
nx
,py,z) +

37685 
	gK
[12]*
I
(
px
,
y
,
z
è+ K[13]*I(
x
,y,zè+ K[14]*I(
nx
,y,z) +

37686 
	gK
[15]*
I
(
px
,
ny
,
z
è+ K[16]*I(
x
,ny,zè+ K[17]*I(
nx
,ny,z) +

37687 
	gK
[18]*
I
(
px
,
py
,
nz
è+ K[19]*I(
x
,py,nzè+ K[20]*I(
nx
,py,nz) +

37688 
	gK
[21]*
I
(
px
,
y
,
nz
è+ K[22]*I(
x
,y,nzè+ K[23]*I(
nx
,y,nz) +

37689 
	gK
[24]*
I
(
px
,
ny
,
nz
è+ K[25]*I(
x
,ny,nzè+ K[26]*I(
nx
,ny,nz));

37697 
_k”Ãl
.
_width
) {

37699 
cimg_fÜC
(
»s
,
c
) {

37700 
	gcimg_abÜt_‹¡
;

37701 cÚ¡ 
	gCImg
<
	gT
> 
	gI
 = 
g‘_sh¬ed_chªÃl
(
c
%
_¥eùrum
);

37702 cÚ¡ 
	gCImg
<
	gt
> 
	gK
 = 
_k”Ãl
.
g‘_sh¬ed_chªÃl
(
c
%
k”Ãl
.
_¥eùrum
);

37703 cÚ¡ 
	gw1
 = 
I
.
width
(è- 1, 
	gh1
 = I.
height
() - 1;

37704 
	gCImg
<
	gTtæßt
> 
	g_»s
 = 
»s
.
g‘_sh¬ed_chªÃl
(
c
);

37705 ià(
	gis_nÜm®ized
) {

37706 cÚ¡ 
Ttæßt
 
	gM
 = (Ttæßt)
K
.
magn™ude
(2), 
	gM2
 = 
M
*M;

37707 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
_»s
.
size
(),16384))

37708 
cimg_fÜXYZ
(
»s
,
X
,
Y
,
z
) {

37710 
	gx
 = 
_x¡¬t
 + 
_x¡ride
*
X
, 
	gy
 = 
_y¡¬t
 + 
_y¡ride
*
Y
,

37711 
	gpx
 = 
x
 - 
_xd©iÚ
>0?x - _xd©iÚ:0, 
	gbx
 = 
px
 - _xdilation>0?px - _xdilation:0,

37712 
	gnx
 = 
x
 + 
_xd©iÚ
<
w1
?x + _xd©iÚ:w1, 
	gax
 = 
nx
 + _xdilation<w1?nx + _xdilation:w1,

37713 
	gpy
 = 
y
 - 
_yd©iÚ
>0?y - _yd©iÚ:0, 
	gby
 = 
py
 - _ydilation>0?py - _ydilation:0,

37714 
	gny
 = 
y
 + 
_yd©iÚ
<
h1
?y + _yd©iÚ:h1, 
	gay
 = 
ny
 + _ydilation<h1?ny + _ydilation:h1;

37715 cÚ¡ 
Ttæßt
 
	gN
 = 
M2
*(
cimg
::
sqr
(
I
(
bx
,
by
,
z
)è+ 
	gcimg
::sqr(I(
px
,by,z)è+ cimg::sqr(I(
x
,by,z)) +

37716 
	gcimg
::
sqr
(
I
(
nx
,
by
,
z
)è+ cimg::sqr(I(
ax
,by,z)) +

37717 
	gcimg
::
sqr
(
I
(
bx
,
py
,
z
)è+ cimg::sqr(I(
px
,py,z)è+ cimg::sqr(I(
x
,py,z)) +

37718 
	gcimg
::
sqr
(
I
(
nx
,
py
,
z
)è+ cimg::sqr(I(
ax
,py,z)) +

37719 
	gcimg
::
sqr
(
I
(
bx
,
y
,
z
)è+ cimg::sqr(I(
px
,y,z)è+ cimg::sqr(I(
x
,y,z)) +

37720 
	gcimg
::
sqr
(
I
(
nx
,
y
,
z
)è+ cimg::sqr(I(
ax
,y,z)) +

37721 
	gcimg
::
sqr
(
I
(
bx
,
ny
,
z
)è+ cimg::sqr(I(
px
,ny,z)è+ cimg::sqr(I(
x
,ny,z)) +

37722 
	gcimg
::
sqr
(
I
(
nx
,
ny
,
z
)è+ cimg::sqr(I(
ax
,ny,z)) +

37723 
	gcimg
::
sqr
(
I
(
bx
,
ay
,
z
)è+ cimg::sqr(I(
px
,ay,z)è+ cimg::sqr(I(
x
,ay,z)) +

37724 
	gcimg
::
sqr
(
I
(
nx
,
ay
,
z
)è+ cimg::sqr(I(
ax
,ay,z)));

37725 
_»s
(
X
,
Y
,
z
èğ(
Ttæßt
)(
N
?(
K
[0]*
I
(
bx
,
by
,zè+ 
	gK
[1]*I(
px
,by,zè+ K[2]*I(
x
,by,z) +

37726 
	gK
[3]*
I
(
nx
,
by
,
z
è+ K[4]*I(
ax
,by,z) +

37727 
	gK
[5]*
I
(
bx
,
py
,
z
è+ K[6]*I(
px
,py,zè+ K[7]*I(
x
,py,z) +

37728 
	gK
[8]*
I
(
nx
,
py
,
z
è+ K[9]*I(
ax
,py,z) +

37729 
	gK
[10]*
I
(
bx
,
y
,
z
è+ K[11]*I(
px
,y,zè+ K[12]*I(
x
,y,z) +

37730 
	gK
[13]*
I
(
nx
,
y
,
z
è+ K[14]*I(
ax
,y,z) +

37731 
	gK
[15]*
I
(
bx
,
ny
,
z
è+ K[16]*I(
px
,ny,zè+ K[17]*I(
x
,ny,z) +

37732 
	gK
[18]*
I
(
nx
,
ny
,
z
è+ K[19]*I(
ax
,ny,z) +

37733 
	gK
[20]*
I
(
bx
,
ay
,
z
è+ K[21]*I(
px
,ay,zè+ K[22]*I(
x
,ay,z) +

37734 
	gK
[23]*
I
(
nx
,
ay
,
z
è+ K[24]*I(
ax
,ay,z))/
	g¡d
::
sq¹
(
N
):0);

37737 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if_size
(
_»s
.
size
(),16384))

37738 
cimg_fÜXYZ
(
»s
,
X
,
Y
,
z
) {

37740 
	gx
 = 
_x¡¬t
 + 
_x¡ride
*
X
, 
	gy
 = 
_y¡¬t
 + 
_y¡ride
*
Y
,

37741 
	gpx
 = 
x
 - 
_xd©iÚ
>0?x - _xd©iÚ:0, 
	gbx
 = 
px
 - _xdilation>0?px - _xdilation:0,

37742 
	gnx
 = 
x
 + 
_xd©iÚ
<
w1
?x + _xd©iÚ:w1, 
	gax
 = 
nx
 + _xdilation<w1?nx + _xdilation:w1,

37743 
	gpy
 = 
y
 - 
_yd©iÚ
>0?y - _yd©iÚ:0, 
	gby
 = 
py
 - _ydilation>0?py - _ydilation:0,

37744 
	gny
 = 
y
 + 
_yd©iÚ
<
h1
?y + _yd©iÚ:h1, 
	gay
 = 
ny
 + _ydilation<h1?ny + _ydilation:h1;

37745 
_»s
(
X
,
Y
,
z
èğ(
Ttæßt
)(
K
[0]*
I
(
bx
,
by
,zè+ 
	gK
[1]*I(
px
,by,zè+ K[2]*I(
x
,by,z) +

37746 
	gK
[3]*
I
(
nx
,
by
,
z
è+ K[4]*I(
ax
,by,z) +

37747 
	gK
[5]*
I
(
bx
,
py
,
z
è+ K[6]*I(
px
,py,zè+ K[7]*I(
x
,py,z) +

37748 
	gK
[8]*
I
(
nx
,
py
,
z
è+ K[9]*I(
ax
,py,z) +

37749 
	gK
[10]*
I
(
bx
,
y
,
z
è+ K[11]*I(
px
,y,zè+ K[12]*I(
x
,y,z) +

37750 
	gK
[13]*
I
(
nx
,
y
,
z
è+ K[14]*I(
ax
,y,z) +

37751 
	gK
[15]*
I
(
bx
,
ny
,
z
è+ K[16]*I(
px
,ny,zè+ K[17]*I(
x
,ny,z) +

37752 
	gK
[18]*
I
(
nx
,
ny
,
z
è+ K[19]*I(
ax
,ny,z) +

37753 
	gK
[20]*
I
(
bx
,
ay
,
z
è+ K[21]*I(
px
,ay,zè+ K[22]*I(
x
,ay,z) +

37754 
	gK
[23]*
I
(
nx
,
ay
,
z
è+ K[24]*I(
ax
,ay,z));

37761 
cimg_fÜC
(
»s
,
c
) {

37762 
	gcimg_abÜt_‹¡
;

37763 cÚ¡ 
	gCImg
<
	gT
> 
	gI
 = 
g‘_sh¬ed_chªÃl
(
c
%
_¥eùrum
);

37764 cÚ¡ 
	gCImg
<
	gt
> 
	gK
 = 
_k”Ãl
.
g‘_sh¬ed_chªÃl
(
c
%
k”Ãl
.
_¥eùrum
);

37765 
	gCImg
<
	gTtæßt
> 
	g_»s
 = 
»s
.
g‘_sh¬ed_chªÃl
(
c
);

37766 cÚ¡ 
	gw1
 = 
I
.
width
(è- 1, 
	gh1
 = I.
height
() - 1;

37767 ià(
	gis_nÜm®ized
) {

37768 cÚ¡ 
Ttæßt
 
	gM
 = (Ttæßt)
K
.
magn™ude
(2), 
	gM2
 = 
M
*M;

37769 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
_»s
.
size
(),16384))

37770 
cimg_fÜXYZ
(
»s
,
X
,
Y
,
z
) {

37772 
	gx
 = 
_x¡¬t
 + 
_x¡ride
*
X
, 
	gy
 = 
_y¡¬t
 + 
_y¡ride
*
Y
,

37773 
	gpx
 = 
x
 - 
_xd©iÚ
>0?x - _xd©iÚ:0, 
	gnx
 = x + _xd©iÚ<
w1
?x + _xdilation:w1,

37774 
	gpy
 = 
y
 - 
_yd©iÚ
>0?y - _yd©iÚ:0, 
	gny
 = y + _yd©iÚ<
h1
?y + _ydilation:h1;

37775 cÚ¡ 
Ttæßt
 
	gN
 = 
M2
*(
cimg
::
sqr
(
I
(
px
,
py
,
z
)è+ 
	gcimg
::sqr(I(
x
,py,z)è+ cimg::sqr(I(
nx
,py,z)) +

37776 
	gcimg
::
sqr
(
I
(
px
,
y
,
z
)è+ cimg::sqr(I(
x
,y,z)è+ cimg::sqr(I(
nx
,y,z)) +

37777 
	gcimg
::
sqr
(
I
(
px
,
ny
,
z
)è+ cimg::sqr(I(
x
,ny,z)è+ cimg::sqr(I(
nx
,ny,z)));

37778 
_»s
(
X
,
Y
,
z
èğ(
Ttæßt
)(
N
?(
K
[0]*
I
(
px
,
py
,zè+ 
	gK
[1]*I(
x
,py,zè+ K[2]*I(
nx
,py,z) +

37779 
	gK
[3]*
I
(
px
,
y
,
z
è+ K[4]*I(
x
,y,zè+ K[5]*I(
nx
,y,z) +

37780 
	gK
[6]*
I
(
px
,
ny
,
z
è+ K[7]*I(
x
,ny,zè+ K[8]*I(
nx
,ny,z))/
	g¡d
::
sq¹
(
N
):0);

37783 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if_size
(
_»s
.
size
(),16384))

37784 
cimg_fÜXYZ
(
»s
,
X
,
Y
,
z
) {

37786 
	gx
 = 
_x¡¬t
 + 
_x¡ride
*
X
, 
	gy
 = 
_y¡¬t
 + 
_y¡ride
*
Y
,

37787 
	gpx
 = 
x
 - 
_xd©iÚ
>0?x - _xd©iÚ:0, 
	gnx
 = x + _xd©iÚ<
w1
?x + _xdilation:w1,

37788 
	gpy
 = 
y
 - 
_yd©iÚ
>0?y - _yd©iÚ:0, 
	gny
 = y + _yd©iÚ<
h1
?y + _ydilation:h1;

37789 
_»s
(
X
,
Y
,
z
èğ(
Ttæßt
)(
K
[0]*
I
(
px
,
py
,zè+ 
	gK
[1]*I(
x
,py,zè+ K[2]*I(
nx
,py,z) +

37790 
	gK
[3]*
I
(
px
,
y
,
z
è+ K[4]*I(
x
,y,zè+ K[5]*I(
nx
,y,z) +

37791 
	gK
[6]*
I
(
px
,
ny
,
z
è+ K[7]*I(
x
,ny,zè+ K[8]*I(
nx
,ny,z));

37799 } ià(
	g_k”Ãl
.
	g_width
==1 && 
_k”Ãl
.
_height
==1 && _k”Ãl.
_d•th
==1 &&

37800 
x¡ride
==1 && 
y¡ride
==1 && ystride==1) {

37803 
»s
 = 
g‘_üİ
(
_x¡¬t
,
_y¡¬t
,
_z¡¬t
,
_x’d
,
_y’d
,
_z’d
);

37804 
	gchªÃl_mode
) {

37806 
CImg
<
T
> 
»s0
 = 
»s
.
g‘_sh¬ed_chªÃl
(0);

37807 
	gc
 = 1; c<
	g»s
.
¥eùrum
(); ++cè
	g»s0
+=
»s
.
g‘_sh¬ed_chªÃl
(
c
);

37808 
	g»s
.
chªÃl
(0).
»size
(-100,-100,-100,
_k”Ãl
.
_¥eùrum
,0,2);

37809 
cimg_fÜC
(
»s
,
c
è
	g»s
.
g‘_sh¬ed_chªÃl
(c)*=
_k”Ãl
[c];

37812 
»s
.
»size
(-100,-100,-100,
¡d
::
max
Ôes.
_¥eùrum
,
_k”Ãl
._spectrum),0,2);

37813 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
is_ou‹r_·¿Î–
))

37814 
cimg_fÜC
(
»s
,
c
è
	g»s
.
g‘_sh¬ed_chªÃl
(c)*=
_k”Ãl
[c%_k”Ãl.
_¥eùrum
];

37817 
»s
.
»size
(-100,-100,-100,»s.
_¥eùrum
*
_k”Ãl
._spectrum,0,2);

37818 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
is_ou‹r_·¿Î–
))

37819 
cimg_fÜC
(
»s
,
c
è
	g»s
.
g‘_sh¬ed_chªÃl
(c)*=
_k”Ãl
[c/»s.
_¥eùrum
];

37825 
	g»s
.
assign
(
nwidth
,
nheight
,
nd•th
,

37826 
chªÃl_mode
==0?
_k”Ãl
.
_¥eùrum
:

37827 
chªÃl_mode
==1?
¡d
::
max
(
_¥eùrum
,
_k”Ãl
._spectrum):

37828 
_¥eùrum
*
_k”Ãl
._spectrum);

37830 ià(!
	gchªÃl_mode
) {

37831 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(!
is_šÃr_·¿Î–
 && 
is_ou‹r_·¿Î–
))

37832 
cimg_fÜC
(
_k”Ãl
,
kc
è
	g_cimg_abÜt_Œy_İ’mp
 {

37833 
	gcimg_abÜt_‹¡
;

37834 cÚ¡ 
	gCImg
<
	gt
> 
	gK
 = 
_k”Ãl
.
g‘_sh¬ed_chªÃl
(
kc
%_k”Ãl.
_¥eùrum
);

37835 
	gw2
 = 0, 
	gh2
 = 0, 
	gd2
 = 0;

37836 
Ttæßt
 
	gM
 = 0, 
	gM2
 = 0;

37837 ià(
	gis_nÜm®ized
è{ 
	gM
 = (
Ttæßt
)
K
.
magn™ude
(2); 
	gM2
 = 
M
*M; }

37838 ià(
	gbound¬y_cÚd™iÚs
>=3è{ 
w2
 = 2*
width
(); 
	gh2
 = 2*
height
(); 
	gd2
 = 2*
d•th
(); }

37839 
	g»s
.
fl
(0);

37840 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if
(
is_šÃr_·¿Î–
))

37841 
cimg_fÜXYZC
(
»s
,
x
,
y
,
z
,
c
) {

37842 
Ttæßt
 
	g_v®
, 
	gv®
 = 0, 
	gN
 = 0;

37844 ià(
	gis_št_¡ride_d©iÚ
)

37845 
cimg_fÜXYZ
(
_k”Ãl
,
p
,
q
,
r
) {

37847 
	gix
 = ()
x¡¬t
 + 
_x¡ride
*
x
 + 
_xd©iÚ
*(
p
 - 
_xûÁ”
),

37848 
	giy
 = ()
y¡¬t
 + 
_y¡ride
*
y
 + 
_yd©iÚ
*(
q
 - 
_yûÁ”
),

37849 
	giz
 = ()
z¡¬t
 + 
_z¡ride
*
z
 + 
_zd©iÚ
*(
r
 - 
_zûÁ”
);

37850 
	gbound¬y_cÚd™iÚs
) {

37851 0 : 
_v®
 = 
©XYZ
(
ix
,
iy
,
iz
,
c
,0); ;

37852 1 : 
_v®
 = 
_©XYZ
(
ix
,
iy
,
iz
,
c
); ;

37853 2 : 
_v®
 = (*
this
)(
cimg
::
mod
(
ix
,
width
()),
	gcimg
::mod(
iy
,
height
()),

37854 
	gcimg
::
mod
(
iz
,
d•th
()),
	gc
); ;

37856 cÚ¡ 
mx
 = 
cimg
::
mod
(
ix
,
w2
), 
	gmy
 = cimg::mod(
iy
,
h2
), 
	gmz
 = cimg::mod(
iz
,
d2
);

37857 
	g_v®
 = (*
this
)(
mx
<
width
()?mx:
w2
 - mx - 1,

37858 
	gmy
<
height
()?my:
h2
 - 
my
 - 1,

37859 
	gmz
<
d•th
()?mz:
d2
 - 
mz
 - 1);

37862 
	gv®
+=
_v®
*
K
(
p
,
q
,
r
);

37863 ià(
	gis_nÜm®ized
è
	gN
+=
_v®
*_val;

37866 
cimg_fÜXYZ
(
_k”Ãl
,
p
,
q
,
r
) {

37868 
	gix
 = 
x¡¬t
 + 
x¡ride
*
x
 + 
xd©iÚ
*(
p
 - 
_xûÁ”
),

37869 
	giy
 = 
y¡¬t
 + 
y¡ride
*
y
 + 
yd©iÚ
*(
q
 - 
_yûÁ”
),

37870 
	giz
 = 
z¡¬t
 + 
z¡ride
*
z
 + 
zd©iÚ
*(
r
 - 
_zûÁ”
);

37871 
	gbound¬y_cÚd™iÚs
) {

37872 0 : 
_v®
 = 
lš—r_©XYZ
(
ix
,
iy
,
iz
,
c
,0); ;

37873 1 : 
_v®
 = 
_lš—r_©XYZ
(
ix
,
iy
,
iz
,
c
); ;

37874 2 : 
_v®
 = 
_lš—r_©XYZ_p
(
ix
,
iy
,
iz
,
c
); ;

37876 cÚ¡ 
mx
 = 
cimg
::
mod
(
ix
,
w2
), 
	gmy
 = cimg::mod(
iy
,
h2
), 
	gmz
 = cimg::mod(
iz
,
d2
);

37877 
	g_v®
 = 
lš—r_©XYZ
(
mx
<
width
()?mx:
w2
 - mx - 1,

37878 
my
<
height
()?my:
h2
 - my - 1,

37879 
mz
<
d•th
()?mz:
d2
 - mz - 1,
c
);

37882 
	gv®
+=
_v®
*
K
(
p
,
q
,
r
);

37883 ià(
	gis_nÜm®ized
è
	gN
+=
_v®
*_val;

37885 
	gN
*=
M2
;

37886 
»s
(
x
,
y
,
z
,
c
è+ğ
is_nÜm®ized
?(
Ttæßt
)(
N
?
v®
/
¡d
::
sq¹
(N):0):val;

37888 } 
_cimg_abÜt_ÿtch_İ’mp


37889 
	gcimg_abÜt_‹¡
;

37892 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(!
is_šÃr_·¿Î–
 && 
is_ou‹r_·¿Î–
))

37893 
cimg_fÜC
(
»s
,
c
è
	g_cimg_abÜt_Œy_İ’mp
 {

37894 
	gcimg_abÜt_‹¡
;

37895 cÚ¡ 
	gCImg
<
	gT
> 
	gI
 = 
g‘_sh¬ed_chªÃl
(
c
%
_¥eùrum
);

37896 cÚ¡ 
	gCImg
<
	gt
> 
	gK
 = 
_k”Ãl
.
g‘_sh¬ed_chªÃl
(
chªÃl_mode
==1?
c
%_k”Ãl.
_¥eùrum
:c/_spectrum);

37897 
	gw2
 = 0, 
	gh2
 = 0, 
	gd2
 = 0;

37898 
Ttæßt
 
	gM
 = 0, 
	gM2
 = 0;

37899 ià(
	gis_nÜm®ized
è{ 
	gM
 = (
Ttæßt
)
K
.
magn™ude
(2); 
	gM2
 = 
M
*M; }

37900 ià(
	gbound¬y_cÚd™iÚs
>=3è{ 
w2
 = 2*
I
.
width
(); 
	gh2
 = 2*I.
height
(); 
	gd2
 = 2*I.
d•th
(); }

37901 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if
(
is_šÃr_·¿Î–
))

37902 
cimg_fÜXYZ
(
»s
,
x
,
y
,
z
) {

37903 
Ttæßt
 
	g_v®
, 
	gv®
 = 0, 
	gN
 = 0;

37905 ià(
	gis_št_¡ride_d©iÚ
)

37906 
cimg_fÜXYZ
(
_k”Ãl
,
p
,
q
,
r
) {

37908 
	gix
 = ()
x¡¬t
 + 
_x¡ride
*
x
 + 
_xd©iÚ
*(
p
 - 
_xûÁ”
),

37909 
	giy
 = ()
y¡¬t
 + 
_y¡ride
*
y
 + 
_yd©iÚ
*(
q
 - 
_yûÁ”
),

37910 
	giz
 = ()
z¡¬t
 + 
_z¡ride
*
z
 + 
_zd©iÚ
*(
r
 - 
_zûÁ”
);

37911 
	gbound¬y_cÚd™iÚs
) {

37912 0 : 
_v®
 = 
I
.
©XYZ
(
ix
,
iy
,
iz
,0,0); ;

37913 1 : 
_v®
 = 
I
.
_©XYZ
(
ix
,
iy
,
iz
); ;

37914 2 : 
_v®
 = 
I
(
cimg
::
mod
(
ix
,I.
width
()),cimg::mod(
iy
,I.
height
()),

37915 
cimg
::
mod
(
iz
,
I
.
d•th
())); ;

37917 cÚ¡ 
mx
 = 
cimg
::
mod
(
ix
,
w2
), 
	gmy
 = cimg::mod(
iy
,
h2
), 
	gmz
 = cimg::mod(
iz
,
d2
);

37918 
	g_v®
 = 
I
(
mx
<I.
width
()?mx:
w2
 - mx - 1,

37919 
my
<
I
.
height
()?my:
h2
 - my - 1,

37920 
mz
<
I
.
d•th
()?mz:
d2
 - mz - 1);

37923 
	gv®
+=
_v®
*
K
(
p
,
q
,
r
);

37924 ià(
	gis_nÜm®ized
è
	gN
+=
_v®
*_val;

37927 
cimg_fÜXYZ
(
_k”Ãl
,
p
,
q
,
r
) {

37929 
	gix
 = 
x¡¬t
 + 
x¡ride
*
x
 + 
xd©iÚ
*(
p
 - 
_xûÁ”
),

37930 
	giy
 = 
y¡¬t
 + 
y¡ride
*
y
 + 
yd©iÚ
*(
q
 - 
_yûÁ”
),

37931 
	giz
 = 
z¡¬t
 + 
z¡ride
*
z
 + 
zd©iÚ
*(
r
 - 
_zûÁ”
);

37932 
	gbound¬y_cÚd™iÚs
) {

37933 0 : 
_v®
 = 
I
.
lš—r_©XYZ
(
ix
,
iy
,
iz
,0,0); ;

37934 1 : 
_v®
 = 
I
.
_lš—r_©XYZ
(
ix
,
iy
,
iz
); ;

37935 2 : 
_v®
 = 
I
.
_lš—r_©XYZ_p
(
ix
,
iy
,
iz
); ;

37937 cÚ¡ 
mx
 = 
cimg
::
mod
(
ix
,
w2
), 
	gmy
 = cimg::mod(
iy
,
h2
), 
	gmz
 = cimg::mod(
iz
,
d2
);

37938 
	g_v®
 = 
I
.
lš—r_©XYZ
(
mx
<I.
width
()?mx:
w2
 - mx - 1,

37939 
my
<
I
.
height
()?my:
h2
 - my - 1,

37940 
mz
<
I
.
d•th
()?mz:
d2
 - mz - 1);

37943 
	gv®
+=
_v®
*
K
(
p
,
q
,
r
);

37944 ià(
	gis_nÜm®ized
è
	gN
+=
_v®
*_val;

37946 
	gN
*=
M2
;

37947 
»s
(
x
,
y
,
z
,
c
èğ
is_nÜm®ized
?(
Ttæßt
)(
N
?
v®
/
¡d
::
sq¹
(N):0):val;

37949 } 
_cimg_abÜt_ÿtch_İ’mp


37950 
	gcimg_abÜt_‹¡
;

37953  
	g»s
;

37982 
	g‹m¶©e
<
ty³Çme
 
	gt
>

37983 
	gCImg
<
	gT
>& 
cÚvŞve
(cÚ¡ 
CImg
<
t
>& 
k”Ãl
, cÚ¡ 
bound¬y_cÚd™iÚs
=1,

37984 cÚ¡ 
boŞ
 
is_nÜm®ized
=
çl£
, cÚ¡ 
chªÃl_mode
=1,

37985 cÚ¡ 
xûÁ”
=~0U, cÚ¡ 
yûÁ”
=~0U, cÚ¡ 
zûÁ”
=~0U,

37986 cÚ¡ 
x¡¬t
=0, cÚ¡ 
y¡¬t
=0, cÚ¡ 
z¡¬t
=0,

37987 cÚ¡ 
x’d
=~0U, cÚ¡ 
y’d
=~0U, cÚ¡ 
z’d
=~0U,

37988 cÚ¡ 
x¡ride
=1, cÚ¡ 
y¡ride
=1, cÚ¡ 
z¡ride
=1,

37989 cÚ¡ 
xd©iÚ
=1, cÚ¡ 
yd©iÚ
=1, cÚ¡ 
zd©iÚ
=1) {

37990 ià(
is_em±y
(è|| !
k”Ãl
è *
this
;

37991  
g‘_cÚvŞve
(
k”Ãl
,
bound¬y_cÚd™iÚs
,
is_nÜm®ized
,
chªÃl_mode
,

37992 
xûÁ”
,
yûÁ”
,
zûÁ”
,
x¡¬t
,
y¡¬t
,
z¡¬t
,
x’d
,
y’d
,
z’d
,

37993 
x¡ride
,
y¡ride
,
z¡ride
,
xd©iÚ
,
yd©iÚ
,
zd©iÚ
).
move_to
(*
this
);

37997 
	g‹m¶©e
<
ty³Çme
 
	gt
>

37998 
	gCImg
<
	g_cimg_Ttæßt
> 
g‘_cÚvŞve
(cÚ¡ 
CImg
<
t
>& 
k”Ãl
, cÚ¡ 
bound¬y_cÚd™iÚs
=1,

37999 cÚ¡ 
boŞ
 
is_nÜm®ized
=
çl£
, cÚ¡ 
chªÃl_mode
=1,

38000 cÚ¡ 
xûÁ”
=~0U, cÚ¡ 
yûÁ”
=~0U,

38001 cÚ¡ 
zûÁ”
=~0U,

38002 cÚ¡ 
x¡¬t
=0, cÚ¡ 
y¡¬t
=0, cÚ¡ 
z¡¬t
=0,

38003 cÚ¡ 
x’d
=~0U, cÚ¡ 
y’d
=~0U,

38004 cÚ¡ 
z’d
=~0U,

38005 cÚ¡ 
x¡ride
=1, cÚ¡ 
y¡ride
=1, cÚ¡ 
z¡ride
=1,

38006 cÚ¡ 
xd©iÚ
=1, cÚ¡ 
yd©iÚ
=1, cÚ¡ 
zd©iÚ
=1) const {

38007  
_cÜ»Ï‹
(
k”Ãl
,
bound¬y_cÚd™iÚs
,
is_nÜm®ized
,
chªÃl_mode
,

38008 
xûÁ”
,
yûÁ”
,
zûÁ”
,
x¡¬t
,
y¡¬t
,
z¡¬t
,
x’d
,
y’d
,
z’d
,

38009 
x¡ride
,
y¡ride
,
z¡ride
,
xd©iÚ
,
yd©iÚ
,
zd©iÚ
,
Œue
);

38016 
	gCImg
<
	gT
>& 
cumuÏ‹
(cÚ¡ 
axis
=0) {

38017 
cimg
::
low”ÿ£
(
axis
)) {

38019 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*512 &&

38020 
_height
*
_d•th
*
_¥eùrum
>=16))

38021 
cimg_fÜYZC
(*
this
,
y
,
z
,
c
) {

38022 
T
 *
	g±rd
 = 
d©a
(0,
y
,
z
,
c
);

38023 
TlÚg
 
	gcumul
 = (Tlong)0;

38024 
cimg_fÜX
(*
this
,
x
è{ 
	gcumul
+=(
TlÚg
)*
±rd
; *(
	g±rd
++èğ(
T
)
cumul
; }

38028 cÚ¡ 
ulÚgT
 
w
 = (ulÚgT)
_width
;

38029 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if
(
_height
>=(
cimg_İ’mp_sizeçùÜ
)*512 &&

38030 
_width
*
_d•th
*
_¥eùrum
>=16))

38031 
cimg_fÜXZC
(*
this
,
x
,
z
,
c
) {

38032 
T
 *
	g±rd
 = 
d©a
(
x
,0,
z
,
c
);

38033 
TlÚg
 
	gcumul
 = (Tlong)0;

38034 
cimg_fÜY
(*
this
,
y
è{ 
	gcumul
+=(
TlÚg
)*
±rd
; *
	g±rd
 = (
T
)
cumul
;…Œd+=
w
; }

38038 cÚ¡ 
ulÚgT
 
wh
 = (ulÚgT)
_width
*
_height
;

38039 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if
(
_d•th
>=(
cimg_İ’mp_sizeçùÜ
)*512 &&

38040 
_width
*
_d•th
*
_¥eùrum
>=16))

38041 
cimg_fÜXYC
(*
this
,
x
,
y
,
c
) {

38042 
T
 *
	g±rd
 = 
d©a
(
x
,
y
,0,
c
);

38043 
TlÚg
 
	gcumul
 = (Tlong)0;

38044 
cimg_fÜZ
(*
this
,
z
è{ 
	gcumul
+=(
TlÚg
)*
±rd
; *
	g±rd
 = (
T
)
cumul
;…Œd+=
wh
; }

38048 cÚ¡ 
ulÚgT
 
whd
 = (ulÚgT)
_width
*
_height
*
_d•th
;

38049 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3)

38050 
cimg_İ’mp_if
(
_¥eùrum
>=(
cimg_İ’mp_sizeçùÜ
)*512 && 
_width
*
_height
*
_d•th
>=16))

38051 
cimg_fÜXYZ
(*
this
,
x
,
y
,
z
) {

38052 
T
 *
	g±rd
 = 
d©a
(
x
,
y
,
z
,0);

38053 
TlÚg
 
	gcumul
 = (Tlong)0;

38054 
cimg_fÜC
(*
this
,
c
è{ 
	gcumul
+=(
TlÚg
)*
±rd
; *
	g±rd
 = (
T
)
cumul
;…Œd+=
whd
; }

38058 
TlÚg
 
cumul
 = (Tlong)0;

38059 
cimg_fÜ
(*
this
,
±rd
,
T
è{ 
	gcumul
+=(
TlÚg
)*±rd; *
	g±rd
 = (T)
cumul
; }

38062  *
	gthis
;

38066 
	gCImg
<
	gTlÚg
> 
g‘_cumuÏ‹
(cÚ¡ 
axis
=0) const {

38067  
CImg
<
TlÚg
>(*
this
,
çl£
).
cumuÏ‹
(
axis
);

38075 
	gCImg
<
	gT
>& 
cumuÏ‹
(cÚ¡ *cÚ¡ 
axes
) {

38076 cÚ¡ *
	gs
 = 
axes
; *s; ++sè
cumuÏ‹
(*
s
);

38077  *
	gthis
;

38081 
	gCImg
<
	gTlÚg
> 
g‘_cumuÏ‹
(cÚ¡ *cÚ¡ 
axes
) const {

38082  
	gCImg
<
	gTlÚg
>(*
	gthis
,
	gçl£
).
cumuÏ‹
(
axes
);

38091 
	g‹m¶©e
<
ty³Çme
 
	gt
>

38092 
	gCImg
<
	gT
>& 
”ode
(cÚ¡ 
CImg
<
t
>& 
k”Ãl
, cÚ¡ 
boŞ
 
bound¬y_cÚd™iÚs
=
Œue
,

38093 cÚ¡ 
boŞ
 
is_»®
=
çl£
) {

38094 ià(
is_em±y
(è|| !
k”Ãl
è *
this
;

38095  
g‘_”ode
(
k”Ãl
,
bound¬y_cÚd™iÚs
,
is_»®
).
move_to
(*
this
);

38099 
	g‹m¶©e
<
ty³Çme
 
	gt
>

38100 
	gCImg
<
	g_cimg_Tt
> 
g‘_”ode
(cÚ¡ 
CImg
<
t
>& 
k”Ãl
, cÚ¡ 
boŞ
 
bound¬y_cÚd™iÚs
=
Œue
,

38101 cÚ¡ 
boŞ
 
is_»®
=
çl£
) const {

38102 ià(
is_em±y
(è|| !
k”Ãl
è *
this
;

38103 ià(!
	gis_»®
 && 
	gk”Ãl
==0è 
CImg
<
T
>(
width
(),
height
(),
d•th
(),
¥eùrum
(),0);

38104 
_cimg_Tt
 
	tTt
;

38105 
	gCImg
<
	gTt
> 
»s
(
_width
,
_height
,
_d•th
,
¡d
::
max
(
_¥eùrum
,
k”Ãl
._spectrum));

38107 
	gmx2
 = 
k”Ãl
.
width
()/2, 
	gmy2
 = k”Ãl.
height
()/2, 
	gmz2
 = k”Ãl.
d•th
()/2,

38108 
	gmx1
 = 
k”Ãl
.
width
(è- 
mx2
 - 1, 
	gmy1
 = k”Ãl.
height
(è- 
my2
 - 1, 
	gmz1
 = k”Ãl.
d•th
(è- 
mz2
 - 1,

38109 
	gmxe
 = 
width
(è- 
mx2
, 
	gmye
 = 
height
(è- 
my2
, 
	gmze
 = 
d•th
(è- 
mz2
;

38110 cÚ¡ 
boŞ


38111 
	gis_šÃr_·¿Î–
 = 
_width
*
_height
*
_d•th
>=(
cimg_İ’mp_sizeçùÜ
)*32768,

38112 
	gis_ou‹r_·¿Î–
 = 
»s
.
size
()>=(
cimg_İ’mp_sizeçùÜ
)*32768;

38113 
	gcimg
::
unu£d
(
is_šÃr_·¿Î–
,
is_ou‹r_·¿Î–
);

38114 
	g_cimg_abÜt_š™_İ’mp
;

38115 
	gcimg_abÜt_š™
;

38116 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(!
is_šÃr_·¿Î–
 && 
is_ou‹r_·¿Î–
))

38117 
cimg_fÜC
(
»s
,
c
è
	g_cimg_abÜt_Œy_İ’mp
 {

38118 
	gcimg_abÜt_‹¡
;

38119 cÚ¡ 
	gCImg
<
	gT
> 
	gimg
 = 
g‘_sh¬ed_chªÃl
(
c
%
_¥eùrum
);

38120 cÚ¡ 
	gCImg
<
	gt
> 
	gK
 = 
k”Ãl
.
g‘_sh¬ed_chªÃl
(
c
%k”Ãl.
_¥eùrum
);

38121 ià(
	gis_»®
) {

38122 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if
(
is_šÃr_·¿Î–
))

38123 
	gz
 = 
mz1
; z<
	gmze
; ++z)

38124 
	gy
 = 
my1
; y<
	gmye
; ++y)

38125 
	gx
 = 
mx1
; x<
	gmxe
; ++xè
	g_cimg_abÜt_Œy_İ’mp2
 {

38126 
	gcimg_abÜt_‹¡2
;

38127 
Tt
 
	gmš_v®
 = 
cimg
::
ty³
<Tt>::
max
();

38128 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

38129 
	gym
 = -
my1
; ym<=
my2
; ++ym)

38130 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm) {

38131 cÚ¡ 
t
 
	gmv®
 = 
K
(
mx1
 + 
xm
,
my1
 + 
ym
,
mz1
 + 
zm
);

38132 cÚ¡ 
Tt
 
	gcv®
 = (Tt)(
img
(
x
 + 
xm
,
y
 + 
ym
,
z
 + 
zm
è- 
	gmv®
);

38133 ià(
	gcv®
<
	gmš_v®
èmš_v® = 
cv®
;

38135 
»s
(
x
,
y
,
z
,
c
èğ
mš_v®
;

38136 } 
_cimg_abÜt_ÿtch_İ’mp2


38137 ià(
	gbound¬y_cÚd™iÚs
)

38138 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if
(
is_šÃr_·¿Î–
))

38139 
cimg_fÜYZ
(
»s
,
y
,
z
è
	g_cimg_abÜt_Œy_İ’mp2
 {

38140 
	gcimg_abÜt_‹¡2
;

38141 
	gx
 = 0; x<
width
(); (
	gy
<
	gmy1
 || y>=
mye
 || 
z
<
mz1
 || z>=
mze
)?++
x
:((x<
mx1
 - 1 || x>=
mxe
)?++x:(x=mxe))) {

38142 
Tt
 
mš_v®
 = 
cimg
::
ty³
<Tt>::
max
();

38143 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

38144 
	gym
 = -
my1
; ym<=
my2
; ++ym)

38145 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm) {

38146 cÚ¡ 
t
 
	gmv®
 = 
K
(
mx1
 + 
xm
,
my1
 + 
ym
,
mz1
 + 
zm
);

38147 cÚ¡ 
Tt
 
	gcv®
 = (Tt)(
img
.
_©XYZ
(
x
 + 
xm
,
y
 + 
ym
,
z
 + 
zm
è- 
	gmv®
);

38148 ià(
	gcv®
<
	gmš_v®
èmš_v® = 
cv®
;

38150 
»s
(
x
,
y
,
z
,
c
èğ
mš_v®
;

38152 } 
_cimg_abÜt_ÿtch_İ’mp2


38154 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if
(
is_šÃr_·¿Î–
))

38155 
cimg_fÜYZ
(
»s
,
y
,
z
è
	g_cimg_abÜt_Œy_İ’mp2
 {

38156 
	gcimg_abÜt_‹¡2
;

38157 
	gx
 = 0; x<
width
(); (
	gy
<
	gmy1
 || y>=
mye
 || 
z
<
mz1
 || z>=
mze
)?++
x
:((x<
mx1
 - 1 || x>=
mxe
)?++x:(x=mxe))) {

38158 
Tt
 
mš_v®
 = 
cimg
::
ty³
<Tt>::
max
();

38159 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

38160 
	gym
 = -
my1
; ym<=
my2
; ++ym)

38161 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm) {

38162 cÚ¡ 
t
 
	gmv®
 = 
K
(
mx1
 + 
xm
,
my1
 + 
ym
,
mz1
 + 
zm
);

38163 cÚ¡ 
Tt
 
	gcv®
 = (Tt)(
img
.
©XYZ
(
x
 + 
xm
,
y
 + 
ym
,
z
 + 
zm
,0,(
T
)0è- 
	gmv®
);

38164 ià(
	gcv®
<
	gmš_v®
èmš_v® = 
cv®
;

38166 
»s
(
x
,
y
,
z
,
c
èğ
mš_v®
;

38168 } 
	g_cimg_abÜt_ÿtch_İ’mp2


38171 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if
(
is_šÃr_·¿Î–
))

38172 
	gz
 = 
mz1
; z<
	gmze
; ++z)

38173 
	gy
 = 
my1
; y<
	gmye
; ++y)

38174 
	gx
 = 
mx1
; x<
	gmxe
; ++xè
	g_cimg_abÜt_Œy_İ’mp2
 {

38175 
	gcimg_abÜt_‹¡2
;

38176 
Tt
 
	gmš_v®
 = 
cimg
::
ty³
<Tt>::
max
();

38177 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

38178 
	gym
 = -
my1
; ym<=
my2
; ++ym)

38179 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm)

38180 ià(
K
(
mx1
 + 
xm
,
my1
 + 
ym
,
mz1
 + 
zm
)) {

38181 cÚ¡ 
Tt
 
	gcv®
 = (Tt)
img
(
x
 + 
xm
,
y
 + 
ym
,
z
 + 
zm
);

38182 ià(
	gcv®
<
	gmš_v®
èmš_v® = 
cv®
;

38184 
»s
(
x
,
y
,
z
,
c
èğ
mš_v®
;

38185 } 
_cimg_abÜt_ÿtch_İ’mp2


38186 ià(
	gbound¬y_cÚd™iÚs
)

38187 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if
(
is_šÃr_·¿Î–
))

38188 
cimg_fÜYZ
(
»s
,
y
,
z
è
	g_cimg_abÜt_Œy_İ’mp2
 {

38189 
	gcimg_abÜt_‹¡2
;

38190 
	gx
 = 0; x<
width
(); (
	gy
<
	gmy1
 || y>=
mye
 || 
z
<
mz1
 || z>=
mze
)?++
x
:((x<
mx1
 - 1 || x>=
mxe
)?++x:(x=mxe))) {

38191 
Tt
 
mš_v®
 = 
cimg
::
ty³
<Tt>::
max
();

38192 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

38193 
	gym
 = -
my1
; ym<=
my2
; ++ym)

38194 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm)

38195 ià(
K
(
mx1
 + 
xm
,
my1
 + 
ym
,
mz1
 + 
zm
)) {

38196 cÚ¡ 
Tt
 
	gcv®
 = (Tt)
img
.
_©XYZ
(
x
 + 
xm
,
y
 + 
ym
,
z
 + 
zm
);

38197 ià(
	gcv®
<
	gmš_v®
èmš_v® = 
cv®
;

38199 
»s
(
x
,
y
,
z
,
c
èğ
mš_v®
;

38201 } 
_cimg_abÜt_ÿtch_İ’mp2


38203 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if
(
is_šÃr_·¿Î–
))

38204 
cimg_fÜYZ
(
»s
,
y
,
z
è
	g_cimg_abÜt_Œy_İ’mp2
 {

38205 
	gcimg_abÜt_‹¡2
;

38206 
	gx
 = 0; x<
width
(); (
	gy
<
	gmy1
 || y>=
mye
 || 
z
<
mz1
 || z>=
mze
)?++
x
:((x<
mx1
 - 1 || x>=
mxe
)?++x:(x=mxe))) {

38207 
Tt
 
mš_v®
 = 
cimg
::
ty³
<Tt>::
max
();

38208 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

38209 
	gym
 = -
my1
; ym<=
my2
; ++ym)

38210 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm)

38211 ià(
K
(
mx1
 + 
xm
,
my1
 + 
ym
,
mz1
 + 
zm
)) {

38212 cÚ¡ 
Tt
 
	gcv®
 = (Tt)
img
.
©XYZ
(
x
 + 
xm
,
y
 + 
ym
,
z
 + 
zm
,0,(
T
)0);

38213 ià(
	gcv®
<
	gmš_v®
èmš_v® = 
cv®
;

38215 
»s
(
x
,
y
,
z
,
c
èğ
mš_v®
;

38217 } 
	g_cimg_abÜt_ÿtch_İ’mp2


38219 } 
_cimg_abÜt_ÿtch_İ’mp


38220 
	gcimg_abÜt_‹¡
;

38221  
	g»s
;

38230 
	gCImg
<
	gT
>& 
”ode
(cÚ¡ 
sx
, cÚ¡ 
sy
, cÚ¡ 
sz
=1) {

38231 ià(
is_em±y
(è|| (
sx
==1 && 
sy
==1 && 
sz
==1)è *
this
;

38232 ià(
	gsx
>1 && 
	g_width
>1) {

38233 cÚ¡ 
	gL
 = 
width
(), 
	goff
 = 1, 
	gs
 = ()
sx
, 
	g_s2
 = 
s
/2 + 1, 
	g_s1
 = s - 
_s2
, 
	gs1
 = 
_s1
>
L
?L:_s1, 
	gs2
 = _s2>L?L:_s2;

38234 
	gCImg
<
	gT
> 
buf
(
L
);

38235 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
fœ¡´iv©e
(
buf
èià(
size
()>524288))

38236 
cimg_fÜYZC
(*
this
,
y
,
z
,
c
) {

38237 
T
 *cÚ¡ 
	g±rdb
 = 
buf
.
_d©a
, *
	g±rd
 = buf._d©a, *cÚ¡ 
	g±rde
 = buf._d©¨+ 
L
 - 1;

38238 cÚ¡ 
T
 *cÚ¡ 
	g±rsb
 = 
d©a
(0,
y
,
z
,
c
), *
	g±rs
 = 
±rsb
, *cÚ¡ 
	g±r£
 = 
±rs
 + 
L
*
off
 - off;

38239 
T
 
	gcur
 = *
±rs
; 
	g±rs
+=
off
; 
boŞ
 
	gis_fœ¡
 = 
Œue
;

38240 
	gp
 = 
s2
 - 1;…>0 && 
	g±rs
<=
±r£
; --p) {

38241 cÚ¡ 
T
 
	gv®
 = *
±rs
; 
	g±rs
+=
off
; ià(v®<=
cur
è{ cu¸ğ
v®
; 
	gis_fœ¡
 = 
çl£
; }}

38242 *(
	g±rd
++èğ
cur
;

38243 ià(
	g±rs
>=
±r£
) {

38244 
T
 *
pd
 = 
d©a
(0,
y
,
z
,
c
); 
	gcur
 = 
¡d
::
mš
(
cur
,*
±r£
); 
cimg_fÜX
(
buf
,
k
è{ *
	gpd
 = cur;…d+=
off
; }

38246 
	gp
 = 
s1
;…>0 && 
	g±rd
<=
±rde
; --p) {

38247 cÚ¡ 
T
 
	gv®
 = *
±rs
; ià(
	g±rs
<
	g±r£
è±rs+=
off
; ià(v®<=
cur
è{ cu¸ğ
v®
; 
	gis_fœ¡
 = 
çl£
; }

38248 *(
	g±rd
++èğ
cur
;

38250 
	gp
 = 
L
 - 
s
 - 1;…>0; --p) {

38251 cÚ¡ 
T
 
	gv®
 = *
±rs
; 
	g±rs
+=
off
;

38252 ià(
	gis_fœ¡
) {

38253 cÚ¡ 
T
 *
	gÅŒs
 = 
±rs
 - 
off
; 
	gcur
 = 
v®
;

38254 
	gq
 = 
s
 - 2; q>0; --qè{ 
	gÅŒs
-=
off
; cÚ¡ 
T
 
	gnv®
 = *
ÅŒs
; iàÒv®<
	gcur
ècu¸ğ
nv®
; }

38255 
	gÅŒs
-=
off
; cÚ¡ 
T
 
	gnv®
 = *
ÅŒs
; iàÒv®<
	gcur
è{ cu¸ğ
nv®
; 
	gis_fœ¡
 = 
Œue
; } is_fœ¡ = 
çl£
;

38256 } { ià(
	gv®
<=
cur
ècu¸ğ
v®
; ià(
	gcur
==*(
±rs
-
s
*
off
)è
is_fœ¡
 = 
Œue
; }

38257 *(
	g±rd
++èğ
cur
;

38259 
	g±rd
 = 
±rde
; 
	g±rs
 = 
±r£
; 
	gcur
 = *
±rs
;…Œs-=
off
;

38260 
	gp
 = 
s1
;…>0 && 
	g±rs
>=
±rsb
; --p) {

38261 cÚ¡ 
T
 
	gv®
 = *
±rs
; 
	g±rs
-=
off
; ià(v®<
	gcur
ècu¸ğ
v®
;

38263 *(
	g±rd
--èğ
cur
;

38264 
	gp
 = 
s2
 - 1;…>0 && 
	g±rd
>=
±rdb
; --p) {

38265 cÚ¡ 
T
 
	gv®
 = *
±rs
; ià(
	g±rs
>
	g±rsb
è±rs-=
off
; ià(v®<
	gcur
ècu¸ğ
v®
; *(
	g±rd
--èğ
cur
;

38267 
T
 *
	gpd
 = 
d©a
(0,
y
,
z
,
c
); 
cimg_fÜ
(
buf
,
ps
,Tè{ *pd = *ps;…d+=
off
; }

38272 ià(
	gsy
>1 && 
	g_height
>1) {

38273 cÚ¡ 
	gL
 = 
height
(), 
	goff
 = 
width
(), 
	gs
 = ()
sy
, 
	g_s2
 = 
s
/2 + 1, 
	g_s1
 = s - 
_s2
, 
	gs1
 = 
_s1
>
L
?L:_s1,

38274 
	gs2
 = 
_s2
>
L
?L:_s2;

38275 
	gCImg
<
	gT
> 
buf
(
L
);

38276 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
fœ¡´iv©e
(
buf
èià(
size
()>524288))

38277 
cimg_fÜXZC
(*
this
,
x
,
z
,
c
) {

38278 
T
 *cÚ¡ 
	g±rdb
 = 
buf
.
_d©a
, *
	g±rd
 = 
±rdb
, *cÚ¡ 
	g±rde
 = buf._d©¨+ 
L
 - 1;

38279 cÚ¡ 
T
 *cÚ¡ 
	g±rsb
 = 
d©a
(
x
,0,
z
,
c
), *
	g±rs
 = 
±rsb
, *cÚ¡ 
	g±r£
 = 
±rs
 + 
L
*
off
 - off;

38280 
T
 
	gcur
 = *
±rs
; 
	g±rs
+=
off
; 
boŞ
 
	gis_fœ¡
 = 
Œue
;

38281 
	gp
 = 
s2
 - 1;…>0 && 
	g±rs
<=
±r£
; --p) {

38282 cÚ¡ 
T
 
	gv®
 = *
±rs
; 
	g±rs
+=
off
; ià(v®<=
cur
è{ cu¸ğ
v®
; 
	gis_fœ¡
 = 
çl£
; }

38284 *(
	g±rd
++èğ
cur
;

38285 ià(
	g±rs
>=
±r£
) {

38286 
T
 *
pd
 = 
d©a
(
x
,0,
z
,
c
); 
	gcur
 = 
¡d
::
mš
(
cur
,*
±r£
); 
cimg_fÜX
(
buf
,
k
è{ *
	gpd
 = cur;…d+=
off
; }

38288 
	gp
 = 
s1
;…>0 && 
	g±rd
<=
±rde
; --p) {

38289 cÚ¡ 
T
 
	gv®
 = *
±rs
; ià(
	g±rs
<
	g±r£
è±rs+=
off
; ià(v®<=
cur
è{ cu¸ğ
v®
; 
	gis_fœ¡
 = 
çl£
; }

38290 *(
	g±rd
++èğ
cur
;

38292 
	gp
 = 
L
 - 
s
 - 1;…>0; --p) {

38293 cÚ¡ 
T
 
	gv®
 = *
±rs
; 
	g±rs
+=
off
;

38294 ià(
	gis_fœ¡
) {

38295 cÚ¡ 
T
 *
	gÅŒs
 = 
±rs
 - 
off
; 
	gcur
 = 
v®
;

38296 
	gq
 = 
s
 - 2; q>0; --qè{ 
	gÅŒs
-=
off
; cÚ¡ 
T
 
	gnv®
 = *
ÅŒs
; iàÒv®<
	gcur
ècu¸ğ
nv®
; }

38297 
	gÅŒs
-=
off
; cÚ¡ 
T
 
	gnv®
 = *
ÅŒs
; iàÒv®<
	gcur
è{ cu¸ğ
nv®
; 
	gis_fœ¡
 = 
Œue
; } is_fœ¡ = 
çl£
;

38298 } { ià(
	gv®
<=
cur
ècu¸ğ
v®
; ià(
	gcur
==*(
±rs
-
s
*
off
)è
is_fœ¡
 = 
Œue
; }

38299 *(
	g±rd
++èğ
cur
;

38301 
	g±rd
 = 
±rde
; 
	g±rs
 = 
±r£
; 
	gcur
 = *
±rs
;…Œs-=
off
;

38302 
	gp
 = 
s1
;…>0 && 
	g±rs
>=
±rsb
; --p) {

38303 cÚ¡ 
T
 
	gv®
 = *
±rs
; 
	g±rs
-=
off
; ià(v®<
	gcur
ècu¸ğ
v®
;

38305 *(
	g±rd
--èğ
cur
;

38306 
	gp
 = 
s2
 - 1;…>0 && 
	g±rd
>=
±rdb
; --p) {

38307 cÚ¡ 
T
 
	gv®
 = *
±rs
; ià(
	g±rs
>
	g±rsb
è±rs-=
off
; ià(v®<
	gcur
ècu¸ğ
v®
; *(
	g±rd
--èğ
cur
;

38309 
T
 *
	gpd
 = 
d©a
(
x
,0,
z
,
c
); 
cimg_fÜ
(
buf
,
ps
,Tè{ *pd = *ps;…d+=
off
; }

38314 ià(
	gsz
>1 && 
	g_d•th
>1) {

38315 cÚ¡ 
	gL
 = 
d•th
(), 
	goff
 = 
width
()*
height
(), 
	gs
 = ()
sz
, 
	g_s2
 = 
s
/2 + 1, 
	g_s1
 = s - 
_s2
, 
	gs1
 = 
_s1
>
L
?L:_s1,

38316 
	gs2
 = 
_s2
>
L
?L:_s2;

38317 
	gCImg
<
	gT
> 
buf
(
L
);

38318 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
fœ¡´iv©e
(
buf
èià(
size
()>524288))

38319 
cimg_fÜXYC
(*
this
,
x
,
y
,
c
) {

38320 
T
 *cÚ¡ 
	g±rdb
 = 
buf
.
_d©a
, *
	g±rd
 = 
±rdb
, *cÚ¡ 
	g±rde
 = buf._d©¨+ 
L
 - 1;

38321 cÚ¡ 
T
 *cÚ¡ 
	g±rsb
 = 
d©a
(
x
,
y
,0,
c
), *
	g±rs
 = 
±rsb
, *cÚ¡ 
	g±r£
 = 
±rs
 + 
L
*
off
 - off;

38322 
T
 
	gcur
 = *
±rs
; 
	g±rs
+=
off
; 
boŞ
 
	gis_fœ¡
 = 
Œue
;

38323 
	gp
 = 
s2
 - 1;…>0 && 
	g±rs
<=
±r£
; --p) {

38324 cÚ¡ 
T
 
	gv®
 = *
±rs
; 
	g±rs
+=
off
; ià(v®<=
cur
è{ cu¸ğ
v®
; 
	gis_fœ¡
 = 
çl£
; }

38326 *(
	g±rd
++èğ
cur
;

38327 ià(
	g±rs
>=
±r£
) {

38328 
T
 *
pd
 = 
d©a
(
x
,
y
,0,
c
); 
	gcur
 = 
¡d
::
mš
(
cur
,*
±r£
); 
cimg_fÜX
(
buf
,
k
è{ *
	gpd
 = cur;…d+=
off
; }

38330 
	gp
 = 
s1
;…>0 && 
	g±rd
<=
±rde
; --p) {

38331 cÚ¡ 
T
 
	gv®
 = *
±rs
; ià(
	g±rs
<
	g±r£
è±rs+=
off
; ià(v®<=
cur
è{ cu¸ğ
v®
; 
	gis_fœ¡
 = 
çl£
; }

38332 *(
	g±rd
++èğ
cur
;

38334 
	gp
 = 
L
 - 
s
 - 1;…>0; --p) {

38335 cÚ¡ 
T
 
	gv®
 = *
±rs
; 
	g±rs
+=
off
;

38336 ià(
	gis_fœ¡
) {

38337 cÚ¡ 
T
 *
	gÅŒs
 = 
±rs
 - 
off
; 
	gcur
 = 
v®
;

38338 
	gq
 = 
s
 - 2; q>0; --qè{ 
	gÅŒs
-=
off
; cÚ¡ 
T
 
	gnv®
 = *
ÅŒs
; iàÒv®<
	gcur
ècu¸ğ
nv®
; }

38339 
	gÅŒs
-=
off
; cÚ¡ 
T
 
	gnv®
 = *
ÅŒs
; iàÒv®<
	gcur
è{ cu¸ğ
nv®
; 
	gis_fœ¡
 = 
Œue
; } is_fœ¡ = 
çl£
;

38340 } { ià(
	gv®
<=
cur
ècu¸ğ
v®
; ià(
	gcur
==*(
±rs
-
s
*
off
)è
is_fœ¡
 = 
Œue
; }

38341 *(
	g±rd
++èğ
cur
;

38343 
	g±rd
 = 
±rde
; 
	g±rs
 = 
±r£
; 
	gcur
 = *
±rs
;…Œs-=
off
;

38344 
	gp
 = 
s1
;…>0 && 
	g±rs
>=
±rsb
; --p) {

38345 cÚ¡ 
T
 
	gv®
 = *
±rs
; 
	g±rs
-=
off
; ià(v®<
	gcur
ècu¸ğ
v®
;

38347 *(
	g±rd
--èğ
cur
;

38348 
	gp
 = 
s2
 - 1;…>0 && 
	g±rd
>=
±rdb
; --p) {

38349 cÚ¡ 
T
 
	gv®
 = *
±rs
; ià(
	g±rs
>
	g±rsb
è±rs-=
off
; ià(v®<
	gcur
ècu¸ğ
v®
; *(
	g±rd
--èğ
cur
;

38351 
T
 *
	gpd
 = 
d©a
(
x
,
y
,0,
c
); 
cimg_fÜ
(
buf
,
ps
,Tè{ *pd = *ps;…d+=
off
; }

38355  *
	gthis
;

38359 
	gCImg
<
	gT
> 
g‘_”ode
(cÚ¡ 
sx
, cÚ¡ 
sy
, cÚ¡ 
sz
=1) const {

38360  (+*
this
).
”ode
(
sx
,
sy
,
sz
);

38367 
	gCImg
<
	gT
>& 
”ode
(cÚ¡ 
s
) {

38368  
”ode
(
s
,s,s);

38372 
	gCImg
<
	gT
> 
g‘_”ode
(cÚ¡ 
s
) const {

38373  (+*
	gthis
).
”ode
(
s
);

38382 
	g‹m¶©e
<
ty³Çme
 
	gt
>

38383 
	gCImg
<
	gT
>& 
d©e
(cÚ¡ 
CImg
<
t
>& 
k”Ãl
, cÚ¡ 
boŞ
 
bound¬y_cÚd™iÚs
=
Œue
,

38384 cÚ¡ 
boŞ
 
is_»®
=
çl£
) {

38385 ià(
is_em±y
(è|| !
k”Ãl
è *
this
;

38386  
g‘_d©e
(
k”Ãl
,
bound¬y_cÚd™iÚs
,
is_»®
).
move_to
(*
this
);

38390 
	g‹m¶©e
<
ty³Çme
 
	gt
>

38391 
	gCImg
<
	g_cimg_Tt
> 
g‘_d©e
(cÚ¡ 
CImg
<
t
>& 
k”Ãl
, cÚ¡ 
boŞ
 
bound¬y_cÚd™iÚs
=
Œue
,

38392 cÚ¡ 
boŞ
 
is_»®
=
çl£
) const {

38393 ià(
is_em±y
(è|| !
k”Ãl
 || (!
is_»®
 && k”Ãl==0)è *
this
;

38394 
_cimg_Tt
 
	tTt
;

38395 
	gCImg
<
	gTt
> 
»s
(
_width
,
_height
,
_d•th
,
¡d
::
max
(
_¥eùrum
,
k”Ãl
._spectrum));

38397 
	gmx1
 = 
k”Ãl
.
width
()/2, 
	gmy1
 = k”Ãl.
height
()/2, 
	gmz1
 = k”Ãl.
d•th
()/2,

38398 
	gmx2
 = 
k”Ãl
.
width
(è- 
mx1
 - 1, 
	gmy2
 = k”Ãl.
height
(è- 
my1
 - 1, 
	gmz2
 = k”Ãl.
d•th
(è- 
mz1
 - 1,

38399 
	gmxe
 = 
width
(è- 
mx2
, 
	gmye
 = 
height
(è- 
my2
, 
	gmze
 = 
d•th
(è- 
mz2
;

38400 cÚ¡ 
boŞ


38401 
	gis_šÃr_·¿Î–
 = 
_width
*
_height
*
_d•th
>=(
cimg_İ’mp_sizeçùÜ
)*32768,

38402 
	gis_ou‹r_·¿Î–
 = 
»s
.
size
()>=(
cimg_İ’mp_sizeçùÜ
)*32768;

38403 
	gcimg
::
unu£d
(
is_šÃr_·¿Î–
,
is_ou‹r_·¿Î–
);

38404 
	g_cimg_abÜt_š™_İ’mp
;

38405 
	gcimg_abÜt_š™
;

38406 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(!
is_šÃr_·¿Î–
 && 
is_ou‹r_·¿Î–
))

38407 
cimg_fÜC
(
»s
,
c
è
	g_cimg_abÜt_Œy_İ’mp
 {

38408 
	gcimg_abÜt_‹¡
;

38409 cÚ¡ 
	gCImg
<
	gT
> 
	gimg
 = 
g‘_sh¬ed_chªÃl
(
c
%
_¥eùrum
);

38410 cÚ¡ 
	gCImg
<
	gt
> 
	gK
 = 
k”Ãl
.
g‘_sh¬ed_chªÃl
(
c
%k”Ãl.
_¥eùrum
);

38411 ià(
	gis_»®
) {

38412 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if
(
is_šÃr_·¿Î–
))

38413 
	gz
 = 
mz1
; z<
	gmze
; ++z)

38414 
	gy
 = 
my1
; y<
	gmye
; ++y)

38415 
	gx
 = 
mx1
; x<
	gmxe
; ++xè
	g_cimg_abÜt_Œy_İ’mp2
 {

38416 
	gcimg_abÜt_‹¡2
;

38417 
Tt
 
	gmax_v®
 = 
cimg
::
ty³
<Tt>::
mš
();

38418 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

38419 
	gym
 = -
my1
; ym<=
my2
; ++ym)

38420 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm) {

38421 cÚ¡ 
t
 
	gmv®
 = 
K
(
mx2
 - 
xm
,
my2
 - 
ym
,
mz2
 - 
zm
);

38422 cÚ¡ 
Tt
 
	gcv®
 = (Tt)(
img
(
x
 + 
xm
,
y
 + 
ym
,
z
 + 
zm
è+ 
	gmv®
);

38423 ià(
	gcv®
>
	gmax_v®
èmax_v® = 
cv®
;

38425 
»s
(
x
,
y
,
z
,
c
èğ
max_v®
;

38426 } 
_cimg_abÜt_ÿtch_İ’mp2


38427 ià(
	gbound¬y_cÚd™iÚs
)

38428 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if
(
is_šÃr_·¿Î–
))

38429 
cimg_fÜYZ
(
»s
,
y
,
z
è
	g_cimg_abÜt_Œy_İ’mp2
 {

38430 
	gcimg_abÜt_‹¡2
;

38431 
	gx
 = 0; x<
width
(); (
	gy
<
	gmy1
 || y>=
mye
 || 
z
<
mz1
 || z>=
mze
)?++
x
:((x<
mx1
 - 1 || x>=
mxe
)?++x:(x=mxe))) {

38432 
Tt
 
max_v®
 = 
cimg
::
ty³
<Tt>::
mš
();

38433 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

38434 
	gym
 = -
my1
; ym<=
my2
; ++ym)

38435 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm) {

38436 cÚ¡ 
t
 
	gmv®
 = 
K
(
mx2
 - 
xm
,
my2
 - 
ym
,
mz2
 - 
zm
);

38437 cÚ¡ 
Tt
 
	gcv®
 = (Tt)(
img
.
_©XYZ
(
x
 + 
xm
,
y
 + 
ym
,
z
 + 
zm
è+ 
	gmv®
);

38438 ià(
	gcv®
>
	gmax_v®
èmax_v® = 
cv®
;

38440 
»s
(
x
,
y
,
z
,
c
èğ
max_v®
;

38442 } 
_cimg_abÜt_ÿtch_İ’mp2


38444 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if
(
is_šÃr_·¿Î–
))

38445 
cimg_fÜYZ
(*
this
,
y
,
z
è
	g_cimg_abÜt_Œy_İ’mp2
 {

38446 
	gcimg_abÜt_‹¡2
;

38447 
	gx
 = 0; x<
width
(); (
	gy
<
	gmy1
 || y>=
mye
 || 
z
<
mz1
 || z>=
mze
)?++
x
:((x<
mx1
 - 1 || x>=
mxe
)?++x:(x=mxe))) {

38448 
Tt
 
max_v®
 = 
cimg
::
ty³
<Tt>::
mš
();

38449 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

38450 
	gym
 = -
my1
; ym<=
my2
; ++ym)

38451 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm) {

38452 cÚ¡ 
t
 
	gmv®
 = 
K
(
mx2
 - 
xm
,
my2
 - 
ym
,
mz2
 - 
zm
);

38453 cÚ¡ 
Tt
 
	gcv®
 = (Tt)(
img
.
©XYZ
(
x
 + 
xm
,
y
 + 
ym
,
z
 + 
zm
,0,(
T
)0è+ 
	gmv®
);

38454 ià(
	gcv®
>
	gmax_v®
èmax_v® = 
cv®
;

38456 
»s
(
x
,
y
,
z
,
c
èğ
max_v®
;

38458 } 
	g_cimg_abÜt_ÿtch_İ’mp2


38460 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if
(
is_šÃr_·¿Î–
))

38461 
	gz
 = 
mz1
; z<
	gmze
; ++z)

38462 
	gy
 = 
my1
; y<
	gmye
; ++y)

38463 
	gx
 = 
mx1
; x<
	gmxe
; ++xè
	g_cimg_abÜt_Œy_İ’mp2
 {

38464 
	gcimg_abÜt_‹¡2
;

38465 
Tt
 
	gmax_v®
 = 
cimg
::
ty³
<Tt>::
mš
();

38466 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

38467 
	gym
 = -
my1
; ym<=
my2
; ++ym)

38468 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm)

38469 ià(
K
(
mx2
 - 
xm
,
my2
 - 
ym
,
mz2
 - 
zm
)) {

38470 cÚ¡ 
Tt
 
	gcv®
 = (Tt)
img
(
x
 + 
xm
,
y
 + 
ym
,
z
 + 
zm
);

38471 ià(
	gcv®
>
	gmax_v®
èmax_v® = 
cv®
;

38473 
»s
(
x
,
y
,
z
,
c
èğ
max_v®
;

38474 } 
_cimg_abÜt_ÿtch_İ’mp2


38475 ià(
	gbound¬y_cÚd™iÚs
)

38476 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if
(
is_šÃr_·¿Î–
))

38477 
cimg_fÜYZ
(
»s
,
y
,
z
è
	g_cimg_abÜt_Œy_İ’mp2
 {

38478 
	gcimg_abÜt_‹¡2
;

38479 
	gx
 = 0; x<
width
(); (
	gy
<
	gmy1
 || y>=
mye
 || 
z
<
mz1
 || z>=
mze
)?++
x
:((x<
mx1
 - 1 || x>=
mxe
)?++x:(x=mxe))) {

38480 
Tt
 
max_v®
 = 
cimg
::
ty³
<Tt>::
mš
();

38481 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

38482 
	gym
 = -
my1
; ym<=
my2
; ++ym)

38483 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm)

38484 ià(
K
(
mx2
 - 
xm
,
my2
 - 
ym
,
mz2
 - 
zm
)) {

38485 cÚ¡ 
Tt
 
	gcv®
 = (Tt)
img
.
_©XYZ
(
x
 + 
xm
,
y
 + 
ym
,
z
 + 
zm
);

38486 ià(
	gcv®
>
	gmax_v®
èmax_v® = 
cv®
;

38488 
»s
(
x
,
y
,
z
,
c
èğ
max_v®
;

38490 } 
_cimg_abÜt_ÿtch_İ’mp2


38492 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if
(
is_šÃr_·¿Î–
))

38493 
cimg_fÜYZ
(
»s
,
y
,
z
è
	g_cimg_abÜt_Œy_İ’mp2
 {

38494 
	gcimg_abÜt_‹¡2
;

38495 
	gx
 = 0; x<
width
(); (
	gy
<
	gmy1
 || y>=
mye
 || 
z
<
mz1
 || z>=
mze
)?++
x
:((x<
mx1
 - 1 || x>=
mxe
)?++x:(x=mxe))) {

38496 
Tt
 
max_v®
 = 
cimg
::
ty³
<Tt>::
mš
();

38497 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

38498 
	gym
 = -
my1
; ym<=
my2
; ++ym)

38499 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm)

38500 ià(
K
(
mx2
 - 
xm
,
my2
 - 
ym
,
mz2
 - 
zm
)) {

38501 cÚ¡ 
Tt
 
	gcv®
 = (Tt)
img
.
©XYZ
(
x
 + 
xm
,
y
 + 
ym
,
z
 + 
zm
,0,(
T
)0);

38502 ià(
	gcv®
>
	gmax_v®
èmax_v® = 
cv®
;

38504 
»s
(
x
,
y
,
z
,
c
èğ
max_v®
;

38506 } 
	g_cimg_abÜt_ÿtch_İ’mp2


38508 } 
_cimg_abÜt_ÿtch_İ’mp


38509 
	gcimg_abÜt_‹¡
;

38510  
	g»s
;

38519 
	gCImg
<
	gT
>& 
d©e
(cÚ¡ 
sx
, cÚ¡ 
sy
, cÚ¡ 
sz
=1) {

38520 ià(
is_em±y
(è|| (
sx
==1 && 
sy
==1 && 
sz
==1)è *
this
;

38521 ià(
	gsx
>1 && 
	g_width
>1) {

38522 cÚ¡ 
	gL
 = 
width
(), 
	goff
 = 1, 
	gs
 = ()
sx
, 
	g_s1
 = 
s
/2, 
	g_s2
 = s - 
_s1
, 
	gs1
 = _s1>
L
?L:_s1, 
	gs2
 = 
_s2
>L?L:_s2;

38523 
	gCImg
<
	gT
> 
buf
(
L
);

38524 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
fœ¡´iv©e
(
buf
èià(
size
()>524288))

38525 
cimg_fÜYZC
(*
this
,
y
,
z
,
c
) {

38526 
T
 *cÚ¡ 
	g±rdb
 = 
buf
.
_d©a
, *
	g±rd
 = 
±rdb
, *cÚ¡ 
	g±rde
 = buf._d©¨+ 
L
 - 1;

38527 cÚ¡ 
T
 *cÚ¡ 
	g±rsb
 = 
d©a
(0,
y
,
z
,
c
), *
	g±rs
 = 
±rsb
, *cÚ¡ 
	g±r£
 = 
±rs
 + 
L
*
off
 - off;

38528 
T
 
	gcur
 = *
±rs
; 
	g±rs
+=
off
; 
boŞ
 
	gis_fœ¡
 = 
Œue
;

38529 
	gp
 = 
s2
 - 1;…>0 && 
	g±rs
<=
±r£
; --p) {

38530 cÚ¡ 
T
 
	gv®
 = *
±rs
; 
	g±rs
+=
off
; ià(v®>=
cur
è{ cu¸ğ
v®
; 
	gis_fœ¡
 = 
çl£
; }

38532 *(
	g±rd
++èğ
cur
;

38533 ià(
	g±rs
>=
±r£
) {

38534 
T
 *
pd
 = 
d©a
(0,
y
,
z
,
c
); 
	gcur
 = 
¡d
::
max
(
cur
,*
±r£
); 
cimg_fÜX
(
buf
,
k
è{ *
	gpd
 = cur;…d+=
off
; }

38536 
	gp
 = 
s1
;…>0 && 
	g±rd
<=
±rde
; --p) {

38537 cÚ¡ 
T
 
	gv®
 = *
±rs
; ià(
	g±rs
<
	g±r£
è±rs+=
off
; ià(v®>=
cur
è{ cu¸ğ
v®
; 
	gis_fœ¡
 = 
çl£
; }

38538 *(
	g±rd
++èğ
cur
;

38540 
	gp
 = 
L
 - 
s
 - 1;…>0; --p) {

38541 cÚ¡ 
T
 
	gv®
 = *
±rs
; 
	g±rs
+=
off
;

38542 ià(
	gis_fœ¡
) {

38543 cÚ¡ 
T
 *
	gÅŒs
 = 
±rs
 - 
off
; 
	gcur
 = 
v®
;

38544 
	gq
 = 
s
 - 2; q>0; --qè{ 
	gÅŒs
-=
off
; cÚ¡ 
T
 
	gnv®
 = *
ÅŒs
; iàÒv®>
	gcur
ècu¸ğ
nv®
; }

38545 
	gÅŒs
-=
off
; cÚ¡ 
T
 
	gnv®
 = *
ÅŒs
; iàÒv®>
	gcur
è{ cu¸ğ
nv®
; 
	gis_fœ¡
 = 
Œue
; } is_fœ¡ = 
çl£
;

38546 } { ià(
	gv®
>=
cur
ècu¸ğ
v®
; ià(
	gcur
==*(
±rs
-
s
*
off
)è
is_fœ¡
 = 
Œue
; }

38547 *(
	g±rd
++èğ
cur
;

38549 
	g±rd
 = 
±rde
; 
	g±rs
 = 
±r£
; 
	gcur
 = *
±rs
;…Œs-=
off
;

38550 
	gp
 = 
s1
;…>0 && 
	g±rs
>=
±rsb
; --p) {

38551 cÚ¡ 
T
 
	gv®
 = *
±rs
; 
	g±rs
-=
off
; ià(v®>
	gcur
ècu¸ğ
v®
;

38553 *(
	g±rd
--èğ
cur
;

38554 
	gp
 = 
s2
 - 1;…>0 && 
	g±rd
>=
±rdb
; --p) {

38555 cÚ¡ 
T
 
	gv®
 = *
±rs
; ià(
	g±rs
>
	g±rsb
è±rs-=
off
; ià(v®>
	gcur
ècu¸ğ
v®
; *(
	g±rd
--èğ
cur
;

38557 
T
 *
	gpd
 = 
d©a
(0,
y
,
z
,
c
); 
cimg_fÜ
(
buf
,
ps
,Tè{ *pd = *ps;…d+=
off
; }

38562 ià(
	gsy
>1 && 
	g_height
>1) {

38563 cÚ¡ 
	gL
 = 
height
(), 
	goff
 = 
width
(), 
	gs
 = ()
sy
, 
	g_s1
 = 
s
/2, 
	g_s2
 = s - 
_s1
, 
	gs1
 = _s1>
L
?L:_s1,

38564 
	gs2
 = 
_s2
>
L
?L:_s2;

38565 
	gCImg
<
	gT
> 
buf
(
L
);

38566 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
fœ¡´iv©e
(
buf
èià(
size
()>524288))

38567 
cimg_fÜXZC
(*
this
,
x
,
z
,
c
) {

38568 
T
 *cÚ¡ 
	g±rdb
 = 
buf
.
_d©a
, *
	g±rd
 = 
±rdb
, *cÚ¡ 
	g±rde
 = buf._d©¨+ 
L
 - 1;

38569 cÚ¡ 
T
 *cÚ¡ 
	g±rsb
 = 
d©a
(
x
,0,
z
,
c
), *
	g±rs
 = 
±rsb
, *cÚ¡ 
	g±r£
 = 
±rs
 + 
L
*
off
 - off;

38570 
T
 
	gcur
 = *
±rs
; 
	g±rs
+=
off
; 
boŞ
 
	gis_fœ¡
 = 
Œue
;

38571 
	gp
 = 
s2
 - 1;…>0 && 
	g±rs
<=
±r£
; --p) {

38572 cÚ¡ 
T
 
	gv®
 = *
±rs
; 
	g±rs
+=
off
; ià(v®>=
cur
è{ cu¸ğ
v®
; 
	gis_fœ¡
 = 
çl£
; }

38574 *(
	g±rd
++èğ
cur
;

38575 ià(
	g±rs
>=
±r£
) {

38576 
T
 *
pd
 = 
d©a
(
x
,0,
z
,
c
); 
	gcur
 = 
¡d
::
max
(
cur
,*
±r£
); 
cimg_fÜX
(
buf
,
k
è{ *
	gpd
 = cur;…d+=
off
; }

38578 
	gp
 = 
s1
;…>0 && 
	g±rd
<=
±rde
; --p) {

38579 cÚ¡ 
T
 
	gv®
 = *
±rs
; ià(
	g±rs
<
	g±r£
è±rs+=
off
; ià(v®>=
cur
è{ cu¸ğ
v®
; 
	gis_fœ¡
 = 
çl£
; }

38580 *(
	g±rd
++èğ
cur
;

38582 
	gp
 = 
L
 - 
s
 - 1;…>0; --p) {

38583 cÚ¡ 
T
 
	gv®
 = *
±rs
; 
	g±rs
+=
off
;

38584 ià(
	gis_fœ¡
) {

38585 cÚ¡ 
T
 *
	gÅŒs
 = 
±rs
 - 
off
; 
	gcur
 = 
v®
;

38586 
	gq
 = 
s
 - 2; q>0; --qè{ 
	gÅŒs
-=
off
; cÚ¡ 
T
 
	gnv®
 = *
ÅŒs
; iàÒv®>
	gcur
ècu¸ğ
nv®
; }

38587 
	gÅŒs
-=
off
; cÚ¡ 
T
 
	gnv®
 = *
ÅŒs
; iàÒv®>
	gcur
è{ cu¸ğ
nv®
; 
	gis_fœ¡
 = 
Œue
; } is_fœ¡ = 
çl£
;

38588 } { ià(
	gv®
>=
cur
ècu¸ğ
v®
; ià(
	gcur
==*(
±rs
-
s
*
off
)è
is_fœ¡
 = 
Œue
; }

38589 *(
	g±rd
++èğ
cur
;

38591 
	g±rd
 = 
±rde
; 
	g±rs
 = 
±r£
; 
	gcur
 = *
±rs
;…Œs-=
off
;

38592 
	gp
 = 
s1
;…>0 && 
	g±rs
>=
±rsb
; --p) {

38593 cÚ¡ 
T
 
	gv®
 = *
±rs
; 
	g±rs
-=
off
; ià(v®>
	gcur
ècu¸ğ
v®
;

38595 *(
	g±rd
--èğ
cur
;

38596 
	gp
 = 
s2
 - 1;…>0 && 
	g±rd
>=
±rdb
; --p) {

38597 cÚ¡ 
T
 
	gv®
 = *
±rs
; ià(
	g±rs
>
	g±rsb
è±rs-=
off
; ià(v®>
	gcur
ècu¸ğ
v®
; *(
	g±rd
--èğ
cur
;

38599 
T
 *
	gpd
 = 
d©a
(
x
,0,
z
,
c
); 
cimg_fÜ
(
buf
,
ps
,Tè{ *pd = *ps;…d+=
off
; }

38604 ià(
	gsz
>1 && 
	g_d•th
>1) {

38605 cÚ¡ 
	gL
 = 
d•th
(), 
	goff
 = 
width
()*
height
(), 
	gs
 = ()
sz
, 
	g_s1
 = 
s
/2, 
	g_s2
 = s - 
_s1
, 
	gs1
 = _s1>
L
?L:_s1,

38606 
	gs2
 = 
_s2
>
L
?L:_s2;

38607 
	gCImg
<
	gT
> 
buf
(
L
);

38608 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
fœ¡´iv©e
(
buf
èià(
size
()>524288))

38609 
cimg_fÜXYC
(*
this
,
x
,
y
,
c
) {

38610 
T
 *cÚ¡ 
	g±rdb
 = 
buf
.
_d©a
, *
	g±rd
 = 
±rdb
, *cÚ¡ 
	g±rde
 = buf._d©¨+ 
L
 - 1;

38611 cÚ¡ 
T
 *cÚ¡ 
	g±rsb
 = 
d©a
(
x
,
y
,0,
c
), *
	g±rs
 = 
±rsb
, *cÚ¡ 
	g±r£
 = 
±rs
 + 
L
*
off
 - off;

38612 
T
 
	gcur
 = *
±rs
; 
	g±rs
+=
off
; 
boŞ
 
	gis_fœ¡
 = 
Œue
;

38613 
	gp
 = 
s2
 - 1;…>0 && 
	g±rs
<=
±r£
; --p) {

38614 cÚ¡ 
T
 
	gv®
 = *
±rs
; 
	g±rs
+=
off
; ià(v®>=
cur
è{ cu¸ğ
v®
; 
	gis_fœ¡
 = 
çl£
; }

38616 *(
	g±rd
++èğ
cur
;

38617 ià(
	g±rs
>=
±r£
) {

38618 
T
 *
pd
 = 
d©a
(
x
,
y
,0,
c
); 
	gcur
 = 
¡d
::
max
(
cur
,*
±r£
); 
cimg_fÜX
(
buf
,
k
è{ *
	gpd
 = cur;…d+=
off
; }

38620 
	gp
 = 
s1
;…>0 && 
	g±rd
<=
±rde
; --p) {

38621 cÚ¡ 
T
 
	gv®
 = *
±rs
; ià(
	g±rs
<
	g±r£
è±rs+=
off
; ià(v®>=
cur
è{ cu¸ğ
v®
; 
	gis_fœ¡
 = 
çl£
; }

38622 *(
	g±rd
++èğ
cur
;

38624 
	gp
 = 
L
 - 
s
 - 1;…>0; --p) {

38625 cÚ¡ 
T
 
	gv®
 = *
±rs
; 
	g±rs
+=
off
;

38626 ià(
	gis_fœ¡
) {

38627 cÚ¡ 
T
 *
	gÅŒs
 = 
±rs
 - 
off
; 
	gcur
 = 
v®
;

38628 
	gq
 = 
s
 - 2; q>0; --qè{ 
	gÅŒs
-=
off
; cÚ¡ 
T
 
	gnv®
 = *
ÅŒs
; iàÒv®>
	gcur
ècu¸ğ
nv®
; }

38629 
	gÅŒs
-=
off
; cÚ¡ 
T
 
	gnv®
 = *
ÅŒs
; iàÒv®>
	gcur
è{ cu¸ğ
nv®
; 
	gis_fœ¡
 = 
Œue
; } is_fœ¡ = 
çl£
;

38630 } { ià(
	gv®
>=
cur
ècu¸ğ
v®
; ià(
	gcur
==*(
±rs
-
s
*
off
)è
is_fœ¡
 = 
Œue
; }

38631 *(
	g±rd
++èğ
cur
;

38633 
	g±rd
 = 
±rde
; 
	g±rs
 = 
±r£
; 
	gcur
 = *
±rs
;…Œs-=
off
;

38634 
	gp
 = 
s1
;…>0 && 
	g±rs
>=
±rsb
; --p) {

38635 cÚ¡ 
T
 
	gv®
 = *
±rs
; 
	g±rs
-=
off
; ià(v®>
	gcur
ècu¸ğ
v®
;

38637 *(
	g±rd
--èğ
cur
;

38638 
	gp
 = 
s2
 - 1;…>0 && 
	g±rd
>=
±rdb
; --p) {

38639 cÚ¡ 
T
 
	gv®
 = *
±rs
; ià(
	g±rs
>
	g±rsb
è±rs-=
off
; ià(v®>
	gcur
ècu¸ğ
v®
; *(
	g±rd
--èğ
cur
;

38641 
T
 *
	gpd
 = 
d©a
(
x
,
y
,0,
c
); 
cimg_fÜ
(
buf
,
ps
,Tè{ *pd = *ps;…d+=
off
; }

38645  *
	gthis
;

38649 
	gCImg
<
	gT
> 
g‘_d©e
(cÚ¡ 
sx
, cÚ¡ 
sy
, cÚ¡ 
sz
=1) const {

38650  (+*
this
).
d©e
(
sx
,
sy
,
sz
);

38657 
	gCImg
<
	gT
>& 
d©e
(cÚ¡ 
s
) {

38658  
d©e
(
s
,s,s);

38662 
	gCImg
<
	gT
> 
g‘_d©e
(cÚ¡ 
s
) const {

38663  (+*
	gthis
).
d©e
(
s
);

38674 
	g‹m¶©e
<
ty³Çme
 
	gt
>

38675 
	gCImg
<
	gT
>& 
w©”shed
(cÚ¡ 
CImg
<
t
>& 
´iÜ™y
, cÚ¡ 
boŞ
 
is_high_cÚÃùiv™y
=
çl£
) {

38676 
	#_cimg_w©”shed_š™
(
cÚd
,
X
,
Y
,
Z
) \

38677 ià(
cÚd
 && !(*
this
)(
X
,
Y
,
Z
)è
Q
.
	`_´iÜ™y_queue_š£¹
(
Ïb–s
,
sizeQ
,
	`´iÜ™y
(X,Y,Z),X,Y,Z,
nb_£eds
)

	)

38679 
	#_cimg_w©”shed_´İag©e
(
cÚd
,
X
,
Y
,
Z
) \

38680 ià(
cÚd
) { \

38681 ià((*
this
)(
X
,
Y
,
Z
)) { \

38682 
ns
 = 
	`Ïb–s
(
X
,
Y
,
Z
è- 1; 
xs
 = 
	`£eds
Òs,0); 
ys
 = s“dsÒs,1); 
zs
 = seeds(ns,2); \

38683 
d
 = 
cimg
::
	`sqr
(()
x
 - 
xs
è+ cimg::sqr(()
y
 - 
ys
è+ cimg::sqr(()
z
 - 
zs
); \

38684 ià(
d
<
dmš
è{ dmš = d; 
nmš
 = 
ns
; 
Æab–
 = (*
this
)(
xs
,
ys
,
zs
); } \

38685 } 
Q
.
	`_´iÜ™y_queue_š£¹
(
Ïb–s
,
sizeQ
,
	`´iÜ™y
(
X
,
Y
,
Z
),X,Y,Z,
n
); \

38686 }

	)

38688 ià(
is_em±y
()è *
	gthis
;

38689 ià(!
is_§meXYZ
(
´iÜ™y
))

38690 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


38693 
cimg_š¡ªû
,

38694 
´iÜ™y
.
_width
,´iÜ™y.
_height
,´iÜ™y.
_d•th
,´iÜ™y.
_¥eùrum
,´iÜ™y.
_d©a
);

38695 ià(
	g_¥eùrum
!=1) {

38696 
cimg_fÜC
(*
this
,
c
)

38697 
g‘_sh¬ed_chªÃl
(
c
).
w©”shed
(
´iÜ™y
.g‘_sh¬ed_chªÃl(c%´iÜ™y.
_¥eùrum
));

38698  *
	gthis
;

38701 
	gCImg
<
	guštT
> 
Ïb–s
(
_width
,
_height
,
_d•th
,1,0), 
£eds
(64,3);

38702 
	gCImg
<
ty³Çme
 
	gcimg
::
su³r£t2
<
T
,
	gt
,>::
ty³
> 
Q
;

38703 
	gsizeQ
 = 0;

38704 
	gpx
, 
	gnx
, 
	gpy
, 
	gny
, 
	gpz
, 
	gnz
;

38705 
boŞ
 
	gis_px
, 
	gis_nx
, 
	gis_py
, 
	gis_ny
, 
	gis_pz
, 
	gis_nz
;

38706 cÚ¡ 
boŞ
 
	gis_3d
 = 
_d•th
>1;

38709 
	gnb_£eds
 = 0;

38710 cÚ¡ 
T
 *
	g±rs
 = 
_d©a
;

38711 
cimg_fÜXYZ
(*
this
,
x
,
y
,
z
èià(*(
	g±rs
++)) {

38712 ià(
	gnb_£eds
>=
£eds
.
_width
è£eds.
»size
(2*seeds._width,3,1,1,0);

38713 
£eds
(
nb_£eds
,0èğ
x
; s“dsÒb_£eds,1èğ
y
; s“dsÒb_£eds++,2èğ
z
;

38714 
	gpx
 = 
x
 - 1; 
	gnx
 = x + 1;

38715 
	gpy
 = 
y
 - 1; 
	gny
 = y + 1;

38716 
	gpz
 = 
z
 - 1; 
	gnz
 = z + 1;

38717 
	gis_px
 = 
px
>=0; 
	gis_nx
 = 
nx
<
width
();

38718 
	gis_py
 = 
py
>=0; 
	gis_ny
 = 
ny
<
height
();

38719 
	gis_pz
 = 
pz
>=0; 
	gis_nz
 = 
nz
<
d•th
();

38720 
_cimg_w©”shed_š™
(
is_px
,
px
,
y
,
z
);

38721 
_cimg_w©”shed_š™
(
is_nx
,
nx
,
y
,
z
);

38722 
_cimg_w©”shed_š™
(
is_py
,
x
,
py
,
z
);

38723 
_cimg_w©”shed_š™
(
is_ny
,
x
,
ny
,
z
);

38724 ià(
	gis_3d
) {

38725 
_cimg_w©”shed_š™
(
is_pz
,
x
,
y
,
pz
);

38726 
_cimg_w©”shed_š™
(
is_nz
,
x
,
y
,
nz
);

38728 ià(
	gis_high_cÚÃùiv™y
) {

38729 
_cimg_w©”shed_š™
(
is_px
 && 
is_py
,
px
,
py
,
z
);

38730 
_cimg_w©”shed_š™
(
is_nx
 && 
is_py
,
nx
,
py
,
z
);

38731 
_cimg_w©”shed_š™
(
is_px
 && 
is_ny
,
px
,
ny
,
z
);

38732 
_cimg_w©”shed_š™
(
is_nx
 && 
is_ny
,
nx
,
ny
,
z
);

38733 ià(
	gis_3d
) {

38734 
_cimg_w©”shed_š™
(
is_px
 && 
is_pz
,
px
,
y
,
pz
);

38735 
_cimg_w©”shed_š™
(
is_nx
 && 
is_pz
,
nx
,
y
,
pz
);

38736 
_cimg_w©”shed_š™
(
is_px
 && 
is_nz
,
px
,
y
,
nz
);

38737 
_cimg_w©”shed_š™
(
is_nx
 && 
is_nz
,
nx
,
y
,
nz
);

38738 
_cimg_w©”shed_š™
(
is_py
 && 
is_pz
,
x
,
py
,
pz
);

38739 
_cimg_w©”shed_š™
(
is_ny
 && 
is_pz
,
x
,
ny
,
pz
);

38740 
_cimg_w©”shed_š™
(
is_py
 && 
is_nz
,
x
,
py
,
nz
);

38741 
_cimg_w©”shed_š™
(
is_ny
 && 
is_nz
,
x
,
ny
,
nz
);

38742 
_cimg_w©”shed_š™
(
is_px
 && 
is_py
 && 
is_pz
,
px
,
py
,
pz
);

38743 
_cimg_w©”shed_š™
(
is_nx
 && 
is_py
 && 
is_pz
,
nx
,
py
,
pz
);

38744 
_cimg_w©”shed_š™
(
is_px
 && 
is_ny
 && 
is_pz
,
px
,
ny
,
pz
);

38745 
_cimg_w©”shed_š™
(
is_nx
 && 
is_ny
 && 
is_pz
,
nx
,
ny
,
pz
);

38746 
_cimg_w©”shed_š™
(
is_px
 && 
is_py
 && 
is_nz
,
px
,
py
,
nz
);

38747 
_cimg_w©”shed_š™
(
is_nx
 && 
is_py
 && 
is_nz
,
nx
,
py
,
nz
);

38748 
_cimg_w©”shed_š™
(
is_px
 && 
is_ny
 && 
is_nz
,
px
,
ny
,
nz
);

38749 
_cimg_w©”shed_š™
(
is_nx
 && 
is_ny
 && 
is_nz
,
nx
,
ny
,
nz
);

38752 
Ïb–s
(
x
,
y
,
z
èğ
nb_£eds
;

38756 
	gsizeQ
) {

38759 cÚ¡ 
	gx
 = ()
Q
(0,1), 
	gy
 = ()Q(0,2), 
	gz
 = ()Q(0,3);

38760 cÚ¡ 
	gn
 = 
Ïb–s
(
x
,
y
,
z
);

38761 
	gpx
 = 
x
 - 1; 
	gnx
 = x + 1;

38762 
	gpy
 = 
y
 - 1; 
	gny
 = y + 1;

38763 
	gpz
 = 
z
 - 1; 
	gnz
 = z + 1;

38764 
	gis_px
 = 
px
>=0; 
	gis_nx
 = 
nx
<
width
();

38765 
	gis_py
 = 
py
>=0; 
	gis_ny
 = 
ny
<
height
();

38766 
	gis_pz
 = 
pz
>=0; 
	gis_nz
 = 
nz
<
d•th
();

38769 
	gQ
.
_´iÜ™y_queue_»move
(
sizeQ
);

38771 
	gxs
, 
	gys
, 
	gzs
, 
	gns
, 
	gnmš
 = 0;

38772 
	gd
, 
	gdmš
 = 
cimg
::
ty³
<>::
šf
();

38773 
T
 
	gÆab–
 = (T)0;

38774 
_cimg_w©”shed_´İag©e
(
is_px
,
px
,
y
,
z
);

38775 
_cimg_w©”shed_´İag©e
(
is_nx
,
nx
,
y
,
z
);

38776 
_cimg_w©”shed_´İag©e
(
is_py
,
x
,
py
,
z
);

38777 
_cimg_w©”shed_´İag©e
(
is_ny
,
x
,
ny
,
z
);

38778 ià(
	gis_3d
) {

38779 
_cimg_w©”shed_´İag©e
(
is_pz
,
x
,
y
,
pz
);

38780 
_cimg_w©”shed_´İag©e
(
is_nz
,
x
,
y
,
nz
);

38782 ià(
	gis_high_cÚÃùiv™y
) {

38783 
_cimg_w©”shed_´İag©e
(
is_px
 && 
is_py
,
px
,
py
,
z
);

38784 
_cimg_w©”shed_´İag©e
(
is_nx
 && 
is_py
,
nx
,
py
,
z
);

38785 
_cimg_w©”shed_´İag©e
(
is_px
 && 
is_ny
,
px
,
ny
,
z
);

38786 
_cimg_w©”shed_´İag©e
(
is_nx
 && 
is_ny
,
nx
,
ny
,
z
);

38787 ià(
	gis_3d
) {

38788 
_cimg_w©”shed_´İag©e
(
is_px
 && 
is_pz
,
px
,
y
,
pz
);

38789 
_cimg_w©”shed_´İag©e
(
is_nx
 && 
is_pz
,
nx
,
y
,
pz
);

38790 
_cimg_w©”shed_´İag©e
(
is_px
 && 
is_nz
,
px
,
y
,
nz
);

38791 
_cimg_w©”shed_´İag©e
(
is_nx
 && 
is_nz
,
nx
,
y
,
nz
);

38792 
_cimg_w©”shed_´İag©e
(
is_py
 && 
is_pz
,
x
,
py
,
pz
);

38793 
_cimg_w©”shed_´İag©e
(
is_ny
 && 
is_pz
,
x
,
ny
,
pz
);

38794 
_cimg_w©”shed_´İag©e
(
is_py
 && 
is_nz
,
x
,
py
,
nz
);

38795 
_cimg_w©”shed_´İag©e
(
is_ny
 && 
is_nz
,
x
,
ny
,
nz
);

38796 
_cimg_w©”shed_´İag©e
(
is_px
 && 
is_py
 && 
is_pz
,
px
,
py
,
pz
);

38797 
_cimg_w©”shed_´İag©e
(
is_nx
 && 
is_py
 && 
is_pz
,
nx
,
py
,
pz
);

38798 
_cimg_w©”shed_´İag©e
(
is_px
 && 
is_ny
 && 
is_pz
,
px
,
ny
,
pz
);

38799 
_cimg_w©”shed_´İag©e
(
is_nx
 && 
is_ny
 && 
is_pz
,
nx
,
ny
,
pz
);

38800 
_cimg_w©”shed_´İag©e
(
is_px
 && 
is_py
 && 
is_nz
,
px
,
py
,
nz
);

38801 
_cimg_w©”shed_´İag©e
(
is_nx
 && 
is_py
 && 
is_nz
,
nx
,
py
,
nz
);

38802 
_cimg_w©”shed_´İag©e
(
is_px
 && 
is_ny
 && 
is_nz
,
px
,
ny
,
nz
);

38803 
_cimg_w©”shed_´İag©e
(
is_nx
 && 
is_ny
 && 
is_nz
,
nx
,
ny
,
nz
);

38806 (*
	gthis
)(
	gx
,
	gy
,
	gz
èğ
Æab–
;

38807 
Ïb–s
(
x
,
y
,
z
èğ++
nmš
;

38809  *
	gthis
;

38813 
	g‹m¶©e
<
ty³Çme
 
	gt
>

38814 
	gCImg
<
	gT
> 
g‘_w©”shed
(cÚ¡ 
CImg
<
t
>& 
´iÜ™y
, cÚ¡ 
boŞ
 
is_high_cÚÃùiv™y
=
çl£
) const {

38815  (+*
this
).
w©”shed
(
´iÜ™y
,
is_high_cÚÃùiv™y
);

38819 
	g‹m¶©e
<
ty³Çme
 
	gtq
,y³Çm
	gtv
>

38820 
boŞ
 
_´iÜ™y_queue_š£¹
(
CImg
<
tq
>& 
is_queued
, & 
siz
, cÚ¡ 
tv
 
v®ue
,

38821 cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
,

38822 cÚ¡ 
n
=1) {

38823 ià(
is_queued
(
x
,
y
,
z
)è 
çl£
;

38824 
is_queued
(
x
,
y
,
z
èğ(
tq
)
n
;

38825 ià(++
	gsiz
>=
_width
è{ ià(!
is_em±y
()è
»size
(_width*2,4,1,1,0); 
assign
(64,4); }

38826 (*
	gthis
)(
	gsiz
 - 1,0èğ(
T
)
v®ue
;

38827 (*
	gthis
)(
	gsiz
 - 1,1èğ(
T
)
x
;

38828 (*
	gthis
)(
	gsiz
 - 1,2èğ(
T
)
y
;

38829 (*
	gthis
)(
	gsiz
 - 1,3èğ(
T
)
z
;

38830 
	gpos
 = 
siz
 - 1, 
	g·r
 = 0;…o && 
	gv®ue
>(
	gtv
)(*
	gthis
)Õ¬=(
pos
 + 1)/2 - 1,0);…o ğ
·r
) {

38831 
cimg
::
sw­
((*
this
)(
pos
,0),(*this)(
·r
,0));

38832 
	gcimg
::
sw­
((*
this
)(
pos
,1),(*this)(
·r
,1));

38833 
	gcimg
::
sw­
((*
this
)(
pos
,2),(*this)(
·r
,2));

38834 
	gcimg
::
sw­
((*
this
)(
pos
,3),(*this)(
·r
,3));

38836  
	gŒue
;

38839 
	gCImg
<
	gT
>& 
_´iÜ™y_queue_»move
(& 
siz
) {

38840 (*
	gthis
)(0,0èğ(*
this
)(--
siz
,0);

38841 (*
	gthis
)(0,1èğ(*
this
)(
siz
,1);

38842 (*
	gthis
)(0,2èğ(*
this
)(
siz
,2);

38843 (*
	gthis
)(0,3èğ(*
this
)(
siz
,3);

38844 cÚ¡ 
	gv®ue
 = (*
this
)(0,0);

38845 
	gpos
 = 0, 
	gsw­
 = 0;

38847 cÚ¡ 
	gËá
 = 2*
pos
 + 1, 
	gright
 = 
Ëá
 + 1;

38848 ià(
	gright
<
	gsiz
 && 
	gv®ue
<(*
	gthis
)Ôight,0)è
	gsw­
 = (*
this
)(
Ëá
,0)>(*this)Ôight,0)?
	gËá
:
right
;

38849 ià(
	gËá
<
	gsiz
 && 
	gv®ue
<(*
	gthis
)Öeá,0)è
	gsw­
 = 
Ëá
;

38851 
	gcimg
::
sw­
((*
this
)(
pos
,0),(*this)(swap,0));

38852 
	gcimg
::
sw­
((*
this
)(
pos
,1),(*this)(swap,1));

38853 
	gcimg
::
sw­
((*
this
)(
pos
,2),(*this)(swap,2));

38854 
	gcimg
::
sw­
((*
this
)(
pos
,3),(*this)(swap,3));

38855 
	gpos
 = 
sw­
;

38856 } 
	gŒue
);

38857  *
	gthis
;

38867 
	gCImg
<
	gT
>& 
d”iche
(cÚ¡ 
sigma
, cÚ¡ 
Üd”
=0, cÚ¡ 
axis
='x',

38868 cÚ¡ 
boŞ
 
bound¬y_cÚd™iÚs
=
Œue
) {

38869 
	#_cimg_d”iche_­¶y
 \

38870 
CImg
<
doubËT
> 
	`Y
(
N
); \

38871 *
±rY
 = 
Y
.
_d©a
, 
yb
 = 0, 
yp
 = 0; \

38872 
T
 
xp
 = (T)0; \

38873 ià(
bound¬y_cÚd™iÚs
è{ 
xp
 = *
±rX
; 
yb
 = 
yp
 = ()(
cÛå
*xp); } \

38874 
m
 = 0; m<
N
; ++m) { \

38875 cÚ¡ 
T
 
xc
 = *
±rX
;…ŒX+=
off
; \

38876 cÚ¡ 
yc
 = *(
±rY
++èğ()(
a0
*
xc
 + 
a1
*
xp
 - 
b1
*
yp
 - 
b2
*
yb
); \

38877 
xp
 = 
xc
; 
yb
 = 
yp
; y°ğ
yc
; \

38879 
T
 
xn
 = (T)0, 
xa
 = (T)0; \

38880 
yn
 = 0, 
ya
 = 0; \

38881 ià(
bound¬y_cÚd™iÚs
è{ 
xn
 = 
xa
 = *(
±rX
 - 
off
); 
yn
 = 
ya
 = ()
cÛâ
*xn; } \

38882 
n
 = 
N
 - 1;‚>=0; --n) { \

38883 cÚ¡ 
T
 
xc
 = *(
±rX
-=
off
); \

38884 cÚ¡ 
yc
 = ()(
a2
*
xn
 + 
a3
*
xa
 - 
b1
*
yn
 - 
b2
*
ya
); \

38885 
xa
 = 
xn
; xÀğ
xc
; 
ya
 = 
yn
; yÀğ
yc
; \

38886 *
±rX
 = (
T
)(*(--
±rY
)+
yc
); \

38887 }

	)

38888 cÚ¡ 
	gÇxis
 = 
cimg
::
low”ÿ£
(
axis
);

38889 cÚ¡ 
	gnsigma
 = 
sigma
>=0?sigma:-sigma*(
Çxis
=='x'?
_width
:

38890 
Çxis
=='y'?
_height
:

38891 
Çxis
=='z'?
_d•th
:
_¥eùrum
)/100;

38892 ià(
is_em±y
(è|| (
	gnsigma
<0.1à&& !
	gÜd”
)è *
	gthis
;

38894 
	gÂsigma
 = 
nsigma
<0.1f?0.1f:nsigma,

38895 
	g®pha
 = 1.695f/
Âsigma
,

38896 
	gema
 = 
¡d
::
exp
(-
®pha
),

38897 
	gema2
 = 
¡d
::
exp
(-2*
®pha
),

38898 
	gb1
 = -2*
ema
,

38899 
	gb2
 = 
ema2
;

38900 
	ga0
 = 0, 
	ga1
 = 0, 
	ga2
 = 0, 
	ga3
 = 0, 
	gcÛå
 = 0, 
	gcÛâ
 = 0;

38901 
	gÜd”
) {

38903 cÚ¡ 
k
 = (1-
ema
)*(1-ema)/(1 + 2*
®pha
*ema-
ema2
);

38904 
	ga0
 = 
k
;

38905 
	ga1
 = 
k
*(
®pha
 - 1)*
ema
;

38906 
	ga2
 = 
k
*(
®pha
 + 1)*
ema
;

38907 
	ga3
 = -
k
*
ema2
;

38910 cÚ¡ 
k
 = -(1-
ema
)*(1-ema)*(1-ema)/(2*(ema + 1)*ema);

38911 
	ga0
 = 
a3
 = 0;

38912 
	ga1
 = 
k
*
ema
;

38913 
	ga2
 = -
a1
;

38917 
—
 = 
¡d
::
exp
(-
®pha
),

38918 
	gk
 = -(
ema2
 - 1)/(2*
®pha
*
ema
),

38919 
	gkn
 = (-2*(-1 + 3*
—
 - 3*ea*ea +ƒa*ea*ea)/(3*ea + 1 + 3*ea*ea +ƒa*ea*ea));

38920 
	ga0
 = 
kn
;

38921 
	ga1
 = -
kn
*(1 + 
k
*
®pha
)*
ema
;

38922 
	ga2
 = 
kn
*(1 - 
k
*
®pha
)*
ema
;

38923 
	ga3
 = -
kn
*
ema2
;

38926 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


38929 
cimg_š¡ªû
,

38930 
Üd”
);

38932 
	gcÛå
 = (
a0
 + 
a1
)/(1 + 
b1
 + 
b2
);

38933 
	gcÛâ
 = (
a2
 + 
a3
)/(1 + 
b1
 + 
b2
);

38934 
	gÇxis
) {

38936 cÚ¡ 
N
 = 
width
();

38937 cÚ¡ 
ulÚgT
 
	goff
 = 1U;

38938 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*256 &&

38939 
_height
*
_d•th
*
_¥eùrum
>=16))

38940 
cimg_fÜYZC
(*
this
,
y
,
z
,
c
è{ 
T
 *
	g±rX
 = 
d©a
(0,y,z,c); 
	g_cimg_d”iche_­¶y
; }

38943 cÚ¡ 
N
 = 
height
();

38944 cÚ¡ 
ulÚgT
 
	goff
 = (ulÚgT)
_width
;

38945 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*256 &&

38946 
_height
*
_d•th
*
_¥eùrum
>=16))

38947 
cimg_fÜXZC
(*
this
,
x
,
z
,
c
è{ 
T
 *
	g±rX
 = 
d©a
(x,0,z,c); 
	g_cimg_d”iche_­¶y
; }

38950 cÚ¡ 
N
 = 
d•th
();

38951 cÚ¡ 
ulÚgT
 
	goff
 = (ulÚgT)
_width
*
_height
;

38952 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*256 &&

38953 
_height
*
_d•th
*
_¥eùrum
>=16))

38954 
cimg_fÜXYC
(*
this
,
x
,
y
,
c
è{ 
T
 *
	g±rX
 = 
d©a
(x,y,0,c); 
	g_cimg_d”iche_­¶y
; }

38957 cÚ¡ 
N
 = 
¥eùrum
();

38958 cÚ¡ 
ulÚgT
 
	goff
 = (ulÚgT)
_width
*
_height
*
_d•th
;

38959 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*256 &&

38960 
_height
*
_d•th
*
_¥eùrum
>=16))

38961 
cimg_fÜXYZ
(*
this
,
x
,
y
,
z
è{ 
T
 *
	g±rX
 = 
d©a
(x,y,z,0); 
	g_cimg_d”iche_­¶y
; }

38964  *
	gthis
;

38968 
	gCImg
<
	gTæßt
> 
g‘_d”iche
(cÚ¡ 
sigma
, cÚ¡ 
Üd”
=0, cÚ¡ 
axis
='x',

38969 cÚ¡ 
boŞ
 
bound¬y_cÚd™iÚs
=
Œue
) const {

38970  
CImg
<
Tæßt
>(*
this
,
çl£
).
d”iche
(
sigma
,
Üd”
,
axis
,
bound¬y_cÚd™iÚs
);

38983 
_cimg_»cursive_­¶y
(
T
 *
d©a
, cÚ¡ 
f‹r
[], cÚ¡ 
N
, cÚ¡ 
ulÚgT
 
off
,

38984 cÚ¡ 
Üd”
, cÚ¡ 
boŞ
 
bound¬y_cÚd™iÚs
) {

38985 
	gv®
[4] = { 0 };

38987 
	gsumsq
 = 
f‹r
[0], 
	gsum
 = 
sumsq
 * sumsq,

38988 
	ga1
 = 
f‹r
[1], 
	ga2
 = f‹r[2], 
	ga3
 = filter[3],

38989 
	gsÿËM
 = 1. / ( (1. + 
a1
 - 
a2
 + 
a3
) * (1. -‡1 -‡2 -‡3) * (1. +‡2 + (a1 -‡3) *‡3) );

38990 
	gM
[9];

38991 
	gM
[0] = 
sÿËM
 * (-
a3
 * 
a1
 + 1. -‡3 *‡3 - 
a2
);

38992 
	gM
[1] = 
sÿËM
 * (
a3
 + 
a1
è* (
a2
 +‡3 *‡1);

38993 
	gM
[2] = 
sÿËM
 * 
a3
 * (
a1
 +‡3 * 
a2
);

38994 
	gM
[3] = 
sÿËM
 * (
a1
 + 
a3
 * 
a2
);

38995 
	gM
[4] = -
sÿËM
 * (
a2
 - 1.è* (a2 + 
a3
 * 
a1
);

38996 
	gM
[5] = -
sÿËM
 * 
a3
 * (a3 * 
a1
 +‡3 *‡3 + 
a2
 - 1.);

38997 
	gM
[6] = 
sÿËM
 * (
a3
 * 
a1
 + 
a2
 +‡1 *‡1 -‡2 *‡2);

38998 
	gM
[7] = 
sÿËM
 * (
a1
 * 
a2
 + 
a3
 *‡2 *‡2 -‡1 *‡3 *‡3 -‡3 *‡3 *‡3 -‡3 *‡2 +‡3);

38999 
	gM
[8] = 
sÿËM
 * 
a3
 * (
a1
 +‡3 * 
a2
);

39000 
	gÜd”
) {

39002 cÚ¡ 
lus
 = (
bound¬y_cÚd™iÚs
?
d©a
[(
N
 - 1)*
off
]:(
T
)0);

39003 
	g·ss
 = 0;…ass<2; ++pass) {

39004 ià(!
	g·ss
) {

39005 
	gk
 = 1; k<4; ++kè
	gv®
[
k
] = (
bound¬y_cÚd™iÚs
?*
d©a
/
sumsq
:0);

39009 
	gu¶us
 = 
lus
/(1. - 
a1
 - 
a2
 - 
a3
), 
	gv¶us
 = 
u¶us
/(1. -‡1 -‡2 -‡3),

39010 
	guÅ
 = 
v®
[1] - 
u¶us
, 
	guÅ1
 = v®[2] - u¶us, 
	guÅ2
 = val[3] - uplus;

39011 
	gv®
[0] = (
M
[0] * 
uÅ
 + M[1] * 
uÅ1
 + M[2] * 
uÅ2
 + 
v¶us
è* 
sum
;

39012 
	gv®
[1] = (
M
[3] * 
uÅ
 + M[4] * 
uÅ1
 + M[5] * 
uÅ2
 + 
v¶us
è* 
sum
;

39013 
	gv®
[2] = (
M
[6] * 
uÅ
 + M[7] * 
uÅ1
 + M[8] * 
uÅ2
 + 
v¶us
è* 
sum
;

39014 *
	gd©a
 = (
T
)
v®
[0];

39015 
	gd©a
 -ğ
off
;

39016 
	gk
 = 3; k>0; --kè
	gv®
[
k
] = 
v®
[k - 1];

39018 
	gn
 = 
·ss
;‚<
	gN
; ++n) {

39019 
	gv®
[0] = (*
d©a
);

39020 ià(
	g·ss
è
	gv®
[0] *ğ
sum
;

39021 
	gk
 = 1; k<4; ++kè
	gv®
[0] +ğ
v®
[
k
] * 
f‹r
[k];

39022 *
	gd©a
 = (
T
)
v®
[0];

39023 ià(!
	g·ss
è
	gd©a
 +ğ
off
; data -= off;

39024 
	gk
 = 3; k>0; --kè
	gv®
[
k
] = 
v®
[k - 1];

39026 ià(!
	g·ss
è
	gd©a
 -ğ
off
;

39030 
x
[3];

39031 
	g·ss
 = 0;…ass<2; ++pass) {

39032 ià(!
	g·ss
) {

39033 
	gk
 = 0; k<3; ++kè
	gx
[
k
] = (
bound¬y_cÚd™iÚs
?*
d©a
:(
T
)0);

39034 
	gk
 = 0; k<4; ++kè
	gv®
[
k
] = 0;

39038 
	guÅ
 = 
v®
[1], 
	guÅ1
 = v®[2], 
	guÅ2
 = val[3];

39039 
	gv®
[0] = (
M
[0] * 
uÅ
 + M[1] * 
uÅ1
 + M[2] * 
uÅ2
è* 
sum
;

39040 
	gv®
[1] = (
M
[3] * 
uÅ
 + M[4] * 
uÅ1
 + M[5] * 
uÅ2
è* 
sum
;

39041 
	gv®
[2] = (
M
[6] * 
uÅ
 + M[7] * 
uÅ1
 + M[8] * 
uÅ2
è* 
sum
;

39042 *
	gd©a
 = (
T
)
v®
[0];

39043 
	gd©a
 -ğ
off
;

39044 
	gk
 = 3; k>0; --kè
	gv®
[
k
] = 
v®
[k - 1];

39046 
	gn
 = 
·ss
;‚<
	gN
 - 1; ++n) {

39047 ià(!
	g·ss
) {

39048 
	gx
[0] = *(
d©a
 + 
off
);

39049 
	gv®
[0] = 0.5à* (
x
[0] - x[2]);

39050 } 
	gv®
[0] = (*
d©a
è* 
sum
;

39051 
	gk
 = 1; k<4; ++kè
	gv®
[0] +ğ
v®
[
k
] * 
f‹r
[k];

39052 *
	gd©a
 = (
T
)
v®
[0];

39053 ià(!
	g·ss
) {

39054 
	gd©a
 +ğ
off
;

39055 
	gk
 = 2; k>0; --kè
	gx
[
k
] = 
x
[k - 1];

39056 } { 
	gd©a
-=
off
;}

39057 
	gk
 = 3; k>0; --kè
	gv®
[
k
] = 
v®
[k - 1];

39059 *
	gd©a
 = (
T
)0;

39063 
x
[3];

39064 
	g·ss
 = 0;…ass<2; ++pass) {

39065 ià(!
	g·ss
) {

39066 
	gk
 = 0; k<3; ++kè
	gx
[
k
] = (
bound¬y_cÚd™iÚs
?*
d©a
:(
T
)0);

39067 
	gk
 = 0; k<4; ++kè
	gv®
[
k
] = 0;

39071 
	guÅ
 = 
v®
[1], 
	guÅ1
 = v®[2], 
	guÅ2
 = val[3];

39072 
	gv®
[0] = (
M
[0] * 
uÅ
 + M[1] * 
uÅ1
 + M[2] * 
uÅ2
è* 
sum
;

39073 
	gv®
[1] = (
M
[3] * 
uÅ
 + M[4] * 
uÅ1
 + M[5] * 
uÅ2
è* 
sum
;

39074 
	gv®
[2] = (
M
[6] * 
uÅ
 + M[7] * 
uÅ1
 + M[8] * 
uÅ2
è* 
sum
;

39075 *
	gd©a
 = (
T
)
v®
[0];

39076 
	gd©a
 -ğ
off
;

39077 
	gk
 = 3; k>0; --kè
	gv®
[
k
] = 
v®
[k - 1];

39079 
	gn
 = 
·ss
;‚<
	gN
 - 1; ++n) {

39080 ià(!
	g·ss
è{ 
	gx
[0] = *(
d©a
 + 
off
); 
	gv®
[0] = (
x
[1] - x[2]); }

39081 { 
	gx
[0] = *(
d©a
 - 
off
); 
	gv®
[0] = (
x
[2] - x[1]è* 
sum
; }

39082 
	gk
 = 1; k<4; ++kè
	gv®
[0] +ğ
v®
[
k
]*
f‹r
[k];

39083 *
	gd©a
 = (
T
)
v®
[0];

39084 ià(!
	g·ss
è
	gd©a
 +ğ
off
; data -= off;

39085 
	gk
 = 2; k>0; --kè
	gx
[
k
] = 
x
[k - 1];

39086 
	gk
 = 3; k>0; --kè
	gv®
[
k
] = 
v®
[k - 1];

39088 *
	gd©a
 = (
T
)0;

39092 
x
[3];

39093 
	g·ss
 = 0;…ass<2; ++pass) {

39094 ià(!
	g·ss
) {

39095 
	gk
 = 0; k<3; ++kè
	gx
[
k
] = (
bound¬y_cÚd™iÚs
?*
d©a
:(
T
)0);

39096 
	gk
 = 0; k<4; ++kè
	gv®
[
k
] = 0;

39100 
	guÅ
 = 
v®
[1], 
	guÅ1
 = v®[2], 
	guÅ2
 = val[3];

39101 
	gv®
[0] = (
M
[0] * 
uÅ
 + M[1] * 
uÅ1
 + M[2] * 
uÅ2
è* 
sum
;

39102 
	gv®
[1] = (
M
[3] * 
uÅ
 + M[4] * 
uÅ1
 + M[5] * 
uÅ2
è* 
sum
;

39103 
	gv®
[2] = (
M
[6] * 
uÅ
 + M[7] * 
uÅ1
 + M[8] * 
uÅ2
è* 
sum
;

39104 *
	gd©a
 = (
T
)
v®
[0];

39105 
	gd©a
 -ğ
off
;

39106 
	gk
 = 3; k>0; --kè
	gv®
[
k
] = 
v®
[k - 1];

39108 
	gn
 = 
·ss
;‚<
	gN
 - 1; ++n) {

39109 ià(!
	g·ss
è{ 
	gx
[0] = *(
d©a
 + 
off
); 
	gv®
[0] = (
x
[0] - 2*x[1] + x[2]); }

39110 { 
	gx
[0] = *(
d©a
 - 
off
); 
	gv®
[0] = 0.5à* (
x
[2] - x[0]è* 
sum
; }

39111 
	gk
 = 1; k<4; ++kè
	gv®
[0] +ğ
v®
[
k
] * 
f‹r
[k];

39112 *
	gd©a
 = (
T
)
v®
[0];

39113 ià(!
	g·ss
è
	gd©a
 +ğ
off
; data -= off;

39114 
	gk
 = 2; k>0; --kè
	gx
[
k
] = 
x
[k - 1];

39115 
	gk
 = 3; k>0; --kè
	gv®
[
k
] = 
v®
[k - 1];

39117 *
	gd©a
 = (
T
)0;

39141 
	gCImg
<
	gT
>& 
vªvl›t
(cÚ¡ 
sigma
, cÚ¡ 
Üd”
, cÚ¡ 
axis
='x',

39142 cÚ¡ 
boŞ
 
bound¬y_cÚd™iÚs
=
Œue
) {

39143 ià(
is_em±y
()è *
this
;

39144 ià(!
	gcimg
::
ty³
<
T
>::
is_æßt
())

39145  
CImg
<
Tæßt
>(*
this
,
	gçl£
).
vªvl›t
(
sigma
,
Üd”
,
axis
,
bound¬y_cÚd™iÚs
).
move_to
(*this);

39146 cÚ¡ 
	gÇxis
 = 
cimg
::
low”ÿ£
(
axis
);

39147 cÚ¡ 
	gnsigma
 = 
sigma
>=0?sigma:-sigma*(
Çxis
=='x'?
_width
:Çxis=='y'?
_height
:Çxis=='z'?
_d•th
:
_¥eùrum
)/100;

39148 ià(
is_em±y
(è|| (
	gnsigma
<0.5à&& !
	gÜd”
)è *
	gthis
;

39150 
	gÂsigma
 = 
nsigma
<0.5f?0.5f:nsigma,

39151 
	gm0
 = 1.16680, 
	gm1
 = 1.10783, 
	gm2
 = 1.40586,

39152 
	gm1sq
 = 
m1
 * m1, 
	gm2sq
 = 
m2
 * m2,

39153 
	gq
 = (
Âsigma
<3.556?-0.2568 + 0.5784*nnsigma + 0.0561*nnsigma*nnsigma:2.5091 + 0.9804*(nnsigma - 3.556)),

39154 
	gqsq
 = 
q
 * q,

39155 
	gsÿË
 = (
m0
 + 
q
è* (
m1sq
 + 
m2sq
 + 2 * 
m1
 * q + 
qsq
),

39156 
	gb1
 = -
q
 * (2 * 
m0
 * 
m1
 + 
m1sq
 + 
m2sq
 + (2 * m0 + 4 * m1è* q + 3 * 
qsq
è/ 
sÿË
,

39157 
	gb2
 = 
qsq
 * (
m0
 + 2 * 
m1
 + 3 * 
q
è/ 
sÿË
,

39158 
	gb3
 = -
qsq
 * 
q
 / 
sÿË
,

39159 
	gB
 = ( 
m0
 * (
m1sq
 + 
m2sq
èè/ 
sÿË
;

39160 
	gf‹r
[4];

39161 
	gf‹r
[0] = 
B
; f‹r[1] = -
b1
; f‹r[2] = -
b2
; f‹r[3] = -
b3
;

39162 
	gÇxis
) {

39164 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*256 &&

39165 
_height
*
_d•th
*
_¥eùrum
>=16))

39166 
cimg_fÜYZC
(*
this
,
y
,
z
,
c
)

39167 
_cimg_»cursive_­¶y
(
d©a
(0,
y
,
z
,
c
),
f‹r
,
_width
,1U,
Üd”
,
bound¬y_cÚd™iÚs
);

39170 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*256 &&

39171 
_height
*
_d•th
*
_¥eùrum
>=16))

39172 
cimg_fÜXZC
(*
this
,
x
,
z
,
c
)

39173 
_cimg_»cursive_­¶y
(
d©a
(
x
,0,
z
,
c
),
f‹r
,
_height
,(
ulÚgT
)
_width
,
Üd”
,
bound¬y_cÚd™iÚs
);

39176 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*256 &&

39177 
_height
*
_d•th
*
_¥eùrum
>=16))

39178 
cimg_fÜXYC
(*
this
,
x
,
y
,
c
)

39179 
_cimg_»cursive_­¶y
(
d©a
(
x
,
y
,0,
c
),
f‹r
,
_d•th
,(
ulÚgT
)
_width
*
_height
,

39180 
Üd”
,
bound¬y_cÚd™iÚs
);

39183 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*256 &&

39184 
_height
*
_d•th
*
_¥eùrum
>=16))

39185 
cimg_fÜXYZ
(*
this
,
x
,
y
,
z
)

39186 
_cimg_»cursive_­¶y
(
d©a
(
x
,
y
,
z
,0),
f‹r
,
_¥eùrum
,(
ulÚgT
)
_width
*
_height
*
_d•th
,

39187 
Üd”
,
bound¬y_cÚd™iÚs
);

39190  *
	gthis
;

39194 
	gCImg
<
	gTæßt
> 
g‘_vªvl›t
(cÚ¡ 
sigma
, cÚ¡ 
Üd”
, cÚ¡ 
axis
='x',

39195 cÚ¡ 
boŞ
 
bound¬y_cÚd™iÚs
=
Œue
) const {

39196  
CImg
<
Tæßt
>(*
this
,
çl£
).
vªvl›t
(
sigma
,
Üd”
,
axis
,
bound¬y_cÚd™iÚs
);

39211 
	gCImg
<
	gT
>& 
blur
(cÚ¡ 
sigma_x
, cÚ¡ 
sigma_y
, cÚ¡ 
sigma_z
,

39212 cÚ¡ 
boŞ
 
bound¬y_cÚd™iÚs
=
Œue
, cÚ¡ boŞ 
is_gaussŸn
=
çl£
) {

39213 ià(
is_em±y
()è *
this
;

39214 ià(
	gis_gaussŸn
) {

39215 ià(
	g_width
>1è
vªvl›t
(
sigma_x
,0,'x',
bound¬y_cÚd™iÚs
);

39216 ià(
	g_height
>1è
vªvl›t
(
sigma_y
,0,'y',
bound¬y_cÚd™iÚs
);

39217 ià(
	g_d•th
>1è
vªvl›t
(
sigma_z
,0,'z',
bound¬y_cÚd™iÚs
);

39219 ià(
	g_width
>1è
d”iche
(
sigma_x
,0,'x',
bound¬y_cÚd™iÚs
);

39220 ià(
	g_height
>1è
d”iche
(
sigma_y
,0,'y',
bound¬y_cÚd™iÚs
);

39221 ià(
	g_d•th
>1è
d”iche
(
sigma_z
,0,'z',
bound¬y_cÚd™iÚs
);

39223  *
	gthis
;

39227 
	gCImg
<
	gTæßt
> 
g‘_blur
(cÚ¡ 
sigma_x
, cÚ¡ 
sigma_y
, cÚ¡ 
sigma_z
,

39228 cÚ¡ 
boŞ
 
bound¬y_cÚd™iÚs
=
Œue
, cÚ¡ boŞ 
is_gaussŸn
=
çl£
) const {

39229  
CImg
<
Tæßt
>(*
this
,
çl£
).
blur
(
sigma_x
,
sigma_y
,
sigma_z
,
bound¬y_cÚd™iÚs
,
is_gaussŸn
);

39239 
	gCImg
<
	gT
>& 
blur
(cÚ¡ 
sigma
, cÚ¡ 
boŞ
 
bound¬y_cÚd™iÚs
=
Œue
, cÚ¡ boŞ 
is_gaussŸn
=
çl£
) {

39240 cÚ¡ 
nsigma
 = 
sigma
>=0?sigma:-sigma*
cimg
::
max
(
_width
,
_height
,
_d•th
)/100;

39241  
blur
(
nsigma
,nsigma,nsigma,
bound¬y_cÚd™iÚs
,
is_gaussŸn
);

39245 
	gCImg
<
	gTæßt
> 
g‘_blur
(cÚ¡ 
sigma
, cÚ¡ 
boŞ
 
bound¬y_cÚd™iÚs
=
Œue
, cÚ¡ boŞ 
is_gaussŸn
=
çl£
) const {

39246  
CImg
<
Tæßt
>(*
this
,
çl£
).
blur
(
sigma
,
bound¬y_cÚd™iÚs
,
is_gaussŸn
);

39260 
	g‹m¶©e
<
ty³Çme
 
	gt
>

39261 
	gCImg
<
	gT
>& 
blur_ªisÙrİic
(cÚ¡ 
CImg
<
t
>& 
G
,

39262 cÚ¡ 
am¶™ude
=60, cÚ¡ 
dl
=0.8f, cÚ¡ 
da
=30,

39263 cÚ¡ 
gauss_´ec
=2, cÚ¡ 
š‹½Ş©iÚ_ty³
=0,

39264 cÚ¡ 
boŞ
 
is_ç¡_­´ox
=1) {

39267 ià(!
is_§meXYZ
(
G
è|| (G.
_¥eùrum
!=3 && G._spectrum!=6))

39268 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


39270 
cimg_š¡ªû
,

39271 
G
.
_width
,G.
_height
,G.
_d•th
,G.
_¥eùrum
,G.
_d©a
);

39272 ià(
is_em±y
(è|| 
	gdl
<0è *
	gthis
;

39273 cÚ¡ 
	gÇm¶™ude
 = 
am¶™ude
>=0?am¶™ude:-am¶™ude*
cimg
::
max
(
_width
,
_height
,
_d•th
)/100;

39274 
	gŸm¶™ude
 = 
cimg
::
round
(
Çm¶™ude
);

39275 cÚ¡ 
boŞ
 
	gis_3d
 = (
G
.
_¥eùrum
==6);

39276 
T
 
	gv®_mš
, 
	gv®_max
 = 
max_mš
(
v®_mš
);

39277 
	g_cimg_abÜt_š™_İ’mp
;

39278 
	gcimg_abÜt_š™
;

39280 ià(
	gda
<=0) {

39281 
CImg
<
Tæßt
> 
v–oc™y
(
_width
,
_height
,
_d•th
,
_¥eùrum
);

39282 
	g™”©iÚ
 = 0; i‹¿tiÚ<
	gŸm¶™ude
; ++iteration) {

39283 
Tæßt
 *
	g±rd
 = 
v–oc™y
.
_d©a
, 
	gv–oc_max
 = 0;

39284 ià(
	gis_3d
)

39285 
cimg_fÜC
(*
this
,
c
) {

39286 
	gcimg_abÜt_‹¡
;

39287 
CImg_3x3x3
(
I
,
Tæßt
);

39288 
cimg_fÜ3x3x3
(*
this
,
x
,
y
,
z
,
c
,
I
,
Tæßt
) {

39289 cÚ¡ 
Tæßt


39290 
	gixx
 = 
Incc
 + 
Ipcc
 - 2*
Iccc
,

39291 
	gixy
 = (
IÂc
 + 
Iµc
 - 
IÅc
 - 
I²c
)/4,

39292 
	gixz
 = (
Inú
 + 
Ipı
 - 
Inı
 - 
Ipú
)/4,

39293 
	giyy
 = 
Iúc
 + 
Iıc
 - 2*
Iccc
,

39294 
	giyz
 = (
Iún
 + 
Iıp
 - 
Iúp
 - 
Iın
)/4,

39295 
	gizz
 = 
Icú
 + 
Icı
 - 2*
Iccc
,

39296 
	gv–oc
 = (
Tæßt
)(
G
(
x
,
y
,
z
,0)*
	gixx
 + 2*G(x,y,z,1)*
	gixy
 + 2*G(x,y,z,2)*
	gixz
 +

39297 
G
(
x
,
y
,
z
,3)*
	giyy
 + 2*G(x,y,z,4)*
	giyz
 + G(x,y,z,5)*
	gizz
);

39298 *(
	g±rd
++èğ
v–oc
;

39299 ià(
	gv–oc
>
	gv–oc_max
èv–oc_max = 
v–oc
; if (-veloc>veloc_max) veloc_max = -veloc;

39303 
cimg_fÜZC
(*
this
,
z
,
c
) {

39304 
	gcimg_abÜt_‹¡
;

39305 
CImg_3x3
(
I
,
Tæßt
);

39306 
cimg_fÜ3x3
(*
this
,
x
,
y
,
z
,
c
,
I
,
Tæßt
) {

39307 cÚ¡ 
Tæßt


39308 
	gixx
 = 
Inc
 + 
Ipc
 - 2*
Icc
,

39309 
	gixy
 = (
IÂ
 + 
Iµ
 - 
IÅ
 - 
I²
)/4,

39310 
	giyy
 = 
Iú
 + 
Iı
 - 2*
Icc
,

39311 
	gv–oc
 = (
Tæßt
)(
G
(
x
,
y
,0,0)*
	gixx
 + 2*G(x,y,0,1)*
	gixy
 + G(x,y,0,2)*
	giyy
);

39312 *(
	g±rd
++èğ
v–oc
;

39313 ià(
	gv–oc
>
	gv–oc_max
èv–oc_max = 
v–oc
; if (-veloc>veloc_max) veloc_max = -veloc;

39316 ià(
	gv–oc_max
>0è*
	gthis
+=(
v–oc™y
*=
dl
/
v–oc_max
);

39319 cÚ¡ 
ulÚgT
 
	gwhd
 = (ulÚgT)
_width
*
_height
*
_d•th
;

39320 cÚ¡ 
	gsq¹2am¶™ude
 = ()
¡d
::
sq¹
(2*
Çm¶™ude
);

39321 cÚ¡ 
	gdx1
 = 
width
(è- 1, 
	gdy1
 = 
height
(è- 1, 
	gdz1
 = 
d•th
() - 1;

39322 
	gCImg
<
	gTæßt
> 
»s
(
_width
,
_height
,
_d•th
,
_¥eùrum
,0), 
W
(_width,_height,_d•th,
is_3d
?4:3), 
v®
(_spectrum,1,1,1,0);

39323 
	gN
 = 0;

39324 ià(
	gis_3d
) {

39325 
	gphi
 = 
cimg
::
mod
(180.f,
da
)/2.f;…hi<=180;…hi+=da) {

39326 cÚ¡ 
phœ
 = ()(
phi
*
cimg
::
PI
/180), 
	gd©mp
 = ()(
da
/
¡d
::
cos
(phir)),

39327 
	gda2
 = 
d©mp
<1?360.f:datmp;

39328 
	gth‘a
 = 0;h‘a<360; (th‘a+=
da2
),++
	gN
) {

39330 
	gth‘¬
 = ()(
th‘a
*
cimg
::
PI
/180),

39331 
	gvx
 = ()(
¡d
::
cos
(
th‘¬
)*¡d::cos(
phœ
)),

39332 
	gvy
 = ()(
¡d
::
sš
(
th‘¬
)*¡d::
cos
(
phœ
)),

39333 
	gvz
 = ()
¡d
::
sš
(
phœ
);

39334 cÚ¡ 
t


39335 *
	g·
 = 
G
.
d©a
(0,0,0,0), *
	gpb
 = G.d©a(0,0,0,1), *
	gpc
 = G.data(0,0,0,2),

39336 *
	gpd
 = 
G
.
d©a
(0,0,0,3), *
	g³
 = G.d©a(0,0,0,4), *
	gpf
 = G.data(0,0,0,5);

39337 
Tæßt
 *
	gpd0
 = 
W
.
d©a
(0,0,0,0), *
	gpd1
 = W.d©a(0,0,0,1), *
	gpd2
 = W.d©a(0,0,0,2), *
	gpd3
 = W.data(0,0,0,3);

39338 
cimg_fÜXYZ
(
G
,
xg
,
yg
,
zg
) {

39339 cÚ¡ 
t
 
	ga
 = *(
·
++), 
	gb
 = *(
pb
++), 
	gc
 = *(
pc
++), 
	gd
 = *(
pd
++), 
	ge
 = *(
³
++), 
	gf
 = *(
pf
++);

39341 
	gu
 = ()(
a
*
vx
 + 
b
*
vy
 + 
c
*
vz
),

39342 
	gv
 = ()(
b
*
vx
 + 
d
*
vy
 + 
e
*
vz
),

39343 
	gw
 = ()(
c
*
vx
 + 
e
*
vy
 + 
f
*
vz
),

39344 
	gn
 = 1e-5à+ 
cimg
::
hypÙ
(
u
,
v
,
w
),

39345 
	gdÊ
 = 
dl
/
n
;

39346 *(
	gpd0
++èğ(
Tæßt
)(
u
*
dÊ
);

39347 *(
	gpd1
++èğ(
Tæßt
)(
v
*
dÊ
);

39348 *(
	gpd2
++èğ(
Tæßt
)(
w
*
dÊ
);

39349 *(
	gpd3
++èğ(
Tæßt
)
n
;

39352 
	gcimg_abÜt_‹¡
;

39353 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2)

39354 
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*256 && 
_height
*
_d•th
>=2)

39355 
fœ¡´iv©e
(
v®
))

39356 
cimg_fÜYZ
(*
this
,
y
,
z
è
	g_cimg_abÜt_Œy_İ’mp2
 {

39357 
	gcimg_abÜt_‹¡2
;

39358 
cimg_fÜX
(*
this
,
x
) {

39359 
	gv®
.
fl
(0);

39361 
	gn
 = ()
W
(
x
,
y
,
z
,3),

39362 
	gfsigma
 = ()(
n
*
sq¹2am¶™ude
),

39363 
	gfsigma2
 = 2*
fsigma
*fsigma,

39364 
	gËngth
 = 
gauss_´ec
*
fsigma
;

39366 
	gS
 = 0,

39367 
	gX
 = ()
x
,

39368 
	gY
 = ()
y
,

39369 
	gZ
 = ()
z
;

39370 
	gš‹½Ş©iÚ_ty³
) {

39372 
l
 = 0; 
	gl
<
	gËngth
 && 
	gX
>=0 && 
X
<=
dx1
 && 
Y
>=0 && Y<=
dy1
 && 
Z
>=0 && Z<=
dz1
;†+=
dl
) {

39374 
cx
 = ()(
X
 + 0.5f),

39375 
	gcy
 = ()(
Y
 + 0.5f),

39376 
	gcz
 = ()(
Z
 + 0.5f);

39378 
	gu
 = ()
W
(
cx
,
cy
,
cz
,0),

39379 
	gv
 = ()
W
(
cx
,
cy
,
cz
,1),

39380 
	gw
 = ()
W
(
cx
,
cy
,
cz
,2);

39381 ià(
	gis_ç¡_­´ox
è{ 
cimg_fÜC
(*
this
,
c
è
	gv®
[c]+=(
Tæßt
)(*this)(
cx
,
	gcy
,
	gcz
,
	gc
); ++
	gS
; }

39383 cÚ¡ 
	gcÛf
 = ()
¡d
::
exp
(-
l
*l/
fsigma2
);

39384 
cimg_fÜC
(*
this
,
c
è
	gv®
[c]+=(
Tæßt
)(
cÛf
*(*this)(
cx
,
	gcy
,
	gcz
,
	gc
));

39385 
	gS
+=
cÛf
;

39387 
	gX
+=
u
; 
	gY
+=
v
; 
	gZ
+=
w
;

39391 
l
 = 0; 
	gl
<
	gËngth
 && 
	gX
>=0 && 
X
<=
dx1
 && 
Y
>=0 && Y<=
dy1
 && 
Z
>=0 && Z<=
dz1
;†+=
dl
) {

39393 
u
 = ()(
W
.
_lš—r_©XYZ
(
X
,
Y
,
Z
,0)),

39394 
	gv
 = ()(
W
.
_lš—r_©XYZ
(
X
,
Y
,
Z
,1)),

39395 
	gw
 = ()(
W
.
_lš—r_©XYZ
(
X
,
Y
,
Z
,2));

39396 ià(
	gis_ç¡_­´ox
è{ 
cimg_fÜC
(*
this
,
c
è
	gv®
[c]+=(
Tæßt
)
_lš—r_©XYZ
(
X
,
Y
,
Z
,c); ++
	gS
; }

39398 cÚ¡ 
	gcÛf
 = ()
¡d
::
exp
(-
l
*l/
fsigma2
);

39399 
cimg_fÜC
(*
this
,
c
è
	gv®
[c]+=(
Tæßt
)(
cÛf
*
_lš—r_©XYZ
(
X
,
Y
,
Z
,c));

39400 
	gS
+=
cÛf
;

39402 
	gX
+=
u
; 
	gY
+=
v
; 
	gZ
+=
w
;

39406 
l
 = 0; 
	gl
<
	gËngth
 && 
	gX
>=0 && 
X
<=
dx1
 && 
Y
>=0 && Y<=
dy1
 && 
Z
>=0 && Z<=
dz1
;†+=
dl
) {

39408 
u0
 = ()(0.5f*
W
.
_lš—r_©XYZ
(
X
,
Y
,
Z
,0)),

39409 
	gv0
 = ()(0.5f*
W
.
_lš—r_©XYZ
(
X
,
Y
,
Z
,1)),

39410 
	gw0
 = ()(0.5f*
W
.
_lš—r_©XYZ
(
X
,
Y
,
Z
,2)),

39411 
	gu
 = ()(
W
.
_lš—r_©XYZ
(
X
 + 
u0
,
Y
 + 
v0
,
Z
 + 
w0
,0)),

39412 
	gv
 = ()(
W
.
_lš—r_©XYZ
(
X
 + 
u0
,
Y
 + 
v0
,
Z
 + 
w0
,1)),

39413 
	gw
 = ()(
W
.
_lš—r_©XYZ
(
X
 + 
u0
,
Y
 + 
v0
,
Z
 + 
w0
,2));

39414 ià(
	gis_ç¡_­´ox
è{ 
cimg_fÜC
(*
this
,
c
è
	gv®
[c]+=(
Tæßt
)
_lš—r_©XYZ
(
X
,
Y
,
Z
,c); ++
	gS
; }

39416 cÚ¡ 
	gcÛf
 = ()
¡d
::
exp
(-
l
*l/
fsigma2
);

39417 
cimg_fÜC
(*
this
,
c
è
	gv®
[c]+=(
Tæßt
)(
cÛf
*
_lš—r_©XYZ
(
X
,
Y
,
Z
,c));

39418 
	gS
+=
cÛf
;

39420 
	gX
+=
u
; 
	gY
+=
v
; 
	gZ
+=
w
;

39424 
Tæßt
 *
	g±rd
 = 
»s
.
d©a
(
x
,
y
,
z
);

39425 ià(
	gS
>0è
cimg_fÜC
(
»s
,
c
è{ *
	g±rd
+=
v®
[c]/
S
;…Œd+=
whd
; }

39426 
cimg_fÜC
(
»s
,
c
è{ *
	g±rd
+=(
Tæßt
)((*
this
)(
x
,
	gy
,
	gz
,
	gc
));…Œd+=
whd
; }

39428 } 
	g_cimg_abÜt_ÿtch_İ’mp2


39432 
	gth‘a
 = 
cimg
::
mod
(360.f,
da
)/2.f;h‘a<360; (th‘a+=da),++
	gN
) {

39433 cÚ¡ 
	gth‘¬
 = ()(
th‘a
*
cimg
::
PI
/180),

39434 
	gvx
 = ()(
¡d
::
cos
(
th‘¬
)), 
	gvy
 = ()(¡d::
sš
(thetar));

39435 cÚ¡ 
t
 *
	g·
 = 
G
.
d©a
(0,0,0,0), *
	gpb
 = G.d©a(0,0,0,1), *
	gpc
 = G.data(0,0,0,2);

39436 
Tæßt
 *
	gpd0
 = 
W
.
d©a
(0,0,0,0), *
	gpd1
 = W.d©a(0,0,0,1), *
	gpd2
 = W.data(0,0,0,2);

39437 
cimg_fÜXY
(
G
,
xg
,
yg
) {

39438 cÚ¡ 
t
 
	ga
 = *(
·
++), 
	gb
 = *(
pb
++), 
	gc
 = *(
pc
++);

39440 
	gu
 = ()(
a
*
vx
 + 
b
*
vy
),

39441 
	gv
 = ()(
b
*
vx
 + 
c
*
vy
),

39442 
	gn
 = 
¡d
::
max
(1e-5f,
cimg
::
hypÙ
(
u
,
v
)),

39443 
	gdÊ
 = 
dl
/
n
;

39444 *(
	gpd0
++èğ(
Tæßt
)(
u
*
dÊ
);

39445 *(
	gpd1
++èğ(
Tæßt
)(
v
*
dÊ
);

39446 *(
	gpd2
++èğ(
Tæßt
)
n
;

39449 
	gcimg_abÜt_‹¡
;

39450 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*256 && 
_height
>=2)

39451 
fœ¡´iv©e
(
v®
))

39452 
cimg_fÜY
(*
this
,
y
è
	g_cimg_abÜt_Œy_İ’mp2
 {

39453 
	gcimg_abÜt_‹¡2
;

39454 
cimg_fÜX
(*
this
,
x
) {

39455 
	gv®
.
fl
(0);

39457 
	gn
 = ()
W
(
x
,
y
,0,2),

39458 
	gfsigma
 = ()(
n
*
sq¹2am¶™ude
),

39459 
	gfsigma2
 = 2*
fsigma
*fsigma,

39460 
	gËngth
 = 
gauss_´ec
*
fsigma
;

39462 
	gS
 = 0,

39463 
	gX
 = ()
x
,

39464 
	gY
 = ()
y
;

39465 
	gš‹½Ş©iÚ_ty³
) {

39467 
l
 = 0; 
	gl
<
	gËngth
 && 
	gX
>=0 && 
X
<=
dx1
 && 
Y
>=0 && Y<=
dy1
;†+=
dl
) {

39469 
cx
 = ()(
X
 + 0.5f),

39470 
	gcy
 = ()(
Y
 + 0.5f);

39472 
	gu
 = ()
W
(
cx
,
cy
,0,0),

39473 
	gv
 = ()
W
(
cx
,
cy
,0,1);

39474 ià(
	gis_ç¡_­´ox
è{ 
cimg_fÜC
(*
this
,
c
è
	gv®
[c]+=(
Tæßt
)(*this)(
cx
,
	gcy
,0,
	gc
); ++
	gS
; }

39476 cÚ¡ 
	gcÛf
 = ()
¡d
::
exp
(-
l
*l/
fsigma2
);

39477 
cimg_fÜC
(*
this
,
c
è
	gv®
[c]+=(
Tæßt
)(
cÛf
*(*this)(
cx
,
	gcy
,0,
	gc
));

39478 
	gS
+=
cÛf
;

39480 
	gX
+=
u
; 
	gY
+=
v
;

39484 
l
 = 0; 
	gl
<
	gËngth
 && 
	gX
>=0 && 
X
<=
dx1
 && 
Y
>=0 && Y<=
dy1
;†+=
dl
) {

39486 
u
 = ()(
W
.
_lš—r_©XY
(
X
,
Y
,0,0)),

39487 
	gv
 = ()(
W
.
_lš—r_©XY
(
X
,
Y
,0,1));

39488 ià(
	gis_ç¡_­´ox
è{ 
cimg_fÜC
(*
this
,
c
è
	gv®
[c]+=(
Tæßt
)
_lš—r_©XY
(
X
,
Y
,0,c); ++
	gS
; }

39490 cÚ¡ 
	gcÛf
 = ()
¡d
::
exp
(-
l
*l/
fsigma2
);

39491 
cimg_fÜC
(*
this
,
c
è
	gv®
[c]+=(
Tæßt
)(
cÛf
*
_lš—r_©XY
(
X
,
Y
,0,c));

39492 
	gS
+=
cÛf
;

39494 
	gX
+=
u
; 
	gY
+=
v
;

39498 
l
 = 0; 
	gl
<
	gËngth
 && 
	gX
>=0 && 
X
<=
dx1
 && 
Y
>=0 && Y<=
dy1
;†+=
dl
) {

39500 
u0
 = ()(0.5f*
W
.
_lš—r_©XY
(
X
,
Y
,0,0)),

39501 
	gv0
 = ()(0.5f*
W
.
_lš—r_©XY
(
X
,
Y
,0,1)),

39502 
	gu
 = ()(
W
.
_lš—r_©XY
(
X
 + 
u0
,
Y
 + 
v0
,0,0)),

39503 
	gv
 = ()(
W
.
_lš—r_©XY
(
X
 + 
u0
,
Y
 + 
v0
,0,1));

39504 ià(
	gis_ç¡_­´ox
è{ 
cimg_fÜC
(*
this
,
c
è
	gv®
[c]+=(
Tæßt
)
_lš—r_©XY
(
X
,
Y
,0,c); ++
	gS
; }

39506 cÚ¡ 
	gcÛf
 = ()
¡d
::
exp
(-
l
*l/
fsigma2
);

39507 
cimg_fÜC
(*
this
,
c
è
	gv®
[c]+=(
Tæßt
)(
cÛf
*
_lš—r_©XY
(
X
,
Y
,0,c));

39508 
	gS
+=
cÛf
;

39510 
	gX
+=
u
; 
	gY
+=
v
;

39514 
Tæßt
 *
	g±rd
 = 
»s
.
d©a
(
x
,
y
);

39515 ià(
	gS
>0è
cimg_fÜC
(
»s
,
c
è{ *
	g±rd
+=
v®
[c]/
S
;…Œd+=
whd
; }

39516 
cimg_fÜC
(
»s
,
c
è{ *
	g±rd
+=(
Tæßt
)((*
this
)(
x
,
	gy
,0,
	gc
));…Œd+=
whd
; }

39518 } 
	g_cimg_abÜt_ÿtch_İ’mp2


39521 cÚ¡ 
Tæßt
 *
	g±rs
 = 
»s
.
_d©a
;

39522 
cimg_fÜ
(*
this
,
±rd
,
T
) {

39523 cÚ¡ 
Tæßt
 
	g_v®
 = *(
±rs
++)/
N
;

39524 *
	g±rd
 = 
_v®
<
v®_mš
?v®_mš:(_v®>
v®_max
?v®_max:(
T
)_val);

39527 
	gcimg_abÜt_‹¡
;

39528  *
	gthis
;

39532 
	g‹m¶©e
<
ty³Çme
 
	gt
>

39533 
	gCImg
<
	gTæßt
> 
g‘_blur_ªisÙrİic
(cÚ¡ 
CImg
<
t
>& 
G
,

39534 cÚ¡ 
am¶™ude
=60, cÚ¡ 
dl
=0.8f, cÚ¡ 
da
=30,

39535 cÚ¡ 
gauss_´ec
=2, cÚ¡ 
š‹½Ş©iÚ_ty³
=0,

39536 cÚ¡ 
boŞ
 
is_ç¡_­´ox
=
Œue
) const {

39537  
CImg
<
Tæßt
>(*
this
,
çl£
).
blur_ªisÙrİic
(
G
,
am¶™ude
,
dl
,
da
,
gauss_´ec
,
š‹½Ş©iÚ_ty³
,
is_ç¡_­´ox
);

39554 
	gCImg
<
	gT
>& 
blur_ªisÙrİic
(cÚ¡ 
am¶™ude
, cÚ¡ 
sh¬²ess
=0.7f, cÚ¡ 
ªisÙrİy
=0.6f,

39555 cÚ¡ 
®pha
=0.6f, cÚ¡ 
sigma
=1.1f, cÚ¡ 
dl
=0.8f, cÚ¡ 
da
=30,

39556 cÚ¡ 
gauss_´ec
=2, cÚ¡ 
š‹½Ş©iÚ_ty³
=0,

39557 cÚ¡ 
boŞ
 
is_ç¡_­´ox
=
Œue
) {

39558 cÚ¡ 
ÇÍha
 = 
®pha
>=0?®pha:-®pha*
cimg
::
max
(
_width
,
_height
,
_d•th
)/100;

39559 cÚ¡ 
	gnsigma
 = 
sigma
>=0?sigma:-sigma*
cimg
::
max
(
_width
,
_height
,
_d•th
)/100;

39560  
blur_ªisÙrİic
(
g‘_diffusiÚ_‹nsÜs
(
sh¬²ess
,
ªisÙrİy
,
ÇÍha
,
nsigma
,
š‹½Ş©iÚ_ty³
!=3),

39561 
am¶™ude
,
dl
,
da
,
gauss_´ec
,
š‹½Ş©iÚ_ty³
,
is_ç¡_­´ox
);

39565 
	gCImg
<
	gTæßt
> 
g‘_blur_ªisÙrİic
(cÚ¡ 
am¶™ude
, cÚ¡ 
sh¬²ess
=0.7f, cÚ¡ 
ªisÙrİy
=0.6f,

39566 cÚ¡ 
®pha
=0.6f, cÚ¡ 
sigma
=1.1f, cÚ¡ 
dl
=0.8f,

39567 cÚ¡ 
da
=30, cÚ¡ 
gauss_´ec
=2,

39568 cÚ¡ 
š‹½Ş©iÚ_ty³
=0,

39569 cÚ¡ 
boŞ
 
is_ç¡_­´ox
=
Œue
) const {

39570  
CImg
<
Tæßt
>(*
this
,
çl£
).
blur_ªisÙrİic
(
am¶™ude
,
sh¬²ess
,
ªisÙrİy
,
®pha
,
sigma
,
dl
,
da
,
gauss_´ec
,

39571 
š‹½Ş©iÚ_ty³
,
is_ç¡_­´ox
);

39593 
	g‹m¶©e
<
ty³Çme
 
	gt
>

39594 
	gCImg
<
	gT
>& 
blur_b©”®
(cÚ¡ 
CImg
<
t
>& 
guide
,

39595 cÚ¡ 
sigma_x
, cÚ¡ 
sigma_y
,

39596 cÚ¡ 
sigma_z
, cÚ¡ 
sigma_r
,

39597 cÚ¡ 
§m¶šg_x
, cÚ¡ 
§m¶šg_y
,

39598 cÚ¡ 
§m¶šg_z
, cÚ¡ 
§m¶šg_r
) {

39599 ià(!
is_§meXYZ
(
guide
))

39600 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


39602 
cimg_š¡ªû
,

39603 
guide
.
_width
,guide.
_height
,guide.
_d•th
,guide.
_¥eùrum
,guide.
_d©a
);

39604 ià(
is_em±y
(è|| (!
	gsigma_x
 && !
	gsigma_y
 && !
	gsigma_z
)è *
	gthis
;

39605 
T
 
	gedge_mš
, 
	gedge_max
 = 
guide
.
max_mš
(
edge_mš
);

39606 ià(
	gedge_mš
==
edge_max
è 
blur
(
sigma_x
,
sigma_y
,
sigma_z
);

39608 
	gedge_d–
 = ()(
edge_max
 - 
edge_mš
),

39609 
	g_sigma_x
 = 
sigma_x
>=0?sigma_x:-sigma_x*
_width
/100,

39610 
	g_sigma_y
 = 
sigma_y
>=0?sigma_y:-sigma_y*
_height
/100,

39611 
	g_sigma_z
 = 
sigma_z
>=0?sigma_z:-sigma_z*
_d•th
/100,

39612 
	g_sigma_r
 = 
sigma_r
>=0?sigma_r:-sigma_r*
edge_d–
/100,

39613 
	g_§m¶šg_x
 = 
§m¶šg_x
?§m¶šg_x:
¡d
::
max
(
_sigma_x
,1.f),

39614 
	g_§m¶šg_y
 = 
§m¶šg_y
?§m¶šg_y:
¡d
::
max
(
_sigma_y
,1.f),

39615 
	g_§m¶šg_z
 = 
§m¶šg_z
?§m¶šg_z:
¡d
::
max
(
_sigma_z
,1.f),

39616 
	g_§m¶šg_r
 = 
§m¶šg_r
?§m¶šg_r:
¡d
::
max
(
_sigma_r
,
edge_d–
/256),

39617 
	gd”ived_sigma_x
 = 
_sigma_x
 / 
_§m¶šg_x
,

39618 
	gd”ived_sigma_y
 = 
_sigma_y
 / 
_§m¶šg_y
,

39619 
	gd”ived_sigma_z
 = 
_sigma_z
 / 
_§m¶šg_z
,

39620 
	gd”ived_sigma_r
 = 
_sigma_r
 / 
_§m¶šg_r
;

39622 
	g·ddšg_x
 = ()(2*
d”ived_sigma_x
) + 1,

39623 
	g·ddšg_y
 = ()(2*
d”ived_sigma_y
) + 1,

39624 
	g·ddšg_z
 = ()(2*
d”ived_sigma_z
) + 1,

39625 
	g·ddšg_r
 = ()(2*
d”ived_sigma_r
) + 1;

39627 
	gbx
 = ()((
_width
 - 1)/
_§m¶šg_x
 + 1 + 2*
·ddšg_x
),

39628 
	gby
 = ()((
_height
 - 1)/
_§m¶šg_y
 + 1 + 2*
·ddšg_y
),

39629 
	gbz
 = ()((
_d•th
 - 1)/
_§m¶šg_z
 + 1 + 2*
·ddšg_z
),

39630 
	gbr
 = ()(
edge_d–
/
_§m¶šg_r
 + 1 + 2*
·ddšg_r
);

39631 ià(
	gbx
>0 || 
	gby
>0 || 
	gbz
>0 || 
	gbr
>0) {

39632 cÚ¡ 
boŞ
 
	gis_3d
 = (
_d•th
>1);

39633 ià(
	gis_3d
) {

39634 
	gCImg
<
	gæßtT
> 
bgrid
(
bx
,
by
,
bz
,
br
), 
bgridw
(bx,by,bz,br);

39635 
cimg_fÜC
(*
this
,
c
) {

39636 cÚ¡ 
	gCImg
<
	gt
> 
	g_guide
 = 
guide
.
g‘_sh¬ed_chªÃl
(
c
%guide.
_¥eùrum
);

39637 
	gbgrid
.
fl
(0); 
	gbgridw
.fill(0);

39638 
cimg_fÜXYZ
(*
this
,
x
,
y
,
z
) {

39639 cÚ¡ 
T
 
	gv®
 = (*
this
)(
x
,
	gy
,
	gz
,
	gc
);

39640 cÚ¡ 
	gedge
 = ()
_guide
(
x
,
y
,
z
);

39642 
	gX
 = ()
cimg
::
round
(
x
/
_§m¶šg_x
è+ 
·ddšg_x
,

39643 
	gY
 = ()
cimg
::
round
(
y
/
_§m¶šg_y
è+ 
·ddšg_y
,

39644 
	gZ
 = ()
cimg
::
round
(
z
/
_§m¶šg_z
è+ 
·ddšg_z
,

39645 
	gR
 = ()
cimg
::
round
((
edge
 - 
edge_mš
)/
_§m¶šg_r
è+ 
·ddšg_r
;

39646 
bgrid
(
X
,
Y
,
Z
,
R
)+=()
v®
;

39647 
bgridw
(
X
,
Y
,
Z
,
R
)+=1;

39649 
	gbgrid
.
blur
(
d”ived_sigma_x
,
d”ived_sigma_y
,
d”ived_sigma_z
,
Œue
).
d”iche
(
d”ived_sigma_r
,0,'c',
çl£
);

39650 
	gbgridw
.
blur
(
d”ived_sigma_x
,
d”ived_sigma_y
,
d”ived_sigma_z
,
Œue
).
d”iche
(
d”ived_sigma_r
,0,'c',
çl£
);

39652 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
size
(),4096))

39653 
cimg_fÜXYZ
(*
this
,
x
,
y
,
z
) {

39654 cÚ¡ 
	gedge
 = ()
_guide
(
x
,
y
,
z
);

39656 
	gX
 = 
x
/
_§m¶šg_x
 + 
·ddšg_x
,

39657 
	gY
 = 
y
/
_§m¶šg_y
 + 
·ddšg_y
,

39658 
	gZ
 = 
z
/
_§m¶šg_z
 + 
·ddšg_z
,

39659 
	gR
 = (
edge
 - 
edge_mš
)/
_§m¶šg_r
 + 
·ddšg_r
;

39660 cÚ¡ 
	gbv®0
 = 
bgrid
.
_lš—r_©XYZC
(
X
,
Y
,
Z
,
R
), 
	gbv®1
 = 
bgridw
._linear_atXYZC(X,Y,Z,R);

39661 (*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
èğ(
T
)(
bv®0
/
bv®1
);

39665 
	gCImg
<
	gæßtT
> 
bgrid
(
bx
,
by
,
br
,2);

39666 
cimg_fÜC
(*
this
,
c
) {

39667 cÚ¡ 
	gCImg
<
	gt
> 
	g_guide
 = 
guide
.
g‘_sh¬ed_chªÃl
(
c
%guide.
_¥eùrum
);

39668 
	gbgrid
.
fl
(0);

39669 
cimg_fÜXY
(*
this
,
x
,
y
) {

39670 cÚ¡ 
T
 
	gv®
 = (*
this
)(
x
,
	gy
,
	gc
);

39671 cÚ¡ 
	gedge
 = ()
_guide
(
x
,
y
);

39673 
	gX
 = ()
cimg
::
round
(
x
/
_§m¶šg_x
è+ 
·ddšg_x
,

39674 
	gY
 = ()
cimg
::
round
(
y
/
_§m¶šg_y
è+ 
·ddšg_y
,

39675 
	gR
 = ()
cimg
::
round
((
edge
 - 
edge_mš
)/
_§m¶šg_r
è+ 
·ddšg_r
;

39676 
bgrid
(
X
,
Y
,
R
,0)+=()
v®
;

39677 
bgrid
(
X
,
Y
,
R
,1)+=1;

39679 
	gbgrid
.
blur
(
d”ived_sigma_x
,
d”ived_sigma_y
,0,
Œue
).blur(0,0,
d”ived_sigma_r
,
çl£
);

39681 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if_size
(
size
(),4096))

39682 
cimg_fÜXY
(*
this
,
x
,
y
) {

39683 cÚ¡ 
	gedge
 = ()
_guide
(
x
,
y
);

39685 
	gX
 = 
x
/
_§m¶šg_x
 + 
·ddšg_x
,

39686 
	gY
 = 
y
/
_§m¶šg_y
 + 
·ddšg_y
,

39687 
	gR
 = (
edge
 - 
edge_mš
)/
_§m¶šg_r
 + 
·ddšg_r
;

39688 cÚ¡ 
	gbv®0
 = 
bgrid
.
_lš—r_©XYZ
(
X
,
Y
,
R
,0), 
	gbv®1
 = bgrid._linear_atXYZ(X,Y,R,1);

39689 (*
	gthis
)(
	gx
,
	gy
,
	gc
èğ(
T
)(
bv®0
/
bv®1
);

39694  *
	gthis
;

39698 
	g‹m¶©e
<
ty³Çme
 
	gt
>

39699 
	gCImg
<
	gTæßt
> 
g‘_blur_b©”®
(cÚ¡ 
CImg
<
t
>& 
guide
,

39700 cÚ¡ 
sigma_x
, cÚ¡ 
sigma_y
,

39701 cÚ¡ 
sigma_z
, cÚ¡ 
sigma_r
,

39702 cÚ¡ 
§m¶šg_x
, cÚ¡ 
§m¶šg_y
,

39703 cÚ¡ 
§m¶šg_z
, cÚ¡ 
§m¶šg_r
) const {

39704  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
).
blur_b©”®
(
guide
,
sigma_x
,
sigma_y
,
sigma_z
,
sigma_r
,

39705 
§m¶šg_x
,
§m¶šg_y
,
§m¶šg_z
,
§m¶šg_r
);

39716 
	g‹m¶©e
<
ty³Çme
 
	gt
>

39717 
	gCImg
<
	gT
>& 
blur_b©”®
(cÚ¡ 
CImg
<
t
>& 
guide
,

39718 cÚ¡ 
sigma_s
, cÚ¡ 
sigma_r
,

39719 cÚ¡ 
§m¶šg_s
=0, cÚ¡ 
§m¶šg_r
=0) {

39720 cÚ¡ 
_sigma_s
 = 
sigma_s
>=0?sigma_s:-sigma_s*
cimg
::
max
(
_width
,
_height
,
_d•th
)/100;

39721  
blur_b©”®
(
guide
,
_sigma_s
,_sigma_s,_sigma_s,
sigma_r
,
§m¶šg_s
,§m¶šg_s,§m¶šg_s,
§m¶šg_r
);

39725 
	g‹m¶©e
<
ty³Çme
 
	gt
>

39726 
	gCImg
<
	gTæßt
> 
g‘_blur_b©”®
(cÚ¡ 
CImg
<
t
>& 
guide
,

39727 cÚ¡ 
sigma_s
, cÚ¡ 
sigma_r
,

39728 cÚ¡ 
§m¶šg_s
=0, cÚ¡ 
§m¶šg_r
=0) const {

39729  
CImg
<
Tæßt
>(*
this
,
çl£
).
blur_b©”®
(
guide
,
sigma_s
,
sigma_r
,
§m¶šg_s
,
§m¶šg_r
);

39741 
_cimg_blur_box_­¶y
(
T
 *
±r
, cÚ¡ 
boxsize
, cÚ¡ 
N
, cÚ¡ 
ulÚgT
 
off
,

39742 cÚ¡ 
Üd”
, cÚ¡ 
boŞ
 
bound¬y_cÚd™iÚs
,

39743 cÚ¡ 
nb_™”
) {

39745 ià(
	gboxsize
>1 && 
	gnb_™”
) {

39746 cÚ¡ 
	gw2
 = ()(
boxsize
 - 1)/2;

39747 cÚ¡ 
	gwšsize
 = 2*
w2
 + 1U;

39748 cÚ¡ 
	gäac
 = (
boxsize
 - 
wšsize
)/2.;

39749 
	gCImg
<
	gT
> 
wš
(
wšsize
);

39750 
	g™”
 = 0; i‹r<
	gnb_™”
; ++iter) {

39751 
TdoubË
 
	gsum
 = 0;

39752 
	gx
 = -
w2
; x<=w2; ++x) {

39753 
	gwš
[
x
 + 
w2
] = 
__cimg_blur_box_­¶y
(
±r
,
N
,
off
,
bound¬y_cÚd™iÚs
,x);

39754 
	gsum
+=
wš
[
x
 + 
w2
];

39756 
	gifœ¡
 = 0, 
	ga¡
 = 2*
w2
;

39757 
T


39758 
	g´ev
 = 
__cimg_blur_box_­¶y
(
±r
,
N
,
off
,
bound¬y_cÚd™iÚs
,-
w2
 - 1),

39759 
	gÃxt
 = 
__cimg_blur_box_­¶y
(
±r
,
N
,
off
,
bound¬y_cÚd™iÚs
,
w2
 + 1);

39760 
	gx
 = 0; x < 
	gN
 - 1; ++x) {

39761 cÚ¡ 
	gsum2
 = 
sum
 + 
äac
 * (
´ev
 + 
Ãxt
);

39762 
	g±r
[
x
*
off
] = (
T
)(
sum2
/
boxsize
);

39763 
	g´ev
 = 
wš
[
ifœ¡
];

39764 
	gsum
-=
´ev
;

39765 
	gifœ¡
 = ()((
ifœ¡
 + 1)%
wšsize
);

39766 
	ga¡
 = ()((
a¡
 + 1)%
wšsize
);

39767 
	gwš
[
a¡
] = 
Ãxt
;

39768 
	gsum
+=
Ãxt
;

39769 
	gÃxt
 = 
__cimg_blur_box_­¶y
(
±r
,
N
,
off
,
bound¬y_cÚd™iÚs
,
x
 + 
w2
 + 2);

39771 cÚ¡ 
	gsum2
 = 
sum
 + 
äac
 * (
´ev
 + 
Ãxt
);

39772 
	g±r
[(
N
 - 1)*
off
] = (
T
)(
sum2
/
boxsize
);

39777 
	gÜd”
) {

39781 
Tæßt


39782 
p
 = 
__cimg_blur_box_­¶y
(
±r
,
N
,
off
,
bound¬y_cÚd™iÚs
,-1),

39783 
	gc
 = 
__cimg_blur_box_­¶y
(
±r
,
N
,
off
,
bound¬y_cÚd™iÚs
,0),

39784 
	gn
 = 
__cimg_blur_box_­¶y
(
±r
,
N
,
off
,
bound¬y_cÚd™iÚs
,1);

39785 
	gx
 = 0; x<
	gN
 - 1; ++x) {

39786 
	g±r
[
x
*
off
] = (
T
)((
n
-
p
)/2.);

39787 
	gp
 = 
c
;

39788 
	gc
 = 
n
;

39789 
	gn
 = 
__cimg_blur_box_­¶y
(
±r
,
N
,
off
,
bound¬y_cÚd™iÚs
,
x
 + 2);

39791 
	g±r
[(
N
 - 1)*
off
] = (
T
)((
n
-
p
)/2.);

39794 
Tæßt


39795 
p
 = 
__cimg_blur_box_­¶y
(
±r
,
N
,
off
,
bound¬y_cÚd™iÚs
,-1),

39796 
	gc
 = 
__cimg_blur_box_­¶y
(
±r
,
N
,
off
,
bound¬y_cÚd™iÚs
,0),

39797 
	gn
 = 
__cimg_blur_box_­¶y
(
±r
,
N
,
off
,
bound¬y_cÚd™iÚs
,1);

39798 
	gx
 = 0; x<
	gN
 - 1; ++x) {

39799 
	g±r
[
x
*
off
] = (
T
)(
n
 - 2*
c
 + 
p
);

39800 
	gp
 = 
c
;

39801 
	gc
 = 
n
;

39802 
	gn
 = 
__cimg_blur_box_­¶y
(
±r
,
N
,
off
,
bound¬y_cÚd™iÚs
,
x
 + 2);

39804 
	g±r
[(
N
 - 1)*
off
] = (
T
)(
n
 - 2*
c
 + 
p
);

39809 
T
 
__cimg_blur_box_­¶y
(T *
±r
, cÚ¡ 
N
, cÚ¡ 
ulÚgT
 
off
,

39810 cÚ¡ 
boŞ
 
bound¬y_cÚd™iÚs
, cÚ¡ 
x
) {

39811 ià(
	gx
<0è 
	gbound¬y_cÚd™iÚs
?
	g±r
[0]:
T
();

39812 ià(
	gx
>=
N
è 
bound¬y_cÚd™iÚs
?
±r
[(N - 1)*
off
]:
T
();

39813  
	g±r
[
x
*
off
];

39824 
	gCImg
<
	gT
>& 
boxf‹r
(cÚ¡ 
boxsize
, cÚ¡ 
Üd”
, cÚ¡ 
axis
='x',

39825 cÚ¡ 
boŞ
 
bound¬y_cÚd™iÚs
=
Œue
,

39826 cÚ¡ 
nb_™”
=1) {

39827 ià(
is_em±y
(è|| !
boxsize
 || (boxsize<=1 && !
Üd”
)è *
this
;

39828 cÚ¡ 
	gÇxis
 = 
cimg
::
low”ÿ£
(
axis
);

39829 cÚ¡ 
	gnboxsize
 = 
boxsize
>=0?boxsize:-boxsize*

39830 (
Çxis
=='x'?
_width
:Çxis=='y'?
_height
:Çxis=='z'?
_d•th
:
_¥eùrum
)/100;

39831 
	gÇxis
) {

39833 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*256 &&

39834 
_height
*
_d•th
*
_¥eùrum
>=16))

39835 
cimg_fÜYZC
(*
this
,
y
,
z
,
c
)

39836 
_cimg_blur_box_­¶y
(
d©a
(0,
y
,
z
,
c
),
nboxsize
,
_width
,1U,
Üd”
,
bound¬y_cÚd™iÚs
,
nb_™”
);

39839 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*256 &&

39840 
_height
*
_d•th
*
_¥eùrum
>=16))

39841 
cimg_fÜXZC
(*
this
,
x
,
z
,
c
)

39842 
_cimg_blur_box_­¶y
(
d©a
(
x
,0,
z
,
c
),
nboxsize
,
_height
,(
ulÚgT
)
_width
,
Üd”
,
bound¬y_cÚd™iÚs
,
nb_™”
);

39845 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*256 &&

39846 
_height
*
_d•th
*
_¥eùrum
>=16))

39847 
cimg_fÜXYC
(*
this
,
x
,
y
,
c
)

39848 
_cimg_blur_box_­¶y
(
d©a
(
x
,
y
,0,
c
),
nboxsize
,
_d•th
,(
ulÚgT
)
_width
*
_height
,
Üd”
,
bound¬y_cÚd™iÚs
,
nb_™”
);

39851 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*256 &&

39852 
_height
*
_d•th
*
_¥eùrum
>=16))

39853 
cimg_fÜXYZ
(*
this
,
x
,
y
,
z
)

39854 
_cimg_blur_box_­¶y
(
d©a
(
x
,
y
,
z
,0),
nboxsize
,
_¥eùrum
,(
ulÚgT
)
_width
*
_height
*
_d•th
,

39855 
Üd”
,
bound¬y_cÚd™iÚs
,
nb_™”
);

39858  *
	gthis
;

39862 
	gCImg
<
	gTæßt
> 
g‘_boxf‹r
(cÚ¡ 
boxsize
, cÚ¡ 
Üd”
, cÚ¡ 
axis
='x',

39863 cÚ¡ 
boŞ
 
bound¬y_cÚd™iÚs
=
Œue
,

39864 cÚ¡ 
nb_™”
=1) const {

39865  
CImg
<
Tæßt
>(*
this
,
çl£
).
boxf‹r
(
boxsize
,
Üd”
,
axis
,
bound¬y_cÚd™iÚs
,
nb_™”
);

39879 
	gCImg
<
	gT
>& 
blur_box
(cÚ¡ 
boxsize_x
, cÚ¡ 
boxsize_y
, cÚ¡ 
boxsize_z
,

39880 cÚ¡ 
boŞ
 
bound¬y_cÚd™iÚs
=
Œue
,

39881 cÚ¡ 
nb_™”
=1) {

39882 ià(
is_em±y
()è *
this
;

39883 ià(
	g_width
>1è
boxf‹r
(
boxsize_x
,0,'x',
bound¬y_cÚd™iÚs
,
nb_™”
);

39884 ià(
	g_height
>1è
boxf‹r
(
boxsize_y
,0,'y',
bound¬y_cÚd™iÚs
,
nb_™”
);

39885 ià(
	g_d•th
>1è
boxf‹r
(
boxsize_z
,0,'z',
bound¬y_cÚd™iÚs
,
nb_™”
);

39886  *
	gthis
;

39890 
	gCImg
<
	gTæßt
> 
g‘_blur_box
(cÚ¡ 
boxsize_x
, cÚ¡ 
boxsize_y
, cÚ¡ 
boxsize_z
,

39891 cÚ¡ 
boŞ
 
bound¬y_cÚd™iÚs
=
Œue
) const {

39892  
CImg
<
Tæßt
>(*
this
,
çl£
).
blur_box
(
boxsize_x
,
boxsize_y
,
boxsize_z
,
bound¬y_cÚd™iÚs
);

39901 
	gCImg
<
	gT
>& 
blur_box
(cÚ¡ 
boxsize
, cÚ¡ 
boŞ
 
bound¬y_cÚd™iÚs
=
Œue
) {

39902 cÚ¡ 
nboxsize
 = 
boxsize
>=0?boxsize:-boxsize*
cimg
::
max
(
_width
,
_height
,
_d•th
)/100;

39903  
blur_box
(
nboxsize
,nboxsize,nboxsize,
bound¬y_cÚd™iÚs
);

39907 
	gCImg
<
	gTæßt
> 
g‘_blur_box
(cÚ¡ 
boxsize
, cÚ¡ 
boŞ
 
bound¬y_cÚd™iÚs
=
Œue
) const {

39908  
CImg
<
Tæßt
>(*
this
,
çl£
).
blur_box
(
boxsize
,
bound¬y_cÚd™iÚs
);

39921 
	g‹m¶©e
<
ty³Çme
 
	gt
>

39922 
	gCImg
<
	gT
>& 
blur_guided
(cÚ¡ 
CImg
<
t
>& 
guide
, cÚ¡ 
¿dius
, cÚ¡ 
»guÏriz©iÚ
) {

39923  
g‘_blur_guided
(
guide
,
¿dius
,
»guÏriz©iÚ
).
move_to
(*
this
);

39927 
	g‹m¶©e
<
ty³Çme
 
	gt
>

39928 
	gCImg
<
	gTæßt
> 
g‘_blur_guided
(cÚ¡ 
CImg
<
t
>& 
guide
, cÚ¡ 
¿dius
, cÚ¡ 
»guÏriz©iÚ
) const {

39929 ià(!
is_§meXYZ
(
guide
))

39930 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


39932 
cimg_š¡ªû
,

39933 
guide
.
_width
,guide.
_height
,guide.
_d•th
,guide.
_¥eùrum
,guide.
_d©a
);

39934 ià(
is_em±y
(è|| !
	g¿dius
è *
	gthis
;

39935 cÚ¡ 
	g_¿dius
 = 
¿dius
>=0?(ìadius:()(-¿dius*
cimg
::
max
(
_width
,
_height
,
_d•th
)/100);

39936 
	g_»guÏriz©iÚ
 = 
»guÏriz©iÚ
;

39937 ià(
	g»guÏriz©iÚ
<0) {

39938 
T
 
	gedge_mš
, 
	gedge_max
 = 
guide
.
max_mš
(
edge_mš
);

39939 ià(
	gedge_mš
==
edge_max
è *
this
;

39940 
	g_»guÏriz©iÚ
 = -
»guÏriz©iÚ
*(
edge_max
 - 
edge_mš
)/100;

39942 
	g_»guÏriz©iÚ
 = 
¡d
::
max
(
_»guÏriz©iÚ
,0.01f);

39943 cÚ¡ 
	gpsize
 = ()(1 + 2*
_¿dius
);

39944 
	gCImg
<
	gTæßt
>

39945 
	gm—n_p
 = 
g‘_blur_box
(
psize
,
Œue
),

39946 
	gm—n_I
 = 
guide
.
g‘_blur_box
(
psize
,
Œue
).
»size
(
m—n_p
),

39947 
	gcov_Ip
 = 
g‘_mul
(
guide
).
blur_box
(
psize
,
Œue
)-=
m—n_p
.g‘_mul(
m—n_I
),

39948 
	gv¬_I
 = 
guide
.
g‘_sqr
().
blur_box
(
psize
,
Œue
)-=
m—n_I
.get_sqr(),

39949 &
	ga
 = 
cov_Ip
.
div
(
v¬_I
+=
_»guÏriz©iÚ
),

39950 &
	gb
 = 
m—n_p
-=
a
.
g‘_mul
(
m—n_I
);

39951 
	ga
.
blur_box
(
psize
,
Œue
);

39952 
	gb
.
blur_box
(
psize
,
Œue
);

39953  
	ga
.
mul
(
guide
)+=
b
;

39966 
	g‹m¶©e
<
ty³Çme
 
	gt
>

39967 
	gCImg
<
	gT
>& 
blur_·tch
(cÚ¡ 
CImg
<
t
>& 
guide
,

39968 cÚ¡ 
sigma_s
, cÚ¡ 
sigma_r
, cÚ¡ 
·tch_size
=3,

39969 cÚ¡ 
lookup_size
=4, cÚ¡ 
smoÙhÃss
=0, cÚ¡ 
boŞ
 
is_ç¡_­´ox
=
Œue
) {

39970 ià(
is_em±y
(è|| !
·tch_size
 || !
lookup_size
è *
this
;

39971  
g‘_blur_·tch
(
guide
,
sigma_s
,
sigma_r
,
·tch_size
,
lookup_size
,
smoÙhÃss
,
is_ç¡_­´ox
).
move_to
(*
this
);

39975 
	g‹m¶©e
<
ty³Çme
 
	gt
>

39976 
	gCImg
<
	gTæßt
> 
g‘_blur_·tch
(cÚ¡ 
CImg
<
t
>& 
guide
,

39977 cÚ¡ 
sigma_s
, cÚ¡ 
sigma_r
, cÚ¡ 
·tch_size
=3,

39978 cÚ¡ 
lookup_size
=4, cÚ¡ 
smoÙhÃss
=0,

39979 cÚ¡ 
boŞ
 
is_ç¡_­´ox
=
Œue
) const {

39981 
	#_cimg_blur_·tch3d_ç¡
(
N
) { \

39982 
	`cimg_´agma_İ’mp
(
·¿Î–
 
	`cimg_İ’mp_cŞÏp£
(2) \

39983 
	`cimg_İ’mp_if
(
»s
.
_width
>=(
cimg_İ’mp_sizeçùÜ
)*32 &&„es.
_height
*»s.
_d•th
>=4) \

39984 
	`fœ¡´iv©e
(
P
,
Q
)) \

39985 
	`cimg_fÜXYZ
(
»s
,
x
,
y
,
z
è
_cimg_abÜt_Œy_İ’mp
 { \

39986 
cimg_abÜt_‹¡
; \

39987 
cimg_def
##
N
##
x
##N##x##
	`N
(
»s
,x,
y
,
z
); \

39988 
tæßt
 *
pP
 = 
P
.
_d©a
; 
	`cimg_fÜC
(
_guide
,
c
è{ 
cimg_g‘
##
N
##
x
##N##x##
	`N
(_guide,x,
y
,
z
,c,pP,tæßt);…P+=
N3
; } \

39989 cÚ¡ 
x0
 = 
x
 - 
rsize1
, 
y0
 = 
y
 -„size1, 
z0
 = 
z
 -„size1, \

39990 
x1
 = 
x
 + 
rsize2
, 
y1
 = 
y
 +„size2, 
z1
 = 
z
 +„size2; \

39991 
tæßt
 
sum_weights
 = 0; \

39992 
cimg_fÜ_š
##
N
##
	`XYZ
(
»s
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
p
,
q
,
r
) \

39993 ià(
cimg
::
	`abs
(
	`_guide
(
x
,
y
,
z
,0è- _guide(
p
,
q
,
r
,0))<
sigma_r3
) { \

39994 
tæßt
 *
pQ
 = 
Q
.
_d©a
; 
	`cimg_fÜC
(
_guide
,
c
è{ 
cimg_g‘
##
N
##
x
##N##x##
	`N
(_guide,
p
,
q
,
r
,c,pQ,tæßt);…Q+=
N3
; } \

39995 
tæßt
 
di¡ªû2
 = 0; \

39996 
pQ
 = 
Q
.
_d©a
; 
	`cimg_fÜ
(
P
,
_pP
,
tæßt
è{ cÚ¡æßˆ
dI
 = *_pP - *ÕQ++); 
di¡ªû2
+=dI*dI; } \

39997 
di¡ªû2
/=
PnÜm
; \

39998 cÚ¡ 
tæßt
 
dx
 = (tæßt)
p
 - 
x
, 
dy
 = (tæßt)
q
 - 
y
, 
dz
 = (tæßt)
r
 - 
z
, \

39999 
®ldi¡
 = 
di¡ªû2
 + (
dx
*dx + 
dy
*dy + 
dz
*dz)/
sigma_s2
, 
weight
 =‡lldist>3?0:1; \

40000 
sum_weights
+=
weight
; \

40001 
	`cimg_fÜC
(
»s
,
c
è
	`»s
(
x
,
y
,
z
,c)+=(
Tæßt
)
weight
*(*
this
)(
p
,
q
,
r
,c); \

40003 ià(
sum_weights
>1e-10è
	`cimg_fÜC
(
»s
,
c
è
	`»s
(
x
,
y
,
z
,c)/=(
Tæßt
)sum_weights; \

40004 
	`cimg_fÜC
(
»s
,
c
è
	`»s
(
x
,
y
,
z
,cèğ(
Tæßt
)((*
this
)(x,y,z,c)); \

40005 } 
_cimg_abÜt_ÿtch_İ’mp
 }

	)

40007 
	#_cimg_blur_·tch3d
(
N
) { \

40008 
	`cimg_´agma_İ’mp
(
·¿Î–
 
	`cimg_İ’mp_cŞÏp£
(2) \

40009 
	`cimg_İ’mp_if
(
»s
.
_width
>=(
cimg_İ’mp_sizeçùÜ
)*32 &&„es.
_height
*»s.
_d•th
>=4) \

40010 
	`fœ¡´iv©e
(
P
,
Q
)) \

40011 
	`cimg_fÜXYZ
(
»s
,
x
,
y
,
z
è
_cimg_abÜt_Œy_İ’mp
 { \

40012 
cimg_abÜt_‹¡
; \

40013 
cimg_def
##
N
##
x
##N##x##
	`N
(
»s
,x,
y
,
z
); \

40014 
tæßt
 *
pP
 = 
P
.
_d©a
; 
	`cimg_fÜC
(
_guide
,
c
è{ 
cimg_g‘
##
N
##
x
##N##x##
	`N
(_guide,x,
y
,
z
,c,pP,tæßt);…P+=
N3
; } \

40015 cÚ¡ 
x0
 = 
x
 - 
rsize1
, 
y0
 = 
y
 -„size1, 
z0
 = 
z
 -„size1, \

40016 
x1
 = 
x
 + 
rsize2
, 
y1
 = 
y
 +„size2, 
z1
 = 
z
 +„size2; \

40017 
tæßt
 
sum_weights
 = 0, 
weight_max
 = 0; \

40018 
cimg_fÜ_š
##
N
##
	`XYZ
(
»s
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
p
,
q
,
r
èiàÕ!=
x
 || q!=
y
 ||„!=
z
) { \

40019 
tæßt
 *
pQ
 = 
Q
.
_d©a
; 
	`cimg_fÜC
(
_guide
,
c
è{ 
cimg_g‘
##
N
##
x
##N##x##
	`N
(_guide,
p
,
q
,
r
,c,pQ,tæßt);…Q+=
N3
; } \

40020 
tæßt
 
di¡ªû2
 = 0; \

40021 
pQ
 = 
Q
.
_d©a
; 
	`cimg_fÜ
(
P
,
_pP
,
tæßt
è{ cÚ¡æßˆ
dI
 = *_pP - *ÕQ++); 
di¡ªû2
+=dI*dI; } \

40022 
di¡ªû2
/=
PnÜm
; \

40023 cÚ¡ 
tæßt
 
dx
 = (tæßt)
p
 - 
x
, 
dy
 = (tæßt)
q
 - 
y
, 
dz
 = (tæßt)
r
 - 
z
, \

40024 
®ldi¡
 = 
di¡ªû2
 + (
dx
*dx + 
dy
*dy + 
dz
*dz)/
sigma_s2
, 
weight
 = 
¡d
::
	`exp
(-alldist); \

40025 ià(
weight
>
weight_max
) weight_max = weight; \

40026 
sum_weights
+=
weight
; \

40027 
	`cimg_fÜC
(
»s
,
c
è
	`»s
(
x
,
y
,
z
,c)+=(
Tæßt
)
weight
*(*
this
)(
p
,
q
,
r
,c); \

40029 
sum_weights
+=
weight_max
; 
	`cimg_fÜC
(
»s
,
c
è
	`»s
(
x
,
y
,
z
,c)+=(
Tæßt
)weight_max*(*
this
)(x,y,z,c); \

40030 ià(
sum_weights
>1e-10è
	`cimg_fÜC
(
»s
,
c
è
	`»s
(
x
,
y
,
z
,c)/=(
Tæßt
)sum_weights; \

40031 
	`cimg_fÜC
(
»s
,
c
è
	`»s
(
x
,
y
,
z
,cèğ(
Tæßt
)((*
this
)(x,y,z,c)); \

40032 } 
_cimg_abÜt_ÿtch_İ’mp
 }

	)

40034 
	#_cimg_blur_·tch2d_ç¡
(
N
) { \

40035 
	`cimg_´agma_İ’mp
(
·¿Î–
 
	`cimg_İ’mp_if
(
»s
.
_width
>=(
cimg_İ’mp_sizeçùÜ
)*32 &&„es.
_height
>=4) \

40036 
	`fœ¡´iv©e
(
P
,
Q
)) \

40037 
	`cimg_fÜXY
(
»s
,
x
,
y
è
_cimg_abÜt_Œy_İ’mp
 { \

40038 
cimg_abÜt_‹¡
; \

40039 
cimg_def
##
N
##
x
##
	`N
(
»s
,x,
y
); \

40040 
tæßt
 *
pP
 = 
P
.
_d©a
; 
	`cimg_fÜC
(
_guide
,
c
è{ 
cimg_g‘
##
N
##
x
##
	`N
(_guide,x,
y
,0,c,pP,tæßt);…P+=
N2
; } \

40041 cÚ¡ 
x0
 = 
x
 - 
rsize1
, 
y0
 = 
y
 -„size1, 
x1
 = x + 
rsize2
, 
y1
 = y +„size2; \

40042 
tæßt
 
sum_weights
 = 0; \

40043 
cimg_fÜ_š
##
N
##
	`XY
(
»s
,
x0
,
y0
,
x1
,
y1
,
p
,
q
) \

40044 ià(
cimg
::
	`abs
(
	`_guide
(
x
,
y
,0,0è- _guide(
p
,
q
,0,0))<
sigma_r3
) { \

40045 
tæßt
 *
pQ
 = 
Q
.
_d©a
; 
	`cimg_fÜC
(
_guide
,
c
è{ 
cimg_g‘
##
N
##
x
##
	`N
(_guide,
p
,
q
,0,c,pQ,tæßt);…Q+=
N2
; } \

40046 
tæßt
 
di¡ªû2
 = 0; \

40047 
pQ
 = 
Q
.
_d©a
; 
	`cimg_fÜ
(
P
,
_pP
,
tæßt
è{ cÚ¡æßˆ
dI
 = *_pP - *ÕQ++); 
di¡ªû2
+=dI*dI; } \

40048 
di¡ªû2
/=
PnÜm
; \

40049 cÚ¡ 
tæßt
 
dx
 = (tæßt)
p
 - 
x
, 
dy
 = (tæßt)
q
 - 
y
, \

40050 
®ldi¡
 = 
di¡ªû2
 + (
dx
*dx+
dy
*dy)/
sigma_s2
, 
weight
 =‡lldist>3?0:1; \

40051 
sum_weights
+=
weight
; \

40052 
	`cimg_fÜC
(
»s
,
c
è
	`»s
(
x
,
y
,c)+=(
Tæßt
)
weight
*(*
this
)(
p
,
q
,c); \

40054 ià(
sum_weights
>1e-10è
	`cimg_fÜC
(
»s
,
c
è
	`»s
(
x
,
y
,c)/=(
Tæßt
)sum_weights; \

40055 
	`cimg_fÜC
(
»s
,
c
è
	`»s
(
x
,
y
,cèğ(
Tæßt
)((*
this
)(x,y,c)); \

40056 } 
_cimg_abÜt_ÿtch_İ’mp
 }

	)

40058 
	#_cimg_blur_·tch2d
(
N
) { \

40059 
	`cimg_´agma_İ’mp
(
·¿Î–
 
	`cimg_İ’mp_if
(
»s
.
_width
>=(
cimg_İ’mp_sizeçùÜ
)*32 &&„es.
_height
>=4) \

40060 
	`fœ¡´iv©e
(
P
,
Q
)) \

40061 
	`cimg_fÜXY
(
»s
,
x
,
y
è
_cimg_abÜt_Œy_İ’mp
 { \

40062 
cimg_abÜt_‹¡
; \

40063 
cimg_def
##
N
##
x
##
	`N
(
»s
,x,
y
); \

40064 
tæßt
 *
pP
 = 
P
.
_d©a
; 
	`cimg_fÜC
(
_guide
,
c
è{ 
cimg_g‘
##
N
##
x
##
	`N
(_guide,x,
y
,0,c,pP,tæßt);…P+=
N2
; } \

40065 cÚ¡ 
x0
 = 
x
 - 
rsize1
, 
y0
 = 
y
 -„size1, 
x1
 = x + 
rsize2
, 
y1
 = y +„size2; \

40066 
tæßt
 
sum_weights
 = 0, 
weight_max
 = 0; \

40067 
cimg_fÜ_š
##
N
##
	`XY
(
»s
,
x0
,
y0
,
x1
,
y1
,
p
,
q
èiàÕ!=
x
 || q!=
y
) { \

40068 
tæßt
 *
pQ
 = 
Q
.
_d©a
; 
	`cimg_fÜC
(
_guide
,
c
è{ 
cimg_g‘
##
N
##
x
##
	`N
(_guide,
p
,
q
,0,c,pQ,tæßt);…Q+=
N2
; } \

40069 
tæßt
 
di¡ªû2
 = 0; \

40070 
pQ
 = 
Q
.
_d©a
; 
	`cimg_fÜ
(
P
,
_pP
,
tæßt
è{ cÚ¡æßˆ
dI
 = *_pP - *ÕQ++); 
di¡ªû2
+=dI*dI; } \

40071 
di¡ªû2
/=
PnÜm
; \

40072 cÚ¡ 
tæßt
 
dx
 = (tæßt)
p
 - 
x
, 
dy
 = (tæßt)
q
 - 
y
, \

40073 
®ldi¡
 = 
di¡ªû2
 + (
dx
*dx+
dy
*dy)/
sigma_s2
, 
weight
 = 
¡d
::
	`exp
(-alldist); \

40074 ià(
weight
>
weight_max
) weight_max = weight; \

40075 
sum_weights
+=
weight
; \

40076 
	`cimg_fÜC
(
»s
,
c
è
	`»s
(
x
,
y
,c)+=(
Tæßt
)
weight
*(*
this
)(
p
,
q
,c); \

40078 
sum_weights
+=
weight_max
; 
	`cimg_fÜC
(
»s
,
c
è
	`»s
(
x
,
y
,c)+=(
Tæßt
)weight_max*(*
this
)(x,y,c); \

40079 ià(
sum_weights
>1e-10è
	`cimg_fÜC
(
»s
,
c
è
	`»s
(
x
,
y
,c)/=(
Tæßt
)sum_weights; \

40080 
	`cimg_fÜC
(
»s
,
c
è
	`»s
(
x
,
y
,cèğ(
Tæßt
)((*
this
)(x,y,c)); \

40081 } 
_cimg_abÜt_ÿtch_İ’mp
 }

	)

40083 
_cimg_tæßt
 
	ttæßt
;

40084 ià(!
is_§meXYZ
(
guide
))

40085 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


40087 
cimg_š¡ªû
,

40088 
guide
.
_width
,guide.
_height
,guide.
_d•th
,guide.
_¥eùrum
,guide.
_d©a
);

40089 ià(
is_em±y
(è|| !
	g·tch_size
 || !
	glookup_size
è +*
	gthis
;

40090 
Tæßt
 
	gv®_mš
, 
	gv®_max
 = (Tæßt)
max_mš
(
v®_mš
);

40091 
	g_cimg_abÜt_š™_İ’mp
;

40092 
	gcimg_abÜt_š™
;

40094 
	gCImg
<
	gTæßt
> 
»s
(
_width
,
_height
,
_d•th
,
_¥eùrum
,0);

40095 cÚ¡ 
	gCImg
<
	gtæßt
>

40096 
	g__guide
 = 
guide
?
CImg
<
tæßt
>(guide,
	gcimg
::
ty³
<
t
>::
¡ršg
()==
cimg
::type<tfloat>::string()):

40097 
CImg
<
tæßt
>(*
this
,
	gcimg
::
ty³
<
T
>::
¡ršg
()==
cimg
::type<tfloat>::string()),

40098 
	g_guide
 = 
smoÙhÃss
>0?
__guide
.
g‘_blur
(smoÙhÃss):__guide.
g‘_sh¬ed
();

40099 
	gCImg
<
	gtæßt
> 
P
(
_guide
.
_¥eùrum
*
·tch_size
*·tch_size*(
_d•th
>1?·tch_size:1)), 
Q
(P);

40101 
t
 
	gguide_mš
 = (t)0, 
	gguide_max
 = (t)0;

40102 ià(
	gsigma_r
<0è
	gguide_max
 = 
guide
.
max_mš
(
guide_mš
);

40104 
	gguide_d–
 = ()(
guide_max
 - 
guide_mš
),

40105 
	g_sigma_s
 = 
sigma_s
>=0?sigma_s:-sigma_s*
cimg
::
max
(
_width
,
_height
,
_d•th
)/100,

40106 
	g_sigma_r
 = 
sigma_r
>=0?sigma_r:-sigma_r*
guide_d–
/100,

40107 
	gsigma_s2
 = 
_sigma_s
*_sigma_s,

40108 
	gsigma_r2
 = 
_sigma_r
*_sigma_r,

40109 
	gsigma_r3
 = 3*
_sigma_r
,

40110 
	gPnÜm
 = 
P
.
size
()*
sigma_r2
;

40111 cÚ¡ 
	grsize2
 = ()
lookup_size
/2, 
	grsize1
 = (îookup_siz- 
rsize2
 - 1;

40112 cÚ¡ 
	gN2
 = 
·tch_size
*·tch_size, 
	gN3
 = 
N2
*patch_size;

40113 
	gcimg
::
unu£d
(
N2
,
N3
);

40114 ià(
	g_d•th
>1è
	g·tch_size
) {

40115 2 : ià(
is_ç¡_­´ox
è
_cimg_blur_·tch3d_ç¡
(2è
_cimg_blur_·tch3d
(2) ;

40116 3 : ià(
is_ç¡_­´ox
è
_cimg_blur_·tch3d_ç¡
(3è
_cimg_blur_·tch3d
(3) ;

40118 cÚ¡ 
psize2
 = ()
·tch_size
/2, 
	gpsize1
 = ()patch_size -…size2 - 1;

40119 ià(
	gis_ç¡_­´ox
) {

40120 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2)

40121 
cimg_İ’mp_if
(
»s
.
_width
>=(
cimg_İ’mp_sizeçùÜ
)*32 &&„es.
_height
*»s.
_d•th
>=4)

40122 
fœ¡´iv©e
(
P
,
Q
))

40123 
cimg_fÜXYZ
(
»s
,
x
,
y
,
z
è
	g_cimg_abÜt_Œy_İ’mp
 {

40124 
	gcimg_abÜt_‹¡
;

40125 
	gP
 = 
_guide
.
g‘_üİ
(
x
 - 
psize1
,
y
 -…size1,
z
 -…size1,x + 
psize2
,y +…size2,z +…size2,
Œue
);

40126 cÚ¡ 
	gx0
 = 
x
 - 
rsize1
, 
	gy0
 = 
y
 -„size1, 
	gz0
 = 
z
 -„size1,

40127 
	gx1
 = 
x
 + 
rsize2
, 
	gy1
 = 
y
 +„size2, 
	gz1
 = 
z
 +„size2;

40128 
tæßt
 
	gsum_weights
 = 0;

40129 
cimg_fÜ_šXYZ
(
»s
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
p
,
q
,
r
)

40130 ià(
	gcimg
::
abs
(
_guide
(
x
,
y
,
z
,0è- _guide(
p
,
q
,
r
,0))<
	gsigma_r3
) {

40131 (
	gQ
 = 
_guide
.
g‘_üİ
(
p
 - 
psize1
,
q
 -…size1,
r
 -…size1,°+ 
psize2
,q +…size2,¸+…size2,
Œue
))-=
P
;

40132 cÚ¡ 
tæßt


40133 
	gdx
 = (
tæßt
)
x
 - 
p
, 
	gdy
 = (tæßt)
y
 - 
q
, 
	gdz
 = (tæßt)
z
 - 
r
,

40134 
	gdi¡ªû2
 = (
tæßt
)(
Q
.
pow
(2).
sum
()/
PnÜm
 + (
dx
*dx + 
dy
*dy + 
dz
*dz)/
sigma_s2
),

40135 
	gweight
 = 
di¡ªû2
>3?0:1;

40136 
	gsum_weights
+=
weight
;

40137 
cimg_fÜC
(
»s
,
c
è»s(
x
,
y
,
z
,c)+=(
Tæßt
)
weight
*(*
this
)(
p
,
	gq
,
	gr
,
	gc
);

40139 ià(
	gsum_weights
>1e-10è
cimg_fÜC
(
»s
,
c
è»s(
x
,
y
,
z
,c)/=(
Tæßt
)
sum_weights
;

40140 
cimg_fÜC
(
»s
,
c
è»s(
x
,
y
,
z
,cèğ(
Tæßt
)((*
this
)(x,
	gy
,
	gz
,
	gc
));

40141 } 
	g_cimg_abÜt_ÿtch_İ’mp


40143 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2)

40144 
cimg_İ’mp_if
(
»s
.
_width
>=(
cimg_İ’mp_sizeçùÜ
)*32 &&„es.
_height
*»s.
_d•th
>=4)

40145 
fœ¡´iv©e
(
P
,
Q
))

40146 
cimg_fÜXYZ
(
»s
,
x
,
y
,
z
è
	g_cimg_abÜt_Œy_İ’mp
 {

40147 
	gcimg_abÜt_‹¡
;

40148 
	gP
 = 
_guide
.
g‘_üİ
(
x
 - 
psize1
,
y
 -…size1,
z
 -…size1,x + 
psize2
,y +…size2,z +…size2,
Œue
);

40149 cÚ¡ 
	gx0
 = 
x
 - 
rsize1
, 
	gy0
 = 
y
 -„size1, 
	gz0
 = 
z
 -„size1,

40150 
	gx1
 = 
x
 + 
rsize2
, 
	gy1
 = 
y
 +„size2, 
	gz1
 = 
z
 +„size2;

40151 
tæßt
 
	gsum_weights
 = 0, 
	gweight_max
 = 0;

40152 
cimg_fÜ_šXYZ
(
»s
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
p
,
q
,
r
èià(
	gp
!=
x
 || q!=
y
 ||„!=
z
) {

40153 (
Q
 = 
_guide
.
g‘_üİ
(
p
 - 
psize1
,
q
 -…size1,
r
 -…size1,°+ 
psize2
,q +…size2,¸+…size2,
Œue
))-=
P
;

40154 cÚ¡ 
tæßt


40155 
	gdx
 = (
tæßt
)
x
 - 
p
, 
	gdy
 = (tæßt)
y
 - 
q
, 
	gdz
 = (tæßt)
z
 - 
r
,

40156 
	gdi¡ªû2
 = (
tæßt
)(
Q
.
pow
(2).
sum
()/
PnÜm
 + (
dx
*dx + 
dy
*dy + 
dz
*dz)/
sigma_s2
),

40157 
	gweight
 = 
¡d
::
exp
(-
di¡ªû2
);

40158 ià(
	gweight
>
	gweight_max
èweight_max = 
weight
;

40159 
	gsum_weights
+=
weight
;

40160 
cimg_fÜC
(
»s
,
c
è»s(
x
,
y
,
z
,c)+=(
Tæßt
)
weight
*(*
this
)(
p
,
	gq
,
	gr
,
	gc
);

40162 
	gsum_weights
+=
weight_max
; 
cimg_fÜC
(
»s
,
c
è»s(
x
,
y
,
z
,c)+=(
Tæßt
)weight_max*(*
this
)(x,
	gy
,
	gz
,
	gc
);

40163 ià(
	gsum_weights
>1e-10è
cimg_fÜC
(
»s
,
c
è»s(
x
,
y
,
z
,c)/=(
Tæßt
)
sum_weights
;

40164 
cimg_fÜC
(
»s
,
c
è»s(
x
,
y
,
z
,cèğ(
Tæßt
)((*
this
)(x,
	gy
,
	gz
,
	gc
));

40165 } 
	g_cimg_abÜt_ÿtch_İ’mp


40168 } 
	g·tch_size
) {

40169 2 : ià(
is_ç¡_­´ox
è
_cimg_blur_·tch2d_ç¡
(2è
_cimg_blur_·tch2d
(2) ;

40170 3 : ià(
is_ç¡_­´ox
è
_cimg_blur_·tch2d_ç¡
(3è
_cimg_blur_·tch2d
(3) ;

40171 4 : ià(
is_ç¡_­´ox
è
_cimg_blur_·tch2d_ç¡
(4è
_cimg_blur_·tch2d
(4) ;

40172 5 : ià(
is_ç¡_­´ox
è
_cimg_blur_·tch2d_ç¡
(5è
_cimg_blur_·tch2d
(5) ;

40173 6 : ià(
is_ç¡_­´ox
è
_cimg_blur_·tch2d_ç¡
(6è
_cimg_blur_·tch2d
(6) ;

40174 7 : ià(
is_ç¡_­´ox
è
_cimg_blur_·tch2d_ç¡
(7è
_cimg_blur_·tch2d
(7) ;

40175 8 : ià(
is_ç¡_­´ox
è
_cimg_blur_·tch2d_ç¡
(8è
_cimg_blur_·tch2d
(8) ;

40176 9 : ià(
is_ç¡_­´ox
è
_cimg_blur_·tch2d_ç¡
(9è
_cimg_blur_·tch2d
(9) ;

40178 cÚ¡ 
psize2
 = ()
·tch_size
/2, 
	gpsize1
 = ()patch_size -…size2 - 1;

40179 ià(
	gis_ç¡_­´ox
) {

40180 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
»s
.
_width
>=(
cimg_İ’mp_sizeçùÜ
)*32 &&„es.
_height
>=4)

40181 
fœ¡´iv©e
(
P
,
Q
))

40182 
cimg_fÜXY
(
»s
,
x
,
y
è
	g_cimg_abÜt_Œy_İ’mp
 {

40183 
	gcimg_abÜt_‹¡
;

40184 
	gP
 = 
_guide
.
g‘_üİ
(
x
 - 
psize1
,
y
 -…size1,x + 
psize2
,y +…size2,
Œue
);

40185 cÚ¡ 
	gx0
 = 
x
 - 
rsize1
, 
	gy0
 = 
y
 -„size1, 
	gx1
 = x + 
rsize2
, 
	gy1
 = y +„size2;

40186 
tæßt
 
	gsum_weights
 = 0;

40187 
cimg_fÜ_šXY
(
»s
,
x0
,
y0
,
x1
,
y1
,
p
,
q
)

40188 ià(
	gcimg
::
abs
(
_guide
(
x
,
y
,0è- _guide(
p
,
q
,0))<
	gsigma_r3
) {

40189 (
	gQ
 = 
_guide
.
g‘_üİ
(
p
 - 
psize1
,
q
 -…size1,°+ 
psize2
,q +…size2,
Œue
))-=
P
;

40190 cÚ¡ 
tæßt


40191 
	gdx
 = (
tæßt
)
x
 - 
p
, 
	gdy
 = (tæßt)
y
 - 
q
,

40192 
	gdi¡ªû2
 = (
tæßt
)(
Q
.
pow
(2).
sum
()/
PnÜm
 + (
dx
*dx + 
dy
*dy)/
sigma_s2
),

40193 
	gweight
 = 
di¡ªû2
>3?0:1;

40194 
	gsum_weights
+=
weight
;

40195 
cimg_fÜC
(
»s
,
c
è»s(
x
,
y
,c)+=(
Tæßt
)
weight
*(*
this
)(
p
,
	gq
,
	gc
);

40197 ià(
	gsum_weights
>1e-10è
cimg_fÜC
(
»s
,
c
è»s(
x
,
y
,c)/=(
Tæßt
)
sum_weights
;

40198 
cimg_fÜC
(
»s
,
c
è»s(
x
,
y
,cèğ(
Tæßt
)((*
this
)(x,
	gy
,
	gc
));

40199 } 
	g_cimg_abÜt_ÿtch_İ’mp


40201 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
»s
.
_width
>=(
cimg_İ’mp_sizeçùÜ
)*32 &&„es.
_height
>=4)

40202 
fœ¡´iv©e
(
P
,
Q
))

40203 
cimg_fÜXY
(
»s
,
x
,
y
è
	g_cimg_abÜt_Œy_İ’mp
 {

40204 
	gcimg_abÜt_‹¡
;

40205 
	gP
 = 
_guide
.
g‘_üİ
(
x
 - 
psize1
,
y
 -…size1,x + 
psize2
,y +…size2,
Œue
);

40206 cÚ¡ 
	gx0
 = 
x
 - 
rsize1
, 
	gy0
 = 
y
 -„size1, 
	gx1
 = x + 
rsize2
, 
	gy1
 = y +„size2;

40207 
tæßt
 
	gsum_weights
 = 0, 
	gweight_max
 = 0;

40208 
cimg_fÜ_šXY
(
»s
,
x0
,
y0
,
x1
,
y1
,
p
,
q
èià(
	gp
!=
x
 || q!=
y
) {

40209 (
Q
 = 
_guide
.
g‘_üİ
(
p
 - 
psize1
,
q
 -…size1,°+ 
psize2
,q +…size2,
Œue
))-=
P
;

40210 cÚ¡ 
tæßt


40211 
	gdx
 = (
tæßt
)
x
 - 
p
, 
	gdy
 = (tæßt)
y
 - 
q
,

40212 
	gdi¡ªû2
 = (
tæßt
)(
Q
.
pow
(2).
sum
()/
PnÜm
 + (
dx
*dx + 
dy
*dy)/
sigma_s2
),

40213 
	gweight
 = 
¡d
::
exp
(-
di¡ªû2
);

40214 ià(
	gweight
>
	gweight_max
èweight_max = 
weight
;

40215 
	gsum_weights
+=
weight
;

40216 
cimg_fÜC
(
»s
,
c
è»s(
x
,
y
,c)+=(
Tæßt
)
weight
*(*
this
)(
p
,
	gq
,
	gc
);

40218 
	gsum_weights
+=
weight_max
; 
cimg_fÜC
(
»s
,
c
è»s(
x
,
y
,c)+=(
Tæßt
)weight_max*(*
this
)(x,
	gy
,
	gc
);

40219 ià(
	gsum_weights
>1e-10è
cimg_fÜC
(
»s
,
c
è»s(
x
,
y
,c)/=(
Tæßt
)
sum_weights
;

40220 
cimg_fÜC
(
»s
,
c
è»s(
x
,
y
,cèğ(
Tæßt
)((*
this
)(x,
	gy
,
	gc
));

40221 } 
	g_cimg_abÜt_ÿtch_İ’mp


40225  
	g»s
.
cut
(
v®_mš
,
v®_max
);

40229 
	gCImg
<
	gT
>& 
blur_·tch
(cÚ¡ 
sigma_s
, cÚ¡ 
sigma_r
, cÚ¡ 
·tch_size
=3,

40230 cÚ¡ 
lookup_size
=4, cÚ¡ 
smoÙhÃss
=0, cÚ¡ 
boŞ
 
is_ç¡_­´ox
=
Œue
) {

40231  
blur_·tch
(*
this
,
sigma_s
,
sigma_r
,
·tch_size
,
lookup_size
,
smoÙhÃss
,
is_ç¡_­´ox
);

40235 
	gCImg
<
	gTæßt
> 
g‘_blur_·tch
(cÚ¡ 
sigma_s
, cÚ¡ 
sigma_r
, cÚ¡ 
·tch_size
=3,

40236 cÚ¡ 
lookup_size
=4, cÚ¡ 
smoÙhÃss
=0,

40237 cÚ¡ 
boŞ
 
is_ç¡_­´ox
=
Œue
) const {

40238  
g‘_blur_·tch
(*
this
,
sigma_s
,
sigma_r
,
·tch_size
,
lookup_size
,
smoÙhÃss
,
is_ç¡_­´ox
);

40246 
	gCImg
<
	gT
>& 
blur_medŸn
(cÚ¡ 
n
, cÚ¡ 
th»shŞd
=0) {

40247 ià(!
n
è *
this
;

40248  
g‘_blur_medŸn
(
n
,
th»shŞd
).
move_to
(*
this
);

40252 
	gCImg
<
	gT
> 
g‘_blur_medŸn
(cÚ¡ 
n
, cÚ¡ 
th»shŞd
=0) const {

40253 ià(
is_em±y
(è|| 
n
<=1è +*
this
;

40254 
	gCImg
<
	gT
> 
»s
(
_width
,
_height
,
_d•th
,
_¥eùrum
);

40255 
T
 *
	g±rd
 = 
»s
.
_d©a
;

40256 
	gcimg
::
unu£d
(
±rd
);

40257 cÚ¡ 
	ghr
 = ()
n
/2, 
	ghl
 =‚ - 
hr
 - 1;

40258 ià(
	g»s
.
	g_d•th
!=1) {

40259 ià(
th»shŞd
>0)

40260 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*16 &&

40261 
_height
*
_d•th
*
_¥eùrum
>=4))

40262 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
) {

40264 
	gx0
 = 
x
 - 
hl
, 
	gy0
 = 
y
 - hl, 
	gz0
 = 
z
 - hl, 
	gx1
 = x + 
hr
, 
	gy1
 = y + hr, 
	gz1
 = z + hr,

40265 
	gnx0
 = 
x0
<0?0:x0, 
	gny0
 = 
y0
<0?0:y0, 
	gnz0
 = 
z0
<0?0:z0,

40266 
	gnx1
 = 
x1
>=
width
()?width(è- 1:x1, 
	gny1
 = 
y1
>=
height
()?height(è- 1:y1, 
	gnz1
 = 
z1
>=
d•th
()?depth() - 1:z1;

40267 cÚ¡ 
Tæßt
 
	gv®0
 = (Tæßt)(*
this
)(
x
,
	gy
,
	gz
,
	gc
);

40268 
	gCImg
<
	gT
> 
v®ues
(
n
*n*n);

40269 
	gnb_v®ues
 = 0;

40270 
T
 *
	g_±rd
 = 
v®ues
.
d©a
();

40271 
cimg_fÜ_šXYZ
(*
this
,
nx0
,
ny0
,
nz0
,
nx1
,
ny1
,
nz1
,
p
,
q
,
r
)

40272 ià(
	gcimg
::
abs
((*
this
)(
p
,
q
,
r
,
c
è- 
v®0
)<=
th»shŞd
è{ *(
_±rd
++èğ(*this)Õ,
	gq
,
	gr
,
	gc
); ++
	gnb_v®ues
; }

40273 
»s
(
x
,
y
,
z
,
c
èğ
nb_v®ues
?
v®ues
.
g‘_sh¬ed_pošts
(0,nb_v®ue - 1).
medŸn
():(*
this
)(x,
	gy
,
	gz
,
	gc
);

40276 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*16 &&

40277 
_height
*
_d•th
*
_¥eùrum
>=4))

40278 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
) {

40280 
	gx0
 = 
x
 - 
hl
, 
	gy0
 = 
y
 - hl, 
	gz0
 = 
z
 - hl, 
	gx1
 = x + 
hr
, 
	gy1
 = y + hr, 
	gz1
 = z + hr,

40281 
	gnx0
 = 
x0
<0?0:x0, 
	gny0
 = 
y0
<0?0:y0, 
	gnz0
 = 
z0
<0?0:z0,

40282 
	gnx1
 = 
x1
>=
width
()?width(è- 1:x1, 
	gny1
 = 
y1
>=
height
()?height(è- 1:y1, 
	gnz1
 = 
z1
>=
d•th
()?depth() - 1:z1;

40283 
»s
(
x
,
y
,
z
,
c
èğ
g‘_üİ
(
nx0
,
ny0
,
nz0
,c,
nx1
,
ny1
,
nz1
,c).
medŸn
();

40286 ià(
	gth»shŞd
>0)

40287 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*16 &&

40288 
_height
*
_¥eùrum
>=4))

40289 
cimg_fÜXYC
(*
this
,
x
,
y
,
c
) {

40291 
	gx0
 = 
x
 - 
hl
, 
	gy0
 = 
y
 - hl, 
	gx1
 = x + 
hr
, 
	gy1
 = y + hr,

40292 
	gnx0
 = 
x0
<0?0:x0, 
	gny0
 = 
y0
<0?0:y0,

40293 
	gnx1
 = 
x1
>=
width
()?width(è- 1:x1, 
	gny1
 = 
y1
>=
height
()?height() - 1:y1;

40294 cÚ¡ 
Tæßt
 
	gv®0
 = (Tæßt)(*
this
)(
x
,
	gy
,
	gc
);

40295 
	gCImg
<
	gT
> 
v®ues
(
n
*n);

40296 
	gnb_v®ues
 = 0;

40297 
T
 *
	g_±rd
 = 
v®ues
.
d©a
();

40298 
cimg_fÜ_šXY
(*
this
,
nx0
,
ny0
,
nx1
,
ny1
,
p
,
q
)

40299 ià(
	gcimg
::
abs
((*
this
)(
p
,
q
,
c
è- 
v®0
)<=
th»shŞd
è{ *(
_±rd
++èğ(*this)Õ,
	gq
,
	gc
); ++
	gnb_v®ues
; }

40300 
»s
(
x
,
y
,
c
èğ
nb_v®ues
?
v®ues
.
g‘_sh¬ed_pošts
(0,nb_v®ue - 1).
medŸn
():(*
this
)(x,
	gy
,
	gc
);

40304 
	gw1
 = 
width
(è- 1, 
	gh1
 = 
height
() - 1,

40305 
	gw2
 = 
width
(è- 2, 
	gh2
 = 
height
() - 2,

40306 
	gw3
 = 
width
(è- 3, 
	gh3
 = 
height
() - 3,

40307 
	gw4
 = 
width
(è- 4, 
	gh4
 = 
height
() - 4;

40308 
	gn
) {

40310 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_¥eùrum
>=2))

40311 
cimg_fÜC
(*
this
,
c
) {

40312 
	gCImg
<
	gT
> 
I
(9);

40313 
cimg_fÜ_š3x3
(*
this
,1,1,
w2
,
h2
,
x
,
y
,0,
c
,
I
,
T
)

40314 
»s
(
x
,
y
,
c
èğ
cimg
::
medŸn
(
I
[0],I[1],I[2],I[3],I[4],I[5],I[6],I[7],I[8]);

40315 
cimg_fÜ_bÜd”XY
(*
this
,
x
,
y
,1)

40316 
»s
(
x
,
y
,
c
èğ
g‘_üİ
(
¡d
::
max
(0,x - 1),std::max(0,y - 1),0,c,

40317 
¡d
::
mš
(
w1
,
x
 + 1),¡d::mš(
h1
,
y
 + 1),0,
c
).
medŸn
();

40321 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_¥eùrum
>=2))

40322 
cimg_fÜC
(*
this
,
c
) {

40323 
	gCImg
<
	gT
> 
I
(25);

40324 
cimg_fÜ_š5x5
(*
this
,2,2,
w3
,
h3
,
x
,
y
,0,
c
,
I
,
T
)

40325 
»s
(
x
,
y
,
c
èğ
cimg
::
medŸn
(
I
[0],I[1],I[2],I[3],I[4],

40326 
I
[5],I[6],I[7],I[8],I[9],

40327 
I
[10],I[11],I[12],I[13],I[14],

40328 
I
[15],I[16],I[17],I[18],I[19],

40329 
I
[20],I[21],I[22],I[23],I[24]);

40330 
cimg_fÜ_bÜd”XY
(*
this
,
x
,
y
,2)

40331 
»s
(
x
,
y
,
c
èğ
g‘_üİ
(
¡d
::
max
(0,x - 2),std::max(0,y - 2),0,c,

40332 
¡d
::
mš
(
w1
,
x
 + 2),¡d::mš(
h1
,
y
 + 2),0,
c
).
medŸn
();

40336 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_¥eùrum
>=2))

40337 
cimg_fÜC
(*
this
,
c
) {

40338 
	gCImg
<
	gT
> 
I
(49);

40339 
cimg_fÜ_š7x7
(*
this
,3,3,
w4
,
h4
,
x
,
y
,0,
c
,
I
,
T
)

40340 
»s
(
x
,
y
,
c
èğ
cimg
::
medŸn
(
I
[0],I[1],I[2],I[3],I[4],I[5],I[6],

40341 
I
[7],I[8],I[9],I[10],I[11],I[12],I[13],

40342 
I
[14],I[15],I[16],I[17],I[18],I[19],I[20],

40343 
I
[21],I[22],I[23],I[24],I[25],I[26],I[27],

40344 
I
[28],I[29],I[30],I[31],I[32],I[33],I[34],

40345 
I
[35],I[36],I[37],I[38],I[39],I[40],I[41],

40346 
I
[42],I[43],I[44],I[45],I[46],I[47],I[48]);

40347 
cimg_fÜ_bÜd”XY
(*
this
,
x
,
y
,3)

40348 
»s
(
x
,
y
,
c
èğ
g‘_üİ
(
¡d
::
max
(0,x - 3),std::max(0,y - 3),0,c,

40349 
¡d
::
mš
(
w1
,
x
 + 3),¡d::mš(
h1
,
y
 + 3),0,
c
).
medŸn
();

40353 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2)

40354 
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*16 && 
_height
*
_¥eùrum
>=4))

40355 
cimg_fÜXYC
(*
this
,
x
,
y
,
c
) {

40357 
	gx0
 = 
x
 - 
hl
, 
	gy0
 = 
y
 - hl, 
	gx1
 = x + 
hr
, 
	gy1
 = y + hr,

40358 
	gnx0
 = 
x0
<0?0:x0, 
	gny0
 = 
y0
<0?0:y0,

40359 
	gnx1
 = 
x1
>=
width
()?width(è- 1:x1, 
	gny1
 = 
y1
>=
height
()?height() - 1:y1;

40360 
»s
(
x
,
y
,
c
èğ
g‘_üİ
(
nx0
,
ny0
,0,c,
nx1
,
ny1
,0,c).
medŸn
();

40366  
	g»s
;

40377 
	gCImg
<
	gT
>& 
sh¬³n
(cÚ¡ 
am¶™ude
, cÚ¡ 
boŞ
 
sh¬³n_ty³
=
çl£
, cÚ¡ 
edge
=1,

40378 cÚ¡ 
®pha
=0, cÚ¡ 
sigma
=0) {

40379 ià(
is_em±y
()è *
this
;

40380 
T
 
	gv®_mš
, 
	gv®_max
 = 
max_mš
(
v®_mš
);

40381 cÚ¡ 
	gÃdge
 = 
edge
/2;

40382 
	gCImg
<
	gTæßt
> 
v–oc™y
(
_width
,
_height
,
_d•th
,
_¥eùrum
), 
_v–oc_max
(_spectrum);

40384 ià(
	g_d•th
>1) {

40385 ià(
	gsh¬³n_ty³
) {

40386 
	gCImg
<
	gTæßt
> 
	gG
 = (
®pha
>0?
g‘_blur
×Íha).
g‘_¡ruùu»_‹nsÜs
():get_structure_tensors());

40387 ià(
	gsigma
>0è
	gG
.
blur
(
sigma
);

40388 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*32 &&

40389 
_height
*
_d•th
>=16))

40390 
cimg_fÜYZ
(
G
,
y
,
z
) {

40391 
Tæßt
 *
	g±rG0
 = 
G
.
d©a
(0,
y
,
z
,0), *
	g±rG1
 = G.data(0,y,z,1),

40392 *
	g±rG2
 = 
G
.
d©a
(0,
y
,
z
,2), *
	g±rG3
 = G.data(0,y,z,3);

40393 
	gCImg
<
	gTæßt
> 
	gv®
, 
	gvec
;

40394 
cimg_fÜX
(
G
,
x
) {

40395 
	gG
.
g‘_‹nsÜ_©
(
x
,
y
,
z
).
symm‘ric_eig’
(
v®
,
vec
);

40396 ià(
	gv®
[0]<0) val[0] = 0;

40397 ià(
	gv®
[1]<0) val[1] = 0;

40398 ià(
	gv®
[2]<0) val[2] = 0;

40399 *(
	g±rG0
++èğ
vec
(0,0);

40400 *(
	g±rG1
++èğ
vec
(0,1);

40401 *(
	g±rG2
++èğ
vec
(0,2);

40402 *(
	g±rG3
++èğ1 - (
Tæßt
)
¡d
::
pow
(1 + 
v®
[0] + v®[1] + v®[2],-(Tæßt)
Ãdge
);

40405 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
*
_height
*
_d•th
>=(
cimg_İ’mp_sizeçùÜ
)*512 &&

40406 
_¥eùrum
>=2))

40407 
cimg_fÜC
(*
this
,
c
) {

40408 
Tæßt
 *
	g±rd
 = 
v–oc™y
.
d©a
(0,0,0,
c
), 
	gv–oc_max
 = 0;

40409 
CImg_3x3x3
(
I
,
Tæßt
);

40410 
cimg_fÜ3x3x3
(*
this
,
x
,
y
,
z
,
c
,
I
,
Tæßt
) {

40411 cÚ¡ 
Tæßt


40412 
	gu
 = 
G
(
x
,
y
,
z
,0),

40413 
	gv
 = 
G
(
x
,
y
,
z
,1),

40414 
	gw
 = 
G
(
x
,
y
,
z
,2),

40415 
	gamp
 = 
G
(
x
,
y
,
z
,3),

40416 
	gixx
 = 
Incc
 + 
Ipcc
 - 2*
Iccc
,

40417 
	gixy
 = (
IÂc
 + 
Iµc
 - 
IÅc
 - 
I²c
)/4,

40418 
	gixz
 = (
Inú
 + 
Ipı
 - 
Inı
 - 
Ipú
)/4,

40419 
	giyy
 = 
Iúc
 + 
Iıc
 - 2*
Iccc
,

40420 
	giyz
 = (
Iún
 + 
Iıp
 - 
Iúp
 - 
Iın
)/4,

40421 
	gizz
 = 
Icú
 + 
Icı
 - 2*
Iccc
,

40422 
	gixf
 = 
Incc
 - 
Iccc
,

40423 
	gixb
 = 
Iccc
 - 
Ipcc
,

40424 
	giyf
 = 
Iúc
 - 
Iccc
,

40425 
	giyb
 = 
Iccc
 - 
Iıc
,

40426 
	gizf
 = 
Icú
 - 
Iccc
,

40427 
	gizb
 = 
Iccc
 - 
Icı
,

40428 
	g™t
 = 
u
*u*
ixx
 + 
v
*v*
iyy
 + 
w
*w*
izz
 + 2*u*v*
ixy
 + 2*u*w*
ixz
 + 2*v*w*
iyz
,

40429 
	g™
 = 
u
*
cimg
::
mšmod
(
ixf
,
ixb
è+ 
v
*
	gcimg
::mšmod(
iyf
,
iyb
è+ 
w
*cimg::mšmod(
izf
,
izb
),

40430 
	gv–oc
 = -
amp
*
cimg
::
sign
(
™t
)*cimg::
abs
(
™
);

40431 *(
	g±rd
++èğ
v–oc
;

40432 ià(
	gv–oc
>
	gv–oc_max
èv–oc_max = 
v–oc
; if (-veloc>veloc_max) veloc_max = -veloc;

40434 
	g_v–oc_max
[
c
] = 
v–oc_max
;

40437 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
*
_height
*
_d•th
>=(
cimg_İ’mp_sizeçùÜ
)*512 &&

40438 
_¥eùrum
>=2))

40439 
cimg_fÜC
(*
this
,
c
) {

40440 
Tæßt
 *
	g±rd
 = 
v–oc™y
.
d©a
(0,0,0,
c
), 
	gv–oc_max
 = 0;

40441 
CImg_3x3x3
(
I
,
Tæßt
);

40442 
cimg_fÜ3x3x3
(*
this
,
x
,
y
,
z
,
c
,
I
,
Tæßt
) {

40443 cÚ¡ 
Tæßt
 
	gv–oc
 = -
Ipcc
 - 
Incc
 - 
Iıc
 - 
Iúc
 - 
Icı
 - 
Icú
 + 6*
Iccc
;

40444 *(
	g±rd
++èğ
v–oc
;

40445 ià(
	gv–oc
>
	gv–oc_max
èv–oc_max = 
v–oc
; if (-veloc>veloc_max) veloc_max = -veloc;

40447 
	g_v–oc_max
[
c
] = 
v–oc_max
;

40450 ià(
	gsh¬³n_ty³
) {

40451 
	gCImg
<
	gTæßt
> 
	gG
 = (
®pha
>0?
g‘_blur
×Íha).
g‘_¡ruùu»_‹nsÜs
():get_structure_tensors());

40452 ià(
	gsigma
>0è
	gG
.
blur
(
sigma
);

40453 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*32 &&

40454 
_height
>=(
cimg_İ’mp_sizeçùÜ
)*16))

40455 
cimg_fÜY
(
G
,
y
) {

40456 
	gCImg
<
	gTæßt
> 
	gv®
, 
	gvec
;

40457 
Tæßt
 *
	g±rG0
 = 
G
.
d©a
(0,
y
,0,0), *
	g±rG1
 = G.d©a(0,y,0,1), *
	g±rG2
 = G.data(0,y,0,2);

40458 
cimg_fÜX
(
G
,
x
) {

40459 
	gG
.
g‘_‹nsÜ_©
(
x
,
y
).
symm‘ric_eig’
(
v®
,
vec
);

40460 ià(
	gv®
[0]<0) val[0] = 0;

40461 ià(
	gv®
[1]<0) val[1] = 0;

40462 *(
	g±rG0
++èğ
vec
(0,0);

40463 *(
	g±rG1
++èğ
vec
(0,1);

40464 *(
	g±rG2
++èğ1 - (
Tæßt
)
¡d
::
pow
(1 + 
v®
[0] + v®[1],-(Tæßt)
Ãdge
);

40467 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
*
_height
>=(
cimg_İ’mp_sizeçùÜ
)*512 &&

40468 
_¥eùrum
>=2))

40469 
cimg_fÜC
(*
this
,
c
) {

40470 
Tæßt
 *
	g±rd
 = 
v–oc™y
.
d©a
(0,0,0,
c
), 
	gv–oc_max
 = 0;

40471 
CImg_3x3
(
I
,
Tæßt
);

40472 
cimg_fÜ3x3
(*
this
,
x
,
y
,0,
c
,
I
,
Tæßt
) {

40473 cÚ¡ 
Tæßt


40474 
	gu
 = 
G
(
x
,
y
,0),

40475 
	gv
 = 
G
(
x
,
y
,1),

40476 
	gamp
 = 
G
(
x
,
y
,2),

40477 
	gixx
 = 
Inc
 + 
Ipc
 - 2*
Icc
,

40478 
	gixy
 = (
IÂ
 + 
Iµ
 - 
IÅ
 - 
I²
)/4,

40479 
	giyy
 = 
Iú
 + 
Iı
 - 2*
Icc
,

40480 
	gixf
 = 
Inc
 - 
Icc
,

40481 
	gixb
 = 
Icc
 - 
Ipc
,

40482 
	giyf
 = 
Iú
 - 
Icc
,

40483 
	giyb
 = 
Icc
 - 
Iı
,

40484 
	g™t
 = 
u
*u*
ixx
 + 
v
*v*
iyy
 + 2*u*v*
ixy
,

40485 
	g™
 = 
u
*
cimg
::
mšmod
(
ixf
,
ixb
è+ 
v
*
	gcimg
::mšmod(
iyf
,
iyb
),

40486 
	gv–oc
 = -
amp
*
cimg
::
sign
(
™t
)*cimg::
abs
(
™
);

40487 *(
	g±rd
++èğ
v–oc
;

40488 ià(
	gv–oc
>
	gv–oc_max
èv–oc_max = 
v–oc
; if (-veloc>veloc_max) veloc_max = -veloc;

40490 
	g_v–oc_max
[
c
] = 
v–oc_max
;

40493 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
*
_height
>=(
cimg_İ’mp_sizeçùÜ
)*512 &&

40494 
_¥eùrum
>=2))

40495 
cimg_fÜC
(*
this
,
c
) {

40496 
Tæßt
 *
	g±rd
 = 
v–oc™y
.
d©a
(0,0,0,
c
), 
	gv–oc_max
 = 0;

40497 
CImg_3x3
(
I
,
Tæßt
);

40498 
cimg_fÜ3x3
(*
this
,
x
,
y
,0,
c
,
I
,
Tæßt
) {

40499 cÚ¡ 
Tæßt
 
	gv–oc
 = -
Ipc
 - 
Inc
 - 
Iı
 - 
Iú
 + 4*
Icc
;

40500 *(
	g±rd
++èğ
v–oc
;

40501 ià(
	gv–oc
>
	gv–oc_max
èv–oc_max = 
v–oc
; if (-veloc>veloc_max) veloc_max = -veloc;

40503 
	g_v–oc_max
[
c
] = 
v–oc_max
;

40506 cÚ¡ 
Tæßt
 
	gv–oc_max
 = 
_v–oc_max
.
max
();

40507 ià(
	gv–oc_max
<=0è *
this
;

40508  ((
	gv–oc™y
*=
am¶™ude
/
v–oc_max
)+=*
this
).
cut
(
v®_mš
,
v®_max
).
move_to
(*this);

40512 
	gCImg
<
	gT
> 
g‘_sh¬³n
(cÚ¡ 
am¶™ude
, cÚ¡ 
boŞ
 
sh¬³n_ty³
=
çl£
, cÚ¡ 
edge
=1,

40513 cÚ¡ 
®pha
=0, cÚ¡ 
sigma
=0) const {

40514  (+*
this
).
sh¬³n
(
am¶™ude
,
sh¬³n_ty³
,
edge
,
®pha
,
sigma
);

40529 
	gCImgLi¡
<
	gTæßt
> 
g‘_g¿d›Á
(cÚ¡ *cÚ¡ 
axes
=0, cÚ¡ 
scheme
=0) const {

40530 
CImgLi¡
<
Tæßt
> 
»s
;

40531 
	g__axes
[4] = { 0 };

40532 cÚ¡ *
	g_axes
 = 
axes
?axes:
__axes
;

40533 ià(!
	gaxes
) {

40534 
	gk
 = 0;

40535 ià(
	g_width
>1è
	g__axes
[
k
++] = 'x';

40536 ià(
	g_height
>1è
	g__axes
[
k
++] = 'y';

40537 ià(
	g_d•th
>1è
	g__axes
[
k
++] = 'z';

40540 
	gCImg
<
	gTæßt
> 
	gg¿d
;

40541 *
	g_axes
) {

40542 cÚ¡ 
	gaxis
 = 
cimg
::
low”ÿ£
(*(
_axes
++));

40543 ià(
	gaxis
!='x' && 
axis
!='y' &&‡xis!='z')

40544 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


40546 
cimg_š¡ªû
,

40547 
axes
);

40548 cÚ¡ 
lÚgT
 
	goff
 = 
axis
=='x'?1:axis=='y'?
_width
:_width*
_height
;

40549 ià((
	gaxis
=='x' && 
_width
==1è|| (
axis
=='y' && 
_height
==1è|| (axis=='z' && 
_d•th
==1)) {

40550 
g¿d
.
assign
(
_width
,
_height
,
_d•th
,
_¥eùrum
,0).
move_to
(
»s
);

40554 cÚ¡ 
	g_scheme
 = 
axis
=='z' && (
scheme
==2 || scheme==3)?0:scheme;

40555 
	g_scheme
) {

40557 
g¿d
.
assign
(
_width
,
_height
,
_d•th
,
_¥eùrum
);

40558 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
size
(),16384))

40559 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
) {

40560 cÚ¡ 
ulÚgT
 
	gpos
 = 
off£t
(
x
,
y
,
z
,
c
);

40561 ià((
	gaxis
=='x' && !
x
è|| (
axis
=='y' && !
y
è|| (axis=='z' && !
z
))

40562 
g¿d
[
pos
] = 0;

40564 
	gg¿d
[
pos
] = (
Tæßt
)
_d©a
[pos] - _d©a[po - 
off
];

40566 
	gg¿d
.
move_to
(
»s
);

40569 
g¿d
.
assign
(
_width
,
_height
,
_d•th
,
_¥eùrum
);

40570 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
size
(),16384))

40571 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
) {

40572 cÚ¡ 
ulÚgT
 
	gpos
 = 
off£t
(
x
,
y
,
z
,
c
);

40573 ià((
	gaxis
=='x' && 
x
==
width
(è- 1è|| (
axis
=='y' && 
y
==
height
(è- 1è|| (axis=='z' && 
z
==
d•th
() - 1))

40574 
g¿d
[
pos
] = 0;

40576 
	gg¿d
[
pos
] = (
Tæßt
)
_d©a
[po + 
off
] - _data[pos];

40578 
	gg¿d
.
move_to
(
»s
);

40581 
g¿d
.
assign
(
_width
,
_height
,
_d•th
,
_¥eùrum
);

40582 ià(
	gaxis
=='x')

40583 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2)

40584 
cimg_İ’mp_if
(
_width
*
_height
>=(
cimg_İ’mp_sizeçùÜ
)*16384 &&

40585 
_d•th
*
_¥eùrum
>=2))

40586 
cimg_fÜZC
(*
this
,
z
,
c
) {

40587 
CImg_3x3
(
I
,
Tæßt
);

40588 
cimg_fÜ3x3
(*
this
,
x
,
y
,
z
,
c
,
I
,
Tæßt
è
g¿d
(x,y,z,cèğ- 
Iµ
 + 
IÅ
 - 2*
Ipc
 + 2*
Inc
 - 
I²
 + 
IÂ
;

40591 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2)

40592 
cimg_İ’mp_if
(
_width
*
_height
>=(
cimg_İ’mp_sizeçùÜ
)*16384 &&

40593 
_d•th
*
_¥eùrum
>=2))

40594 
cimg_fÜZC
(*
this
,
z
,
c
) {

40595 
CImg_3x3
(
I
,
Tæßt
);

40596 
cimg_fÜ3x3
(*
this
,
x
,
y
,
z
,
c
,
I
,
Tæßt
è
g¿d
(x,y,z,cèğ- 
Iµ
 - 2*
Iı
 - 
IÅ
 + 
I²
 + 2*
Iú
 + 
IÂ
;

40598 
	gg¿d
.
move_to
(
»s
);

40601 cÚ¡ 
Tæßt
 
a
 = (Tæßt)(0.25f*(2 - 
¡d
::
sq¹
(2.f))), 
	gb
 = (Tfloat)(0.5f*(std::sqrt(2.f) - 1));

40602 
	gg¿d
.
assign
(
_width
,
_height
,
_d•th
,
_¥eùrum
);

40603 ià(
	gaxis
=='x')

40604 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2)

40605 
cimg_İ’mp_if
(
_width
*
_height
>=(
cimg_İ’mp_sizeçùÜ
)*16384 &&

40606 
_d•th
*
_¥eùrum
>=2))

40607 
cimg_fÜZC
(*
this
,
z
,
c
) {

40608 
CImg_3x3
(
I
,
Tæßt
);

40609 
cimg_fÜ3x3
(*
this
,
x
,
y
,
z
,
c
,
I
,
Tæßt
è
g¿d
(x,y,z,cèğ-
a
*
Iµ
 - 
b
*
Ipc
 -‡*
I²
 +‡*
IÅ
 + b*
Inc
 +‡*
IÂ
;

40612 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2)

40613 
cimg_İ’mp_if
(
_width
*
_height
>=(
cimg_İ’mp_sizeçùÜ
)*16384 &&

40614 
_d•th
*
_¥eùrum
>=2))

40615 
cimg_fÜZC
(*
this
,
z
,
c
) {

40616 
CImg_3x3
(
I
,
Tæßt
);

40617 
cimg_fÜ3x3
(*
this
,
x
,
y
,
z
,
c
,
I
,
Tæßt
è
g¿d
(x,y,z,cèğ-
a
*
Iµ
 - 
b
*
Iı
 -‡*
IÅ
 +‡*
I²
 + b*
Iú
 +‡*
IÂ
;

40619 
	gg¿d
.
move_to
(
»s
);

40622 
g‘_d”iche
(0,1,
axis
).
move_to
(
»s
);

40625 
g‘_vªvl›t
(0,1,
axis
).
move_to
(
»s
);

40628 
g¿d
.
assign
(
_width
,
_height
,
_d•th
,
_¥eùrum
);

40629 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
size
(),16384))

40630 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
) {

40631 cÚ¡ 
ulÚgT
 
	gpos
 = 
off£t
(
x
,
y
,
z
,
c
);

40632 ià((
	gaxis
=='x' && !
x
è|| (
axis
=='y' && !
y
è|| (axis=='z' && !
z
))

40633 
g¿d
[
pos
] = ((
Tæßt
)
_d©a
[po + 
off
] - _data[pos])/2;

40634 ià((
	gaxis
=='x' && 
x
==
width
(è- 1è|| (
axis
=='y' && 
y
==
height
(è- 1è|| (axis=='z' && 
z
==
d•th
() - 1))

40635 
g¿d
[
pos
] = ((
Tæßt
)
_d©a
[pos] - _d©a[po - 
off
])/2;

40637 
	gg¿d
[
pos
] = ((
Tæßt
)
_d©a
[po + 
off
] - _data[pos - off])/2;

40639 
	gg¿d
.
move_to
(
»s
);

40643  
	g»s
;

40650 
	gCImgLi¡
<
	gTæßt
> 
g‘_hessŸn
(cÚ¡ *cÚ¡ 
axes
=0) const {

40651 
CImgLi¡
<
Tæßt
> 
»s
;

40652 
	g__axes
[12] = { 0 };

40653 cÚ¡ *
	g_axes
 = 
axes
?axes:
__axes
;

40654 ià(!
	gaxes
) {

40655 
	gk
 = 0;

40656 ià(
	g_width
>1è{ 
	g__axes
[
k
++] = 'x'; __axes[k++] = 'x'; }

40657 ià(
	g_width
>1 && 
	g_height
>1è{ 
	g__axes
[
k
++] = 'x'; __axes[k++] = 'y'; }

40658 ià(
	g_width
>1 && 
	g_d•th
>1è{ 
	g__axes
[
k
++] = 'x'; __axes[k++] = 'z'; }

40659 ià(
	g_height
>1è{ 
	g__axes
[
k
++] = 'y'; __axes[k++] = 'y'; }

40660 ià(
	g_height
>1 && 
	g_d•th
>1è{ 
	g__axes
[
k
++] = 'y'; __axes[k++] = 'z'; }

40661 ià(
	g_d•th
>1è{ 
	g__axes
[
k
++] = 'z'; __axes[k++] = 'z'; }

40663 cÚ¡ 
	gËn
 = ()
¡d
::
¡¾’
(
_axes
);

40664 ià(
	gËn
%2)

40665 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


40667 
cimg_š¡ªû
,

40668 
axes
);

40669 
	gCImg
<
	gTæßt
> 
	ghess
;

40670 
	gk
 = 0; k<
	gËn
; k+=2) {

40672 
_axis1
 = 
cimg
::
low”ÿ£
(
_axes
[
k
]),

40673 
	g_axis2
 = 
cimg
::
low”ÿ£
(
_axes
[
k
 + 1]),

40674 
	gaxis1
 = 
¡d
::
mš
(
_axis1
,
_axis2
),

40675 
	gaxis2
 = 
¡d
::
max
(
_axis2
,_axis2);

40676 ià(
	gaxis1
!='x' && 
axis1
!='y' &&‡xis1!='z' &&

40677 
axis2
!='x' &&‡xis2!='y' &&‡xis2!='z')

40678 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


40680 
cimg_š¡ªû
,

40681 
axes
);

40682 cÚ¡ 
lÚgT
 
	goff
 = 
axis1
=='x'?1:axis1=='y'?
_width
:_width*
_height
;

40684 
	ghess
.
assign
(
_width
,
_height
,
_d•th
,
_¥eùrum
);

40686 ià(((
	gaxis1
=='x' || 
axis2
=='x'è&& 
_width
==1) ||

40687 ((
axis1
=='y' || 
axis2
=='y'è&& 
_height
==1) ||

40688 ((
axis1
=='z' || 
axis2
=='z'è&& 
_d•th
==1)) {

40689 
hess
.
fl
(0).
move_to
(
»s
);

40693 ià(
	gaxis1
==
axis2
)

40694 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3è
cimg_İ’mp_if_size
(
size
(),16384))

40695 
cimg_fÜXYZC
(*
this
,
x
,
y
,
z
,
c
) {

40696 cÚ¡ 
ulÚgT
 
	gpos
 = 
off£t
(
x
,
y
,
z
,
c
);

40697 ià((
	gaxis1
=='x' && !
x
è|| (
axis1
=='y' && !
y
è|| (axis1=='z' && !
z
))

40698 
hess
[
pos
] = (
Tæßt
)
_d©a
[po + 
off
] - _data[pos];

40699 ià((
	gaxis1
=='x' && 
x
==
width
() - 1) ||

40700 (
axis1
=='y' && 
y
==
height
() - 1) ||

40701 (
axis1
=='z' && 
z
==
d•th
() - 1))

40702 
hess
[
pos
] = (
Tæßt
)
_d©a
[po - 
off
] - _data[pos];

40704 
	ghess
[
pos
] = (
Tæßt
)
_d©a
[po + 
off
] + _data[pos - off] - 2*_data[pos];

40706 ià(
	gaxis1
=='x' && 
axis2
=='y')

40707 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2)

40708 
cimg_İ’mp_if
(
_width
*
_height
>=(
cimg_İ’mp_sizeçùÜ
)*16384 &&

40709 
_d•th
*
_¥eùrum
>=2))

40710 
cimg_fÜZC
(*
this
,
z
,
c
) {

40711 
CImg_3x3
(
I
,
Tæßt
);

40712 
cimg_fÜ3x3
(*
this
,
x
,
y
,
z
,
c
,
I
,
Tæßt
è
hess
(x,y,z,cèğ(
IÂ
 + 
Iµ
 - 
IÅ
 - 
I²
)/4;

40714 ià(
	gaxis1
=='x' && 
axis2
=='z')

40715 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
*
_height
*
_d•th
>=(
cimg_İ’mp_sizeçùÜ
)*16384 &&

40716 
_¥eùrum
>=2))

40717 
cimg_fÜC
(*
this
,
c
) {

40718 
CImg_3x3x3
(
I
,
Tæßt
);

40719 
cimg_fÜ3x3x3
(*
this
,
x
,
y
,
z
,
c
,
I
,
Tæßt
è
hess
(x,y,z,cèğ(
Inú
 + 
Ipı
 - 
Inı
 - 
Ipú
)/4;

40722 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
*
_height
*
_d•th
>=(
cimg_İ’mp_sizeçùÜ
)*16384 &&

40723 
_¥eùrum
>=2))

40724 
cimg_fÜC
(*
this
,
c
) {

40725 
CImg_3x3x3
(
I
,
Tæßt
);

40726 
cimg_fÜ3x3x3
(*
this
,
x
,
y
,
z
,
c
,
I
,
Tæßt
è
hess
(x,y,z,cèğ(
Iún
 + 
Iıp
 - 
Iúp
 - 
Iın
)/4;

40728 
	ghess
.
move_to
(
»s
);

40730  
	g»s
;

40734 
	gCImg
<
	gT
>& 
Ï¶acŸn
() {

40735  
g‘_Ï¶acŸn
().
move_to
(*
this
);

40739 
	gCImg
<
	gTæßt
> 
g‘_Ï¶acŸn
() const {

40740 ià(
is_em±y
()è 
	gCImg
<
	gTæßt
>();

40741 
	gCImg
<
	gTæßt
> 
»s
(
_width
,
_height
,
_d•th
,
_¥eùrum
);

40742 ià(
	g_d•th
>1) {

40743 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
*
_height
*
_d•th
>=(
cimg_İ’mp_sizeçùÜ
)*1048576 &&

40744 
_¥eùrum
>=2))

40745 
cimg_fÜC
(*
this
,
c
) {

40746 
Tæßt
 *
	g±rd
 = 
»s
.
d©a
(0,0,0,
c
);

40747 
CImg_3x3x3
(
I
,
Tæßt
);

40748 
cimg_fÜ3x3x3
(*
this
,
x
,
y
,
z
,
c
,
I
,
Tæßt
è*(
	g±rd
++èğ
Incc
 + 
Ipcc
 + 
Iúc
 + 
Iıc
 + 
Icú
 + 
Icı
 - 6*
Iccc
;

40750 } ià(
	g_height
>1) {

40751 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
*
_height
>=(
cimg_İ’mp_sizeçùÜ
)*1048576 &&

40752 
_d•th
*
_¥eùrum
>=2))

40753 
cimg_fÜC
(*
this
,
c
) {

40754 
Tæßt
 *
	g±rd
 = 
»s
.
d©a
(0,0,0,
c
);

40755 
CImg_3x3
(
I
,
Tæßt
);

40756 
cimg_fÜ3x3
(*
this
,
x
,
y
,0,
c
,
I
,
Tæßt
è*(
	g±rd
++èğ
Inc
 + 
Ipc
 + 
Iú
 + 
Iı
 - 4*
Icc
;

40759 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*1048576 &&

40760 
_height
*
_d•th
*
_¥eùrum
>=2))

40761 
cimg_fÜC
(*
this
,
c
) {

40762 
Tæßt
 *
	g±rd
 = 
»s
.
d©a
(0,0,0,
c
);

40763 
CImg_3x3
(
I
,
Tæßt
);

40764 
cimg_fÜ3x3
(*
this
,
x
,
y
,0,
c
,
I
,
Tæßt
è*(
	g±rd
++èğ
Inc
 + 
Ipc
 - 2*
Icc
;

40767  
	g»s
;

40774 
	gCImg
<
	gT
>& 
¡ruùu»_‹nsÜs
(cÚ¡ 
boŞ
 
is_fwbw_scheme
=
çl£
) {

40775  
g‘_¡ruùu»_‹nsÜs
(
is_fwbw_scheme
).
move_to
(*
this
);

40779 
	gCImg
<
	gTæßt
> 
g‘_¡ruùu»_‹nsÜs
(cÚ¡ 
boŞ
 
is_fwbw_scheme
=
çl£
) const {

40780 ià(
is_em±y
()è *
this
;

40781 
	gCImg
<
	gTæßt
> 
	g»s
;

40782 ià(
	g_d•th
>1) {

40783 
	g»s
.
assign
(
_width
,
_height
,
_d•th
,6,0);

40784 ià(!
	gis_fwbw_scheme
) {

40785 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
*
_height
*
_d•th
>=(
cimg_İ’mp_sizeçùÜ
)*1048576 &&

40786 
_¥eùrum
>=2))

40787 
cimg_fÜC
(*
this
,
c
) {

40788 
Tæßt


40789 *
	g±rd0
 = 
»s
.
d©a
(0,0,0,0), *
	g±rd1
 =„es.d©a(0,0,0,1), *
	g±rd2
 =„es.data(0,0,0,2),

40790 *
	g±rd3
 = 
»s
.
d©a
(0,0,0,3), *
	g±rd4
 =„es.d©a(0,0,0,4), *
	g±rd5
 =„es.data(0,0,0,5);

40791 
CImg_3x3x3
(
I
,
Tæßt
);

40792 
cimg_fÜ3x3x3
(*
this
,
x
,
y
,
z
,
c
,
I
,
Tæßt
) {

40793 cÚ¡ 
Tæßt


40794 
	gix
 = (
Incc
 - 
Ipcc
)/2,

40795 
	giy
 = (
Iúc
 - 
Iıc
)/2,

40796 
	giz
 = (
Icú
 - 
Icı
)/2;

40797 *(
	g±rd0
++)+=
ix
*ix;

40798 *(
	g±rd1
++)+=
ix
*
iy
;

40799 *(
	g±rd2
++)+=
ix
*
iz
;

40800 *(
	g±rd3
++)+=
iy
*iy;

40801 *(
	g±rd4
++)+=
iy
*
iz
;

40802 *(
	g±rd5
++)+=
iz
*iz;

40806 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
*
_height
*
_d•th
>=(
cimg_İ’mp_sizeçùÜ
)*1048576 &&

40807 
_¥eùrum
>=2))

40808 
cimg_fÜC
(*
this
,
c
) {

40809 
Tæßt


40810 *
	g±rd0
 = 
»s
.
d©a
(0,0,0,0), *
	g±rd1
 =„es.d©a(0,0,0,1), *
	g±rd2
 =„es.data(0,0,0,2),

40811 *
	g±rd3
 = 
»s
.
d©a
(0,0,0,3), *
	g±rd4
 =„es.d©a(0,0,0,4), *
	g±rd5
 =„es.data(0,0,0,5);

40812 
CImg_3x3x3
(
I
,
Tæßt
);

40813 
cimg_fÜ3x3x3
(*
this
,
x
,
y
,
z
,
c
,
I
,
Tæßt
) {

40814 cÚ¡ 
Tæßt


40815 
	gixf
 = 
Incc
 - 
Iccc
, 
	gixb
 = Iccø- 
Ipcc
,

40816 
	giyf
 = 
Iúc
 - 
Iccc
, 
	giyb
 = Iccø- 
Iıc
,

40817 
	gizf
 = 
Icú
 - 
Iccc
, 
	gizb
 = Iccø- 
Icı
;

40818 *(
	g±rd0
++)+=(
ixf
*ixà+ 
ixb
*ixb)/2;

40819 *(
	g±rd1
++)+=(
ixf
*
iyf
 + ixf*
iyb
 + 
ixb
*iyf + ixb*iyb)/4;

40820 *(
	g±rd2
++)+=(
ixf
*
izf
 + ixf*
izb
 + 
ixb
*izf + ixb*izb)/4;

40821 *(
	g±rd3
++)+=(
iyf
*iyà+ 
iyb
*iyb)/2;

40822 *(
	g±rd4
++)+=(
iyf
*
izf
 + iyf*
izb
 + 
iyb
*izf + iyb*izb)/4;

40823 *(
	g±rd5
++)+=(
izf
*izà+ 
izb
*izb)/2;

40828 
	g»s
.
assign
(
_width
,
_height
,
_d•th
,3,0);

40829 ià(!
	gis_fwbw_scheme
) {

40830 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
*
_height
>=(
cimg_İ’mp_sizeçùÜ
)*1048576 &&

40831 
_d•th
*
_¥eùrum
>=2))

40832 
cimg_fÜC
(*
this
,
c
) {

40833 
Tæßt
 *
	g±rd0
 = 
»s
.
d©a
(0,0,0,0), *
	g±rd1
 =„es.d©a(0,0,0,1), *
	g±rd2
 =„es.data(0,0,0,2);

40834 
CImg_3x3
(
I
,
Tæßt
);

40835 
cimg_fÜ3x3
(*
this
,
x
,
y
,0,
c
,
I
,
Tæßt
) {

40836 cÚ¡ 
Tæßt


40837 
	gix
 = (
Inc
 - 
Ipc
)/2,

40838 
	giy
 = (
Iú
 - 
Iı
)/2;

40839 *(
	g±rd0
++)+=
ix
*ix;

40840 *(
	g±rd1
++)+=
ix
*
iy
;

40841 *(
	g±rd2
++)+=
iy
*iy;

40845 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
*
_height
>=(
cimg_İ’mp_sizeçùÜ
)*1048576 &&

40846 
_d•th
*
_¥eùrum
>=2))

40847 
cimg_fÜC
(*
this
,
c
) {

40848 
Tæßt
 *
	g±rd0
 = 
»s
.
d©a
(0,0,0,0), *
	g±rd1
 =„es.d©a(0,0,0,1), *
	g±rd2
 =„es.data(0,0,0,2);

40849 
CImg_3x3
(
I
,
Tæßt
);

40850 
cimg_fÜ3x3
(*
this
,
x
,
y
,0,
c
,
I
,
Tæßt
) {

40851 cÚ¡ 
Tæßt


40852 
	gixf
 = 
Inc
 - 
Icc
, 
	gixb
 = Icø- 
Ipc
,

40853 
	giyf
 = 
Iú
 - 
Icc
, 
	giyb
 = Icø- 
Iı
;

40854 *(
	g±rd0
++)+=(
ixf
*ixà+ 
ixb
*ixb)/2;

40855 *(
	g±rd1
++)+=(
ixf
*
iyf
 + ixf*
iyb
 + 
ixb
*iyf + ixb*iyb)/4;

40856 *(
	g±rd2
++)+=(
iyf
*iyà+ 
iyb
*iyb)/2;

40861  
	g»s
;

40872 
	gCImg
<
	gT
>& 
diffusiÚ_‹nsÜs
(cÚ¡ 
sh¬²ess
=0.7f, cÚ¡ 
ªisÙrİy
=0.6f,

40873 cÚ¡ 
®pha
=0.6f, cÚ¡ 
sigma
=1.1f, cÚ¡ 
boŞ
 
is_sq¹
=
çl£
) {

40874 
CImg
<
Tæßt
> 
»s
;

40876 
	gnsh¬²ess
 = 
¡d
::
max
(
sh¬²ess
,1e-5f),

40877 
	gpow”1
 = (
is_sq¹
?0.5f:1)*
nsh¬²ess
,

40878 
	gpow”2
 = 
pow”1
/(1e-7à+ 1 - 
ªisÙrİy
);

40879 
blur
(
®pha
).
nÜm®ize
(0,(
T
)255);

40881 ià(
	g_d•th
>1) {

40882 
g‘_¡ruùu»_‹nsÜs
().
move_to
(
»s
).
blur
(
sigma
);

40883 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*256 &&

40884 
_height
*
_d•th
>=(
cimg_İ’mp_sizeçùÜ
)*256))

40885 
cimg_fÜYZ
(*
this
,
y
,
z
) {

40886 
Tæßt


40887 *
	g±rd0
 = 
»s
.
d©a
(0,
y
,
z
,0), *
	g±rd1
 =„es.d©a(0,y,z,1), *
	g±rd2
 =„es.data(0,y,z,2),

40888 *
	g±rd3
 = 
»s
.
d©a
(0,
y
,
z
,3), *
	g±rd4
 =„es.d©a(0,y,z,4), *
	g±rd5
 =„es.data(0,y,z,5);

40889 
	gCImg
<
	gæßtT
> 
v®
(3), 
vec
(3,3);

40890 
cimg_fÜX
(*
this
,
x
) {

40891 
	g»s
.
g‘_‹nsÜ_©
(
x
,
y
,
z
).
symm‘ric_eig’
(
v®
,
vec
);

40893 
	g_l1
 = 
v®
[2], 
	g_l2
 = v®[1], 
	g_l3
 = val[0],

40894 
	gl1
 = 
_l1
>0?_l1:0, 
	gl2
 = 
_l2
>0?_l2:0, 
	gl3
 = 
_l3
>0?_l3:0,

40895 
	gux
 = 
vec
(0,0), 
	guy
 = vec(0,1), 
	guz
 = vec(0,2),

40896 
	gvx
 = 
vec
(1,0), 
	gvy
 = vec(1,1), 
	gvz
 = vec(1,2),

40897 
	gwx
 = 
vec
(2,0), 
	gwy
 = vec(2,1), 
	gwz
 = vec(2,2),

40898 
	gn1
 = ()
¡d
::
pow
(1 + 
l1
 + 
l2
 + 
l3
,-
pow”1
),

40899 
	gn2
 = ()
¡d
::
pow
(1 + 
l1
 + 
l2
 + 
l3
,-
pow”2
);

40900 *(
	g±rd0
++èğ
n1
*(
ux
*ux + 
vx
*vxè+ 
n2
*
wx
*wx;

40901 *(
	g±rd1
++èğ
n1
*(
ux
*
uy
 + 
vx
*
vy
è+ 
n2
*
wx
*
wy
;

40902 *(
	g±rd2
++èğ
n1
*(
ux
*
uz
 + 
vx
*
vz
è+ 
n2
*
wx
*
wz
;

40903 *(
	g±rd3
++èğ
n1
*(
uy
*uy + 
vy
*vyè+ 
n2
*
wy
*wy;

40904 *(
	g±rd4
++èğ
n1
*(
uy
*
uz
 + 
vy
*
vz
è+ 
n2
*
wy
*
wz
;

40905 *(
	g±rd5
++èğ
n1
*(
uz
*uz + 
vz
*vzè+ 
n2
*
wz
*wz;

40909 
g‘_¡ruùu»_‹nsÜs
().
move_to
(
»s
).
blur
(
sigma
);

40910 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*256 &&

40911 
_height
>=(
cimg_İ’mp_sizeçùÜ
)*256))

40912 
cimg_fÜY
(*
this
,
y
) {

40913 
Tæßt
 *
	g±rd0
 = 
»s
.
d©a
(0,
y
,0,0), *
	g±rd1
 =„es.d©a(0,y,0,1), *
	g±rd2
 =„es.data(0,y,0,2);

40914 
	gCImg
<
	gæßtT
> 
v®
(2), 
vec
(2,2);

40915 
cimg_fÜX
(*
this
,
x
) {

40916 
	g»s
.
g‘_‹nsÜ_©
(
x
,
y
).
symm‘ric_eig’
(
v®
,
vec
);

40918 
	g_l1
 = 
v®
[1], 
	g_l2
 = val[0],

40919 
	gl1
 = 
_l1
>0?_l1:0, 
	gl2
 = 
_l2
>0?_l2:0,

40920 
	gux
 = 
vec
(1,0), 
	guy
 = vec(1,1),

40921 
	gvx
 = 
vec
(0,0), 
	gvy
 = vec(0,1),

40922 
	gn1
 = ()
¡d
::
pow
(1 + 
l1
 + 
l2
,-
pow”1
),

40923 
	gn2
 = ()
¡d
::
pow
(1 + 
l1
 + 
l2
,-
pow”2
);

40924 *(
	g±rd0
++èğ
n1
*
ux
*ux + 
n2
*
vx
*vx;

40925 *(
	g±rd1
++èğ
n1
*
ux
*
uy
 + 
n2
*
vx
*
vy
;

40926 *(
	g±rd2
++èğ
n1
*
uy
*uy + 
n2
*
vy
*vy;

40930  
	g»s
.
move_to
(*
this
);

40934 
	gCImg
<
	gTæßt
> 
g‘_diffusiÚ_‹nsÜs
(cÚ¡ 
sh¬²ess
=0.7f, cÚ¡ 
ªisÙrİy
=0.6f,

40935 cÚ¡ 
®pha
=0.6f, cÚ¡ 
sigma
=1.1f, cÚ¡ 
boŞ
 
is_sq¹
=
çl£
) const {

40936  
CImg
<
Tæßt
>(*
this
,
çl£
).
diffusiÚ_‹nsÜs
(
sh¬²ess
,
ªisÙrİy
,
®pha
,
sigma
,
is_sq¹
);

40951 
	gCImg
<
	gT
>& 
di¥Ïûm’t
(cÚ¡ 
CImg
<
T
>& 
sourû
, cÚ¡ 
smoÙhÃss
=0.1f, cÚ¡ 
´ecisiÚ
=5.f,

40952 cÚ¡ 
nb_sÿËs
=0, cÚ¡ 
™”©iÚ_max
=10000,

40953 cÚ¡ 
boŞ
 
is_backw¬d
=
çl£
,

40954 cÚ¡ 
CImg
<
æßtT
>& 
guide
=CImg<æßtT>::
cÚ¡_em±y
()) {

40955  
g‘_di¥Ïûm’t
(
sourû
,
smoÙhÃss
,
´ecisiÚ
,
nb_sÿËs
,
™”©iÚ_max
,
is_backw¬d
,
guide
).

40956 
move_to
(*
this
);

40960 
	gCImg
<
	gæßtT
> 
g‘_di¥Ïûm’t
(cÚ¡ 
CImg
<
T
>& 
sourû
,

40961 cÚ¡ 
smoÙhÃss
=0.1f, cÚ¡ 
´ecisiÚ
=5.f,

40962 cÚ¡ 
nb_sÿËs
=0, cÚ¡ 
™”©iÚ_max
=10000,

40963 cÚ¡ 
boŞ
 
is_backw¬d
=
çl£
,

40964 cÚ¡ 
CImg
<
æßtT
>& 
guide
=CImg<æßtT>::
cÚ¡_em±y
()) const {

40965 ià(
is_em±y
(è|| !
sourû
è +*
this
;

40966 ià(!
is_§meXYZC
(
sourû
))

40967 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


40970 
cimg_š¡ªû
,

40971 
sourû
.
_width
,sourû.
_height
,sourû.
_d•th
,sourû.
_¥eùrum
,sourû.
_d©a
);

40972 ià(
	g´ecisiÚ
<0)

40973 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


40976 
cimg_š¡ªû
,

40977 
´ecisiÚ
);

40979 cÚ¡ 
boŞ
 
	gis_3d
 = 
sourû
.
_d•th
>1;

40980 cÚ¡ 
	gcÚ¡¿št
 = 
is_3d
?3:2;

40982 ià(
	gguide
 &&

40983 (
	gguide
.
	g_width
!=
_width
 || 
guide
.
_height
!=_heighˆ|| guide.
_d•th
!=_d•th || guide.
_¥eùrum
<
cÚ¡¿št
))

40984 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


40987 
cimg_š¡ªû
,

40988 
guide
.
_width
,guide.
_height
,guide.
_d•th
,guide.
_¥eùrum
,guide.
_d©a
);

40991 
	gmšs
 = 
is_3d
?
cimg
::
mš
(
_width
,
_height
,
_d•th
):
¡d
::min(_width,_height),

40992 
	g_nb_sÿËs
 = 
nb_sÿËs
>0?nb_scales:

40993 ()
cimg
::
round
(
¡d
::
log
(
mšs
/8.)/std::log(1.5),1,1);

40995 cÚ¡ 
	g_´ecisiÚ
 = ()
¡d
::
pow
(10.,-()
´ecisiÚ
);

40996 
	gsm
, 
	gsM
 = 
sourû
.
max_mš
(
sm
), 
	gtm
, 
	gtM
 = max_mš(
tm
);

40997 cÚ¡ 
	gsd–
 = 
sm
==
sM
?1:(sM - sm), 
	gtd–
 = 
tm
==
tM
?1:(tM -m);

40999 
	gCImg
<
	gæßtT
> 
	gU
, 
	gV
;

41000 
æßtT
 
	gbound
 = 0;

41001 
	gsÿË
 = ()
_nb_sÿËs
 - 1; scale>=0; --scale) {

41002 cÚ¡ 
	gçùÜ
 = ()
¡d
::
pow
(1.5,()
sÿË
);

41004 
	g_sw
 = ()(
_width
/
çùÜ
), 
	gsw
 = 
_sw
?_sw:1,

41005 
	g_sh
 = ()(
_height
/
çùÜ
), 
	gsh
 = 
_sh
?_sh:1,

41006 
	g_sd
 = ()(
_d•th
/
çùÜ
), 
	gsd
 = 
_sd
?_sd:1;

41007 ià(
	gsw
<5 && 
	gsh
<5 && (!
	gis_3d
 || 
	gsd
<5)) ;

41008 cÚ¡ 
	gCImg
<
	gTæßt
>

41009 
	gI1
 = (
sourû
.
g‘_»size
(
sw
,
sh
,
sd
,-100,2)-=
sm
)/=
sd–
,

41010 
	gI2
 = (
g‘_»size
(
I1
,2)-=
tm
)/=
td–
;

41011 ià(
	gguide
.
	g_¥eùrum
>
	gcÚ¡¿št
èguide.
g‘_»size
(
I2
.
_width
,I2.
_height
,I2.
_d•th
,-100,1).
move_to
(
V
);

41012 ià(
	gU
è(U*=1.5f).
»size
(
I2
.
_width
,I2.
_height
,I2.
_d•th
,-100,3);

41014 ià(
	gguide
)

41015 
	gguide
.
g‘_sh¬ed_chªÃls
(0,
is_3d
?2:1).
g‘_»size
(
I2
.
_width
,I2.
_height
,I2.
_d•th
,-100,2).
move_to
(
U
);

41016 
	gU
.
assign
(
I2
.
_width
,I2.
_height
,I2.
_d•th
,
is_3d
?3:2,0);

41019 
	gdt
 = 2, 
	g’”gy
 = 
cimg
::
ty³
<>::
max
();

41020 cÚ¡ 
	gCImgLi¡
<
	gTæßt
> 
	gdI
 = 
is_backw¬d
?
I1
.
g‘_g¿d›Á
():
I2
.get_gradient();

41021 
	gcimg_abÜt_š™
;

41023 
	g™”©iÚ
 = 0; i‹¿tiÚ<
	g™”©iÚ_max
; ++iteration) {

41024 
	gcimg_abÜt_‹¡
;

41025 
	g_’”gy
 = 0;

41027 ià(
	gis_3d
) {

41028 ià(
	gsmoÙhÃss
>=0)

41029 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2)

41030 
cimg_İ’mp_if
(
_height
*
_d•th
>=(
cimg_İ’mp_sizeçùÜ
)*8 &&

41031 
_width
>=(
cimg_İ’mp_sizeçùÜ
)*16)

41032 
»duùiÚ
(+:
_’”gy
))

41033 
cimg_fÜYZ
(
U
,
y
,
z
) {

41035 
	g_p1y
 = 
y
?y - 1:0, 
	g_n1y
 = y<
U
.
height
() - 1?y + 1:y,

41036 
	g_p1z
 = 
z
?z - 1:0, 
	g_n1z
 = z<
U
.
d•th
() - 1?z + 1:z;

41037 
cimg_fÜ3X
(
U
,
x
) {

41039 
	gX
 = 
is_backw¬d
?
x
 - 
U
(x,
y
,
z
,0):x + U(x,y,z,0),

41040 
	gY
 = 
is_backw¬d
?
y
 - 
U
(
x
,y,
z
,1):y + U(x,y,z,1),

41041 
	gZ
 = 
is_backw¬d
?
z
 - 
U
(
x
,
y
,z,2):z + U(x,y,z,2);

41042 
	gd–_I
 = 0, 
	g_’”gy_»gul
 = 0;

41043 ià(
	gis_backw¬d
è
cimg_fÜC
(
I2
,
c
è
	gd–_I
+=()(
I1
.
_lš—r_©XYZ
(
X
,
Y
,
Z
,cè- I2(
x
,
y
,
z
,c));

41044 
cimg_fÜC
(
I2
,
c
è
	gd–_I
+=()(
I1
(
x
,
y
,
z
,cè- 
	gI2
.
_lš—r_©XYZ
(
X
,
Y
,
Z
,c));

41045 
cimg_fÜC
(
U
,
c
) {

41047 
	gUx
 = 0.5f*(
U
(
_n1x
,
y
,
z
,
c
è- U(
_p1x
,y,z,c)),

41048 
	gUy
 = 0.5f*(
U
(
x
,
_n1y
,
z
,
c
è- U(x,
_p1y
,z,c)),

41049 
	gUz
 = 0.5f*(
U
(
x
,
y
,
_n1z
,
c
è- U(x,y,
_p1z
,c)),

41050 
	gUxx
 = 
U
(
_n1x
,
y
,
z
,
c
è+ U(
_p1x
,y,z,c),

41051 
	gUyy
 = 
U
(
x
,
_n1y
,
z
,
c
è+ U(x,
_p1y
,z,c),

41052 
	gUzz
 = 
U
(
x
,
y
,
_n1z
,
c
è+ U(x,y,
_p1z
,c);

41053 
U
(
x
,
y
,
z
,
c
èğ()(U(x,y,z,cè+ 
	gdt
*(
d–_I
*
	gdI
[c].
_lš—r_©XYZ
(
X
,
Y
,
Z
) +

41054 
	gsmoÙhÃss
* ( 
	gUxx
 + 
	gUyy
 + 
	gUzz
)))/(1 + 6*
smoÙhÃss
*
	gdt
);

41055 
	g_’”gy_»gul
+=
Ux
*Ux + 
Uy
*Uy + 
Uz
*Uz;

41057 ià(
	gis_backw¬d
) {

41058 ià(
U
(
x
,
y
,
z
,0)>
	gx
) U(x,y,z,0) = ()x;

41059 ià(
U
(
x
,
y
,
z
,1)>
	gy
) U(x,y,z,1) = ()y;

41060 ià(
U
(
x
,
y
,
z
,2)>
	gz
) U(x,y,z,2) = ()z;

41061 
	gbound
 = ()
x
 - 
_width
; ià(
U
(x,
y
,
z
,0)<=
bound
) U(x,y,z,0) = bound;

41062 
	gbound
 = ()
y
 - 
_height
; ià(
U
(
x
,y,
z
,1)<=
bound
) U(x,y,z,1) = bound;

41063 
	gbound
 = ()
z
 - 
_d•th
; ià(
U
(
x
,
y
,z,2)<=
bound
) U(x,y,z,2) = bound;

41065 ià(
U
(
x
,
y
,
z
,0)<-
	gx
) U(x,y,z,0) = -()x;

41066 ià(
U
(
x
,
y
,
z
,1)<-
	gy
) U(x,y,z,1) = -()y;

41067 ià(
U
(
x
,
y
,
z
,2)<-
	gz
) U(x,y,z,2) = -()z;

41068 
	gbound
 = ()
_width
 - 
x
; ià(
U
(x,
y
,
z
,0)>=
bound
) U(x,y,z,0) = bound;

41069 
	gbound
 = ()
_height
 - 
y
; ià(
U
(
x
,y,
z
,1)>=
bound
) U(x,y,z,1) = bound;

41070 
	gbound
 = ()
_d•th
 - 
z
; ià(
U
(
x
,
y
,z,2)>=
bound
) U(x,y,z,2) = bound;

41072 
	g_’”gy
+=
d–_I
*d–_I + 
smoÙhÃss
*
_’”gy_»gul
;

41074 ià(
	gV
è
cimg_fÜXYZ
(
V
,
_x
,
_y
,
_z
) if (V(_x,_y,_z,3)) {

41075 
U
(
_x
,
_y
,
_z
,0èğ
V
(_x,_y,_z,0)/
	gçùÜ
;

41076 
U
(
_x
,
_y
,
_z
,1èğ
V
(_x,_y,_z,1)/
	gçùÜ
;

41077 
U
(
_x
,
_y
,
_z
,2èğ
V
(_x,_y,_z,2)/
	gçùÜ
;

41080 cÚ¡ 
	gnsmoÙhÃss
 = -
smoÙhÃss
;

41081 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2)

41082 
cimg_İ’mp_if
(
_height
*
_d•th
>=(
cimg_İ’mp_sizeçùÜ
)*8 &&

41083 
_width
>=(
cimg_İ’mp_sizeçùÜ
)*16)

41084 
»duùiÚ
(+:
_’”gy
))

41085 
cimg_fÜYZ
(
U
,
y
,
z
) {

41087 
	g_p1y
 = 
y
?y - 1:0, 
	g_n1y
 = y<
U
.
height
() - 1?y + 1:y,

41088 
	g_p1z
 = 
z
?z - 1:0, 
	g_n1z
 = z<
U
.
d•th
() - 1?z + 1:z;

41089 
cimg_fÜ3X
(
U
,
x
) {

41091 
	gX
 = 
is_backw¬d
?
x
 - 
U
(x,
y
,
z
,0):x + U(x,y,z,0),

41092 
	gY
 = 
is_backw¬d
?
y
 - 
U
(
x
,y,
z
,1):y + U(x,y,z,1),

41093 
	gZ
 = 
is_backw¬d
?
z
 - 
U
(
x
,
y
,z,2):z + U(x,y,z,2);

41094 
	gd–_I
 = 0, 
	g_’”gy_»gul
 = 0;

41095 ià(
	gis_backw¬d
è
cimg_fÜC
(
I2
,
c
è
	gd–_I
+=()(
I1
.
_lš—r_©XYZ
(
X
,
Y
,
Z
,cè- I2(
x
,
y
,
z
,c));

41096 
cimg_fÜC
(
I2
,
c
è
	gd–_I
+=()(
I1
(
x
,
y
,
z
,cè- 
	gI2
.
_lš—r_©XYZ
(
X
,
Y
,
Z
,c));

41097 
cimg_fÜC
(
U
,
c
) {

41099 
	gUx
 = 0.5f*(
U
(
_n1x
,
y
,
z
,
c
è- U(
_p1x
,y,z,c)),

41100 
	gUy
 = 0.5f*(
U
(
x
,
_n1y
,
z
,
c
è- U(x,
_p1y
,z,c)),

41101 
	gUz
 = 0.5f*(
U
(
x
,
y
,
_n1z
,
c
è- U(x,y,
_p1z
,c)),

41102 
	gN2
 = 
Ux
*Ux + 
Uy
*Uy + 
Uz
*Uz,

41103 
	gN
 = 
¡d
::
sq¹
(
N2
),

41104 
	gN3
 = 1e-5à+ 
N2
*
N
,

41105 
	gcÛf_a
 = (1 - 
Ux
*Ux/
N2
)/
N
,

41106 
	gcÛf_b
 = -2*
Ux
*
Uy
/
N3
,

41107 
	gcÛf_c
 = -2*
Ux
*
Uz
/
N3
,

41108 
	gcÛf_d
 = (1 - 
Uy
*Uy/
N2
)/
N
,

41109 
	gcÛf_e
 = -2*
Uy
*
Uz
/
N3
,

41110 
	gcÛf_f
 = (1 - 
Uz
*Uz/
N2
)/
N
,

41111 
	gUxx
 = 
U
(
_n1x
,
y
,
z
,
c
è+ U(
_p1x
,y,z,c),

41112 
	gUyy
 = 
U
(
x
,
_n1y
,
z
,
c
è+ U(x,
_p1y
,z,c),

41113 
	gUzz
 = 
U
(
x
,
y
,
_n1z
,
c
è+ U(x,y,
_p1z
,c),

41114 
	gUxy
 = 0.25f*(
U
(
_n1x
,
_n1y
,
z
,
c
è+ U(
_p1x
,
_p1y
,z,c) - U(_n1x,_p1y,z,c) - U(_n1x,_p1y,z,c)),

41115 
	gUxz
 = 0.25f*(
U
(
_n1x
,
y
,
_n1z
,
c
è+ U(
_p1x
,y,
_p1z
,c) - U(_n1x,y,_p1z,c) - U(_n1x,y,_p1z,c)),

41116 
	gUyz
 = 0.25f*(
U
(
x
,
_n1y
,
_n1z
,
c
è+ U(x,
_p1y
,
_p1z
,c) - U(x,_n1y,_p1z,c) - U(x,_n1y,_p1z,c));

41117 
U
(
x
,
y
,
z
,
c
èğ()(U(x,y,z,cè+ 
	gdt
*(
d–_I
*
	gdI
[c].
_lš—r_©XYZ
(
X
,
Y
,
Z
) +

41118 
	gnsmoÙhÃss
* ( 
cÛf_a
*
	gUxx
 + 
cÛf_b
*
	gUxy
 +

41119 
cÛf_c
*
	gUxz
 + 
cÛf_d
*
	gUyy
 +

41120 
cÛf_e
*
	gUyz
 + 
cÛf_f
*
	gUzz
 ))

41121 )/(1 + 2*(
	gcÛf_a
 + 
	gcÛf_d
 + 
	gcÛf_f
)*
nsmoÙhÃss
*
	gdt
);

41122 
	g_’”gy_»gul
+=
N
;

41124 ià(
	gis_backw¬d
) {

41125 ià(
U
(
x
,
y
,
z
,0)>
	gx
) U(x,y,z,0) = ()x;

41126 ià(
U
(
x
,
y
,
z
,1)>
	gy
) U(x,y,z,1) = ()y;

41127 ià(
U
(
x
,
y
,
z
,2)>
	gz
) U(x,y,z,2) = ()z;

41128 
	gbound
 = ()
x
 - 
_width
; ià(
U
(x,
y
,
z
,0)<=
bound
) U(x,y,z,0) = bound;

41129 
	gbound
 = ()
y
 - 
_height
; ià(
U
(
x
,y,
z
,1)<=
bound
) U(x,y,z,1) = bound;

41130 
	gbound
 = ()
z
 - 
_d•th
; ià(
U
(
x
,
y
,z,2)<=
bound
) U(x,y,z,2) = bound;

41132 ià(
U
(
x
,
y
,
z
,0)<-
	gx
) U(x,y,z,0) = -()x;

41133 ià(
U
(
x
,
y
,
z
,1)<-
	gy
) U(x,y,z,1) = -()y;

41134 ià(
U
(
x
,
y
,
z
,2)<-
	gz
) U(x,y,z,2) = -()z;

41135 
	gbound
 = ()
_width
 - 
x
; ià(
U
(x,
y
,
z
,0)>=
bound
) U(x,y,z,0) = bound;

41136 
	gbound
 = ()
_height
 - 
y
; ià(
U
(
x
,y,
z
,1)>=
bound
) U(x,y,z,1) = bound;

41137 
	gbound
 = ()
_d•th
 - 
z
; ià(
U
(
x
,
y
,z,2)>=
bound
) U(x,y,z,2) = bound;

41139 
	g_’”gy
+=
d–_I
*d–_I + 
nsmoÙhÃss
*
_’”gy_»gul
;

41141 ià(
	gV
è
cimg_fÜXYZ
(
V
,
_x
,
_y
,
_z
) if (V(_x,_y,_z,3)) {

41142 
U
(
_x
,
_y
,
_z
,0èğ
V
(_x,_y,_z,0)/
	gçùÜ
;

41143 
U
(
_x
,
_y
,
_z
,1èğ
V
(_x,_y,_z,1)/
	gçùÜ
;

41144 
U
(
_x
,
_y
,
_z
,2èğ
V
(_x,_y,_z,2)/
	gçùÜ
;

41149 ià(
	gsmoÙhÃss
>=0)

41150 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_height
>=(
cimg_İ’mp_sizeçùÜ
)*8 &&

41151 
_width
>=(
cimg_İ’mp_sizeçùÜ
)*16è
»duùiÚ
(+:
_’”gy
))

41152 
cimg_fÜY
(
U
,
y
) {

41153 cÚ¡ 
	g_p1y
 = 
y
?y - 1:0, 
	g_n1y
 = y<
U
.
height
() - 1?y + 1:y;

41154 
cimg_fÜ3X
(
U
,
x
) {

41156 
	gX
 = 
is_backw¬d
?
x
 - 
U
(x,
y
,0):x + U(x,y,0),

41157 
	gY
 = 
is_backw¬d
?
y
 - 
U
(
x
,y,1):y + U(x,y,1);

41158 
	gd–_I
 = 0, 
	g_’”gy_»gul
 = 0;

41159 ià(
	gis_backw¬d
è
cimg_fÜC
(
I2
,
c
è
	gd–_I
+=()(
I1
.
_lš—r_©XY
(
X
,
Y
,cè- I2(
x
,
y
,c));

41160 
cimg_fÜC
(
I2
,
c
è
	gd–_I
+=()(
I1
(
x
,
y
,cè- 
	gI2
.
_lš—r_©XY
(
X
,
Y
,c));

41161 
cimg_fÜC
(
U
,
c
) {

41163 
	gUx
 = 0.5f*(
U
(
_n1x
,
y
,
c
è- U(
_p1x
,y,c)),

41164 
	gUy
 = 0.5f*(
U
(
x
,
_n1y
,
c
è- U(x,
_p1y
,c)),

41165 
	gUxx
 = 
U
(
_n1x
,
y
,
c
è+ U(
_p1x
,y,c),

41166 
	gUyy
 = 
U
(
x
,
_n1y
,
c
è+ U(x,
_p1y
,c);

41167 
U
(
x
,
y
,
c
èğ()(U(x,y,cè+ 
	gdt
*(
d–_I
*
	gdI
[c].
_lš—r_©XY
(
X
,
Y
) +

41168 
	gsmoÙhÃss
*Ğ
	gUxx
 + 
	gUyy
 )))/(1 + 4*
smoÙhÃss
*
	gdt
);

41169 
	g_’”gy_»gul
+=
Ux
*Ux + 
Uy
*Uy;

41171 ià(
	gis_backw¬d
) {

41172 ià(
U
(
x
,
y
,0)>
	gx
) U(x,y,0) = ()x;

41173 ià(
U
(
x
,
y
,1)>
	gy
) U(x,y,1) = ()y;

41174 
	gbound
 = ()
x
 - 
_width
; ià(
U
(x,
y
,0)<=
bound
) U(x,y,0) = bound;

41175 
	gbound
 = ()
y
 - 
_height
; ià(
U
(
x
,y,1)<=
bound
) U(x,y,1) = bound;

41177 ià(
U
(
x
,
y
,0)<-
	gx
) U(x,y,0) = -()x;

41178 ià(
U
(
x
,
y
,1)<-
	gy
) U(x,y,1) = -()y;

41179 
	gbound
 = ()
_width
 - 
x
; ià(
U
(x,
y
,0)>=
bound
) U(x,y,0) = bound;

41180 
	gbound
 = ()
_height
 - 
y
; ià(
U
(
x
,y,1)>=
bound
) U(x,y,1) = bound;

41182 
	g_’”gy
+=
d–_I
*d–_I + 
smoÙhÃss
*
_’”gy_»gul
;

41184 ià(
	gV
è
cimg_fÜXY
(
V
,
_x
,
_y
) if (V(_x,_y,2)) {

41185 
U
(
_x
,
_y
,0èğ
V
(_x,_y,0)/
	gçùÜ
;

41186 
U
(
_x
,
_y
,1èğ
V
(_x,_y,1)/
	gçùÜ
;

41189 cÚ¡ 
	gnsmoÙhÃss
 = -
smoÙhÃss
;

41190 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_height
>=(
cimg_İ’mp_sizeçùÜ
)*8 &&

41191 
_width
>=(
cimg_İ’mp_sizeçùÜ
)*16è
»duùiÚ
(+:
_’”gy
))

41192 
cimg_fÜY
(
U
,
y
) {

41193 cÚ¡ 
	g_p1y
 = 
y
?y - 1:0, 
	g_n1y
 = y<
U
.
height
() - 1?y + 1:y;

41194 
cimg_fÜ3X
(
U
,
x
) {

41196 
	gX
 = 
is_backw¬d
?
x
 - 
U
(x,
y
,0):x + U(x,y,0),

41197 
	gY
 = 
is_backw¬d
?
y
 - 
U
(
x
,y,1):y + U(x,y,1);

41198 
	gd–_I
 = 0, 
	g_’”gy_»gul
 = 0;

41199 ià(
	gis_backw¬d
è
cimg_fÜC
(
I2
,
c
è
	gd–_I
+=()(
I1
.
_lš—r_©XY
(
X
,
Y
,cè- I2(
x
,
y
,c));

41200 
cimg_fÜC
(
I2
,
c
è
	gd–_I
+=()(
I1
(
x
,
y
,cè- 
	gI2
.
_lš—r_©XY
(
X
,
Y
,c));

41201 
cimg_fÜC
(
U
,
c
) {

41203 
	gUx
 = 0.5f*(
U
(
_n1x
,
y
,
c
è- U(
_p1x
,y,c)),

41204 
	gUy
 = 0.5f*(
U
(
x
,
_n1y
,
c
è- U(x,
_p1y
,c)),

41205 
	gN2
 = 
Ux
*Ux + 
Uy
*Uy,

41206 
	gN
 = 
¡d
::
sq¹
(
N2
),

41207 
	gN3
 = 1e-5à+ 
N2
*
N
,

41208 
	gcÛf_a
 = 
Uy
*Uy/
N3
,

41209 
	gcÛf_b
 = -2*
Ux
*
Uy
/
N3
,

41210 
	gcÛf_c
 = 
Ux
*Ux/
N3
,

41211 
	gUxx
 = 
U
(
_n1x
,
y
,
c
è+ U(
_p1x
,y,c),

41212 
	gUyy
 = 
U
(
x
,
_n1y
,
c
è+ U(x,
_p1y
,c),

41213 
	gUxy
 = 0.25f*(
U
(
_n1x
,
_n1y
,
c
è+ U(
_p1x
,
_p1y
,c) - U(_n1x,_p1y,c) - U(_n1x,_p1y,c));

41214 
U
(
x
,
y
,
c
èğ()(U(x,y,cè+ 
	gdt
*(
d–_I
*
	gdI
[c].
_lš—r_©XY
(
X
,
Y
) +

41215 
	gnsmoÙhÃss
*Ğ
cÛf_a
*
	gUxx
 + 
cÛf_b
*
	gUxy
 + 
cÛf_c
*
	gUyy
 )))/

41216 (1 + 2*(
	gcÛf_a
 + 
	gcÛf_c
)*
nsmoÙhÃss
*
	gdt
);

41217 
	g_’”gy_»gul
+=
N
;

41219 ià(
	gis_backw¬d
) {

41220 ià(
U
(
x
,
y
,0)>
	gx
) U(x,y,0) = ()x;

41221 ià(
U
(
x
,
y
,1)>
	gy
) U(x,y,1) = ()y;

41222 
	gbound
 = ()
x
 - 
_width
; ià(
U
(x,
y
,0)<=
bound
) U(x,y,0) = bound;

41223 
	gbound
 = ()
y
 - 
_height
; ià(
U
(
x
,y,1)<=
bound
) U(x,y,1) = bound;

41225 ià(
U
(
x
,
y
,0)<-
	gx
) U(x,y,0) = -()x;

41226 ià(
U
(
x
,
y
,1)<-
	gy
) U(x,y,1) = -()y;

41227 
	gbound
 = ()
_width
 - 
x
; ià(
U
(x,
y
,0)>=
bound
) U(x,y,0) = bound;

41228 
	gbound
 = ()
_height
 - 
y
; ià(
U
(
x
,y,1)>=
bound
) U(x,y,1) = bound;

41230 
	g_’”gy
+=
d–_I
*d–_I + 
nsmoÙhÃss
*
_’”gy_»gul
;

41232 ià(
	gV
è
cimg_fÜXY
(
V
,
_x
,
_y
) if (V(_x,_y,2)) {

41233 
U
(
_x
,
_y
,0èğ
V
(_x,_y,0)/
	gçùÜ
;

41234 
U
(
_x
,
_y
,1èğ
V
(_x,_y,1)/
	gçùÜ
;

41239 cÚ¡ 
	gd_’”gy
 = (
_’”gy
 - 
’”gy
)/(
sw
*
sh
*
sd
);

41240 ià(
	gd_’”gy
<=0 && -
d_’”gy
<
_´ecisiÚ
) ;

41241 ià(
	gd_’”gy
>0è
	gdt
*=0.5f;

41242 
	g’”gy
 = 
_’”gy
;

41245  
	gU
;

41263 
	g‹m¶©e
<
ty³Çme
 
	gt1
,y³Çm
	gt2
>

41264 
	gCImg
<
	gT
>& 
m©ch·tch
(cÚ¡ 
CImg
<
T
>& 
·tch_image
,

41265 cÚ¡ 
·tch_width
,

41266 cÚ¡ 
·tch_height
,

41267 cÚ¡ 
·tch_d•th
,

41268 cÚ¡ 
nb_™”©iÚs
,

41269 cÚ¡ 
nb_¿ndoms
,

41270 cÚ¡ 
·tch_³Çliz©iÚ
,

41271 cÚ¡ 
CImg
<
t1
> &
guide
,

41272 
CImg
<
t2
> &
m©chšg_scÜe
) {

41273  
g‘_m©ch·tch
(
·tch_image
,
·tch_width
,
·tch_height
,
·tch_d•th
,

41274 
nb_™”©iÚs
,
nb_¿ndoms
,
·tch_³Çliz©iÚ
,
guide
,
m©chšg_scÜe
).
move_to
(*
this
);

41278 
	g‹m¶©e
<
ty³Çme
 
	gt1
,y³Çm
	gt2
>

41279 
	gCImg
<
	gštT
> 
g‘_m©ch·tch
(cÚ¡ 
CImg
<
T
>& 
·tch_image
,

41280 cÚ¡ 
·tch_width
,

41281 cÚ¡ 
·tch_height
,

41282 cÚ¡ 
·tch_d•th
,

41283 cÚ¡ 
nb_™”©iÚs
,

41284 cÚ¡ 
nb_¿ndoms
,

41285 cÚ¡ 
·tch_³Çliz©iÚ
,

41286 cÚ¡ 
CImg
<
t1
> &
guide
,

41287 
CImg
<
t2
> &
m©chšg_scÜe
) const {

41288  
_m©ch·tch
(
·tch_image
,
·tch_width
,
·tch_height
,
·tch_d•th
,

41289 
nb_™”©iÚs
,
nb_¿ndoms
,
·tch_³Çliz©iÚ
,

41290 
guide
,
Œue
,
m©chšg_scÜe
);

41294 
	g‹m¶©e
<
ty³Çme
 
	gt
>

41295 
	gCImg
<
	gT
>& 
m©ch·tch
(cÚ¡ 
CImg
<
T
>& 
·tch_image
,

41296 cÚ¡ 
·tch_width
,

41297 cÚ¡ 
·tch_height
,

41298 cÚ¡ 
·tch_d•th
,

41299 cÚ¡ 
nb_™”©iÚs
=5,

41300 cÚ¡ 
nb_¿ndoms
=5,

41301 cÚ¡ 
·tch_³Çliz©iÚ
=0,

41302 cÚ¡ 
CImg
<
t
> &
guide
=CImg<t>::
cÚ¡_em±y
()) {

41303  
g‘_m©ch·tch
(
·tch_image
,
·tch_width
,
·tch_height
,
·tch_d•th
,

41304 
nb_™”©iÚs
,
nb_¿ndoms
,
·tch_³Çliz©iÚ
,
guide
).
move_to
(*
this
);

41308 
	g‹m¶©e
<
ty³Çme
 
	gt
>

41309 
	gCImg
<
	gštT
> 
g‘_m©ch·tch
(cÚ¡ 
CImg
<
T
>& 
·tch_image
,

41310 cÚ¡ 
·tch_width
,

41311 cÚ¡ 
·tch_height
,

41312 cÚ¡ 
·tch_d•th
,

41313 cÚ¡ 
nb_™”©iÚs
=5,

41314 cÚ¡ 
nb_¿ndoms
=5,

41315 cÚ¡ 
·tch_³Çliz©iÚ
=0,

41316 cÚ¡ 
CImg
<
t
> &
guide
=CImg<t>::
cÚ¡_em±y
()) const {

41317 
CImg
<
T
> 
m©chšg_scÜe
;

41318  
_m©ch·tch
(
·tch_image
,
·tch_width
,
·tch_height
,
·tch_d•th
,

41319 
nb_™”©iÚs
,
nb_¿ndoms
,
·tch_³Çliz©iÚ
,
guide
,
çl£
,
m©chšg_scÜe
);

41322 
	g‹m¶©e
<
ty³Çme
 
	gt1
,y³Çm
	gt2
>

41323 
	gCImg
<
	gštT
> 
_m©ch·tch
(cÚ¡ 
CImg
<
T
>& 
·tch_image
,

41324 cÚ¡ 
·tch_width
,

41325 cÚ¡ 
·tch_height
,

41326 cÚ¡ 
·tch_d•th
,

41327 cÚ¡ 
nb_™”©iÚs
,

41328 cÚ¡ 
nb_¿ndoms
,

41329 cÚ¡ 
·tch_³Çliz©iÚ
,

41330 cÚ¡ 
CImg
<
t1
> &
guide
,

41331 cÚ¡ 
boŞ
 
is_m©chšg_scÜe
,

41332 
CImg
<
t2
> &
m©chšg_scÜe
) const {

41333 ià(
is_em±y
()è 
	gCImg
<
	gštT
>::
cÚ¡_em±y
();

41334 ià(
	g·tch_image
.
	g_¥eùrum
!=
_¥eùrum
)

41335 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


41338 
cimg_š¡ªû
,

41339 
·tch_image
.
_width
,·tch_image.
_height
,·tch_image.
_d•th
,·tch_image.
_¥eùrum
,

41340 
·tch_image
.
_d©a
);

41341 ià(
	g·tch_width
>
	g_width
 || 
	g·tch_height
>
	g_height
 || 
	g·tch_d•th
>
	g_d•th
)

41342 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


41345 
cimg_š¡ªû
,
·tch_width
,
·tch_height
,
·tch_d•th
);

41346 ià(
	g·tch_width
>
	g·tch_image
.
	g_width
 || 
	g·tch_height
>·tch_image.
	g_height
 || 
	g·tch_d•th
>·tch_image.
	g_d•th
)

41347 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


41350 
cimg_š¡ªû
,
·tch_width
,
·tch_height
,
·tch_d•th
,

41351 
·tch_image
.
_width
,·tch_image.
_height
,·tch_image.
_d•th
,·tch_image.
_¥eùrum
,

41352 
·tch_image
.
_d©a
);

41354 
	g_cÚ¡¿št
 = 
·tch_image
.
_d•th
>1?3:2,

41355 
	gcÚ¡¿št
 = 
guide
.
_¥eùrum
>
_cÚ¡¿št
?_constraint:0;

41357 ià(
	gguide
 &&

41358 (
	gguide
.
	g_width
!=
_width
 || 
guide
.
_height
!=_heighˆ|| guide.
_d•th
!=_d•th || guide.
_¥eùrum
<
_cÚ¡¿št
))

41359 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


41362 
cimg_š¡ªû
,

41363 
guide
.
_width
,guide.
_height
,guide.
_d•th
,guide.
_¥eùrum
,guide.
_d©a
,

41364 
·tch_image
.
_width
,·tch_image.
_height
,·tch_image.
_d•th
,·tch_image.
_¥eùrum
,

41365 
·tch_image
.
_d©a
);

41367 
	gCImg
<
	gštT
> 
a_m­
(
_width
,
_height
,
_d•th
,
·tch_image
._depth>1?3:2);

41368 
	gCImg
<
	guch¬T
> 
is_upd©ed
(
_width
,
_height
,
_d•th
,1,3);

41369 
	gCImg
<
	gæßtT
> 
scÜe
(
_width
,
_height
,
_d•th
);

41370 
	gCImg
<
	guštT
> 
	gocc
;

41371 cÚ¡ 
	g_·tch_³Çliz©iÚ
 = 
cimg
::
abs
(
·tch_³Çliz©iÚ
);

41372 cÚ¡ 
boŞ
 
	g®low_id’t™y
 = 
·tch_³Çliz©iÚ
>=0;

41373 ià(
	g_·tch_³Çliz©iÚ
!=0è
occ
.
assign
(
·tch_image
.
_width
,·tch_image.
_height
,·tch_image.
_d•th
,1,0);

41375 
	gpsizew
 = ()
·tch_width
, 
	gpsizew1
 = 
psizew
/2, 
	gpsizew2
 =…sizew - 
psizew1
 - 1,

41376 
	gpsizeh
 = ()
·tch_height
, 
	gpsizeh1
 = 
psizeh
/2, 
	gpsizeh2
 =…sizeh - 
psizeh1
 - 1,

41377 
	gpsized
 = ()
·tch_d•th
, 
	gpsized1
 = 
psized
/2, 
	gpsized2
 =…sized - 
psized1
 - 1;

41380 
	gCImg
<
	gT
> 
	gš_this
 = 
g‘_³rmu‹_axes
("cxyz");

41381 
	gš_this
.
	g_width
 = 
_width
*
_¥eùrum
;

41382 
	gš_this
.
	g_height
 = 
_height
;

41383 
	gš_this
.
	g_d•th
 = 
_d•th
;

41384 
	gš_this
.
	g_¥eùrum
 = 1;

41385 
	gCImg
<
	gT
> 
	gš_·tch
 = 
·tch_image
.
g‘_³rmu‹_axes
("cxyz");

41386 
	gš_·tch
.
	g_width
 = 
·tch_image
.
_width
*·tch_image.
_¥eùrum
;

41387 
	gš_·tch
.
	g_height
 = 
·tch_image
.
_height
;

41388 
	gš_·tch
.
	g_d•th
 = 
·tch_image
.
_d•th
;

41389 
	gš_·tch
.
	g_¥eùrum
 = 1;

41391 ià(
	g_d•th
>1 || 
	g·tch_image
._depth>1) {

41394 ià(
	gguide
)

41395 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if_size
(
_width
,64))

41396 
cimg_fÜXYZ
(*
this
,
x
,
y
,
z
) {

41398 
	gcx1
 = 
x
<=
psizew1
?x:(x<
width
(è- 
psizew2
?psizew1:
psizew
 + x - width()), 
	gcx2
 =…sizew - 
cx1
 - 1,

41399 
	gcy1
 = 
y
<=
psizeh1
?y:(y<
height
(è- 
psizeh2
?psizeh1:
psizeh
 + y - height()), 
	gcy2
 =…sizeh - 
cy1
 - 1,

41400 
	gcz1
 = 
z
<=
psized1
?z:(z<
d•th
(è- 
psized2
?psized1:
psized
 + z - d•th()), 
	gcz2
 =…sized - 
cz1
 - 1,

41401 
	gu
 = 
cimg
::
cut
(()
guide
(
x
,
y
,
z
,0),
cx1
,
·tch_image
.
width
(è- 1 - 
cx2
),

41402 
	gv
 = 
cimg
::
cut
(()
guide
(
x
,
y
,
z
,1),
cy1
,
·tch_image
.
height
(è- 1 - 
cy2
),

41403 
	gw
 = 
cimg
::
cut
(()
guide
(
x
,
y
,
z
,2),
cz1
,
·tch_image
.
d•th
(è- 1 - 
cz2
);

41404 
a_m­
(
x
,
y
,
z
,0èğ
u
;

41405 
a_m­
(
x
,
y
,
z
,1èğ
v
;

41406 
a_m­
(
x
,
y
,
z
,2èğ
w
;

41407 
scÜe
(
x
,
y
,
z
èğ
_m©ch·tch
(
š_this
,
š_·tch
,
occ
,
·tch_width
,
·tch_height
,
·tch_d•th
,
_¥eùrum
,

41408 
x
 - 
cx1
,
y
 - 
cy1
,
z
 - 
cz1
,

41409 
u
 - 
cx1
,
v
 - 
cy1
,
w
 - 
cz1
,

41410 
u
,
v
,
w
,0,
®low_id’t™y
,
cimg
::
ty³
<>::
šf
());

41411 } 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
_width
,64)) {

41412 
cimg_ušt64
 
	gºg
 = (
cimg
::
_¿nd
(),
	gcimg
::
ºg
());

41413 #ià
cimg_u£_İ’mp
!=0

41414 
	gºg
+=
omp_g‘_th»ad_num
();

41416 
cimg_´agma_İ’mp
(
cimg_İ’mp_cŞÏp£
(2))

41417 
cimg_fÜXYZ
(*
this
,
x
,
y
,
z
) {

41419 
	gcx1
 = 
x
<=
psizew1
?x:(x<
width
(è- 
psizew2
?psizew1:
psizew
 + x - width()), 
	gcx2
 =…sizew - 
cx1
 - 1,

41420 
	gcy1
 = 
y
<=
psizeh1
?y:(y<
height
(è- 
psizeh2
?psizeh1:
psizeh
 + y - height()), 
	gcy2
 =…sizeh - 
cy1
 - 1,

41421 
	gcz1
 = 
z
<=
psized1
?z:(z<
d•th
(è- 
psized2
?psized1:
psized
 + z - d•th()), 
	gcz2
 =…sized - 
cz1
 - 1,

41422 
	gu
 = ()
cimg
::
round
(cimg::
¿nd
(
cx1
,
·tch_image
.
width
(è- 1 - 
cx2
,&
ºg
)),

41423 
	gv
 = ()
cimg
::
round
(cimg::
¿nd
(
cy1
,
·tch_image
.
height
(è- 1 - 
cy2
,&
ºg
)),

41424 
	gw
 = ()
cimg
::
round
(cimg::
¿nd
(
cz1
,
·tch_image
.
d•th
(è- 1 - 
cz2
,&
ºg
));

41425 
a_m­
(
x
,
y
,
z
,0èğ
u
;

41426 
a_m­
(
x
,
y
,
z
,1èğ
v
;

41427 
a_m­
(
x
,
y
,
z
,2èğ
w
;

41428 
scÜe
(
x
,
y
,
z
èğ
_m©ch·tch
(
š_this
,
š_·tch
,
occ
,
·tch_width
,
·tch_height
,
·tch_d•th
,
_¥eùrum
,

41429 
x
 - 
cx1
,
y
 - 
cy1
,
z
 - 
cz1
,

41430 
u
 - 
cx1
,
v
 - 
cy1
,
w
 - 
cz1
,

41431 
u
,
v
,
w
,0,
®low_id’t™y
,
cimg
::
ty³
<>::
šf
());

41433 
	gcimg
::
¤ªd
(
ºg
);

41437 
	gcimg_abÜt_š™
;

41438 
	g™”
 = 0; i‹r<
	gnb_™”©iÚs
; ++iter) {

41439 
	gcimg_abÜt_‹¡
;

41440 cÚ¡ 
boŞ
 
	gis_backw¬d
 = 
™”
&1;

41441 cÚ¡ 
	gcmask
 = 
is_backw¬d
?1:2, 
	gnmask
 = 3 - 
cmask
;

41443 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*64 &&

41444 
™”
<
nb_™”©iÚs
-2)) {

41445 
cimg_ušt64
 
ºg
 = (
cimg
::
_¿nd
(),
	gcimg
::rng());

41447 #ià
cimg_u£_İ’mp
!=0

41448 
	gºg
+=
omp_g‘_th»ad_num
();

41450 
cimg_´agma_İ’mp
(
cimg_İ’mp_cŞÏp£
(2))

41451 
cimg_fÜXYZ
(*
this
,
X
,
Y
,
Z
) {

41453 
	gx
 = 
is_backw¬d
?
width
(è- 1 - 
X
:X,

41454 
	gy
 = 
is_backw¬d
?
height
(è- 1 - 
Y
:Y,

41455 
	gz
 = 
is_backw¬d
?
d•th
(è- 1 - 
Z
:Z;

41456 ià(
scÜe
(
x
,
y
,
z
)<=1e-5 || (
cÚ¡¿št
 && 
guide
(x,y,z,constraint)!=0)) ;

41458 
	gcx1
 = 
x
<=
psizew1
?x:(x<
width
(è- 
psizew2
?psizew1:
psizew
 + x - width()), 
	gcx2
 =…sizew - 
cx1
 - 1,

41459 
	gcy1
 = 
y
<=
psizeh1
?y:(y<
height
(è- 
psizeh2
?psizeh1:
psizeh
 + y - height()), 
	gcy2
 =…sizeh - 
cy1
 - 1,

41460 
	gcz1
 = 
z
<=
psized1
?z:(z<
d•th
(è- 
psized2
?psized1:
psized
 + z - d•th()), 
	gcz2
 =…sized - 
cz1
 - 1,

41461 
	gxp
 = 
x
 - 
cx1
,

41462 
	gyp
 = 
y
 - 
cy1
,

41463 
	gzp
 = 
z
 - 
cz1
;

41465 
	gbe¡_u
 = 
a_m­
(
x
,
y
,
z
,0), 
	gbe¡_v
 =‡_m­(x,y,z,1), 
	gbe¡_w
 =‡_m­(x,y,z,2), 
	gu
, 
	gv
, 
	gw
;

41466 cÚ¡ 
	gbe¡_scÜe0
 = 
scÜe
(
x
,
y
,
z
);

41467 
	gbe¡_scÜe
 = 
be¡_scÜe0
, 
	gs
;

41469 ià(
	gx
>0 && (
is_upd©ed
(
x
 - 1,
y
,
z
)&
	gcmask
)) {

41470 
	gu
 = 
a_m­
(
x
 - 1,
y
,
z
,0);

41471 
	gv
 = 
a_m­
(
x
 - 1,
y
,
z
,1);

41472 
	gw
 = 
a_m­
(
x
 - 1,
y
,
z
,2);

41473 ià(
	gu
>=
cx1
 - 1 && 
u
<
·tch_image
.
width
(è- 1 - 
cx2
 &&

41474 
v
>=
cy1
 && v<
·tch_image
.
height
(è- 
cy2
 &&

41475 
w
>=
cz1
 && w<
·tch_image
.
d•th
(è- 
cz2
) {

41476 
s
 = 
_m©ch·tch
(
š_this
,
š_·tch
,
occ
,
·tch_width
,
·tch_height
,
·tch_d•th
,
_¥eùrum
,

41477 
xp
,
yp
,
zp
,
u
 + 1 - 
cx1
,
v
 - 
cy1
,
w
 - 
cz1
,

41478 
u
,
v
,
w
,
_·tch_³Çliz©iÚ
,
®low_id’t™y
,
be¡_scÜe
);

41479 ià(
	gs
<
	gbe¡_scÜe
è{ 
	gbe¡_u
 = 
u
 + 1; 
	gbe¡_v
 = 
v
; 
	gbe¡_w
 = 
w
; be¡_scÜğ
s
; }

41482 ià(
	gy
>0 && (
is_upd©ed
(
x
,
y
 - 1,
z
)&
	gcmask
)) {

41483 
	gu
 = 
a_m­
(
x
,
y
 - 1,
z
,0);

41484 
	gv
 = 
a_m­
(
x
,
y
 - 1,
z
,1);

41485 
	gw
 = 
a_m­
(
x
,
y
 - 1,
z
,2);

41486 ià(
	gu
>=
cx1
 && 
u
<
·tch_image
.
width
(è- 
cx2
 &&

41487 
v
>=
cy1
 - 1 && v<
·tch_image
.
height
(è- 1 - 
cy2
 &&

41488 
w
>=
cz1
 && w<
·tch_image
.
d•th
(è- 
cz2
) {

41489 
s
 = 
_m©ch·tch
(
š_this
,
š_·tch
,
occ
,
·tch_width
,
·tch_height
,
·tch_d•th
,
_¥eùrum
,

41490 
xp
,
yp
,
zp
,
u
 - 
cx1
,
v
 + 1 - 
cy1
,
w
 - 
cz1
,

41491 
u
,
v
,
w
,
_·tch_³Çliz©iÚ
,
®low_id’t™y
,
be¡_scÜe
);

41492 ià(
	gs
<
	gbe¡_scÜe
è{ 
	gbe¡_u
 = 
u
; 
	gbe¡_v
 = 
v
 + 1; 
	gbe¡_w
 = 
w
; be¡_scÜğ
s
; }

41495 ià(
	gz
>0 && (
is_upd©ed
(
x
,
y
,
z
 - 1)&
	gcmask
)) {

41496 
	gu
 = 
a_m­
(
x
,
y
,
z
 - 1,0);

41497 
	gv
 = 
a_m­
(
x
,
y
,
z
 - 1,1);

41498 
	gw
 = 
a_m­
(
x
,
y
,
z
 - 1,2);

41499 ià(
	gu
>=
cx1
 && 
u
<
·tch_image
.
width
(è- 
cx2
 &&

41500 
v
>=
cy1
 && v<
·tch_image
.
height
(è- 
cy2
 &&

41501 
w
>=
cz1
 - 1 && w<
·tch_image
.
d•th
(è- 1 - 
cz2
) {

41502 
s
 = 
_m©ch·tch
(
š_this
,
š_·tch
,
occ
,
·tch_width
,
·tch_height
,
·tch_d•th
,
_¥eùrum
,

41503 
xp
,
yp
,
zp
,
u
 - 
cx1
,
v
 - 
cy1
,
w
 + 1 - 
cz1
,

41504 
u
,
v
,
w
,
_·tch_³Çliz©iÚ
,
®low_id’t™y
,
be¡_scÜe
);

41505 ià(
	gs
<
	gbe¡_scÜe
è{ 
	gbe¡_u
 = 
u
; 
	gbe¡_v
 = 
v
; 
	gbe¡_w
 = 
w
 + 1; be¡_scÜğ
s
; }

41508 ià(
	gx
<
width
(è- 1 && (
is_upd©ed
(
x
 + 1,
y
,
z
)&
	gcmask
)) {

41509 
	gu
 = 
a_m­
(
x
 + 1,
y
,
z
,0);

41510 
	gv
 = 
a_m­
(
x
 + 1,
y
,
z
,1);

41511 
	gw
 = 
a_m­
(
x
 + 1,
y
,
z
,2);

41512 ià(
	gu
>=
cx1
 + 1 && 
u
<
·tch_image
.
width
(è+ 1 - 
cx2
 &&

41513 
v
>=
cy1
 && v<
·tch_image
.
height
(è- 
cy2
 &&

41514 
w
>=
cz1
 && w<
·tch_image
.
d•th
(è- 
cz2
) {

41515 
s
 = 
_m©ch·tch
(
š_this
,
š_·tch
,
occ
,
·tch_width
,
·tch_height
,
·tch_d•th
,
_¥eùrum
,

41516 
xp
,
yp
,
zp
,
u
 - 1 - 
cx1
,
v
 - 
cy1
,
w
 - 
cz1
,

41517 
u
,
v
,
w
,
_·tch_³Çliz©iÚ
,
®low_id’t™y
,
be¡_scÜe
);

41518 ià(
	gs
<
	gbe¡_scÜe
è{ 
	gbe¡_u
 = 
u
 - 1; 
	gbe¡_v
 = 
v
; 
	gbe¡_w
 = 
w
; be¡_scÜğ
s
; }

41521 ià(
	gy
<
height
(è- 1 && (
is_upd©ed
(
x
,
y
 + 1,
z
)&
	gcmask
)) {

41522 
	gu
 = 
a_m­
(
x
,
y
 + 1,
z
,0);

41523 
	gv
 = 
a_m­
(
x
,
y
 + 1,
z
,1);

41524 
	gw
 = 
a_m­
(
x
,
y
 + 1,
z
,2);

41525 ià(
	gu
>=
cx1
 && 
u
<
·tch_image
.
width
(è- 
cx2
 &&

41526 
v
>=
cy1
 + 1 && v<
·tch_image
.
height
(è+ 1 - 
cy2
 &&

41527 
w
>=
cz1
 && w<
·tch_image
.
d•th
(è- 
cz2
) {

41528 
s
 = 
_m©ch·tch
(
š_this
,
š_·tch
,
occ
,
·tch_width
,
·tch_height
,
·tch_d•th
,
_¥eùrum
,

41529 
xp
,
yp
,
zp
,
u
 - 
cx1
,
v
 - 1 - 
cy1
,
w
 - 
cz1
,

41530 
u
,
v
,
w
,
_·tch_³Çliz©iÚ
,
®low_id’t™y
,
be¡_scÜe
);

41531 ià(
	gs
<
	gbe¡_scÜe
è{ 
	gbe¡_u
 = 
u
; 
	gbe¡_v
 = 
v
 - 1; 
	gbe¡_w
 = 
w
; be¡_scÜğ
s
; }

41534 ià(
	gz
<
d•th
(è- 1 && (
is_upd©ed
(
x
,
y
,
z
 + 1)&
	gcmask
)) {

41535 
	gu
 = 
a_m­
(
x
,
y
,
z
 + 1,0);

41536 
	gv
 = 
a_m­
(
x
,
y
,
z
 + 1,1);

41537 
	gw
 = 
a_m­
(
x
,
y
,
z
 + 1,2);

41538 ià(
	gu
>=
cx1
 && 
u
<
·tch_image
.
width
(è- 
cx2
 &&

41539 
v
>=
cy1
 && v<
·tch_image
.
height
(è- 
cy2
 &&

41540 
w
>=
cz1
 + 1 && w<
·tch_image
.
d•th
(è+ 1 - 
cz2
) {

41541 
s
 = 
_m©ch·tch
(
š_this
,
š_·tch
,
occ
,
·tch_width
,
·tch_height
,
·tch_d•th
,
_¥eùrum
,

41542 
xp
,
yp
,
zp
,
u
 - 
cx1
,
v
 - 
cy1
,
w
 - 1 - 
cz1
,

41543 
u
,
v
,
w
,
_·tch_³Çliz©iÚ
,
®low_id’t™y
,
be¡_scÜe
);

41544 ià(
	gs
<
	gbe¡_scÜe
è{ 
	gbe¡_u
 = 
u
; 
	gbe¡_v
 = 
v
; 
	gbe¡_w
 = 
w
 - 1; be¡_scÜğ
s
; }

41549 
	gdw
 = ()
·tch_image
.
width
(),

41550 
	gdh
 = ()
·tch_image
.
height
(),

41551 
	gdd
 = ()
·tch_image
.
d•th
();

41552 
	gi
 = 0; i<
	gnb_¿ndoms
; ++i) {

41553 
	gu
 = ()
cimg
::
round
(cimg::
¿nd
(
¡d
::
max
(()
cx1
,
be¡_u
 - 
dw
),

41554 
¡d
::
mš
(
·tch_image
.
width
(è- 1.à- 
cx2
,
be¡_u
 + 
dw
),&
ºg
));

41555 
	gv
 = ()
cimg
::
round
(cimg::
¿nd
(
¡d
::
max
(()
cy1
,
be¡_v
 - 
dh
),

41556 
¡d
::
mš
(
·tch_image
.
height
(è- 1.à- 
cy2
,
be¡_v
 + 
dh
),&
ºg
));

41557 
	gw
 = ()
cimg
::
round
(cimg::
¿nd
(
¡d
::
max
(()
cz1
,
be¡_w
 - 
dd
),

41558 
¡d
::
mš
(
·tch_image
.
d•th
(è- 1.à- 
cz2
,
be¡_w
 + 
dd
),&
ºg
));

41559 ià(
	gu
!=
be¡_u
 || 
v
!=
be¡_v
 || 
w
!=
be¡_w
) {

41560 
s
 = 
_m©ch·tch
(
š_this
,
š_·tch
,
occ
,
·tch_width
,
·tch_height
,
·tch_d•th
,
_¥eùrum
,

41561 
xp
,
yp
,
zp
,
u
 - 
cx1
,
v
 - 
cy1
,
w
 - 
cz1
,

41562 
u
,
v
,
w
,
_·tch_³Çliz©iÚ
,
®low_id’t™y
,
be¡_scÜe
);

41563 ià(
	gs
<
	gbe¡_scÜe
è{ 
	gbe¡_u
 = 
u
; 
	gbe¡_v
 = 
v
; 
	gbe¡_w
 = 
w
; be¡_scÜğ
s
; }

41564 
	gdw
 = 
¡d
::
max
(5.f,
dw
*0.5f); 
	gdh
 = std::max(5.f,
dh
*0.5f); 
	gdd
 = std::max(5.f,
dd
*0.5f);

41568 ià(
	gbe¡_scÜe
<
	gbe¡_scÜe0
) {

41569 ià(
	g_·tch_³Çliz©iÚ
!=0) {

41570 
uštT
 &
n_occ
 = 
occ
(
a_m­
(
x
,
y
,
z
,0),a_map(x,y,z,1),a_map(x,y,z,2));

41571 ià(
	gn_occ
è
cimg_´agma_İ’mp
(
©omic
) --n_occ;

41573 
a_m­
(
x
,
y
,
z
,0èğ
be¡_u
;

41574 
a_m­
(
x
,
y
,
z
,1èğ
be¡_v
;

41575 
a_m­
(
x
,
y
,
z
,2èğ
be¡_w
;

41576 
scÜe
(
x
,
y
,
z
èğ
be¡_scÜe
;

41577 
is_upd©ed
(
x
,
y
,
z
) = 3;

41578 } 
is_upd©ed
(
x
,
y
,
z
)&=~
nmask
;

41579 ià(
	g_·tch_³Çliz©iÚ
!=0è
cimg_´agma_İ’mp
(
©omic
è++
occ
(
be¡_u
,
be¡_v
,
be¡_w
);

41581 
	gcimg
::
¤ªd
(
ºg
);

41588 ià(
	gguide
)

41589 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
_width
,64))

41590 
cimg_fÜXY
(*
this
,
x
,
y
) {

41592 
	gcx1
 = 
x
<=
psizew1
?x:(x<
width
(è- 
psizew2
?psizew1:
psizew
 + x - width()), 
	gcx2
 =…sizew - 
cx1
 - 1,

41593 
	gcy1
 = 
y
<=
psizeh1
?y:(y<
height
(è- 
psizeh2
?psizeh1:
psizeh
 + y - height()), 
	gcy2
 =…sizeh - 
cy1
 - 1,

41594 
	gu
 = 
cimg
::
cut
(()
guide
(
x
,
y
,0),
cx1
,
·tch_image
.
width
(è- 1 - 
cx2
),

41595 
	gv
 = 
cimg
::
cut
(()
guide
(
x
,
y
,1),
cy1
,
·tch_image
.
height
(è- 1 - 
cy2
);

41596 
a_m­
(
x
,
y
,0èğ
u
;

41597 
a_m­
(
x
,
y
,1èğ
v
;

41598 
scÜe
(
x
,
y
èğ
_m©ch·tch
(
š_this
,
š_·tch
,
occ
,
·tch_width
,
·tch_height
,
_¥eùrum
,

41599 
x
 - 
cx1
,
y
 - 
cy1
,
u
 - cx1,
v
 - cy1,

41600 
u
,
v
,0,
®low_id’t™y
,
cimg
::
ty³
<>::
šf
());

41601 } 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
_width
,64)) {

41602 
cimg_ušt64
 
	gºg
 = (
cimg
::
_¿nd
(),
	gcimg
::
ºg
());

41604 #ià
cimg_u£_İ’mp
!=0

41605 
	gºg
+=
omp_g‘_th»ad_num
();

41607 
cimg_´agma_İ’mp
()

41608 
cimg_fÜXY
(*
this
,
x
,
y
) {

41610 
	gcx1
 = 
x
<=
psizew1
?x:(x<
width
(è- 
psizew2
?psizew1:
psizew
 + x - width()), 
	gcx2
 =…sizew - 
cx1
 - 1,

41611 
	gcy1
 = 
y
<=
psizeh1
?y:(y<
height
(è- 
psizeh2
?psizeh1:
psizeh
 + y - height()), 
	gcy2
 =…sizeh - 
cy1
 - 1,

41612 
	gu
 = ()
cimg
::
round
(cimg::
¿nd
(
cx1
,
·tch_image
.
width
(è- 1 - 
cx2
,&
ºg
)),

41613 
	gv
 = ()
cimg
::
round
(cimg::
¿nd
(
cy1
,
·tch_image
.
height
(è- 1 - 
cy2
,&
ºg
));

41614 
a_m­
(
x
,
y
,0èğ
u
;

41615 
a_m­
(
x
,
y
,1èğ
v
;

41616 
scÜe
(
x
,
y
èğ
_m©ch·tch
(
š_this
,
š_·tch
,
occ
,
·tch_width
,
·tch_height
,
_¥eùrum
,

41617 
x
 - 
cx1
,
y
 - 
cy1
,
u
 - cx1,
v
 - cy1,

41618 
u
,
v
,0,
®low_id’t™y
,
cimg
::
ty³
<>::
šf
());

41620 
	gcimg
::
¤ªd
(
ºg
);

41624 
	gcimg_abÜt_š™
;

41625 
	g™”
 = 0; i‹r<
	gnb_™”©iÚs
; ++iter) {

41626 
	gcimg_abÜt_‹¡
;

41627 cÚ¡ 
boŞ
 
	gis_backw¬d
 = 
™”
&1;

41628 cÚ¡ 
	gcmask
 = 
is_backw¬d
?1:2, 
	gnmask
 = 3 - 
cmask
;

41630 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*64 &&

41631 
™”
<
nb_™”©iÚs
-2)) {

41632 
cimg_ušt64
 
ºg
 = (
cimg
::
_¿nd
(),
	gcimg
::rng());

41634 #ià
cimg_u£_İ’mp
!=0

41635 
	gºg
+=
omp_g‘_th»ad_num
();

41637 
cimg_´agma_İ’mp
()

41638 
cimg_fÜXY
(*
this
,
X
,
Y
) {

41640 
	gx
 = 
is_backw¬d
?
width
(è- 1 - 
X
:X,

41641 
	gy
 = 
is_backw¬d
?
height
(è- 1 - 
Y
:Y;

41642 ià(
scÜe
(
x
,
y
)<=1e-5 || (
cÚ¡¿št
 && 
guide
(x,y,constraint)!=0)) ;

41644 
	gcx1
 = 
x
<=
psizew1
?x:(x<
width
(è- 
psizew2
?psizew1:
psizew
 + x - width()), 
	gcx2
 =…sizew - 
cx1
 - 1,

41645 
	gcy1
 = 
y
<=
psizeh1
?y:(y<
height
(è- 
psizeh2
?psizeh1:
psizeh
 + y - height()), 
	gcy2
 =…sizeh - 
cy1
 - 1,

41646 
	gxp
 = 
x
 - 
cx1
,

41647 
	gyp
 = 
y
 - 
cy1
;

41649 
	gbe¡_u
 = 
a_m­
(
x
,
y
,0), 
	gbe¡_v
 =‡_m­(x,y,1), 
	gu
, 
	gv
;

41650 cÚ¡ 
	gbe¡_scÜe0
 = 
scÜe
(
x
,
y
);

41651 
	gbe¡_scÜe
 = 
be¡_scÜe0
, 
	gs
;

41653 ià(
	gx
>0 && (
is_upd©ed
(
x
 - 1,
y
)&
	gcmask
)) {

41654 
	gu
 = 
a_m­
(
x
 - 1,
y
,0);

41655 
	gv
 = 
a_m­
(
x
 - 1,
y
,1);

41656 ià(
	gu
>=
cx1
 - 1 && 
u
<
·tch_image
.
width
(è- 1 - 
cx2
 &&

41657 
v
>=
cy1
 && v<
·tch_image
.
height
(è- 
cy2
) {

41658 
s
 = 
_m©ch·tch
(
š_this
,
š_·tch
,
occ
,
·tch_width
,
·tch_height
,
_¥eùrum
,

41659 
xp
,
yp
,
u
 + 1 - 
cx1
,
v
 - 
cy1
,

41660 
u
,
v
,
_·tch_³Çliz©iÚ
,
®low_id’t™y
,
be¡_scÜe
);

41661 ià(
	gs
<
	gbe¡_scÜe
è{ 
	gbe¡_u
 = 
u
 + 1; 
	gbe¡_v
 = 
v
; be¡_scÜğ
s
; }

41664 ià(
	gy
>0 && (
is_upd©ed
(
x
,
y
 - 1)&
	gcmask
)) {

41665 
	gu
 = 
a_m­
(
x
,
y
 - 1,0);

41666 
	gv
 = 
a_m­
(
x
,
y
 - 1,1);

41667 ià(
	gu
>=
cx1
 && 
u
<
·tch_image
.
width
(è- 
cx2
 &&

41668 
v
>=
cy1
 - 1 && v<
·tch_image
.
height
(è- 1 - 
cy2
) {

41669 
s
 = 
_m©ch·tch
(
š_this
,
š_·tch
,
occ
,
·tch_width
,
·tch_height
,
_¥eùrum
,

41670 
xp
,
yp
,
u
 - 
cx1
,
v
 + 1 - 
cy1
,

41671 
u
,
v
,
_·tch_³Çliz©iÚ
,
®low_id’t™y
,
be¡_scÜe
);

41672 ià(
	gs
<
	gbe¡_scÜe
è{ 
	gbe¡_u
 = 
u
; 
	gbe¡_v
 = 
v
 + 1; be¡_scÜğ
s
; }

41675 ià(
	gx
<
width
(è- 1 && (
is_upd©ed
(
x
 + 1,
y
)&
	gcmask
)) {

41676 
	gu
 = 
a_m­
(
x
 + 1,
y
,0);

41677 
	gv
 = 
a_m­
(
x
 + 1,
y
,1);

41678 ià(
	gu
>=
cx1
 + 1 && 
u
<
·tch_image
.
width
(è+ 1 - 
cx2
 &&

41679 
v
>=
cy1
 && v<
·tch_image
.
height
(è- 
cy2
) {

41680 
s
 = 
_m©ch·tch
(
š_this
,
š_·tch
,
occ
,
·tch_width
,
·tch_height
,
_¥eùrum
,

41681 
xp
,
yp
,
u
 - 1 - 
cx1
,
v
 - 
cy1
,

41682 
u
,
v
,
_·tch_³Çliz©iÚ
,
®low_id’t™y
,
be¡_scÜe
);

41683 ià(
	gs
<
	gbe¡_scÜe
è{ 
	gbe¡_u
 = 
u
 - 1; 
	gbe¡_v
 = 
v
; be¡_scÜğ
s
; }

41686 ià(
	gy
<
height
(è- 1 && (
is_upd©ed
(
x
,
y
 + 1)&
	gcmask
)) {

41687 
	gu
 = 
a_m­
(
x
,
y
 + 1,0);

41688 
	gv
 = 
a_m­
(
x
,
y
 + 1,1);

41689 ià(
	gu
>=
cx1
 && 
u
<
·tch_image
.
width
(è- 
cx2
 &&

41690 
v
>=
cy1
 + 1 && v<
·tch_image
.
height
(è+ 1 - 
cy2
) {

41691 
s
 = 
_m©ch·tch
(
š_this
,
š_·tch
,
occ
,
·tch_width
,
·tch_height
,
_¥eùrum
,

41692 
xp
,
yp
,
u
 - 
cx1
,
v
 - 1 - 
cy1
,

41693 
u
,
v
,
_·tch_³Çliz©iÚ
,
®low_id’t™y
,
be¡_scÜe
);

41694 ià(
	gs
<
	gbe¡_scÜe
è{ 
	gbe¡_u
 = 
u
; 
	gbe¡_v
 = 
v
 - 1; be¡_scÜğ
s
; }

41699 
	gdw
 = ()
·tch_image
.
width
(),

41700 
	gdh
 = ()
·tch_image
.
height
();

41701 
	gi
 = 0; i<
	gnb_¿ndoms
; ++i) {

41702 
	gu
 = ()
cimg
::
round
(cimg::
¿nd
(
¡d
::
max
(()
cx1
,
be¡_u
 - 
dw
),

41703 
¡d
::
mš
(
·tch_image
.
width
(è- 1.à- 
cx2
,
be¡_u
 + 
dw
),&
ºg
));

41704 
	gv
 = ()
cimg
::
round
(cimg::
¿nd
(
¡d
::
max
(()
cy1
,
be¡_v
 - 
dh
),

41705 
¡d
::
mš
(
·tch_image
.
height
(è- 1.à- 
cy2
,
be¡_v
 + 
dh
),&
ºg
));

41706 ià(
	gu
!=
be¡_u
 || 
v
!=
be¡_v
) {

41707 
s
 = 
_m©ch·tch
(
š_this
,
š_·tch
,
occ
,
·tch_width
,
·tch_height
,
_¥eùrum
,

41708 
xp
,
yp
,
u
 - 
cx1
,
v
 - 
cy1
,

41709 
u
,
v
,
_·tch_³Çliz©iÚ
,
®low_id’t™y
,
be¡_scÜe
);

41710 ià(
	gs
<
	gbe¡_scÜe
è{ 
	gbe¡_u
 = 
u
; 
	gbe¡_v
 = 
v
; be¡_scÜğ
s
; }

41711 
	gdw
 = 
¡d
::
max
(5.f,
dw
*0.5f); 
	gdh
 = std::max(5.f,
dh
*0.5f);

41715 ià(
	gbe¡_scÜe
<
	gbe¡_scÜe0
) {

41716 ià(
	g_·tch_³Çliz©iÚ
!=0) {

41717 
uštT
 &
n_occ
 = 
occ
(
a_m­
(
x
,
y
,0),a_map(x,y,1));

41718 ià(
	gn_occ
è
cimg_´agma_İ’mp
(
©omic
) --n_occ;

41720 
a_m­
(
x
,
y
,0èğ
be¡_u
;

41721 
a_m­
(
x
,
y
,1èğ
be¡_v
;

41722 
scÜe
(
x
,
y
èğ
be¡_scÜe
;

41723 
is_upd©ed
(
x
,
y
) = 3;

41724 } 
is_upd©ed
(
x
,
y
)&=~
nmask
;

41725 ià(
	g_·tch_³Çliz©iÚ
!=0è
cimg_´agma_İ’mp
(
©omic
è++
occ
(
be¡_u
,
be¡_v
);

41727 
	gcimg
::
¤ªd
(
ºg
);

41732 ià(
	gis_m©chšg_scÜe
è
	gscÜe
.
move_to
(
m©chšg_scÜe
);

41733  
	ga_m­
;

41737 
_m©ch·tch
(cÚ¡ 
CImg
<
T
>& 
img1
, cÚ¡ CImg<T>& 
img2
, cÚ¡ CImg<
uštT
>& 
occ
,

41738 cÚ¡ 
psizew
, cÚ¡ 
psizeh
,

41739 cÚ¡ 
psized
, cÚ¡ 
psizec
,

41740 cÚ¡ 
x1
, cÚ¡ 
y1
, cÚ¡ 
z1
,

41741 cÚ¡ 
x2
, cÚ¡ 
y2
, cÚ¡ 
z2
,

41742 cÚ¡ 
xc
, cÚ¡ 
yc
, cÚ¡ 
zc
,

41743 cÚ¡ 
·tch_³Çliz©iÚ
,

41744 cÚ¡ 
boŞ
 
®low_id’t™y
,

41745 cÚ¡ 
max_scÜe
) {

41746 ià(!
	g®low_id’t™y
 && 
	gcimg
::
hypÙ
(()
x1
-
x2
,()
y1
-
y2
,()
z1
-
z2
)<
	g·tch_³Çliz©iÚ
)

41747  
	gcimg
::
ty³
<>::
šf
();

41748 cÚ¡ 
T
 *
	gp1
 = 
img1
.
d©a
(
x1
*
psizec
,
y1
,
z1
), *
	gp2
 = 
img2
.d©a(
x2
*psizec,
y2
,
z2
);

41749 cÚ¡ 
	gpsizewc
 = 
psizew
*
psizec
;

41750 cÚ¡ 
ulÚgT


41751 
	goffx1
 = (
ulÚgT
)
img1
.
_width
 - 
psizewc
,

41752 
	goffx2
 = (
ulÚgT
)
img2
.
_width
 - 
psizewc
,

41753 
	goffy1
 = (
ulÚgT
)
img1
.
_width
*img1.
_height
 - (ulÚgT)
psizeh
*img1._width,

41754 
	goffy2
 = (
ulÚgT
)
img2
.
_width
*img2.
_height
 - (ulÚgT)
psizeh
*img2._width;

41755 
	gssd
 = 0;

41756 
	gk
 = 0; k<
	gpsized
; ++k) {

41757 
	gj
 = 0; j<
	gpsizeh
; ++j) {

41758 
	gi
 = 0; i<
	gpsizewc
; ++i)

41759 
	gssd
 +ğ
cimg
::
sqr
((
Tæßt
)*(
p1
++è- *(
p2
++));

41760 ià(
	gssd
>
	gmax_scÜe
)  max_score;

41761 
	gp1
+=
offx1
; 
	gp2
+=
offx2
;

41763 
	gp1
+=
offy1
; 
	gp2
+=
offy2
;

41765  
	g·tch_³Çliz©iÚ
==0?
ssd
:
cimg
::
sqr
(
¡d
::
sq¹
(ssd) +

41766 
·tch_³Çliz©iÚ
*
psizewc
*
psizeh
*
psized
*
occ
(
xc
,
yc
,
zc
)/100);

41769 
_m©ch·tch
(cÚ¡ 
CImg
<
T
>& 
img1
, cÚ¡ CImg<T>& 
img2
, cÚ¡ CImg<
uštT
>& 
occ
,

41770 cÚ¡ 
psizew
, cÚ¡ 
psizeh
, cÚ¡ 
psizec
,

41771 cÚ¡ 
x1
, cÚ¡ 
y1
,

41772 cÚ¡ 
x2
, cÚ¡ 
y2
,

41773 cÚ¡ 
xc
, cÚ¡ 
yc
,

41774 cÚ¡ 
·tch_³Çliz©iÚ
,

41775 cÚ¡ 
boŞ
 
®low_id’t™y
,

41776 cÚ¡ 
max_scÜe
) {

41777 ià(!
	g®low_id’t™y
 && 
	gcimg
::
hypÙ
(()
x1
-
x2
,()
y1
-
y2
)<
	g·tch_³Çliz©iÚ
)

41778  
	gcimg
::
ty³
<>::
šf
();

41779 cÚ¡ 
T
 *
	gp1
 = 
img1
.
d©a
(
x1
*
psizec
,
y1
), *
	gp2
 = 
img2
.d©a(
x2
*psizec,
y2
);

41780 cÚ¡ 
	gpsizewc
 = 
psizew
*
psizec
;

41781 cÚ¡ 
ulÚgT


41782 
	goffx1
 = (
ulÚgT
)
img1
.
_width
 - 
psizewc
,

41783 
	goffx2
 = (
ulÚgT
)
img2
.
_width
 - 
psizewc
;

41784 
	gssd
 = 0;

41785 
	gj
 = 0; j<
	gpsizeh
; ++j) {

41786 
	gi
 = 0; i<
	gpsizewc
; ++i)

41787 
	gssd
 +ğ
cimg
::
sqr
((
Tæßt
)*(
p1
++è- *(
p2
++));

41788 ià(
	gssd
>
	gmax_scÜe
)  max_score;

41789 
	gp1
+=
offx1
; 
	gp2
+=
offx2
;

41791  
	g·tch_³Çliz©iÚ
==0?
ssd
:
cimg
::
sqr
(
¡d
::
sq¹
(ssd) +

41792 
·tch_³Çliz©iÚ
*
psizewc
*
psizeh
*
occ
(
xc
,
yc
)/100);

41807 
	gCImg
<
	gT
>& 
di¡ªû
(cÚ¡ 
T
& 
v®ue
, cÚ¡ 
m‘ric
=2) {

41808 ià(
is_em±y
()è *
this
;

41809 ià(
	gcimg
::
ty³
<
Tšt
>::
¡ršg
()!=
cimg
::ty³<
T
>::string())

41810  
CImg
<
Tšt
>(*
this
,
	gçl£
).
di¡ªû
((Tšt)
v®ue
,
m‘ric
).

41811 
cut
((
Tšt
)
cimg
::
ty³
<
T
>::
mš
(),(Tšt)cimg::ty³<T>::
max
()).
move_to
(*
this
);

41812 
boŞ
 
	gis_v®ue
 = 
çl£
;

41813 
cimg_fÜ
(*
this
,
±r
,
T
è*
	g±r
 = *±r==
v®ue
?
is_v®ue
=
Œue
,(
	gT
)0:(T)
¡d
::
max
(0,99999999);

41814 ià(!
	gis_v®ue
è 
fl
(
cimg
::
ty³
<
T
>::
max
());

41815 
	gm‘ric
) {

41816 0 :  
_di¡ªû_cÜe
(
_di¡ªû_£p_cdt
,
_di¡ªû_di¡_cdt
);

41817 1 :  
_di¡ªû_cÜe
(
_di¡ªû_£p_mdt
,
_di¡ªû_di¡_mdt
);

41818 3 :  
_di¡ªû_cÜe
(
_di¡ªû_£p_edt
,
_di¡ªû_di¡_edt
);

41819  :  
_di¡ªû_cÜe
(
_di¡ªû_£p_edt
,
_di¡ªû_di¡_edt
).
sq¹
();

41821  *
	gthis
;

41825 
	gCImg
<
	gTæßt
> 
g‘_di¡ªû
(cÚ¡ 
T
& 
v®ue
, cÚ¡ 
m‘ric
=2) const {

41826  
CImg
<
Tæßt
>(*
this
,
çl£
).
di¡ªû
((Tæßt)
v®ue
,
m‘ric
);

41829 
lÚgT
 
_di¡ªû_£p_edt
(cÚ¡†ÚgT 
i
, cÚ¡†ÚgT 
u
, cÚ¡†ÚgT *cÚ¡ 
g
) {

41830  (
u
*
	gu
 - 
i
*
	gi
 + 
	gg
[u] - g[i])/(2*(u - i));

41833 
lÚgT
 
_di¡ªû_di¡_edt
(cÚ¡†ÚgT 
x
, cÚ¡†ÚgT 
i
, cÚ¡†ÚgT *cÚ¡ 
g
) {

41834  (
	gx
 - 
	gi
)*(x - iè+ 
	gg
[
i
];

41837 
lÚgT
 
_di¡ªû_£p_mdt
(cÚ¡†ÚgT 
i
, cÚ¡†ÚgT 
u
, cÚ¡†ÚgT *cÚ¡ 
g
) {

41838  (
	gu
 - 
	gi
<=
g
[
u
] - g[
i
]?999999999:(g[u] - g[i] + u + i)/2);

41841 
lÚgT
 
_di¡ªû_di¡_mdt
(cÚ¡†ÚgT 
x
, cÚ¡†ÚgT 
i
, cÚ¡†ÚgT *cÚ¡ 
g
) {

41842  (
	gx
<
	gi
?˜- x:
x
 - 
i
è+ 
g
[i];

41845 
lÚgT
 
_di¡ªû_£p_cdt
(cÚ¡†ÚgT 
i
, cÚ¡†ÚgT 
u
, cÚ¡†ÚgT *cÚ¡ 
g
) {

41846 cÚ¡ 
lÚgT
 
	gh
 = (
i
 + 
u
)/2;

41847 ià(
	gg
[
i
]<=
g
[
u
]è{  
h
<i + g[u]?i + g[u]:h; }

41848  
	gh
<
	gu
 - 
	gg
[
i
]?h:
u
 - 
g
[i];

41851 
lÚgT
 
_di¡ªû_di¡_cdt
(cÚ¡†ÚgT 
x
, cÚ¡†ÚgT 
i
, cÚ¡†ÚgT *cÚ¡ 
g
) {

41852 cÚ¡ 
lÚgT
 
	gd
 = 
x
<
i
?i - x:x - i;

41853  
	gd
<
	gg
[
i
]?g[i]:
d
;

41856 
_di¡ªû_sÿn
(cÚ¡ 
Ën
,

41857 cÚ¡ 
lÚgT
 *cÚ¡ 
g
,

41858 
lÚgT
 (*cÚ¡ 
£p
)(const†ongT, const†ongT, const†ongT *const),

41859 
lÚgT
 (*cÚ¡ 
f
)(const†ongT, const†ongT, const†ongT *const),

41860 
lÚgT
 *cÚ¡ 
s
,

41861 
lÚgT
 *cÚ¡ 
t
,

41862 
lÚgT
 *cÚ¡ 
dt
) {

41863 
lÚgT
 
	gq
 = 
s
[0] = 
t
[0] = 0;

41864 
	gu
 = 1; u<()
	gËn
; ++u) {

41865 (
	gq
>=0è&& 
f
(
t
[
q
],
s
[q],
g
)>fÑ[q],
u
,g)) { --q; }

41866 ià(
	gq
<0è{ q = 0; 
	gs
[0] = 
u
; }

41867 { cÚ¡ 
lÚgT
 
	gw
 = 1 + 
£p
(
s
[
q
], 
u
, 
g
); ià(w<(
	glÚgT
)
	gËn
è{ ++
	gq
; 
	gs
[q] = u; 
	gt
[q] = 
w
; }}

41869 
	gu
 = ()
Ën
 - 1; u>=0; --uè{ 
	gdt
[
u
] = 
f
(u,
s
[
q
],
g
); ià(u==
t
[q]) --q; }

41872 
	gCImg
<
	gT
>& 
_di¡ªû_cÜe
(
lÚgT
 (*cÚ¡ 
£p
)(const†ongT, const†ongT, const†ongT *const),

41873 
lÚgT
 (*cÚ¡ 
f
)(const†ongT, const†ongT, const†ongT *const)) {

41875 
	#cimg_is_gcc49x
 (
__GNUC__
==4 && 
__GNUC_MINOR__
==9)

	)

41877 cÚ¡ 
ulÚgT
 
	gwh
 = (ulÚgT)
_width
*
_height
;

41878 #ià
cimg_u£_İ’mp
!=0 && !
cimg_is_gcc49x


41879 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_¥eùrum
>=2))

41881 
cimg_fÜC
(*
this
,
c
) {

41882 
	gCImg
<
	glÚgT
> 
g
(
_width
), 
dt
(_width), 
s
(_width), 
t
(_width);

41883 
	gCImg
<
	gT
> 
	gimg
 = 
g‘_sh¬ed_chªÃl
(
c
);

41884 #ià
cimg_u£_İ’mp
!=0 && !
cimg_is_gcc49x


41885 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2è
cimg_İ’mp_if
(
_width
>=(
cimg_İ’mp_sizeçùÜ
)*512 &&

41886 
_height
*
_d•th
>=16)

41887 
fœ¡´iv©e
(
g
,
dt
,
s
,
t
))

41889 
cimg_fÜYZ
(*
this
,
y
,
z
) {

41890 
cimg_fÜX
(*
this
,
x
è
	gg
[x] = (
lÚgT
)
img
(x,
y
,
z
,0,
wh
);

41891 
_di¡ªû_sÿn
(
_width
,
g
,
£p
,
f
,
s
,
t
,
dt
);

41892 
cimg_fÜX
(*
this
,
x
è
img
(x,
y
,
z
,0,
wh
èğ(
T
)
dt
[x];

41894 ià(
	g_height
>1) {

41895 
	gg
.
assign
(
_height
); 
	gdt
.assign(_height); 
	gs
.assign(_height); 
	gt
.assign(_height);

41896 #ià
cimg_u£_İ’mp
!=0 && !
cimg_is_gcc49x


41897 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2)

41898 
cimg_İ’mp_if
(
_height
>=(
cimg_İ’mp_sizeçùÜ
)*512 && 
_width
*
_d•th
>=16)

41899 
fœ¡´iv©e
(
g
,
dt
,
s
,
t
))

41901 
cimg_fÜXZ
(*
this
,
x
,
z
) {

41902 
cimg_fÜY
(*
this
,
y
è
	gg
[y] = (
lÚgT
)
img
(
x
,y,
z
,0,
wh
);

41903 
_di¡ªû_sÿn
(
_height
,
g
,
£p
,
f
,
s
,
t
,
dt
);

41904 
cimg_fÜY
(*
this
,
y
è
img
(
x
,y,
z
,0,
wh
èğ(
T
)
dt
[y];

41907 ià(
	g_d•th
>1) {

41908 
	gg
.
assign
(
_d•th
); 
	gdt
.assign(_d•th); 
	gs
.assign(_d•th); 
	gt
.assign(_depth);

41909 #ià
cimg_u£_İ’mp
!=0 && !
cimg_is_gcc49x


41910 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2)

41911 
cimg_İ’mp_if
(
_d•th
>=(
cimg_İ’mp_sizeçùÜ
)*512 && 
_width
*
_height
>=16)

41912 
fœ¡´iv©e
(
g
,
dt
,
s
,
t
))

41914 
cimg_fÜXY
(*
this
,
x
,
y
) {

41915 
cimg_fÜZ
(*
this
,
z
è
	gg
[z] = (
lÚgT
)
img
(
x
,
y
,z,0,
wh
);

41916 
_di¡ªû_sÿn
(
_d•th
,
g
,
£p
,
f
,
s
,
t
,
dt
);

41917 
cimg_fÜZ
(*
this
,
z
è
img
(
x
,
y
,z,0,
wh
èğ(
T
)
dt
[z];

41921  *
	gthis
;

41930 
	g‹m¶©e
<
ty³Çme
 
	gt
>

41931 
	gCImg
<
	gT
>& 
di¡ªû
(cÚ¡ 
T
& 
v®ue
, cÚ¡ 
CImg
<
t
>& 
m‘ric_mask
) {

41932 ià(
is_em±y
()è *
	gthis
;

41933 
boŞ
 
	gis_v®ue
 = 
çl£
;

41934 
cimg_fÜ
(*
this
,
±r
,
T
è*
	g±r
 = *±r==
v®ue
?
is_v®ue
=
Œue
,0:(T)999999999;

41935 ià(!
	gis_v®ue
è 
fl
(
cimg
::
ty³
<
T
>::
max
());

41936 cÚ¡ 
ulÚgT
 
	gwh
 = (ulÚgT)
_width
*
_height
;

41937 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_¥eùrum
>=2))

41938 
cimg_fÜC
(*
this
,
c
) {

41939 
	gCImg
<
	gT
> 
	gimg
 = 
g‘_sh¬ed_chªÃl
(
c
);

41940 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(3)

41941 
cimg_İ’mp_if
(
_width
*
_height
*
_d•th
>=(
cimg_İ’mp_sizeçùÜ
)*1024))

41942 
cimg_fÜXYZ
(
m‘ric_mask
,
dx
,
dy
,
dz
) {

41943 cÚ¡ 
t
 
	gweight
 = 
m‘ric_mask
(
dx
,
dy
,
dz
);

41944 ià(
	gweight
) {

41945 
	gz
 = 
dz
, 
	gnz
 = 0; z<
d•th
(); ++z,++nz) {

41946 
	gy
 = 
dy
 , 
	gny
 = 0; y<
height
(); ++y,++ny) {

41947 
	gx
 = 
dx
, 
	gnx
 = 0; x<
width
(); ++x,++nx) {

41948 cÚ¡ 
T
 
	gdd
 = 
img
(
nx
,
ny
,
nz
,0,
wh
è+ 
	gweight
;

41949 ià(
	gdd
<
img
(
x
,
y
,
z
,0,
wh
)èimg(x,y,z,0,whèğ
dd
;

41953 
	gz
 = 
d•th
(è- 1 - 
dz
, 
	gnz
 = depth() - 1; z>=0; --z,--nz) {

41954 
	gy
 = 
height
(è- 1 - 
dy
, 
	gny
 = height() - 1; y>=0; --y,--ny) {

41955 
	gx
 = 
width
(è- 1 - 
dx
, 
	gnx
 = width() - 1; x>=0; --x,--nx) {

41956 cÚ¡ 
T
 
	gdd
 = 
img
(
nx
,
ny
,
nz
,0,
wh
è+ 
	gweight
;

41957 ià(
	gdd
<
img
(
x
,
y
,
z
,0,
wh
)èimg(x,y,z,0,whèğ
dd
;

41964  *
	gthis
;

41968 
	g‹m¶©e
<
ty³Çme
 
	gt
>

41969 
	gCImg
<
	gTæßt
> 
g‘_di¡ªû
(cÚ¡ 
T
& 
v®ue
, cÚ¡ 
CImg
<
t
>& 
m‘ric_mask
) const {

41970  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
).
di¡ªû
(
v®ue
,
m‘ric_mask
);

41980 
	g‹m¶©e
<
ty³Çme
 
	gt
,y³Çm
	gto
>

41981 
	gCImg
<
	gT
>& 
di¡ªû_dijk¡¿
(cÚ¡ 
T
& 
v®ue
, cÚ¡ 
CImg
<
t
>& 
m‘ric
, cÚ¡ 
boŞ
 
is_high_cÚÃùiv™y
,

41982 
CImg
<
to
>& 
»tuº_·th
) {

41983  
g‘_di¡ªû_dijk¡¿
(
v®ue
,
m‘ric
,
is_high_cÚÃùiv™y
,
»tuº_·th
).
move_to
(*
this
);

41987 
	g‹m¶©e
<
ty³Çme
 
	gt
,y³Çm
	gto
>

41988 
	gCImg
<
ty³Çme
 
	gcimg
::
su³r£t
<
t
,>::
ty³
>

41989 
g‘_di¡ªû_dijk¡¿
(cÚ¡ 
T
& 
v®ue
, cÚ¡ 
CImg
<
t
>& 
m‘ric
, cÚ¡ 
boŞ
 
is_high_cÚÃùiv™y
,

41990 
CImg
<
to
>& 
»tuº_·th
) const {

41991 ià(
is_em±y
()è 
	g»tuº_·th
.
assign
();

41992 ià(!
is_§meXYZ
(
m‘ric
))

41993 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


41996 
cimg_š¡ªû
,

41997 
m‘ric
.
_width
,m‘ric.
_height
,m‘ric.
_d•th
,m‘ric.
_¥eùrum
);

41998 
ty³Çme
 
	tcimg
::
	tsu³r£t
<
	tt
,>::
	tty³
 
	ttd
;

41999 
	gCImg
<
	gtd
> 
»suÉ
(
_width
,
_height
,
_d•th
,
_¥eùrum
), 
	gQ
;

42000 
	gCImg
<
	gboŞT
> 
is_queued
(
_width
,
_height
,
_d•th
,1);

42001 ià(
	g»tuº_·th
è»tuº_·th.
assign
(
_width
,
_height
,
_d•th
,
_¥eùrum
);

42003 
cimg_fÜC
(*
this
,
c
) {

42004 cÚ¡ 
	gCImg
<
	gT
> 
	gimg
 = 
g‘_sh¬ed_chªÃl
(
c
);

42005 cÚ¡ 
	gCImg
<
	gt
> 
	gm‘
 = 
m‘ric
.
g‘_sh¬ed_chªÃl
(
c
%m‘ric.
_¥eùrum
);

42006 
	gCImg
<
	gtd
> 
	g»s
 = 
»suÉ
.
g‘_sh¬ed_chªÃl
(
c
);

42007 
	gCImg
<
	gto
> 
	g·th
 = 
»tuº_·th
?»tuº_·th.
g‘_sh¬ed_chªÃl
(
c
):
CImg
<
to
>();

42008 
	gsizeQ
 = 0;

42011 
	gis_queued
.
fl
(0);

42012 
cimg_fÜXYZ
(
img
,
x
,
y
,
z
èià(img(x,y,z)==
v®ue
) {

42013 
Q
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,0,
x
,
y
,
z
);

42014 
»s
(
x
,
y
,
z
) = 0;

42015 ià(
	g·th
è
·th
(
x
,
y
,
z
èğ(
to
)0;

42019 
	gsizeQ
) {

42022 cÚ¡ 
	gx
 = ()
Q
(0,1), 
	gy
 = ()Q(0,2), 
	gz
 = ()Q(0,3);

42023 cÚ¡ 
td
 
	gP
 = (td)-
Q
(0,0);

42024 
	gQ
.
_´iÜ™y_queue_»move
(
sizeQ
);

42027 
td
 
	gÅÙ
 = 0;

42028 ià(
	gx
 - 1>=0 && 
Q
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,-(
ÅÙ
=
m‘
(
x
 - 1,
y
,
z
è+ 
P
),x - 1,y,z)) {

42029 
»s
(
x
 - 1,
y
,
z
èğ
ÅÙ
; ià(
	g·th
è
·th
(x - 1,y,zèğ(
to
)2;

42031 ià(
	gx
 + 1<
width
(è&& 
	gQ
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,-(
ÅÙ
=
m‘
(
x
 + 1,
y
,
z
è+ 
P
),x + 1,y,z)) {

42032 
»s
(
x
 + 1,
y
,
z
èğ
ÅÙ
; ià(
	g·th
è
·th
(x + 1,y,zèğ(
to
)1;

42034 ià(
	gy
 - 1>=0 && 
Q
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,-(
ÅÙ
=
m‘
(
x
,
y
 - 1,
z
è+ 
P
),x,y - 1,z)) {

42035 
»s
(
x
,
y
 - 1,
z
èğ
ÅÙ
; ià(
	g·th
è
·th
(x,y - 1,zèğ(
to
)8;

42037 ià(
	gy
 + 1<
height
(è&& 
	gQ
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,-(
ÅÙ
=
m‘
(
x
,
y
 + 1,
z
è+ 
P
),x,y + 1,z)) {

42038 
»s
(
x
,
y
 + 1,
z
èğ
ÅÙ
; ià(
	g·th
è
·th
(x,y + 1,zèğ(
to
)4;

42040 ià(
	gz
 - 1>=0 && 
Q
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,-(
ÅÙ
=
m‘
(
x
,
y
,
z
 - 1è+ 
P
),x,y,z - 1)) {

42041 
»s
(
x
,
y
,
z
 - 1èğ
ÅÙ
; ià(
	g·th
è
·th
(x,y,z - 1èğ(
to
)32;

42043 ià(
	gz
 + 1<
d•th
(è&& 
	gQ
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,-(
ÅÙ
=
m‘
(
x
,
y
,
z
 + 1è+ 
P
),x,y,z + 1)) {

42044 
»s
(
x
,
y
,
z
 + 1èğ
ÅÙ
; ià(
	g·th
è
·th
(x,y,z + 1èğ(
to
)16;

42047 ià(
	gis_high_cÚÃùiv™y
) {

42048 cÚ¡ 
	gsq¹2
 = 
¡d
::
sq¹
(2.f), 
	gsq¹3
 = std::sqrt(3.f);

42051 ià(
	gx
 - 1>=0 && 
y
 - 1>=0 &&

42052 
Q
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,-(
ÅÙ
=(
td
)(
sq¹2
*
m‘
(
x
 - 1,
y
 - 1,
z
è+ 
P
)),x - 1,y - 1,z)) {

42053 
»s
(
x
 - 1,
y
 - 1,
z
èğ
ÅÙ
; ià(
	g·th
è
·th
(x - 1,y - 1,zèğ(
to
)10;

42055 ià(
	gx
 + 1<
width
(è&& 
	gy
 - 1>=0 &&

42056 
Q
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,-(
ÅÙ
=(
td
)(
sq¹2
*
m‘
(
x
 + 1,
y
 - 1,
z
è+ 
P
)),x + 1,y - 1,z)) {

42057 
»s
(
x
 + 1,
y
 - 1,
z
èğ
ÅÙ
; ià(
	g·th
è
·th
(x + 1,y - 1,zèğ(
to
)9;

42059 ià(
	gx
 - 1>=0 && 
y
 + 1<
height
() &&

42060 
Q
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,-(
ÅÙ
=(
td
)(
sq¹2
*
m‘
(
x
 - 1,
y
 + 1,
z
è+ 
P
)),x - 1,y + 1,z)) {

42061 
»s
(
x
 - 1,
y
 + 1,
z
èğ
ÅÙ
; ià(
	g·th
è
·th
(x - 1,y + 1,zèğ(
to
)6;

42063 ià(
	gx
 + 1<
width
(è&& 
	gy
 + 1<
height
() &&

42064 
	gQ
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,-(
ÅÙ
=(
td
)(
sq¹2
*
m‘
(
x
 + 1,
y
 + 1,
z
è+ 
P
)),x + 1,y + 1,z)) {

42065 
»s
(
x
 + 1,
y
 + 1,
z
èğ
ÅÙ
; ià(
	g·th
è
·th
(x + 1,y + 1,zèğ(
to
)5;

42068 ià(
	gz
 - 1>=0) {

42069 ià(
x
 - 1>=0 &&

42070 
Q
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,-(
ÅÙ
=(
td
)(
sq¹2
*
m‘
(
x
 - 1,
y
,
z
 - 1è+ 
P
)),x - 1,y,z - 1)) {

42071 
»s
(
x
 - 1,
y
,
z
 - 1èğ
ÅÙ
; ià(
	g·th
è
·th
(x - 1,y,z - 1èğ(
to
)34;

42073 ià(
	gx
 + 1<
width
() &&

42074 
	gQ
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,-(
ÅÙ
=(
td
)(
sq¹2
*
m‘
(
x
 + 1,
y
,
z
 - 1è+ 
P
)),x + 1,y,z - 1)) {

42075 
»s
(
x
 + 1,
y
,
z
 - 1èğ
ÅÙ
; ià(
	g·th
è
·th
(x + 1,y,z - 1èğ(
to
)33;

42077 ià(
	gy
 - 1>=0 &&

42078 
Q
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,-(
ÅÙ
=(
td
)(
sq¹2
*
m‘
(
x
,
y
 - 1,
z
 - 1è+ 
P
)),x,y - 1,z - 1)) {

42079 
»s
(
x
,
y
 - 1,
z
 - 1èğ
ÅÙ
; ià(
	g·th
è
·th
(x,y - 1,z - 1èğ(
to
)40;

42081 ià(
	gy
 + 1<
height
() &&

42082 
	gQ
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,-(
ÅÙ
=(
td
)(
sq¹2
*
m‘
(
x
,
y
 + 1,
z
 - 1è+ 
P
)),x,y + 1,z - 1)) {

42083 
»s
(
x
,
y
 + 1,
z
 - 1èğ
ÅÙ
; ià(
	g·th
è
·th
(x,y + 1,z - 1èğ(
to
)36;

42085 ià(
	gx
 - 1>=0 && 
y
 - 1>=0 &&

42086 
Q
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,-(
ÅÙ
=(
td
)(
sq¹3
*
m‘
(
x
 - 1,
y
 - 1,
z
 - 1è+ 
P
)),

42087 
x
 - 1,
y
 - 1,
z
 - 1)) {

42088 
»s
(
x
 - 1,
y
 - 1,
z
 - 1èğ
ÅÙ
; ià(
	g·th
è
·th
(x - 1,y - 1,z - 1èğ(
to
)42;

42090 ià(
	gx
 + 1<
width
(è&& 
	gy
 - 1>=0 &&

42091 
Q
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,-(
ÅÙ
=(
td
)(
sq¹3
*
m‘
(
x
 + 1,
y
 - 1,
z
 - 1è+ 
P
)),

42092 
x
 + 1,
y
 - 1,
z
 - 1)) {

42093 
»s
(
x
 + 1,
y
 - 1,
z
 - 1èğ
ÅÙ
; ià(
	g·th
è
·th
(x + 1,y - 1,z - 1èğ(
to
)41;

42095 ià(
	gx
 - 1>=0 && 
y
 + 1<
height
() &&

42096 
Q
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,-(
ÅÙ
=(
td
)(
sq¹3
*
m‘
(
x
 - 1,
y
 + 1,
z
 - 1è+ 
P
)),

42097 
x
 - 1,
y
 + 1,
z
 - 1)) {

42098 
»s
(
x
 - 1,
y
 + 1,
z
 - 1èğ
ÅÙ
; ià(
	g·th
è
·th
(x - 1,y + 1,z - 1èğ(
to
)38;

42100 ià(
	gx
 + 1<
width
(è&& 
	gy
 + 1<
height
() &&

42101 
	gQ
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,-(
ÅÙ
=(
td
)(
sq¹3
*
m‘
(
x
 + 1,
y
 + 1,
z
 - 1è+ 
P
)),

42102 
x
 + 1,
y
 + 1,
z
 - 1)) {

42103 
»s
(
x
 + 1,
y
 + 1,
z
 - 1èğ
ÅÙ
; ià(
	g·th
è
·th
(x + 1,y + 1,z - 1èğ(
to
)37;

42107 ià(
	gz
 + 1<
d•th
()) {

42108 ià(
	gx
 - 1>=0 &&

42109 
Q
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,-(
ÅÙ
=(
td
)(
sq¹2
*
m‘
(
x
 - 1,
y
,
z
 + 1è+ 
P
)),x - 1,y,z + 1)) {

42110 
»s
(
x
 - 1,
y
,
z
 + 1èğ
ÅÙ
; ià(
	g·th
è
·th
(x - 1,y,z + 1èğ(
to
)18;

42112 ià(
	gx
 + 1<
width
() &&

42113 
	gQ
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,-(
ÅÙ
=(
td
)(
sq¹2
*
m‘
(
x
 + 1,
y
,
z
 + 1è+ 
P
)),x + 1,y,z + 1)) {

42114 
»s
(
x
 + 1,
y
,
z
 + 1èğ
ÅÙ
; ià(
	g·th
è
·th
(x + 1,y,z + 1èğ(
to
)17;

42116 ià(
	gy
 - 1>=0 &&

42117 
Q
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,-(
ÅÙ
=(
td
)(
sq¹2
*
m‘
(
x
,
y
 - 1,
z
 + 1è+ 
P
)),x,y - 1,z + 1)) {

42118 
»s
(
x
,
y
 - 1,
z
 + 1èğ
ÅÙ
; ià(
	g·th
è
·th
(x,y - 1,z + 1èğ(
to
)24;

42120 ià(
	gy
 + 1<
height
() &&

42121 
	gQ
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,-(
ÅÙ
=(
td
)(
sq¹2
*
m‘
(
x
,
y
 + 1,
z
 + 1è+ 
P
)),x,y + 1,z + 1)) {

42122 
»s
(
x
,
y
 + 1,
z
 + 1èğ
ÅÙ
; ià(
	g·th
è
·th
(x,y + 1,z + 1èğ(
to
)20;

42124 ià(
	gx
 - 1>=0 && 
y
 - 1>=0 &&

42125 
Q
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,-(
ÅÙ
=(
td
)(
sq¹3
*
m‘
(
x
 - 1,
y
 - 1,
z
 + 1è+ 
P
)),

42126 
x
 - 1,
y
 - 1,
z
 + 1)) {

42127 
»s
(
x
 - 1,
y
 - 1,
z
 + 1èğ
ÅÙ
; ià(
	g·th
è
·th
(x - 1,y - 1,z + 1èğ(
to
)26;

42129 ià(
	gx
 + 1<
width
(è&& 
	gy
 - 1>=0 &&

42130 
Q
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,-(
ÅÙ
=(
td
)(
sq¹3
*
m‘
(
x
 + 1,
y
 - 1,
z
 + 1è+ 
P
)),

42131 
x
 + 1,
y
 - 1,
z
 + 1)) {

42132 
»s
(
x
 + 1,
y
 - 1,
z
 + 1èğ
ÅÙ
; ià(
	g·th
è
·th
(x + 1,y - 1,z + 1èğ(
to
)25;

42134 ià(
	gx
 - 1>=0 && 
y
 + 1<
height
() &&

42135 
Q
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,-(
ÅÙ
=(
td
)(
sq¹3
*
m‘
(
x
 - 1,
y
 + 1,
z
 + 1è+ 
P
)),

42136 
x
 - 1,
y
 + 1,
z
 + 1)) {

42137 
»s
(
x
 - 1,
y
 + 1,
z
 + 1èğ
ÅÙ
; ià(
	g·th
è
·th
(x - 1,y + 1,z + 1èğ(
to
)22;

42139 ià(
	gx
 + 1<
width
(è&& 
	gy
 + 1<
height
() &&

42140 
	gQ
.
_´iÜ™y_queue_š£¹
(
is_queued
,
sizeQ
,-(
ÅÙ
=(
td
)(
sq¹3
*
m‘
(
x
 + 1,
y
 + 1,
z
 + 1è+ 
P
)),

42141 
x
 + 1,
y
 + 1,
z
 + 1)) {

42142 
»s
(
x
 + 1,
y
 + 1,
z
 + 1èğ
ÅÙ
; ià(
	g·th
è
·th
(x + 1,y + 1,z + 1èğ(
to
)21;

42148  
	g»suÉ
;

42152 
	g‹m¶©e
<
ty³Çme
 
	gt
>

42153 
	gCImg
<
	gT
>& 
di¡ªû_dijk¡¿
(cÚ¡ 
T
& 
v®ue
, cÚ¡ 
CImg
<
t
>& 
m‘ric
,

42154 cÚ¡ 
boŞ
 
is_high_cÚÃùiv™y
=
çl£
) {

42155  
g‘_di¡ªû_dijk¡¿
(
v®ue
,
m‘ric
,
is_high_cÚÃùiv™y
).
move_to
(*
this
);

42159 
	g‹m¶©e
<
ty³Çme
 
	gt
>

42160 
	gCImg
<
	gTæßt
> 
g‘_di¡ªû_dijk¡¿
(cÚ¡ 
T
& 
v®ue
, cÚ¡ 
CImg
<
t
>& 
m‘ric
,

42161 cÚ¡ 
boŞ
 
is_high_cÚÃùiv™y
=
çl£
) const {

42162 
CImg
<
T
> 
»tuº_·th
;

42163  
g‘_di¡ªû_dijk¡¿
(
v®ue
,
m‘ric
,
is_high_cÚÃùiv™y
,
»tuº_·th
);

42171 
	g‹m¶©e
<
ty³Çme
 
	gt
>

42172 
	gCImg
<
	gT
>& 
di¡ªû_eikÚ®
(cÚ¡ 
T
& 
v®ue
, cÚ¡ 
CImg
<
t
>& 
m‘ric
) {

42173  
g‘_di¡ªû_eikÚ®
(
v®ue
,
m‘ric
).
move_to
(*
this
);

42177 
	g‹m¶©e
<
ty³Çme
 
	gt
>

42178 
	gCImg
<
	gTæßt
> 
g‘_di¡ªû_eikÚ®
(cÚ¡ 
T
& 
v®ue
, cÚ¡ 
CImg
<
t
>& 
m‘ric
) const {

42179 ià(
is_em±y
()è *
	gthis
;

42180 ià(!
is_§meXYZ
(
m‘ric
))

42181 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


42184 
cimg_š¡ªû
,

42185 
m‘ric
.
_width
,m‘ric.
_height
,m‘ric.
_d•th
,m‘ric.
_¥eùrum
);

42186 
	gCImg
<
	gTæßt
> 
»suÉ
(
_width
,
_height
,
_d•th
,
_¥eùrum
,
cimg
::
ty³
<
Tæßt
>::
max
()), 
	gQ
;

42187 
	gCImg
<
	gch¬T
> 
¡©e
(
_width
,
_height
,
_d•th
);

42189 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
_¥eùrum
>=2è
fœ¡´iv©e
(
Q
,
¡©e
))

42190 
cimg_fÜC
(*
this
,
c
) {

42191 cÚ¡ 
	gCImg
<
	gT
> 
	gimg
 = 
g‘_sh¬ed_chªÃl
(
c
);

42192 cÚ¡ 
	gCImg
<
	gt
> 
	gm‘
 = 
m‘ric
.
g‘_sh¬ed_chªÃl
(
c
%m‘ric.
_¥eùrum
);

42193 
	gCImg
<
	gTæßt
> 
	g»s
 = 
»suÉ
.
g‘_sh¬ed_chªÃl
(
c
);

42194 
	gsizeQ
 = 0;

42195 
	g¡©e
.
fl
(-1);

42198 
Tæßt
 *
	g±r1
 = 
»s
.
_d©a
; *
	g±r2
 = 
¡©e
._data;

42199 
cimg_fÜ
(
img
,
±r0
,
T
è{ ià(*
	g±r0
==
v®ue
è{ *
±r1
 = 0; *
	g±r2
 = 1; } ++
	g±r1
; ++ptr2; }

42202 
	g±r2
 = 
¡©e
.
_d©a
;

42203 
cimg_fÜXYZ
(
img
,
x
,
y
,
z
èià(*(
	g±r2
++)==1) {

42204 ià(
x
 - 1>=0 && 
¡©e
(x - 1,
y
,
z
)==-1) {

42205 cÚ¡ 
Tæßt
 
di¡
 = 
»s
(
x
 - 1,
y
,
z
èğ
__di¡ªû_eikÚ®
Ôes,
m‘
(x - 1,y,z),x - 1,y,z);

42206 
	gQ
.
_eik_´iÜ™y_queue_š£¹
(
¡©e
,
sizeQ
,-
di¡
,
x
 - 1,
y
,
z
);

42208 ià(
	gx
 + 1<
width
(è&& 
¡©e
(
x
 + 1,
y
,
z
)==-1) {

42209 cÚ¡ 
Tæßt
 
di¡
 = 
»s
(
x
 + 1,
y
,
z
èğ
__di¡ªû_eikÚ®
Ôes,
m‘
(x + 1,y,z),x + 1,y,z);

42210 
	gQ
.
_eik_´iÜ™y_queue_š£¹
(
¡©e
,
sizeQ
,-
di¡
,
x
 + 1,
y
,
z
);

42212 ià(
	gy
 - 1>=0 && 
¡©e
(
x
,
y
 - 1,
z
)==-1) {

42213 cÚ¡ 
Tæßt
 
di¡
 = 
»s
(
x
,
y
 - 1,
z
èğ
__di¡ªû_eikÚ®
Ôes,
m‘
(x,y - 1,z),x,y - 1,z);

42214 
	gQ
.
_eik_´iÜ™y_queue_š£¹
(
¡©e
,
sizeQ
,-
di¡
,
x
,
y
 - 1,
z
);

42216 ià(
	gy
 + 1<
height
(è&& 
¡©e
(
x
,
y
 + 1,
z
)==-1) {

42217 cÚ¡ 
Tæßt
 
di¡
 = 
»s
(
x
,
y
 + 1,
z
èğ
__di¡ªû_eikÚ®
Ôes,
m‘
(x,y + 1,z),x,y + 1,z);

42218 
	gQ
.
_eik_´iÜ™y_queue_š£¹
(
¡©e
,
sizeQ
,-
di¡
,
x
,
y
 + 1,
z
);

42220 ià(
	gz
 - 1>=0 && 
¡©e
(
x
,
y
,
z
 - 1)==-1) {

42221 cÚ¡ 
Tæßt
 
di¡
 = 
»s
(
x
,
y
,
z
 - 1èğ
__di¡ªû_eikÚ®
Ôes,
m‘
(x,y,z - 1),x,y,z - 1);

42222 
	gQ
.
_eik_´iÜ™y_queue_š£¹
(
¡©e
,
sizeQ
,-
di¡
,
x
,
y
,
z
 - 1);

42224 ià(
	gz
 + 1<
d•th
(è&& 
¡©e
(
x
,
y
,
z
 + 1)==-1) {

42225 cÚ¡ 
Tæßt
 
di¡
 = 
»s
(
x
,
y
,
z
 + 1èğ
__di¡ªû_eikÚ®
Ôes,
m‘
(x,y,z + 1),x,y,z + 1);

42226 
	gQ
.
_eik_´iÜ™y_queue_š£¹
(
¡©e
,
sizeQ
,-
di¡
,
x
,
y
,
z
 + 1);

42231 
	gsizeQ
) {

42232 
	gx
 = -1, 
	gy
 = -1, 
	gz
 = -1;

42233 
	gsizeQ
 && 
	gx
<0) {

42234 
	gx
 = ()
Q
(0,1); 
	gy
 = ()Q(0,2); 
	gz
 = ()Q(0,3);

42235 
	gQ
.
_´iÜ™y_queue_»move
(
sizeQ
);

42236 ià(
¡©e
(
x
,
y
,
z
)==1) x = -1; state(x,y,z) = 1;

42238 ià(
	gx
>=0) {

42239 ià(
x
 - 1>=0 && 
¡©e
(x - 1,
y
,
z
)!=1) {

42240 cÚ¡ 
Tæßt
 
di¡
 = 
__di¡ªû_eikÚ®
(
»s
,
m‘
(
x
 - 1,
y
,
z
),x - 1,y,z);

42241 ià(
	gdi¡
<
»s
(
x
 - 1,
y
,
z
)) {

42242 
»s
(
x
 - 1,
y
,
z
èğ
di¡
; 
	gQ
.
_eik_´iÜ™y_queue_š£¹
(
¡©e
,
sizeQ
,-dist,x - 1,y,z);

42245 ià(
	gx
 + 1<
width
(è&& 
¡©e
(
x
 + 1,
y
,
z
)!=1) {

42246 cÚ¡ 
Tæßt
 
di¡
 = 
__di¡ªû_eikÚ®
(
»s
,
m‘
(
x
 + 1,
y
,
z
),x + 1,y,z);

42247 ià(
	gdi¡
<
»s
(
x
 + 1,
y
,
z
)) {

42248 
»s
(
x
 + 1,
y
,
z
èğ
di¡
; 
	gQ
.
_eik_´iÜ™y_queue_š£¹
(
¡©e
,
sizeQ
,-dist,x + 1,y,z);

42251 ià(
	gy
 - 1>=0 && 
¡©e
(
x
,
y
 - 1,
z
)!=1) {

42252 cÚ¡ 
Tæßt
 
di¡
 = 
__di¡ªû_eikÚ®
(
»s
,
m‘
(
x
,
y
 - 1,
z
),x,y - 1,z);

42253 ià(
	gdi¡
<
»s
(
x
,
y
 - 1,
z
)) {

42254 
»s
(
x
,
y
 - 1,
z
èğ
di¡
; 
	gQ
.
_eik_´iÜ™y_queue_š£¹
(
¡©e
,
sizeQ
,-dist,x,y - 1,z);

42257 ià(
	gy
 + 1<
height
(è&& 
¡©e
(
x
,
y
 + 1,
z
)!=1) {

42258 cÚ¡ 
Tæßt
 
di¡
 = 
__di¡ªû_eikÚ®
(
»s
,
m‘
(
x
,
y
 + 1,
z
),x,y + 1,z);

42259 ià(
	gdi¡
<
»s
(
x
,
y
 + 1,
z
)) {

42260 
»s
(
x
,
y
 + 1,
z
èğ
di¡
; 
	gQ
.
_eik_´iÜ™y_queue_š£¹
(
¡©e
,
sizeQ
,-dist,x,y + 1,z);

42263 ià(
	gz
 - 1>=0 && 
¡©e
(
x
,
y
,
z
 - 1)!=1) {

42264 cÚ¡ 
Tæßt
 
di¡
 = 
__di¡ªû_eikÚ®
(
»s
,
m‘
(
x
,
y
,
z
 - 1),x,y,z - 1);

42265 ià(
	gdi¡
<
»s
(
x
,
y
,
z
 - 1)) {

42266 
»s
(
x
,
y
,
z
 - 1èğ
di¡
; 
	gQ
.
_eik_´iÜ™y_queue_š£¹
(
¡©e
,
sizeQ
,-dist,x,y,z - 1);

42269 ià(
	gz
 + 1<
d•th
(è&& 
¡©e
(
x
,
y
,
z
 + 1)!=1) {

42270 cÚ¡ 
Tæßt
 
di¡
 = 
__di¡ªû_eikÚ®
(
»s
,
m‘
(
x
,
y
,
z
 + 1),x,y,z + 1);

42271 ià(
	gdi¡
<
»s
(
x
,
y
,
z
 + 1)) {

42272 
»s
(
x
,
y
,
z
 + 1èğ
di¡
; 
	gQ
.
_eik_´iÜ™y_queue_š£¹
(
¡©e
,
sizeQ
,-dist,x,y,z + 1);

42278  
	g»suÉ
;

42282 
Tæßt
 
__di¡ªû_eikÚ®
(cÚ¡ 
CImg
<Tæßt>& 
»s
, cÚ¡ Tæßˆ
P
,

42283 cÚ¡ 
x
=0, cÚ¡ 
y
=0, cÚ¡ 
z
=0) const {

42284 cÚ¡ 
Tæßt
 
M
 = (Tæßt)
cimg
::
ty³
<
T
>::
max
();

42285 
T
 
	gT1
 = (T)
¡d
::
mš
(
x
 - 1>=0?
»s
(x - 1,
y
,
z
):
M
,x + 1<
width
()?res(x + 1,y,z):M);

42286 
Tæßt
 
	groÙ
 = 0;

42287 ià(
	g_d•th
>1) {

42288 
T


42289 
	gT2
 = (
T
)
¡d
::
mš
(
y
 - 1>=0?
»s
(
x
,y - 1,
z
):
M
,y + 1<
height
()?res(x,y + 1,z):M),

42290 
	gT3
 = (
T
)
¡d
::
mš
(
z
 - 1>=0?
»s
(
x
,
y
,z - 1):
M
,z + 1<
d•th
()?res(x,y,z + 1):M);

42291 ià(
	gT1
>
	gT2
è
	gcimg
::
sw­
(
T1
,
T2
);

42292 ià(
	gT2
>
	gT3
è
	gcimg
::
sw­
(
T2
,
T3
);

42293 ià(
	gT1
>
	gT2
è
	gcimg
::
sw­
(
T1
,
T2
);

42294 ià(
	gP
<=0è (
Tæßt
)
T1
;

42295 ià(
	gT3
<
	gM
 && 
___di¡ªû_eikÚ®
(3,-2*(
T1
 + 
T2
 + 
T3
),T1*T1 + T2*T2 + T3*T3 - 
P
*P,
roÙ
))

42296  
	g¡d
::
max
((
Tæßt
)
T3
,
roÙ
);

42297 ià(
	gT2
<
	gM
 && 
___di¡ªû_eikÚ®
(2,-2*(
T1
 + 
T2
),T1*T1 + T2*T2 - 
P
*P,
roÙ
))

42298  
	g¡d
::
max
((
Tæßt
)
T2
,
roÙ
);

42299  
	gP
 + 
	gT1
;

42300 } ià(
	g_height
>1) {

42301 
T
 
	gT2
 = (T)
¡d
::
mš
(
y
 - 1>=0?
»s
(
x
,y - 1,
z
):
M
,y + 1<
height
()?res(x,y + 1,z):M);

42302 ià(
	gT1
>
	gT2
è
	gcimg
::
sw­
(
T1
,
T2
);

42303 ià(
	gP
<=0è (
Tæßt
)
T1
;

42304 ià(
	gT2
<
	gM
 && 
___di¡ªû_eikÚ®
(2,-2*(
T1
 + 
T2
),T1*T1 + T2*T2 - 
P
*P,
roÙ
))

42305  
	g¡d
::
max
((
Tæßt
)
T2
,
roÙ
);

42306  
	gP
 + 
	gT1
;

42308 ià(
	gP
<=0è (
Tæßt
)
T1
;

42309  
	gP
 + 
	gT1
;

42315 
boŞ
 
___di¡ªû_eikÚ®
(cÚ¡ 
Tæßt
 
a
, cÚ¡ Tæßˆ
b
, cÚ¡ Tæßˆ
c
, Tæßˆ&
roÙ
) {

42316 cÚ¡ 
Tæßt
 
	gd–
 = 
b
*b - 4*
a
*
c
;

42317 ià(
	gd–
<0è 
	gçl£
;

42318 
	groÙ
 = 0.5f*(-
b
 + 
¡d
::
sq¹
(
d–
))/
a
;

42319  
	gŒue
;

42323 
	g‹m¶©e
<
ty³Çme
 
	gt
>

42324 
_eik_´iÜ™y_queue_š£¹
(
CImg
<
ch¬T
>& 
¡©e
, & 
siz
, cÚ¡ 
t
 
v®ue
,

42325 cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
) {

42326 ià(
¡©e
(
x
,
y
,
z
)>0) ;

42327 
¡©e
(
x
,
y
,
z
) = 0;

42328 ià(++
	gsiz
>=
_width
è{ ià(!
is_em±y
()è
»size
(_width*2,4,1,1,0); 
assign
(64,4); }

42329 (*
	gthis
)(
	gsiz
 - 1,0èğ(
T
)
v®ue
; (*this)(siz - 1,1èğ(T)
x
; (*this)(siz - 1,2èğ(T)
y
; (*this)(siz - 1,3èğ(T)
z
;

42330 
	gpos
 = 
siz
 - 1, 
	g·r
 = 0;…o && 
	gv®ue
>(
	gt
)(*
	gthis
)Õ¬=(
pos
 + 1)/2 - 1,0);…o ğ
·r
) {

42331 
cimg
::
sw­
((*
this
)(
pos
,0),(*this)(
·r
,0)); 
	gcimg
::swap((*this)(pos,1),(*this)(par,1));

42332 
	gcimg
::
sw­
((*
this
)(
pos
,2),(*this)(
·r
,2)); cimg::swap((*this)(pos,3),(*this)(par,3));

42342 
	gCImg
<
	gT
>& 
di¡ªû_eikÚ®
(cÚ¡ 
nb_™”©iÚs
, cÚ¡ 
bªd_size
=0, cÚ¡ 
time_¡•
=0.5f) {

42343 ià(
is_em±y
()è *
this
;

42344 
	gCImg
<
	gTæßt
> 
v–oc™y
(*
this
,
çl£
);

42345 
	g™”©iÚ
 = 0; i‹¿tiÚ<
	gnb_™”©iÚs
; ++iteration) {

42346 
Tæßt
 *
	g±rd
 = 
v–oc™y
.
_d©a
, 
	gv–oc_max
 = 0;

42347 ià(
	g_d•th
>1) {

42348 
CImg_3x3x3
(
I
,
Tæßt
);

42349 
cimg_fÜC
(*
this
,
c
è
cimg_fÜ3x3x3
(*this,
x
,
y
,
z
,c,
I
,
Tæßt
èià(
	gbªd_size
<=0 || 
cimg
::
abs
(
Iccc
)<
bªd_size
) {

42350 cÚ¡ 
Tæßt


42351 
gx
 = (
Incc
 - 
Ipcc
)/2,

42352 
	ggy
 = (
Iúc
 - 
Iıc
)/2,

42353 
	ggz
 = (
Icú
 - 
Icı
)/2,

42354 
	gsgn
 = -
cimg
::
sign
(
Iccc
),

42355 
	gix
 = 
gx
*
sgn
>0?(
Incc
 - 
Iccc
):(Iccø- 
Ipcc
),

42356 
	giy
 = 
gy
*
sgn
>0?(
Iúc
 - 
Iccc
):(Iccø- 
Iıc
),

42357 
	giz
 = 
gz
*
sgn
>0?(
Icú
 - 
Iccc
):(Iccø- 
Icı
),

42358 
	gng
 = 1e-5à+ 
cimg
::
hypÙ
(
gx
,
gy
,
gz
),

42359 
	gngx
 = 
gx
/
ng
,

42360 
	gngy
 = 
gy
/
ng
,

42361 
	gngz
 = 
gz
/
ng
,

42362 
	gv–oc
 = 
sgn
*(
ngx
*
ix
 + 
ngy
*
iy
 + 
ngz
*
iz
 - 1);

42363 *(
	g±rd
++èğ
v–oc
;

42364 ià(
	gv–oc
>
	gv–oc_max
èv–oc_max = 
v–oc
; if (-veloc>veloc_max) veloc_max = -veloc;

42365 } *(
	g±rd
++) = 0;

42367 
CImg_3x3
(
I
,
Tæßt
);

42368 
cimg_fÜC
(*
this
,
c
è
cimg_fÜ3x3
(*this,
x
,
y
,0,c,
I
,
Tæßt
èià(
	gbªd_size
<=0 || 
cimg
::
abs
(
Icc
)<
bªd_size
) {

42369 cÚ¡ 
Tæßt


42370 
gx
 = (
Inc
 - 
Ipc
)/2,

42371 
	ggy
 = (
Iú
 - 
Iı
)/2,

42372 
	gsgn
 = -
cimg
::
sign
(
Icc
),

42373 
	gix
 = 
gx
*
sgn
>0?(
Inc
 - 
Icc
):(Icø- 
Ipc
),

42374 
	giy
 = 
gy
*
sgn
>0?(
Iú
 - 
Icc
):(Icø- 
Iı
),

42375 
	gng
 = 
¡d
::
max
((
Tæßt
)1e-5,
cimg
::
hypÙ
(
gx
,
gy
)),

42376 
	gngx
 = 
gx
/
ng
,

42377 
	gngy
 = 
gy
/
ng
,

42378 
	gv–oc
 = 
sgn
*(
ngx
*
ix
 + 
ngy
*
iy
 - 1);

42379 *(
	g±rd
++èğ
v–oc
;

42380 ià(
	gv–oc
>
	gv–oc_max
èv–oc_max = 
v–oc
; if (-veloc>veloc_max) veloc_max = -veloc;

42381 } *(
	g±rd
++) = 0;

42383 ià(
	gv–oc_max
>0è*
	gthis
+=(
v–oc™y
*=
time_¡•
/
v–oc_max
);

42385  *
	gthis
;

42389 
	gCImg
<
	gTæßt
> 
g‘_di¡ªû_eikÚ®
(cÚ¡ 
nb_™”©iÚs
, cÚ¡ 
bªd_size
=0,

42390 cÚ¡ 
time_¡•
=0.5f) const {

42391  
CImg
<
Tæßt
>(*
this
,
çl£
).
di¡ªû_eikÚ®
(
nb_™”©iÚs
,
bªd_size
,
time_¡•
);

42400 
	gCImg
<
	gT
>& 
h¯r
(cÚ¡ 
axis
, cÚ¡ 
boŞ
 
šv”t
=
çl£
, cÚ¡ 
nb_sÿËs
=1) {

42401  
g‘_h¯r
(
axis
,
šv”t
,
nb_sÿËs
).
move_to
(*
this
);

42405 
	gCImg
<
	gTæßt
> 
g‘_h¯r
(cÚ¡ 
axis
, cÚ¡ 
boŞ
 
šv”t
=
çl£
, cÚ¡ 
nb_sÿËs
=1) const {

42406 ià(
is_em±y
(è|| !
nb_sÿËs
è +*
this
;

42407 
	gCImg
<
	gTæßt
> 
	g»s
;

42408 cÚ¡ 
Tæßt
 
	gsq¹2
 = 
¡d
::
sq¹
(2.f);

42409 ià(
	gnb_sÿËs
==1) {

42410 
cimg
::
low”ÿ£
(
axis
)) {

42412 cÚ¡ 
w
 = 
_width
/2;

42413 ià(
	gw
) {

42414 ià((
	gw
%2) && w!=1)

42415 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


42417 
cimg_š¡ªû
,

42418 
w
);

42420 
	g»s
.
assign
(
_width
,
_height
,
_d•th
,
_¥eùrum
);

42421 ià(
	gšv”t
è
cimg_fÜYZC
(*
this
,
y
,
z
,
c
) {

42422 
	gx
 = 0, 
	gxw
 = 
w
, 
	gx2
 = 0; x<
	gw
; ++x, ++xw) {

42423 cÚ¡ 
Tæßt
 
	gv®0
 = (Tæßt)(*
this
)(
x
,
	gy
,
	gz
,
	gc
), 
	gv®1
 = (Tæßt)(*this)(
xw
,y,z,c);

42424 
»s
(
x2
++,
y
,
z
,
c
èğ(
v®0
 - 
v®1
)/
sq¹2
;

42425 
»s
(
x2
++,
y
,
z
,
c
èğ(
v®0
 + 
v®1
)/
sq¹2
;

42427 } 
cimg_fÜYZC
(*
this
,
y
,
z
,
c
) {

42428 
	gx
 = 0, 
	gxw
 = 
w
, 
	gx2
 = 0; x<
	gw
; ++x, ++xw) {

42429 cÚ¡ 
Tæßt
 
	gv®0
 = (Tæßt)(*
this
)(
x2
++,
	gy
,
	gz
,
	gc
), 
	gv®1
 = (Tfloat)(*this)(x2++,y,z,c);

42430 
»s
(
x
,
y
,
z
,
c
èğ(
v®0
 + 
v®1
)/
sq¹2
;

42431 
»s
(
xw
,
y
,
z
,
c
èğ(
v®1
 - 
v®0
)/
sq¹2
;

42434 }  *
	gthis
;

42437 cÚ¡ 
h
 = 
_height
/2;

42438 ià(
	gh
) {

42439 ià((
	gh
%2) && h!=1)

42440 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


42442 
cimg_š¡ªû
,

42443 
h
);

42445 
	g»s
.
assign
(
_width
,
_height
,
_d•th
,
_¥eùrum
);

42446 ià(
	gšv”t
è
cimg_fÜXZC
(*
this
,
x
,
z
,
c
) {

42447 
	gy
 = 0, 
	gyh
 = 
h
, 
	gy2
 = 0; y<
	gh
; ++y, ++yh) {

42448 cÚ¡ 
Tæßt
 
	gv®0
 = (Tæßt)(*
this
)(
x
,
	gy
,
	gz
,
	gc
), 
	gv®1
 = (Tæßt)(*this)(x,
	gyh
,z,c);

42449 
»s
(
x
,
y2
++,
z
,
c
èğ(
v®0
 - 
v®1
)/
sq¹2
;

42450 
»s
(
x
,
y2
++,
z
,
c
èğ(
v®0
 + 
v®1
)/
sq¹2
;

42452 } 
cimg_fÜXZC
(*
this
,
x
,
z
,
c
) {

42453 
	gy
 = 0, 
	gyh
 = 
h
, 
	gy2
 = 0; y<
	gh
; ++y, ++yh) {

42454 cÚ¡ 
Tæßt
 
	gv®0
 = (Tæßt)(*
this
)(
x
,
	gy2
++,
	gz
,
	gc
), 
	gv®1
 = (Tfloat)(*this)(x,y2++,z,c);

42455 
»s
(
x
,
y
,
z
,
c
èğ(
v®0
 + 
v®1
)/
sq¹2
;

42456 
»s
(
x
,
yh
,
z
,
c
èğ(
v®1
 - 
v®0
)/
sq¹2
;

42459 }  *
	gthis
;

42462 cÚ¡ 
d
 = 
_d•th
/2;

42463 ià(
	gd
) {

42464 ià((
	gd
%2) && d!=1)

42465 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


42467 
cimg_š¡ªû
,

42468 
d
);

42470 
	g»s
.
assign
(
_width
,
_height
,
_d•th
,
_¥eùrum
);

42471 ià(
	gšv”t
è
cimg_fÜXYC
(*
this
,
x
,
y
,
c
) {

42472 
	gz
 = 0, 
	gzd
 = 
d
, 
	gz2
 = 0; z<
	gd
; ++z, ++zd) {

42473 cÚ¡ 
Tæßt
 
	gv®0
 = (Tæßt)(*
this
)(
x
,
	gy
,
	gz
,
	gc
), 
	gv®1
 = (Tæßt)(*this)(x,y,
	gzd
,c);

42474 
»s
(
x
,
y
,
z2
++,
c
èğ(
v®0
 - 
v®1
)/
sq¹2
;

42475 
»s
(
x
,
y
,
z2
++,
c
èğ(
v®0
 + 
v®1
)/
sq¹2
;

42477 } 
cimg_fÜXYC
(*
this
,
x
,
y
,
c
) {

42478 
	gz
 = 0, 
	gzd
 = 
d
, 
	gz2
 = 0; z<
	gd
; ++z, ++zd) {

42479 cÚ¡ 
Tæßt
 
	gv®0
 = (Tæßt)(*
this
)(
x
,
	gy
,
	gz2
++,
	gc
), 
	gv®1
 = (Tfloat)(*this)(x,y,z2++,c);

42480 
»s
(
x
,
y
,
z
,
c
èğ(
v®0
 + 
v®1
)/
sq¹2
;

42481 
»s
(
x
,
y
,
zd
,
c
èğ(
v®1
 - 
v®0
)/
sq¹2
;

42484 }  *
	gthis
;

42487 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


42490 
cimg_š¡ªû
,

42491 
axis
);

42494 ià(
	gšv”t
) {

42495 
	g»s
.
assign
(*
this
,
çl£
);

42496 
	gcimg
::
low”ÿ£
(
axis
)) {

42498 
w
 = 
_width
;

42499 
	gs
 = 1; 
	gw
 && s<
	gnb_sÿËs
; ++s) w/=2;

42500 
	gw
 = 
w
?w:1; w<=
_width
; w*=2è
»s
.
d¿w_image
Ôes.
g‘_üİ
(0,w - 1).
g‘_h¯r
('x',
Œue
,1));

42503 
h
 = 
_width
;

42504 
	gs
 = 1; 
	gh
 && s<
	gnb_sÿËs
; ++s) h/=2;

42505 
	gh
 = 
h
?h:1; h<=
_height
; h*=2è
»s
.
d¿w_image
Ôes.
g‘_üİ
(0,0,
_width
 - 1,h - 1).
g‘_h¯r
('y',
Œue
,1));

42508 
d
 = 
_d•th
;

42509 
	gs
 = 1; 
	gd
 && s<
	gnb_sÿËs
; ++s) d/=2;

42510 
	gd
 = 
d
?d:1; d<=
_d•th
; d*=2)

42511 
»s
.
d¿w_image
Ôes.
g‘_üİ
(0,0,0,
_width
 - 1,
_height
 - 1,
d
 - 1).
g‘_h¯r
('z',
Œue
,1));

42514 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


42517 
cimg_š¡ªû
,

42518 
axis
);

42521 
	g»s
 = 
g‘_h¯r
(
axis
,
çl£
,1);

42522 
	gcimg
::
low”ÿ£
(
axis
)) {

42524 
s
 = 1, 
	gw
 = 
_width
/2; w && 
	gs
<
	gnb_sÿËs
; ++s, w/=2)

42525 
»s
.
d¿w_image
Ôes.
g‘_üİ
(0,
w
 - 1).
g‘_h¯r
('x',
çl£
,1));

42528 
s
 = 1, 
	gh
 = 
_height
/2; h && 
	gs
<
	gnb_sÿËs
; ++s, h/=2)

42529 
»s
.
d¿w_image
Ôes.
g‘_üİ
(0,0,
_width
 - 1,
h
 - 1).
g‘_h¯r
('y',
çl£
,1));

42532 
s
 = 1, 
	gd
 = 
_d•th
/2; d && 
	gs
<
	gnb_sÿËs
; ++s, d/=2)

42533 
»s
.
d¿w_image
Ôes.
g‘_üİ
(0,0,0,
_width
 - 1,
_height
 - 1,
d
 - 1).
g‘_h¯r
('z',
çl£
,1));

42536 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


42539 
cimg_š¡ªû
,

42540 
axis
);

42544  
	g»s
;

42552 
	gCImg
<
	gT
>& 
h¯r
(cÚ¡ 
boŞ
 
šv”t
=
çl£
, cÚ¡ 
nb_sÿËs
=1) {

42553  
g‘_h¯r
(
šv”t
,
nb_sÿËs
).
move_to
(*
this
);

42557 
	gCImg
<
	gTæßt
> 
g‘_h¯r
(cÚ¡ 
boŞ
 
šv”t
=
çl£
, cÚ¡ 
nb_sÿËs
=1) const {

42558 
CImg
<
Tæßt
> 
»s
;

42559 ià(
	gnb_sÿËs
==1) {

42560 ià(
_width
>1è
g‘_h¯r
('x',
šv”t
,1).
move_to
(
»s
);

42561 ià(
	g_height
>1è{ ià(
	g»s
è»s.
h¯r
('y',
šv”t
,1); 
g‘_h¯r
('y',šv”t,1).
move_to
(
»s
); }

42562 ià(
	g_d•th
>1è{ ià(
	g»s
è»s.
h¯r
('z',
šv”t
,1); 
g‘_h¯r
('z',šv”t,1).
move_to
(
»s
); }

42563 ià(
	g»s
) „es;

42565 ià(
	gšv”t
) {

42566 
	g»s
.
assign
(*
this
,
çl£
);

42567 ià(
	g_width
>1) {

42568 ià(
	g_height
>1) {

42569 ià(
	g_d•th
>1) {

42570 
	gw
 = 
_width
, 
	gh
 = 
_height
, 
	gd
 = 
_d•th
;

42571 
	gs
 = 1; 
	gw
 && 
	gh
 && 
	gd
 && s<
	gnb_sÿËs
; ++s) { w/=2; h/=2; d/=2; }

42572 
	gw
 = 
w
?w:1, 
	gh
 = 
h
?h:1, 
	gd
 = 
d
?d:1; w<=
_width
 && h<=
_height
 && d<=
_d•th
; w*=2, h*=2, d*=2)

42573 
»s
.
d¿w_image
Ôes.
g‘_üİ
(0,0,0,
w
 - 1,
h
 - 1,
d
 - 1).
g‘_h¯r
(
Œue
,1));

42575 
	gw
 = 
_width
, 
	gh
 = 
_height
;

42576 
	gs
 = 1; 
	gw
 && 
	gh
 && s<
	gnb_sÿËs
; ++s) { w/=2; h/=2; }

42577 
	gw
 = 
w
?w:1, 
	gh
 = 
h
?h:1; w<=
_width
 && h<=
_height
; w*=2, h*=2)

42578 
»s
.
d¿w_image
Ôes.
g‘_üİ
(0,0,0,
w
 - 1,
h
 - 1,0).
g‘_h¯r
(
Œue
,1));

42581 ià(
	g_d•th
>1) {

42582 
	gw
 = 
_width
, 
	gd
 = 
_d•th
;

42583 
	gs
 = 1; 
	gw
 && 
	gd
 && s<
	gnb_sÿËs
; ++s) { w/=2; d/=2; }

42584 
	gw
 = 
w
?w:1, 
	gd
 = 
d
?d:1; w<=
_width
 && d<=
_d•th
; w*=2, d*=2)

42585 
»s
.
d¿w_image
Ôes.
g‘_üİ
(0,0,0,
w
 - 1,0,
d
 - 1).
g‘_h¯r
(
Œue
,1));

42587 
	gw
 = 
_width
;

42588 
	gs
 = 1; 
	gw
 && s<
	gnb_sÿËs
; ++s) w/=2;

42589 
	gw
 = 
w
?w:1; w<=
_width
; w*=2)

42590 
»s
.
d¿w_image
Ôes.
g‘_üİ
(0,0,0,
w
 - 1,0,0).
g‘_h¯r
(
Œue
,1));

42594 ià(
	g_height
>1) {

42595 ià(
	g_d•th
>1) {

42596 
	gh
 = 
_height
, 
	gd
 = 
_d•th
;

42597 
	gs
 = 1; 
	gh
 && 
	gd
 && s<
	gnb_sÿËs
; ++s) { h/=2; d/=2; }

42598 
	gh
 = 
h
?h:1, 
	gd
 = 
d
?d:1; h<=
_height
 && d<=
_d•th
; h*=2, d*=2)

42599 
»s
.
d¿w_image
Ôes.
g‘_üİ
(0,0,0,0,
h
 - 1,
d
 - 1).
g‘_h¯r
(
Œue
,1));

42601 
	gh
 = 
_height
;

42602 
	gs
 = 1; 
	gh
 && s<
	gnb_sÿËs
; ++s) h/=2;

42603 
	gh
 = 
h
?h:1; h<=
_height
; h*=2)

42604 
»s
.
d¿w_image
Ôes.
g‘_üİ
(0,0,0,0,
h
 - 1,0).
g‘_h¯r
(
Œue
,1));

42607 ià(
	g_d•th
>1) {

42608 
	gd
 = 
_d•th
;

42609 
	gs
 = 1; 
	gd
 && s<
	gnb_sÿËs
; ++s) d/=2;

42610 
	gd
 = 
d
?d:1; d<=
_d•th
; d*=2)

42611 
»s
.
d¿w_image
Ôes.
g‘_üİ
(0,0,0,0,0,
d
 - 1).
g‘_h¯r
(
Œue
,1));

42612 }  *
	gthis
;

42616 
	g»s
 = 
g‘_h¯r
(
çl£
,1);

42617 ià(
	g_width
>1) {

42618 ià(
	g_height
>1) {

42619 ià(
	g_d•th
>1)

42620 
	gs
 = 1, 
	gw
 = 
_width
/2, 
	gh
 = 
_height
/2, 
	gd
 = 
_d•th
/2; w && h && d && s<
	gnb_sÿËs
;

42621 ++
	gs
, 
	gw
/=2, 
	gh
/=2, 
	gd
/=2)

42622 
»s
.
d¿w_image
Ôes.
g‘_üİ
(0,0,0,
w
 - 1,
h
 - 1,
d
 - 1).
h¯r
(
çl£
,1));

42623 
	gs
 = 1, 
	gw
 = 
_width
/2, 
	gh
 = 
_height
/2; w && h && s<
	gnb_sÿËs
; ++s, w/=2, h/=2)

42624 
»s
.
d¿w_image
Ôes.
g‘_üİ
(0,0,0,
w
 - 1,
h
 - 1,0).
h¯r
(
çl£
,1));

42626 ià(
	g_d•th
>1è
	gs
 = 1, 
	gw
 = 
_width
/2, 
	gd
 = 
_d•th
/2; w && d && s<
	gnb_sÿËs
; ++s, w/=2, d/=2)

42627 
»s
.
d¿w_image
Ôes.
g‘_üİ
(0,0,0,
w
 - 1,0,
d
 - 1).
h¯r
(
çl£
,1));

42628 
	gs
 = 1, 
	gw
 = 
_width
/2; w && s<
	gnb_sÿËs
; ++s, w/=2)

42629 
»s
.
d¿w_image
Ôes.
g‘_üİ
(0,0,0,
w
 - 1,0,0).
h¯r
(
çl£
,1));

42632 ià(
	g_height
>1) {

42633 ià(
	g_d•th
>1)

42634 
	gs
 = 1, 
	gh
 = 
_height
/2, 
	gd
 = 
_d•th
/2; h && d && s<
	gnb_sÿËs
; ++s, h/=2, d/=2)

42635 
»s
.
d¿w_image
Ôes.
g‘_üİ
(0,0,0,0,
h
 - 1,
d
 - 1).
h¯r
(
çl£
,1));

42636 
	gs
 = 1, 
	gh
 = 
_height
/2; h && s<
	gnb_sÿËs
; ++s, h/=2)

42637 
»s
.
d¿w_image
Ôes.
g‘_üİ
(0,0,0,0,
h
 - 1,0).
h¯r
(
çl£
,1));

42639 ià(
	g_d•th
>1è
	gs
 = 1, 
	gd
 = 
_d•th
/2; d && s<
	gnb_sÿËs
; ++s, d/=2)

42640 
»s
.
d¿w_image
Ôes.
g‘_üİ
(0,0,0,0,0,
d
 - 1).
h¯r
(
çl£
,1));

42641  *
	gthis
;

42645  
	g»s
;

42647  *
	gthis
;

42655 
	gCImgLi¡
<
	gTæßt
> 
g‘_FFT
(cÚ¡ 
axis
, cÚ¡ 
boŞ
 
is_šv”£
=
çl£
) const {

42656 
CImgLi¡
<
Tæßt
> 
»s
(*
this
,
CImg
<Tfloat>());

42657 
	gCImg
<
	gTæßt
>::
FFT
(
»s
[0],»s[1],
axis
,
is_šv”£
);

42658  
	g»s
;

42665 
	gCImgLi¡
<
	gTæßt
> 
g‘_FFT
(cÚ¡ 
boŞ
 
is_šv”£
=
çl£
) const {

42666 
CImgLi¡
<
Tæßt
> 
»s
(*
this
,
CImg
<Tfloat>());

42667 
	gCImg
<
	gTæßt
>::
FFT
(
»s
[0],»s[1],
is_šv”£
);

42668  
	g»s
;

42678 
FFT
(
CImg
<
T
>& 
»®
, CImg<T>& 
imag
, cÚ¡ 
axis
, cÚ¡ 
boŞ
 
is_šv”£
=
çl£
,

42679 cÚ¡ 
nb_th»ads
=0) {

42680 ià(!
»®
)

42681 
throw
 
CImgIn¡ªûExû±iÚ
("CImg<%s>::FFT(): Specified„eal…art isƒmpty.",

42682 
pix–_ty³
());

42683 ià(!
	gimag
èimag.
assign
(
»®
.
_width
,»®.
_height
,»®.
_d•th
,»®.
_¥eùrum
,(
T
)0);

42684 ià(!
	g»®
.
is_§meXYZC
(
imag
))

42685 
throw
 
CImgIn¡ªûExû±iÚ
("CImg<%s>::FFT(): Specified„eal…art (%u,%u,%u,%u,%p)‡nd "

42687 
pix–_ty³
(),

42688 
»®
.
_width
,»®.
_height
,»®.
_d•th
,»®.
_¥eùrum
,»®.
_d©a
,

42689 
imag
.
_width
,imag.
_height
,imag.
_d•th
,imag.
_¥eùrum
,imag.
_d©a
);

42690 cÚ¡ 
	g_axis
 = 
cimg
::
low”ÿ£
(
axis
);

42691 ià(
	g_axis
!='x' && 
_axis
!='y' && _axis!='z')

42692 
throw
 
CImgArgum’tExû±iÚ
("CImgList<%s>::FFT(): Invalid specified‡xis '%c' for„eal‡nd imaginary…arts "

42695 
pix–_ty³
(),
axis
,

42696 
»®
.
_width
,»®.
_height
,»®.
_d•th
,»®.
_¥eùrum
);

42697 
	gcimg
::
unu£d
(
nb_th»ads
);

42698 #ifdeà
cimg_u£_fáw3


42699 
	gcimg
::
mu‹x
(12);

42700 #iâdeà
cimg_u£_fáw3_sšgËth»ad


42701 
fáw_¶ª_w™h_Áh»ads
(
nb_th»ads
?nb_th»ads:
cimg
::
nb_ıus
());

42703 
fáw_com¶ex
 *
	gd©a_š
 = (fáw_com¶ex*)
fáw_m®loc
((fáw_com¶ex)*
»®
.
_width
*»®.
_height
*»®.
_d•th
);

42704 ià(!
	gd©a_š
)

42705 
throw
 
CImgIn¡ªûExû±iÚ
("CImgList<%s>::FFT(): Failedo‡llocate memory (%s) "

42707 
pix–_ty³
(),

42708 
cimg
::
¡rbufãrsize
((
fáw_com¶ex
)*
»®
.
_width
*»®.
_height
*»®.
_d•th
),

42709 
»®
.
_width
,»®.
_height
,»®.
_d•th
,»®.
_¥eùrum
);

42710 *cÚ¡ 
	g±rf
 = (*)
d©a_š
;

42711 
fáw_¶ª
 
	gd©a_¶ª
 =

42712 
_axis
=='x'?
fáw_¶ª_mªy_dá
(1,(*)&
»®
.
_width
,»®.
height
()*»®.
d•th
(),

42713 
d©a_š
,0,1,
»®
.
width
(),

42714 
d©a_š
,0,1,
»®
.
width
(),

42715 
is_šv”£
?
FFTW_BACKWARD
:
FFTW_FORWARD
,
FFTW_ESTIMATE
):

42716 
_axis
=='y'?
fáw_¶ª_mªy_dá
(1,(*)&
»®
.
_height
,»®.
width
()*»®.
d•th
(),

42717 
d©a_š
,0,1,
»®
.
height
(),

42718 
d©a_š
,0,1,
»®
.
height
(),

42719 
is_šv”£
?
FFTW_BACKWARD
:
FFTW_FORWARD
,
FFTW_ESTIMATE
):

42720 
fáw_¶ª_mªy_dá
(1,(*)&
»®
.
_d•th
,»®.
width
()*»®.
height
(),

42721 
d©a_š
,0,1,
»®
.
d•th
(),

42722 
d©a_š
,0,1,
»®
.
d•th
(),

42723 
is_šv”£
?
FFTW_BACKWARD
:
FFTW_FORWARD
,
FFTW_ESTIMATE
);

42724 
cimg_fÜC
(
»®
,
c
) {

42725 
	gCImg
<
	gT
> 
	g»®c
 = 
»®
.
g‘_sh¬ed_chªÃl
(
c
), 
	gimagc
 = 
imag
.get_shared_channel(c);

42726 
	g_axis
) {

42728 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
»®
.
width
()*»®.
height
()*»®.
d•th
(),125000))

42729 
cimg_fÜXYZ
(
»®c
,
x
,
y
,
z
) {

42730 cÚ¡ 
ulÚgT


42731 
	gi
 = 
»®c
.
off£t
(
x
,
y
,
z
),

42732 
	gj
 = 2*(
x
 + (
ulÚgT
)
y
*
»®c
.
_width
 + (ulÚgT)
z
*»®c._width*»®c.
_height
);

42733 
	g±rf
[
j
] = ()
»®c
[
i
];

42734 
	g±rf
[
j
 + 1] = ()
imagc
[
i
];

42738 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
»®
.
width
()*»®.
height
()*»®.
d•th
(),125000))

42739 
cimg_fÜXYZ
(
»®c
,
x
,
y
,
z
) {

42740 cÚ¡ 
ulÚgT


42741 
	gi
 = 
»®c
.
off£t
(
x
,
y
,
z
),

42742 
	gj
 = 2*(
y
 + (
ulÚgT
)
x
*
»®c
.
_height
 + (ulÚgT)
z
*»®c.
_width
*realc._height);

42743 
	g±rf
[
j
] = ()
»®c
[
i
];

42744 
	g±rf
[
j
 + 1] = ()
imagc
[
i
];

42748 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
»®
.
width
()*»®.
height
()*»®.
d•th
(),125000))

42749 
cimg_fÜXYZ
(
»®c
,
x
,
y
,
z
) {

42750 cÚ¡ 
ulÚgT


42751 
	gi
 = 
»®c
.
off£t
(
x
,
y
,
z
),

42752 
	gj
 = 2*(
z
 + (
ulÚgT
)
x
*
»®c
.
_d•th
 + (ulÚgT)
y
*»®c.
_width
*realc._depth);

42753 
	g±rf
[
j
] = ()
»®c
[
i
];

42754 
	g±rf
[
j
 + 1] = ()
imagc
[
i
];

42758 
fáw_execu‹
(
d©a_¶ª
);

42760 cÚ¡ 
	ga
 = 
is_šv”£
?1.0/(
_axis
=='x'?
»®
.
width
():_axis=='y'?»®.
height
():»®.
d•th
()):1.0;

42761 
	g_axis
) {

42763 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
»®
.
width
()*»®.
height
()*»®.
d•th
(),125000))

42764 
cimg_fÜXYZ
(
»®c
,
x
,
y
,
z
) {

42765 cÚ¡ 
ulÚgT


42766 
	gi
 = 2*(
x
 + (
ulÚgT
)
y
*
»®c
.
_width
 + (ulÚgT)
z
*»®c._width*»®c.
_height
),

42767 
	gj
 = 
»®c
.
off£t
(
x
,
y
,
z
);

42768 
	g»®c
[
j
] = (
T
)(
a
*
±rf
[
i
]);

42769 
	gimagc
[
j
] = (
T
)(
a
*
±rf
[
i
 + 1]);

42773 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
»®
.
width
()*»®.
height
()*»®.
d•th
(),125000))

42774 
cimg_fÜXYZ
(
»®c
,
x
,
y
,
z
) {

42775 cÚ¡ 
ulÚgT


42776 
	gi
 = 2*(
y
 + (
ulÚgT
)
x
*
»®c
.
_height
 + (ulÚgT)
z
*»®c.
_width
*realc._height),

42777 
	gj
 = 
»®c
.
off£t
(
x
,
y
,
z
);

42778 
	g»®c
[
j
] = (
T
)(
a
*
±rf
[
i
]);

42779 
	gimagc
[
j
] = (
T
)(
a
*
±rf
[
i
 + 1]);

42783 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
»®
.
width
()*»®.
height
()*»®.
d•th
(),125000))

42784 
cimg_fÜXYZ
(
»®c
,
x
,
y
,
z
) {

42785 cÚ¡ 
ulÚgT


42786 
	gi
 = 2*(
z
 + (
ulÚgT
)
x
*
»®c
.
_d•th
 + (ulÚgT)
y
*»®c.
_width
*realc._depth),

42787 
	gj
 = 
»®c
.
off£t
(
x
,
y
,
z
);

42788 
	g»®c
[
j
] = (
T
)(
a
*
±rf
[
i
]);

42789 
	gimagc
[
j
] = (
T
)(
a
*
±rf
[
i
 + 1]);

42794 
fáw_de¡roy_¶ª
(
d©a_¶ª
);

42795 
fáw_ä“
(
d©a_š
);

42796 #iâdeà
cimg_u£_fáw3_sšgËth»ad


42797 
fáw_ş—nup_th»ads
();

42799 
	gcimg
::
mu‹x
(12,0);

42801 
	g_axis
) {

42803 cÚ¡ 
N
 = 
»®
.
_width
, 
	gN2
 = N>>1;

42804 ià(((
	gN
 - 1)&N) && N!=1)

42805 
throw
 
CImgIn¡ªûExû±iÚ
("CImgList<%s>::FFT(): Specified„eal‡nd imaginary…arts (%u,%u,%u,%u) "

42807 
pix–_ty³
(),

42808 
»®
.
_width
,»®.
_height
,»®.
_d•th
,»®.
_¥eùrum
);

42810 
	gi
 = 0, 
	gj
 = 0; i<
	gN2
; ++i) {

42811 ià(
	gj
>
	gi
è
cimg_fÜYZC
(
»®
,
y
,
z
,
c
) {

42812 
	gcimg
::
sw­
(
»®
(
i
,
y
,
z
,
c
),»®(
j
,y,z,c));

42813 
	gcimg
::
sw­
(
imag
(
i
,
y
,
z
,
c
),imag(
j
,y,z,c));

42814 ià(
	gj
<
	gN2
) {

42815 cÚ¡ 
	gri
 = 
N
 - 1 - 
i
, 
	grj
 = N - 1 - 
j
;

42816 
	gcimg
::
sw­
(
»®
(
ri
,
y
,
z
,
c
),»®(
rj
,y,z,c));

42817 
	gcimg
::
sw­
(
imag
(
ri
,
y
,
z
,
c
),imag(
rj
,y,z,c));

42820 
	gm
 = 
N
, 
	gn
 = 
N2
; (
	gj
+=
n
)>=
m
; j-=m, m =‚,‚>>=1) {}

42822 
	gd–
 = 2; d–<=
N
; delta<<=1) {

42823 cÚ¡ 
d–2
 = 
d–
>>1;

42824 
	gi
 = 0; i<
	gN
; i+=
d–
) {

42825 
wr
 = 1, 
	gwi
 = 0;

42827 
	gªgË
 = ()((
is_šv”£
?+1:-1)*2*
cimg
::
PI
/
d–
),

42828 
	gÿ
 = ()
¡d
::
cos
(
ªgË
),

42829 
	g§
 = ()
¡d
::
sš
(
ªgË
);

42830 
	gk
 = 0; k<
	gd–2
; ++k) {

42831 cÚ¡ 
	gj
 = 
i
 + 
k
, 
	gnj
 = 
j
 + 
d–2
;

42832 
cimg_fÜYZC
(
»®
,
y
,
z
,
c
) {

42833 
	gT
 &
	gœ
 = 
»®
(
j
,
y
,
z
,
c
), &
	gii
 = 
imag
(j,y,z,c), &
	gnœ
 =„—l(
nj
,y,z,c), &
	gnii
 = imag(nj,y,z,c);

42834 cÚ¡ 
	gtm´
 = ()(
wr
*
nœ
 - 
wi
*
nii
), 
	gtmpi
 = ()(wr*nii + wi*nir);

42835 
	gnœ
 = (
T
)(
œ
 - 
tm´
);

42836 
	gnii
 = (
T
)(
ii
 - 
tmpi
);

42837 
	gœ
+=(
T
)
tm´
;

42838 
	gii
+=(
T
)
tmpi
;

42840 cÚ¡ 
	gnwr
 = 
wr
*
ÿ
-
wi
*
§
;

42841 
	gwi
 = 
wi
*
ÿ
 + 
wr
*
§
;

42842 
	gwr
 = 
nwr
;

42846 ià(
	gis_šv”£
è{ 
	g»®
/=
N
; 
	gimag
/=N; }

42849 cÚ¡ 
N
 = 
»®
.
_height
, 
	gN2
 = N>>1;

42850 ià(((
	gN
 - 1)&N) && N!=1)

42851 
throw
 
CImgIn¡ªûExû±iÚ
("CImgList<%s>::FFT(): Specified„eal‡nd imaginary…arts (%u,%u,%u,%u) "

42853 
pix–_ty³
(),

42854 
»®
.
_width
,»®.
_height
,»®.
_d•th
,»®.
_¥eùrum
);

42856 
	gi
 = 0, 
	gj
 = 0; i<
	gN2
; ++i) {

42857 ià(
	gj
>
	gi
è
cimg_fÜXZC
(
»®
,
x
,
z
,
c
) {

42858 
	gcimg
::
sw­
(
»®
(
x
,
i
,
z
,
c
),»®(x,
j
,z,c));

42859 
	gcimg
::
sw­
(
imag
(
x
,
i
,
z
,
c
),imag(x,
j
,z,c));

42860 ià(
	gj
<
	gN2
) {

42861 cÚ¡ 
	gri
 = 
N
 - 1 - 
i
, 
	grj
 = N - 1 - 
j
;

42862 
	gcimg
::
sw­
(
»®
(
x
,
ri
,
z
,
c
),»®(x,
rj
,z,c));

42863 
	gcimg
::
sw­
(
imag
(
x
,
ri
,
z
,
c
),imag(x,
rj
,z,c));

42866 
	gm
 = 
N
, 
	gn
 = 
N2
; (
	gj
+=
n
)>=
m
; j-=m, m =‚,‚>>=1) {}

42868 
	gd–
 = 2; d–<=
N
; delta<<=1) {

42869 cÚ¡ 
d–2
 = (
d–
>>1);

42870 
	gi
 = 0; i<
	gN
; i+=
d–
) {

42871 
wr
 = 1, 
	gwi
 = 0;

42873 
	gªgË
 = ()((
is_šv”£
?+1:-1)*2*
cimg
::
PI
/
d–
),

42874 
	gÿ
 = ()
¡d
::
cos
(
ªgË
),

42875 
	g§
 = ()
¡d
::
sš
(
ªgË
);

42876 
	gk
 = 0; k<
	gd–2
; ++k) {

42877 cÚ¡ 
	gj
 = 
i
 + 
k
, 
	gnj
 = 
j
 + 
d–2
;

42878 
cimg_fÜXZC
(
»®
,
x
,
z
,
c
) {

42879 
	gT
 &
	gœ
 = 
»®
(
x
,
j
,
z
,
c
), &
	gii
 = 
imag
(x,j,z,c), &
	gnœ
 =„—l(x,
nj
,z,c), &
	gnii
 = imag(x,nj,z,c);

42880 cÚ¡ 
	gtm´
 = ()(
wr
*
nœ
 - 
wi
*
nii
), 
	gtmpi
 = ()(wr*nii + wi*nir);

42881 
	gnœ
 = (
T
)(
œ
 - 
tm´
);

42882 
	gnii
 = (
T
)(
ii
 - 
tmpi
);

42883 
	gœ
+=(
T
)
tm´
;

42884 
	gii
+=(
T
)
tmpi
;

42886 cÚ¡ 
	gnwr
 = 
wr
*
ÿ
-
wi
*
§
;

42887 
	gwi
 = 
wi
*
ÿ
 + 
wr
*
§
;

42888 
	gwr
 = 
nwr
;

42892 ià(
	gis_šv”£
è{ 
	g»®
/=
N
; 
	gimag
/=N; }

42895 cÚ¡ 
N
 = 
»®
.
_d•th
, 
	gN2
 = N>>1;

42896 ià(((
	gN
 - 1)&N) && N!=1)

42897 
throw
 
CImgIn¡ªûExû±iÚ
("CImgList<%s>::FFT(): Specified„eal‡nd imaginary…arts (%u,%u,%u,%u) "

42899 
pix–_ty³
(),

42900 
»®
.
_width
,»®.
_height
,»®.
_d•th
,»®.
_¥eùrum
);

42902 
	gi
 = 0, 
	gj
 = 0; i<
	gN2
; ++i) {

42903 ià(
	gj
>
	gi
è
cimg_fÜXYC
(
»®
,
x
,
y
,
c
) {

42904 
	gcimg
::
sw­
(
»®
(
x
,
y
,
i
,
c
),»®(x,y,
j
,c));

42905 
	gcimg
::
sw­
(
imag
(
x
,
y
,
i
,
c
),imag(x,y,
j
,c));

42906 ià(
	gj
<
	gN2
) {

42907 cÚ¡ 
	gri
 = 
N
 - 1 - 
i
, 
	grj
 = N - 1 - 
j
;

42908 
	gcimg
::
sw­
(
»®
(
x
,
y
,
ri
,
c
),»®(x,y,
rj
,c));

42909 
	gcimg
::
sw­
(
imag
(
x
,
y
,
ri
,
c
),imag(x,y,
rj
,c));

42912 
	gm
 = 
N
, 
	gn
 = 
N2
; (
	gj
+=
n
)>=
m
; j-=m, m =‚,‚>>=1) {}

42914 
	gd–
 = 2; d–<=
N
; delta<<=1) {

42915 cÚ¡ 
d–2
 = (
d–
>>1);

42916 
	gi
 = 0; i<
	gN
; i+=
d–
) {

42917 
wr
 = 1, 
	gwi
 = 0;

42919 
	gªgË
 = ()((
is_šv”£
?+1:-1)*2*
cimg
::
PI
/
d–
),

42920 
	gÿ
 = ()
¡d
::
cos
(
ªgË
),

42921 
	g§
 = ()
¡d
::
sš
(
ªgË
);

42922 
	gk
 = 0; k<
	gd–2
; ++k) {

42923 cÚ¡ 
	gj
 = 
i
 + 
k
, 
	gnj
 = 
j
 + 
d–2
;

42924 
cimg_fÜXYC
(
»®
,
x
,
y
,
c
) {

42925 
	gT
 &
	gœ
 = 
»®
(
x
,
y
,
j
,
c
), &
	gii
 = 
imag
(x,y,j,c), &
	gnœ
 =„—l(x,y,
nj
,c), &
	gnii
 = imag(x,y,nj,c);

42926 cÚ¡ 
	gtm´
 = ()(
wr
*
nœ
 - 
wi
*
nii
), 
	gtmpi
 = ()(wr*nii + wi*nir);

42927 
	gnœ
 = (
T
)(
œ
 - 
tm´
);

42928 
	gnii
 = (
T
)(
ii
 - 
tmpi
);

42929 
	gœ
+=(
T
)
tm´
;

42930 
	gii
+=(
T
)
tmpi
;

42932 cÚ¡ 
	gnwr
 = 
wr
*
ÿ
-
wi
*
§
;

42933 
	gwi
 = 
wi
*
ÿ
 + 
wr
*
§
;

42934 
	gwr
 = 
nwr
;

42938 ià(
	gis_šv”£
è{ 
	g»®
/=
N
; 
	gimag
/=N; }

42952 
FFT
(
CImg
<
T
>& 
»®
, CImg<T>& 
imag
, cÚ¡ 
boŞ
 
is_šv”£
=
çl£
,

42953 cÚ¡ 
nb_th»ads
=0) {

42954 ià(!
»®
)

42955 
throw
 
CImgIn¡ªûExû±iÚ
("CImgList<%s>::FFT(): Empty specified„eal…art.",

42956 
pix–_ty³
());

42957 ià(!
	gimag
èimag.
assign
(
»®
.
_width
,»®.
_height
,»®.
_d•th
,»®.
_¥eùrum
,(
T
)0);

42958 ià(!
	g»®
.
is_§meXYZC
(
imag
))

42959 
throw
 
CImgIn¡ªûExû±iÚ
("CImgList<%s>::FFT(): Specified„eal…art (%u,%u,%u,%u,%p)‡nd "

42961 
pix–_ty³
(),

42962 
»®
.
_width
,»®.
_height
,»®.
_d•th
,»®.
_¥eùrum
,»®.
_d©a
,

42963 
imag
.
_width
,imag.
_height
,imag.
_d•th
,imag.
_¥eùrum
,imag.
_d©a
);

42964 
	gcimg
::
unu£d
(
nb_th»ads
);

42965 #ifdeà
cimg_u£_fáw3


42966 
	gcimg
::
mu‹x
(12);

42967 #iâdeà
cimg_u£_fáw3_sšgËth»ad


42968 
fáw_¶ª_w™h_Áh»ads
(
nb_th»ads
?nb_th»ads:
cimg
::
nb_ıus
());

42970 
fáw_com¶ex
 *
	gd©a_š
 = (fáw_com¶ex*)
fáw_m®loc
((fáw_com¶ex)*
»®
.
_width
*»®.
_height
*»®.
_d•th
);

42971 ià(!
	gd©a_š
)

42972 
throw
 
CImgIn¡ªûExû±iÚ
("CImgList<%s>::FFT(): Failedo‡llocate memory (%s) "

42974 
pix–_ty³
(),

42975 
cimg
::
¡rbufãrsize
((
fáw_com¶ex
)*
»®
.
_width
*

42976 
»®
.
_height
*»®.
_d•th
*»®.
_¥eùrum
),

42977 
»®
.
_width
,»®.
_height
,»®.
_d•th
,»®.
_¥eùrum
);

42978 *cÚ¡ 
	g±rf
 = (*)
d©a_š
;

42979 
fáw_¶ª
 
	gd©a_¶ª
 =

42980 
»®
.
_d•th
>1?
fáw_¶ª_dá_3d
Ô—l._d•th,»®.
_height
,»®.
_width
,
d©a_š
,data_in,

42981 
is_šv”£
?
FFTW_BACKWARD
:
FFTW_FORWARD
,
FFTW_ESTIMATE
):

42982 
»®
.
_height
>1?
fáw_¶ª_dá_2d
Ô—l._height,»®.
_width
,
d©a_š
,data_in,

42983 
is_šv”£
?
FFTW_BACKWARD
:
FFTW_FORWARD
,
FFTW_ESTIMATE
):

42984 
fáw_¶ª_dá_1d
(
»®
.
_width
,
d©a_š
,data_in,

42985 
is_šv”£
?
FFTW_BACKWARD
:
FFTW_FORWARD
,
FFTW_ESTIMATE
);

42986 
cimg_fÜC
(
»®
,
c
) {

42987 
	gCImg
<
	gT
> 
	g»®c
 = 
»®
.
g‘_sh¬ed_chªÃl
(
c
), 
	gimagc
 = 
imag
.get_shared_channel(c);

42988 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
»®
.
width
()*»®.
height
()*»®.
d•th
(),125000))

42989 
cimg_rofoff
(
»®c
,
i
è{ cÚ¡ 
ulÚgT
 
	gi2
 = 2*i; 
	g±rf
[
i2
] = (ì—lc[i];…Œf[i2 + 1] = ()
imagc
[i]; }

42990 
fáw_execu‹
(
d©a_¶ª
);

42991 ià(
	gis_šv”£
) {

42992 cÚ¡ 
	ga
 = 1.0/(
»®
.
width
()*»®.
height
()*»®.
d•th
());

42993 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
»®
.
width
()*»®.
height
()*»®.
d•th
(),125000))

42994 
cimg_rofoff
(
»®c
,
i
è{ cÚ¡ 
ulÚgT
 
	gi2
 = 2*i; 
	g»®c
[i] = (
T
)(
a
*
±rf
[
i2
]); 
	gimagc
[i] = (T)(a*ptrf[i2 + 1]); }

42996 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
»®
.
width
()*»®.
height
()*»®.
d•th
(),125000))

42997 
cimg_rofoff
(
»®c
,
i
è{ cÚ¡ 
ulÚgT
 
	gi2
 = 2*i; 
	g»®c
[i] = (
T
)
±rf
[
i2
]; 
	gimagc
[i] = (T)ptrf[i2 + 1]; }

42999 
fáw_de¡roy_¶ª
(
d©a_¶ª
);

43000 
fáw_ä“
(
d©a_š
);

43001 #iâdeà
cimg_u£_fáw3_sšgËth»ad


43002 
fáw_ş—nup_th»ads
();

43004 
	gcimg
::
mu‹x
(12,0);

43006 ià(
	g»®
.
	g_d•th
>1è
FFT
(
»®
,
imag
,'z',
is_šv”£
);

43007 ià(
	g»®
.
	g_height
>1è
FFT
(
»®
,
imag
,'y',
is_šv”£
);

43008 ià(
	g»®
.
	g_width
>1è
FFT
(
»®
,
imag
,'x',
is_šv”£
);

43027 
	gCImg
<
	gT
>& 
rÙ©e_objeù3d
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
w
,

43028 cÚ¡ 
boŞ
 
is_qu©”niÚ
=
çl£
) {

43029  
g‘_rÙ©e_objeù3d
(
x
,
y
,
z
,
w
,
is_qu©”niÚ
).
move_to
(*
this
);

43032 
	gCImg
<
	gTæßt
> 
g‘_rÙ©e_objeù3d
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
w
,

43033 cÚ¡ 
boŞ
 
is_qu©”niÚ
=
çl£
) const {

43034 ià(
_height
!=3 || 
_d•th
>1 || 
_¥eùrum
>1)

43035 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


43037 
cimg_š¡ªû
);

43038  
	gCImg
<
	gTæßt
>::
rÙ©iÚ_m©rix
(
x
,
y
,
z
,
w
,
is_qu©”niÚ
)**
	gthis
;

43047 
	gCImg
<
	gT
>& 
shiá_objeù3d
(cÚ¡ 
tx
, cÚ¡ 
ty
=0, cÚ¡ 
tz
=0) {

43048 ià(
_height
!=3 || 
_d•th
>1 || 
_¥eùrum
>1)

43049 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


43051 
cimg_š¡ªû
);

43053 
g‘_sh¬ed_row
(0)+=
tx
; g‘_sh¬ed_row(1)+=
ty
; g‘_sh¬ed_row(2)+=
tz
;

43054  *
	gthis
;

43058 
	gCImg
<
	gTæßt
> 
g‘_shiá_objeù3d
(cÚ¡ 
tx
, cÚ¡ 
ty
=0, cÚ¡ 
tz
=0) const {

43059  
CImg
<
Tæßt
>(*
this
,
çl£
).
shiá_objeù3d
(
tx
,
ty
,
tz
);

43066 
	gCImg
<
	gT
>& 
shiá_objeù3d
() {

43067 ià(
	g_height
!=3 || 
_d•th
>1 || 
_¥eùrum
>1)

43068 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


43070 
cimg_š¡ªû
);

43072 
	gCImg
<
	gT
> 
	gxcoÜds
 = 
g‘_sh¬ed_row
(0), 
	gycoÜds
 = g‘_sh¬ed_row(1), 
	gzcoÜds
 = get_shared_row(2);

43074 
	gxm
, 
	gxM
 = ()
xcoÜds
.
max_mš
(
xm
),

43075 
	gym
, 
	gyM
 = ()
ycoÜds
.
max_mš
(
ym
),

43076 
	gzm
, 
	gzM
 = ()
zcoÜds
.
max_mš
(
zm
);

43077 
	gxcoÜds
-=(
xm
 + 
xM
)/2; 
	gycoÜds
-=(
ym
 + 
yM
)/2; 
	gzcoÜds
-=(
zm
 + 
zM
)/2;

43078  *
	gthis
;

43082 
	gCImg
<
	gTæßt
> 
g‘_shiá_objeù3d
() const {

43083  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
).
shiá_objeù3d
();

43092 
	gCImg
<
	gT
>& 
»size_objeù3d
(cÚ¡ 
sx
, cÚ¡ 
sy
=-100, cÚ¡ 
sz
=-100) {

43093 ià(
_height
!=3 || 
_d•th
>1 || 
_¥eùrum
>1)

43094 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


43096 
cimg_š¡ªû
);

43098 
	gCImg
<
	gT
> 
	gxcoÜds
 = 
g‘_sh¬ed_row
(0), 
	gycoÜds
 = g‘_sh¬ed_row(1), 
	gzcoÜds
 = get_shared_row(2);

43100 
	gxm
, 
	gxM
 = ()
xcoÜds
.
max_mš
(
xm
),

43101 
	gym
, 
	gyM
 = ()
ycoÜds
.
max_mš
(
ym
),

43102 
	gzm
, 
	gzM
 = ()
zcoÜds
.
max_mš
(
zm
);

43103 ià(
	gxm
<
	gxM
è{ ià(
	gsx
>0è
	gxcoÜds
*=
sx
/(
xM
-
xm
); xcoords*=-sx/100; }

43104 ià(
	gym
<
	gyM
è{ ià(
	gsy
>0è
	gycoÜds
*=
sy
/(
yM
-
ym
); ycoords*=-sy/100; }

43105 ià(
	gzm
<
	gzM
è{ ià(
	gsz
>0è
	gzcoÜds
*=
sz
/(
zM
-
zm
); zcoords*=-sz/100; }

43106  *
	gthis
;

43110 
	gCImg
<
	gTæßt
> 
g‘_»size_objeù3d
(cÚ¡ 
sx
, cÚ¡ 
sy
=-100, cÚ¡ 
sz
=-100) const {

43111  
CImg
<
Tæßt
>(*
this
,
çl£
).
»size_objeù3d
(
sx
,
sy
,
sz
);

43115 
	gCImg
<
	gT
> 
»size_objeù3d
() {

43116 ià(
	g_height
!=3 || 
_d•th
>1 || 
_¥eùrum
>1)

43117 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


43119 
cimg_š¡ªû
);

43121 
	gCImg
<
	gT
> 
	gxcoÜds
 = 
g‘_sh¬ed_row
(0), 
	gycoÜds
 = g‘_sh¬ed_row(1), 
	gzcoÜds
 = get_shared_row(2);

43123 
	gxm
, 
	gxM
 = ()
xcoÜds
.
max_mš
(
xm
),

43124 
	gym
, 
	gyM
 = ()
ycoÜds
.
max_mš
(
ym
),

43125 
	gzm
, 
	gzM
 = ()
zcoÜds
.
max_mš
(
zm
);

43126 cÚ¡ 
	gdx
 = 
xM
 - 
xm
, 
	gdy
 = 
yM
 - 
ym
, 
	gdz
 = 
zM
 - 
zm
, 
	gdmax
 = 
cimg
::
max
(
dx
,
dy
,
dz
);

43127 ià(
	gdmax
>0è{ 
	gxcoÜds
/=
dmax
; 
	gycoÜds
/=dmax; 
	gzcoÜds
/=dmax; }

43128  *
	gthis
;

43132 
	gCImg
<
	gTæßt
> 
g‘_»size_objeù3d
() const {

43133  
	gCImg
<
	gTæßt
>(*
	gthis
,
	gçl£
).
»size_objeù3d
();

43142 
	g‹m¶©e
<
ty³Çme
 
	gtf
,y³Çm
	g
,y³Çm
	gtff
>

43143 
	gCImg
<
	gT
>& 
­³nd_objeù3d
(
CImgLi¡
<
tf
>& 
´im™ives
, cÚ¡ 
CImg
<

>& 
obj_v”tiûs
,

43144 cÚ¡ 
CImgLi¡
<
tff
>& 
obj_´im™ives
) {

43145 ià(!
	gobj_v”tiûs
 || !
	gobj_´im™ives
è *
	gthis
;

43146 ià(
	gobj_v”tiûs
.
	g_height
!=3 || 
obj_v”tiûs
.
_d•th
>1 || obj_v”tiûs.
_¥eùrum
>1)

43147 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


43150 
cimg_š¡ªû
,

43151 
obj_v”tiûs
.
_width
,obj_v”tiûs.
_height
,

43152 
obj_v”tiûs
.
_d•th
,obj_v”tiûs.
_¥eùrum
,obj_v”tiûs.
_d©a
);

43154 ià(
is_em±y
()è{ 
	g´im™ives
.
assign
(
obj_´im™ives
); ‡ssign(
obj_v”tiûs
); }

43155 ià(
	g_height
!=3 || 
_d•th
>1 || 
_¥eùrum
>1)

43156 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


43158 
cimg_š¡ªû
);

43160 cÚ¡ 
	gP
 = 
_width
;

43161 
­³nd
(
obj_v”tiûs
,'x');

43162 cÚ¡ 
	gN
 = 
´im™ives
.
_width
;

43163 
	g´im™ives
.
š£¹
(
obj_´im™ives
);

43164 
	gi
 = 
N
; i<
	g´im™ives
.
	g_width
; ++i) {

43165 
	gCImg
<
	gtf
> &
	gp
 = 
´im™ives
[
i
];

43166 
	gp
.
size
()) {

43167 1 : 
p
[0]+=
P
; ;

43168 5 : 
p
[0]+=
P
; 
	gp
[1]+=P; ;

43169 2 : 6 : 
p
[0]+=
P
; 
	gp
[1]+=P; ;

43170 3 : 9 : 
p
[0]+=
P
; 
	gp
[1]+=P;…[2]+=P; ;

43171 4 : 12 : 
p
[0]+=
P
; 
	gp
[1]+=P;…[2]+=P;…[3]+=P; ;

43174  *
	gthis
;

43184 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtc
,y³Çm
	g‰
,y³Çm
	gtx
>

43185 cÚ¡ 
	gCImg
<
	gT
>& 
‹xturize_objeù3d
(
CImgLi¡
<

>& 
´im™ives
, CImgLi¡<
tc
>& 
cŞÜs
,

43186 cÚ¡ 
CImg
<
‰
>& 
‹xtu»
, cÚ¡ CImg<
tx
>& 
coÜds
=CImg<tx>::
cÚ¡_em±y
()) const {

43187 ià(
is_em±y
()è *
this
;

43188 ià(
	g_height
!=3)

43189 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


43191 
cimg_š¡ªû
);

43192 ià(
	gcoÜds
 && (coÜds.
	g_width
!=
_width
 || 
coÜds
.
_height
!=2))

43193 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


43195 
cimg_š¡ªû
,

43196 
coÜds
.
_width
,coÜds.
_height
,coÜds.
_d•th
,coÜds.
_¥eùrum
,coÜds.
_d©a
);

43197 
	gCImg
<
	gštT
> 
	g_coÜds
;

43198 ià(!
	gcoÜds
) {

43199 
	g_coÜds
.
assign
(
_width
,2);

43201 
	gxmš
, 
	gxmax
 = ()
g‘_sh¬ed_row
(0).
max_mš
(
xmš
),

43202 
	gymš
, 
	gymax
 = ()
g‘_sh¬ed_row
(1).
max_mš
(
ymš
),

43203 
	gdx
 = 
xmax
>
xmš
?xmax-xmin:1,

43204 
	gdy
 = 
ymax
>
ymš
?ymax-ymin:1;

43205 
cimg_fÜX
(*
this
,
p
) {

43206 
_coÜds
(
p
,0èğ()(((*
this
)Õ,0è- 
	gxmš
)*
	g‹xtu»
.
	g_width
/
	gdx
);

43207 
_coÜds
(
p
,1èğ()(((*
this
)Õ,1è- 
	gymš
)*
	g‹xtu»
.
	g_height
/
	gdy
);

43209 } 
	g_coÜds
 = 
coÜds
;

43211 
	g‹xtu»_šd
 = -1;

43212 
cimgli¡_fÜ
(
´im™ives
,
l
) {

43213 
	gCImg
<
	g
> &
	gp
 = 
´im™ives
[
l
];

43214 cÚ¡ 
	gsiz
 = 
p
.
size
();

43215 
	gsiz
) {

43217 cÚ¡ 
i0
 = ()
p
[0];

43218 cÚ¡ 
	gx0
 = 
_coÜds
(
i0
,0), 
	gy0
 = _coords(i0,1);

43219 
	g‹xtu»
.
g‘_veùÜ_©
(
x0
<=0?0:x0>=
‹xtu»
.
width
()?texture.width() - 1:x0,

43220 
y0
<=0?0:y0>=
‹xtu»
.
height
()?‹xtu».height(è- 1:y0).
move_to
(
cŞÜs
[
l
]);

43223 cÚ¡ 
i0
 = ()
p
[0], 
	gi1
 = ()p[1];

43225 
	gx0
 = 
_coÜds
(
i0
,0), 
	gy0
 = _coords(i0,1),

43226 
	gx1
 = 
_coÜds
(
i1
,0), 
	gy1
 = _coords(i1,1);

43227 ià(
	g‹xtu»_šd
<0è
	gcŞÜs
[
‹xtu»_šd
=
l
].
assign
(
‹xtu»
,
çl£
);

43228 
	gcŞÜs
[
l
].
assign
(
cŞÜs
[
‹xtu»_šd
],
Œue
);

43229 
	gCImg
<
	g
>::
veùÜ
(
i0
,
i1
,
x0
,
y0
,
x1
,
y1
).
move_to
(
p
);

43232 cÚ¡ 
i0
 = ()
p
[0], 
	gi1
 = (í[1], 
	gi2
 = ()p[2];

43234 
	gx0
 = 
_coÜds
(
i0
,0), 
	gy0
 = _coords(i0,1),

43235 
	gx1
 = 
_coÜds
(
i1
,0), 
	gy1
 = _coords(i1,1),

43236 
	gx2
 = 
_coÜds
(
i2
,0), 
	gy2
 = _coords(i2,1);

43237 ià(
	g‹xtu»_šd
<0è
	gcŞÜs
[
‹xtu»_šd
=
l
].
assign
(
‹xtu»
,
çl£
);

43238 
	gcŞÜs
[
l
].
assign
(
cŞÜs
[
‹xtu»_šd
],
Œue
);

43239 
	gCImg
<
	g
>::
veùÜ
(
i0
,
i1
,
i2
,
x0
,
y0
,
x1
,
y1
,
x2
,
y2
).
move_to
(
p
);

43243 
i0
 = ()
p
[0], 
	gi1
 = (í[1], 
	gi2
 = (í[2], 
	gi3
 = ()p[3];

43245 
	gx0
 = 
_coÜds
(
i0
,0), 
	gy0
 = _coords(i0,1),

43246 
	gx1
 = 
_coÜds
(
i1
,0), 
	gy1
 = _coords(i1,1),

43247 
	gx2
 = 
_coÜds
(
i2
,0), 
	gy2
 = _coords(i2,1),

43248 
	gx3
 = 
_coÜds
(
i3
,0), 
	gy3
 = _coords(i3,1);

43249 ià(
	g‹xtu»_šd
<0è
	gcŞÜs
[
‹xtu»_šd
=
l
].
assign
(
‹xtu»
,
çl£
);

43250 
	gcŞÜs
[
l
].
assign
(
cŞÜs
[
‹xtu»_šd
],
Œue
);

43251 
	gCImg
<
	g
>::
veùÜ
(
i0
,
i1
,
i2
,
i3
,
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,
x3
,
y3
).
move_to
(
p
);

43255  *
	gthis
;

43275 
	g‹m¶©e
<
ty³Çme
 
	gtf
,y³Çm
	gtc
,y³Çm
	g‹
>

43276 
	gCImg
<
	gæßtT
> 
g‘_–ev©iÚ3d
(
CImgLi¡
<
tf
>& 
´im™ives
, CImgLi¡<
tc
>& 
cŞÜs
, cÚ¡ 
CImg
<
‹
>& 
–ev©iÚ
) const {

43277 ià(!
is_§meXY
(
–ev©iÚ
è|| 
	g–ev©iÚ
.
	g_d•th
>1 ||ƒËv©iÚ.
	g_¥eùrum
>1)

43278 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


43281 
cimg_š¡ªû
,

43282 
–ev©iÚ
.
_width
,–ev©iÚ.
_height
,–ev©iÚ.
_d•th
,

43283 
–ev©iÚ
.
_¥eùrum
,–ev©iÚ.
_d©a
);

43284 ià(
is_em±y
()è *
	gthis
;

43285 
	gm
, 
	gM
 = ()
max_mš
(
m
);

43286 ià(
	gM
==
m
è++
M
;

43287 
	gcŞÜs
.
assign
();

43288 cÚ¡ 
	gsize_x1
 = 
_width
 - 1, 
	gsize_y1
 = 
_height
 - 1;

43289 
	gy
 = 0; y<
	gsize_y1
; ++y)

43290 
	gx
 = 0; x<
	gsize_x1
; ++x) {

43292 
	gr
 = ()(((*
this
)(
x
,
	gy
,0è- 
	gm
)*255/(
	gM
-m)),

43293 
	gg
 = ()(
_¥eùrum
>1?((*
this
)(
x
,
	gy
,1è- 
	gm
)*255/(
	gM
-m):
r
),

43294 
	gb
 = ()(
_¥eùrum
>2?((*
this
)(
x
,
	gy
,2è- 
	gm
)*255/(
	gM
-m):_¥eùrum>1?0:
r
);

43295 
	gCImg
<
	gtc
>::
veùÜ
((
tc
)
r
,Ñc)
g
,Ñc)
b
).
move_to
(
cŞÜs
);

43297 cÚ¡ 
ty³Çme
 
	gCImg
<
	g‹
>::
_funùÜ2d_št
 
func
(
–ev©iÚ
);

43298  
–ev©iÚ3d
(
´im™ives
,
func
,0,0,
_width
 - 1.f,
_height
 - 1.f,_width,_height);

43310 
	g‹m¶©e
<
ty³Çme
 
	gtf
,y³Çm
	gtc
>

43311 
	gCImg
<
	gæßtT
> 
g‘_´ojeùiÚs3d
(
CImgLi¡
<
tf
>& 
´im™ives
, CImgLi¡<
tc
>& 
cŞÜs
,

43312 cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
,

43313 cÚ¡ 
boŞ
 
nÜm®ize_cŞÜs
=
çl£
) const {

43314 
m
 = 0, 
	gM
 = 0, 
	gd–
 = 1;

43315 ià(
	gnÜm®ize_cŞÜs
è{ 
	gm
 = ()
mš_max
(
M
); 
	gd–
 = 255/(
m
==M?1:M-m); }

43317 
	g_x0
 = (
x0
>=
_width
)?_width - 1:x0,

43318 
	g_y0
 = (
y0
>=
_height
)?_height - 1:y0,

43319 
	g_z0
 = (
z0
>=
_d•th
)?_depth - 1:z0;

43320 
	gCImg
<
	gtc
> 
	gimg_xy
, 
	gimg_xz
, 
	gimg_yz
;

43321 ià(
	gnÜm®ize_cŞÜs
) {

43322 ((
g‘_üİ
(0,0,
_z0
,0,
_width
 - 1,
_height
 - 1,_z0,
_¥eùrum
 - 1)-=
m
)*=
d–
).
move_to
(
img_xy
);

43323 ((
g‘_üİ
(0,
_y0
,0,0,
_width
 - 1,_y0,
_d•th
 - 1,
_¥eùrum
 - 1)-=
m
)*=
d–
).
»size
(_width,_depth,1,-100,-1).

43324 
move_to
(
img_xz
);

43325 ((
g‘_üİ
(
_x0
,0,0,0,_x0,
_height
 - 1,
_d•th
 - 1,
_¥eùrum
 - 1)-=
m
)*=
d–
).
»size
(_height,_depth,1,-100,-1).

43326 
move_to
(
img_yz
);

43328 
g‘_üİ
(0,0,
_z0
,0,
_width
 - 1,
_height
 - 1,_z0,
_¥eùrum
 - 1).
move_to
(
img_xy
);

43329 
g‘_üİ
(0,
_y0
,0,0,
_width
 - 1,_y0,
_d•th
 - 1,
_¥eùrum
 - 1).
»size
(_width,_d•th,1,-100,-1).
move_to
(
img_xz
);

43330 
g‘_üİ
(
_x0
,0,0,0,_x0,
_height
 - 1,
_d•th
 - 1,
_¥eùrum
 - 1).
»size
(_height,_d•th,1,-100,-1).
move_to
(
img_yz
);

43332 
	gCImg
<
	gæßtT
> 
pošts
(12,3,1,1,

43333 0,
_width
 - 1,_width - 1,0, 0,_width - 1,_width - 1,0, 
_x0
,_x0,_x0,_x0,

43334 0,0,
_height
 - 1,_heighˆ- 1, 
_y0
,_y0,_y0,_y0, 0,_height - 1,_height - 1,0,

43335 
_z0
,_z0,_z0,_z0, 0,0,
_d•th
 - 1,_depth - 1, 0,0,_depth - 1,_depth - 1);

43336 
	g´im™ives
.
assign
();

43337 
	gCImg
<
	gtf
>::
veùÜ
(0,1,2,3,0,0,
img_xy
.
_width
 - 1,0,img_xy._width - 1,img_xy.
_height
 - 1,0,img_xy._height - 1).

43338 
move_to
(
´im™ives
);

43339 
	gCImg
<
	gtf
>::
veùÜ
(4,5,6,7,0,0,
img_xz
.
_width
 - 1,0,img_xz._width - 1,img_xz.
_height
 - 1,0,img_xz._height - 1).

43340 
move_to
(
´im™ives
);

43341 
	gCImg
<
	gtf
>::
veùÜ
(8,9,10,11,0,0,
img_yz
.
_width
 - 1,0,img_yz._width - 1,img_yz.
_height
 - 1,0,img_yz._height - 1).

43342 
move_to
(
´im™ives
);

43343 
	gcŞÜs
.
assign
();

43344 
	gimg_xy
.
move_to
(
cŞÜs
);

43345 
	gimg_xz
.
move_to
(
cŞÜs
);

43346 
	gimg_yz
.
move_to
(
cŞÜs
);

43347  
	gpošts
;

43367 
	g‹m¶©e
<
ty³Çme
 
	gtf
>

43368 
	gCImg
<
	gæßtT
> 
g‘_isŞše3d
(
CImgLi¡
<
tf
>& 
´im™ives
, cÚ¡ 
isov®ue
,

43369 cÚ¡ 
size_x
=-100, cÚ¡ 
size_y
=-100) const {

43370 ià(
_¥eùrum
>1)

43371 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


43373 
cimg_š¡ªû
);

43374 ià(
	g_d•th
>1)

43375 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


43377 
cimg_š¡ªû
);

43378 
	g´im™ives
.
assign
();

43379 ià(
is_em±y
()è *
	gthis
;

43380 
	gCImg
<
	gæßtT
> 
	gv”tiûs
;

43381 ià((
	gsize_x
==-100 && 
size_y
==-100è|| (
size_x
==
width
(è&& size_y==
height
())) {

43382 cÚ¡ 
_funùÜ2d_št
 
func
(*
this
);

43383 
	gv”tiûs
 = 
isŞše3d
(
´im™ives
,
func
,
isov®ue
,0,0,
width
(è- 1.f,
height
() - 1.f,width(),height());

43385 cÚ¡ 
_funùÜ2d_æßt
 
func
(*
this
);

43386 
	gv”tiûs
 = 
isŞše3d
(
´im™ives
,
func
,
isov®ue
,0,0,
width
(è- 1.f,
height
(è- 1.f,
size_x
,
size_y
);

43388  
	gv”tiûs
;

43404 
	g‹m¶©e
<
ty³Çme
 
	gtf
,y³Çm
	gtfunc
>

43405 
	gCImg
<
	gæßtT
> 
isŞše3d
(
CImgLi¡
<
tf
>& 
´im™ives
, cÚ¡ 
tfunc
& 
func
, cÚ¡ 
isov®ue
,

43406 cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
x1
, cÚ¡ 
y1
,

43407 cÚ¡ 
size_x
=256, cÚ¡ 
size_y
=256) {

43408 
CImgLi¡
<
æßtT
> 
v”tiûs
;

43409 
	g´im™ives
.
assign
();

43410 
ty³Çme
 
	gCImg
<
	gæßtT
>::
_funùÜ_isŞše3d
 
add_v”‹x
(
v”tiûs
);

43411 
ty³Çme
 
	gCImg
<
	gtf
>::
_funùÜ_isŞše3d
 
add_£gm’t
(
´im™ives
);

43412 
isŞše3d
(
add_v”‹x
,
add_£gm’t
,
func
,
isov®ue
,
x0
,
y0
,
x1
,
y1
,
size_x
,
size_y
);

43413  
	gv”tiûs
>'x';

43430 
	g‹m¶©e
<
ty³Çme
 
	gtv
,y³Çm
	gtf
,y³Çm
	gtfunc
>

43431 
isŞše3d
(
tv
& 
add_v”‹x
, 
tf
& 
add_£gm’t
, cÚ¡ 
tfunc
& 
func
, cÚ¡ 
isov®ue
,

43432 cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
x1
, cÚ¡ 
y1
,

43433 cÚ¡ 
size_x
, cÚ¡ 
size_y
) {

43434 cÚ¡ 
	gedges
[16] = { 0x0, 0x9, 0x3, 0xa, 0x6, 0xf, 0x5, 0xc, 0xc,

43436 cÚ¡ 
	g£gm’ts
[16][4] = { { -1,-1,-1,-1 }, { 0,3,-1,-1 }, { 0,1,-1,-1 }, { 1,3,-1,-1 },

43441 
	g_nx
 = ()(
size_x
>=0?size_x:
cimg
::
round
((
x1
-
x0
)*-size_x/100 + 1)),

43442 
	g_ny
 = ()(
size_y
>=0?size_y:
cimg
::
round
((
y1
-
y0
)*-size_y/100 + 1)),

43443 
	gnx
 = 
_nx
?_nx:1,

43444 
	gny
 = 
_ny
?_ny:1,

43445 
	gnxm1
 = 
nx
 - 1,

43446 
	gnym1
 = 
ny
 - 1;

43448 ià(!
	gnxm1
 || !
	gnym1
) ;

43449 cÚ¡ 
	gdx
 = (
x1
 - 
x0
)/
nxm1
, 
	gdy
 = (
y1
 - 
y0
)/
nym1
;

43450 
	gCImg
<
	gštT
> 
šdiûs1
(
nx
,1,1,2,-1), 
šdiûs2
(nx,1,1,2);

43451 
	gCImg
<
	gæßtT
> 
v®ues1
(
nx
), 
v®ues2
(nx);

43452 
	gX
 = 
x0
, 
	gY
 = 
y0
, 
	gnX
 = 
X
 + 
dx
, 
	gnY
 = 
Y
 + 
dy
;

43453 
	gnb_v”tiûs
 = 0;

43456 
cimg_fÜX
(
v®ues1
,
x
è{ v®ues1(xèğ()
func
(
X
,
Y
); 
	gX
+=
dx
; }

43459 
	gyi
 = 0, 
	gnyi
 = 1; yi<
	gnym1
; ++yi, ++nyi, 
	gY
=
nY
, 
	gnY
+=
dy
) {

43460 
X
 = 
x0
; 
	gnX
 = X + 
dx
;

43461 
	gšdiûs2
.
fl
(-1);

43462 
v®ues2
(0èğ()
func
(
X
,
nY
);

43463 
	gxi
 = 0, 
	gnxi
 = 1; xi<
	gnxm1
; ++xi, ++nxi, 
	gX
=
nX
, 
	gnX
+=
dx
) {

43467 
v®0
 = 
v®ues1
(
xi
),

43468 
	gv®1
 = 
v®ues1
(
nxi
),

43469 
	gv®2
 = 
v®ues2
(
nxi
èğ()
func
(
nX
,
nY
),

43470 
	gv®3
 = 
v®ues2
(
xi
);

43472 
	gcÚfigu¿tiÚ
 = (
v®0
<
isov®ue
?1U:0Uè| (
v®1
<isovalue?2U:0U) |

43473 (
v®2
<
isov®ue
?4U:0Uè| (
v®3
<isovalue?8U:0U),

43474 
	gedge
 = 
edges
[
cÚfigu¿tiÚ
];

43477 ià(
	gedge
) {

43478 ià((
	gedge
&1è&& 
šdiûs1
(
xi
,0)<0) {

43479 cÚ¡ 
	gXi
 = 
X
 + (
isov®ue
-
v®0
)*
dx
/(
v®1
-val0);

43480 
šdiûs1
(
xi
,0èğ
nb_v”tiûs
++;

43481 
add_v”‹x
(
Xi
,
Y
,0.0f);

43483 ià((
	gedge
&2è&& 
šdiûs1
(
nxi
,1)<0) {

43484 cÚ¡ 
	gYi
 = 
Y
 + (
isov®ue
-
v®1
)*
dy
/(
v®2
-val1);

43485 
šdiûs1
(
nxi
,1èğ
nb_v”tiûs
++;

43486 
add_v”‹x
(
nX
,
Yi
,0.0f);

43488 ià((
	gedge
&4è&& 
šdiûs2
(
xi
,0)<0) {

43489 cÚ¡ 
	gXi
 = 
X
 + (
isov®ue
-
v®3
)*
dx
/(
v®2
-val3);

43490 
šdiûs2
(
xi
,0èğ
nb_v”tiûs
++;

43491 
add_v”‹x
(
Xi
,
nY
,0.0f);

43493 ià((
	gedge
&8è&& 
šdiûs1
(
xi
,1)<0) {

43494 cÚ¡ 
	gYi
 = 
Y
 + (
isov®ue
-
v®0
)*
dy
/(
v®3
-val0);

43495 
šdiûs1
(
xi
,1èğ
nb_v”tiûs
++;

43496 
add_v”‹x
(
X
,
Yi
,0.0f);

43500 cÚ¡ *
	g£gm’t
 = 
£gm’ts
[
cÚfigu¿tiÚ
]; *segment!=-1; ) {

43501 cÚ¡ 
	gp0
 = ()*(
£gm’t
++), 
	gp1
 = ()*(segment++);

43503 
	gi0
 = 
_isŞše3d_šdex
(
p0
,
šdiûs1
,
šdiûs2
,
xi
,
nxi
),

43504 
	gi1
 = 
_isŞše3d_šdex
(
p1
,
šdiûs1
,
šdiûs2
,
xi
,
nxi
);

43505 
add_£gm’t
(
i0
,
i1
);

43509 
	gv®ues1
.
sw­
(
v®ues2
);

43510 
	gšdiûs1
.
sw­
(
šdiûs2
);

43515 
	g‹m¶©e
<
ty³Çme
 
	gtf
>

43516 
	gCImg
<
	gæßtT
> 
isŞše3d
(
CImgLi¡
<
tf
>& 
´im™ives
, cÚ¡ *cÚ¡ 
ex´essiÚ
, cÚ¡ 
isov®ue
,

43517 cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
x1
, cÚ¡ 
y1
,

43518 cÚ¡ 
size_x
=256, cÚ¡ 
size_y
=256) {

43519 cÚ¡ 
_funùÜ2d_ex´
 
func
(
ex´essiÚ
);

43520  
isŞše3d
(
´im™ives
,
func
,
isov®ue
,
x0
,
y0
,
x1
,
y1
,
size_x
,
size_y
);

43523 
	g‹m¶©e
<
ty³Çme
 
	gt
>

43524 
_isŞše3d_šdex
(cÚ¡ 
edge
, cÚ¡ 
CImg
<
t
>& 
šdiûs1
, cÚ¡ CImg<t>& 
šdiûs2
,

43525 cÚ¡ 
x
, cÚ¡ 
nx
) {

43526 
	gedge
) {

43527 0 :  ()
šdiûs1
(
x
,0);

43528 1 :  ()
šdiûs1
(
nx
,1);

43529 2 :  ()
šdiûs2
(
x
,0);

43530 3 :  ()
šdiûs1
(
x
,1);

43553 
	g‹m¶©e
<
ty³Çme
 
	gtf
>

43554 
	gCImg
<
	gæßtT
> 
g‘_isosurçû3d
(
CImgLi¡
<
tf
>& 
´im™ives
, cÚ¡ 
isov®ue
,

43555 cÚ¡ 
size_x
=-100, cÚ¡ 
size_y
=-100, cÚ¡ 
size_z
=-100) const {

43556 ià(
_¥eùrum
>1)

43557 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


43559 
cimg_š¡ªû
);

43560 
	g´im™ives
.
assign
();

43561 ià(
is_em±y
()è *
	gthis
;

43562 
	gCImg
<
	gæßtT
> 
	gv”tiûs
;

43563 ià((
	gsize_x
==-100 && 
size_y
==-100 && 
size_z
==-100è|| (
size_x
==
width
(è&& size_y==
height
(è&& size_z==
d•th
())) {

43564 cÚ¡ 
_funùÜ3d_št
 
func
(*
this
);

43565 
	gv”tiûs
 = 
isosurçû3d
(
´im™ives
,
func
,
isov®ue
,0,0,0,
width
(è- 1.f,
height
(è- 1.f,
d•th
() - 1.f,

43566 
width
(),
height
(),
d•th
());

43568 cÚ¡ 
_funùÜ3d_æßt
 
func
(*
this
);

43569 
	gv”tiûs
 = 
isosurçû3d
(
´im™ives
,
func
,
isov®ue
,0,0,0,
width
(è- 1.f,
height
(è- 1.f,
d•th
() - 1.f,

43570 
size_x
,
size_y
,
size_z
);

43572  
	gv”tiûs
;

43591 
	g‹m¶©e
<
ty³Çme
 
	gtf
,y³Çm
	gtfunc
>

43592 
	gCImg
<
	gæßtT
> 
isosurçû3d
(
CImgLi¡
<
tf
>& 
´im™ives
, cÚ¡ 
tfunc
& 
func
, cÚ¡ 
isov®ue
,

43593 cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
,

43594 cÚ¡ 
x1
, cÚ¡ 
y1
, cÚ¡ 
z1
,

43595 cÚ¡ 
size_x
=32, cÚ¡ 
size_y
=32, cÚ¡ 
size_z
=32) {

43596 
CImgLi¡
<
æßtT
> 
v”tiûs
;

43597 
	g´im™ives
.
assign
();

43598 
ty³Çme
 
	gCImg
<
	gæßtT
>::
_funùÜ_isosurçû3d
 
add_v”‹x
(
v”tiûs
);

43599 
ty³Çme
 
	gCImg
<
	gtf
>::
_funùÜ_isosurçû3d
 
add_ŒŸngË
(
´im™ives
);

43600 
isosurçû3d
(
add_v”‹x
,
add_ŒŸngË
,
func
,
isov®ue
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
size_x
,
size_y
,
size_z
);

43601  
	gv”tiûs
>'x';

43621 
	g‹m¶©e
<
ty³Çme
 
	gtv
,y³Çm
	gtf
,y³Çm
	gtfunc
>

43622 
isosurçû3d
(
tv
& 
add_v”‹x
, 
tf
& 
add_ŒŸngË
, cÚ¡ 
tfunc
& 
func
, cÚ¡ 
isov®ue
,

43623 cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
,

43624 cÚ¡ 
x1
, cÚ¡ 
y1
, cÚ¡ 
z1
,

43625 cÚ¡ 
size_x
, cÚ¡ 
size_y
, cÚ¡ 
size_z
) {

43626 cÚ¡ 
	gedges
[256] = {

43645 cÚ¡ 
	gŒŸngËs
[256][16] = {

43905 
	g_nx
 = ()(
size_x
>=0?size_x:
cimg
::
round
((
x1
-
x0
)*-size_x/100 + 1)),

43906 
	g_ny
 = ()(
size_y
>=0?size_y:
cimg
::
round
((
y1
-
y0
)*-size_y/100 + 1)),

43907 
	g_nz
 = ()(
size_z
>=0?size_z:
cimg
::
round
((
z1
-
z0
)*-size_z/100 + 1)),

43908 
	gnx
 = 
_nx
?_nx:1,

43909 
	gny
 = 
_ny
?_ny:1,

43910 
	gnz
 = 
_nz
?_nz:1,

43911 
	gnxm1
 = 
nx
 - 1,

43912 
	gnym1
 = 
ny
 - 1,

43913 
	gnzm1
 = 
nz
 - 1;

43914 ià(!
	gnxm1
 || !
	gnym1
 || !
	gnzm1
) ;

43915 cÚ¡ 
	gdx
 = (
x1
 - 
x0
)/
nxm1
, 
	gdy
 = (
y1
 - 
y0
)/
nym1
, 
	gdz
 = (
z1
 - 
z0
)/
nzm1
;

43916 
	gCImg
<
	gštT
> 
šdiûs1
(
nx
,
ny
,1,3,-1), 
šdiûs2
(indices1);

43917 
	gCImg
<
	gæßtT
> 
v®ues1
(
nx
,
ny
), 
v®ues2
(nx,ny);

43918 
	gX
 = 0, 
	gY
 = 0, 
	gZ
 = 0, 
	gnX
 = 0, 
	gnY
 = 0, 
	gnZ
 = 0;

43919 
	gnb_v”tiûs
 = 0;

43922 
	gY
 = 
y0
;

43923 
cimg_fÜY
(
v®ues1
,
y
) {

43924 
	gX
 = 
x0
;

43925 
cimg_fÜX
(
v®ues1
,
x
è{ v®ues1(x,
y
èğ()
func
(
X
,
Y
,
z0
); 
	gX
+=
dx
; }

43926 
	gY
+=
dy
;

43930 
	gZ
 = 
z0
; 
	gnZ
 = 
Z
 + 
dz
;

43931 
	gzi
 = 0; zi<
	gnzm1
; ++zi, 
	gZ
 = 
nZ
, 
	gnZ
+=
dz
) {

43932 
Y
 = 
y0
; 
	gnY
 = Y + 
dy
;

43933 
	gšdiûs2
.
fl
(-1);

43934 
	gX
 = 
x0
; 
	gxi
 = 0; xi<
	gnx
; ++xiè{ 
v®ues2
(
xi
,0èğ()
func
(
X
,
Y
,
nZ
); X +ğ
dx
; }

43936 
	gyi
 = 0, 
	gnyi
 = 1; yi<
	gnym1
; ++yi, ++nyi, 
	gY
 = 
nY
, 
	gnY
+=
dy
) {

43937 
X
 = 
x0
; 
	gnX
 = X + 
dx
;

43938 
v®ues2
(0,
nyi
èğ()
func
(
X
,
nY
,
nZ
);

43940 
	gxi
 = 0, 
	gnxi
 = 1; xi<
	gnxm1
; ++xi, ++nxi, 
	gX
 = 
nX
, 
	gnX
+=
dx
) {

43944 
v®0
 = 
v®ues1
(
xi
,
yi
),

43945 
	gv®1
 = 
v®ues1
(
nxi
,
yi
),

43946 
	gv®2
 = 
v®ues1
(
nxi
,
nyi
),

43947 
	gv®3
 = 
v®ues1
(
xi
,
nyi
),

43948 
	gv®4
 = 
v®ues2
(
xi
,
yi
),

43949 
	gv®5
 = 
v®ues2
(
nxi
,
yi
),

43950 
	gv®6
 = 
v®ues2
(
nxi
,
nyi
èğ()
func
(
nX
,
nY
,
nZ
),

43951 
	gv®7
 = 
v®ues2
(
xi
,
nyi
);

43953 cÚ¡ 
	gcÚfigu¿tiÚ
 =

43954 (
v®0
<
isov®ue
?1U:0Uè| (
v®1
<isov®ue?2U:0Uè| (
v®2
<isov®ue?4U:0Uè| (
v®3
<isovalue?8U:0U) |

43955 (
v®4
<
isov®ue
?16U:0Uè| (
v®5
<isov®ue?32U:0Uè| (
v®6
<isov®ue?64U:0Uè| (
v®7
<isovalue?128U:0U),

43956 
	gedge
 = 
edges
[
cÚfigu¿tiÚ
];

43959 ià(
	gedge
) {

43960 ià((
	gedge
&1è&& 
šdiûs1
(
xi
,
yi
,0)<0) {

43961 cÚ¡ 
	gXi
 = 
X
 + (
isov®ue
-
v®0
)*
dx
/(
v®1
-val0);

43962 
šdiûs1
(
xi
,
yi
,0èğ
nb_v”tiûs
++;

43963 
add_v”‹x
(
Xi
,
Y
,
Z
);

43965 ià((
	gedge
&2è&& 
šdiûs1
(
nxi
,
yi
,1)<0) {

43966 cÚ¡ 
	gYi
 = 
Y
 + (
isov®ue
-
v®1
)*
dy
/(
v®2
-val1);

43967 
šdiûs1
(
nxi
,
yi
,1èğ
nb_v”tiûs
++;

43968 
add_v”‹x
(
nX
,
Yi
,
Z
);

43970 ià((
	gedge
&4è&& 
šdiûs1
(
xi
,
nyi
,0)<0) {

43971 cÚ¡ 
	gXi
 = 
X
 + (
isov®ue
-
v®3
)*
dx
/(
v®2
-val3);

43972 
šdiûs1
(
xi
,
nyi
,0èğ
nb_v”tiûs
++;

43973 
add_v”‹x
(
Xi
,
nY
,
Z
);

43975 ià((
	gedge
&8è&& 
šdiûs1
(
xi
,
yi
,1)<0) {

43976 cÚ¡ 
	gYi
 = 
Y
 + (
isov®ue
-
v®0
)*
dy
/(
v®3
-val0);

43977 
šdiûs1
(
xi
,
yi
,1èğ
nb_v”tiûs
++;

43978 
add_v”‹x
(
X
,
Yi
,
Z
);

43980 ià((
	gedge
&16è&& 
šdiûs2
(
xi
,
yi
,0)<0) {

43981 cÚ¡ 
	gXi
 = 
X
 + (
isov®ue
-
v®4
)*
dx
/(
v®5
-val4);

43982 
šdiûs2
(
xi
,
yi
,0èğ
nb_v”tiûs
++;

43983 
add_v”‹x
(
Xi
,
Y
,
nZ
);

43985 ià((
	gedge
&32è&& 
šdiûs2
(
nxi
,
yi
,1)<0) {

43986 cÚ¡ 
	gYi
 = 
Y
 + (
isov®ue
-
v®5
)*
dy
/(
v®6
-val5);

43987 
šdiûs2
(
nxi
,
yi
,1èğ
nb_v”tiûs
++;

43988 
add_v”‹x
(
nX
,
Yi
,
nZ
);

43990 ià((
	gedge
&64è&& 
šdiûs2
(
xi
,
nyi
,0)<0) {

43991 cÚ¡ 
	gXi
 = 
X
 + (
isov®ue
-
v®7
)*
dx
/(
v®6
-val7);

43992 
šdiûs2
(
xi
,
nyi
,0èğ
nb_v”tiûs
++;

43993 
add_v”‹x
(
Xi
,
nY
,
nZ
);

43995 ià((
	gedge
&128è&& 
šdiûs2
(
xi
,
yi
,1)<0) {

43996 cÚ¡ 
	gYi
 = 
Y
 + (
isov®ue
-
v®4
)*
dy
/(
v®7
-val4);

43997 
šdiûs2
(
xi
,
yi
,1èğ
nb_v”tiûs
++;

43998 
add_v”‹x
(
X
,
Yi
,
nZ
);

44000 ià((
	gedge
&256è&& 
šdiûs1
(
xi
,
yi
,2)<0) {

44001 cÚ¡ 
	gZi
 = 
Z
+ (
isov®ue
-
v®0
)*
dz
/(
v®4
-val0);

44002 
šdiûs1
(
xi
,
yi
,2èğ
nb_v”tiûs
++;

44003 
add_v”‹x
(
X
,
Y
,
Zi
);

44005 ià((
	gedge
&512è&& 
šdiûs1
(
nxi
,
yi
,2)<0) {

44006 cÚ¡ 
	gZi
 = 
Z
 + (
isov®ue
-
v®1
)*
dz
/(
v®5
-val1);

44007 
šdiûs1
(
nxi
,
yi
,2èğ
nb_v”tiûs
++;

44008 
add_v”‹x
(
nX
,
Y
,
Zi
);

44010 ià((
	gedge
&1024è&& 
šdiûs1
(
nxi
,
nyi
,2)<0) {

44011 cÚ¡ 
	gZi
 = 
Z
 + (
isov®ue
-
v®2
)*
dz
/(
v®6
-val2);

44012 
šdiûs1
(
nxi
,
nyi
,2èğ
nb_v”tiûs
++;

44013 
add_v”‹x
(
nX
,
nY
,
Zi
);

44015 ià((
	gedge
&2048è&& 
šdiûs1
(
xi
,
nyi
,2)<0) {

44016 cÚ¡ 
	gZi
 = 
Z
 + (
isov®ue
-
v®3
)*
dz
/(
v®7
-val3);

44017 
šdiûs1
(
xi
,
nyi
,2èğ
nb_v”tiûs
++;

44018 
add_v”‹x
(
X
,
nY
,
Zi
);

44022 cÚ¡ *
	gŒŸngË
 = 
ŒŸngËs
[
cÚfigu¿tiÚ
]; *triangle!=-1; ) {

44024 
	gp0
 = ()*(
ŒŸngË
++),

44025 
	gp1
 = ()*(
ŒŸngË
++),

44026 
	gp2
 = ()*(
ŒŸngË
++);

44028 
	gi0
 = 
_isosurçû3d_šdex
(
p0
,
šdiûs1
,
šdiûs2
,
xi
,
yi
,
nxi
,
nyi
),

44029 
	gi1
 = 
_isosurçû3d_šdex
(
p1
,
šdiûs1
,
šdiûs2
,
xi
,
yi
,
nxi
,
nyi
),

44030 
	gi2
 = 
_isosurçû3d_šdex
(
p2
,
šdiûs1
,
šdiûs2
,
xi
,
yi
,
nxi
,
nyi
);

44031 
add_ŒŸngË
(
i0
,
i2
,
i1
);

44036 
	gcimg
::
sw­
(
v®ues1
,
v®ues2
);

44037 
	gcimg
::
sw­
(
šdiûs1
,
šdiûs2
);

44042 
	g‹m¶©e
<
ty³Çme
 
	gtf
>

44043 
	gCImg
<
	gæßtT
> 
isosurçû3d
(
CImgLi¡
<
tf
>& 
´im™ives
, cÚ¡ *cÚ¡ 
ex´essiÚ
, cÚ¡ 
isov®ue
,

44044 cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
,

44045 cÚ¡ 
x1
, cÚ¡ 
y1
, cÚ¡ 
z1
,

44046 cÚ¡ 
dx
=32, cÚ¡ 
dy
=32, cÚ¡ 
dz
=32) {

44047 cÚ¡ 
_funùÜ3d_ex´
 
func
(
ex´essiÚ
);

44048  
isosurçû3d
(
´im™ives
,
func
,
isov®ue
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
dx
,
dy
,
dz
);

44051 
	g‹m¶©e
<
ty³Çme
 
	gt
>

44052 
_isosurçû3d_šdex
(cÚ¡ 
edge
, cÚ¡ 
CImg
<
t
>& 
šdiûs1
, cÚ¡ CImg<t>& 
šdiûs2
,

44053 cÚ¡ 
x
, cÚ¡ 
y
,

44054 cÚ¡ 
nx
, cÚ¡ 
ny
) {

44055 
	gedge
) {

44056 0 :  
šdiûs1
(
x
,
y
,0);

44057 1 :  
šdiûs1
(
nx
,
y
,1);

44058 2 :  
šdiûs1
(
x
,
ny
,0);

44059 3 :  
šdiûs1
(
x
,
y
,1);

44060 4 :  
šdiûs2
(
x
,
y
,0);

44061 5 :  
šdiûs2
(
nx
,
y
,1);

44062 6 :  
šdiûs2
(
x
,
ny
,0);

44063 7 :  
šdiûs2
(
x
,
y
,1);

44064 8 :  
šdiûs1
(
x
,
y
,2);

44065 9 :  
šdiûs1
(
nx
,
y
,2);

44066 10 :  
šdiûs1
(
nx
,
ny
,2);

44067 11 :  
šdiûs1
(
x
,
ny
,2);

44073 
	s_funùÜ2d_št
 {

44074 cÚ¡ 
	gCImg
<
	gT
>& 
	g»f
;

44075 
_funùÜ2d_št
(cÚ¡ 
CImg
<
T
>& 
´ef
):
»f
(pref) {}

44076 
İ”©Ü
()(cÚ¡ 
x
, cÚ¡ 
	gy
) const {

44077  ()
»f
(()
x
,()
y
);

44081 
	s_funùÜ2d_æßt
 {

44082 cÚ¡ 
	gCImg
<
	gT
>& 
	g»f
;

44083 
_funùÜ2d_æßt
(cÚ¡ 
CImg
<
T
>& 
´ef
):
»f
(pref) {}

44084 
İ”©Ü
()(cÚ¡ 
x
, cÚ¡ 
	gy
) const {

44085  ()
	g»f
.
_lš—r_©XY
(
x
,
y
);

44089 
	s_funùÜ2d_ex´
 {

44090 
_cimg_m©h_·r£r
 *
	gmp
;

44091 ~
_funùÜ2d_ex´
(è{ 
	gmp
->
’d
(); 
d–‘e
 mp; }

44092 
_funùÜ2d_ex´
(cÚ¡ *cÚ¡ 
ex´
):
mp
(0) {

44093 
mp
 = 
Ãw
 
_cimg_m©h_·r£r
(
ex´
,0,
CImg
<
T
>::
cÚ¡_em±y
(),0);

44095 
İ”©Ü
()(cÚ¡ 
	gx
, cÚ¡ 
	gy
) const {

44096  ()(*
	gmp
)(
	gx
,
	gy
,0,0);

44100 
	s_funùÜ3d_št
 {

44101 cÚ¡ 
	gCImg
<
	gT
>& 
	g»f
;

44102 
_funùÜ3d_št
(cÚ¡ 
CImg
<
T
>& 
´ef
):
»f
(pref) {}

44103 
İ”©Ü
()(cÚ¡ 
x
, cÚ¡ 
	gy
, cÚ¡ 
	gz
) const {

44104  ()
»f
(()
x
,()
y
,()
z
);

44108 
	s_funùÜ3d_æßt
 {

44109 cÚ¡ 
	gCImg
<
	gT
>& 
	g»f
;

44110 
_funùÜ3d_æßt
(cÚ¡ 
CImg
<
T
>& 
´ef
):
»f
(pref) {}

44111 
İ”©Ü
()(cÚ¡ 
x
, cÚ¡ 
	gy
, cÚ¡ 
	gz
) const {

44112  ()
	g»f
.
_lš—r_©XYZ
(
x
,
y
,
z
);

44116 
	s_funùÜ3d_ex´
 {

44117 
_cimg_m©h_·r£r
 *
	gmp
;

44118 ~
_funùÜ3d_ex´
(è{ 
	gmp
->
’d
(); 
d–‘e
 mp; }

44119 
_funùÜ3d_ex´
(cÚ¡ *cÚ¡ 
ex´
):
mp
(0) {

44120 
mp
 = 
Ãw
 
_cimg_m©h_·r£r
(
ex´
,0,
CImg
<
T
>::
cÚ¡_em±y
(),0);

44122 
İ”©Ü
()(cÚ¡ 
	gx
, cÚ¡ 
	gy
, cÚ¡ 
	gz
) const {

44123  ()(*
	gmp
)(
	gx
,
	gy
,
	gz
,0);

44127 
	s_funùÜ4d_št
 {

44128 cÚ¡ 
	gCImg
<
	gT
>& 
	g»f
;

44129 
_funùÜ4d_št
(cÚ¡ 
CImg
<
T
>& 
´ef
):
»f
(pref) {}

44130 
İ”©Ü
()(cÚ¡ 
x
, cÚ¡ 
	gy
, cÚ¡ 
	gz
, cÚ¡ 
	gc
) const {

44131  ()
»f
(()
x
,()
y
,()
z
,
c
);

44135 
	s_funùÜ_isŞše3d
 {

44136 
	gCImgLi¡
<
	gT
>& 
	gli¡
;

44137 
_funùÜ_isŞše3d
(
CImgLi¡
<
T
>& 
_li¡
):
li¡
(_list) {}

44138 
‹m¶©e
<
ty³Çme
 
t
>

44139 
İ”©Ü
()(cÚ¡ 
t
 
x
, cÚ¡ 
	gy
, cÚ¡ 
	gz
è{ 
	gCImg
<
	gT
>::
veùÜ
((
T
)x,(T)
y
,(T)
z
).
move_to
(
li¡
); }

44140 
	g‹m¶©e
<
ty³Çme
 
	gt
>

44141 
İ”©Ü
()(cÚ¡ 
t
 
	gi
, cÚ¡ 
	gj
è{ 
	gCImg
<
	gT
>::
veùÜ
((
T
)
i
,(T)
j
).
move_to
(
li¡
); }

44144 
	s_funùÜ_isosurçû3d
 {

44145 
	gCImgLi¡
<
	gT
>& 
	gli¡
;

44146 
_funùÜ_isosurçû3d
(
CImgLi¡
<
T
>& 
_li¡
):
li¡
(_list) {}

44147 
‹m¶©e
<
ty³Çme
 
t
>

44148 
İ”©Ü
()(cÚ¡ 
t
 
x
, cÚ¡ 
	gy
, cÚ¡ 
	gz
è{ 
	gCImg
<
	gT
>::
veùÜ
((
T
)x,(T)
y
,(T)
z
).
move_to
(
li¡
); }

44162 
	g‹m¶©e
<
ty³Çme
 
	gtf
,y³Çm
	gtfunc
>

44163 
	gCImg
<
	gæßtT
> 
–ev©iÚ3d
(
CImgLi¡
<
tf
>& 
´im™ives
, cÚ¡ 
tfunc
& 
func
,

44164 cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
x1
, cÚ¡ 
y1
,

44165 cÚ¡ 
size_x
=256, cÚ¡ 
size_y
=256) {

44167 
nx0
 = 
x0
<
x1
?x0:x1, 
	gny0
 = 
y0
<
y1
?y0:y1,

44168 
	gnx1
 = 
x0
<
x1
?x1:x0, 
	gny1
 = 
y0
<
y1
?y1:y0;

44170 
	g_nsize_x
 = ()(
size_x
>=0?size_x:(
nx1
-
nx0
)*-size_x/100),

44171 
	gnsize_x
 = 
_nsize_x
?_nsize_x:1, 
	gnsize_x1
 = 
nsize_x
 - 1,

44172 
	g_nsize_y
 = ()(
size_y
>=0?size_y:(
ny1
-
ny0
)*-size_y/100),

44173 
	gnsize_y
 = 
_nsize_y
?_nsize_y:1, 
	gnsize_y1
 = 
nsize_y
 - 1;

44174 ià(
	gnsize_x
<2 || 
	gnsize_y
<2)

44175 
throw
 
CImgArgum’tExû±iÚ
("CImg<%s>::elevation3d(): Invalid specified size (%d,%d).",

44176 
pix–_ty³
(),

44177 
nsize_x
,
nsize_y
);

44179 
	gCImg
<
	gæßtT
> 
v”tiûs
(
nsize_x
*
nsize_y
,3);

44180 
æßtT
 *
	g±r_x
 = 
v”tiûs
.
d©a
(0,0), *
	g±r_y
 = v”tiûs.d©a(0,1), *
	g±r_z
 = vertices.data(0,2);

44181 
	gy
 = 0; y<
	gnsize_y
; ++y) {

44182 cÚ¡ 
	gY
 = 
ny0
 + 
y
*(
ny1
-ny0)/
nsize_y1
;

44183 
	gx
 = 0; x<
	gnsize_x
; ++x) {

44184 cÚ¡ 
	gX
 = 
nx0
 + 
x
*(
nx1
-nx0)/
nsize_x1
;

44185 *(
	g±r_x
++èğ()
x
;

44186 *(
	g±r_y
++èğ()
y
;

44187 *(
	g±r_z
++èğ()
func
(
X
,
Y
);

44190 
	g´im™ives
.
assign
(
nsize_x1
*
nsize_y1
,1,4);

44191 
	gp
 = 0, 
	gy
 = 0; y<
	gnsize_y1
; ++y) {

44192 cÚ¡ 
	gyw
 = 
y
*
nsize_x
;

44193 
	gx
 = 0; x<
	gnsize_x1
; ++x) {

44194 cÚ¡ 
	gxpyw
 = 
x
 + 
yw
, 
	gxpyww
 = 
xpyw
 + 
nsize_x
;

44195 
	g´im™ives
[
p
++].
fl
(
xpyw
,
xpyww
,xpyww + 1,xpyw + 1);

44198  
	gv”tiûs
;

44202 
	g‹m¶©e
<
ty³Çme
 
	gtf
>

44203 
	gCImg
<
	gæßtT
> 
–ev©iÚ3d
(
CImgLi¡
<
tf
>& 
´im™ives
, cÚ¡ *cÚ¡ 
ex´essiÚ
,

44204 cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
x1
, cÚ¡ 
y1
,

44205 cÚ¡ 
size_x
=256, cÚ¡ 
size_y
=256) {

44206 cÚ¡ 
_funùÜ2d_ex´
 
func
(
ex´essiÚ
);

44207  
–ev©iÚ3d
(
´im™ives
,
func
,
x0
,
y0
,
x1
,
y1
,
size_x
,
size_y
);

44226 
	g‹m¶©e
<
ty³Çme
 
	gtf
>

44227 
	gCImg
<
	gæßtT
> 
box3d
(
CImgLi¡
<
tf
>& 
´im™ives
,

44228 cÚ¡ 
size_x
=200, cÚ¡ 
size_y
=100, cÚ¡ 
size_z
=100) {

44229 
´im™ives
.
assign
(6,1,4,1,1, 0,3,2,1, 4,5,6,7, 0,1,5,4, 3,7,6,2, 0,4,7,3, 1,2,6,5);

44230  
	gCImg
<
	gæßtT
>(8,3,1,1,

44231 0.,
	gsize_x
,size_x, 0., 0.,size_x,size_x, 0.,

44232 0., 0.,
	gsize_y
,size_y, 0., 0.,size_y,size_y,

44233 0., 0., 0., 0.,
	gsize_z
,size_z,size_z,size_z);

44252 
	g‹m¶©e
<
ty³Çme
 
	gtf
>

44253 
	gCImg
<
	gæßtT
> 
cÚe3d
(
CImgLi¡
<
tf
>& 
´im™ives
,

44254 cÚ¡ 
¿dius
=50, cÚ¡ 
size_z
=100, cÚ¡ 
subdivisiÚs
=24) {

44255 
´im™ives
.
assign
();

44256 ià(!
	gsubdivisiÚs
è 
	gCImg
<
	gæßtT
>();

44257 
	gCImgLi¡
<
	gæßtT
> 
v”tiûs
(2,1,3,1,1,

44258 0.,0.,
size_z
,

44260 
	gd–
 = 360.f/
subdivisiÚs
, 
	gªgË
 = 0;‡ngË<360;‡ngË+=
d–
) {

44261 cÚ¡ 
a
 = ()(
ªgË
*
cimg
::
PI
/180);

44262 
	gCImg
<
	gæßtT
>::
veùÜ
(()(
¿dius
*
¡d
::
cos
(
a
)),()Ôadius*¡d::
sš
×)),0).
move_to
(
v”tiûs
);

44264 cÚ¡ 
	gnbr
 = 
v”tiûs
.
_width
 - 2;

44265 
	gp
 = 0;…<
	gnbr
; ++p) {

44266 cÚ¡ 
	gcu¼
 = 2 + 
p
, 
	gÃxt
 = 2 + (Õ + 1)%
nbr
);

44267 
	gCImg
<
	gtf
>::
veùÜ
(1,
Ãxt
,
cu¼
).
move_to
(
´im™ives
);

44268 
	gCImg
<
	gtf
>::
veùÜ
(0,
cu¼
,
Ãxt
).
move_to
(
´im™ives
);

44270  
	gv”tiûs
>'x';

44289 
	g‹m¶©e
<
ty³Çme
 
	gtf
>

44290 
	gCImg
<
	gæßtT
> 
cylšd”3d
(
CImgLi¡
<
tf
>& 
´im™ives
,

44291 cÚ¡ 
¿dius
=50, cÚ¡ 
size_z
=100, cÚ¡ 
subdivisiÚs
=24) {

44292 
´im™ives
.
assign
();

44293 ià(!
	gsubdivisiÚs
è 
	gCImg
<
	gæßtT
>();

44294 
	gCImgLi¡
<
	gæßtT
> 
v”tiûs
(2,1,3,1,1,

44296 0.,0.,
size_z
);

44297 
	gd–
 = 360.f/
subdivisiÚs
, 
	gªgË
 = 0;‡ngË<360;‡ngË+=
d–
) {

44298 cÚ¡ 
a
 = ()(
ªgË
*
cimg
::
PI
/180);

44299 
	gCImg
<
	gæßtT
>::
veùÜ
(()(
¿dius
*
¡d
::
cos
(
a
)),()Ôadius*¡d::
sš
×)),0.f).
move_to
(
v”tiûs
);

44300 
	gCImg
<
	gæßtT
>::
veùÜ
(()(
¿dius
*
¡d
::
cos
(
a
)),()Ôadius*¡d::
sš
×)),
size_z
).
move_to
(
v”tiûs
);

44302 cÚ¡ 
	gnbr
 = (
v”tiûs
.
_width
 - 2)/2;

44303 
	gp
 = 0;…<
	gnbr
; ++p) {

44304 cÚ¡ 
	gcu¼
 = 2 + 2*
p
, 
	gÃxt
 = 2 + (2*(Õ + 1)%
nbr
));

44305 
	gCImg
<
	gtf
>::
veùÜ
(0,
Ãxt
,
cu¼
).
move_to
(
´im™ives
);

44306 
	gCImg
<
	gtf
>::
veùÜ
(1,
cu¼
 + 1,
Ãxt
 + 1).
move_to
(
´im™ives
);

44307 
	gCImg
<
	gtf
>::
veùÜ
(
cu¼
,
Ãxt
,Ãxˆ+ 1,cu¼ + 1).
move_to
(
´im™ives
);

44309  
	gv”tiûs
>'x';

44329 
	g‹m¶©e
<
ty³Çme
 
	gtf
>

44330 
	gCImg
<
	gæßtT
> 
tÜus3d
(
CImgLi¡
<
tf
>& 
´im™ives
,

44331 cÚ¡ 
¿dius1
=100, cÚ¡ 
¿dius2
=30,

44332 cÚ¡ 
subdivisiÚs1
=24, cÚ¡ 
subdivisiÚs2
=12) {

44333 
´im™ives
.
assign
();

44334 ià(!
	gsubdivisiÚs1
 || !
	gsubdivisiÚs2
è 
	gCImg
<
	gæßtT
>();

44335 
	gCImgLi¡
<
	gæßtT
> 
	gv”tiûs
;

44336 
	gv
 = 0; v<
	gsubdivisiÚs1
; ++v) {

44338 
	gb‘a
 = ()(
v
*2*
cimg
::
PI
/
subdivisiÚs1
),

44339 
	gxc
 = 
¿dius1
*()
¡d
::
cos
(
b‘a
),

44340 
	gyc
 = 
¿dius1
*()
¡d
::
sš
(
b‘a
);

44341 
	gu
 = 0; u<
	gsubdivisiÚs2
; ++u) {

44343 
	g®pha
 = ()(
u
*2*
cimg
::
PI
/
subdivisiÚs2
),

44344 
	gx
 = 
xc
 + 
¿dius2
*()(
¡d
::
cos
(
®pha
)*¡d::cos(
b‘a
)),

44345 
	gy
 = 
yc
 + 
¿dius2
*()(
¡d
::
cos
(
®pha
)*¡d::
sš
(
b‘a
)),

44346 
	gz
 = 
¿dius2
*()
¡d
::
sš
(
®pha
);

44347 
	gCImg
<
	gæßtT
>::
veùÜ
(
x
,
y
,
z
).
move_to
(
v”tiûs
);

44350 
	gvv
 = 0; vv<
	gsubdivisiÚs1
; ++vv) {

44351 cÚ¡ 
	gnv
 = (
vv
 + 1)%
subdivisiÚs1
;

44352 
	guu
 = 0; uu<
	gsubdivisiÚs2
; ++uu) {

44353 cÚ¡ 
	gnu
 = (
uu
 + 1)%
subdivisiÚs2
, 
	gsvv
 = subdivisiÚs2*
vv
, 
	g¢v
 = subdivisiÚs2*
nv
;

44354 
	gCImg
<
	gtf
>::
veùÜ
(
svv
 + 
nu
,svv + 
uu
,
¢v
 + uu,¢v +‚u).
move_to
(
´im™ives
);

44357  
	gv”tiûs
>'x';

44377 
	g‹m¶©e
<
ty³Çme
 
	gtf
>

44378 
	gCImg
<
	gæßtT
> 
¶ªe3d
(
CImgLi¡
<
tf
>& 
´im™ives
,

44379 cÚ¡ 
size_x
=100, cÚ¡ 
size_y
=100,

44380 cÚ¡ 
subdivisiÚs_x
=10, cÚ¡ 
subdivisiÚs_y
=10) {

44381 
´im™ives
.
assign
();

44382 ià(!
	gsubdivisiÚs_x
 || !
	gsubdivisiÚs_y
è 
	gCImg
<
	gæßtT
>();

44383 
	gCImgLi¡
<
	gæßtT
> 
	gv”tiûs
;

44384 cÚ¡ 
	gw
 = 
subdivisiÚs_x
 + 1, 
	gh
 = 
subdivisiÚs_y
 + 1;

44385 cÚ¡ 
	gfx
 = ()
size_x
/
w
, 
	gfy
 = ()
size_y
/
h
;

44386 
	gy
 = 0; y<
	gh
; ++yè
	gx
 = 0; x<
	gw
; ++x)

44387 
	gCImg
<
	gæßtT
>::
veùÜ
(
fx
*
x
,
fy
*
y
,0).
move_to
(
v”tiûs
);

44388 
	gy
 = 0; y<
	gsubdivisiÚs_y
; ++yè
	gx
 = 0; x<
	gsubdivisiÚs_x
; ++x) {

44389 cÚ¡ 
	goff1
 = 
x
 + 
y
*
w
, 
	goff2
 = x + 1 + y*w, 
	goff3
 = x + 1 + (y + 1)*w, 
	goff4
 = x + (y + 1)*w;

44390 
	gCImg
<
	gtf
>::
veùÜ
(
off1
,
off4
,
off3
,
off2
).
move_to
(
´im™ives
);

44392  
	gv”tiûs
>'x';

44410 
	g‹m¶©e
<
ty³Çme
 
	gtf
>

44411 
	gCImg
<
	gæßtT
> 
¥h”e3d
(
CImgLi¡
<
tf
>& 
´im™ives
,

44412 cÚ¡ 
¿dius
=50, cÚ¡ 
subdivisiÚs
=3) {

44415 
´im™ives
.
assign
();

44416 cÚ¡ 
	gtmp
 = (1 + 
¡d
::
sq¹
(5.f))/2, 
	ga
 = 1./¡d::sq¹(1 + 
tmp
*tmp), 
	gb
 =mp*
a
;

44417 
	gCImgLi¡
<
	gæßtT
> 
v”tiûs
(12,1,3,1,1, 
b
,
a
,0., -b,a,0., -b,-a,0., b,-a,0.,‡,0.,b,‡,0.,-b,

44418 -
a
,0.,-
b
, -a,0.,b, 0.,b,a, 0.,-b,a, 0.,-b,-a, 0.,b,-a);

44419 
	g´im™ives
.
assign
(20,1,3,1,1, 4,8,7, 4,7,9, 5,6,11, 5,10,6, 0,4,3, 0,3,5, 2,7,1, 2,1,6,

44423 
	ghe
 = ()
a
;

44426 
	gi
 = 0; i<
	gsubdivisiÚs
; ++i) {

44427 cÚ¡ 
	gL
 = 
´im™ives
.
_width
;

44428 
	ghe
/=2;

44429 cÚ¡ 
	ghe2
 = 
he
*he;

44430 
	gl
 = 0;†<
	gL
; ++l) {

44432 
	gp0
 = ()
´im™ives
(0,0), 
	gp1
 = (írim™ives(0,1), 
	gp2
 = ()primitives(0,2);

44434 
	gx0
 = 
v”tiûs
(
p0
,0), 
	gy0
 = v”tiûsÕ0,1), 
	gz0
 = vertices(p0,2),

44435 
	gx1
 = 
v”tiûs
(
p1
,0), 
	gy1
 = v”tiûsÕ1,1), 
	gz1
 = vertices(p1,2),

44436 
	gx2
 = 
v”tiûs
(
p2
,0), 
	gy2
 = v”tiûsÕ2,1), 
	gz2
 = vertices(p2,2),

44437 
	gŠx0
 = (
x0
 + 
x1
)/2, 
	gŠy0
 = (
y0
 + 
y1
)/2, 
	gŠz0
 = (
z0
 + 
z1
)/2,

44438 
	gÂ0
 = 
cimg
::
hypÙ
(
Šx0
,
Šy0
,
Šz0
),

44439 
	gŠx1
 = (
x0
 + 
x2
)/2, 
	gŠy1
 = (
y0
 + 
y2
)/2, 
	gŠz1
 = (
z0
 + 
z2
)/2,

44440 
	gÂ1
 = 
cimg
::
hypÙ
(
Šx1
,
Šy1
,
Šz1
),

44441 
	gŠx2
 = (
x1
 + 
x2
)/2, 
	gŠy2
 = (
y1
 + 
y2
)/2, 
	gŠz2
 = (
z1
 + 
z2
)/2,

44442 
	gÂ2
 = 
cimg
::
hypÙ
(
Šx2
,
Šy2
,
Šz2
),

44443 
	gnx0
 = 
Šx0
/
Â0
, 
	gny0
 = 
Šy0
/Â0, 
	gnz0
 = 
Šz0
/nn0,

44444 
	gnx1
 = 
Šx1
/
Â1
, 
	gny1
 = 
Šy1
/Â1, 
	gnz1
 = 
Šz1
/nn1,

44445 
	gnx2
 = 
Šx2
/
Â2
, 
	gny2
 = 
Šy2
/Â2, 
	gnz2
 = 
Šz2
/nn2;

44446 
	gi0
 = -1, 
	gi1
 = -1, 
	gi2
 = -1;

44447 
cimgli¡_fÜ
(
v”tiûs
,
p
) {

44448 cÚ¡ 
	gx
 = ()
v”tiûs
(
p
,0), 
	gy
 = ()v”tiûsÕ,1), 
	gz
 = ()vertices(p,2);

44449 ià(
	gcimg
::
sqr
(
x
-
nx0
è+ 
cimg
::sqr(
y
-
ny0
è+ cimg::sqr(
z
-
nz0
)<
he2
è
i0
 = 
p
;

44450 ià(
	gcimg
::
sqr
(
x
-
nx1
è+ 
cimg
::sqr(
y
-
ny1
è+ cimg::sqr(
z
-
nz1
)<
he2
è
i1
 = 
p
;

44451 ià(
	gcimg
::
sqr
(
x
-
nx2
è+ 
cimg
::sqr(
y
-
ny2
è+ cimg::sqr(
z
-
nz2
)<
he2
è
i2
 = 
p
;

44453 ià(
	gi0
<0è{ 
	gCImg
<
	gæßtT
>::
veùÜ
(
nx0
,
ny0
,
nz0
).
move_to
(
v”tiûs
); i0 = v”tiûs.
width
() - 1; }

44454 ià(
	gi1
<0è{ 
	gCImg
<
	gæßtT
>::
veùÜ
(
nx1
,
ny1
,
nz1
).
move_to
(
v”tiûs
); i1 = v”tiûs.
width
() - 1; }

44455 ià(
	gi2
<0è{ 
	gCImg
<
	gæßtT
>::
veùÜ
(
nx2
,
ny2
,
nz2
).
move_to
(
v”tiûs
); i2 = v”tiûs.
width
() - 1; }

44456 
	g´im™ives
.
»move
(0);

44457 
	gCImg
<
	gtf
>::
veùÜ
(
p0
,
i0
,
i1
).
move_to
(
´im™ives
);

44458 
	gCImg
<
	gtf
>::
veùÜ
((
tf
)
i0
,Ñf)
p1
,Ñf)
i2
).
move_to
(
´im™ives
);

44459 
	gCImg
<
	gtf
>::
veùÜ
((
tf
)
i1
,Ñf)
i2
,Ñf)
p2
).
move_to
(
´im™ives
);

44460 
	gCImg
<
	gtf
>::
veùÜ
((
tf
)
i1
,Ñf)
i0
,Ñf)
i2
).
move_to
(
´im™ives
);

44463  (
	gv”tiûs
>'x')*=
¿dius
;

44482 
	g‹m¶©e
<
ty³Çme
 
	gtf
,y³Çm
	gt
>

44483 
	gCImg
<
	gæßtT
> 
–lsoid3d
(
CImgLi¡
<
tf
>& 
´im™ives
,

44484 cÚ¡ 
CImg
<
t
>& 
‹nsÜ
, cÚ¡ 
subdivisiÚs
=3) {

44485 
´im™ives
.
assign
();

44486 ià(!
	gsubdivisiÚs
è 
	gCImg
<
	gæßtT
>();

44487 
	gCImg
<
	gæßtT
> 
	gS
, 
	gV
;

44488 
	g‹nsÜ
.
symm‘ric_eig’
(
S
,
V
);

44489 cÚ¡ 
	gÜ›Á
 =

44490 (
V
(0,1)*V(1,2) - V(0,2)*V(1,1))*V(2,0) +

44491 (
V
(0,2)*V(1,0) - V(0,0)*V(1,2))*V(2,1) +

44492 (
V
(0,0)*V(1,1) - V(0,1)*V(1,0))*V(2,2);

44493 ià(
	gÜ›Á
<0è{ 
V
(2,0) = -V(2,0); V(2,1) = -V(2,1); V(2,2) = -V(2,2); }

44494 cÚ¡ 
	gl0
 = 
S
[0], 
	gl1
 = S[1], 
	gl2
 = S[2];

44495 
	gCImg
<
	gæßtT
> 
	gv”tiûs
 = 
¥h”e3d
(
´im™ives
,1.,
subdivisiÚs
);

44496 
	gv”tiûs
.
g‘_sh¬ed_row
(0)*=
l0
;

44497 
	gv”tiûs
.
g‘_sh¬ed_row
(1)*=
l1
;

44498 
	gv”tiûs
.
g‘_sh¬ed_row
(2)*=
l2
;

44499  
V
*
	gv”tiûs
;

44509 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtc
,y³Çm
	gto
>

44510 
	gCImg
<
	gT
>& 
objeù3dtoCImg3d
(cÚ¡ 
CImgLi¡
<

>& 
´im™ives
,

44511 cÚ¡ 
CImgLi¡
<
tc
>& 
cŞÜs
,

44512 cÚ¡ 
to
& 
İac™›s
,

44513 cÚ¡ 
boŞ
 
fuÎ_check
=
Œue
) {

44514  
g‘_objeù3dtoCImg3d
(
´im™ives
,
cŞÜs
,
İac™›s
,
fuÎ_check
).
move_to
(*
this
);

44518 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtc
>

44519 
	gCImg
<
	gT
>& 
objeù3dtoCImg3d
(cÚ¡ 
CImgLi¡
<

>& 
´im™ives
,

44520 cÚ¡ 
CImgLi¡
<
tc
>& 
cŞÜs
,

44521 cÚ¡ 
boŞ
 
fuÎ_check
=
Œue
) {

44522  
g‘_objeù3dtoCImg3d
(
´im™ives
,
cŞÜs
,
fuÎ_check
).
move_to
(*
this
);

44526 
	g‹m¶©e
<
ty³Çme
 
	g
>

44527 
	gCImg
<
	gT
>& 
objeù3dtoCImg3d
(cÚ¡ 
CImgLi¡
<

>& 
´im™ives
,

44528 cÚ¡ 
boŞ
 
fuÎ_check
=
Œue
) {

44529  
g‘_objeù3dtoCImg3d
(
´im™ives
,
fuÎ_check
).
move_to
(*
this
);

44533 
	gCImg
<
	gT
>& 
objeù3dtoCImg3d
(cÚ¡ 
boŞ
 
fuÎ_check
=
Œue
) {

44534  
g‘_objeù3dtoCImg3d
(
fuÎ_check
).
move_to
(*
this
);

44538 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtc
,y³Çm
	gto
>

44539 
	gCImg
<
	gæßtT
> 
g‘_objeù3dtoCImg3d
(cÚ¡ 
CImgLi¡
<

>& 
´im™ives
,

44540 cÚ¡ 
CImgLi¡
<
tc
>& 
cŞÜs
,

44541 cÚ¡ 
to
& 
İac™›s
,

44542 cÚ¡ 
boŞ
 
fuÎ_check
=
Œue
) const {

44543 
CImg
<
ch¬T
> 
”rÜ_mes§ge
(1024);

44544 ià(!
is_objeù3d
(
´im™ives
,
cŞÜs
,
İac™›s
,
fuÎ_check
,
”rÜ_mes§ge
))

44545 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


44547 
cimg_š¡ªû
,
_width
,
´im™ives
._width,
”rÜ_mes§ge
.
d©a
());

44548 
	gCImg
<
	gæßtT
> 
»s
(1,
_size_objeù3dtoCImg3d
(
´im™ives
,
cŞÜs
,
İac™›s
));

44549 *
	g±rd
 = 
»s
.
_d©a
;

44552 *(
	g±rd
++) = 'C' + 0.5f; *(ptrd++) = 'I' + 0.5f; *(ptrd++) = 'm' + 0.5f;

44553 *(
	g±rd
++) = 'g' + 0.5f; *(ptrd++) = '3' + 0.5f; *(ptrd++) = 'd' + 0.5f;

44556 *(
	g±rd
++èğ
cimg
::
ušt2æßt
(
_width
);

44557 *(
	g±rd
++èğ
cimg
::
ušt2æßt
(
´im™ives
.
_width
);

44560 ià(
is_em±y
(è|| !
	g´im™ives
è 
	g»s
;

44561 cÚ¡ 
T
 *
	g±rx
 = 
d©a
(0,0), *
	g±ry
 = d©a(0,1), *
	g±rz
 = data(0,2);

44562 
cimg_fÜX
(*
this
,
p
) {

44563 *(
	g±rd
++èğ()*(
±rx
++);

44564 *(
	g±rd
++èğ()*(
±ry
++);

44565 *(
	g±rd
++èğ()*(
±rz
++);

44569 
cimgli¡_fÜ
(
´im™ives
,
p
) {

44570 *(
	g±rd
++èğ()
´im™ives
[
p
].
size
();

44571 cÚ¡ 

 *
	g±½
 = 
´im™ives
[
p
].
_d©a
;

44572 
cimg_fÜoff
(
´im™ives
[
p
],
i
è*(
	g±rd
++èğ
cimg
::
ušt2æßt
(()*(
±½
++));

44576 cÚ¡ 
	gcsiz
 = 
¡d
::
mš
(
cŞÜs
.
_width
,
´im™ives
._width);

44577 
	gc
 = 0; c<()
	gcsiz
; ++c) {

44578 cÚ¡ 
	gCImg
<
	gtc
>& 
	gcŞÜ
 = 
cŞÜs
[
c
];

44579 cÚ¡ 
tc
 *
	g±rc
 = 
cŞÜ
.
_d©a
;

44580 ià(
	gcŞÜ
.
size
()==3è{ *(
±rd
++èğ()*(
±rc
++); *(
	g±rd
++) = ()*(ptrc++); *(ptrd++) = ()*ptrc; }

44582 *(
	g±rd
++) = -128.f;

44583 
	gsh¬ed_šd
 = -1;

44584 ià(
	gcŞÜ
.
is_sh¬ed
()è
	gi
 = 0; i<
	gc
; ++ièià(
	g±rc
==
cŞÜs
[
i
].
_d©a
è{ 
sh¬ed_šd
 = i; ; }

44585 ià(
	gsh¬ed_šd
<0) {

44586 *(
	g±rd
++èğ()
cŞÜ
.
_width
;

44587 *(
	g±rd
++èğ()
cŞÜ
.
_height
;

44588 *(
	g±rd
++èğ()
cŞÜ
.
_¥eùrum
;

44589 
cimg_fÜoff
(
cŞÜ
,
l
è*(
	g±rd
++èğ()*(
±rc
++);

44591 *(
	g±rd
++èğ()
sh¬ed_šd
;

44592 *(
	g±rd
++) = 0;

44593 *(
	g±rd
++) = 0;

44597 cÚ¡ 
	gcsiz2
 = 
´im™ives
.
width
(è- 
cŞÜs
.width();

44598 
	gc
 = 0; c<
	gcsiz2
; ++cè{ *(
	g±rd
++) = 200.f; *(ptrd++) = 200.f; *(ptrd++) = 200.f; }

44601 
	g±rd
 = 
_objeù3dtoCImg3d
(
İac™›s
,
±rd
);

44602 cÚ¡ *
	g±»
 = 
»s
.
’d
();

44603 
	g±rd
<
	g±»
) *(ptrd++) = 1.f;

44604  
	g»s
;

44607 
	g‹m¶©e
<
ty³Çme
 
	gto
>

44608 * 
_objeù3dtoCImg3d
(cÚ¡ 
CImgLi¡
<
to
>& 
İac™›s
, *
±rd
) const {

44609 
cimgli¡_fÜ
(
İac™›s
,
o
) {

44610 cÚ¡ 
	gCImg
<
	gto
>& 
	gİac™y
 = 
İac™›s
[
o
];

44611 cÚ¡ 
to
 *
	g±ro
 = 
İac™y
.
_d©a
;

44612 ià(
	gİac™y
.
size
()==1è*(
±rd
++èğ()*
±ro
;

44614 *(
	g±rd
++) = -128.f;

44615 
	gsh¬ed_šd
 = -1;

44616 ià(
	gİac™y
.
is_sh¬ed
()è
	gi
 = 0; i<
	go
; ++ièià(
	g±ro
==
İac™›s
[
i
].
_d©a
è{ 
sh¬ed_šd
 = i; ; }

44617 ià(
	gsh¬ed_šd
<0) {

44618 *(
	g±rd
++èğ()
İac™y
.
_width
;

44619 *(
	g±rd
++èğ()
İac™y
.
_height
;

44620 *(
	g±rd
++èğ()
İac™y
.
_¥eùrum
;

44621 
cimg_fÜoff
(
İac™y
,
l
è*(
	g±rd
++èğ()*(
±ro
++);

44623 *(
	g±rd
++èğ()
sh¬ed_šd
;

44624 *(
	g±rd
++) = 0;

44625 *(
	g±rd
++) = 0;

44629  
	g±rd
;

44632 
	g‹m¶©e
<
ty³Çme
 
	gto
>

44633 * 
_objeù3dtoCImg3d
(cÚ¡ 
CImg
<
to
>& 
İac™›s
, *
±rd
) const {

44634 cÚ¡ 
to
 *
	g±ro
 = 
İac™›s
.
_d©a
;

44635 
cimg_fÜoff
(
İac™›s
,
o
è*(
	g±rd
++èğ()*(
±ro
++);

44636  
	g±rd
;

44639 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtc
,y³Çm
	gto
>

44640 
_size_objeù3dtoCImg3d
(cÚ¡ 
CImgLi¡
<

>& 
´im™ives
,

44641 cÚ¡ 
CImgLi¡
<
tc
>& 
cŞÜs
,

44642 cÚ¡ 
CImgLi¡
<
to
>& 
İac™›s
) const {

44643 
	gsiz
 = 8U + 3*
_width
;

44644 
cimgli¡_fÜ
(
´im™ives
,
p
è
	gsiz
+õrim™ives[p].
size
() + 1;

44645 
	gc
 = 
¡d
::
mš
(
´im™ives
.
width
(),
cŞÜs
.width()) - 1; c>=0; --c) {

44646 ià(
	gcŞÜs
[
c
].
is_sh¬ed
()è
	gsiz
+=4;

44647 { cÚ¡ 
	gcsiz
 = 
cŞÜs
[
c
].
size
(); 
	gsiz
+=(
csiz
!=3)?4 + csiz:3; }

44649 ià(
	gcŞÜs
.
	g_width
<
	g´im™ives
._widthè
	gsiz
+=3*(
´im™ives
.
_width
 - 
cŞÜs
._width);

44650 
cimgli¡_fÜ
(
İac™›s
,
o
) {

44651 ià(
	gİac™›s
[
o
].
is_sh¬ed
()è
	gsiz
+=4;

44652 { cÚ¡ 
	gosiz
 = 
İac™›s
[
o
].
size
(); 
	gsiz
+=(
osiz
!=1)?4 + osiz:1; }

44654 
	gsiz
+=
´im™ives
.
_width
 - 
İac™›s
._width;

44655  
	gsiz
;

44658 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtc
,y³Çm
	gto
>

44659 
_size_objeù3dtoCImg3d
(cÚ¡ 
CImgLi¡
<

>& 
´im™ives
,

44660 cÚ¡ 
CImgLi¡
<
tc
>& 
cŞÜs
,

44661 cÚ¡ 
CImg
<
to
>& 
İac™›s
) const {

44662 
	gsiz
 = 8U + 3*
_width
;

44663 
cimgli¡_fÜ
(
´im™ives
,
p
è
	gsiz
+õrim™ives[p].
size
() + 1;

44664 
	gc
 = 
¡d
::
mš
(
´im™ives
.
width
(),
cŞÜs
.width()) - 1; c>=0; --c) {

44665 cÚ¡ 
	gcsiz
 = 
cŞÜs
[
c
].
size
(); 
	gsiz
+=(
csiz
!=3)?4 + csiz:3;

44667 ià(
	gcŞÜs
.
	g_width
<
	g´im™ives
._widthè
	gsiz
+=3*(
´im™ives
.
_width
 - 
cŞÜs
._width);

44668 
	gsiz
+=
´im™ives
.
size
();

44669 
	gcimg
::
unu£d
(
İac™›s
);

44670  
	gsiz
;

44674 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtc
>

44675 
	gCImg
<
	gæßtT
> 
g‘_objeù3dtoCImg3d
(cÚ¡ 
CImgLi¡
<

>& 
´im™ives
,

44676 cÚ¡ 
CImgLi¡
<
tc
>& 
cŞÜs
,

44677 cÚ¡ 
boŞ
 
fuÎ_check
=
Œue
) const {

44678 
CImgLi¡
<
T
> 
İac™›s
;

44679  
g‘_objeù3dtoCImg3d
(
´im™ives
,
cŞÜs
,
İac™›s
,
fuÎ_check
);

44683 
	g‹m¶©e
<
ty³Çme
 
	g
>

44684 
	gCImg
<
	gæßtT
> 
g‘_objeù3dtoCImg3d
(cÚ¡ 
CImgLi¡
<

>& 
´im™ives
,

44685 cÚ¡ 
boŞ
 
fuÎ_check
=
Œue
) const {

44686 
CImgLi¡
<
T
> 
cŞÜs
, 
İac™›s
;

44687  
g‘_objeù3dtoCImg3d
(
´im™ives
,
cŞÜs
,
İac™›s
,
fuÎ_check
);

44691 
	gCImg
<
	gæßtT
> 
g‘_objeù3dtoCImg3d
(cÚ¡ 
boŞ
 
fuÎ_check
=
Œue
) const {

44692 
CImgLi¡
<
T
> 
İac™›s
, 
cŞÜs
;

44693 
	gCImgLi¡
<
	guštT
> 
´im™ives
(
width
(),1,1,1,1);

44694 
cimgli¡_fÜ
(
´im™ives
,
p
)…rimitives(p,0) =…;

44695  
g‘_objeù3dtoCImg3d
(
´im™ives
,
cŞÜs
,
İac™›s
,
fuÎ_check
);

44705 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtc
,y³Çm
	gto
>

44706 
	gCImg
<
	gT
>& 
CImg3dtoobjeù3d
(
CImgLi¡
<

>& 
´im™ives
,

44707 
CImgLi¡
<
tc
>& 
cŞÜs
,

44708 
CImgLi¡
<
to
>& 
İac™›s
,

44709 cÚ¡ 
boŞ
 
fuÎ_check
=
Œue
) {

44710  
g‘_CImg3dtoobjeù3d
(
´im™ives
,
cŞÜs
,
İac™›s
,
fuÎ_check
).
move_to
(*
this
);

44714 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtc
,y³Çm
	gto
>

44715 
	gCImg
<
	gT
> 
g‘_CImg3dtoobjeù3d
(
CImgLi¡
<

>& 
´im™ives
,

44716 
CImgLi¡
<
tc
>& 
cŞÜs
,

44717 
CImgLi¡
<
to
>& 
İac™›s
,

44718 cÚ¡ 
boŞ
 
fuÎ_check
=
Œue
) const {

44719 
CImg
<
ch¬T
> 
”rÜ_mes§ge
(1024);

44720 ià(!
is_CImg3d
(
fuÎ_check
,
”rÜ_mes§ge
))

44721 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


44723 
cimg_š¡ªû
,
”rÜ_mes§ge
.
d©a
());

44724 cÚ¡ 
T
 *
	g±rs
 = 
_d©a
 + 6;

44726 
	gnb_pošts
 = 
cimg
::
æßt2ušt
(()*(
±rs
++)),

44727 
	gnb_´im™ives
 = 
cimg
::
æßt2ušt
(()*(
±rs
++));

44728 cÚ¡ 
	gCImg
<
	gT
> 
	gpošts
 = 
CImg
<
T
>(
±rs
,3,
	gnb_pošts
,1,1,
	gŒue
).
g‘_Œª¥o£
();

44729 
	g±rs
+=3*
nb_pošts
;

44730 
	g´im™ives
.
assign
(
nb_´im™ives
);

44731 
cimgli¡_fÜ
(
´im™ives
,
p
) {

44732 cÚ¡ 
	gnb_šds
 = ()*(
±rs
++);

44733 
	g´im™ives
[
p
].
assign
(1,
nb_šds
);

44734 

 *
	g±½
 = 
´im™ives
[
p
].
_d©a
;

44735 
	gi
 = 0; i<
	gnb_šds
; ++iè*(
	g±½
++èğ(

)
cimg
::
æßt2ušt
(()*(
±rs
++));

44737 
	gcŞÜs
.
assign
(
nb_´im™ives
);

44738 
cimgli¡_fÜ
(
cŞÜs
,
c
) {

44739 ià(*
	g±rs
==(
T
)-128) {

44740 ++
±rs
;

44741 cÚ¡ 
	gw
 = ()*(
±rs
++), 
	gh
 = ()*ÕŒs++), 
	gs
 = ()*(ptrs++);

44742 ià(!
	gh
 && !
	gs
è
	gcŞÜs
[
c
].
assign
(
cŞÜs
[
w
],
Œue
);

44743 { 
	gcŞÜs
[
c
].
assign
(
±rs
,
w
,
h
,1,
s
,
çl£
); 
	g±rs
+=w*h*s; }

44744 } { 
	gcŞÜs
[
c
].
assign
(
±rs
,1,1,1,3,
çl£
); 
	g±rs
+=3; }

44746 
	gİac™›s
.
assign
(
nb_´im™ives
);

44747 
cimgli¡_fÜ
(
İac™›s
,
o
) {

44748 ià(*
	g±rs
==(
T
)-128) {

44749 ++
±rs
;

44750 cÚ¡ 
	gw
 = ()*(
±rs
++), 
	gh
 = ()*ÕŒs++), 
	gs
 = ()*(ptrs++);

44751 ià(!
	gh
 && !
	gs
è
	gİac™›s
[
o
].
assign
(
İac™›s
[
w
],
Œue
);

44752 { 
	gİac™›s
[
o
].
assign
(
±rs
,
w
,
h
,1,
s
,
çl£
); 
	g±rs
+=w*h*s; }

44753 } 
	gİac™›s
[
o
].
assign
(1,1,1,1,*(
±rs
++));

44755  
	gpošts
;

44765 
	#cimg_š™_sÿÆše
(
İac™y
) \

44766 cÚ¡ 
T
 
_sc_maxv®
 = (T)
¡d
::
	`mš
(
cimg
::
ty³
<T>::
	`max
(),(T)cimg::ty³<
tc
>::max()); \

44767 cÚ¡ 
_sc_nİac™y
 = 
cimg
::
	`abs
(()
İac™y
), 
_sc_cİac™y
 = 1 - 
¡d
::
	`max
(()opacity,0.f); \

44768 cÚ¡ 
ulÚgT
 
_sc_whd
 = (ulÚgT)
_width
*
_height
*
_d•th
; \

44769 
cimg
::
	`unu£d
(
_sc_maxv®
);

	)

44771 
	#cimg_d¿w_sÿÆše
(
x0
,
x1
,
y
,
cŞÜ
,
İac™y
,
brighŠess
) \

44772 
	`_d¿w_sÿÆše
(
x0
,
x1
,
y
,
cŞÜ
,
İac™y
,
brighŠess
,
_sc_nİac™y
,
_sc_cİac™y
,
_sc_whd
,
_sc_maxv®
)

	)

44777 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

44778 
	gCImg
<
	gT
>& 
_d¿w_sÿÆše
(cÚ¡ 
x0
, cÚ¡ 
x1
, cÚ¡ 
y
,

44779 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
,

44780 cÚ¡ 
brighŠess
,

44781 cÚ¡ 
nİac™y
, cÚ¡ 
cİac™y
, cÚ¡ 
ulÚgT
 
whd
, cÚ¡ 
T
 
_sc_maxv®
) {

44782 cÚ¡ 
	gnx0
 = 
x0
>0?x0:0, 
	gnx1
 = 
x1
<
width
()?x1:width(è- 1, 
	gdx
 = 
nx1
 - 
nx0
;

44783 ià(
	gdx
>=0) {

44784 cÚ¡ 
tc
 *
cŞ
 = 
cŞÜ
;

44785 cÚ¡ 
ulÚgT
 
	goff
 = 
whd
 - 
dx
 - 1;

44786 
T
 *
	g±rd
 = 
d©a
(
nx0
,
y
);

44787 ià(
	gİac™y
>=1) {

44788 ià(
brighŠess
==1) {

44789 ià((
T
)!=1è
cimg_fÜC
(*
this
,
c
) {

44790 cÚ¡ 
T
 
	gv®
 = (T)*(
cŞ
++);

44791 
	gx
 = 
dx
; x>=0; --xè*(
	g±rd
++èğ
v®
;

44792 
	g±rd
+=
off
;

44793 } 
cimg_fÜC
(*
this
,
c
) {

44794 cÚ¡ 
T
 
	gv®
 = (T)*(
cŞ
++);

44795 
	g¡d
::
mem£t
(
±rd
,()
v®
,
dx
 + 1);

44796 
	g±rd
+=
whd
;

44798 } ià(
	gbrighŠess
<1) {

44799 ià((
	gT
)!=1è
cimg_fÜC
(*
this
,
c
) {

44800 cÚ¡ 
T
 
	gv®
 = (T)(*(
cŞ
++)*
brighŠess
);

44801 
	gx
 = 
dx
; x>=0; --xè*(
	g±rd
++èğ
v®
;

44802 
	g±rd
+=
off
;

44803 } 
cimg_fÜC
(*
this
,
c
) {

44804 cÚ¡ 
T
 
	gv®
 = (T)(*(
cŞ
++)*
brighŠess
);

44805 
	g¡d
::
mem£t
(
±rd
,()
v®
,
dx
 + 1);

44806 
	g±rd
+=
whd
;

44809 ià((
	gT
)!=1è
cimg_fÜC
(*
this
,
c
) {

44810 cÚ¡ 
T
 
	gv®
 = (T)((2-
brighŠess
)**(
cŞ
++è+ (brighŠes - 1)*
_sc_maxv®
);

44811 
	gx
 = 
dx
; x>=0; --xè*(
	g±rd
++èğ
v®
;

44812 
	g±rd
+=
off
;

44813 } 
cimg_fÜC
(*
this
,
c
) {

44814 cÚ¡ 
T
 
	gv®
 = (T)((2-
brighŠess
)**(
cŞ
++è+ (brighŠes - 1)*
_sc_maxv®
);

44815 
	g¡d
::
mem£t
(
±rd
,()
v®
,
dx
 + 1);

44816 
	g±rd
+=
whd
;

44820 ià(
	gbrighŠess
==1) {

44821 
cimg_fÜC
(*
this
,
c
) {

44822 cÚ¡ 
Tæßt
 
v®
 = *(
cŞ
++)*
nİac™y
;

44823 
	gx
 = 
dx
; x>=0; --xè{ *
	g±rd
 = (
T
)(
v®
 + *
±rd
*
cİac™y
); ++ptrd; }

44824 
	g±rd
+=
off
;

44826 } ià(
	gbrighŠess
<=1) {

44827 
cimg_fÜC
(*
this
,
c
) {

44828 cÚ¡ 
Tæßt
 
v®
 = *(
cŞ
++)*
brighŠess
*
nİac™y
;

44829 
	gx
 = 
dx
; x>=0; --xè{ *
	g±rd
 = (
T
)(
v®
 + *
±rd
*
cİac™y
); ++ptrd; }

44830 
	g±rd
+=
off
;

44833 
cimg_fÜC
(*
this
,
c
) {

44834 cÚ¡ 
Tæßt
 
	gv®
 = ((2-
brighŠess
)**(
cŞ
++è+ (brighŠes - 1)*
_sc_maxv®
)*
nİac™y
;

44835 
	gx
 = 
dx
; x>=0; --xè{ *
	g±rd
 = (
T
)(
v®
 + *
±rd
*
cİac™y
); ++ptrd; }

44836 
	g±rd
+=
off
;

44841  *
	gthis
;

44860 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

44861 
	gCImg
<
	gT
>& 
d¿w_pošt
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
,

44862 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1) {

44863 ià(
is_em±y
()è *
this
;

44864 ià(!
	gcŞÜ
)

44865 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


44867 
cimg_š¡ªû
);

44868 ià(
	gx0
>=0 && 
y0
>=0 && 
z0
>=0 && 
x0
<
width
(è&& y0<
height
(è&& z0<
d•th
()) {

44869 cÚ¡ 
ulÚgT
 
whd
 = (ulÚgT)
_width
*
_height
*
_d•th
;

44870 cÚ¡ 
	gnİac™y
 = 
cimg
::
abs
(
İac™y
), 
	gcİac™y
 = 1 - 
¡d
::
max
(opacity,0.f);

44871 
T
 *
	g±rd
 = 
d©a
(
x0
,
y0
,
z0
,0);

44872 cÚ¡ 
tc
 *
	gcŞ
 = 
cŞÜ
;

44873 ià(
	gİac™y
>=1è
cimg_fÜC
(*
this
,
c
è{ *
	g±rd
 = (
T
)*(
cŞ
++);…Œd+=
whd
; }

44874 
cimg_fÜC
(*
this
,
c
è{ *
	g±rd
 = (
T
)(*(
cŞ
++)*
nİac™y
 + *
±rd
*
cİac™y
);…Œd+=
whd
; }

44876  *
	gthis
;

44880 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

44881 
	gCImg
<
	gT
>& 
d¿w_pošt
(cÚ¡ 
x0
, cÚ¡ 
y0
,

44882 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1) {

44883  
d¿w_pošt
(
x0
,
y0
,0,
cŞÜ
,
İac™y
);

44892 
	g‹m¶©e
<
ty³Çme
 
	gt
,y³Çm
	gtc
>

44893 
	gCImg
<
	gT
>& 
d¿w_pošt
(cÚ¡ 
CImg
<
t
>& 
pošts
,

44894 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1) {

44895 ià(
is_em±y
(è|| !
pošts
è *
this
;

44896 
	gpošts
.
	g_height
) {

44898 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


44900 
cimg_š¡ªû
,

44901 
pošts
.
_width
,pošts.
_height
,pošts.
_d•th
,pošts.
_¥eùrum
,pošts.
_d©a
);

44903 
cimg_fÜX
(
pošts
,
i
è
d¿w_pošt
((íošts(i,0),(íošts(i,1),
cŞÜ
,
İac™y
);

44906 
cimg_fÜX
(
pošts
,
i
è
d¿w_pošt
((íošts(i,0),(íošts(i,1),(íošts(i,2),
cŞÜ
,
İac™y
);

44909  *
	gthis
;

44932 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

44933 
	gCImg
<
	gT
>& 
d¿w_lše
(
x0
, 
y0
,

44934 
x1
, 
y1
,

44935 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1,

44936 cÚ¡ 
·‰”n
=~0U, cÚ¡ 
boŞ
 
š™_h©ch
=
Œue
) {

44937 ià(
is_em±y
(è|| !
İac™y
 || !
·‰”n
 ||

44938 
¡d
::
mš
(
y0
,
y1
)>=
height
(è|| std::
max
(y0,y1)<0 ||

44939 
	g¡d
::
mš
(
x0
,
x1
)>=
width
(è|| 
¡d
::
max
(x0,x1)<0è *
	gthis
;

44942 
	gw1
 = 
width
(è- 1, 
	gh1
 = 
height
() - 1,

44943 
	gdx01
 = 
x1
 - 
x0
, 
	gdy01
 = 
y1
 - 
y0
;

44945 cÚ¡ 
boŞ
 
	gis_hÜizÚl
 = 
cimg
::
abs
(
dx01
)>cimg::abs(
dy01
);

44946 ià(
	gis_hÜizÚl
è
	gcimg
::
sw­
(
x0
,
y0
,
x1
,
y1
,
w1
,
h1
,
dx01
,
dy01
);

44947 ià(
	g·‰”n
==~0U && 
y0
>
y1
) {

44948 
cimg
::
sw­
(
x0
,
x1
,
y0
,
y1
);

44949 
	gdx01
*=-1; 
	gdy01
*=-1;

44952 
	gh©ch
 = ~0U - (~0U>>1);

44953 ià(
	gš™_h©ch
è
	gh©ch
 = ~0U - (~0U>>1);

44954 
cimg_š™_sÿÆše
(
İac™y
);

44956 
	g¡•
 = 
y0
<=
y1
?1:-1,
	ghdy01
 = 
dy01
*
cimg
::
sign
(
dx01
)/2,

44957 
	gcy0
 = 
cimg
::
cut
(
y0
,0,
h1
), 
	gcy1
 = cimg::cut(
y1
,0,h1è+ 
	g¡•
;

44958 
	gdy01
+=
dy01
?0:1;

44960 
	gy
 = 
cy0
; y!=
cy1
; y+=
¡•
) {

44962 
yy0
 = 
y
 - 
y0
,

44963 
	gx
 = 
x0
 + (
dx01
*
yy0
 + 
hdy01
)/
dy01
;

44964 ià(
	gx
>=0 && 
x
<=
w1
 && 
·‰”n
&
h©ch
) {

44965 
T
 *cÚ¡ 
±rd
 = 
is_hÜizÚl
?
d©a
(
y
,
x
):data(x,y);

44966 
cimg_fÜC
(*
this
,
c
) {

44967 cÚ¡ 
T
 
	gv®
 = 
cŞÜ
[
c
];

44968 
	g±rd
[
c
*
_sc_whd
] = 
İac™y
>=1?
v®
:(
T
)(v®*
_sc_nİac™y
 + 
±rd
[c*_sc_whd]*
_sc_cİac™y
);

44971 ià(!(
	gh©ch
>>=1)è
h©ch
 = ~0U - (~0U>>1);

44973  *
	gthis
;

44990 
	g‹m¶©e
<
ty³Çme
 
	gtz
,ty³Çm
	gtc
>

44991 
	gCImg
<
	gT
>& 
d¿w_lše
(
CImg
<
tz
>& 
zbufãr
,

44992 
x0
, 
y0
, cÚ¡ 
z0
,

44993 
x1
, 
y1
, cÚ¡ 
z1
,

44994 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1,

44995 cÚ¡ 
·‰”n
=~0U, cÚ¡ 
boŞ
 
š™_h©ch
=
Œue
) {

44996 ià(
is_em±y
(è|| 
z0
<=0 || 
z1
<=0 || !
İac™y
 || !
·‰”n
è *
this
;

44997 ià(!
	gcŞÜ
)

44998 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


45000 
cimg_š¡ªû
);

45001 ià(!
is_§meXY
(
zbufãr
))

45002 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


45005 
cimg_š¡ªû
,

45006 
zbufãr
.
_width
,zbufãr.
_height
,zbufãr.
_d•th
,zbufãr.
_¥eùrum
,zbufãr.
_d©a
);

45008 ià(
	g¡d
::
mš
(
y0
,
y1
)>=
height
(è|| 
¡d
::
max
(y0,y1)<0 || std::mš(
x0
,
x1
)>=
width
(è|| std::max(x0,x1)<0è *
	gthis
;

45010 
	giz0
 = 1/
z0
, 
	giz1
 = 1/
z1
;

45012 
	gw1
 = 
width
(è- 1, 
	gh1
 = 
height
() - 1,

45013 
	gdx01
 = 
x1
 - 
x0
, 
	gdy01
 = 
y1
 - 
y0
;

45014 
	gdiz01
 = 
iz1
 - 
iz0
;

45016 cÚ¡ 
boŞ
 
	gis_hÜizÚl
 = 
cimg
::
abs
(
dx01
)>cimg::abs(
dy01
);

45017 ià(
	gis_hÜizÚl
è
	gcimg
::
sw­
(
x0
,
y0
,
x1
,
y1
,
w1
,
h1
,
dx01
,
dy01
);

45018 ià(
	g·‰”n
==~0U && 
y0
>
y1
) {

45019 
cimg
::
sw­
(
x0
,
x1
,
y0
,
y1
,
iz0
,
iz1
);

45020 
	gdx01
*=-1; 
	gdy01
*=-1; 
	gdiz01
*=-1;

45023 
	gh©ch
 = ~0U - (~0U>>1);

45024 ià(
	gš™_h©ch
è
	gh©ch
 = ~0U - (~0U>>1);

45025 
cimg_š™_sÿÆše
(
İac™y
);

45028 
	g¡•
 = 
y0
<=
y1
?1:-1, 
	ghdy01
 = 
dy01
*
cimg
::
sign
(
dx01
)/2,

45029 
	gcy0
 = 
cimg
::
cut
(
y0
,0,
h1
), 
	gcy1
 = cimg::cut(
y1
,0,h1è+ 
	g¡•
;

45030 
	gdy01
+=
dy01
?0:1;

45032 
	gy
 = 
cy0
; y!=
cy1
; y+=
¡•
) {

45034 
yy0
 = 
y
 - 
y0
,

45035 
	gx
 = 
x0
 + (
dx01
*
yy0
 + 
hdy01
)/
dy01
;

45036 cÚ¡ 
	giz
 = 
iz0
 + 
diz01
*
yy0
/
dy01
;

45037 
tz
 *cÚ¡ 
	g±rz
 = 
is_hÜizÚl
?
zbufãr
.
d©a
(
y
,
x
):zbuffer.data(x,y);

45039 ià(
	gx
>=0 && 
x
<=
w1
 && 
·‰”n
&
h©ch
 && 
iz
>=*
±rz
) {

45040 *
±rz
 = (
tz
)
iz
;

45041 
T
 *cÚ¡ 
	g±rd
 = 
is_hÜizÚl
?
d©a
(
y
,
x
):data(x,y);

45042 
cimg_fÜC
(*
this
,
c
) {

45043 cÚ¡ 
T
 
	gv®
 = 
cŞÜ
[
c
];

45044 
	g±rd
[
c
*
_sc_whd
] = 
İac™y
>=1?
v®
:(
T
)(v®*
_sc_nİac™y
 + 
±rd
[c*_sc_whd]*
_sc_cİac™y
);

45047 ià(!(
	gh©ch
>>=1)è
h©ch
 = ~0U - (~0U>>1);

45049  *
	gthis
;

45075 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

45076 
	gCImg
<
	gT
>& 
d¿w_lše
(
x0
, 
y0
,

45077 
x1
, 
y1
,

45078 cÚ¡ 
CImg
<
tc
>& 
‹xtu»
,

45079 
tx0
, 
ty0
,

45080 
tx1
, 
ty1
,

45081 cÚ¡ 
İac™y
=1,

45082 cÚ¡ 
·‰”n
=~0U, cÚ¡ 
boŞ
 
š™_h©ch
=
Œue
) {

45084 ià(
is_em±y
(è|| !
İac™y
 || !
·‰”n
è *
this
;

45085 ià(
	g‹xtu»
.
	g_d•th
>1 ||extu».
	g_¥eùrum
<_spectrum)

45086 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


45088 
cimg_š¡ªû
,

45089 
‹xtu»
.
_width
,‹xtu».
_height
,‹xtu».
_d•th
,‹xtu».
_¥eùrum
,‹xtu».
_d©a
);

45090 ià(
is_ov”Ïµed
(
‹xtu»
)è 
d¿w_lše
(
x0
,
y0
,
x1
,
y1
,+‹xtu»,
tx0
,
ty0
,
tx1
,
ty1
,
İac™y
,
·‰”n
,
š™_h©ch
);

45092 ià(
	g¡d
::
mš
(
y0
,
y1
)>=
height
(è|| 
¡d
::
max
(y0,y1)<0 || std::mš(
x0
,
x1
)>=
width
(è|| std::max(x0,x1)<0è *
	gthis
;

45095 
	gw1
 = 
width
(è- 1, 
	gh1
 = 
height
() - 1,

45096 
	gdx01
 = 
x1
 - 
x0
, 
	gdy01
 = 
y1
 - 
y0
;

45098 
	gdtx01
 = 
tx1
 - 
tx0
, 
	gdty01
 = 
ty1
 - 
ty0
;

45100 cÚ¡ 
boŞ
 
	gis_hÜizÚl
 = 
cimg
::
abs
(
dx01
)>cimg::abs(
dy01
);

45101 ià(
	gis_hÜizÚl
è
	gcimg
::
sw­
(
x0
,
y0
,
x1
,
y1
,
w1
,
h1
,
dx01
,
dy01
);

45102 ià(
	g·‰”n
==~0U && 
y0
>
y1
) {

45103 
cimg
::
sw­
(
x0
,
x1
,
y0
,
y1
,
tx0
,
tx1
,
ty0
,
ty1
);

45104 
	gdx01
*=-1; 
	gdy01
*=-1; 
	gdtx01
*=-1; 
	gdty01
*=-1;

45107 cÚ¡ 
ulÚgT
 
	gtwhd
 = (ulÚgT)
‹xtu»
.
_width
*‹xtu».
_height
*‹xtu».
_d•th
;

45108 
	gh©ch
 = ~0U - (~0U>>1);

45109 ià(
	gš™_h©ch
è
	gh©ch
 = ~0U - (~0U>>1);

45110 
cimg_š™_sÿÆše
(
İac™y
);

45113 
	g¡•
 = 
y0
<=
y1
?1:-1, 
	ghdy01
 = 
dy01
*
cimg
::
sign
(
dx01
)/2,

45114 
	ghdy01tx
 = 
dy01
*
cimg
::
sign
(
dtx01
)/2, 
	ghdy01ty
 = dy01*cimg::sign(
dty01
)/2,

45115 
	gcy0
 = 
cimg
::
cut
(
y0
,0,
h1
), 
	gcy1
 = cimg::cut(
y1
,0,h1è+ 
	g¡•
;

45116 
	gdy01
+=
dy01
?0:1;

45118 
	gy
 = 
cy0
; y!=
cy1
; y+=
¡•
) {

45120 
yy0
 = 
y
 - 
y0
,

45121 
	gx
 = 
x0
 + (
dx01
*
yy0
 + 
hdy01
)/
dy01
,

45122 
	gtx
 = 
tx0
 + (
dtx01
*
yy0
 + 
hdy01tx
)/
dy01
,

45123 
	gty
 = 
ty0
 + (
dty01
*
yy0
 + 
hdy01ty
)/
dy01
;

45124 ià(
	gx
>=0 && 
x
<=
w1
 && 
·‰”n
&
h©ch
) {

45125 
T
 *cÚ¡ 
±rd
 = 
is_hÜizÚl
?
d©a
(
y
,
x
):data(x,y);

45126 cÚ¡ 
tc
 *cÚ¡ 
	gcŞÜ
 = &
‹xtu»
.
_©XY
(
tx
,
ty
);

45127 
cimg_fÜC
(*
this
,
c
) {

45128 cÚ¡ 
T
 
	gv®
 = 
cŞÜ
[
c
*
twhd
];

45129 
	g±rd
[
c
*
_sc_whd
] = (
T
)(
İac™y
>=1?
v®
:v®*
_sc_nİac™y
 + 
±rd
[c*_sc_whd]*
_sc_cİac™y
);

45132 ià(!(
	gh©ch
>>=1)è
h©ch
 = ~0U - (~0U>>1);

45134  *
	gthis
;

45154 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

45155 
	gCImg
<
	gT
>& 
d¿w_lše
(
x0
, 
y0
, cÚ¡ 
z0
,

45156 
x1
, 
y1
, cÚ¡ 
z1
,

45157 cÚ¡ 
CImg
<
tc
>& 
‹xtu»
,

45158 cÚ¡ 
tx0
, cÚ¡ 
ty0
,

45159 cÚ¡ 
tx1
, cÚ¡ 
ty1
,

45160 cÚ¡ 
İac™y
=1,

45161 cÚ¡ 
·‰”n
=~0U, cÚ¡ 
boŞ
 
š™_h©ch
=
Œue
) {

45162 ià(
is_em±y
(è|| 
z0
<=0 || 
z1
<=0 || !
İac™y
 || !
·‰”n
è *
this
;

45163 ià(
	g‹xtu»
.
	g_d•th
>1 ||extu».
	g_¥eùrum
<_spectrum)

45164 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


45166 
cimg_š¡ªû
,

45167 
‹xtu»
.
_width
,‹xtu».
_height
,‹xtu».
_d•th
,‹xtu».
_¥eùrum
,‹xtu».
_d©a
);

45168 ià(
is_ov”Ïµed
(
‹xtu»
))

45169  
d¿w_lše
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,+
‹xtu»
,
tx0
,
ty0
,
tx1
,
ty1
,
İac™y
,
·‰”n
,
š™_h©ch
);

45171 ià(
	g¡d
::
mš
(
y0
,
y1
)>=
height
(è|| 
¡d
::
max
(y0,y1)<0 || std::mš(
x0
,
x1
)>=
width
(è|| std::max(x0,x1)<0è *
	gthis
;

45173 
	giz0
 = 1/
z0
, 
	giz1
 = 1/
z1
;

45175 
	gw1
 = 
width
(è- 1, 
	gh1
 = 
height
() - 1,

45176 
	gdx01
 = 
x1
 - 
x0
, 
	gdy01
 = 
y1
 - 
y0
;

45178 
	gdiz01
 = 
iz1
 - 
iz0
,

45179 
	gtxz0
 = 
tx0
*
iz0
, 
	gtxz1
 = 
tx1
*
iz1
,

45180 
	gtyz0
 = 
ty0
*
iz0
, 
	gtyz1
 = 
ty1
*
iz1
,

45181 
	gdtxz01
 = 
txz1
 - 
txz0
, 
	gdtyz01
 = 
tyz1
 - 
tyz0
;

45183 cÚ¡ 
boŞ
 
	gis_hÜizÚl
 = 
cimg
::
abs
(
dx01
)>cimg::abs(
dy01
);

45184 ià(
	gis_hÜizÚl
è
	gcimg
::
sw­
(
x0
,
y0
,
x1
,
y1
,
w1
,
h1
,
dx01
,
dy01
);

45185 ià(
	g·‰”n
==~0U && 
y0
>
y1
) {

45186 
cimg
::
sw­
(
x0
,
x1
,
y0
,
y1
,
iz0
,
iz1
,
txz0
,
txz1
,
tyz0
,
tyz1
);

45187 
	gdx01
*=-1; 
	gdy01
*=-1; 
	gdiz01
*=-1; 
	gdtxz01
*=-1; 
	gdtyz01
*=-1;

45190 cÚ¡ 
ulÚgT
 
	gtwhd
 = (ulÚgT)
‹xtu»
.
_width
*‹xtu».
_height
*‹xtu».
_d•th
;

45191 
	gh©ch
 = ~0U - (~0U>>1);

45192 ià(
	gš™_h©ch
è
	gh©ch
 = ~0U - (~0U>>1);

45193 
cimg_š™_sÿÆše
(
İac™y
);

45196 
	g¡•
 = 
y0
<=
y1
?1:-1, 
	ghdy01
 = 
dy01
*
cimg
::
sign
(
dx01
)/2,

45197 
	gcy0
 = 
cimg
::
cut
(
y0
,0,
h1
), 
	gcy1
 = cimg::cut(
y1
,0,h1è+ 
	g¡•
;

45198 
	gdy01
+=
dy01
?0:1;

45200 
	gy
 = 
cy0
; y!=
cy1
; y+=
¡•
) {

45202 
yy0
 = 
y
 - 
y0
,

45203 
	gx
 = 
x0
 + (
dx01
*
yy0
 + 
hdy01
)/
dy01
;

45205 
	giz
 = 
iz0
 + 
diz01
*
yy0
/
dy01
,

45206 
	gtxz
 = 
txz0
 + 
dtxz01
*
yy0
/
dy01
,

45207 
	gtyz
 = 
tyz0
 + 
dtyz01
*
yy0
/
dy01
;

45208 ià(
	gx
>=0 && 
x
<=
w1
 && 
·‰”n
&
h©ch
) {

45210 
tx
 = ()
cimg
::
round
(
txz
/
iz
),

45211 
	gty
 = ()
cimg
::
round
(
tyz
/
iz
);

45212 
T
 *cÚ¡ 
	g±rd
 = 
is_hÜizÚl
?
d©a
(
y
,
x
):data(x,y);

45213 cÚ¡ 
tc
 *cÚ¡ 
	gcŞÜ
 = &
‹xtu»
.
_©XY
(
tx
,
ty
);

45214 
cimg_fÜC
(*
this
,
c
) {

45215 cÚ¡ 
T
 
	gv®
 = 
cŞÜ
[
c
*
twhd
];

45216 
	g±rd
[
c
*
_sc_whd
] = 
İac™y
>=1?
v®
:(
T
)(v®*
_sc_nİac™y
 + 
±rd
[c*_sc_whd]*
_sc_cİac™y
);

45219 ià(!(
	gh©ch
>>=1)è
h©ch
 = ~0U - (~0U>>1);

45221  *
	gthis
;

45242 
	g‹m¶©e
<
ty³Çme
 
	gtz
,y³Çm
	gtc
>

45243 
	gCImg
<
	gT
>& 
d¿w_lše
(
CImg
<
tz
>& 
zbufãr
,

45244 
x0
, 
y0
, cÚ¡ 
z0
,

45245 
x1
, 
y1
, cÚ¡ 
z1
,

45246 cÚ¡ 
CImg
<
tc
>& 
‹xtu»
,

45247 cÚ¡ 
tx0
, cÚ¡ 
ty0
,

45248 cÚ¡ 
tx1
, cÚ¡ 
ty1
,

45249 cÚ¡ 
İac™y
=1,

45250 cÚ¡ 
·‰”n
=~0U, cÚ¡ 
boŞ
 
š™_h©ch
=
Œue
) {

45251 ià(
is_em±y
(è|| 
z0
<=0 || 
z1
<=0 || !
İac™y
 || !
·‰”n
è *
this
;

45252 ià(!
is_§meXY
(
zbufãr
))

45253 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


45256 
cimg_š¡ªû
,

45257 
zbufãr
.
_width
,zbufãr.
_height
,zbufãr.
_d•th
,zbufãr.
_¥eùrum
,zbufãr.
_d©a
);

45258 ià(
	g‹xtu»
.
	g_d•th
>1 ||extu».
	g_¥eùrum
<_spectrum)

45259 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


45261 
cimg_š¡ªû
,

45262 
‹xtu»
.
_width
,‹xtu».
_height
,‹xtu».
_d•th
,‹xtu».
_¥eùrum
,‹xtu».
_d©a
);

45263 ià(
is_ov”Ïµed
(
‹xtu»
))

45264  
d¿w_lše
(
zbufãr
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,+
‹xtu»
,
tx0
,
ty0
,
tx1
,
ty1
,
İac™y
,
·‰”n
,
š™_h©ch
);

45266 ià(
	g¡d
::
mš
(
y0
,
y1
)>=
height
(è|| 
¡d
::
max
(y0,y1)<0 || std::mš(
x0
,
x1
)>=
width
(è|| std::max(x0,x1)<0è *
	gthis
;

45268 
	giz0
 = 1/
z0
, 
	giz1
 = 1/
z1
;

45270 
	gw1
 = 
width
(è- 1, 
	gh1
 = 
height
() - 1,

45271 
	gdx01
 = 
x1
 - 
x0
, 
	gdy01
 = 
y1
 - 
y0
;

45273 
	gdiz01
 = 
iz1
 - 
iz0
,

45274 
	gtxz0
 = 
tx0
*
iz0
, 
	gtxz1
 = 
tx1
*
iz1
,

45275 
	gtyz0
 = 
ty0
*
iz0
, 
	gtyz1
 = 
ty1
*
iz1
,

45276 
	gdtxz01
 = 
txz1
 - 
txz0
, 
	gdtyz01
 = 
tyz1
 - 
tyz0
;

45278 cÚ¡ 
boŞ
 
	gis_hÜizÚl
 = 
cimg
::
abs
(
dx01
)>cimg::abs(
dy01
);

45279 ià(
	gis_hÜizÚl
è
	gcimg
::
sw­
(
x0
,
y0
,
x1
,
y1
,
w1
,
h1
,
dx01
,
dy01
);

45280 ià(
	g·‰”n
==~0U && 
y0
>
y1
) {

45281 
cimg
::
sw­
(
x0
,
x1
,
y0
,
y1
,
iz0
,
iz1
,
txz0
,
txz1
,
tyz0
,
tyz1
);

45282 
	gdx01
*=-1; 
	gdy01
*=-1; 
	gdiz01
*=-1; 
	gdtxz01
*=-1; 
	gdtyz01
*=-1;

45285 cÚ¡ 
ulÚgT
 
	gtwhd
 = (ulÚgT)
‹xtu»
.
_width
*‹xtu».
_height
*‹xtu».
_d•th
;

45286 
	gh©ch
 = ~0U - (~0U>>1);

45287 ià(
	gš™_h©ch
è
	gh©ch
 = ~0U - (~0U>>1);

45288 
cimg_š™_sÿÆše
(
İac™y
);

45291 
	g¡•
 = 
y0
<=
y1
?1:-1, 
	ghdy01
 = 
dy01
*
cimg
::
sign
(
dx01
)/2,

45292 
	gcy0
 = 
cimg
::
cut
(
y0
,0,
h1
), 
	gcy1
 = cimg::cut(
y1
,0,h1è+ 
	g¡•
;

45293 
	gdy01
+=
dy01
?0:1;

45295 
	gy
 = 
cy0
; y!=
cy1
; y+=
¡•
) {

45297 
yy0
 = 
y
 - 
y0
,

45298 
	gx
 = 
x0
 + (
dx01
*
yy0
 + 
hdy01
)/
dy01
;

45300 
	giz
 = 
iz0
 + 
diz01
*
yy0
/
dy01
,

45301 
	gtxz
 = 
txz0
 + 
dtxz01
*
yy0
/
dy01
,

45302 
	gtyz
 = 
tyz0
 + 
dtyz01
*
yy0
/
dy01
;

45303 
tz
 *cÚ¡ 
	g±rz
 = 
is_hÜizÚl
?
zbufãr
.
d©a
(
y
,
x
):zbuffer.data(x,y);

45305 ià(
	gx
>=0 && 
x
<=
w1
 && 
·‰”n
&
h©ch
 && 
iz
>=*
±rz
) {

45306 *
±rz
 = (
tz
)
iz
;

45308 
	gtx
 = ()
cimg
::
round
(
txz
/
iz
),

45309 
	gty
 = ()
cimg
::
round
(
tyz
/
iz
);

45310 
T
 *cÚ¡ 
	g±rd
 = 
is_hÜizÚl
?
d©a
(
y
,
x
):data(x,y);

45311 cÚ¡ 
tc
 *cÚ¡ 
	gcŞÜ
 = &
‹xtu»
.
_©XY
(
tx
,
ty
);

45312 
cimg_fÜC
(*
this
,
c
) {

45313 cÚ¡ 
T
 
	gv®
 = 
cŞÜ
[
c
*
twhd
];

45314 
	g±rd
[
c
*
_sc_whd
] = 
İac™y
>=1?
v®
:(
T
)(v®*
_sc_nİac™y
 + 
±rd
[c*_sc_whd]*
_sc_cİac™y
);

45317 ià(!(
	gh©ch
>>=1)è
h©ch
 = ~0U - (~0U>>1);

45319  *
	gthis
;

45333 
	g‹m¶©e
<
ty³Çme
 
	gt
,y³Çm
	gtc
>

45334 
	gCImg
<
	gT
>& 
d¿w_lše
(cÚ¡ 
CImg
<
t
>& 
pošts
,

45335 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1,

45336 cÚ¡ 
·‰”n
=~0U, cÚ¡ 
boŞ
 
š™_h©ch
=
Œue
) {

45337 ià(
is_em±y
(è|| !
pošts
 ||…ošts.
_width
<2è *
this
;

45338 
boŞ
 
	gnš™_h©ch
 = 
š™_h©ch
;

45339 
	gpošts
.
	g_height
) {

45341 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


45343 
cimg_š¡ªû
,

45344 
pošts
.
_width
,pošts.
_height
,pošts.
_d•th
,pošts.
_¥eùrum
,pošts.
_d©a
);

45347 cÚ¡ 
x0
 = ()
pošts
(0,0), 
	gy0
 = ()points(0,1);

45348 
	gox
 = 
x0
, 
	goy
 = 
y0
;

45349 
	gi
 = 1; i<
	gpošts
.
	g_width
; ++i) {

45350 cÚ¡ 
	gx
 = ()
pošts
(
i
,0), 
	gy
 = ()points(i,1);

45351 
d¿w_lše
(
ox
,
oy
,
x
,
y
,
cŞÜ
,
İac™y
,
·‰”n
,
nš™_h©ch
);

45352 
	gnš™_h©ch
 = 
çl£
;

45353 
	gox
 = 
x
; 
	goy
 = 
y
;

45357  *
	gthis
;

45372 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

45373 
	gCImg
<
	gT
>& 
d¿w_¬row
(cÚ¡ 
x0
, cÚ¡ 
y0
,

45374 cÚ¡ 
x1
, cÚ¡ 
y1
,

45375 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1,

45376 cÚ¡ 
ªgË
=30, cÚ¡ 
Ëngth
=-10,

45377 cÚ¡ 
·‰”n
=~0U) {

45378 ià(
is_em±y
()è *
this
;

45379 cÚ¡ 
	gu
 = ()(
x0
 - 
x1
), 
	gv
 = ()(
y0
 - 
y1
), 
	gsq
 = 
u
*u + 
v
*v,

45380 
	gdeg
 = ()(
ªgË
*
cimg
::
PI
/180), 
	gªg
 = (
sq
>0)?()
¡d
::
©ª2
(
v
,
u
):0.f,

45381 
	gl
 = (
Ëngth
>=0)?Ëngth:-Ëngth*()
¡d
::
sq¹
(
sq
)/100;

45382 ià(
	gsq
>0) {

45384 
	gş
 = ()
¡d
::
cos
(
ªg
 - 
deg
), 
	g¦
 = ()¡d::
sš
(ang - deg),

45385 
	gü
 = ()
¡d
::
cos
(
ªg
 + 
deg
), 
	g¤
 = ()¡d::
sš
(ang + deg);

45387 
	gxl
 = 
x1
 + ()(
l
*
ş
), 
	gyl
 = 
y1
 + ()Ö*
¦
),

45388 
	gxr
 = 
x1
 + ()(
l
*
ü
), 
	gyr
 = 
y1
 + ()Ö*
¤
),

45389 
	gxc
 = 
x1
 + ()((
l
 + 1)*(
ş
 + 
ü
))/2, 
	gyc
 = 
y1
 + ()(Ö + 1)*(
¦
 + 
¤
))/2;

45390 
d¿w_lše
(
x0
,
y0
,
xc
,
yc
,
cŞÜ
,
İac™y
,
·‰”n
).
d¿w_ŒŸngË
(
x1
,
y1
,
xl
,
yl
,
xr
,
yr
,color,opacity);

45391 } 
d¿w_pošt
(
x0
,
y0
,
cŞÜ
,
İac™y
);

45392  *
	gthis
;

45429 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

45430 
	gCImg
<
	gT
>& 
d¿w_¥lše
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
u0
, cÚ¡ 
v0
,

45431 cÚ¡ 
x1
, cÚ¡ 
y1
, cÚ¡ 
u1
, cÚ¡ 
v1
,

45432 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1,

45433 cÚ¡ 
´ecisiÚ
=0.25, cÚ¡ 
·‰”n
=~0U,

45434 cÚ¡ 
boŞ
 
š™_h©ch
=
Œue
) {

45435 ià(
is_em±y
()è *
this
;

45436 ià(!
	gcŞÜ
)

45437 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


45439 
cimg_š¡ªû
);

45440 ià(
	gx0
==
x1
 && 
y0
==
y1
è 
d¿w_pošt
(
x0
,y0,
cŞÜ
,
İac™y
);

45441 
boŞ
 
	gnš™_h©ch
 = 
š™_h©ch
;

45443 
	gax
 = 
u0
 + 
u1
 + 2*(
x0
 - 
x1
),

45444 
	gbx
 = 3*(
x1
 - 
x0
è- 2*
u0
 - 
u1
,

45445 
	gay
 = 
v0
 + 
v1
 + 2*(
y0
 - 
y1
),

45446 
	gby
 = 3*(
y1
 - 
y0
è- 2*
v0
 - 
v1
,

45447 
	g_´ecisiÚ
 = 1/(
cimg
::
hypÙ
(()
x0
 - 
x1
,()
y0
 - 
y1
)*(
	g´ecisiÚ
>0?precision:1));

45448 
	gox
 = 
x0
, 
	goy
 = 
y0
;

45449 
	gt
 = 0;<1;+=
_´ecisiÚ
) {

45450 cÚ¡ 
t2
 = 
t
*t, 
	gt3
 =2*t;

45452 
	gnx
 = ()(
ax
*
t3
 + 
bx
*
t2
 + 
u0
*
t
 + 
x0
),

45453 
	gny
 = ()(
ay
*
t3
 + 
by
*
t2
 + 
v0
*
t
 + 
y0
);

45454 
d¿w_lše
(
ox
,
oy
,
nx
,
ny
,
cŞÜ
,
İac™y
,
·‰”n
,
nš™_h©ch
);

45455 
	gnš™_h©ch
 = 
çl£
;

45456 
	gox
 = 
nx
; 
	goy
 = 
ny
;

45458  
d¿w_lše
(
ox
,
oy
,
x1
,
y1
,
cŞÜ
,
İac™y
,
·‰”n
,
çl£
);

45481 
	g‹m¶©e
<
ty³Çme
 
	gt
>

45482 
	gCImg
<
	gT
>& 
d¿w_¥lše
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
u0
, cÚ¡ 
v0
,

45483 cÚ¡ 
x1
, cÚ¡ 
y1
, cÚ¡ 
u1
, cÚ¡ 
v1
,

45484 cÚ¡ 
CImg
<
t
>& 
‹xtu»
,

45485 cÚ¡ 
tx0
, cÚ¡ 
ty0
, cÚ¡ 
tx1
, cÚ¡ 
ty1
,

45486 cÚ¡ 
İac™y
=1,

45487 cÚ¡ 
´ecisiÚ
=4, cÚ¡ 
·‰”n
=~0U,

45488 cÚ¡ 
boŞ
 
š™_h©ch
=
Œue
) {

45489 ià(
‹xtu»
.
_d•th
>1 ||extu».
_¥eùrum
<_spectrum)

45490 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


45492 
cimg_š¡ªû
,

45493 
‹xtu»
.
_width
,‹xtu».
_height
,‹xtu».
_d•th
,‹xtu».
_¥eùrum
,‹xtu».
_d©a
);

45494 ià(
is_em±y
()è *
	gthis
;

45495 ià(
is_ov”Ïµed
(
‹xtu»
))

45496  
d¿w_¥lše
(
x0
,
y0
,
u0
,
v0
,
x1
,
y1
,
u1
,
v1
,+
‹xtu»
,
tx0
,
ty0
,
tx1
,
ty1
,
´ecisiÚ
,
İac™y
,
·‰”n
,
š™_h©ch
);

45497 ià(
	gx0
==
x1
 && 
y0
==
y1
)

45498  
d¿w_pošt
(
x0
,
y0
,
‹xtu»
.
g‘_veùÜ_©
(x0<=0?0:x0>ñextu».
width
()?texture.width() - 1:x0,

45499 
y0
<=0?0:y0>=
‹xtu»
.
height
()?‹xtu».height(è- 1:y0).
d©a
(),

45500 
İac™y
);

45501 
boŞ
 
	gnš™_h©ch
 = 
š™_h©ch
;

45503 
	gax
 = 
u0
 + 
u1
 + 2*(
x0
 - 
x1
),

45504 
	gbx
 = 3*(
x1
 - 
x0
è- 2*
u0
 - 
u1
,

45505 
	gay
 = 
v0
 + 
v1
 + 2*(
y0
 - 
y1
),

45506 
	gby
 = 3*(
y1
 - 
y0
è- 2*
v0
 - 
v1
,

45507 
	g_´ecisiÚ
 = 1/(
cimg
::
hypÙ
(()
x0
 - 
x1
,()
y0
 - 
y1
)*(
	g´ecisiÚ
>0?precision:1));

45508 
	gox
 = 
x0
, 
	goy
 = 
y0
, 
	gÙx
 = 
tx0
, 
	gÙy
 = 
ty0
;

45509 
	gt1
 = 0;1<1;1+=
_´ecisiÚ
) {

45510 cÚ¡ 
t2
 = 
t1
*t1, 
	gt3
 =2*t1;

45512 
	gnx
 = ()(
ax
*
t3
 + 
bx
*
t2
 + 
u0
*
t1
 + 
x0
),

45513 
	gny
 = ()(
ay
*
t3
 + 
by
*
t2
 + 
v0
*
t1
 + 
y0
),

45514 
	gÁx
 = 
tx0
 + ()((
tx1
 -x0)*
t1
),

45515 
	gÁy
 = 
ty0
 + ()((
ty1
 -y0)*
t1
);

45516 
d¿w_lše
(
ox
,
oy
,
nx
,
ny
,
‹xtu»
,
Ùx
,
Ùy
,
Áx
,
Áy
,
İac™y
,
·‰”n
,
nš™_h©ch
);

45517 
	gnš™_h©ch
 = 
çl£
;

45518 
	gox
 = 
nx
; 
	goy
 = 
ny
; 
	gÙx
 = 
Áx
; 
	gÙy
 = 
Áy
;

45520  
d¿w_lše
(
ox
,
oy
,
x1
,
y1
,
‹xtu»
,
Ùx
,
Ùy
,
tx1
,
ty1
,
İac™y
,
·‰”n
,
çl£
);

45534 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	g‰
,y³Çm
	gtc
>

45535 
	gCImg
<
	gT
>& 
d¿w_¥lše
(cÚ¡ 
CImg
<

>& 
pošts
, cÚ¡ CImg<
‰
>& 
ng’ts
,

45536 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1,

45537 cÚ¡ 
boŞ
 
is_şo£d_£t
=
çl£
, cÚ¡ 
´ecisiÚ
=4,

45538 cÚ¡ 
·‰”n
=~0U, cÚ¡ 
boŞ
 
š™_h©ch
=
Œue
) {

45539 ià(
is_em±y
(è|| !
pošts
 || !
ng’ts
 ||…ošts.
_width
<2 ||ªg’ts._width<2è *
this
;

45540 
boŞ
 
	gnš™_h©ch
 = 
š™_h©ch
;

45541 
	gpošts
.
	g_height
) {

45543 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


45545 
cimg_š¡ªû
,

45546 
pošts
.
_width
,pošts.
_height
,pošts.
_d•th
,pošts.
_¥eùrum
,pošts.
_d©a
);

45549 cÚ¡ 
x0
 = ()
pošts
(0,0), 
	gy0
 = ()points(0,1);

45550 cÚ¡ 
	gu0
 = ()
ng’ts
(0,0), 
	gv0
 = ()tangents(0,1);

45551 
	gox
 = 
x0
, 
	goy
 = 
y0
;

45552 
	gou
 = 
u0
, 
	gov
 = 
v0
;

45553 
	gi
 = 1; i<
	gpošts
.
	g_width
; ++i) {

45554 cÚ¡ 
	gx
 = ()
pošts
(
i
,0), 
	gy
 = ()points(i,1);

45555 cÚ¡ 
	gu
 = ()
ng’ts
(
i
,0), 
	gv
 = ()tangents(i,1);

45556 
d¿w_¥lše
(
ox
,
oy
,
ou
,
ov
,
x
,
y
,
u
,
v
,
cŞÜ
,
´ecisiÚ
,
İac™y
,
·‰”n
,
nš™_h©ch
);

45557 
	gnš™_h©ch
 = 
çl£
;

45558 
	gox
 = 
x
; 
	goy
 = 
y
; 
	gou
 = 
u
; 
	gov
 = 
v
;

45560 ià(
	gis_şo£d_£t
è
d¿w_¥lše
(
ox
,
oy
,
ou
,
ov
,
x0
,
y0
,
u0
,
v0
,
cŞÜ
,
´ecisiÚ
,
İac™y
,
·‰”n
,
çl£
);

45563  *
	gthis
;

45570 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtc
>

45571 
	gCImg
<
	gT
>& 
d¿w_¥lše
(cÚ¡ 
CImg
<

>& 
pošts
,

45572 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1,

45573 cÚ¡ 
boŞ
 
is_şo£d_£t
=
çl£
, cÚ¡ 
´ecisiÚ
=4,

45574 cÚ¡ 
·‰”n
=~0U, cÚ¡ 
boŞ
 
š™_h©ch
=
Œue
) {

45575 ià(
is_em±y
(è|| !
pošts
 ||…ošts.
_width
<2è *
this
;

45576 
	gCImg
<
	gTæßt
> 
	gng’ts
;

45577 
	gpošts
.
	g_height
) {

45579 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


45581 
cimg_š¡ªû
,

45582 
pošts
.
_width
,pošts.
_height
,pošts.
_d•th
,pošts.
_¥eùrum
,pošts.
_d©a
);

45584 
ng’ts
.
assign
(
pošts
.
_width
,pošts.
_height
);

45585 
cimg_fÜX
(
pošts
,
p
) {

45587 
	gp0
 = 
is_şo£d_£t
?(
p
 + 
pošts
.
width
() - 1)%points.width():(p?p - 1:0),

45588 
	gp1
 = 
is_şo£d_£t
?(
p
 + 1)%
pošts
.
width
():(p + 1<points.width()?p + 1:p);

45590 
	gx
 = ()
pošts
(
p
,0),

45591 
	gy
 = ()
pošts
(
p
,1),

45592 
	gx0
 = ()
pošts
(
p0
,0),

45593 
	gy0
 = ()
pošts
(
p0
,1),

45594 
	gx1
 = ()
pošts
(
p1
,0),

45595 
	gy1
 = ()
pošts
(
p1
,1),

45596 
	gu0
 = 
x
 - 
x0
,

45597 
	gv0
 = 
y
 - 
y0
,

45598 
	gn0
 = 1e-8à+ 
cimg
::
hypÙ
(
u0
,
v0
),

45599 
	gu1
 = 
x1
 - 
x
,

45600 
	gv1
 = 
y1
 - 
y
,

45601 
	gn1
 = 1e-8à+ 
cimg
::
hypÙ
(
u1
,
v1
),

45602 
	gu
 = 
u0
/
n0
 + 
u1
/
n1
,

45603 
	gv
 = 
v0
/
n0
 + 
v1
/
n1
,

45604 
	gn
 = 1e-8à+ 
cimg
::
hypÙ
(
u
,
v
),

45605 
	gçù
 = 0.5f*(
n0
 + 
n1
);

45606 
ng’ts
(
p
,0èğ(
Tæßt
)(
çù
*
u
/
n
);

45607 
ng’ts
(
p
,1èğ(
Tæßt
)(
çù
*
v
/
n
);

45611 
ng’ts
.
assign
(
pošts
.
_width
,pošts.
_height
);

45612 
cimg_fÜX
(
pošts
,
p
) {

45614 
	gp0
 = 
is_şo£d_£t
?(
p
 + 
pošts
.
width
() - 1)%points.width():(p?p - 1:0),

45615 
	gp1
 = 
is_şo£d_£t
?(
p
 + 1)%
pošts
.
width
():(p + 1<points.width()?p + 1:p);

45617 
	gx
 = ()
pošts
(
p
,0),

45618 
	gy
 = ()
pošts
(
p
,1),

45619 
	gz
 = ()
pošts
(
p
,2),

45620 
	gx0
 = ()
pošts
(
p0
,0),

45621 
	gy0
 = ()
pošts
(
p0
,1),

45622 
	gz0
 = ()
pošts
(
p0
,2),

45623 
	gx1
 = ()
pošts
(
p1
,0),

45624 
	gy1
 = ()
pošts
(
p1
,1),

45625 
	gz1
 = ()
pošts
(
p1
,2),

45626 
	gu0
 = 
x
 - 
x0
,

45627 
	gv0
 = 
y
 - 
y0
,

45628 
	gw0
 = 
z
 - 
z0
,

45629 
	gn0
 = 1e-8à+ 
cimg
::
hypÙ
(
u0
,
v0
,
w0
),

45630 
	gu1
 = 
x1
 - 
x
,

45631 
	gv1
 = 
y1
 - 
y
,

45632 
	gw1
 = 
z1
 - 
z
,

45633 
	gn1
 = 1e-8à+ 
cimg
::
hypÙ
(
u1
,
v1
,
w1
),

45634 
	gu
 = 
u0
/
n0
 + 
u1
/
n1
,

45635 
	gv
 = 
v0
/
n0
 + 
v1
/
n1
,

45636 
	gw
 = 
w0
/
n0
 + 
w1
/
n1
,

45637 
	gn
 = 1e-8à+ 
cimg
::
hypÙ
(
u
,
v
,
w
),

45638 
	gçù
 = 0.5f*(
n0
 + 
n1
);

45639 
ng’ts
(
p
,0èğ(
Tæßt
)(
çù
*
u
/
n
);

45640 
ng’ts
(
p
,1èğ(
Tæßt
)(
çù
*
v
/
n
);

45641 
ng’ts
(
p
,2èğ(
Tæßt
)(
çù
*
w
/
n
);

45645  
d¿w_¥lše
(
pošts
,
ng’ts
,
cŞÜ
,
İac™y
,
is_şo£d_£t
,
´ecisiÚ
,
·‰”n
,
š™_h©ch
);

45649 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

45650 
	gCImg
<
	gT
>& 
_d¿w_ŒŸngË
(
x0
, 
y0
,

45651 
x1
, 
y1
,

45652 
x2
, 
y2
,

45653 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
,

45654 cÚ¡ 
brighŠess
) {

45655 ià(
	gy0
>
	gy1
è
	gcimg
::
sw­
(
x0
,
x1
,
y0
,
y1
);

45656 ià(
	gy0
>
	gy2
è
	gcimg
::
sw­
(
x0
,
x2
,
y0
,
y2
);

45657 ià(
	gy1
>
	gy2
è
	gcimg
::
sw­
(
x1
,
x2
,
y1
,
y2
);

45658 ià(
	gy2
<0 || 
	gy0
>=
height
(è|| 
cimg
::
mš
(
x0
,
x1
,
x2
)>=
width
(è|| cimg::
max
(x0,x1,x2)<0 || !
	gİac™y
è *
	gthis
;

45661 
	gh1
 = 
height
() - 1,

45662 
	gdx01
 = 
x1
 - 
x0
, 
	gdx02
 = 
x2
 - x0, 
	gdx12
 = x2 - x1,

45663 
	gdy01
 = 
¡d
::
max
(1,
y1
 - 
y0
), 
	gdy02
 = std::max(1,
y2
 - y0), 
	gdy12
 = std::max(1,y2 - y1),

45664 
	gcy0
 = 
cimg
::
cut
(
y0
,0,
h1
), 
	gcy2
 = cimg::cut(
y2
,0,h1),

45665 
	ghdy01
 = 
dy01
*
cimg
::
sign
(
dx01
)/2, 
	ghdy02
 = 
dy02
*cimg::sign(
dx02
)/2, 
	ghdy12
 = 
dy12
*cimg::sign(
dx12
)/2;

45667 cÚ¡ 
	gcbs
 = 
cimg
::
cut
(
brighŠess
,0,2);

45668 
cimg_š™_sÿÆše
(
İac™y
);

45670 
	gy
 = 
cy0
; y<=
cy2
; ++y) {

45671 cÚ¡ 
	gyy0
 = 
y
 - 
y0
, 
	gyy1
 = y - 
y1
;

45673 
	gxm
 = 
y
<
y1
?
x0
 + (
dx01
*
yy0
 + 
hdy01
)/
dy01
:
x1
 + (
dx12
*
yy1
 + 
hdy12
)/
dy12
,

45674 
	gxM
 = 
x0
 + (
dx02
*
yy0
 + 
hdy02
)/
dy02
;

45675 ià(
	gxm
>
	gxM
è
	gcimg
::
sw­
(
xm
,
xM
);

45676 
cimg_d¿w_sÿÆše
(
xm
,
xM
,
y
,
cŞÜ
,
İac™y
,
cbs
);

45678  *
	gthis
;

45692 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

45693 
	gCImg
<
	gT
>& 
d¿w_ŒŸngË
(cÚ¡ 
x0
, cÚ¡ 
y0
,

45694 cÚ¡ 
x1
, cÚ¡ 
y1
,

45695 cÚ¡ 
x2
, cÚ¡ 
y2
,

45696 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1) {

45697 ià(
is_em±y
()è *
this
;

45698 ià(!
	gcŞÜ
)

45699 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


45701 
cimg_š¡ªû
);

45702 
_d¿w_ŒŸngË
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,
cŞÜ
,
İac™y
,1);

45703  *
	gthis
;

45718 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

45719 
	gCImg
<
	gT
>& 
d¿w_ŒŸngË
(cÚ¡ 
x0
, cÚ¡ 
y0
,

45720 cÚ¡ 
x1
, cÚ¡ 
y1
,

45721 cÚ¡ 
x2
, cÚ¡ 
y2
,

45722 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
,

45723 cÚ¡ 
·‰”n
) {

45724 ià(
is_em±y
()è *
	gthis
;

45725 ià(!
	gcŞÜ
)

45726 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


45728 
cimg_š¡ªû
);

45729 
d¿w_lše
(
x0
,
y0
,
x1
,
y1
,
cŞÜ
,
İac™y
,
·‰”n
,
Œue
).

45730 
d¿w_lše
(
x1
,
y1
,
x2
,
y2
,
cŞÜ
,
İac™y
,
·‰”n
,
çl£
).

45731 
d¿w_lše
(
x2
,
y2
,
x0
,
y0
,
cŞÜ
,
İac™y
,
·‰”n
,
çl£
);

45732  *
	gthis
;

45751 
	g‹m¶©e
<
ty³Çme
 
	gtz
,y³Çm
	gtc
>

45752 
	gCImg
<
	gT
>& 
d¿w_ŒŸngË
(
CImg
<
tz
>& 
zbufãr
,

45753 
x0
, 
y0
, cÚ¡ 
z0
,

45754 
x1
, 
y1
, cÚ¡ 
z1
,

45755 
x2
, 
y2
, cÚ¡ 
z2
,

45756 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1,

45757 cÚ¡ 
brighŠess
=1) {

45758 ià(
is_em±y
(è|| 
z0
<=0 || 
z1
<=0 || 
z2
<=0è *
this
;

45759 ià(!
	gcŞÜ
)

45760 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


45762 
cimg_š¡ªû
);

45763 ià(!
is_§meXY
(
zbufãr
))

45764 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


45767 
cimg_š¡ªû
,

45768 
zbufãr
.
_width
,zbufãr.
_height
,zbufãr.
_d•th
,zbufãr.
_¥eùrum
,zbufãr.
_d©a
);

45770 
	giz0
 = 1/
z0
, 
	giz1
 = 1/
z1
, 
	giz2
 = 1/
z2
;

45771 ià(
	gy0
>
	gy1
è
	gcimg
::
sw­
(
x0
,
x1
,
y0
,
y1
,
iz0
,
iz1
);

45772 ià(
	gy0
>
	gy2
è
	gcimg
::
sw­
(
x0
,
x2
,
y0
,
y2
,
iz0
,
iz2
);

45773 ià(
	gy1
>
	gy2
è
	gcimg
::
sw­
(
x1
,
x2
,
y1
,
y2
,
iz1
,
iz2
);

45774 ià(
	gy2
<0 || 
	gy0
>=
height
(è|| 
cimg
::
mš
(
x0
,
x1
,
x2
)>=
width
(è|| cimg::
max
(x0,x1,x2)<0 || !
	gİac™y
è *
	gthis
;

45777 
	gw1
 = 
width
(è- 1, 
	gh1
 = 
height
() - 1,

45778 
	gdx01
 = 
x1
 - 
x0
, 
	gdx02
 = 
x2
 - x0, 
	gdx12
 = x2 - x1,

45779 
	gdy01
 = 
¡d
::
max
(1,
y1
 - 
y0
), 
	gdy02
 = std::max(1,
y2
 - y0), 
	gdy12
 = std::max(1,y2 - y1),

45780 
	gcy0
 = 
cimg
::
cut
(
y0
,0,
h1
), 
	gcy2
 = cimg::cut(
y2
,0,h1),

45781 
	ghdy01
 = 
dy01
*
cimg
::
sign
(
dx01
)/2, 
	ghdy02
 = 
dy02
*cimg::sign(
dx02
)/2, 
	ghdy12
 = 
dy12
*cimg::sign(
dx12
)/2;

45782 cÚ¡ 
	gdiz01
 = 
iz1
 - 
iz0
, 
	gdiz02
 = 
iz2
 - iz0, 
	gdiz12
 = iz2 - iz1;

45784 cÚ¡ 
	gcbs
 = 
cimg
::
cut
(
brighŠess
,0,2);

45785 
cimg_š™_sÿÆše
(
İac™y
);

45787 
	gy
 = 
cy0
; y<=
cy2
; ++y) {

45788 cÚ¡ 
	gyy0
 = 
y
 - 
y0
, 
	gyy1
 = y - 
y1
;

45790 
	gxm
 = 
y
<
y1
?
x0
 + (
dx01
*
yy0
 + 
hdy01
)/
dy01
:
x1
 + (
dx12
*
yy1
 + 
hdy12
)/
dy12
,

45791 
	gxM
 = 
x0
 + (
dx02
*
yy0
 + 
hdy02
)/
dy02
;

45793 
	gizm
 = 
y
<
y1
?(
iz0
 + 
diz01
*
yy0
/
dy01
):(
iz1
 + 
diz12
*
yy1
/
dy12
),

45794 
	gizM
 = 
iz0
 + 
diz02
*
yy0
/
dy02
;

45795 ià(
	gxm
>
	gxM
è
	gcimg
::
sw­
(
xm
,
xM
,
izm
,
izM
);

45796 ià(
	gxM
>=0 || 
xm
<=
w1
) {

45798 
cxm
 = 
cimg
::
cut
(
xm
,0,
w1
),

45799 
	gcxM
 = 
cimg
::
cut
(
xM
,0,
w1
);

45800 
T
 *
	g±rd
 = 
d©a
(
cxm
,
y
);

45801 
tz
 *
	g±rz
 = 
zbufãr
.
d©a
(
cxm
,
y
);

45802 cÚ¡ 
	gdxmM
 = 
¡d
::
max
(1,
xM
 - 
xm
);

45803 cÚ¡ 
	gdizmM
 = 
izM
 - 
izm
;

45805 
	gx
 = 
cxm
; x<
	gcxM
; ++x) {

45806 cÚ¡ 
	gxxm
 = 
x
 - 
xm
;

45807 cÚ¡ 
	giz
 = 
izm
 + 
dizmM
*
xxm
/
dxmM
;

45808 ià(
	giz
>=*
±rz
) {

45809 *
±rz
 = (
tz
)
iz
;

45810 
cimg_fÜC
(*
this
,
c
) {

45811 cÚ¡ 
Tæßt
 
	gv®
 = 
cbs
<=1?
cŞÜ
[
c
]*cbs:(2 - cbs)*cŞÜ[c] + (cb - 1)*
_sc_maxv®
;

45812 
	g±rd
[
c
*
_sc_whd
] = (
T
)(
İac™y
>=1?
v®
:v®*
_sc_nİac™y
 + 
±rd
[c*_sc_whd]*
_sc_cİac™y
);

45815 ++
	g±rd
; ++
	g±rz
;

45819  *
	gthis
;

45836 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

45837 
	gCImg
<
	gT
>& 
d¿w_ŒŸngË
(
x0
, 
y0
,

45838 
x1
, 
y1
,

45839 
x2
, 
y2
,

45840 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
,

45841 
bs0
,

45842 
bs1
,

45843 
bs2
,

45844 cÚ¡ 
İac™y
=1) {

45845 ià(
is_em±y
()è *
this
;

45846 ià(!
	gcŞÜ
)

45847 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


45849 
cimg_š¡ªû
);

45851 ià(
	gy0
>
	gy1
è
	gcimg
::
sw­
(
x0
,
x1
,
y0
,
y1
,
bs0
,
bs1
);

45852 ià(
	gy0
>
	gy2
è
	gcimg
::
sw­
(
x0
,
x2
,
y0
,
y2
,
bs0
,
bs2
);

45853 ià(
	gy1
>
	gy2
è
	gcimg
::
sw­
(
x1
,
x2
,
y1
,
y2
,
bs1
,
bs2
);

45854 ià(
	gy2
<0 || 
	gy0
>=
height
(è|| 
cimg
::
mš
(
x0
,
x1
,
x2
)>=
width
(è|| cimg::
max
(x0,x1,x2)<0 || !
	gİac™y
è *
	gthis
;

45857 
	gw1
 = 
width
(è- 1, 
	gh1
 = 
height
() - 1,

45858 
	gdx01
 = 
x1
 - 
x0
, 
	gdx02
 = 
x2
 - x0, 
	gdx12
 = x2 - x1,

45859 
	gdy01
 = 
¡d
::
max
(1,
y1
 - 
y0
), 
	gdy02
 = std::max(1,
y2
 - y0), 
	gdy12
 = std::max(1,y2 - y1),

45860 
	gcy0
 = 
cimg
::
cut
(
y0
,0,
h1
), 
	gcy2
 = cimg::cut(
y2
,0,h1),

45861 
	ghdy01
 = 
dy01
*
cimg
::
sign
(
dx01
)/2, 
	ghdy02
 = 
dy02
*cimg::sign(
dx02
)/2, 
	ghdy12
 = 
dy12
*cimg::sign(
dx12
)/2;

45862 cÚ¡ 
	gdbs01
 = 
bs1
 - 
bs0
, 
	gdbs02
 = 
bs2
 - bs0, 
	gdbs12
 = bs2 - bs1;

45864 
cimg_š™_sÿÆše
(
İac™y
);

45866 
	gy
 = 
cy0
; y<=
cy2
; ++y) {

45867 cÚ¡ 
	gyy0
 = 
y
 - 
y0
, 
	gyy1
 = y - 
y1
;

45869 
	gxm
 = 
y
<
y1
?
x0
 + (
dx01
*
yy0
 + 
hdy01
)/
dy01
:
x1
 + (
dx12
*
yy1
 + 
hdy12
)/
dy12
,

45870 
	gxM
 = 
x0
 + (
dx02
*
yy0
 + 
hdy02
)/
dy02
;

45872 
	gbsm
 = 
y
<
y1
?(
bs0
 + 
dbs01
*
yy0
/
dy01
):(
bs1
 + 
dbs12
*
yy1
/
dy12
),

45873 
	gbsM
 = 
bs0
 + 
dbs02
*
yy0
/
dy02
;

45874 ià(
	gxm
>
	gxM
è
	gcimg
::
sw­
(
xm
,
xM
,
bsm
,
bsM
);

45875 ià(
	gxM
>=0 || 
xm
<=
w1
) {

45877 
cxm
 = 
cimg
::
cut
(
xm
,0,
w1
),

45878 
	gcxM
 = 
cimg
::
cut
(
xM
,0,
w1
);

45879 
T
 *
	g±rd
 = 
d©a
(
cxm
,
y
);

45880 cÚ¡ 
	gdxmM
 = 
¡d
::
max
(1,
xM
 - 
xm
);

45881 cÚ¡ 
	gdbsmM
 = 
bsM
 - 
bsm
;

45883 
	gx
 = 
cxm
; x<=
cxM
; ++x) {

45884 cÚ¡ 
	gxxm
 = 
x
 - 
xm
;

45885 cÚ¡ 
	gcbs
 = 
cimg
::
cut
(
bsm
 + 
dbsmM
*
xxm
/
dxmM
,0,2);

45886 
cimg_fÜC
(*
this
,
c
) {

45887 cÚ¡ 
Tæßt
 
	gv®
 = 
cbs
<=1?
cŞÜ
[
c
]*cbs:(2 - cbs)*cŞÜ[c] + (cb - 1)*
_sc_maxv®
;

45888 
	g±rd
[
c
*
_sc_whd
] = (
T
)(
İac™y
>=1?
v®
:v®*
_sc_nİac™y
 + 
±rd
[c*_sc_whd]*
_sc_cİac™y
);

45890 ++
	g±rd
;

45894  *
	gthis
;

45898 
	g‹m¶©e
<
ty³Çme
 
	gtz
,y³Çm
	gtc
>

45899 
	gCImg
<
	gT
>& 
d¿w_ŒŸngË
(
CImg
<
tz
>& 
zbufãr
,

45900 
x0
, 
y0
, cÚ¡ 
z0
,

45901 
x1
, 
y1
, cÚ¡ 
z1
,

45902 
x2
, 
y2
, cÚ¡ 
z2
,

45903 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
,

45904 
bs0
,

45905 
bs1
,

45906 
bs2
,

45907 
İac™y
=1) {

45908 ià(
is_em±y
(è|| 
z0
<=0 || 
z1
<=0 || 
z2
<=0è *
this
;

45909 ià(!
	gcŞÜ
)

45910 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


45912 
cimg_š¡ªû
);

45913 ià(!
is_§meXY
(
zbufãr
))

45914 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


45917 
cimg_š¡ªû
,

45918 
zbufãr
.
_width
,zbufãr.
_height
,zbufãr.
_d•th
,zbufãr.
_¥eùrum
,zbufãr.
_d©a
);

45920 
	giz0
 = 1/
z0
, 
	giz1
 = 1/
z1
, 
	giz2
 = 1/
z2
;

45921 ià(
	gy0
>
	gy1
è
	gcimg
::
sw­
(
x0
,
x1
,
y0
,
y1
,
iz0
,
iz1
,
bs0
,
bs1
);

45922 ià(
	gy0
>
	gy2
è
	gcimg
::
sw­
(
x0
,
x2
,
y0
,
y2
,
iz0
,
iz2
,
bs0
,
bs2
);

45923 ià(
	gy1
>
	gy2
è
	gcimg
::
sw­
(
x1
,
x2
,
y1
,
y2
,
iz1
,
iz2
,
bs1
,
bs2
);

45924 ià(
	gy2
<0 || 
	gy0
>=
height
(è|| 
cimg
::
mš
(
x0
,
x1
,
x2
)>=
width
(è|| cimg::
max
(x0,x1,x2)<0 || !
	gİac™y
è *
	gthis
;

45927 
	gw1
 = 
width
(è- 1, 
	gh1
 = 
height
() - 1,

45928 
	gdx01
 = 
x1
 - 
x0
, 
	gdx02
 = 
x2
 - x0, 
	gdx12
 = x2 - x1,

45929 
	gdy01
 = 
¡d
::
max
(1,
y1
 - 
y0
), 
	gdy02
 = std::max(1,
y2
 - y0), 
	gdy12
 = std::max(1,y2 - y1),

45930 
	gcy0
 = 
cimg
::
cut
(
y0
,0,
h1
), 
	gcy2
 = cimg::cut(
y2
,0,h1),

45931 
	ghdy01
 = 
dy01
*
cimg
::
sign
(
dx01
)/2, 
	ghdy02
 = 
dy02
*cimg::sign(
dx02
)/2, 
	ghdy12
 = 
dy12
*cimg::sign(
dx12
)/2;

45933 
	gdiz01
 = 
iz1
 - 
iz0
, 
	gdiz02
 = 
iz2
 - iz0, 
	gdiz12
 = iz2 - iz1,

45934 
	gdbs01
 = 
bs1
 - 
bs0
, 
	gdbs02
 = 
bs2
 - bs0, 
	gdbs12
 = bs2 - bs1;

45936 
cimg_š™_sÿÆše
(
İac™y
);

45938 
	gy
 = 
cy0
; y<=
cy2
; ++y) {

45939 cÚ¡ 
	gyy0
 = 
y
 - 
y0
, 
	gyy1
 = y - 
y1
;

45941 
	gxm
 = 
y
<
y1
?
x0
 + (
dx01
*
yy0
 + 
hdy01
)/
dy01
:
x1
 + (
dx12
*
yy1
 + 
hdy12
)/
dy12
,

45942 
	gxM
 = 
x0
 + (
dx02
*
yy0
 + 
hdy02
)/
dy02
;

45944 
	gizm
 = 
y
<
y1
?(
iz0
 + 
diz01
*
yy0
/
dy01
):(
iz1
 + 
diz12
*
yy1
/
dy12
),

45945 
	gizM
 = 
iz0
 + 
diz02
*
yy0
/
dy02
,

45946 
	gbsm
 = 
y
<
y1
?(
bs0
 + 
dbs01
*
yy0
/
dy01
):(
bs1
 + 
dbs12
*
yy1
/
dy12
),

45947 
	gbsM
 = 
bs0
 + 
dbs02
*
yy0
/
dy02
;

45948 ià(
	gxm
>
	gxM
è
	gcimg
::
sw­
(
xm
,
xM
,
izm
,
izM
,
bsm
,
bsM
);

45949 ià(
	gxM
>=0 || 
xm
<=
w1
) {

45951 
cxm
 = 
cimg
::
cut
(
xm
,0,
w1
),

45952 
	gcxM
 = 
cimg
::
cut
(
xM
,0,
w1
);

45953 
T
 *
	g±rd
 = 
d©a
(
cxm
,
y
);

45954 
tz
 *
	g±rz
 = 
zbufãr
.
d©a
(
cxm
,
y
);

45955 cÚ¡ 
	gdxmM
 = 
¡d
::
max
(1,
xM
 - 
xm
);

45956 cÚ¡ 
	gdizmM
 = 
izM
 - 
izm
, 
	gdbsmM
 = 
bsM
 - 
bsm
;

45958 
	gx
 = 
cxm
; x<=
cxM
; ++x) {

45959 cÚ¡ 
	gxxm
 = 
x
 - 
xm
;

45960 cÚ¡ 
	giz
 = 
izm
 + 
dizmM
*
xxm
/
dxmM
;

45961 ià(
	giz
>=*
±rz
) {

45962 *
±rz
 = (
tz
)
iz
;

45963 cÚ¡ 
	gcbs
 = 
cimg
::
cut
(
bsm
 + 
dbsmM
*
xxm
/
dxmM
,0,2);

45964 
cimg_fÜC
(*
this
,
c
) {

45965 cÚ¡ 
Tæßt
 
	gv®
 = 
cbs
<=1?
cŞÜ
[
c
]*cbs:(2 - cbs)*cŞÜ[c] + (cb - 1)*
_sc_maxv®
;

45966 
	g±rd
[
c
*
_sc_whd
] = (
T
)(
İac™y
>=1?
v®
:v®*
_sc_nİac™y
 + 
±rd
[c*_sc_whd]*
_sc_cİac™y
);

45969 ++
	g±rd
; ++
	g±rz
;

45973  *
	gthis
;

45989 
	g‹m¶©e
<
ty³Çme
 
	gtc1
,y³Çm
	gtc2
,y³Çm
	gtc3
>

45990 
	gCImg
<
	gT
>& 
d¿w_ŒŸngË
(cÚ¡ 
x0
, cÚ¡ 
y0
,

45991 cÚ¡ 
x1
, cÚ¡ 
y1
,

45992 cÚ¡ 
x2
, cÚ¡ 
y2
,

45993 cÚ¡ 
tc1
 *cÚ¡ 
cŞÜ1
,

45994 cÚ¡ 
tc2
 *cÚ¡ 
cŞÜ2
,

45995 cÚ¡ 
tc3
 *cÚ¡ 
cŞÜ3
,

45996 cÚ¡ 
İac™y
=1) {

45997 cÚ¡ 
Úe
 = 1;

45998 
cimg_fÜC
(*
this
,
c
)

45999 
g‘_sh¬ed_chªÃl
(
c
).
d¿w_ŒŸngË
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,&
Úe
,
cŞÜ1
[c],
cŞÜ2
[c],
cŞÜ3
[c],
İac™y
);

46000  *
	gthis
;

46021 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

46022 
	gCImg
<
	gT
>& 
d¿w_ŒŸngË
(
x0
, 
y0
,

46023 
x1
, 
y1
,

46024 
x2
, 
y2
,

46025 cÚ¡ 
CImg
<
tc
>& 
‹xtu»
,

46026 
tx0
, 
ty0
,

46027 
tx1
, 
ty1
,

46028 
tx2
, 
ty2
,

46029 cÚ¡ 
İac™y
=1,

46030 cÚ¡ 
brighŠess
=1) {

46031 ià(
is_em±y
()è *
this
;

46032 ià(
	g‹xtu»
.
	g_d•th
>1 ||extu».
	g_¥eùrum
<_spectrum)

46033 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


46035 
cimg_š¡ªû
,

46036 
‹xtu»
.
_width
,‹xtu».
_height
,‹xtu».
_d•th
,‹xtu».
_¥eùrum
,‹xtu».
_d©a
);

46037 ià(
is_ov”Ïµed
(
‹xtu»
))

46038  
d¿w_ŒŸngË
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,+
‹xtu»
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
İac™y
,
brighŠess
);

46040 ià(
	gy0
>
	gy1
è
	gcimg
::
sw­
(
x0
,
x1
,
y0
,
y1
,
tx0
,
tx1
,
ty0
,
ty1
);

46041 ià(
	gy0
>
	gy2
è
	gcimg
::
sw­
(
x0
,
x2
,
y0
,
y2
,
tx0
,
tx2
,
ty0
,
ty2
);

46042 ià(
	gy1
>
	gy2
è
	gcimg
::
sw­
(
x1
,
x2
,
y1
,
y2
,
tx1
,
ty1
,
tx2
,
ty2
);

46043 ià(
	gy2
<0 || 
	gy0
>=
height
(è|| 
cimg
::
mš
(
x0
,
x1
,
x2
)>=
width
(è|| cimg::
max
(x0,x1,x2)<0 || !
	gİac™y
è *
	gthis
;

46046 
	gw1
 = 
width
(è- 1, 
	gh1
 = 
height
() - 1,

46047 
	gdx01
 = 
x1
 - 
x0
, 
	gdx02
 = 
x2
 - x0, 
	gdx12
 = x2 - x1,

46048 
	gdy01
 = 
¡d
::
max
(1,
y1
 - 
y0
), 
	gdy02
 = std::max(1,
y2
 - y0), 
	gdy12
 = std::max(1,y2 - y1),

46049 
	gcy0
 = 
cimg
::
cut
(
y0
,0,
h1
), 
	gcy2
 = cimg::cut(
y2
,0,h1),

46050 
	ghdy01
 = 
dy01
*
cimg
::
sign
(
dx01
)/2, 
	ghdy02
 = 
dy02
*cimg::sign(
dx02
)/2, 
	ghdy12
 = 
dy12
*cimg::sign(
dx12
)/2,

46051 
	gdtx01
 = 
tx1
 - 
tx0
, 
	gdtx02
 = 
tx2
 -x0, 
	gdtx12
 =x2 -x1,

46052 
	gdty01
 = 
ty1
 - 
ty0
, 
	gdty02
 = 
ty2
 -y0, 
	gdty12
 =y2 -y1,

46053 
	ghdy01tx
 = 
dy01
*
cimg
::
sign
(
dtx01
)/2, 
	ghdy02tx
 = 
dy02
*cimg::sign(
dtx02
)/2, 
	ghdy12tx
 = 
dy12
*cimg::sign(
dtx12
)/2,

46054 
	ghdy01ty
 = 
dy01
*
cimg
::
sign
(
dty01
)/2, 
	ghdy02ty
 = 
dy02
*cimg::sign(
dty02
)/2, 
	ghdy12ty
 = 
dy12
*cimg::sign(
dty12
)/2;

46055 cÚ¡ 
ulÚgT
 
	gtwhd
 = (ulÚgT)
‹xtu»
.
_width
*‹xtu».
_height
*‹xtu».
_d•th
;

46056 cÚ¡ 
	gcbs
 = 
cimg
::
cut
(
brighŠess
,0,2);

46057 
cimg_š™_sÿÆše
(
İac™y
);

46059 
	gy
 = 
cy0
; y<=
cy2
; ++y) {

46060 cÚ¡ 
	gyy0
 = 
y
 - 
y0
, 
	gyy1
 = y - 
y1
;

46062 
	gxm
 = 
y
<
y1
?
x0
 + (
dx01
*
yy0
 + 
hdy01
)/
dy01
:
x1
 + (
dx12
*
yy1
 + 
hdy12
)/
dy12
,

46063 
	gxM
 = 
x0
 + (
dx02
*
yy0
 + 
hdy02
)/
dy02
,

46064 
	gtxm
 = 
y
<
y1
?
tx0
 + (
dtx01
*
yy0
 + 
hdy01tx
)/
dy01
:
tx1
 + (
dtx12
*
yy1
 + 
hdy12tx
)/
dy12
,

46065 
	gtxM
 = 
tx0
 + (
dtx02
*
yy0
 + 
hdy02tx
)/
dy02
,

46066 
	gtym
 = 
y
<
y1
?
ty0
 + (
dty01
*
yy0
 + 
hdy01ty
)/
dy01
:
ty1
 + (
dty12
*
yy1
 + 
hdy12ty
)/
dy12
,

46067 
	gtyM
 = 
ty0
 + (
dty02
*
yy0
 + 
hdy02ty
)/
dy02
;

46068 ià(
	gxm
>
	gxM
è
	gcimg
::
sw­
(
xm
,
xM
,
txm
,
txM
,
tym
,
tyM
);

46069 ià(
	gxM
>=0 || 
xm
<=
w1
) {

46071 
cxm
 = 
cimg
::
cut
(
xm
,0,
w1
),

46072 
	gcxM
 = 
cimg
::
cut
(
xM
,0,
w1
);

46073 
T
 *
	g±rd
 = 
d©a
(
cxm
,
y
);

46075 
	gdxmM
 = 
¡d
::
max
(1,
xM
 - 
xm
), 
	ghdxmM
 = 
dxmM
/2,

46076 
	gdtxmM
 = 
txM
 - 
txm
, 
	gdtymM
 = 
tyM
 - 
tym
;

46078 
	gx
 = 
cxm
; x<=
cxM
; ++x) {

46080 
	gxxm
 = 
x
 - 
xm
,

46081 
	gtx
 = (
txm
*
dxmM
 + 
dtxmM
*
xxm
 + 
hdxmM
)/dxmM,

46082 
	gty
 = (
tym
*
dxmM
 + 
dtymM
*
xxm
 + 
hdxmM
)/dxmM;

46083 cÚ¡ 
tc
 *cÚ¡ 
	gcŞÜ
 = &
‹xtu»
.
_©XY
(
tx
,
ty
);

46084 
cimg_fÜC
(*
this
,
c
) {

46085 cÚ¡ 
Tæßt
 
	gv®
 = 
cbs
<=1?
cŞÜ
[
c
*
twhd
]*cbs:(2 - cbs)*cŞÜ[c*twhd] + (cb - 1)*
_sc_maxv®
;

46086 
	g±rd
[
c
*
_sc_whd
] = (
T
)(
İac™y
>=1?
v®
:v®*
_sc_nİac™y
 + 
±rd
[c*_sc_whd]*
_sc_cİac™y
);

46088 ++
	g±rd
;

46092  *
	gthis
;

46096 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

46097 
	gCImg
<
	gT
>& 
d¿w_ŒŸngË
(
x0
, 
y0
, cÚ¡ 
z0
,

46098 
x1
, 
y1
, cÚ¡ 
z1
,

46099 
x2
, 
y2
, cÚ¡ 
z2
,

46100 cÚ¡ 
CImg
<
tc
>& 
‹xtu»
,

46101 
tx0
, 
ty0
,

46102 
tx1
, 
ty1
,

46103 
tx2
, 
ty2
,

46104 cÚ¡ 
İac™y
=1,

46105 cÚ¡ 
brighŠess
=1) {

46106 ià(
is_em±y
(è|| 
z0
<=0 || 
z1
<=0 || 
z2
<=0è *
this
;

46107 ià(
	g‹xtu»
.
	g_d•th
>1 ||extu».
	g_¥eùrum
<_spectrum)

46108 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


46110 
cimg_š¡ªû
,

46111 
‹xtu»
.
_width
,‹xtu».
_height
,‹xtu».
_d•th
,‹xtu».
_¥eùrum
,‹xtu».
_d©a
);

46112 ià(
is_ov”Ïµed
(
‹xtu»
))

46113  
d¿w_ŒŸngË
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,+
‹xtu»
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
İac™y
,
brighŠess
);

46115 
	giz0
 = 1/
z0
, 
	giz1
 = 1/
z1
, 
	giz2
 = 1/
z2
;

46116 ià(
	gy0
>
	gy1
è
	gcimg
::
sw­
(
x0
,
x1
,
y0
,
y1
,
iz0
,
iz1
,
tx0
,
tx1
,
ty0
,
ty1
);

46117 ià(
	gy0
>
	gy2
è
	gcimg
::
sw­
(
x0
,
x2
,
y0
,
y2
,
iz0
,
iz2
,
tx0
,
tx2
,
ty0
,
ty2
);

46118 ià(
	gy1
>
	gy2
è
	gcimg
::
sw­
(
x1
,
x2
,
y1
,
y2
,
iz1
,
iz2
,
tx1
,
tx2
,
ty1
,
ty2
);

46119 ià(
	gy2
<0 || 
	gy0
>=
height
(è|| 
cimg
::
mš
(
x0
,
x1
,
x2
)>=
width
(è|| cimg::
max
(x0,x1,x2)<0 || !
	gİac™y
è *
	gthis
;

46122 
	gw1
 = 
width
(è- 1, 
	gh1
 = 
height
() - 1,

46123 
	gdx01
 = 
x1
 - 
x0
, 
	gdx02
 = 
x2
 - x0, 
	gdx12
 = x2 - x1,

46124 
	gdy01
 = 
¡d
::
max
(1,
y1
 - 
y0
), 
	gdy02
 = std::max(1,
y2
 - y0), 
	gdy12
 = std::max(1,y2 - y1),

46125 
	gcy0
 = 
cimg
::
cut
(
y0
,0,
h1
), 
	gcy2
 = cimg::cut(
y2
,0,h1),

46126 
	ghdy01
 = 
dy01
*
cimg
::
sign
(
dx01
)/2, 
	ghdy02
 = 
dy02
*cimg::sign(
dx02
)/2, 
	ghdy12
 = 
dy12
*cimg::sign(
dx12
)/2;

46128 
	gdiz01
 = 
iz1
 - 
iz0
, 
	gdiz02
 = 
iz2
 - iz0, 
	gdiz12
 = iz2 - iz1,

46129 
	gtxz0
 = 
tx0
*
iz0
, 
	gtxz1
 = 
tx1
*
iz1
, 
	gtxz2
 = 
tx2
*
iz2
,

46130 
	gtyz0
 = 
ty0
*
iz0
, 
	gtyz1
 = 
ty1
*
iz1
, 
	gtyz2
 = 
ty2
*
iz2
,

46131 
	gdtxz01
 = 
txz1
 - 
txz0
, 
	gdtxz02
 = 
txz2
 -xz0, 
	gdtxz12
 =xz2 -xz1,

46132 
	gdtyz01
 = 
tyz1
 - 
tyz0
, 
	gdtyz02
 = 
tyz2
 -yz0, 
	gdtyz12
 =yz2 -yz1;

46134 cÚ¡ 
ulÚgT
 
	gtwhd
 = (ulÚgT)
‹xtu»
.
_width
*‹xtu».
_height
*‹xtu».
_d•th
;

46135 cÚ¡ 
	gcbs
 = 
cimg
::
cut
(
brighŠess
,0,2);

46136 
cimg_š™_sÿÆše
(
İac™y
);

46138 
	gy
 = 
cy0
; y<=
cy2
; ++y) {

46139 cÚ¡ 
	gyy0
 = 
y
 - 
y0
, 
	gyy1
 = y - 
y1
;

46141 
	gxm
 = 
y
<
y1
?
x0
 + (
dx01
*
yy0
 + 
hdy01
)/
dy01
:
x1
 + (
dx12
*
yy1
 + 
hdy12
)/
dy12
,

46142 
	gxM
 = 
x0
 + (
dx02
*
yy0
 + 
hdy02
)/
dy02
;

46144 
	gizm
 = 
y
<
y1
?(
iz0
 + 
diz01
*
yy0
/
dy01
):(
iz1
 + 
diz12
*
yy1
/
dy12
),

46145 
	gizM
 = 
iz0
 + 
diz02
*
yy0
/
dy02
,

46146 
	gtxzm
 = 
y
<
y1
?(
txz0
 + 
dtxz01
*
yy0
/
dy01
):(
txz1
 + 
dtxz12
*
yy1
/
dy12
),

46147 
	gtxzM
 = 
txz0
 + 
dtxz02
*
yy0
/
dy02
,

46148 
	gtyzm
 = 
y
<
y1
?(
tyz0
 + 
dtyz01
*
yy0
/
dy01
):(
tyz1
 + 
dtyz12
*
yy1
/
dy12
),

46149 
	gtyzM
 = 
tyz0
 + 
dtyz02
*
yy0
/
dy02
;

46150 ià(
	gxm
>
	gxM
è
	gcimg
::
sw­
(
xm
,
xM
,
txzm
,
txzM
,
tyzm
,
tyzM
,
izm
,
izM
);

46151 ià(
	gxM
>=0 || 
xm
<=
w1
) {

46153 
cxm
 = 
cimg
::
cut
(
xm
,0,
w1
),

46154 
	gcxM
 = 
cimg
::
cut
(
xM
,0,
w1
);

46155 
T
 *
	g±rd
 = 
d©a
(
cxm
,
y
);

46156 cÚ¡ 
	gdxmM
 = 
¡d
::
max
(1,
xM
 - 
xm
);

46157 cÚ¡ 
	gdizmM
 = 
izM
 - 
izm
, 
	gdtxzmM
 = 
txzM
 - 
txzm
, 
	gdtyzmM
 = 
tyzM
 - 
tyzm
;

46159 
	gx
 = 
cxm
; x<
	gcxM
; ++x) {

46160 cÚ¡ 
	gxxm
 = 
x
 - 
xm
;

46162 
	giz
 = 
izm
 + 
dizmM
*
xxm
/
dxmM
,

46163 
	gtxz
 = 
txzm
 + 
dtxzmM
*
xxm
/
dxmM
,

46164 
	gtyz
 = 
tyzm
 + 
dtyzmM
*
xxm
/
dxmM
;

46166 
	gtx
 = ()
cimg
::
round
(
txz
/
iz
),

46167 
	gty
 = ()
cimg
::
round
(
tyz
/
iz
);

46168 cÚ¡ 
tc
 *cÚ¡ 
	gcŞÜ
 = &
‹xtu»
.
_©XY
(
tx
,
ty
);

46169 
cimg_fÜC
(*
this
,
c
) {

46170 cÚ¡ 
Tæßt
 
	gv®
 = 
cbs
<=1?
cŞÜ
[
c
*
twhd
]*cbs:(2 - cbs)*cŞÜ[c*twhd] + (cb - 1)*
_sc_maxv®
;

46171 
	g±rd
[
c
*
_sc_whd
] = (
T
)(
İac™y
>=1?
v®
:v®*
_sc_nİac™y
 + 
±rd
[c*_sc_whd]*
_sc_cİac™y
);

46173 ++
	g±rd
;

46177  *
	gthis
;

46181 
	g‹m¶©e
<
ty³Çme
 
	gtz
,y³Çm
	gtc
>

46182 
	gCImg
<
	gT
>& 
d¿w_ŒŸngË
(
CImg
<
tz
>& 
zbufãr
,

46183 
x0
, 
y0
, cÚ¡ 
z0
,

46184 
x1
, 
y1
, cÚ¡ 
z1
,

46185 
x2
, 
y2
, cÚ¡ 
z2
,

46186 cÚ¡ 
CImg
<
tc
>& 
‹xtu»
,

46187 
tx0
, 
ty0
,

46188 
tx1
, 
ty1
,

46189 
tx2
, 
ty2
,

46190 cÚ¡ 
İac™y
=1,

46191 cÚ¡ 
brighŠess
=1) {

46192 ià(
is_em±y
(è|| 
z0
<=0 || 
z1
<=0 || 
z2
<=0è *
this
;

46193 ià(!
is_§meXY
(
zbufãr
))

46194 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


46197 
cimg_š¡ªû
,

46198 
zbufãr
.
_width
,zbufãr.
_height
,zbufãr.
_d•th
,zbufãr.
_¥eùrum
,zbufãr.
_d©a
);

46200 ià(
	g‹xtu»
.
	g_d•th
>1 ||extu».
	g_¥eùrum
<_spectrum)

46201 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


46203 
cimg_š¡ªû
,

46204 
‹xtu»
.
_width
,‹xtu».
_height
,‹xtu».
_d•th
,‹xtu».
_¥eùrum
,‹xtu».
_d©a
);

46205 ià(
is_ov”Ïµed
(
‹xtu»
))

46206  
d¿w_ŒŸngË
(
zbufãr
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,+
‹xtu»
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
İac™y
,
brighŠess
);

46208 
	giz0
 = 1/
z0
, 
	giz1
 = 1/
z1
, 
	giz2
 = 1/
z2
;

46209 ià(
	gy0
>
	gy1
è
	gcimg
::
sw­
(
x0
,
x1
,
y0
,
y1
,
iz0
,
iz1
,
tx0
,
tx1
,
ty0
,
ty1
);

46210 ià(
	gy0
>
	gy2
è
	gcimg
::
sw­
(
x0
,
x2
,
y0
,
y2
,
iz0
,
iz2
,
tx0
,
tx2
,
ty0
,
ty2
);

46211 ià(
	gy1
>
	gy2
è
	gcimg
::
sw­
(
x1
,
x2
,
y1
,
y2
,
iz1
,
iz2
,
tx1
,
tx2
,
ty1
,
ty2
);

46212 ià(
	gy2
<0 || 
	gy0
>=
height
(è|| 
cimg
::
mš
(
x0
,
x1
,
x2
)>=
width
(è|| cimg::
max
(x0,x1,x2)<0 || !
	gİac™y
è *
	gthis
;

46215 
	gw1
 = 
width
(è- 1, 
	gh1
 = 
height
() - 1,

46216 
	gdx01
 = 
x1
 - 
x0
, 
	gdx02
 = 
x2
 - x0, 
	gdx12
 = x2 - x1,

46217 
	gdy01
 = 
¡d
::
max
(1,
y1
 - 
y0
), 
	gdy02
 = std::max(1,
y2
 - y0), 
	gdy12
 = std::max(1,y2 - y1),

46218 
	gcy0
 = 
cimg
::
cut
(
y0
,0,
h1
), 
	gcy2
 = cimg::cut(
y2
,0,h1),

46219 
	ghdy01
 = 
dy01
*
cimg
::
sign
(
dx01
)/2, 
	ghdy02
 = 
dy02
*cimg::sign(
dx02
)/2, 
	ghdy12
 = 
dy12
*cimg::sign(
dx12
)/2;

46221 
	gdiz01
 = 
iz1
 - 
iz0
, 
	gdiz02
 = 
iz2
 - iz0, 
	gdiz12
 = iz2 - iz1,

46222 
	gtxz0
 = 
tx0
*
iz0
, 
	gtxz1
 = 
tx1
*
iz1
, 
	gtxz2
 = 
tx2
*
iz2
,

46223 
	gtyz0
 = 
ty0
*
iz0
, 
	gtyz1
 = 
ty1
*
iz1
, 
	gtyz2
 = 
ty2
*
iz2
,

46224 
	gdtxz01
 = 
txz1
 - 
txz0
, 
	gdtxz02
 = 
txz2
 -xz0, 
	gdtxz12
 =xz2 -xz1,

46225 
	gdtyz01
 = 
tyz1
 - 
tyz0
, 
	gdtyz02
 = 
tyz2
 -yz0, 
	gdtyz12
 =yz2 -yz1;

46227 cÚ¡ 
ulÚgT
 
	gtwhd
 = (ulÚgT)
‹xtu»
.
_width
*‹xtu».
_height
*‹xtu».
_d•th
;

46228 cÚ¡ 
	gcbs
 = 
cimg
::
cut
(
brighŠess
,0,2);

46229 
cimg_š™_sÿÆše
(
İac™y
);

46231 
	gy
 = 
cy0
; y<=
cy2
; ++y) {

46232 cÚ¡ 
	gyy0
 = 
y
 - 
y0
, 
	gyy1
 = y - 
y1
;

46234 
	gxm
 = 
y
<
y1
?
x0
 + (
dx01
*
yy0
 + 
hdy01
)/
dy01
:
x1
 + (
dx12
*
yy1
 + 
hdy12
)/
dy12
,

46235 
	gxM
 = 
x0
 + (
dx02
*
yy0
 + 
hdy02
)/
dy02
;

46237 
	gizm
 = 
y
<
y1
?(
iz0
 + 
diz01
*
yy0
/
dy01
):(
iz1
 + 
diz12
*
yy1
/
dy12
),

46238 
	gizM
 = 
iz0
 + 
diz02
*
yy0
/
dy02
,

46239 
	gtxzm
 = 
y
<
y1
?(
txz0
 + 
dtxz01
*
yy0
/
dy01
):(
txz1
 + 
dtxz12
*
yy1
/
dy12
),

46240 
	gtxzM
 = 
txz0
 + 
dtxz02
*
yy0
/
dy02
,

46241 
	gtyzm
 = 
y
<
y1
?(
tyz0
 + 
dtyz01
*
yy0
/
dy01
):(
tyz1
 + 
dtyz12
*
yy1
/
dy12
),

46242 
	gtyzM
 = 
tyz0
 + 
dtyz02
*
yy0
/
dy02
;

46243 ià(
	gxm
>
	gxM
è
	gcimg
::
sw­
(
xm
,
xM
,
txzm
,
txzM
,
tyzm
,
tyzM
,
izm
,
izM
);

46244 ià(
	gxM
>=0 || 
xm
<=
w1
) {

46246 
cxm
 = 
cimg
::
cut
(
xm
,0,
w1
),

46247 
	gcxM
 = 
cimg
::
cut
(
xM
,0,
w1
);

46248 
T
 *
	g±rd
 = 
d©a
(
cxm
,
y
);

46249 
tz
 *
	g±rz
 = 
zbufãr
.
d©a
(
cxm
,
y
);

46250 cÚ¡ 
	gdxmM
 = 
¡d
::
max
(1,
xM
 - 
xm
);

46251 cÚ¡ 
	gdizmM
 = 
izM
 - 
izm
, 
	gdtxzmM
 = 
txzM
 - 
txzm
, 
	gdtyzmM
 = 
tyzM
 - 
tyzm
;

46253 
	gx
 = 
cxm
; x<
	gcxM
; ++x) {

46254 cÚ¡ 
	gxxm
 = 
x
 - 
xm
;

46255 cÚ¡ 
	giz
 = 
izm
 + 
dizmM
*
xxm
/
dxmM
;

46256 ià(
	giz
>=*
±rz
) {

46257 *
±rz
 = (
tz
)
iz
;

46259 
	gtxz
 = 
txzm
 + 
dtxzmM
*
xxm
/
dxmM
,

46260 
	gtyz
 = 
tyzm
 + 
dtyzmM
*
xxm
/
dxmM
;

46262 
	gtx
 = ()
cimg
::
round
(
txz
/
iz
),

46263 
	gty
 = ()
cimg
::
round
(
tyz
/
iz
);

46264 cÚ¡ 
tc
 *cÚ¡ 
	gcŞÜ
 = &
‹xtu»
.
_©XY
(
tx
,
ty
);

46265 
cimg_fÜC
(*
this
,
c
) {

46266 cÚ¡ 
Tæßt
 
	gv®
 = 
cbs
<=1?
cŞÜ
[
c
*
twhd
]*cbs:(2 - cbs)*cŞÜ[c*twhd] + (cb - 1)*
_sc_maxv®
;

46267 
	g±rd
[
c
*
_sc_whd
] = (
T
)(
İac™y
>=1?
v®
:v®*
_sc_nİac™y
 + 
±rd
[c*_sc_whd]*
_sc_cİac™y
);

46270 ++
	g±rd
; ++
	g±rz
;

46274  *
	gthis
;

46295 
	g‹m¶©e
<
ty³Çme
 
	gtc
,y³Çm
	g
>

46296 
	gCImg
<
	gT
>& 
d¿w_ŒŸngË
(
x0
, 
y0
,

46297 
x1
, 
y1
,

46298 
x2
, 
y2
,

46299 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
,

46300 cÚ¡ 
CImg
<

>& 
light
,

46301 
lx0
, 
ly0
,

46302 
lx1
, 
ly1
,

46303 
lx2
, 
ly2
,

46304 cÚ¡ 
İac™y
=1) {

46305 ià(
is_em±y
()è *
this
;

46306 ià(!
	gcŞÜ
)

46307 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


46309 
cimg_š¡ªû
);

46310 ià(
	glight
.
	g_d•th
>1 ||†ight.
	g_¥eùrum
<_spectrum)

46311 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


46313 
cimg_š¡ªû
,
light
.
_width
,light.
_height
,light.
_d•th
,light.
_¥eùrum
,light.
_d©a
);

46315 ià(
	gy0
>
	gy1
è
	gcimg
::
sw­
(
x0
,
x1
,
y0
,
y1
,
lx0
,
lx1
,
ly0
,
ly1
);

46316 ià(
	gy0
>
	gy2
è
	gcimg
::
sw­
(
x0
,
x2
,
y0
,
y2
,
lx0
,
lx2
,
ly0
,
ly2
);

46317 ià(
	gy1
>
	gy2
è
	gcimg
::
sw­
(
x1
,
x2
,
y1
,
y2
,
lx1
,
lx2
,
ly1
,
ly2
);

46318 ià(
	gy2
<0 || 
	gy0
>=
height
(è|| 
cimg
::
mš
(
x0
,
x1
,
x2
)>=
width
(è|| cimg::
max
(x0,x1,x2)<0 || !
	gİac™y
è *
	gthis
;

46321 
	gw1
 = 
width
(è- 1, 
	gh1
 = 
height
() - 1,

46322 
	gdx01
 = 
x1
 - 
x0
, 
	gdx02
 = 
x2
 - x0, 
	gdx12
 = x2 - x1,

46323 
	gdy01
 = 
¡d
::
max
(1,
y1
 - 
y0
), 
	gdy02
 = std::max(1,
y2
 - y0), 
	gdy12
 = std::max(1,y2 - y1),

46324 
	gcy0
 = 
cimg
::
cut
(
y0
,0,
h1
), 
	gcy2
 = cimg::cut(
y2
,0,h1),

46325 
	ghdy01
 = 
dy01
*
cimg
::
sign
(
dx01
)/2, 
	ghdy02
 = 
dy02
*cimg::sign(
dx02
)/2, 
	ghdy12
 = 
dy12
*cimg::sign(
dx12
)/2,

46326 
	gdlx01
 = 
lx1
 - 
lx0
, 
	gdlx02
 = 
lx2
 -†x0, 
	gdlx12
 =†x2 -†x1,

46327 
	gdly01
 = 
ly1
 - 
ly0
, 
	gdly02
 = 
ly2
 -†y0, 
	gdly12
 =†y2 -†y1,

46328 
	ghdy01lx
 = 
dy01
*
cimg
::
sign
(
dlx01
)/2, 
	ghdy02lx
 = 
dy02
*cimg::sign(
dlx02
)/2, 
	ghdy12lx
 = 
dy12
*cimg::sign(
dlx12
)/2,

46329 
	ghdy01ly
 = 
dy01
*
cimg
::
sign
(
dly01
)/2, 
	ghdy02ly
 = 
dy02
*cimg::sign(
dly02
)/2, 
	ghdy12ly
 = 
dy12
*cimg::sign(
dly12
)/2;

46331 cÚ¡ 
ulÚgT
 
	glwhd
 = (ulÚgT)
light
.
_width
*light.
_height
*light.
_d•th
;

46332 
cimg_š™_sÿÆše
(
İac™y
);

46334 
	gy
 = 
cy0
; y<=
cy2
; ++y) {

46335 cÚ¡ 
	gyy0
 = 
y
 - 
y0
, 
	gyy1
 = y - 
y1
;

46337 
	gxm
 = 
y
<
y1
?
x0
 + (
dx01
*
yy0
 + 
hdy01
)/
dy01
:
x1
 + (
dx12
*
yy1
 + 
hdy12
)/
dy12
,

46338 
	gxM
 = 
x0
 + (
dx02
*
yy0
 + 
hdy02
)/
dy02
,

46339 
	glxm
 = 
y
<
y1
?
lx0
 + (
dlx01
*
yy0
 + 
hdy01lx
)/
dy01
:
lx1
 + (
dlx12
*
yy1
 + 
hdy12lx
)/
dy12
,

46340 
	glxM
 = 
lx0
 + (
dlx02
*
yy0
 + 
hdy02lx
)/
dy02
,

46341 
	glym
 = 
y
<
y1
?
ly0
 + (
dly01
*
yy0
 + 
hdy01ly
)/
dy01
:
ly1
 + (
dly12
*
yy1
 + 
hdy12ly
)/
dy12
,

46342 
	glyM
 = 
ly0
 + (
dly02
*
yy0
 + 
hdy02ly
)/
dy02
;

46343 ià(
	gxm
>
	gxM
è
	gcimg
::
sw­
(
xm
,
xM
,
lxm
,
lxM
,
lym
,
lyM
);

46344 ià(
	gxM
>=0 || 
xm
<=
w1
) {

46346 
cxm
 = 
cimg
::
cut
(
xm
,0,
w1
),

46347 
	gcxM
 = 
cimg
::
cut
(
xM
,0,
w1
);

46348 
T
 *
	g±rd
 = 
d©a
(
cxm
,
y
);

46350 
	gdxmM
 = 
¡d
::
max
(1,
xM
 - 
xm
), 
	ghdxmM
 = 
dxmM
/2,

46351 
	gdlxmM
 = 
lxM
 - 
lxm
, 
	gdlymM
 = 
lyM
 - 
lym
;

46353 
	gx
 = 
cxm
; x<
	gcxM
; ++x) {

46355 
	gxxm
 = 
x
 - 
xm
,

46356 
	glx
 = (
lxm
*
dxmM
 + 
dlxmM
*
xxm
 + 
hdxmM
)/dxmM,

46357 
	gly
 = (
lym
*
dxmM
 + 
dlymM
*
xxm
 + 
hdxmM
)/dxmM;

46358 cÚ¡ 

 *cÚ¡ 
	glig
 = &
light
.
_©XY
(
lx
,
ly
);

46359 
cimg_fÜC
(*
this
,
c
) {

46360 cÚ¡ 
tc
 
	gcŞ
 = 
cŞÜ
[
c
];

46361 cÚ¡ 
	gcbs
 = 
cimg
::
cut
(()
lig
[
c
*
lwhd
],0,2);

46362 cÚ¡ 
Tæßt
 
	gv®
 = 
cbs
<=1?cbs*
cŞ
:(2 - cbs)*cŞ + (cb - 1)*
_sc_maxv®
;

46363 
	g±rd
[
c
*
_sc_whd
] = (
T
)(
İac™y
>=1?
v®
:v®*
_sc_nİac™y
 + 
±rd
[c*_sc_whd]*
_sc_cİac™y
);

46365 ++
	g±rd
;

46369  *
	gthis
;

46373 
	g‹m¶©e
<
ty³Çme
 
	gtz
,y³Çm
	gtc
,y³Çm
	g
>

46374 
	gCImg
<
	gT
>& 
d¿w_ŒŸngË
(
CImg
<
tz
>& 
zbufãr
,

46375 
x0
, 
y0
, cÚ¡ 
z0
,

46376 
x1
, 
y1
, cÚ¡ 
z1
,

46377 
x2
, 
y2
, cÚ¡ 
z2
,

46378 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
,

46379 cÚ¡ 
CImg
<

>& 
light
,

46380 
lx0
, 
ly0
,

46381 
lx1
, 
ly1
,

46382 
lx2
, 
ly2
,

46383 cÚ¡ 
İac™y
=1) {

46384 ià(
is_em±y
(è|| 
z0
<=0 || 
z1
<=0 || 
z2
<=0è *
this
;

46385 ià(!
	gcŞÜ
)

46386 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


46388 
cimg_š¡ªû
);

46389 ià(
	glight
.
	g_d•th
>1 ||†ight.
	g_¥eùrum
<_spectrum)

46390 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


46392 
cimg_š¡ªû
,
light
.
_width
,light.
_height
,light.
_d•th
,light.
_¥eùrum
,light.
_d©a
);

46393 ià(!
is_§meXY
(
zbufãr
))

46394 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


46397 
cimg_š¡ªû
,

46398 
zbufãr
.
_width
,zbufãr.
_height
,zbufãr.
_d•th
,zbufãr.
_¥eùrum
,zbufãr.
_d©a
);

46399 ià(
is_ov”Ïµed
(
light
)è 
d¿w_ŒŸngË
(
zbufãr
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cŞÜ
,

46400 +
light
,
lx0
,
ly0
,
lx1
,
ly1
,
lx2
,
ly2
,
İac™y
);

46402 
	giz0
 = 1/
z0
, 
	giz1
 = 1/
z1
, 
	giz2
 = 1/
z2
;

46403 ià(
	gy0
>
	gy1
è
	gcimg
::
sw­
(
x0
,
x1
,
y0
,
y1
,
iz0
,
iz1
,
lx0
,
lx1
,
ly0
,
ly1
);

46404 ià(
	gy0
>
	gy2
è
	gcimg
::
sw­
(
x0
,
x2
,
y0
,
y2
,
iz0
,
iz2
,
lx0
,
lx2
,
ly0
,
ly2
);

46405 ià(
	gy1
>
	gy2
è
	gcimg
::
sw­
(
x1
,
x2
,
y1
,
y2
,
iz1
,
iz2
,
lx1
,
lx2
,
ly1
,
ly2
);

46406 ià(
	gy2
<0 || 
	gy0
>=
height
(è|| 
cimg
::
mš
(
x0
,
x1
,
x2
)>=
width
(è|| cimg::
max
(x0,x1,x2)<0 || !
	gİac™y
è *
	gthis
;

46409 
	gw1
 = 
width
(è- 1, 
	gh1
 = 
height
() - 1,

46410 
	gdx01
 = 
x1
 - 
x0
, 
	gdx02
 = 
x2
 - x0, 
	gdx12
 = x2 - x1,

46411 
	gdy01
 = 
¡d
::
max
(1,
y1
 - 
y0
), 
	gdy02
 = std::max(1,
y2
 - y0), 
	gdy12
 = std::max(1,y2 - y1),

46412 
	gcy0
 = 
cimg
::
cut
(
y0
,0,
h1
), 
	gcy2
 = cimg::cut(
y2
,0,h1),

46413 
	ghdy01
 = 
dy01
*
cimg
::
sign
(
dx01
)/2, 
	ghdy02
 = 
dy02
*cimg::sign(
dx02
)/2, 
	ghdy12
 = 
dy12
*cimg::sign(
dx12
)/2,

46414 
	gdlx01
 = 
lx1
 - 
lx0
, 
	gdlx02
 = 
lx2
 -†x0, 
	gdlx12
 =†x2 -†x1,

46415 
	gdly01
 = 
ly1
 - 
ly0
, 
	gdly02
 = 
ly2
 -†y0, 
	gdly12
 =†y2 -†y1,

46416 
	ghdy01lx
 = 
dy01
*
cimg
::
sign
(
dlx01
)/2, 
	ghdy02lx
 = 
dy02
*cimg::sign(
dlx02
)/2, 
	ghdy12lx
 = 
dy12
*cimg::sign(
dlx12
)/2,

46417 
	ghdy01ly
 = 
dy01
*
cimg
::
sign
(
dly01
)/2, 
	ghdy02ly
 = 
dy02
*cimg::sign(
dly02
)/2, 
	ghdy12ly
 = 
dy12
*cimg::sign(
dly12
)/2;

46418 cÚ¡ 
	gdiz01
 = 
iz1
 - 
iz0
, 
	gdiz02
 = 
iz2
 - iz0, 
	gdiz12
 = iz2 - iz1;

46420 cÚ¡ 
ulÚgT
 
	glwhd
 = (ulÚgT)
light
.
_width
*light.
_height
*light.
_d•th
;

46421 
cimg_š™_sÿÆše
(
İac™y
);

46423 
	gy
 = 
cy0
; y<=
cy2
; ++y) {

46424 cÚ¡ 
	gyy0
 = 
y
 - 
y0
, 
	gyy1
 = y - 
y1
;

46426 
	gxm
 = 
y
<
y1
?
x0
 + (
dx01
*
yy0
 + 
hdy01
)/
dy01
:
x1
 + (
dx12
*
yy1
 + 
hdy12
)/
dy12
,

46427 
	gxM
 = 
x0
 + (
dx02
*
yy0
 + 
hdy02
)/
dy02
,

46428 
	glxm
 = 
y
<
y1
?
lx0
 + (
dlx01
*
yy0
 + 
hdy01lx
)/
dy01
:
lx1
 + (
dlx12
*
yy1
 + 
hdy12lx
)/
dy12
,

46429 
	glxM
 = 
lx0
 + (
dlx02
*
yy0
 + 
hdy02lx
)/
dy02
,

46430 
	glym
 = 
y
<
y1
?
ly0
 + (
dly01
*
yy0
 + 
hdy01ly
)/
dy01
:
ly1
 + (
dly12
*
yy1
 + 
hdy12ly
)/
dy12
,

46431 
	glyM
 = 
ly0
 + (
dly02
*
yy0
 + 
hdy02ly
)/
dy02
;

46433 
	gizm
 = 
y
<
y1
?(
iz0
 + 
diz01
*
yy0
/
dy01
):(
iz1
 + 
diz12
*
yy1
/
dy12
),

46434 
	gizM
 = 
iz0
 + 
diz02
*
yy0
/
dy02
;

46436 ià(
	gxm
>
	gxM
è
	gcimg
::
sw­
(
xm
,
xM
,
lxm
,
lxM
,
lym
,
lyM
,
izm
,
izM
);

46437 ià(
	gxM
>=0 || 
xm
<=
w1
) {

46439 
cxm
 = 
cimg
::
cut
(
xm
,0,
w1
),

46440 
	gcxM
 = 
cimg
::
cut
(
xM
,0,
w1
);

46441 
T
 *
	g±rd
 = 
d©a
(
cxm
,
y
);

46442 
tz
 *
	g±rz
 = 
zbufãr
.
d©a
(
cxm
,
y
);

46444 
	gdxmM
 = 
¡d
::
max
(1,
xM
 - 
xm
), 
	ghdxmM
 = 
dxmM
/2,

46445 
	gdlxmM
 = 
lxM
 - 
lxm
, 
	gdlymM
 = 
lyM
 - 
lym
;

46446 cÚ¡ 
	gdizmM
 = 
izM
 - 
izm
;

46448 
	gx
 = 
cxm
; x<
	gcxM
; ++x) {

46449 cÚ¡ 
	gxxm
 = 
x
 - 
xm
;

46450 cÚ¡ 
	giz
 = 
izm
 + 
dizmM
*
xxm
/
dxmM
;

46451 ià(
	giz
>=*
±rz
) {

46452 *
±rz
 = (
tz
)
iz
;

46454 
	glx
 = (
lxm
*
dxmM
 + 
dlxmM
*
xxm
 + 
hdxmM
)/dxmM,

46455 
	gly
 = (
lym
*
dxmM
 + 
dlymM
*
xxm
 + 
hdxmM
)/dxmM;

46456 cÚ¡ 

 *cÚ¡ 
	glig
 = &
light
.
_©XY
(
lx
,
ly
);

46457 
cimg_fÜC
(*
this
,
c
) {

46458 cÚ¡ 
	gcbs
 = 
cimg
::
cut
(()
lig
[
c
*
lwhd
],0,2);

46459 cÚ¡ 
tc
 
	gcŞ
 = 
cŞÜ
[
c
];

46460 cÚ¡ 
Tæßt
 
	gv®
 = 
cbs
<=1?cbs*
cŞ
:(2 - cbs)*cŞ + (cb - 1)*
_sc_maxv®
;

46461 
	g±rd
[
c
*
_sc_whd
] = (
T
)(
İac™y
>=1?
v®
:v®*
_sc_nİac™y
 + 
±rd
[c*_sc_whd]*
_sc_cİac™y
);

46464 ++
	g±rd
; ++
	g±rz
;

46468  *
	gthis
;

46491 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

46492 
	gCImg
<
	gT
>& 
d¿w_ŒŸngË
(
x0
, 
y0
,

46493 
x1
, 
y1
,

46494 
x2
, 
y2
,

46495 cÚ¡ 
CImg
<
tc
>& 
‹xtu»
,

46496 
tx0
, 
ty0
,

46497 
tx1
, 
ty1
,

46498 
tx2
, 
ty2
,

46499 
bs0
,

46500 
bs1
,

46501 
bs2
,

46502 cÚ¡ 
İac™y
=1) {

46503 ià(
is_em±y
()è *
this
;

46504 ià(
	g‹xtu»
.
	g_d•th
>1 ||extu».
	g_¥eùrum
<_spectrum)

46505 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


46507 
cimg_š¡ªû
,

46508 
‹xtu»
.
_width
,‹xtu».
_height
,‹xtu».
_d•th
,‹xtu».
_¥eùrum
,‹xtu».
_d©a
);

46509 ià(
is_ov”Ïµed
(
‹xtu»
))

46510  
d¿w_ŒŸngË
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,+
‹xtu»
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,

46511 
bs0
,
bs1
,
bs2
,
İac™y
);

46513 ià(
	gy0
>
	gy1
è
	gcimg
::
sw­
(
x0
,
x1
,
y0
,
y1
,
tx0
,
tx1
,
ty0
,
ty1
,
bs0
,
bs1
);

46514 ià(
	gy0
>
	gy2
è
	gcimg
::
sw­
(
x0
,
x2
,
y0
,
y2
,
tx0
,
tx2
,
ty0
,
ty2
,
bs0
,
bs2
);

46515 ià(
	gy1
>
	gy2
è
	gcimg
::
sw­
(
x1
,
x2
,
y1
,
y2
,
tx1
,
tx2
,
ty1
,
ty2
,
bs1
,
bs2
);

46516 ià(
	gy2
<0 || 
	gy0
>=
height
(è|| 
cimg
::
mš
(
x0
,
x1
,
x2
)>=
width
(è|| cimg::
max
(x0,x1,x2)<0 || !
	gİac™y
è *
	gthis
;

46519 
	gw1
 = 
width
(è- 1, 
	gh1
 = 
height
() - 1,

46520 
	gdx01
 = 
x1
 - 
x0
, 
	gdx02
 = 
x2
 - x0, 
	gdx12
 = x2 - x1,

46521 
	gdy01
 = 
¡d
::
max
(1,
y1
 - 
y0
), 
	gdy02
 = std::max(1,
y2
 - y0), 
	gdy12
 = std::max(1,y2 - y1),

46522 
	gcy0
 = 
cimg
::
cut
(
y0
,0,
h1
), 
	gcy2
 = cimg::cut(
y2
,0,h1),

46523 
	ghdy01
 = 
dy01
*
cimg
::
sign
(
dx01
)/2, 
	ghdy02
 = 
dy02
*cimg::sign(
dx02
)/2, 
	ghdy12
 = 
dy12
*cimg::sign(
dx12
)/2,

46524 
	gdtx01
 = 
tx1
 - 
tx0
, 
	gdtx02
 = 
tx2
 -x0, 
	gdtx12
 =x2 -x1,

46525 
	gdty01
 = 
ty1
 - 
ty0
, 
	gdty02
 = 
ty2
 -y0, 
	gdty12
 =y2 -y1,

46526 
	ghdy01tx
 = 
dy01
*
cimg
::
sign
(
dtx01
)/2, 
	ghdy02tx
 = 
dy02
*cimg::sign(
dtx02
)/2, 
	ghdy12tx
 = 
dy12
*cimg::sign(
dtx12
)/2,

46527 
	ghdy01ty
 = 
dy01
*
cimg
::
sign
(
dty01
)/2, 
	ghdy02ty
 = 
dy02
*cimg::sign(
dty02
)/2, 
	ghdy12ty
 = 
dy12
*cimg::sign(
dty12
)/2;

46528 cÚ¡ 
	gdbs01
 = 
bs1
 - 
bs0
, 
	gdbs02
 = 
bs2
 - bs0, 
	gdbs12
 = bs2 - bs1;

46530 cÚ¡ 
ulÚgT
 
	gtwhd
 = (ulÚgT)
‹xtu»
.
_width
*‹xtu».
_height
*‹xtu».
_d•th
;

46531 
cimg_š™_sÿÆše
(
İac™y
);

46533 
	gy
 = 
cy0
; y<=
cy2
; ++y) {

46534 cÚ¡ 
	gyy0
 = 
y
 - 
y0
, 
	gyy1
 = y - 
y1
;

46536 
	gxm
 = 
y
<
y1
?
x0
 + (
dx01
*
yy0
 + 
hdy01
)/
dy01
:
x1
 + (
dx12
*
yy1
 + 
hdy12
)/
dy12
,

46537 
	gxM
 = 
x0
 + (
dx02
*
yy0
 + 
hdy02
)/
dy02
,

46538 
	gtxm
 = 
y
<
y1
?
tx0
 + (
dtx01
*
yy0
 + 
hdy01tx
)/
dy01
:
tx1
 + (
dtx12
*
yy1
 + 
hdy12tx
)/
dy12
,

46539 
	gtxM
 = 
tx0
 + (
dtx02
*
yy0
 + 
hdy02tx
)/
dy02
,

46540 
	gtym
 = 
y
<
y1
?
ty0
 + (
dty01
*
yy0
 + 
hdy01ty
)/
dy01
:
ty1
 + (
dty12
*
yy1
 + 
hdy12ty
)/
dy12
,

46541 
	gtyM
 = 
ty0
 + (
dty02
*
yy0
 + 
hdy02ty
)/
dy02
;

46543 
	gbsm
 = 
y
<
y1
?(
bs0
 + 
dbs01
*
yy0
/
dy01
):(
bs1
 + 
dbs12
*
yy1
/
dy12
),

46544 
	gbsM
 = 
bs0
 + 
dbs02
*
yy0
/
dy02
;

46545 ià(
	gxm
>
	gxM
è
	gcimg
::
sw­
(
xm
,
xM
,
txm
,
txM
,
tym
,
tyM
,
bsm
,
bsM
);

46546 ià(
	gxM
>=0 || 
xm
<=
w1
) {

46548 
cxm
 = 
cimg
::
cut
(
xm
,0,
w1
),

46549 
	gcxM
 = 
cimg
::
cut
(
xM
,0,
w1
);

46550 
T
 *
	g±rd
 = 
d©a
(
cxm
,
y
);

46552 
	gdxmM
 = 
¡d
::
max
(1,
xM
 - 
xm
), 
	ghdxmM
 = 
dxmM
/2,

46553 
	gdtxmM
 = 
txM
 - 
txm
, 
	gdtymM
 = 
tyM
 - 
tym
;

46554 cÚ¡ 
	gdbsmM
 = 
bsM
 - 
bsm
;

46556 
	gx
 = 
cxm
; x<
	gcxM
; ++x) {

46558 
	gxxm
 = 
x
 - 
xm
,

46559 
	gtx
 = (
txm
*
dxmM
 + 
dtxmM
*
xxm
 + 
hdxmM
)/dxmM,

46560 
	gty
 = (
tym
*
dxmM
 + 
dtymM
*
xxm
 + 
hdxmM
)/dxmM;

46561 cÚ¡ 
	gcbs
 = 
cimg
::
cut
(
bsm
 + 
dbsmM
*
xxm
/
dxmM
,0,2);

46562 cÚ¡ 
tc
 *cÚ¡ 
	gcŞÜ
 = &
‹xtu»
.
_©XY
(
tx
,
ty
);

46563 
cimg_fÜC
(*
this
,
c
) {

46564 cÚ¡ 
tc
 
	gcŞ
 = 
cŞÜ
[
c
*
twhd
];

46565 cÚ¡ 
Tæßt
 
	gv®
 = 
cbs
<=1?cbs*
cŞ
:(2 - cbs)*cŞ + (cb - 1)*
_sc_maxv®
;

46566 
	g±rd
[
c
*
_sc_whd
] = (
T
)(
İac™y
>=1?
v®
:v®*
_sc_nİac™y
 + 
±rd
[c*_sc_whd]*
_sc_cİac™y
);

46568 ++
	g±rd
;

46572  *
	gthis
;

46576 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

46577 
	gCImg
<
	gT
>& 
d¿w_ŒŸngË
(
x0
, 
y0
, cÚ¡ 
z0
,

46578 
x1
, 
y1
, cÚ¡ 
z1
,

46579 
x2
, 
y2
, cÚ¡ 
z2
,

46580 cÚ¡ 
CImg
<
tc
>& 
‹xtu»
,

46581 
tx0
, 
ty0
,

46582 
tx1
, 
ty1
,

46583 
tx2
, 
ty2
,

46584 
bs0
,

46585 
bs1
,

46586 
bs2
,

46587 cÚ¡ 
İac™y
=1) {

46588 ià(
is_em±y
(è|| 
z0
<=0 || 
z1
<=0 || 
z2
<=0è *
this
;

46589 ià(
	g‹xtu»
.
	g_d•th
>1 ||extu».
	g_¥eùrum
<_spectrum)

46590 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


46592 
cimg_š¡ªû
,

46593 
‹xtu»
.
_width
,‹xtu».
_height
,‹xtu».
_d•th
,‹xtu».
_¥eùrum
,‹xtu».
_d©a
);

46594 ià(
is_ov”Ïµed
(
‹xtu»
)è 
d¿w_ŒŸngË
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,+‹xtu»,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,

46595 
bs0
,
bs1
,
bs2
,
İac™y
);

46597 
	giz0
 = 1/
z0
, 
	giz1
 = 1/
z1
, 
	giz2
 = 1/
z2
;

46598 ià(
	gy0
>
	gy1
è
	gcimg
::
sw­
(
x0
,
x1
,
y0
,
y1
,
iz0
,
iz1
,
tx0
,
tx1
,
ty0
,
ty1
,
bs0
,
bs1
);

46599 ià(
	gy0
>
	gy2
è
	gcimg
::
sw­
(
x0
,
x2
,
y0
,
y2
,
iz0
,
iz2
,
tx0
,
tx2
,
ty0
,
ty2
,
bs0
,
bs2
);

46600 ià(
	gy1
>
	gy2
è
	gcimg
::
sw­
(
x1
,
x2
,
y1
,
y2
,
iz1
,
iz2
,
tx1
,
tx2
,
ty1
,
ty2
,
bs1
,
bs2
);

46601 ià(
	gy2
<0 || 
	gy0
>=
height
(è|| 
cimg
::
mš
(
x0
,
x1
,
x2
)>=
width
(è|| cimg::
max
(x0,x1,x2)<0 || !
	gİac™y
è *
	gthis
;

46604 
	gw1
 = 
width
(è- 1, 
	gh1
 = 
height
() - 1,

46605 
	gdx01
 = 
x1
 - 
x0
, 
	gdx02
 = 
x2
 - x0, 
	gdx12
 = x2 - x1,

46606 
	gdy01
 = 
¡d
::
max
(1,
y1
 - 
y0
), 
	gdy02
 = std::max(1,
y2
 - y0), 
	gdy12
 = std::max(1,y2 - y1),

46607 
	gcy0
 = 
cimg
::
cut
(
y0
,0,
h1
), 
	gcy2
 = cimg::cut(
y2
,0,h1),

46608 
	ghdy01
 = 
dy01
*
cimg
::
sign
(
dx01
)/2, 
	ghdy02
 = 
dy02
*cimg::sign(
dx02
)/2, 
	ghdy12
 = 
dy12
*cimg::sign(
dx12
)/2;

46610 
	gdiz01
 = 
iz1
 - 
iz0
, 
	gdiz02
 = 
iz2
 - iz0, 
	gdiz12
 = iz2 - iz1,

46611 
	gtxz0
 = 
tx0
*
iz0
, 
	gtxz1
 = 
tx1
*
iz1
, 
	gtxz2
 = 
tx2
*
iz2
,

46612 
	gtyz0
 = 
ty0
*
iz0
, 
	gtyz1
 = 
ty1
*
iz1
, 
	gtyz2
 = 
ty2
*
iz2
,

46613 
	gdtxz01
 = 
txz1
 - 
txz0
, 
	gdtxz02
 = 
txz2
 -xz0, 
	gdtxz12
 =xz2 -xz1,

46614 
	gdtyz01
 = 
tyz1
 - 
tyz0
, 
	gdtyz02
 = 
tyz2
 -yz0, 
	gdtyz12
 =yz2 -yz1,

46615 
	gdbs01
 = 
bs1
 - 
bs0
, 
	gdbs02
 = 
bs2
 - bs0, 
	gdbs12
 = bs2 - bs1;

46617 cÚ¡ 
ulÚgT
 
	gtwhd
 = (ulÚgT)
‹xtu»
.
_width
*‹xtu».
_height
*‹xtu».
_d•th
;

46618 
cimg_š™_sÿÆše
(
İac™y
);

46620 
	gy
 = 
cy0
; y<=
cy2
; ++y) {

46621 cÚ¡ 
	gyy0
 = 
y
 - 
y0
, 
	gyy1
 = y - 
y1
;

46623 
	gxm
 = 
y
<
y1
?
x0
 + (
dx01
*
yy0
 + 
hdy01
)/
dy01
:
x1
 + (
dx12
*
yy1
 + 
hdy12
)/
dy12
,

46624 
	gxM
 = 
x0
 + (
dx02
*
yy0
 + 
hdy02
)/
dy02
;

46626 
	gizm
 = 
y
<
y1
?(
iz0
 + 
diz01
*
yy0
/
dy01
):(
iz1
 + 
diz12
*
yy1
/
dy12
),

46627 
	gizM
 = 
iz0
 + 
diz02
*
yy0
/
dy02
,

46628 
	gtxzm
 = 
y
<
y1
?(
txz0
 + 
dtxz01
*
yy0
/
dy01
):(
txz1
 + 
dtxz12
*
yy1
/
dy12
),

46629 
	gtxzM
 = 
txz0
 + 
dtxz02
*
yy0
/
dy02
,

46630 
	gtyzm
 = 
y
<
y1
?(
tyz0
 + 
dtyz01
*
yy0
/
dy01
):(
tyz1
 + 
dtyz12
*
yy1
/
dy12
),

46631 
	gtyzM
 = 
tyz0
 + 
dtyz02
*
yy0
/
dy02
,

46632 
	gbsm
 = 
y
<
y1
?(
bs0
 + 
dbs01
*
yy0
/
dy01
):(
bs1
 + 
dbs12
*
yy1
/
dy12
),

46633 
	gbsM
 = 
bs0
 + 
dbs02
*
yy0
/
dy02
;

46634 ià(
	gxm
>
	gxM
è
	gcimg
::
sw­
(
xm
,
xM
,
txzm
,
txzM
,
tyzm
,
tyzM
,
izm
,
izM
,
bsm
,
bsM
);

46635 ià(
	gxM
>=0 || 
xm
<=
w1
) {

46637 
cxm
 = 
cimg
::
cut
(
xm
,0,
w1
),

46638 
	gcxM
 = 
cimg
::
cut
(
xM
,0,
w1
);

46639 
T
 *
	g±rd
 = 
d©a
(
cxm
,
y
);

46640 cÚ¡ 
	gdxmM
 = 
¡d
::
max
(1,
xM
 - 
xm
);

46641 cÚ¡ 
	gdizmM
 = 
izM
 - 
izm
, 
	gdtxzmM
 = 
txzM
 - 
txzm
, 
	gdtyzmM
 = 
tyzM
 - 
tyzm
, 
	gdbsmM
 = 
bsM
 - 
bsm
;

46643 
	gx
 = 
cxm
; x<
	gcxM
; ++x) {

46644 cÚ¡ 
	gxxm
 = 
x
 - 
xm
;

46646 
	giz
 = 
izm
 + 
dizmM
*
xxm
/
dxmM
,

46647 
	gtxz
 = 
txzm
 + 
dtxzmM
*
xxm
/
dxmM
,

46648 
	gtyz
 = 
tyzm
 + 
dtyzmM
*
xxm
/
dxmM
,

46649 
	gcbs
 = 
cimg
::
cut
(
bsm
 + 
dbsmM
*
xxm
/
dxmM
,0,2);

46651 
	gtx
 = ()
cimg
::
round
(
txz
/
iz
),

46652 
	gty
 = ()
cimg
::
round
(
tyz
/
iz
);

46653 cÚ¡ 
tc
 *cÚ¡ 
	gcŞÜ
 = &
‹xtu»
.
_©XY
(
tx
,
ty
);

46654 
cimg_fÜC
(*
this
,
c
) {

46655 cÚ¡ 
tc
 
	gcŞ
 = 
cŞÜ
[
c
*
twhd
];

46656 cÚ¡ 
Tæßt
 
	gv®
 = 
cbs
<=1?cbs*
cŞ
:(2 - cbs)*cŞ + (cb - 1)*
_sc_maxv®
;

46657 
	g±rd
[
c
*
_sc_whd
] = (
T
)(
İac™y
>=1?
v®
:v®*
_sc_nİac™y
 + 
±rd
[c*_sc_whd]*
_sc_cİac™y
);

46659 ++
	g±rd
;

46663  *
	gthis
;

46667 
	g‹m¶©e
<
ty³Çme
 
	gtz
,y³Çm
	gtc
>

46668 
	gCImg
<
	gT
>& 
d¿w_ŒŸngË
(
CImg
<
tz
>& 
zbufãr
,

46669 
x0
, 
y0
, cÚ¡ 
z0
,

46670 
x1
, 
y1
, cÚ¡ 
z1
,

46671 
x2
, 
y2
, cÚ¡ 
z2
,

46672 cÚ¡ 
CImg
<
tc
>& 
‹xtu»
,

46673 
tx0
, 
ty0
,

46674 
tx1
, 
ty1
,

46675 
tx2
, 
ty2
,

46676 
bs0
,

46677 
bs1
,

46678 
bs2
,

46679 cÚ¡ 
İac™y
=1) {

46680 ià(
is_em±y
(è|| 
z0
<=0 || 
z1
<=0 || 
z2
<=0è *
this
;

46681 ià(!
is_§meXY
(
zbufãr
))

46682 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


46685 
cimg_š¡ªû
,

46686 
zbufãr
.
_width
,zbufãr.
_height
,zbufãr.
_d•th
,zbufãr.
_¥eùrum
,zbufãr.
_d©a
);

46687 ià(
	g‹xtu»
.
	g_d•th
>1 ||extu».
	g_¥eùrum
<_spectrum)

46688 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


46690 
cimg_š¡ªû
,

46691 
‹xtu»
.
_width
,‹xtu».
_height
,‹xtu».
_d•th
,‹xtu».
_¥eùrum
,‹xtu».
_d©a
);

46692 ià(
is_ov”Ïµed
(
‹xtu»
))

46693  
d¿w_ŒŸngË
(
zbufãr
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,+
‹xtu»
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
bs0
,
bs1
,
bs2
,
İac™y
);

46695 
	giz0
 = 1/
z0
, 
	giz1
 = 1/
z1
, 
	giz2
 = 1/
z2
;

46696 ià(
	gy0
>
	gy1
è
	gcimg
::
sw­
(
x0
,
x1
,
y0
,
y1
,
iz0
,
iz1
,
tx0
,
tx1
,
ty0
,
ty1
,
bs0
,
bs1
);

46697 ià(
	gy0
>
	gy2
è
	gcimg
::
sw­
(
x0
,
x2
,
y0
,
y2
,
iz0
,
iz2
,
tx0
,
tx2
,
ty0
,
ty2
,
bs0
,
bs2
);

46698 ià(
	gy1
>
	gy2
è
	gcimg
::
sw­
(
x1
,
x2
,
y1
,
y2
,
iz1
,
iz2
,
tx1
,
tx2
,
ty1
,
ty2
,
bs1
,
bs2
);

46699 ià(
	gy2
<0 || 
	gy0
>=
height
(è|| 
cimg
::
mš
(
x0
,
x1
,
x2
)>=
width
(è|| cimg::
max
(x0,x1,x2)<0 || !
	gİac™y
è *
	gthis
;

46702 
	gw1
 = 
width
(è- 1, 
	gh1
 = 
height
() - 1,

46703 
	gdx01
 = 
x1
 - 
x0
, 
	gdx02
 = 
x2
 - x0, 
	gdx12
 = x2 - x1,

46704 
	gdy01
 = 
¡d
::
max
(1,
y1
 - 
y0
), 
	gdy02
 = std::max(1,
y2
 - y0), 
	gdy12
 = std::max(1,y2 - y1),

46705 
	gcy0
 = 
cimg
::
cut
(
y0
,0,
h1
), 
	gcy2
 = cimg::cut(
y2
,0,h1),

46706 
	ghdy01
 = 
dy01
*
cimg
::
sign
(
dx01
)/2, 
	ghdy02
 = 
dy02
*cimg::sign(
dx02
)/2, 
	ghdy12
 = 
dy12
*cimg::sign(
dx12
)/2;

46708 
	gdiz01
 = 
iz1
 - 
iz0
, 
	gdiz02
 = 
iz2
 - iz0, 
	gdiz12
 = iz2 - iz1,

46709 
	gtxz0
 = 
tx0
*
iz0
, 
	gtxz1
 = 
tx1
*
iz1
, 
	gtxz2
 = 
tx2
*
iz2
,

46710 
	gtyz0
 = 
ty0
*
iz0
, 
	gtyz1
 = 
ty1
*
iz1
, 
	gtyz2
 = 
ty2
*
iz2
,

46711 
	gdtxz01
 = 
txz1
 - 
txz0
, 
	gdtxz02
 = 
txz2
 -xz0, 
	gdtxz12
 =xz2 -xz1,

46712 
	gdtyz01
 = 
tyz1
 - 
tyz0
, 
	gdtyz02
 = 
tyz2
 -yz0, 
	gdtyz12
 =yz2 -yz1,

46713 
	gdbs01
 = 
bs1
 - 
bs0
, 
	gdbs02
 = 
bs2
 - bs0, 
	gdbs12
 = bs2 - bs1;

46715 cÚ¡ 
ulÚgT
 
	gtwhd
 = (ulÚgT)
‹xtu»
.
_width
*‹xtu».
_height
*‹xtu».
_d•th
;

46716 
cimg_š™_sÿÆše
(
İac™y
);

46718 
	gy
 = 
cy0
; y<=
cy2
; ++y) {

46719 cÚ¡ 
	gyy0
 = 
y
 - 
y0
, 
	gyy1
 = y - 
y1
;

46721 
	gxm
 = 
y
<
y1
?
x0
 + (
dx01
*
yy0
 + 
hdy01
)/
dy01
:
x1
 + (
dx12
*
yy1
 + 
hdy12
)/
dy12
,

46722 
	gxM
 = 
x0
 + (
dx02
*
yy0
 + 
hdy02
)/
dy02
;

46724 
	gizm
 = 
y
<
y1
?(
iz0
 + 
diz01
*
yy0
/
dy01
):(
iz1
 + 
diz12
*
yy1
/
dy12
),

46725 
	gizM
 = 
iz0
 + 
diz02
*
yy0
/
dy02
,

46726 
	gtxzm
 = 
y
<
y1
?(
txz0
 + 
dtxz01
*
yy0
/
dy01
):(
txz1
 + 
dtxz12
*
yy1
/
dy12
),

46727 
	gtxzM
 = 
txz0
 + 
dtxz02
*
yy0
/
dy02
,

46728 
	gtyzm
 = 
y
<
y1
?(
tyz0
 + 
dtyz01
*
yy0
/
dy01
):(
tyz1
 + 
dtyz12
*
yy1
/
dy12
),

46729 
	gtyzM
 = 
tyz0
 + 
dtyz02
*
yy0
/
dy02
,

46730 
	gbsm
 = 
y
<
y1
?(
bs0
 + 
dbs01
*
yy0
/
dy01
):(
bs1
 + 
dbs12
*
yy1
/
dy12
),

46731 
	gbsM
 = 
bs0
 + 
dbs02
*
yy0
/
dy02
;

46732 ià(
	gxm
>
	gxM
è
	gcimg
::
sw­
(
xm
,
xM
,
txzm
,
txzM
,
tyzm
,
tyzM
,
izm
,
izM
,
bsm
,
bsM
);

46733 ià(
	gxM
>=0 || 
xm
<=
w1
) {

46735 
cxm
 = 
cimg
::
cut
(
xm
,0,
w1
),

46736 
	gcxM
 = 
cimg
::
cut
(
xM
,0,
w1
);

46737 
T
 *
	g±rd
 = 
d©a
(
cxm
,
y
);

46738 
tz
 *
	g±rz
 = 
zbufãr
.
d©a
(
cxm
,
y
);

46739 cÚ¡ 
	gdxmM
 = 
¡d
::
max
(1,
xM
 - 
xm
);

46740 cÚ¡ 
	gdizmM
 = 
izM
 - 
izm
, 
	gdtxzmM
 = 
txzM
 - 
txzm
, 
	gdtyzmM
 = 
tyzM
 - 
tyzm
, 
	gdbsmM
 = 
bsM
 - 
bsm
;

46742 
	gx
 = 
cxm
; x<
	gcxM
; ++x) {

46743 cÚ¡ 
	gxxm
 = 
x
 - 
xm
;

46744 cÚ¡ 
	giz
 = 
izm
 + 
dizmM
*
xxm
/
dxmM
;

46745 ià(
	giz
>=*
±rz
) {

46746 *
±rz
 = (
tz
)
iz
;

46748 
	gtxz
 = 
txzm
 + 
dtxzmM
*
xxm
/
dxmM
,

46749 
	gtyz
 = 
tyzm
 + 
dtyzmM
*
xxm
/
dxmM
,

46750 
	gcbs
 = 
cimg
::
cut
(
bsm
 + 
dbsmM
*
xxm
/
dxmM
,0,2);

46752 
	gtx
 = ()
cimg
::
round
(
txz
/
iz
),

46753 
	gty
 = ()
cimg
::
round
(
tyz
/
iz
);

46754 cÚ¡ 
tc
 *cÚ¡ 
	gcŞÜ
 = &
‹xtu»
.
_©XY
(
tx
,
ty
);

46755 
cimg_fÜC
(*
this
,
c
) {

46756 cÚ¡ 
tc
 
	gcŞ
 = 
cŞÜ
[
c
*
twhd
];

46757 cÚ¡ 
Tæßt
 
	gv®
 = 
cbs
<=1?cbs*
cŞ
:(2 - cbs)*cŞ + (cb - 1)*
_sc_maxv®
;

46758 
	g±rd
[
c
*
_sc_whd
] = (
T
)(
İac™y
>=1?
v®
:v®*
_sc_nİac™y
 + 
±rd
[c*_sc_whd]*
_sc_cİac™y
);

46761 ++
	g±rd
; ++
	g±rz
;

46765  *
	gthis
;

46792 
	g‹m¶©e
<
ty³Çme
 
	gtc
,y³Çm
	g
>

46793 
	gCImg
<
	gT
>& 
d¿w_ŒŸngË
(
x0
, 
y0
,

46794 
x1
, 
y1
,

46795 
x2
, 
y2
,

46796 cÚ¡ 
CImg
<
tc
>& 
‹xtu»
,

46797 
tx0
, 
ty0
,

46798 
tx1
, 
ty1
,

46799 
tx2
, 
ty2
,

46800 cÚ¡ 
CImg
<

>& 
light
,

46801 
lx0
, 
ly0
,

46802 
lx1
, 
ly1
,

46803 
lx2
, 
ly2
,

46804 cÚ¡ 
İac™y
=1) {

46805 ià(
is_em±y
()è *
this
;

46806 ià(
	g‹xtu»
.
	g_d•th
>1 ||extu».
	g_¥eùrum
<_spectrum)

46807 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


46809 
cimg_š¡ªû
,

46810 
‹xtu»
.
_width
,‹xtu».
_height
,‹xtu».
_d•th
,‹xtu».
_¥eùrum
,‹xtu».
_d©a
);

46811 ià(
	glight
.
	g_d•th
>1 ||†ight.
	g_¥eùrum
<_spectrum)

46812 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


46814 
cimg_š¡ªû
,
light
.
_width
,light.
_height
,light.
_d•th
,light.
_¥eùrum
,light.
_d©a
);

46815 ià(
is_ov”Ïµed
(
‹xtu»
))

46816  
d¿w_ŒŸngË
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,+
‹xtu»
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
light
,
lx0
,
ly0
,
lx1
,
ly1
,
lx2
,
ly2
,
İac™y
);

46817 ià(
is_ov”Ïµed
(
light
))

46818  
d¿w_ŒŸngË
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,
‹xtu»
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,+
light
,
lx0
,
ly0
,
lx1
,
ly1
,
lx2
,
ly2
,
İac™y
);

46820 ià(
	gy0
>
	gy1
è
	gcimg
::
sw­
(
x0
,
x1
,
y0
,
y1
,
tx0
,
tx1
,
ty0
,
ty1
,
lx0
,
lx1
,
ly0
,
ly1
);

46821 ià(
	gy0
>
	gy2
è
	gcimg
::
sw­
(
x0
,
x2
,
y0
,
y2
,
tx0
,
tx2
,
ty0
,
ty2
,
lx0
,
lx2
,
ly0
,
ly2
);

46822 ià(
	gy1
>
	gy2
è
	gcimg
::
sw­
(
x1
,
x2
,
y1
,
y2
,
tx1
,
tx2
,
ty1
,
ty2
,
lx1
,
lx2
,
ly1
,
ly2
);

46823 ià(
	gy2
<0 || 
	gy0
>=
height
(è|| 
cimg
::
mš
(
x0
,
x1
,
x2
)>=
width
(è|| cimg::
max
(x0,x1,x2)<0 || !
	gİac™y
è *
	gthis
;

46826 
	gw1
 = 
width
(è- 1, 
	gh1
 = 
height
() - 1,

46827 
	gdx01
 = 
x1
 - 
x0
, 
	gdx02
 = 
x2
 - x0, 
	gdx12
 = x2 - x1,

46828 
	gdy01
 = 
¡d
::
max
(1,
y1
 - 
y0
), 
	gdy02
 = std::max(1,
y2
 - y0), 
	gdy12
 = std::max(1,y2 - y1),

46829 
	gcy0
 = 
cimg
::
cut
(
y0
,0,
h1
), 
	gcy2
 = cimg::cut(
y2
,0,h1),

46830 
	ghdy01
 = 
dy01
*
cimg
::
sign
(
dx01
)/2, 
	ghdy02
 = 
dy02
*cimg::sign(
dx02
)/2, 
	ghdy12
 = 
dy12
*cimg::sign(
dx12
)/2,

46831 
	gdtx01
 = 
tx1
 - 
tx0
, 
	gdtx02
 = 
tx2
 -x0, 
	gdtx12
 =x2 -x1,

46832 
	gdty01
 = 
ty1
 - 
ty0
, 
	gdty02
 = 
ty2
 -y0, 
	gdty12
 =y2 -y1,

46833 
	ghdy01tx
 = 
dy01
*
cimg
::
sign
(
dtx01
)/2, 
	ghdy02tx
 = 
dy02
*cimg::sign(
dtx02
)/2, 
	ghdy12tx
 = 
dy12
*cimg::sign(
dtx12
)/2,

46834 
	ghdy01ty
 = 
dy01
*
cimg
::
sign
(
dty01
)/2, 
	ghdy02ty
 = 
dy02
*cimg::sign(
dty02
)/2, 
	ghdy12ty
 = 
dy12
*cimg::sign(
dty12
)/2,

46835 
	gdlx01
 = 
lx1
 - 
lx0
, 
	gdlx02
 = 
lx2
 -†x0, 
	gdlx12
 =†x2 -†x1,

46836 
	gdly01
 = 
ly1
 - 
ly0
, 
	gdly02
 = 
ly2
 -†y0, 
	gdly12
 =†y2 -†y1,

46837 
	ghdy01lx
 = 
dy01
*
cimg
::
sign
(
dlx01
)/2, 
	ghdy02lx
 = 
dy02
*cimg::sign(
dlx02
)/2, 
	ghdy12lx
 = 
dy12
*cimg::sign(
dlx12
)/2,

46838 
	ghdy01ly
 = 
dy01
*
cimg
::
sign
(
dly01
)/2, 
	ghdy02ly
 = 
dy02
*cimg::sign(
dly02
)/2, 
	ghdy12ly
 = 
dy12
*cimg::sign(
dly12
)/2;

46840 cÚ¡ 
ulÚgT


46841 
	gtwhd
 = (
ulÚgT
)
‹xtu»
.
_width
*‹xtu».
_height
*‹xtu».
_d•th
,

46842 
	glwhd
 = (
ulÚgT
)
light
.
_width
*light.
_height
*light.
_d•th
;

46843 
cimg_š™_sÿÆše
(
İac™y
);

46845 
	gy
 = 
cy0
; y<=
cy2
; ++y) {

46846 cÚ¡ 
	gyy0
 = 
y
 - 
y0
, 
	gyy1
 = y - 
y1
;

46848 
	gxm
 = 
y
<
y1
?
x0
 + (
dx01
*
yy0
 + 
hdy01
)/
dy01
:
x1
 + (
dx12
*
yy1
 + 
hdy12
)/
dy12
,

46849 
	gxM
 = 
x0
 + (
dx02
*
yy0
 + 
hdy02
)/
dy02
,

46850 
	gtxm
 = 
y
<
y1
?
tx0
 + (
dtx01
*
yy0
 + 
hdy01tx
)/
dy01
:
tx1
 + (
dtx12
*
yy1
 + 
hdy12tx
)/
dy12
,

46851 
	gtxM
 = 
tx0
 + (
dtx02
*
yy0
 + 
hdy02tx
)/
dy02
,

46852 
	gtym
 = 
y
<
y1
?
ty0
 + (
dty01
*
yy0
 + 
hdy01ty
)/
dy01
:
ty1
 + (
dty12
*
yy1
 + 
hdy12ty
)/
dy12
,

46853 
	gtyM
 = 
ty0
 + (
dty02
*
yy0
 + 
hdy02ty
)/
dy02
,

46854 
	glxm
 = 
y
<
y1
?
lx0
 + (
dlx01
*
yy0
 + 
hdy01lx
)/
dy01
:
lx1
 + (
dlx12
*
yy1
 + 
hdy12lx
)/
dy12
,

46855 
	glxM
 = 
lx0
 + (
dlx02
*
yy0
 + 
hdy02lx
)/
dy02
,

46856 
	glym
 = 
y
<
y1
?
ly0
 + (
dly01
*
yy0
 + 
hdy01ly
)/
dy01
:
ly1
 + (
dly12
*
yy1
 + 
hdy12ly
)/
dy12
,

46857 
	glyM
 = 
ly0
 + (
dly02
*
yy0
 + 
hdy02ly
)/
dy02
;

46858 ià(
	gxm
>
	gxM
è
	gcimg
::
sw­
(
xm
,
xM
,
txm
,
txM
,
tym
,
tyM
,
lxm
,
lxM
,
lym
,
lyM
);

46859 ià(
	gxM
>=0 || 
xm
<=
w1
) {

46861 
cxm
 = 
cimg
::
cut
(
xm
,0,
w1
),

46862 
	gcxM
 = 
cimg
::
cut
(
xM
,0,
w1
);

46863 
T
 *
	g±rd
 = 
d©a
(
cxm
,
y
);

46865 
	gdxmM
 = 
¡d
::
max
(1,
xM
 - 
xm
), 
	ghdxmM
 = 
dxmM
/2,

46866 
	gdtxmM
 = 
txM
 - 
txm
, 
	gdtymM
 = 
tyM
 - 
tym
,

46867 
	gdlxmM
 = 
lxM
 - 
lxm
, 
	gdlymM
 = 
lyM
 - 
lym
;

46869 
	gx
 = 
cxm
; x<
	gcxM
; ++x) {

46871 
	gxxm
 = 
x
 - 
xm
,

46872 
	gtx
 = (
txm
*
dxmM
 + 
dtxmM
*
xxm
 + 
hdxmM
)/dxmM,

46873 
	gty
 = (
tym
*
dxmM
 + 
dtymM
*
xxm
 + 
hdxmM
)/dxmM,

46874 
	glx
 = (
lxm
*
dxmM
 + 
dlxmM
*
xxm
 + 
hdxmM
)/dxmM,

46875 
	gly
 = (
lym
*
dxmM
 + 
dlymM
*
xxm
 + 
hdxmM
)/dxmM;

46876 cÚ¡ 
tc
 *cÚ¡ 
	gcŞÜ
 = &
‹xtu»
.
_©XY
(
tx
,
ty
);

46877 cÚ¡ 

 *cÚ¡ 
	glig
 = &
light
.
_©XY
(
lx
,
ly
);

46878 
cimg_fÜC
(*
this
,
c
) {

46879 cÚ¡ 
tc
 
	gcŞ
 = 
cŞÜ
[
c
*
twhd
];

46880 cÚ¡ 
	gcbs
 = 
cimg
::
cut
(()
lig
[
c
*
lwhd
],0,2);

46881 cÚ¡ 
Tæßt
 
	gv®
 = 
cbs
<=1?cbs*
cŞ
:(2 - cbs)*cŞ + (cb - 1)*
_sc_maxv®
;

46882 
	g±rd
[
c
*
_sc_whd
] = (
T
)(
İac™y
>=1?
v®
:v®*
_sc_nİac™y
 + 
±rd
[c*_sc_whd]*
_sc_cİac™y
);

46884 ++
	g±rd
;

46888  *
	gthis
;

46892 
	g‹m¶©e
<
ty³Çme
 
	gtc
,y³Çm
	g
>

46893 
	gCImg
<
	gT
>& 
d¿w_ŒŸngË
(
x0
, 
y0
, cÚ¡ 
z0
,

46894 
x1
, 
y1
, cÚ¡ 
z1
,

46895 
x2
, 
y2
, cÚ¡ 
z2
,

46896 cÚ¡ 
CImg
<
tc
>& 
‹xtu»
,

46897 
tx0
, 
ty0
,

46898 
tx1
, 
ty1
,

46899 
tx2
, 
ty2
,

46900 cÚ¡ 
CImg
<

>& 
light
,

46901 
lx0
, 
ly0
,

46902 
lx1
, 
ly1
,

46903 
lx2
, 
ly2
,

46904 cÚ¡ 
İac™y
=1) {

46905 ià(
is_em±y
(è|| 
z0
<=0 || 
z1
<=0 || 
z2
<=0è *
this
;

46906 ià(
	g‹xtu»
.
	g_d•th
>1 ||extu».
	g_¥eùrum
<_spectrum)

46907 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


46909 
cimg_š¡ªû
,

46910 
‹xtu»
.
_width
,‹xtu».
_height
,‹xtu».
_d•th
,‹xtu».
_¥eùrum
,‹xtu».
_d©a
);

46911 ià(
	glight
.
	g_d•th
>1 ||†ight.
	g_¥eùrum
<_spectrum)

46912 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


46914 
cimg_š¡ªû
,
light
.
_width
,light.
_height
,light.
_d•th
,light.
_¥eùrum
,light.
_d©a
);

46915 ià(
is_ov”Ïµed
(
‹xtu»
))

46916  
d¿w_ŒŸngË
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,+
‹xtu»
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,

46917 
light
,
lx0
,
ly0
,
lx1
,
ly1
,
lx2
,
ly2
,
İac™y
);

46918 ià(
is_ov”Ïµed
(
light
))

46919  
d¿w_ŒŸngË
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
‹xtu»
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,

46920 +
light
,
lx0
,
ly0
,
lx1
,
ly1
,
lx2
,
ly2
,
İac™y
);

46922 
	giz0
 = 1/
z0
, 
	giz1
 = 1/
z1
, 
	giz2
 = 1/
z2
;

46923 ià(
	gy0
>
	gy1
è
	gcimg
::
sw­
(
x0
,
x1
,
y0
,
y1
,
iz0
,
iz1
,
tx0
,
tx1
,
ty0
,
ty1
,
lx0
,
lx1
,
ly0
,
ly1
);

46924 ià(
	gy0
>
	gy2
è
	gcimg
::
sw­
(
x0
,
x2
,
y0
,
y2
,
iz0
,
iz2
,
tx0
,
tx2
,
ty0
,
ty2
,
lx0
,
lx2
,
ly0
,
ly2
);

46925 ià(
	gy1
>
	gy2
è
	gcimg
::
sw­
(
x1
,
x2
,
y1
,
y2
,
iz1
,
iz2
,
tx1
,
tx2
,
ty1
,
ty2
,
lx1
,
lx2
,
ly1
,
ly2
);

46926 ià(
	gy2
<0 || 
	gy0
>=
height
(è|| 
cimg
::
mš
(
x0
,
x1
,
x2
)>=
width
(è|| cimg::
max
(x0,x1,x2)<0 || !
	gİac™y
è *
	gthis
;

46929 
	gw1
 = 
width
(è- 1, 
	gh1
 = 
height
() - 1,

46930 
	gdx01
 = 
x1
 - 
x0
, 
	gdx02
 = 
x2
 - x0, 
	gdx12
 = x2 - x1,

46931 
	gdy01
 = 
¡d
::
max
(1,
y1
 - 
y0
), 
	gdy02
 = std::max(1,
y2
 - y0), 
	gdy12
 = std::max(1,y2 - y1),

46932 
	gcy0
 = 
cimg
::
cut
(
y0
,0,
h1
), 
	gcy2
 = cimg::cut(
y2
,0,h1),

46933 
	ghdy01
 = 
dy01
*
cimg
::
sign
(
dx01
)/2, 
	ghdy02
 = 
dy02
*cimg::sign(
dx02
)/2, 
	ghdy12
 = 
dy12
*cimg::sign(
dx12
)/2;

46935 
	gdiz01
 = 
iz1
 - 
iz0
, 
	gdiz02
 = 
iz2
 - iz0, 
	gdiz12
 = iz2 - iz1,

46936 
	gtxz0
 = 
tx0
*
iz0
, 
	gtxz1
 = 
tx1
*
iz1
, 
	gtxz2
 = 
tx2
*
iz2
,

46937 
	gtyz0
 = 
ty0
*
iz0
, 
	gtyz1
 = 
ty1
*
iz1
, 
	gtyz2
 = 
ty2
*
iz2
,

46938 
	gdtxz01
 = 
txz1
 - 
txz0
, 
	gdtxz02
 = 
txz2
 -xz0, 
	gdtxz12
 =xz2 -xz1,

46939 
	gdtyz01
 = 
tyz1
 - 
tyz0
, 
	gdtyz02
 = 
tyz2
 -yz0, 
	gdtyz12
 =yz2 -yz1,

46940 
	glxz0
 = 
lx0
*
iz0
, 
	glxz1
 = 
lx1
*
iz1
, 
	glxz2
 = 
lx2
*
iz2
,

46941 
	glyz0
 = 
ly0
*
iz0
, 
	glyz1
 = 
ly1
*
iz1
, 
	glyz2
 = 
ly2
*
iz2
,

46942 
	gdlxz01
 = 
lxz1
 - 
lxz0
, 
	gdlxz02
 = 
lxz2
 -†xz0, 
	gdlxz12
 =†xz2 -†xz1,

46943 
	gdlyz01
 = 
lyz1
 - 
lyz0
, 
	gdlyz02
 = 
lyz2
 -†yz0, 
	gdlyz12
 =†yz2 -†yz1;

46945 cÚ¡ 
ulÚgT


46946 
	gtwhd
 = (
ulÚgT
)
‹xtu»
.
_width
*‹xtu».
_height
*‹xtu».
_d•th
,

46947 
	glwhd
 = (
ulÚgT
)
light
.
_width
*light.
_height
*light.
_d•th
;

46948 
cimg_š™_sÿÆše
(
İac™y
);

46950 
	gy
 = 
cy0
; y<=
cy2
; ++y) {

46951 cÚ¡ 
	gyy0
 = 
y
 - 
y0
, 
	gyy1
 = y - 
y1
;

46953 
	gxm
 = 
y
<
y1
?
x0
 + (
dx01
*
yy0
 + 
hdy01
)/
dy01
:
x1
 + (
dx12
*
yy1
 + 
hdy12
)/
dy12
,

46954 
	gxM
 = 
x0
 + (
dx02
*
yy0
 + 
hdy02
)/
dy02
;

46956 
	gizm
 = 
y
<
y1
?(
iz0
 + 
diz01
*
yy0
/
dy01
):(
iz1
 + 
diz12
*
yy1
/
dy12
),

46957 
	gizM
 = 
iz0
 + 
diz02
*
yy0
/
dy02
,

46958 
	gtxzm
 = 
y
<
y1
?(
txz0
 + 
dtxz01
*
yy0
/
dy01
):(
txz1
 + 
dtxz12
*
yy1
/
dy12
),

46959 
	gtxzM
 = 
txz0
 + 
dtxz02
*
yy0
/
dy02
,

46960 
	gtyzm
 = 
y
<
y1
?(
tyz0
 + 
dtyz01
*
yy0
/
dy01
):(
tyz1
 + 
dtyz12
*
yy1
/
dy12
),

46961 
	gtyzM
 = 
tyz0
 + 
dtyz02
*
yy0
/
dy02
,

46962 
	glxzm
 = 
y
<
y1
?(
lxz0
 + 
dlxz01
*
yy0
/
dy01
):(
lxz1
 + 
dlxz12
*
yy1
/
dy12
),

46963 
	glxzM
 = 
lxz0
 + 
dlxz02
*
yy0
/
dy02
,

46964 
	glyzm
 = 
y
<
y1
?(
lyz0
 + 
dlyz01
*
yy0
/
dy01
):(
lyz1
 + 
dlyz12
*
yy1
/
dy12
),

46965 
	glyzM
 = 
lyz0
 + 
dlyz02
*
yy0
/
dy02
;

46966 ià(
	gxm
>
	gxM
è
	gcimg
::
sw­
(
xm
,
xM
,
izm
,
izM
,
txzm
,
txzM
,
tyzm
,
tyzM
,
lxzm
,
lxzM
,
lyzm
,
lyzM
);

46967 ià(
	gxM
>=0 || 
xm
<=
w1
) {

46969 
cxm
 = 
cimg
::
cut
(
xm
,0,
w1
),

46970 
	gcxM
 = 
cimg
::
cut
(
xM
,0,
w1
);

46971 
T
 *
	g±rd
 = 
d©a
(
cxm
,
y
);

46972 cÚ¡ 
	gdxmM
 = 
¡d
::
max
(1,
xM
 - 
xm
);

46974 
	gdizmM
 = 
izM
 - 
izm
,

46975 
	gdtxzmM
 = 
txzM
 - 
txzm
, 
	gdtyzmM
 = 
tyzM
 - 
tyzm
,

46976 
	gdlxzmM
 = 
lxzM
 - 
lxzm
, 
	gdlyzmM
 = 
lyzM
 - 
lyzm
;

46978 
	gx
 = 
cxm
; x<
	gcxM
; ++x) {

46979 cÚ¡ 
	gxxm
 = 
x
 - 
xm
;

46981 
	giz
 = 
izm
 + 
dizmM
*
xxm
/
dxmM
,

46982 
	gtxz
 = 
txzm
 + 
dtxzmM
*
xxm
/
dxmM
,

46983 
	gtyz
 = 
tyzm
 + 
dtyzmM
*
xxm
/
dxmM
,

46984 
	glxz
 = 
lxzm
 + 
dlxzmM
*
xxm
/
dxmM
,

46985 
	glyz
 = 
lyzm
 + 
dlyzmM
*
xxm
/
dxmM
;

46987 
	gtx
 = ()
cimg
::
round
(
txz
/
iz
),

46988 
	gty
 = ()
cimg
::
round
(
tyz
/
iz
),

46989 
	glx
 = ()
cimg
::
round
(
lxz
/
iz
),

46990 
	gly
 = ()
cimg
::
round
(
lyz
/
iz
);

46991 cÚ¡ 
tc
 *cÚ¡ 
	gcŞÜ
 = &
‹xtu»
.
_©XY
(
tx
,
ty
);

46992 cÚ¡ 

 *cÚ¡ 
	glig
 = &
light
.
_©XY
(
lx
,
ly
);

46993 
cimg_fÜC
(*
this
,
c
) {

46994 cÚ¡ 
tc
 
	gcŞ
 = 
cŞÜ
[
c
*
twhd
];

46995 cÚ¡ 
	gcbs
 = 
cimg
::
cut
(()
lig
[
c
*
lwhd
],0,2);

46996 cÚ¡ 
Tæßt
 
	gv®
 = 
cbs
<=1?cbs*
cŞ
:(2 - cbs)*cŞ + (cb - 1)*
_sc_maxv®
;

46997 
	g±rd
[
c
*
_sc_whd
] = (
T
)(
İac™y
>=1?
v®
:v®*
_sc_nİac™y
 + 
±rd
[c*_sc_whd]*
_sc_cİac™y
);

46999 ++
	g±rd
;

47003  *
	gthis
;

47007 
	g‹m¶©e
<
ty³Çme
 
	gtz
,y³Çm
	gtc
,y³Çm
	g
>

47008 
	gCImg
<
	gT
>& 
d¿w_ŒŸngË
(
CImg
<
tz
>& 
zbufãr
,

47009 
x0
, 
y0
, cÚ¡ 
z0
,

47010 
x1
, 
y1
, cÚ¡ 
z1
,

47011 
x2
, 
y2
, cÚ¡ 
z2
,

47012 cÚ¡ 
CImg
<
tc
>& 
‹xtu»
,

47013 
tx0
, 
ty0
,

47014 
tx1
, 
ty1
,

47015 
tx2
, 
ty2
,

47016 cÚ¡ 
CImg
<

>& 
light
,

47017 
lx0
, 
ly0
,

47018 
lx1
, 
ly1
,

47019 
lx2
, 
ly2
,

47020 cÚ¡ 
İac™y
=1) {

47021 ià(
is_em±y
(è|| 
z0
<=0 || 
z1
<=0 || 
z2
<=0è *
this
;

47022 ià(!
is_§meXY
(
zbufãr
))

47023 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


47026 
cimg_š¡ªû
,

47027 
zbufãr
.
_width
,zbufãr.
_height
,zbufãr.
_d•th
,zbufãr.
_¥eùrum
,zbufãr.
_d©a
);

47028 ià(
	g‹xtu»
.
	g_d•th
>1 ||extu».
	g_¥eùrum
<_spectrum)

47029 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


47031 
cimg_š¡ªû
,

47032 
‹xtu»
.
_width
,‹xtu».
_height
,‹xtu».
_d•th
,‹xtu».
_¥eùrum
,‹xtu».
_d©a
);

47033 ià(
	glight
.
	g_d•th
>1 ||†ight.
	g_¥eùrum
<_spectrum)

47034 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


47036 
cimg_š¡ªû
,
light
.
_width
,light.
_height
,light.
_d•th
,light.
_¥eùrum
,light.
_d©a
);

47037 ià(
is_ov”Ïµed
(
‹xtu»
))

47038  
d¿w_ŒŸngË
(
zbufãr
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,

47039 +
‹xtu»
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
light
,
lx0
,
ly0
,
lx1
,
ly1
,
lx2
,
ly2
,
İac™y
);

47040 ià(
is_ov”Ïµed
(
light
))

47041  
d¿w_ŒŸngË
(
zbufãr
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,

47042 
‹xtu»
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,+
light
,
lx0
,
ly0
,
lx1
,
ly1
,
lx2
,
ly2
,
İac™y
);

47044 
	giz0
 = 1/
z0
, 
	giz1
 = 1/
z1
, 
	giz2
 = 1/
z2
;

47045 ià(
	gy0
>
	gy1
è
	gcimg
::
sw­
(
x0
,
x1
,
y0
,
y1
,
iz0
,
iz1
,
tx0
,
tx1
,
ty0
,
ty1
,
lx0
,
lx1
,
ly0
,
ly1
);

47046 ià(
	gy0
>
	gy2
è
	gcimg
::
sw­
(
x0
,
x2
,
y0
,
y2
,
iz0
,
iz2
,
tx0
,
tx2
,
ty0
,
ty2
,
lx0
,
lx2
,
ly0
,
ly2
);

47047 ià(
	gy1
>
	gy2
è
	gcimg
::
sw­
(
x1
,
x2
,
y1
,
y2
,
iz1
,
iz2
,
tx1
,
tx2
,
ty1
,
ty2
,
lx1
,
lx2
,
ly1
,
ly2
);

47048 ià(
	gy2
<0 || 
	gy0
>=
height
(è|| 
cimg
::
mš
(
x0
,
x1
,
x2
)>=
width
(è|| cimg::
max
(x0,x1,x2)<0 || !
	gİac™y
è *
	gthis
;

47051 
	gw1
 = 
width
(è- 1, 
	gh1
 = 
height
() - 1,

47052 
	gdx01
 = 
x1
 - 
x0
, 
	gdx02
 = 
x2
 - x0, 
	gdx12
 = x2 - x1,

47053 
	gdy01
 = 
¡d
::
max
(1,
y1
 - 
y0
), 
	gdy02
 = std::max(1,
y2
 - y0), 
	gdy12
 = std::max(1,y2 - y1),

47054 
	gcy0
 = 
cimg
::
cut
(
y0
,0,
h1
), 
	gcy2
 = cimg::cut(
y2
,0,h1),

47055 
	ghdy01
 = 
dy01
*
cimg
::
sign
(
dx01
)/2, 
	ghdy02
 = 
dy02
*cimg::sign(
dx02
)/2, 
	ghdy12
 = 
dy12
*cimg::sign(
dx12
)/2;

47057 
	gdiz01
 = 
iz1
 - 
iz0
, 
	gdiz02
 = 
iz2
 - iz0, 
	gdiz12
 = iz2 - iz1,

47058 
	gtxz0
 = 
tx0
*
iz0
, 
	gtxz1
 = 
tx1
*
iz1
, 
	gtxz2
 = 
tx2
*
iz2
,

47059 
	gtyz0
 = 
ty0
*
iz0
, 
	gtyz1
 = 
ty1
*
iz1
, 
	gtyz2
 = 
ty2
*
iz2
,

47060 
	gdtxz01
 = 
txz1
 - 
txz0
, 
	gdtxz02
 = 
txz2
 -xz0, 
	gdtxz12
 =xz2 -xz1,

47061 
	gdtyz01
 = 
tyz1
 - 
tyz0
, 
	gdtyz02
 = 
tyz2
 -yz0, 
	gdtyz12
 =yz2 -yz1,

47062 
	glxz0
 = 
lx0
*
iz0
, 
	glxz1
 = 
lx1
*
iz1
, 
	glxz2
 = 
lx2
*
iz2
,

47063 
	glyz0
 = 
ly0
*
iz0
, 
	glyz1
 = 
ly1
*
iz1
, 
	glyz2
 = 
ly2
*
iz2
,

47064 
	gdlxz01
 = 
lxz1
 - 
lxz0
, 
	gdlxz02
 = 
lxz2
 -†xz0, 
	gdlxz12
 =†xz2 -†xz1,

47065 
	gdlyz01
 = 
lyz1
 - 
lyz0
, 
	gdlyz02
 = 
lyz2
 -†yz0, 
	gdlyz12
 =†yz2 -†yz1;

47067 cÚ¡ 
ulÚgT


47068 
	gtwhd
 = (
ulÚgT
)
‹xtu»
.
_width
*‹xtu».
_height
*‹xtu».
_d•th
,

47069 
	glwhd
 = (
ulÚgT
)
light
.
_width
*light.
_height
*light.
_d•th
;

47070 
cimg_š™_sÿÆše
(
İac™y
);

47072 
	gy
 = 
cy0
; y<=
cy2
; ++y) {

47073 cÚ¡ 
	gyy0
 = 
y
 - 
y0
, 
	gyy1
 = y - 
y1
;

47075 
	gxm
 = 
y
<
y1
?
x0
 + (
dx01
*
yy0
 + 
hdy01
)/
dy01
:
x1
 + (
dx12
*
yy1
 + 
hdy12
)/
dy12
,

47076 
	gxM
 = 
x0
 + (
dx02
*
yy0
 + 
hdy02
)/
dy02
;

47078 
	gizm
 = 
y
<
y1
?(
iz0
 + 
diz01
*
yy0
/
dy01
):(
iz1
 + 
diz12
*
yy1
/
dy12
),

47079 
	gizM
 = 
iz0
 + 
diz02
*
yy0
/
dy02
,

47080 
	gtxzm
 = 
y
<
y1
?(
txz0
 + 
dtxz01
*
yy0
/
dy01
):(
txz1
 + 
dtxz12
*
yy1
/
dy12
),

47081 
	gtxzM
 = 
txz0
 + 
dtxz02
*
yy0
/
dy02
,

47082 
	gtyzm
 = 
y
<
y1
?(
tyz0
 + 
dtyz01
*
yy0
/
dy01
):(
tyz1
 + 
dtyz12
*
yy1
/
dy12
),

47083 
	gtyzM
 = 
tyz0
 + 
dtyz02
*
yy0
/
dy02
,

47084 
	glxzm
 = 
y
<
y1
?(
lxz0
 + 
dlxz01
*
yy0
/
dy01
):(
lxz1
 + 
dlxz12
*
yy1
/
dy12
),

47085 
	glxzM
 = 
lxz0
 + 
dlxz02
*
yy0
/
dy02
,

47086 
	glyzm
 = 
y
<
y1
?(
lyz0
 + 
dlyz01
*
yy0
/
dy01
):(
lyz1
 + 
dlyz12
*
yy1
/
dy12
),

47087 
	glyzM
 = 
lyz0
 + 
dlyz02
*
yy0
/
dy02
;

47088 ià(
	gxm
>
	gxM
è
	gcimg
::
sw­
(
xm
,
xM
,
izm
,
izM
,
txzm
,
txzM
,
tyzm
,
tyzM
,
lxzm
,
lxzM
,
lyzm
,
lyzM
);

47089 ià(
	gxM
>=0 || 
xm
<=
w1
) {

47091 
cxm
 = 
cimg
::
cut
(
xm
,0,
w1
),

47092 
	gcxM
 = 
cimg
::
cut
(
xM
,0,
w1
);

47093 
T
 *
	g±rd
 = 
d©a
(
cxm
,
y
);

47094 
tz
 *
	g±rz
 = 
zbufãr
.
d©a
(
cxm
,
y
);

47095 cÚ¡ 
	gdxmM
 = 
¡d
::
max
(1,
xM
 - 
xm
);

47097 
	gdizmM
 = 
izM
 - 
izm
,

47098 
	gdtxzmM
 = 
txzM
 - 
txzm
, 
	gdtyzmM
 = 
tyzM
 - 
tyzm
,

47099 
	gdlxzmM
 = 
lxzM
 - 
lxzm
, 
	gdlyzmM
 = 
lyzM
 - 
lyzm
;

47101 
	gx
 = 
cxm
; x<
	gcxM
; ++x) {

47102 cÚ¡ 
	gxxm
 = 
x
 - 
xm
;

47103 cÚ¡ 
	giz
 = 
izm
 + 
dizmM
*
xxm
/
dxmM
;

47104 ià(
	giz
>=*
±rz
) {

47105 *
±rz
 = (
tz
)
iz
;

47107 
	gtxz
 = 
txzm
 + 
dtxzmM
*
xxm
/
dxmM
,

47108 
	gtyz
 = 
tyzm
 + 
dtyzmM
*
xxm
/
dxmM
,

47109 
	glxz
 = 
lxzm
 + 
dlxzmM
*
xxm
/
dxmM
,

47110 
	glyz
 = 
lyzm
 + 
dlyzmM
*
xxm
/
dxmM
;

47112 
	gtx
 = ()
cimg
::
round
(
txz
/
iz
),

47113 
	gty
 = ()
cimg
::
round
(
tyz
/
iz
),

47114 
	glx
 = ()
cimg
::
round
(
lxz
/
iz
),

47115 
	gly
 = ()
cimg
::
round
(
lyz
/
iz
);

47116 cÚ¡ 
tc
 *cÚ¡ 
	gcŞÜ
 = &
‹xtu»
.
_©XY
(
tx
,
ty
);

47117 cÚ¡ 

 *cÚ¡ 
	glig
 = &
light
.
_©XY
(
lx
,
ly
);

47118 
cimg_fÜC
(*
this
,
c
) {

47119 cÚ¡ 
tc
 
	gcŞ
 = 
cŞÜ
[
c
*
twhd
];

47120 cÚ¡ 
	gcbs
 = 
cimg
::
cut
(()
lig
[
c
*
lwhd
],0,2);

47121 cÚ¡ 
Tæßt
 
	gv®
 = 
cbs
<=1?cbs*
cŞ
:(2 - cbs)*cŞ + (cb - 1)*
_sc_maxv®
;

47122 
	g±rd
[
c
*
_sc_whd
] = (
T
)(
İac™y
>=1?
v®
:v®*
_sc_nİac™y
 + 
±rd
[c*_sc_whd]*
_sc_cİac™y
);

47125 ++
	g±rd
; ++
	g±rz
;

47129  *
	gthis
;

47145 
	gCImg
<
	gT
>& 
d¿w_»ùªgË
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
, cÚ¡ 
c0
,

47146 cÚ¡ 
x1
, cÚ¡ 
y1
, cÚ¡ 
z1
, cÚ¡ 
c1
,

47147 cÚ¡ 
T
 
v®
, cÚ¡ 
İac™y
=1) {

47148 ià(
is_em±y
()è *
this
;

47150 
	gnx0
 = 
x0
<
x1
?x0:x1, 
	gnx1
 = x0^x1^
nx0
,

47151 
	gny0
 = 
y0
<
y1
?y0:y1, 
	gny1
 = y0^y1^
ny0
,

47152 
	gnz0
 = 
z0
<
z1
?z0:z1, 
	gnz1
 = z0^z1^
nz0
,

47153 
	gnc0
 = 
c0
<
c1
?c0:c1, 
	gnc1
 = c0^c1^
nc0
;

47155 
	glx
 = (1 + 
nx1
 - 
nx0
è+ (nx1>=
width
()?width() - 1 -‚x1:0) + (nx0<0?nx0:0),

47156 
	gly
 = (1 + 
ny1
 - 
ny0
è+ (ny1>=
height
()?height() - 1 -‚y1:0) + (ny0<0?ny0:0),

47157 
	glz
 = (1 + 
nz1
 - 
nz0
è+ (nz1>=
d•th
()?depth() - 1 -‚z1:0) + (nz0<0?nz0:0),

47158 
	glc
 = (1 + 
nc1
 - 
nc0
è+ (nc1>=
¥eùrum
()?spectrum() - 1 -‚c1:0) + (nc0<0?nc0:0);

47159 cÚ¡ 
ulÚgT


47160 
	goffX
 = (
ulÚgT
)
_width
 - 
lx
,

47161 
	goffY
 = (
ulÚgT
)
_width
*(
_height
 - 
ly
),

47162 
	goffZ
 = (
ulÚgT
)
_width
*
_height
*(
_d•th
 - 
lz
);

47163 cÚ¡ 
	gnİac™y
 = 
cimg
::
abs
(
İac™y
), 
	gcİac™y
 = 1 - 
¡d
::
max
(opacity,0.f);

47164 
T
 *
	g±rd
 = 
d©a
(
nx0
<0?0:nx0,
ny0
<0?0:ny0,
nz0
<0?0:nz0,
nc0
<0?0:nc0);

47165 ià(
	glx
>0 && 
	gly
>0 && 
	glz
>0 && 
	glc
>0)

47166 
	gv
 = 0; v<
	glc
; ++v) {

47167 
	gz
 = 0; z<
	glz
; ++z) {

47168 
	gy
 = 0; y<
	gly
; ++y) {

47169 ià(
	gİac™y
>=1) {

47170 ià((
T
)!=1è{ 
x
 = 0; 
	gx
<
	glx
; ++xè*(
	g±rd
++èğ
v®
;…Œd+=
offX
; }

47171 { 
	g¡d
::
mem£t
(
±rd
,()
v®
,
lx
); 
	g±rd
+=
_width
; }

47172 } { 
	gx
 = 0; x<
	glx
; ++xè{ *
	g±rd
 = (
T
)(
nİac™y
*
v®
 + *
±rd
*
cİac™y
); ++±rd; }…Œd+=
offX
; }

47174 
	g±rd
+=
offY
;

47176 
	g±rd
+=
offZ
;

47178  *
	gthis
;

47192 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

47193 
	gCImg
<
	gT
>& 
d¿w_»ùªgË
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
,

47194 cÚ¡ 
x1
, cÚ¡ 
y1
, cÚ¡ 
z1
,

47195 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1) {

47196 ià(
is_em±y
()è *
this
;

47197 ià(!
	gcŞÜ
)

47198 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


47200 
cimg_š¡ªû
);

47201 
cimg_fÜC
(*
this
,
c
è
d¿w_»ùªgË
(
x0
,
y0
,
z0
,c,
x1
,
y1
,
z1
,c,(
T
)
cŞÜ
[c],
İac™y
);

47202  *
	gthis
;

47214 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

47215 
	gCImg
<
	gT
>& 
d¿w_»ùªgË
(cÚ¡ 
x0
, cÚ¡ 
y0
,

47216 cÚ¡ 
x1
, cÚ¡ 
y1
,

47217 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1) {

47218  
d¿w_»ùªgË
(
x0
,
y0
,0,
x1
,
y1
,
_d•th
 - 1,
cŞÜ
,
İac™y
);

47222 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

47223 
	gCImg
<
	gT
>& 
d¿w_»ùªgË
(cÚ¡ 
x0
, cÚ¡ 
y0
,

47224 cÚ¡ 
x1
, cÚ¡ 
y1
,

47225 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
,

47226 cÚ¡ 
·‰”n
) {

47227 ià(
is_em±y
()è *
	gthis
;

47228 ià(
	gy0
==
y1
è 
d¿w_lše
(
x0
,
y0
,
x1
,y0,
cŞÜ
,
İac™y
,
·‰”n
,
Œue
);

47229 ià(
	gx0
==
x1
è 
d¿w_lše
(
x0
,
y0
,x0,
y1
,
cŞÜ
,
İac™y
,
·‰”n
,
Œue
);

47231 
	gnx0
 = 
x0
<
x1
?x0:x1, 
	gnx1
 = x0^x1^
nx0
,

47232 
	gny0
 = 
y0
<
y1
?y0:y1, 
	gny1
 = y0^y1^
ny0
;

47233 ià(
	gny1
==
ny0
 + 1è 
d¿w_lše
(
nx0
,ny0,
nx1
,ny0,
cŞÜ
,
İac™y
,
·‰”n
,
Œue
).

47234 
d¿w_lše
(
nx1
,
ny1
,
nx0
,ny1,
cŞÜ
,
İac™y
,
·‰”n
,
çl£
);

47235  
d¿w_lše
(
nx0
,
ny0
,
nx1
,ny0,
cŞÜ
,
İac™y
,
·‰”n
,
Œue
).

47236 
d¿w_lše
(
nx1
,
ny0
 + 1,nx1,
ny1
 - 1,
cŞÜ
,
İac™y
,
·‰”n
,
çl£
).

47237 
d¿w_lše
(
nx1
,
ny1
,
nx0
,ny1,
cŞÜ
,
İac™y
,
·‰”n
,
çl£
).

47238 
d¿w_lše
(
nx0
,
ny1
 - 1,nx0,
ny0
 + 1,
cŞÜ
,
İac™y
,
·‰”n
,
çl£
);

47247 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtc
>

47248 
	gCImg
<
	gT
>& 
d¿w_pŞygÚ
(cÚ¡ 
CImg
<

>& 
pošts
,

47249 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1) {

47250 ià(
is_em±y
(è|| !
pošts
è *
this
;

47251 ià(!
	gcŞÜ
)

47252 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


47254 
cimg_š¡ªû
);

47255 ià(
	gpošts
.
height
()!=2)

47256 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


47258 
cimg_š¡ªû
,

47259 
pošts
.
_width
,pošts.
_height
,pošts.
_d•th
,pošts.
_¥eùrum
);

47260 ià(
	gpošts
.
	g_width
==1è 
d¿w_pošt
(
cimg
::
uœound
(
pošts
(0,0)),cimg::uœoundÕošts(0,1)),
cŞÜ
,
İac™y
);

47261 ià(
	gpošts
.
	g_width
==2è 
d¿w_lše
(
cimg
::
uœound
(
pošts
(0,0)),cimg::uiround(points(0,1)),

47262 
cimg
::
uœound
(
pošts
(1,0)),cimg::uœoundÕošts(1,1)),
cŞÜ
,
İac™y
);

47263 ià(
	gpošts
.
	g_width
==3è 
d¿w_ŒŸngË
(
cimg
::
uœound
(
pošts
(0,0)),cimg::uiround(points(0,1)),

47264 
cimg
::
uœound
(
pošts
(1,0)),cimg::uiround(points(1,1)),

47265 
cimg
::
uœound
(
pošts
(2,0)),cimg::uœoundÕošts(2,1)),
cŞÜ
,
İac™y
);

47266 
cimg_š™_sÿÆše
(
İac™y
);

47268 
	gxmš
 = 0, 
	gymš
 = 0,

47269 
	gxmax
 = 
pošts
.
g‘_sh¬ed_row
(0).
max_mš
(
xmš
),

47270 
	gymax
 = 
pošts
.
g‘_sh¬ed_row
(1).
max_mš
(
ymš
);

47271 ià(
	gxmax
<0 || 
	gxmš
>=
width
(è|| 
ymax
<0 || 
ymš
>=
height
()è *
this
;

47272 ià(
	gymš
==
ymax
è 
d¿w_lše
(
xmš
,
ymš
,
xmax
,ymax,
cŞÜ
,
İac™y
);

47274 
	gymš
 = 
¡d
::
max
(0,
ymš
);

47275 
	gymax
 = 
¡d
::
mš
(
height
(è- 1,
ymax
);

47276 
	gCImg
<
	gštT
> 
Xs
(
pošts
.
_width
,
ymax
 - 
ymš
 + 1);

47277 
	gCImg
<
	guštT
> 
couÁ
(
Xs
.
_height
,1,1,1,0);

47278 
	gn
 = 0, 
	gÂ
 = 1;

47279 
boŞ
 
	ggo_Ú
 = 
Œue
;

47281 
	ggo_Ú
) {

47282 
	gª
 = (
Â
 + 1)%
pošts
.
_width
;

47284 
	gx0
 = 
cimg
::
uœound
(
pošts
(
n
,0)),

47285 
	gy0
 = 
cimg
::
uœound
(
pošts
(
n
,1));

47286 ià(
pošts
(
Â
,1)==
y0
èpošts(
ª
,1)==y0è{‚Àğª; (
	gª
+=1)%õošts.
_width
; }

47288 
	gx1
 = 
cimg
::
uœound
(
pošts
(
Â
,0)),

47289 
	gy1
 = 
cimg
::
uœound
(
pošts
(
Â
,1));

47290 
	gŠ
 = 
ª
;

47291 
pošts
(
Š
,1)==
y1
èÑn+=1)%õošts.
_width
;

47293 ià(
	gy0
!=
y1
) {

47295 
y2
 = 
cimg
::
uœound
(
pošts
(
Š
,1)),

47296 
	gx01
 = 
x1
 - 
x0
, 
	gy01
 = 
y1
 - 
y0
, 
	gy12
 = 
y2
 - y1,

47297 
	g¡•
 = 
cimg
::
sign
(
y01
),

47298 
	gtmax
 = 
¡d
::
max
(1,
cimg
::
abs
(
y01
)), 
	ghtmax
 = 
tmax
*cimg::
sign
(
x01
)/2,

47299 
	g‹nd
 = 
tmax
 - (
¡•
==
cimg
::
sign
(
y12
));

47300 
	gy
 = ()
y0
 - 
ymš
;

47301 
	gt
 = 0;<=
‹nd
; ++t, 
	gy
+=
¡•
)

47302 ià(
y
<
Xs
.
_height
èXs(
couÁ
[y]++,yèğ
x0
 + (
t
*
x01
 + 
htmax
)/
tmax
;

47304 
	ggo_Ú
 = 
Â
>
n
;

47305 
	gn
 = 
Â
;

47306 
	gÂ
 = 
ª
;

47309 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
Xs
.
_height
>=(
cimg_İ’mp_sizeçùÜ
)*32))

47310 
cimg_fÜY
(
Xs
,
y
) {

47311 cÚ¡ 
	gCImg
<
	gštT
> 
	gXsy
 = 
Xs
.
g‘_sh¬ed_pošts
(0,
couÁ
[
y
] - 1,y).
sÜt
();

47312 
	gpx
 = 
width
();

47313 
	gk
 = 0; k<
	gXsy
.
	g_width
; k+=2) {

47314 
x0
 = 
Xsy
[
k
];

47315 cÚ¡ 
	gx1
 = 
Xsy
[
k
 + 1];

47316 
	gx0
+=
x0
==
px
;

47317 
cimg_d¿w_sÿÆše
(
x0
,
x1
,
y
 + 
ymš
,
cŞÜ
,
İac™y
,1);

47318 
	gpx
 = 
x1
;

47321  *
	gthis
;

47325 
	g‹m¶©e
<
ty³Çme
 
	gt
,y³Çm
	gtc
>

47326 
	gCImg
<
	gT
>& 
d¿w_pŞygÚ
(cÚ¡ 
CImg
<
t
>& 
pošts
,

47327 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
, cÚ¡ 
·‰”n
) {

47328 ià(
is_em±y
(è|| !
	gpošts
è *
	gthis
;

47329 ià(!
	gcŞÜ
)

47330 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


47332 
cimg_š¡ªû
);

47333 ià(
	gpošts
.
	g_width
==1è 
d¿w_pošt
(()
pošts
(0,0),(íošts(0,1),
cŞÜ
,
İac™y
);

47334 ià(
	gpošts
.
	g_width
==2è 
d¿w_lše
(()
pošts
(0,0),()points(0,1),

47335 ()
pošts
(1,0),(íošts(1,1),
cŞÜ
,
İac™y
,
·‰”n
);

47336 
boŞ
 
	gnš™_h©ch
 = 
Œue
;

47337 
	gpošts
.
	g_height
) {

47339 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


47341 
cimg_š¡ªû
,

47342 
pošts
.
_width
,pošts.
_height
,pošts.
_d•th
,pošts.
_¥eùrum
);

47344 
CImg
<
štT
> 
Åošts
(
pošts
.
_width
,2);

47345 
	gx
 = 
Åošts
(0,0èğ()
pošts
(0,0), 
	gy
 =‚points(0,1) = ()points(0,1);

47346 
	gnb_pošts
 = 1;

47347 
	gp
 = 1;…<
	gpošts
.
	g_width
; ++p) {

47348 cÚ¡ 
	gnx
 = ()
pošts
(
p
,0), 
	gny
 = ()points(p,1);

47349 ià(
	gnx
!=
x
 || 
ny
!=
y
è{ 
Åošts
(
nb_pošts
,0èğ
nx
;‚poštsÒb_pošts++,1èğny; 
	gx
 =‚x; 
	gy
 =‚y; }

47351 cÚ¡ 
	gx0
 = ()
Åošts
(0,0), 
	gy0
 = ()npoints(0,1);

47352 
	gox
 = 
x0
, 
	goy
 = 
y0
;

47353 
	gi
 = 1; i<
	gnb_pošts
; ++i) {

47354 cÚ¡ 
	g_x
 = ()
Åošts
(
i
,0), 
	g_y
 = ()npoints(i,1);

47355 
d¿w_lše
(
ox
,
oy
,
_x
,
_y
,
cŞÜ
,
İac™y
,
·‰”n
,
nš™_h©ch
);

47356 
	gnš™_h©ch
 = 
çl£
;

47357 
	gox
 = 
_x
; 
	goy
 = 
_y
;

47359 
d¿w_lše
(
ox
,
oy
,
x0
,
y0
,
cŞÜ
,
İac™y
,
·‰”n
,
çl£
);

47362  *
	gthis
;

47375 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

47376 
	gCImg
<
	gT
>& 
d¿w_–l£
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
r1
, cÚ¡ 
r2
, cÚ¡ 
ªgË
,

47377 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1) {

47378  
_d¿w_–l£
(
x0
,
y0
,
r1
,
r2
,
ªgË
,
cŞÜ
,
İac™y
,0U,
Œue
);

47389 
	g‹m¶©e
<
ty³Çme
 
	gt
,y³Çm
	gtc
>

47390 
	gCImg
<
	gT
>& 
d¿w_–l£
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
CImg
<
t
> &
‹nsÜ
,

47391 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1) {

47392 
CImgLi¡
<
t
> 
eig
 = 
‹nsÜ
.
g‘_symm‘ric_eig’
();

47393 cÚ¡ 
	gCImg
<
	gt
> &
	gv®
 = 
eig
[0], &
	gvec
 =ƒig[1];

47394  
d¿w_–l£
(
x0
,
y0
,
¡d
::
sq¹
(
v®
(0)),std::sqrt(val(1)),

47395 
¡d
::
©ª2
(
vec
(0,1),vec(0,0))*180/
cimg
::
PI
,

47396 
cŞÜ
,
İac™y
);

47410 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

47411 
	gCImg
<
	gT
>& 
d¿w_–l£
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
r1
, cÚ¡ 
r2
, cÚ¡ 
ªgË
,

47412 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
, cÚ¡ 
·‰”n
) {

47413 ià(
	g·‰”n
è
_d¿w_–l£
(
x0
,
y0
,
r1
,
r2
,
ªgË
,
cŞÜ
,
İac™y
,
·‰”n
,
çl£
);

47414  *
	gthis
;

47426 
	g‹m¶©e
<
ty³Çme
 
	gt
,y³Çm
	gtc
>

47427 
	gCImg
<
	gT
>& 
d¿w_–l£
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
CImg
<
t
> &
‹nsÜ
,

47428 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
,

47429 cÚ¡ 
·‰”n
) {

47430 
	gCImgLi¡
<
	gt
> 
	geig
 = 
‹nsÜ
.
g‘_symm‘ric_eig’
();

47431 cÚ¡ 
	gCImg
<
	gt
> &
	gv®
 = 
eig
[0], &
	gvec
 =ƒig[1];

47432  
d¿w_–l£
(
x0
,
y0
,
¡d
::
sq¹
(
v®
(0)),std::sqrt(val(1)),

47433 
¡d
::
©ª2
(
vec
(0,1),vec(0,0))*180/
cimg
::
PI
,

47434 
cŞÜ
,
İac™y
,
·‰”n
);

47437 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

47438 
	gCImg
<
	gT
>& 
_d¿w_–l£
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
¿dius1
, cÚ¡ 
¿dius2
, cÚ¡ 
ªgË
,

47439 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
,

47440 cÚ¡ 
·‰”n
, cÚ¡ 
boŞ
 
is_fËd
) {

47441 ià(
is_em±y
(è|| (!
	gis_fËd
 && !
	g·‰”n
)è *
	gthis
;

47442 cÚ¡ 
	g¿diusM
 = 
¡d
::
max
(
¿dius1
,
¿dius2
);

47443 ià(
	g¿dius1
<0 || 
	g¿dius2
<0 || 
	gx0
 - 
	g¿diusM
>=
width
(è|| 
y0
 + 
¿diusM
<0 || y0 -„adiusM>=
height
()è *
this
;

47444 ià(!
	gcŞÜ
)

47445 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


47447 
cimg_š¡ªû
);

47448 cÚ¡ 
	gœadius1
 = ()
cimg
::
round
(
¿dius1
), 
	gœadius2
 = ()cimg::round(
¿dius2
);

47449 ià(!
	gœadius1
 && !
	gœadius2
è 
d¿w_pošt
(
x0
,
y0
,
cŞÜ
,
İac™y
);

47450 ià(
	gœadius1
==
œadius2
) {

47451 ià(
is_fËd
è 
d¿w_cœşe
(
x0
,
y0
,
œadius1
,
cŞÜ
,
İac™y
);

47452 ià(
	g·‰”n
==~0Uè 
d¿w_cœşe
(
x0
,
y0
,
œadius1
,
cŞÜ
,
İac™y
,
·‰”n
);

47454 cÚ¡ 
	gªg
 = ()(
ªgË
*
cimg
::
PI
/180);

47456 ià(!
	gis_fËd
) {

47457 cÚ¡ 
	gÿ
 = 
¡d
::
cos
(
ªg
), 
	g§
 = std::
sš
(ang);

47458 
	gCImg
<> 
pošts
(()
cimg
::
round
(6*
¿diusM
),2);

47459 
cimg_fÜX
(
pošts
,
k
) {

47461 
	g_ªg
 = ()(2*
cimg
::
PI
*
k
/
pošts
.
_width
),

47462 
	gX
 = ()(
¿dius1
*
¡d
::
cos
(
_ªg
)),

47463 
	gY
 = ()(
¿dius2
*
¡d
::
sš
(
_ªg
));

47464 
pošts
(
k
,0èğ()
cimg
::
round
(
x0
 + (
X
*
ÿ
 - 
Y
*
§
));

47465 
pošts
(
k
,1èğ()
cimg
::
round
(
y0
 + (
X
*
§
 + 
Y
*
ÿ
));

47467 
d¿w_pŞygÚ
(
pošts
,
cŞÜ
,
İac™y
,
·‰”n
);

47469 
cimg_š™_sÿÆše
(
İac™y
);

47471 
	gÿ
 = 
¡d
::
cos
(
ªg
),

47472 
	g§
 = -
¡d
::
sš
(
ªg
),

47473 
	gÿ2
 = 
ÿ
*ca,

47474 
	g§2
 = 
§
*sa,

47475 
	gÿ§
 = 
ÿ
*
§
,

47476 
	gi1
 = 1/
cimg
::
sqr
(
¿dius1
),

47477 
	gi2
 = 1/
cimg
::
sqr
(
¿dius2
),

47478 
	gt1
 = 
i1
*
ÿ2
 + 
i2
*
§2
,

47479 
	gt2
 = (
i2
 - 
i1
)*
ÿ§
,

47480 
	gt3
 = 
i2
*
ÿ2
 + 
i1
*
§2
,

47481 
	gt12
 = 
t1
*2;

47483 
	g_ymš
 = ()
¡d
::
æoÜ
(
y0
 - 
¿diusM
),

47484 
	g_ymax
 = ()
¡d
::
û
(
y0
 + 
¿diusM
),

47485 
	gymš
 = 
_ymš
<0?0:_ymin,

47486 
	gymax
 = 
_ymax
>=
height
()?height() - 1:_ymax;

47487 
	gy
 = 
ymš
; y<=
ymax
; ++y) {

47489 
	gY
 = 
y
 - 
y0
 + 0.5f,

47490 
	gB
 = 2*
t2
*
Y
,

47491 
	gC
 = 
t3
*
Y
*Y - 1,

47492 
	gD
 = 
B
*B - 4*
t1
*
C
;

47493 ià(
	gD
>=0) {

47494 cÚ¡ 
sD
 = 
¡d
::
sq¹
(
D
);

47496 
	gxmš
 = ()(
x0
 + 
cimg
::
round
((-
B
 - 
sD
)/
t12
)),

47497 
	gxmax
 = ()(
x0
 + 
cimg
::
round
((-
B
 + 
sD
)/
t12
));

47498 
cimg_d¿w_sÿÆše
(
xmš
,
xmax
,
y
,
cŞÜ
,
İac™y
,1);

47502  *
	gthis
;

47515 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

47516 
	gCImg
<
	gT
>& 
d¿w_cœşe
(cÚ¡ 
x0
, cÚ¡ 
y0
, 
¿dius
,

47517 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1) {

47518 ià(
is_em±y
()è *
this
;

47519 ià(
	g¿dius
<0 || 
	gx0
 -„adius>=
width
(è|| 
y0
 + 
¿dius
<0 || y0 -„adius>=
height
()è *
this
;

47520 ià(!
	gcŞÜ
)

47521 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


47523 
cimg_š¡ªû
);

47524 ià(!
	g¿dius
è 
d¿w_pošt
(
x0
,
y0
,
cŞÜ
,
İac™y
);

47525 
cimg_š™_sÿÆše
(
İac™y
);

47526 ià(
	gy0
>=0 && 
y0
<
height
()è
cimg_d¿w_sÿÆše
(
x0
 - 
¿dius
,x0 +„adius,y0,
cŞÜ
,
İac™y
,1);

47527 
	gf
 = 1 - 
¿dius
, 
	gddFx
 = 0, 
	gddFy
 = -Ôadius<<1), 
	gx
 = 0, 
	gy
 =„adius; x<y; ) {

47528 ià(
	gf
>=0) {

47529 cÚ¡ 
x1
 = 
x0
 - 
x
, 
	gx2
 = x0 + x, 
	gy1
 = 
y0
 - 
y
, 
	gy2
 = y0 + y;

47530 ià(
	gy1
>=0 && 
y1
<
height
()è
cimg_d¿w_sÿÆše
(
x1
,
x2
,y1,
cŞÜ
,
İac™y
,1);

47531 ià(
	gy2
>=0 && 
y2
<
height
()è
cimg_d¿w_sÿÆše
(
x1
,
x2
,y2,
cŞÜ
,
İac™y
,1);

47532 
	gf
+=(
ddFy
+=2); --
	gy
;

47534 cÚ¡ 
boŞ
 
	gno_dŸg
 = 
y
!=(
x
++);

47535 ++(
	gf
+=(
ddFx
+=2));

47536 cÚ¡ 
	gx1
 = 
x0
 - 
y
, 
	gx2
 = x0 + y, 
	gy1
 = 
y0
 - 
x
, 
	gy2
 = y0 + x;

47537 ià(
	gno_dŸg
) {

47538 ià(
	gy1
>=0 && 
y1
<
height
()è
cimg_d¿w_sÿÆše
(
x1
,
x2
,y1,
cŞÜ
,
İac™y
,1);

47539 ià(
	gy2
>=0 && 
y2
<
height
()è
cimg_d¿w_sÿÆše
(
x1
,
x2
,y2,
cŞÜ
,
İac™y
,1);

47542  *
	gthis
;

47554 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

47555 
	gCImg
<
	gT
>& 
d¿w_cœşe
(cÚ¡ 
x0
, cÚ¡ 
y0
, 
¿dius
,

47556 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
,

47557 cÚ¡ 
·‰”n
) {

47558 ià(
	g·‰”n
!=~0Uè 
d¿w_–l£
(
x0
,
y0
,
¿dius
,¿dius,0,
cŞÜ
,
İac™y
,
·‰”n
);

47559 ià(
is_em±y
()è *
	gthis
;

47560 ià(!
	gcŞÜ
)

47561 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


47563 
cimg_š¡ªû
);

47564 ià(
	g¿dius
<0 || 
	gx0
 -„adius>=
width
(è|| 
y0
 + 
¿dius
<0 || y0 -„adius>=
height
()è *
this
;

47565 ià(!
	g¿dius
è 
d¿w_pošt
(
x0
,
y0
,
cŞÜ
,
İac™y
);

47567 
d¿w_pošt
(
x0
 - 
¿dius
,
y0
,
cŞÜ
,
İac™y
).draw_point(x0 +„adius,y0,color,opacity).

47568 
d¿w_pošt
(
x0
,
y0
 - 
¿dius
,
cŞÜ
,
İac™y
).draw_point(x0,y0 +„adius,color,opacity);

47569 ià(
	g¿dius
==1è *
this
;

47570 
	gf
 = 1 - 
¿dius
, 
	gddFx
 = 0, 
	gddFy
 = -Ôadius<<1), 
	gx
 = 0, 
	gy
 =„adius; x<y; ) {

47571 ià(
	gf
>=0è{ 
f
+=(
ddFy
+=2); --
	gy
; }

47572 ++
	gx
; ++(
	gf
+=(
ddFx
+=2));

47573 ià(
	gx
!=
y
 + 1) {

47574 cÚ¡ 
x1
 = 
x0
 - 
y
, 
	gx2
 = x0 + y, 
	gy1
 = 
y0
 - 
x
, 
	gy2
 = y0 + x,

47575 
	gx3
 = 
x0
 - 
x
, 
	gx4
 = x0 + x, 
	gy3
 = 
y0
 - 
y
, 
	gy4
 = y0 + y;

47576 
d¿w_pošt
(
x1
,
y1
,
cŞÜ
,
İac™y
).d¿w_pošt(x1,
y2
,color,opacity).

47577 
d¿w_pošt
(
x2
,
y1
,
cŞÜ
,
İac™y
).d¿w_pošt(x2,
y2
,color,opacity);

47578 ià(
	gx
!=
y
)

47579 
d¿w_pošt
(
x3
,
y3
,
cŞÜ
,
İac™y
).d¿w_pošt(
x4
,
y4
,color,opacity).

47580 
d¿w_pošt
(
x4
,
y3
,
cŞÜ
,
İac™y
).d¿w_pošt(
x3
,
y4
,color,opacity);

47583  *
	gthis
;

47595 
	g‹m¶©e
<
ty³Çme
 
	gt
>

47596 
	gCImg
<
	gT
>& 
d¿w_image
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
, cÚ¡ 
c0
,

47597 cÚ¡ 
CImg
<
t
>& 
¥r™e
, cÚ¡ 
İac™y
=1) {

47598 ià(
is_em±y
(è|| !
¥r™e
è *
this
;

47599 ià(
is_ov”Ïµed
(
¥r™e
)è 
d¿w_image
(
x0
,
y0
,
z0
,
c0
,+¥r™e,
İac™y
);

47600 ià(
	gx0
==0 && 
y0
==0 && 
z0
==0 && 
c0
==0 && 
is_§meXYZC
(
¥r™e
è&& 
İac™y
>=1 && !
is_sh¬ed
())

47601  
assign
(
¥r™e
,
çl£
);

47602 cÚ¡ 
boŞ
 
	gbx
 = 
x0
<0, 
	gby
 = 
y0
<0, 
	gbz
 = 
z0
<0, 
	gbc
 = 
c0
<0;

47604 
	gdx0
 = 
bx
?0:
x0
, 
	gdy0
 = 
by
?0:
y0
, 
	gdz0
 = 
bz
?0:
z0
, 
	gdc0
 = 
bc
?0:
c0
,

47605 
	gsx0
 = 
dx0
 - 
x0
, 
	gsy0
 = 
dy0
 - 
y0
, 
	gsz0
 = 
dz0
 - 
z0
, 
	gsc0
 = 
dc0
 - 
c0
,

47606 
	glx
 = 
¥r™e
.
width
(è- 
sx0
 - (
x0
 + sprite.width()>width()?x0 + sprite.width() - width():0),

47607 
	gly
 = 
¥r™e
.
height
(è- 
sy0
 - (
y0
 + sprite.height()>height()?y0 + sprite.height() - height():0),

47608 
	glz
 = 
¥r™e
.
d•th
(è- 
sz0
 - (
z0
 + sprite.depth()>depth()?z0 + sprite.depth() - depth():0),

47609 
	glc
 = 
¥r™e
.
¥eùrum
(è- 
sc0
 - (
c0
 + sprite.spectrum()>spectrum()?c0 + sprite.spectrum() - spectrum():0);

47611 cÚ¡ 
	gnİac™y
 = 
cimg
::
abs
(
İac™y
), 
	gcİac™y
 = 1 - 
¡d
::
max
(opacity,0.f);

47612 ià(
	glx
>0 && 
	gly
>0 && 
	glz
>0 && 
	glc
>0) {

47613 
	gc
 = 0; c<
	glc
; ++c)

47614 
	gz
 = 0; z<
	glz
; ++z)

47615 
	gy
 = 0; y<
	gly
; ++y) {

47616 
T
 *
	g±rd
 = 
d©a
(
dx0
,
dy0
 + 
y
,
dz0
 + 
z
,
dc0
 + 
c
);

47617 cÚ¡ 
t
 *
	g±rs
 = 
¥r™e
.
d©a
(
sx0
,
sy0
 + 
y
,
sz0
 + 
z
,
sc0
 + 
c
);

47618 ià(
	gİac™y
>=1è
x
 = 0; 
	gx
<
	glx
; ++xè*(
	g±rd
++èğ(
T
)*(
±rs
++);

47619 
	gx
 = 0; x<
	glx
; ++xè{ *
	g±rd
 = (
T
)(
nİac™y
*(*(
±rs
++)è+ *
±rd
*
cİac™y
); ++ptrd; }

47622  *
	gthis
;

47626 
	gCImg
<
	gT
>& 
d¿w_image
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
, cÚ¡ 
c0
,

47627 cÚ¡ 
CImg
<
T
>& 
¥r™e
, cÚ¡ 
İac™y
=1) {

47628 ià(
is_em±y
(è|| !
¥r™e
è *
this
;

47629 ià(
is_ov”Ïµed
(
¥r™e
)è 
d¿w_image
(
x0
,
y0
,
z0
,
c0
,+¥r™e,
İac™y
);

47630 ià(
	gx0
==0 && 
y0
==0 && 
z0
==0 && 
c0
==0 && 
is_§meXYZC
(
¥r™e
è&& 
İac™y
>=1 && !
is_sh¬ed
())

47631  
assign
(
¥r™e
,
çl£
);

47632 cÚ¡ 
boŞ
 
	gbx
 = 
x0
<0, 
	gby
 = 
y0
<0, 
	gbz
 = 
z0
<0, 
	gbc
 = 
c0
<0;

47634 
	gdx0
 = 
bx
?0:
x0
, 
	gdy0
 = 
by
?0:
y0
, 
	gdz0
 = 
bz
?0:
z0
, 
	gdc0
 = 
bc
?0:
c0
,

47635 
	gsx0
 = 
dx0
 - 
x0
, 
	gsy0
 = 
dy0
 - 
y0
, 
	gsz0
 = 
dz0
 - 
z0
, 
	gsc0
 = 
dc0
 - 
c0
,

47636 
	glx
 = 
¥r™e
.
width
(è- 
sx0
 - (
x0
 + sprite.width()>width()?x0 + sprite.width() - width():0),

47637 
	gly
 = 
¥r™e
.
height
(è- 
sy0
 - (
y0
 + sprite.height()>height()?y0 + sprite.height() - height():0),

47638 
	glz
 = 
¥r™e
.
d•th
(è- 
sz0
 - (
z0
 + sprite.depth()>depth()?z0 + sprite.depth() - depth():0),

47639 
	glc
 = 
¥r™e
.
¥eùrum
(è- 
sc0
 - (
c0
 + sprite.spectrum()>spectrum()?c0 + sprite.spectrum() - spectrum():0);

47640 cÚ¡ 
ulÚgT
 
	g¦x
 = 
lx
*(
T
);

47642 cÚ¡ 
	gnİac™y
 = 
cimg
::
abs
(
İac™y
), 
	gcİac™y
 = 1 - 
¡d
::
max
(opacity,0.f);

47643 ià(
	glx
>0 && 
	gly
>0 && 
	glz
>0 && 
	glc
>0) {

47644 
	gc
 = 0; c<
	glc
; ++c)

47645 
	gz
 = 0; z<
	glz
; ++z)

47646 
	gy
 = 0; y<
	gly
; ++y) {

47647 
T
 *
	g±rd
 = 
d©a
(
dx0
,
dy0
 + 
y
,
dz0
 + 
z
,
dc0
 + 
c
);

47648 cÚ¡ 
T
 *
	g±rs
 = 
¥r™e
.
d©a
(
sx0
,
sy0
 + 
y
,
sz0
 + 
z
,
sc0
 + 
c
);

47649 ià(
	gİac™y
>=1è
¡d
::
memıy
(
±rd
,
±rs
,
¦x
);

47650 
	gx
 = 0; x<
	glx
; ++xè{ *
	g±rd
 = (
T
)(
nİac™y
*(*(
±rs
++)è+ *
±rd
*
cİac™y
); ++ptrd; }

47653  *
	gthis
;

47657 
	g‹m¶©e
<
ty³Çme
 
	gt
>

47658 
	gCImg
<
	gT
>& 
d¿w_image
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
,

47659 cÚ¡ 
CImg
<
t
>& 
¥r™e
, cÚ¡ 
İac™y
=1) {

47660  
d¿w_image
(
x0
,
y0
,
z0
,0,
¥r™e
,
İac™y
);

47664 
	g‹m¶©e
<
ty³Çme
 
	gt
>

47665 
	gCImg
<
	gT
>& 
d¿w_image
(cÚ¡ 
x0
, cÚ¡ 
y0
,

47666 cÚ¡ 
CImg
<
t
>& 
¥r™e
, cÚ¡ 
İac™y
=1) {

47667  
d¿w_image
(
x0
,
y0
,0,
¥r™e
,
İac™y
);

47671 
	g‹m¶©e
<
ty³Çme
 
	gt
>

47672 
	gCImg
<
	gT
>& 
d¿w_image
(cÚ¡ 
x0
,

47673 cÚ¡ 
CImg
<
t
>& 
¥r™e
, cÚ¡ 
İac™y
=1) {

47674  
d¿w_image
(
x0
,0,
¥r™e
,
İac™y
);

47678 
	g‹m¶©e
<
ty³Çme
 
	gt
>

47679 
	gCImg
<
	gT
>& 
d¿w_image
(cÚ¡ 
CImg
<
t
>& 
¥r™e
, cÚ¡ 
İac™y
=1) {

47680  
d¿w_image
(0,
¥r™e
,
İac™y
);

47697 
	g‹m¶©e
<
ty³Çme
 
	gti
,y³Çm
	gtm
>

47698 
	gCImg
<
	gT
>& 
d¿w_image
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
, cÚ¡ 
c0
,

47699 cÚ¡ 
CImg
<
ti
>& 
¥r™e
, cÚ¡ CImg<
tm
>& 
mask
, cÚ¡ 
İac™y
=1,

47700 cÚ¡ 
mask_max_v®ue
=1) {

47701 ià(
is_em±y
(è|| !
¥r™e
 || !
mask
è *
this
;

47702 ià(
is_ov”Ïµed
(
¥r™e
)è 
d¿w_image
(
x0
,
y0
,
z0
,
c0
,+¥r™e,
mask
,
İac™y
,
mask_max_v®ue
);

47703 ià(
is_ov”Ïµed
(
mask
)è 
d¿w_image
(
x0
,
y0
,
z0
,
c0
,
¥r™e
,+mask,
İac™y
,
mask_max_v®ue
);

47704 ià(
	gmask
.
	g_width
!=
¥r™e
.
_width
 || 
mask
.
_height
!=¥r™e._heighˆ|| mask.
_d•th
!=sprite._depth)

47705 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


47708 
cimg_š¡ªû
,

47709 
¥r™e
.
_width
,¥r™e.
_height
,¥r™e.
_d•th
,¥r™e.
_¥eùrum
,¥r™e.
_d©a
,

47710 
mask
.
_width
,mask.
_height
,mask.
_d•th
,mask.
_¥eùrum
,mask.
_d©a
);

47712 cÚ¡ 
boŞ
 
	gbx
 = 
x0
<0, 
	gby
 = 
y0
<0, 
	gbz
 = 
z0
<0, 
	gbc
 = 
c0
<0;

47714 
	gdx0
 = 
bx
?0:
x0
, 
	gdy0
 = 
by
?0:
y0
, 
	gdz0
 = 
bz
?0:
z0
, 
	gdc0
 = 
bc
?0:
c0
,

47715 
	gsx0
 = 
dx0
 - 
x0
, 
	gsy0
 = 
dy0
 - 
y0
, 
	gsz0
 = 
dz0
 - 
z0
, 
	gsc0
 = 
dc0
 - 
c0
,

47716 
	glx
 = 
¥r™e
.
width
(è- 
sx0
 - (
x0
 + sprite.width()>width()?x0 + sprite.width() - width():0),

47717 
	gly
 = 
¥r™e
.
height
(è- 
sy0
 - (
y0
 + sprite.height()>height()?y0 + sprite.height() - height():0),

47718 
	glz
 = 
¥r™e
.
d•th
(è- 
sz0
 - (
z0
 + sprite.depth()>depth()?z0 + sprite.depth() - depth():0),

47719 
	glc
 = 
¥r™e
.
¥eùrum
(è- 
sc0
 - (
c0
 + sprite.spectrum()>spectrum()?c0 + sprite.spectrum() - spectrum():0);

47720 cÚ¡ 
ulÚgT
 
	gmsize
 = 
mask
.
size
();

47722 ià(
	glx
>0 && 
	gly
>0 && 
	glz
>0 && 
	glc
>0) {

47723 
	gc
 = 0; c<
	glc
; ++c)

47724 
	gz
 = 0; z<
	glz
; ++z)

47725 
	gy
 = 0; y<
	gly
; ++y) {

47726 
T
 *
	g±rd
 = 
d©a
(
dx0
,
dy0
 + 
y
,
dz0
 + 
z
,
dc0
 + 
c
);

47727 cÚ¡ 
ti
 *
	g±rs
 = 
¥r™e
.
d©a
(
sx0
,
sy0
 + 
y
,
sz0
 + 
z
,
sc0
 + 
c
);

47728 cÚ¡ 
tm
 *
	g±rm
 = 
mask
.
_d©a
 + (mask.
off£t
(
sx0
,
sy0
 + 
y
,
sz0
 + 
z
,
sc0
 + 
c
)%
	gmsize
);

47729 
	gx
 = 0; x<
	glx
; ++x) {

47730 cÚ¡ 
	gmİac™y
 = ()(*(
±rm
++)*
İac™y
),

47731 
	gnİac™y
 = 
cimg
::
abs
(
mİac™y
), 
	gcİac™y
 = 
mask_max_v®ue
 - 
¡d
::
max
(mopacity,0.f);

47732 *
	g±rd
 = (
T
)((
nİac™y
*(*(
±rs
++)è+ *
±rd
*
cİac™y
)/
mask_max_v®ue
);

47733 ++
	g±rd
;

47737  *
	gthis
;

47741 
	g‹m¶©e
<
ty³Çme
 
	gti
,y³Çm
	gtm
>

47742 
	gCImg
<
	gT
>& 
d¿w_image
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
,

47743 cÚ¡ 
CImg
<
ti
>& 
¥r™e
, cÚ¡ CImg<
tm
>& 
mask
, cÚ¡ 
İac™y
=1,

47744 cÚ¡ 
mask_max_v®ue
=1) {

47745  
d¿w_image
(
x0
,
y0
,
z0
,0,
¥r™e
,
mask
,
İac™y
,
mask_max_v®ue
);

47749 
	g‹m¶©e
<
ty³Çme
 
	gti
,y³Çm
	gtm
>

47750 
	gCImg
<
	gT
>& 
d¿w_image
(cÚ¡ 
x0
, cÚ¡ 
y0
,

47751 cÚ¡ 
CImg
<
ti
>& 
¥r™e
, cÚ¡ CImg<
tm
>& 
mask
, cÚ¡ 
İac™y
=1,

47752 cÚ¡ 
mask_max_v®ue
=1) {

47753  
d¿w_image
(
x0
,
y0
,0,
¥r™e
,
mask
,
İac™y
,
mask_max_v®ue
);

47757 
	g‹m¶©e
<
ty³Çme
 
	gti
,y³Çm
	gtm
>

47758 
	gCImg
<
	gT
>& 
d¿w_image
(cÚ¡ 
x0
,

47759 cÚ¡ 
CImg
<
ti
>& 
¥r™e
, cÚ¡ CImg<
tm
>& 
mask
, cÚ¡ 
İac™y
=1,

47760 cÚ¡ 
mask_max_v®ue
=1) {

47761  
d¿w_image
(
x0
,0,
¥r™e
,
mask
,
İac™y
,
mask_max_v®ue
);

47765 
	g‹m¶©e
<
ty³Çme
 
	gti
,y³Çm
	gtm
>

47766 
	gCImg
<
	gT
>& 
d¿w_image
(cÚ¡ 
CImg
<
ti
>& 
¥r™e
, cÚ¡ CImg<
tm
>& 
mask
, cÚ¡ 
İac™y
=1,

47767 cÚ¡ 
mask_max_v®ue
=1) {

47768  
d¿w_image
(0,
¥r™e
,
mask
,
İac™y
,
mask_max_v®ue
);

47781 
	g‹m¶©e
<
ty³Çme
 
	gtc1
,y³Çm
	gtc2
,y³Çm
	gt
>

47782 
	gCImg
<
	gT
>& 
d¿w_‹xt
(cÚ¡ 
x0
, cÚ¡ 
y0
,

47783 cÚ¡ *cÚ¡ 
‹xt
,

47784 cÚ¡ 
tc1
 *cÚ¡ 
fÜeground_cŞÜ
, cÚ¡ 
tc2
 *cÚ¡ 
background_cŞÜ
,

47785 cÚ¡ 
İac™y
, cÚ¡ 
CImgLi¡
<
t
>& 
fÚt
, ...) {

47786 ià(!
	gfÚt
è *
	gthis
;

47787 
	gCImg
<
	gch¬T
> 
tmp
(2048);

47788 
	g¡d
::
va_li¡
 
­
; 
va_¡¬t
×p,
fÚt
);

47789 
cimg_v¢´štf
(
tmp
,tmp.
_width
,
‹xt
,
­
); 
va_’d
(ap);

47790  
_d¿w_‹xt
(
x0
,
y0
,
tmp
,
fÜeground_cŞÜ
,
background_cŞÜ
,
İac™y
,
fÚt
,
çl£
);

47797 
	g‹m¶©e
<
ty³Çme
 
	gtc
,y³Çm
	gt
>

47798 
	gCImg
<
	gT
>& 
d¿w_‹xt
(cÚ¡ 
x0
, cÚ¡ 
y0
,

47799 cÚ¡ *cÚ¡ 
‹xt
,

47800 cÚ¡ 
tc
 *cÚ¡ 
fÜeground_cŞÜ
, const ,

47801 cÚ¡ 
İac™y
, cÚ¡ 
CImgLi¡
<
t
>& 
fÚt
, ...) {

47802 ià(!
	gfÚt
è *
	gthis
;

47803 
	gCImg
<
	gch¬T
> 
tmp
(2048);

47804 
	g¡d
::
va_li¡
 
­
; 
va_¡¬t
×p,
fÚt
);

47805 
cimg_v¢´štf
(
tmp
,tmp.
_width
,
‹xt
,
­
); 
va_’d
(ap);

47806  
_d¿w_‹xt
(
x0
,
y0
,
tmp
,
fÜeground_cŞÜ
,(
tc
*)0,
İac™y
,
fÚt
,
çl£
);

47813 
	g‹m¶©e
<
ty³Çme
 
	gtc
,y³Çm
	gt
>

47814 
	gCImg
<
	gT
>& 
d¿w_‹xt
(cÚ¡ 
x0
, cÚ¡ 
y0
,

47815 cÚ¡ *cÚ¡ 
‹xt
,

47816 cÚ¡ , cÚ¡ 
tc
 *cÚ¡ 
background_cŞÜ
,

47817 cÚ¡ 
İac™y
, cÚ¡ 
CImgLi¡
<
t
>& 
fÚt
, ...) {

47818 ià(!
	gfÚt
è *
	gthis
;

47819 
	gCImg
<
	gch¬T
> 
tmp
(2048);

47820 
	g¡d
::
va_li¡
 
­
; 
va_¡¬t
×p,
fÚt
);

47821 
cimg_v¢´štf
(
tmp
,tmp.
_width
,
‹xt
,
­
); 
va_’d
(ap);

47822  
_d¿w_‹xt
(
x0
,
y0
,
tmp
,(
tc
*)0,
background_cŞÜ
,
İac™y
,
fÚt
,
çl£
);

47837 
	g‹m¶©e
<
ty³Çme
 
	gtc1
,y³Çm
	gtc2
>

47838 
	gCImg
<
	gT
>& 
d¿w_‹xt
(cÚ¡ 
x0
, cÚ¡ 
y0
,

47839 cÚ¡ *cÚ¡ 
‹xt
,

47840 cÚ¡ 
tc1
 *cÚ¡ 
fÜeground_cŞÜ
, cÚ¡ 
tc2
 *cÚ¡ 
background_cŞÜ
,

47841 cÚ¡ 
İac™y
=1, cÚ¡ 
fÚt_height
=13, ...) {

47842 ià(!
	gfÚt_height
è *
	gthis
;

47843 
	gCImg
<
	gch¬T
> 
tmp
(2048);

47844 
	g¡d
::
va_li¡
 
­
; 
va_¡¬t
×p,
fÚt_height
);

47845 
cimg_v¢´štf
(
tmp
,tmp.
_width
,
‹xt
,
­
); 
va_’d
(ap);

47846 cÚ¡ 
	gCImgLi¡
<
	guch¬T
>& 
	gfÚt
 = 
CImgLi¡
<
uch¬T
>::
fÚt
(
fÚt_height
,
Œue
);

47847 
_d¿w_‹xt
(
x0
,
y0
,
tmp
,
fÜeground_cŞÜ
,
background_cŞÜ
,
İac™y
,
fÚt
,
Œue
);

47848  *
	gthis
;

47852 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

47853 
	gCImg
<
	gT
>& 
d¿w_‹xt
(cÚ¡ 
x0
, cÚ¡ 
y0
,

47854 cÚ¡ *cÚ¡ 
‹xt
,

47855 cÚ¡ 
tc
 *cÚ¡ 
fÜeground_cŞÜ
, cÚ¡ 
background_cŞÜ
=0,

47856 cÚ¡ 
İac™y
=1, cÚ¡ 
fÚt_height
=13, ...) {

47857 ià(!
	gfÚt_height
è *
	gthis
;

47858 
	gcimg
::
unu£d
(
background_cŞÜ
);

47859 
	gCImg
<
	gch¬T
> 
tmp
(2048);

47860 
	g¡d
::
va_li¡
 
­
; 
va_¡¬t
×p,
fÚt_height
);

47861 
cimg_v¢´štf
(
tmp
,tmp.
_width
,
‹xt
,
­
); 
va_’d
(ap);

47862  
d¿w_‹xt
(
x0
,
y0
,"%s",
fÜeground_cŞÜ
,(cÚ¡ 
tc
*)0,
İac™y
,
fÚt_height
,
tmp
.
_d©a
);

47866 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

47867 
	gCImg
<
	gT
>& 
d¿w_‹xt
(cÚ¡ 
x0
, cÚ¡ 
y0
,

47868 cÚ¡ *cÚ¡ 
‹xt
,

47869 cÚ¡ , cÚ¡ 
tc
 *cÚ¡ 
background_cŞÜ
,

47870 cÚ¡ 
İac™y
=1, cÚ¡ 
fÚt_height
=13, ...) {

47871 ià(!
	gfÚt_height
è *
	gthis
;

47872 
	gCImg
<
	gch¬T
> 
tmp
(2048);

47873 
	g¡d
::
va_li¡
 
­
; 
va_¡¬t
×p,
fÚt_height
);

47874 
cimg_v¢´štf
(
tmp
,tmp.
_width
,
‹xt
,
­
); 
va_’d
(ap);

47875  
d¿w_‹xt
(
x0
,
y0
,"%s",(
tc
*)0,
background_cŞÜ
,
İac™y
,
fÚt_height
,
tmp
.
_d©a
);

47878 
	g‹m¶©e
<
ty³Çme
 
	gtc1
,y³Çm
	gtc2
,y³Çm
	gt
>

47879 
	gCImg
<
	gT
>& 
_d¿w_‹xt
(cÚ¡ 
x0
, cÚ¡ 
y0
,

47880 cÚ¡ *cÚ¡ 
‹xt
,

47881 cÚ¡ 
tc1
 *cÚ¡ 
fÜeground_cŞÜ
, cÚ¡ 
tc2
 *cÚ¡ 
background_cŞÜ
,

47882 cÚ¡ 
İac™y
, cÚ¡ 
CImgLi¡
<
t
>& 
fÚt
,

47883 cÚ¡ 
boŞ
 
is_Çtive_fÚt
) {

47884 ià(!
	g‹xt
è *
	gthis
;

47885 ià(!
	gfÚt
)

47886 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


47888 
cimg_š¡ªû
);

47890 cÚ¡ 
	g‹xt_Ëngth
 = ()
¡d
::
¡¾’
(
‹xt
);

47891 cÚ¡ 
	g·ddšg_x
 = 
fÚt
[0].
_height
<=48?1U:font[0]._height<=128?2U:3U;

47892 
t
 
	go_right_İac™y
 = 0, 
	gright_İac™y
 = 0, 
	gËá_İac™y
 = 0;

47893 
	go_ch
, 
	gch
 = 0;

47894 
	gx
, 
	gy
, 
	gw
;

47896 ià(
is_em±y
()) {

47898 
	go_right_İac™y
 = 0;

47899 
	go_ch
 = 0;

47900 
	gx
 = 
y
 = 
w
 = 0;

47901 
	gi
 = 0; i<
	g‹xt_Ëngth
; ++i) {

47902 
	gch
 = ()
‹xt
[
i
];

47903 
	gch
) {

47904 '\n' : 
y
+=
fÚt
[0].
_height
; ià(
	gx
>
	gw
èw = 
x
; x = 0; ;

47905 '\t' : 
x
+=4*
fÚt
[()' '].
_width
; ;

47906  : ià(
ch
<
fÚt
.
_width
) {

47907 
com³n§‹_·ddšg
 = 
·ddšg_x
;

47908 ià(
	gis_Çtive_fÚt
 && 
	gfÚt
[
ch
]) {

47909 cÚ¡ 
boŞ


47910 
	gis_och
 = 
o_ch
=='l' || o_ch=='i' || o_ch=='j' || o_ch=='I' || o_ch=='J' || o_ch=='!' || o_ch==':' ||

47911 
o_ch
=='\'' || o_ch==';' || o_ch==',' || o_ch=='.' || o_ch=='|',

47912 
	gis_ch
 = 
ch
=='l' || ch=='i' || ch=='j' || ch=='I' || ch=='J' || ch=='!' || ch==':' ||

47913 
ch
=='\'' || ch==';' || ch==',' || ch=='.' || ch=='|';

47914 ià(
	gis_och
 || 
	gis_ch
è
	gcom³n§‹_·ddšg
+=
·ddšg_x
*((
is_och
?1:0è+ (
is_ch
?1:0));

47916 
	gËá_İac™y
 = 
right_İac™y
 = 0;

47917 cÚ¡ 
	gCImg
<
	gt
>& 
	gmask
 = 
fÚt
[
ch
 + 256];

47918 cÚ¡ 
	gmw1
 = 
mask
.
_width
 - 1;

47919 
cimg_fÜY
(
mask
,
q
) {

47920 
	gËá_İac™y
 = 
¡d
::
max
(
Ëá_İac™y
,
mask
(0,
q
));

47921 
	gright_İac™y
 = 
¡d
::
max
(
right_İac™y
,
mask
(
mw1
,
q
));

47923 ià(
	gi
 && !
	gis_ch
 && !
	gis_och
 && 
	gch
!=' ' && (
o_right_İac™y
<64 || 
Ëá_İac™y
<64))

47924 
com³n§‹_·ddšg
-=
o_right_İac™y
<64 && 
Ëá_İac™y
<64?
·ddšg_x
:(padding_x + 1)/2;

47927 
	gx
+=
com³n§‹_·ddšg
 + 
fÚt
[
ch
].
_width
;

47928 
	go_right_İac™y
 = 
right_İac™y
;

47929 
	go_ch
 = 
ch
;

47933 ià(
	gx
!=0 || 
ch
=='\n') {

47934 ià(
x
>
w
) w = x;

47935 
	gy
+=
fÚt
[0].
_height
;

47937 
assign
(
x0
 + 
w
,
y0
 + 
y
,1,
is_Çtive_fÚt
?1:
fÚt
[0].
_¥eùrum
,(
T
)0);

47940 
	go_right_İac™y
 = 
right_İac™y
 = 0;

47941 
	go_ch
 = 
ch
 = 0;

47942 
	gx
 = 
x0
;

47943 
	gy
 = 
y0
;

47944 
	gi
 = 0; i<
	g‹xt_Ëngth
; ++i) {

47945 
	gch
 = ()
‹xt
[
i
];

47946 
	gch
) {

47947 '\n' : 
y
+=
fÚt
[0].
_height
; 
	gx
 = 
x0
; ;

47948 '\t' : 
x
+=4*
fÚt
[()' '].
_width
; ;

47949  : ià(
ch
<
fÚt
.
_width
) {

47950 
CImg
<
T
> 
Ë‰”
 = 
fÚt
[
ch
];

47951 ià(
	gË‰”
) {

47952 
	gcom³n§‹_·ddšg
 = 
·ddšg_x
;

47953 ià(
	gis_Çtive_fÚt
) {

47954 cÚ¡ 
boŞ


47955 
	gis_och
 = 
o_ch
=='l' || o_ch=='i' || o_ch=='j' || o_ch=='I' || o_ch=='J' || o_ch=='!' || o_ch==':' ||

47956 
o_ch
=='\'' || o_ch==';' || o_ch==',' || o_ch=='.' || o_ch=='|',

47957 
	gis_ch
 = 
ch
=='l' || ch=='i' || ch=='j' || ch=='I' || ch=='J' || ch=='!' || ch==':' ||

47958 
ch
=='\'' || ch==';' || ch==',' || ch=='.' || ch=='|';

47959 ià(
	gis_och
 || 
	gis_ch
è
	gcom³n§‹_·ddšg
+=
·ddšg_x
*((
is_och
?1:0è+ (
is_ch
?1:0));

47961 
	gright_İac™y
 = 
Ëá_İac™y
 = 0;

47962 cÚ¡ 
	gCImg
<
	gt
>& 
	gmask
 = 
fÚt
[
ch
 + 256];

47963 cÚ¡ 
	gmw1
 = 
mask
.
_width
 - 1;

47964 
cimg_fÜY
(
mask
,
q
) {

47965 
	gËá_İac™y
 = 
¡d
::
max
(
Ëá_İac™y
,
mask
(0,
q
));

47966 
	gright_İac™y
 = 
¡d
::
max
(
right_İac™y
,
mask
(
mw1
,
q
));

47968 ià(
	gi
 && !
	gis_ch
 && !
	gis_och
 && 
	gch
!=' ' && (
o_right_İac™y
<64 || 
Ëá_İac™y
<64))

47969 
com³n§‹_·ddšg
-=
o_right_İac™y
<64 && 
Ëá_İac™y
<64?
·ddšg_x
:(padding_x + 1)/2;

47972 cÚ¡ 
	gposx
 = 
x
 + 
com³n§‹_·ddšg
;

47973 ià(
	gis_Çtive_fÚt
 && 
	g_¥eùrum
>
	gË‰”
._¥eùrumèË‰”.
»size
(-100,-100,1,
_¥eùrum
,0,2);

47974 cÚ¡ 
	gcmš
 = 
¡d
::
mš
(
_¥eùrum
,
Ë‰”
._spectrum);

47975 ià(
	gfÜeground_cŞÜ
)

47976 
	gc
 = 0; c<
	gcmš
; ++c)

47977 ià(
	gfÜeground_cŞÜ
[
c
]!=1è
Ë‰”
.
g‘_sh¬ed_chªÃl
(c)*=
fÜeground_cŞÜ
[c];

47978 ià(
	gch
 + 256<
	gfÚt
.
width
()) {

47979 ià(
	gbackground_cŞÜ
)

47980 
	gc
 = 0; c<
	gcmš
; ++c)

47981 
d¿w_»ùªgË
(
x
,
y
,0,
c
,
posx
 + 
Ë‰”
.
_width
 - 1,y +†‘‹r.
_height
 - 1,0,c,

47982 
background_cŞÜ
[
c
],
İac™y
);

47983 
d¿w_image
(
posx
,
y
,
Ë‰”
,
fÚt
[
ch
 + 256],
İac™y
,255.f);

47984 } 
d¿w_image
(
posx
,
y
,
Ë‰”
,
İac™y
);

47985 
	gx
 = 
posx
 + 
Ë‰”
.
_width
;

47986 
	go_right_İac™y
 = 
right_İac™y
;

47987 
	go_ch
 = 
ch
;

47992  *
	gthis
;

47996 
	gCImg
<
	gT
>& 
__d¿w_‹xt
(cÚ¡ *cÚ¡ 
‹xt
, &
fÚt_size
, cÚ¡ 
is_down
, ...) {

47997 
	gCImg
<
	gch¬T
> 
tmp
(2048);

47998 
	g¡d
::
va_li¡
 
­
;

47999 
va_¡¬t
(
­
,
is_down
);

48000 
cimg_v¢´štf
(
tmp
,tmp.
_width
,
‹xt
,
­
); 
va_’d
(ap);

48001 
	gCImg
<
	guch¬T
> 
	ga_Ïb–
, 
	ga_Ïb–mask
;

48002 cÚ¡ 
	ga_Ïb–cŞÜ
 = 255;

48003 
	gofs
 = 
fÚt_size
, 
	gfs
 = 
ofs
;

48005 
	ga_Ïb–
.
assign
().
d¿w_‹xt
(0,0,"%s",&
a_Ïb–cŞÜ
,0,1,
fs
,
tmp
.
_d©a
);

48006 ià(
	ga_Ïb–
.
	g_width
<7*_width/10 &&‡_Ïb–.
	g_height
>_height/20 &&‡_label._height<_height/5) {

48007 
	gfÚt_size
 = 
fs
; ;

48008 } ià((
	ga_Ïb–
.
	g_width
>7*_width/10 ||‡_Ïb–.
	g_height
>_height/5è&& 
	gfs
>13 && 
	gofs
>=
fs
) {

48009 
ofs
 = 
fs
; 
	gfs
 = 
¡d
::
max
(13U,()
cimg
::
round
(fs/1.25f));

48010 } ià(
	ga_Ïb–
.
	g_width
<3*_width/10 &&‡_Ïb–.
	g_height
<_height/20 && 
	gfs
<64 && 
	gofs
<=
fs
) {

48011 
ofs
 = 
fs
; 
	gfs
 = 
¡d
::
mš
(64U,()
cimg
::
round
(fs*1.25f));

48012 } { 
	gfÚt_size
 = 
fs
; ; }

48013 } 
	gŒue
);

48014 
	ga_Ïb–
.
nÜm®ize
(0,255);

48015 
	ga_Ïb–
+=(255 - 
a_Ïb–
.
g‘_d©e
(3)).
nÜm®ize
(0,80);

48016 
	ga_Ïb–
.
»size
(-100,-100,1,3,1);

48017  
d¿w_image
(0,
is_down
?
height
(è- 
a_Ïb–
.height():0,a_label,0.85f);

48031 
	g‹m¶©e
<
ty³Çme
 
	gt1
,y³Çm
	gt2
>

48032 
	gCImg
<
	gT
>& 
d¿w_quiv”
(cÚ¡ 
CImg
<
t1
>& 
æow
,

48033 cÚ¡ 
t2
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1,

48034 cÚ¡ 
§m¶šg
=25, cÚ¡ 
çùÜ
=-20,

48035 cÚ¡ 
boŞ
 
is_¬row
=
Œue
, cÚ¡ 
·‰”n
=~0U) {

48036  
d¿w_quiv”
(
æow
,
CImg
<
t2
>(
cŞÜ
,
_¥eùrum
,1,1,1,
Œue
),
İac™y
,
§m¶šg
,
çùÜ
,
is_¬row
,
·‰”n
);

48050 
	g‹m¶©e
<
ty³Çme
 
	gt1
,y³Çm
	gt2
>

48051 
	gCImg
<
	gT
>& 
d¿w_quiv”
(cÚ¡ 
CImg
<
t1
>& 
æow
,

48052 cÚ¡ 
CImg
<
t2
>& 
cŞÜ
, cÚ¡ 
İac™y
=1,

48053 cÚ¡ 
§m¶šg
=25, cÚ¡ 
çùÜ
=-20,

48054 cÚ¡ 
boŞ
 
is_¬row
=
Œue
, cÚ¡ 
·‰”n
=~0U) {

48055 ià(
is_em±y
()è *
this
;

48056 ià(!
	gæow
 || flow.
	g_¥eùrum
!=2)

48057 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


48059 
cimg_š¡ªû
,

48060 
æow
.
_width
,æow.
_height
,æow.
_d•th
,æow.
_¥eùrum
,æow.
_d©a
);

48061 ià(
	g§m¶šg
<=0)

48062 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


48065 
cimg_š¡ªû
,

48066 
§m¶šg
);

48067 cÚ¡ 
boŞ
 
	gcŞÜf›ld
 = (
cŞÜ
.
_width
==
æow
._width && cŞÜ.
_height
==flow._height &&

48068 
cŞÜ
.
_d•th
==1 && cŞÜ.
_¥eùrum
==_spectrum);

48069 ià(
is_ov”Ïµed
(
æow
)è 
d¿w_quiv”
(+æow,
cŞÜ
,
İac™y
,
§m¶šg
,
çùÜ
,
is_¬row
,
·‰”n
);

48070 
	gvmax
,
	gçù
;

48071 ià(
	gçùÜ
<=0) {

48072 
m
, 
M
 = ()
æow
.
g‘_nÜm
(2).
max_mš
(m);

48073 
	gvmax
 = ()
¡d
::
max
(
cimg
::
abs
(
m
),cimg::abs(
M
));

48074 ià(!
	gvmax
) vmax = 1;

48075 
	gçù
 = -
çùÜ
;

48076 } { 
	gçù
 = 
çùÜ
; 
	gvmax
 = 1; }

48078 
	gy
 = 
§m¶šg
/2; y<
	g_height
; y+=sampling)

48079 
x
 = 
§m¶šg
/2; 
	gx
<
	g_width
; x+=sampling) {

48080 cÚ¡ 
X
 = 
x
*
æow
.
_width
/_width, 
	gY
 = 
y
*æow.
_height
/_height;

48081 
	gu
 = ()
æow
(
X
,
Y
,0,0)*
	gçù
/
	gvmax
, 
	gv
 = ()flow(X,Y,0,1)*fact/vmax;

48082 ià(
	gis_¬row
) {

48083 cÚ¡ 
	gxx
 = ()(
x
 + 
u
), 
	gyy
 = ()(
y
 + 
v
);

48084 ià(
	gcŞÜf›ld
è
d¿w_¬row
(
x
,
y
,
xx
,
yy
,
cŞÜ
.
g‘_veùÜ_©
(
X
,
Y
).
_d©a
,
İac™y
,45,
§m¶šg
/5.f,
·‰”n
);

48085 
d¿w_¬row
(
x
,
y
,
xx
,
yy
,
cŞÜ
.
_d©a
,
İac™y
,45,
§m¶šg
/5.f,
·‰”n
);

48087 ià(
	gcŞÜf›ld
)

48088 
d¿w_lše
(()(
x
 - 0.5*
u
),()(
y
 - 0.5*
v
),()(x + 0.5*u),()(y + 0.5*v),

48089 
cŞÜ
.
g‘_veùÜ_©
(
X
,
Y
).
_d©a
,
İac™y
,
·‰”n
);

48090 
d¿w_lše
(()(
x
 - 0.5*
u
),()(
y
 - 0.5*
v
),()(x + 0.5*u),()(y + 0.5*v),

48091 
cŞÜ
.
_d©a
,
İac™y
,
·‰”n
);

48094  *
	gthis
;

48107 
	g‹m¶©e
<
ty³Çme
 
	gt
,y³Çm
	gtc
>

48108 
	gCImg
<
	gT
>& 
d¿w_axis
(cÚ¡ 
CImg
<
t
>& 
v®ues_x
, cÚ¡ 
y
,

48109 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1,

48110 cÚ¡ 
·‰”n
=~0U, cÚ¡ 
fÚt_height
=13,

48111 cÚ¡ 
boŞ
 
®low_z”o
=
Œue
, cÚ¡ 
round_x
=0) {

48112 ià(
is_em±y
()è *
this
;

48113 cÚ¡ 
	gyt
 = (
y
 + 3 + 
fÚt_height
)<
_height
?y + 3:y - 2 - ()font_height;

48114 cÚ¡ 
	gsiz
 = ()
v®ues_x
.
size
() - 1;

48115 
	gCImg
<
	gch¬T
> 
txt
(32);

48116 
	gCImg
<
	gT
> 
	ga_Ïb–
;

48117 ià(
	gsiz
<=0) {

48118 
d¿w_lše
(0,
y
,
_width
 - 1,y,
cŞÜ
,
İac™y
,
·‰”n
);

48119 ià(!
	gsiz
) {

48120 
cimg_¢´štf
(
txt
,txt.
_width
,"%g",
round_x
?
cimg
::
round
(()*
v®ues_x
,round_x):()*values_x);

48121 
	ga_Ïb–
.
assign
().
d¿w_‹xt
(0,0,
txt
,
cŞÜ
,(
tc
*)0,
İac™y
,
fÚt_height
);

48123 
	g_xt
 = (
width
(è- 
a_Ïb–
.width())/2,

48124 
	gxt
 = 
_xt
<3?3:_xˆ+ 
a_Ïb–
.
width
()>=width() - 2?width() - 3 -‡_label.width():_xt;

48125 
d¿w_pošt
(
width
()/2,
y
 - 1,
cŞÜ
,
İac™y
).draw_point(width()/2,y + 1,color,opacity);

48126 ià(
	g®low_z”o
 || *
	gtxt
!='0' || 
txt
[1]!=0)

48127 
d¿w_‹xt
(
xt
,
yt
,
txt
,
cŞÜ
,(
tc
*)0,
İac™y
,
fÚt_height
);

48130 ià(
	gv®ues_x
[0]<v®ues_x[
siz
]è
d¿w_¬row
(0,
y
,
_width
 - 1,y,
cŞÜ
,
İac™y
,30,5,
·‰”n
);

48131 
d¿w_¬row
(
_width
 - 1,
y
,0,y,
cŞÜ
,
İac™y
,30,5,
·‰”n
);

48132 
cimg_fÜoff
(
v®ues_x
,
x
) {

48133 
cimg_¢´štf
(
txt
,txt.
_width
,"%g",
round_x
?
cimg
::
round
(()
v®ues_x
(
x
),round_x):()values_x(x));

48134 
	ga_Ïb–
.
assign
().
d¿w_‹xt
(0,0,
txt
,
cŞÜ
,(
tc
*)0,
İac™y
,
fÚt_height
);

48136 
	gxi
 = ()(
x
*(
_width
 - 1)/
siz
),

48137 
	g_xt
 = 
xi
 - 
a_Ïb–
.
width
()/2,

48138 
	gxt
 = 
_xt
<3?3:_xˆ+ 
a_Ïb–
.
width
()>=width() - 2?width() - 3 -‡_label.width():_xt;

48139 
d¿w_pošt
(
xi
,
y
 - 1,
cŞÜ
,
İac™y
).draw_point(xi,y + 1,color,opacity);

48140 ià(
	g®low_z”o
 || *
	gtxt
!='0' || 
txt
[1]!=0)

48141 
d¿w_‹xt
(
xt
,
yt
,
txt
,
cŞÜ
,(
tc
*)0,
İac™y
,
fÚt_height
);

48144  *
	gthis
;

48157 
	g‹m¶©e
<
ty³Çme
 
	gt
,y³Çm
	gtc
>

48158 
	gCImg
<
	gT
>& 
d¿w_axis
(cÚ¡ 
x
, cÚ¡ 
CImg
<
t
>& 
v®ues_y
,

48159 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1,

48160 cÚ¡ 
·‰”n
=~0U, cÚ¡ 
fÚt_height
=13,

48161 cÚ¡ 
boŞ
 
®low_z”o
=
Œue
, cÚ¡ 
round_y
=0) {

48162 ià(
is_em±y
()è *
this
;

48163 
	gsiz
 = ()
v®ues_y
.
size
() - 1;

48164 
	gCImg
<
	gch¬T
> 
txt
(32);

48165 
	gCImg
<
	gT
> 
	ga_Ïb–
;

48166 ià(
	gsiz
<=0) {

48167 
d¿w_lše
(
x
,0,x,
_height
 - 1,
cŞÜ
,
İac™y
,
·‰”n
);

48168 ià(!
	gsiz
) {

48169 
cimg_¢´štf
(
txt
,txt.
_width
,"%g",
round_y
?
cimg
::
round
(()*
v®ues_y
,round_y):()*values_y);

48170 
	ga_Ïb–
.
assign
().
d¿w_‹xt
(0,0,
txt
,
cŞÜ
,(
tc
*)0,
İac™y
,
fÚt_height
);

48172 
	g_yt
 = (
height
(è- 
a_Ïb–
.height())/2,

48173 
	gyt
 = 
_yt
<0?0:_yˆ+ 
a_Ïb–
.
height
()>=height()?height() - 1 -‡_label.height():_yt,

48174 
	g_xt
 = 
x
 - 2 - 
a_Ïb–
.
width
(),

48175 
	gxt
 = 
_xt
>=0?_xt:
x
 + 3;

48176 
d¿w_pošt
(
x
 - 1,
height
()/2,
cŞÜ
,
İac™y
).draw_point(x + 1,height()/2,color,opacity);

48177 ià(
	g®low_z”o
 || *
	gtxt
!='0' || 
txt
[1]!=0)

48178 
d¿w_‹xt
(
xt
,
yt
,
txt
,
cŞÜ
,(
tc
*)0,
İac™y
,
fÚt_height
);

48181 ià(
	gv®ues_y
[0]<v®ues_y[
siz
]è
d¿w_¬row
(
x
,0,x,
_height
 - 1,
cŞÜ
,
İac™y
,30,5,
·‰”n
);

48182 
d¿w_¬row
(
x
,
_height
 - 1,x,0,
cŞÜ
,
İac™y
,30,5,
·‰”n
);

48183 
cimg_fÜoff
(
v®ues_y
,
y
) {

48184 
cimg_¢´štf
(
txt
,txt.
_width
,"%g",
round_y
?
cimg
::
round
(()
v®ues_y
(
y
),round_y):()values_y(y));

48185 
	ga_Ïb–
.
assign
().
d¿w_‹xt
(0,0,
txt
,
cŞÜ
,(
tc
*)0,
İac™y
,
fÚt_height
);

48187 
	gyi
 = ()(
y
*(
_height
 - 1)/
siz
),

48188 
	g_yt
 = 
yi
 - 
a_Ïb–
.
height
()/2,

48189 
	gyt
 = 
_yt
<0?0:_yˆ+ 
a_Ïb–
.
height
()>=height()?height() - 1 -‡_label.height():_yt,

48190 
	g_xt
 = 
x
 - 2 - 
a_Ïb–
.
width
(),

48191 
	gxt
 = 
_xt
>=0?_xt:
x
 + 3;

48192 
d¿w_pošt
(
x
 - 1,
yi
,
cŞÜ
,
İac™y
).draw_point(x + 1,yi,color,opacity);

48193 ià(
	g®low_z”o
 || *
	gtxt
!='0' || 
txt
[1]!=0)

48194 
d¿w_‹xt
(
xt
,
yt
,
txt
,
cŞÜ
,(
tc
*)0,
İac™y
,
fÚt_height
);

48197  *
	gthis
;

48211 
	g‹m¶©e
<
ty³Çme
 
	gtx
,y³Çm
	gty
,y³Çm
	gtc
>

48212 
	gCImg
<
	gT
>& 
d¿w_axes
(cÚ¡ 
CImg
<
tx
>& 
v®ues_x
, cÚ¡ CImg<
ty
>& 
v®ues_y
,

48213 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1,

48214 cÚ¡ 
·‰”n_x
=~0U, cÚ¡ 
·‰”n_y
=~0U,

48215 cÚ¡ 
fÚt_height
=13, cÚ¡ 
boŞ
 
®low_z”o
=
Œue
,

48216 cÚ¡ 
round_x
=0, cÚ¡ 
round_y
=0) {

48217 ià(
is_em±y
()è *
this
;

48218 cÚ¡ 
	gCImg
<
	gtx
> 
nv®ues_x
(
v®ues_x
.
_d©a
,v®ues_x.
size
(),1,1,1,
Œue
);

48219 cÚ¡ 
	gsizx
 = ()
v®ues_x
.
size
(è- 1, 
	gwm1
 = 
width
() - 1;

48220 ià(
	gsizx
>=0) {

48221 
ox
 = ()*
nv®ues_x
;

48222 
	gx
 = 
sizx
?1U:0U; x<
	g_width
; ++x) {

48223 cÚ¡ 
	gnx
 = ()
nv®ues_x
.
_lš—r_©X
(()
x
*
sizx
/
wm1
);

48224 ià(
nx
*
	gox
<=0) {

48225 
d¿w_axis
(
nx
==0?
x
:x - 1,
v®ues_y
,
cŞÜ
,
İac™y
,
·‰”n_y
,
fÚt_height
,
®low_z”o
,
round_y
);

48228 
	gox
 = 
nx
;

48231 cÚ¡ 
	gCImg
<
	gty
> 
nv®ues_y
(
v®ues_y
.
_d©a
,v®ues_y.
size
(),1,1,1,
Œue
);

48232 cÚ¡ 
	gsizy
 = ()
v®ues_y
.
size
(è- 1, 
	ghm1
 = 
height
() - 1;

48233 ià(
	gsizy
>0) {

48234 
	goy
 = ()
nv®ues_y
[0];

48235 
	gy
 = 
sizy
?1U:0U; y<
	g_height
; ++y) {

48236 cÚ¡ 
	gny
 = ()
nv®ues_y
.
_lš—r_©X
(()
y
*
sizy
/
hm1
);

48237 ià(
ny
*
	goy
<=0) {

48238 
d¿w_axis
(
v®ues_x
,
ny
==0?
y
:y - 1,
cŞÜ
,
İac™y
,
·‰”n_x
,
fÚt_height
,
®low_z”o
,
round_x
);

48241 
	goy
 = 
ny
;

48244  *
	gthis
;

48248 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

48249 
	gCImg
<
	gT
>& 
d¿w_axes
(cÚ¡ 
x0
, cÚ¡ 
x1
, cÚ¡ 
y0
, cÚ¡ 
y1
,

48250 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1,

48251 cÚ¡ 
subdivisiÚx
=-60, cÚ¡ 
subdivisiÚy
=-60,

48252 cÚ¡ 
´ecisiÚx
=0, cÚ¡ 
´ecisiÚy
=0,

48253 cÚ¡ 
·‰”n_x
=~0U, cÚ¡ 
·‰”n_y
=~0U,

48254 cÚ¡ 
fÚt_height
=13) {

48255 ià(
is_em±y
()è *
this
;

48256 cÚ¡ 
boŞ
 
	g®low_z”o
 = (
x0
*
x1
>0è|| (
y0
*
y1
>0);

48258 
	gdx
 = 
cimg
::
abs
(
x1
 - 
x0
), 
	gdy
 = cimg::abs(
y1
 - 
y0
),

48259 
	gpx
 = 
dx
<=0?1:
´ecisiÚx
==0?()
¡d
::
pow
(10.,()¡d::
log10
(dx) - 2.):precisionx,

48260 
	gpy
 = 
dy
<=0?1:
´ecisiÚy
==0?()
¡d
::
pow
(10.,()¡d::
log10
(dy) - 2.):precisiony;

48261 ià(
	gx0
!=
x1
 && 
y0
!=
y1
)

48262 
d¿w_axes
(
CImg
<
æßtT
>::
£qu’û
(
subdivisiÚx
>0?subdivisiÚx:1-
width
()/subdivisiÚx,
x0
,
x1
),

48263 
CImg
<
æßtT
>::
£qu’û
(
subdivisiÚy
>0?subdivisiÚy:1-
height
()/subdivisiÚy,
y0
,
y1
),

48264 
cŞÜ
,
İac™y
,
·‰”n_x
,
·‰”n_y
,
fÚt_height
,
®low_z”o
,
px
,
py
);

48265 ià(
	gx0
==
x1
 && 
y0
!=
y1
)

48266 
d¿w_axis
(()
x0
,
CImg
<
æßtT
>::
£qu’û
(
subdivisiÚy
>0?subdivisiÚy:1-
height
()/subdivisiÚy,
y0
,
y1
),

48267 
cŞÜ
,
İac™y
,
·‰”n_y
,
fÚt_height
,
py
);

48268 ià(
	gx0
!=
x1
 && 
y0
==
y1
)

48269 
d¿w_axis
(
CImg
<
æßtT
>::
£qu’û
(
subdivisiÚx
>0?subdivisiÚx:1-
width
()/subdivisiÚx,
x0
,
x1
),()
y0
,

48270 
cŞÜ
,
İac™y
,
·‰”n_x
,
fÚt_height
,
px
);

48271  *
	gthis
;

48283 
	g‹m¶©e
<
ty³Çme
 
	gtx
,y³Çm
	gty
,y³Çm
	gtc
>

48284 
	gCImg
<
	gT
>& 
d¿w_grid
(cÚ¡ 
CImg
<
tx
>& 
v®ues_x
, cÚ¡ CImg<
ty
>& 
v®ues_y
,

48285 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1,

48286 cÚ¡ 
·‰”n_x
=~0U, cÚ¡ 
·‰”n_y
=~0U) {

48287 ià(
is_em±y
()è *
this
;

48288 ià(
	gv®ues_x
è
cimg_fÜoff
(
v®ues_x
,
x
) {

48289 cÚ¡ 
	gxi
 = ()
v®ues_x
[
x
];

48290 ià(
	gxi
>=0 && 
xi
<
width
()è
d¿w_lše
(xi,0,xi,
_height
 - 1,
cŞÜ
,
İac™y
,
·‰”n_x
);

48292 ià(
	gv®ues_y
è
cimg_fÜoff
(
v®ues_y
,
y
) {

48293 cÚ¡ 
	gyi
 = ()
v®ues_y
[
y
];

48294 ià(
	gyi
>=0 && 
yi
<
height
()è
d¿w_lše
(0,yi,
_width
 - 1,yi,
cŞÜ
,
İac™y
,
·‰”n_y
);

48296  *
	gthis
;

48300 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

48301 
	gCImg
<
	gT
>& 
d¿w_grid
(cÚ¡ 
d–_x
, cÚ¡ 
d–_y
,

48302 cÚ¡ 
off£tx
, cÚ¡ 
off£ty
,

48303 cÚ¡ 
boŞ
 
šv”tx
, cÚ¡ boŞ 
šv”ty
,

48304 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1,

48305 cÚ¡ 
·‰”n_x
=~0U, cÚ¡ 
·‰”n_y
=~0U) {

48306 ià(
is_em±y
()è *
this
;

48307 
	gCImg
<
	guštT
> 
	g£qx
, 
	g£qy
;

48308 ià(
	gd–_x
!=0) {

48309 cÚ¡ 
dx
 = 
d–_x
>0?d–_x:
_width
*-delta_x/100;

48310 cÚ¡ 
	gnx
 = ()(
_width
/
dx
);

48311 
	g£qx
 = 
CImg
<
uštT
>::
£qu’û
(1 + 
nx
,0,()(
dx
*nx));

48312 ià(
	goff£tx
è
cimg_fÜoff
(
£qx
,
x
è£qx(xèğ()
cimg
::
mod
(£qx(xè+ 
off£tx
,()
_width
);

48313 ià(
	gšv”tx
è
cimg_fÜoff
(
£qx
,
x
è£qx(xèğ
_width
 - 1 - seqx(x);

48315 ià(
	gd–_y
!=0) {

48316 cÚ¡ 
dy
 = 
d–_y
>0?d–_y:
_height
*-delta_y/100;

48317 cÚ¡ 
	gny
 = ()(
_height
/
dy
);

48318 
	g£qy
 = 
CImg
<
uštT
>::
£qu’û
(1 + 
ny
,0,()(
dy
*ny));

48319 ià(
	goff£ty
è
cimg_fÜoff
(
£qy
,
y
è£qy(yèğ()
cimg
::
mod
(£qy(yè+ 
off£ty
,()
_height
);

48320 ià(
	gšv”ty
è
cimg_fÜoff
(
£qy
,
y
è£qy(yèğ
_height
 - 1 - seqy(y);

48322  
d¿w_grid
(
£qx
,
£qy
,
cŞÜ
,
İac™y
,
·‰”n_x
,
·‰”n_y
);

48351 
	g‹m¶©e
<
ty³Çme
 
	gt
,y³Çm
	gtc
>

48352 
	gCImg
<
	gT
>& 
d¿w_g¿ph
(cÚ¡ 
CImg
<
t
>& 
d©a
,

48353 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1,

48354 cÚ¡ 
¶Ù_ty³
=1, cÚ¡ 
v”‹x_ty³
=1,

48355 cÚ¡ 
ymš
=0, cÚ¡ 
ymax
=0, cÚ¡ 
·‰”n
=~0U) {

48356 ià(
is_em±y
(è|| 
_height
<=1è *
this
;

48357 ià(!
	gcŞÜ
)

48358 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


48360 
cimg_š¡ªû
);

48363 
	gCImg
<
	gtc
> 
	gcŞÜ1
, 
	gcŞÜ2
;

48364 ià(
	g¶Ù_ty³
==3) {

48365 
cŞÜ1
.
assign
(
_¥eùrum
); 
	gcŞÜ2
.assign(_spectrum);

48366 
cimg_fÜC
(*
this
,
c
) {

48367 
	gcŞÜ1
[
c
] = (
tc
)
¡d
::
mš
(()
cimg
::
ty³
<tc>::
max
(),()
cŞÜ
[c]*1.2f);

48368 
	gcŞÜ2
[
c
] = (
tc
)(
cŞÜ
[c]*0.4f);

48373 cÚ¡ 
ulÚgT


48374 
	gsiz
 = 
d©a
.
size
(),

48375 
	g_siz1
 = 
siz
 - (
¶Ù_ty³
!=3),

48376 
	gsiz1
 = 
_siz1
?_siz1:1;

48378 
	g_width1
 = 
_width
 - (
¶Ù_ty³
!=3),

48379 
	gwidth1
 = 
_width1
?_width1:1;

48380 
	gm
 = 
ymš
, 
	gM
 = 
ymax
;

48381 ià(
	gymš
==
ymax
è
m
 = ()
d©a
.
max_mš
(
M
);

48382 ià(
	gm
==
M
è{ --
m
; ++
	gM
; }

48383 cÚ¡ 
	gÿ
 = ()(
M
-
m
)/(
_height
 - 1);

48384 
boŞ
 
	gš™_h©ch
 = 
Œue
;

48387 
	g¶Ù_ty³
%4) {

48389 
oX
 = 0, 
	goY
 = ()
cimg
::
round
((
d©a
[0] - 
m
)/
ÿ
);

48390 ià(
	gsiz
==1) {

48391 cÚ¡ 
Y
 = ()
cimg
::
round
((*
d©a
 - 
m
)/
ÿ
);

48392 
d¿w_lše
(0,
Y
,
width
(è- 1,Y,
cŞÜ
,
İac™y
,
·‰”n
);

48394 cÚ¡ 
	gfx
 = ()
_width
/
siz1
;

48395 
ulÚgT
 
	goff
 = 1; off<
	gsiz
; ++off) {

48397 
	gX
 = ()
cimg
::
round
(
off
*
fx
) - 1,

48398 
	gY
 = ()
cimg
::
round
((
d©a
[
off
]-
m
)/
ÿ
);

48399 
d¿w_lše
(
oX
,
oY
,
X
,
Y
,
cŞÜ
,
İac™y
,
·‰”n
,
š™_h©ch
);

48400 
	goX
 = 
X
; 
	goY
 = 
Y
;

48401 
	gš™_h©ch
 = 
çl£
;

48406 cÚ¡ 
CImg
<
t
> 
nd©a
(
d©a
.
_d©a
,
siz
,1,1,1,
Œue
);

48407 
	goY
 = ()
cimg
::
round
((
d©a
[0] - 
m
)/
ÿ
);

48408 
cimg_fÜX
(*
this
,
x
) {

48409 cÚ¡ 
	gY
 = ()
cimg
::
round
((
nd©a
.
_cubic_©X
(()
x
*
siz1
/
width1
)-
m
)/
ÿ
);

48410 ià(
	gx
>0è
d¿w_lše
(
x
,
oY
,x + 1,
Y
,
cŞÜ
,
İac™y
,
·‰”n
,
š™_h©ch
);

48411 
	gš™_h©ch
 = 
çl£
;

48412 
	goY
 = 
Y
;

48416 cÚ¡ 
Y0
 = ()
cimg
::
round
(-
m
/
ÿ
);

48417 cÚ¡ 
	gfx
 = ()
_width
/
siz1
;

48418 
	goX
 = 0;

48419 
cimg_fÜoff
(
d©a
,
off
) {

48421 
	gX
 = ()
cimg
::
round
((
off
 + 1)*
fx
) - 1,

48422 
	gY
 = ()
cimg
::
round
((
d©a
[
off
] - 
m
)/
ÿ
);

48423 
d¿w_»ùªgË
(
oX
,
Y0
,
X
,
Y
,
cŞÜ
,
İac™y
).

48424 
d¿w_lše
(
oX
,
Y
,oX,
Y0
,
cŞÜ2
.
d©a
(),
İac™y
).

48425 
d¿w_lše
(
oX
,
Y0
,
X
,Y0,
Y
<=Y0?
cŞÜ2
.
d©a
():
cŞÜ1
.d©a(),
İac™y
).

48426 
d¿w_lše
(
X
,
Y
,X,
Y0
,
cŞÜ1
.
d©a
(),
İac™y
).

48427 
d¿w_lše
(
oX
,
Y
,
X
,Y,Y<=
Y0
?
cŞÜ1
.
d©a
():
cŞÜ2
.d©a(),
İac™y
);

48428 
	goX
 = 
X
 + 1;

48435 cÚ¡ 
	gwb2
 = 
¶Ù_ty³
==3?
_width1
/(2*
siz
):0;

48436 cÚ¡ 
	gfx
 = ()
_width1
/
siz1
;

48437 
	gv”‹x_ty³
%8) {

48439 
cimg_fÜoff
(
d©a
,
off
) {

48441 
	gX
 = ()
cimg
::
round
(
off
*
fx
 + 
wb2
),

48442 
	gY
 = ()
cimg
::
round
((
d©a
[
off
]-
m
)/
ÿ
);

48443 
d¿w_pošt
(
X
,
Y
,
cŞÜ
,
İac™y
);

48447 
cimg_fÜoff
(
d©a
,
off
) {

48449 
	gX
 = ()
cimg
::
round
(
off
*
fx
 + 
wb2
),

48450 
	gY
 = ()
cimg
::
round
((
d©a
[
off
]-
m
)/
ÿ
);

48451 
d¿w_lše
(
X
 - 3,
Y
,X + 3,Y,
cŞÜ
,
İac™y
).draw_line(X,Y - 3,X,Y + 3,color,opacity);

48455 
cimg_fÜoff
(
d©a
,
off
) {

48457 
	gX
 = ()
cimg
::
round
(
off
*
fx
 + 
wb2
),

48458 
	gY
 = ()
cimg
::
round
((
d©a
[
off
]-
m
)/
ÿ
);

48459 
d¿w_lše
(
X
 - 3,
Y
 - 3,X + 3,Y + 3,
cŞÜ
,
İac™y
).draw_line(X - 3,Y + 3,X + 3,Y - 3,color,opacity);

48463 
cimg_fÜoff
(
d©a
,
off
) {

48465 
	gX
 = ()
cimg
::
round
(
off
*
fx
 + 
wb2
),

48466 
	gY
 = ()
cimg
::
round
((
d©a
[
off
]-
m
)/
ÿ
);

48467 
d¿w_cœşe
(
X
,
Y
,3,
cŞÜ
,
İac™y
);

48471 
cimg_fÜoff
(
d©a
,
off
) {

48473 
	gX
 = ()
cimg
::
round
(
off
*
fx
 + 
wb2
),

48474 
	gY
 = ()
cimg
::
round
((
d©a
[
off
]-
m
)/
ÿ
);

48475 
d¿w_cœşe
(
X
,
Y
,3,
cŞÜ
,
İac™y
,~0U);

48479 
cimg_fÜoff
(
d©a
,
off
) {

48481 
	gX
 = ()
cimg
::
round
(
off
*
fx
 + 
wb2
),

48482 
	gY
 = ()
cimg
::
round
((
d©a
[
off
]-
m
)/
ÿ
);

48483 
d¿w_»ùªgË
(
X
 - 3,
Y
 - 3,X + 3,Y + 3,
cŞÜ
,
İac™y
,~0U);

48487 
cimg_fÜoff
(
d©a
,
off
) {

48489 
	gX
 = ()
cimg
::
round
(
off
*
fx
 + 
wb2
),

48490 
	gY
 = ()
cimg
::
round
((
d©a
[
off
]-
m
)/
ÿ
);

48491 
d¿w_lše
(
X
,
Y
 - 4,X + 4,Y,
cŞÜ
,
İac™y
).

48492 
d¿w_lše
(
X
 + 4,
Y
,X,Y + 4,
cŞÜ
,
İac™y
).

48493 
d¿w_lše
(
X
,
Y
 + 4,X - 4,Y,
cŞÜ
,
İac™y
).

48494 
d¿w_lše
(
X
 - 4,
Y
,X,Y - 4,
cŞÜ
,
İac™y
);

48499  *
	gthis
;

48502 
boŞ
 
_d¿w_fl
(cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
,

48503 cÚ¡ 
CImg
<
T
>& 
»f
, cÚ¡ 
tŞ”ªû2
) const {

48504 cÚ¡ 
T
 *
	g±r1
 = 
d©a
(
x
,
y
,
z
), *
	g±r2
 = 
»f
.
_d©a
;

48505 cÚ¡ 
	goff
 = 
_width
*
_height
*
_d•th
;

48506 
	gdiff
 = 0;

48507 
cimg_fÜC
(*
this
,
c
è{ 
	gdiff
 +ğ
cimg
::
sqr
(*
±r1
 - *(
±r2
++)); 
	g±r1
+=
off
; }

48508  
	gdiff
<=
tŞ”ªû2
;

48523 
	g‹m¶©e
<
ty³Çme
 
	gtc
,y³Çm
	gt
>

48524 
	gCImg
<
	gT
>& 
d¿w_fl
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
,

48525 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
,

48526 
CImg
<
t
> &
»giÚ
,

48527 cÚ¡ 
tŞ”ªû
 = 0,

48528 cÚ¡ 
boŞ
 
is_high_cÚÃùiv™y
 = 
çl£
) {

48529 
	#_d¿w_fl_push
(
x
,
y
,
z
èià(
N
>=
¡ack
.
_width
è¡ack.
	`»size
(2*N + 1,1,1,3,0); \

48530 
¡ack
[
N
] = 
x
; 
	`¡ack
(N,1èğ
y
; sck(N++,2èğ
z


	)

48531 
	#_d¿w_fl_pİ
(
x
,
y
,
z
èx = 
¡ack
[--
N
]; y = 
	`¡ack
(N,1); z = sck(N,2)

	)

48532 
	#_d¿w_fl_is_šside
(
x
,
y
,
z
è!
	`_»giÚ
(x,y,zè&& 
	`_d¿w_fl
(x,y,z,
»f
,
tŞ”ªû2
)

	)

48534 ià(!
cÚšsXYZC
(
x0
,
y0
,
z0
,0)è *
	gthis
;

48535 cÚ¡ 
	gnİac™y
 = 
cimg
::
abs
(()
İac™y
), 
	gcİac™y
 = 1 - 
¡d
::
max
(()opacity,0.f);

48536 cÚ¡ 
	gtŞ”ªû2
 = 
cimg
::
sqr
(
tŞ”ªû
);

48537 cÚ¡ 
	gCImg
<
	gT
> 
	g»f
 = 
g‘_veùÜ_©
(
x0
,
y0
,
z0
);

48538 
	gCImg
<
	guštT
> 
¡ack
(256,1,1,3);

48539 
	gCImg
<
	guch¬T
> 
_»giÚ
(
_width
,
_height
,
_d•th
,1,0);

48540 
	gN
 = 0;

48541 
	gx
, 
	gy
, 
	gz
;

48543 
_d¿w_fl_push
(
x0
,
y0
,
z0
);

48544 
	gN
>0) {

48545 
_d¿w_fl_pİ
(
x
,
y
,
z
);

48546 ià(!
_»giÚ
(
x
,
y
,
z
)) {

48547 cÚ¡ 
	gyp
 = 
y
 - 1, 
	gyn
 = y + 1, 
	gzp
 = 
z
 - 1, 
	gzn
 = z + 1;

48548 
	gxl
 = 
x
, 
	gxr
 = x;

48551 
boŞ
 
	gis_yp
 = 
çl£
, 
	gis_yn
 = f®£, 
	gis_zp
 = f®£, 
	gis_zn
 = false;

48552 
	g¡•
 = -1; step<2; step+=2) {

48553 
x
>=0 && x<
width
(è&& 
_d¿w_fl_is_šside
(x,
y
,
z
)) {

48554 ià(
	gyp
>=0 && 
_d¿w_fl_is_šside
(
x
,
yp
,
z
)) {

48555 ià(!
	gis_yp
è{ 
_d¿w_fl_push
(
x
,
yp
,
z
); is_y°ğ
Œue
; }

48556 } 
	gis_yp
 = 
çl£
;

48557 ià(
	gyn
<
height
(è&& 
_d¿w_fl_is_šside
(
x
,
yn
,
z
)) {

48558 ià(!
	gis_yn
è{ 
_d¿w_fl_push
(
x
,
yn
,
z
); is_yÀğ
Œue
; }

48559 } 
	gis_yn
 = 
çl£
;

48560 ià(
d•th
()>1) {

48561 ià(
	gzp
>=0 && 
_d¿w_fl_is_šside
(
x
,
y
,
zp
)) {

48562 ià(!
	gis_zp
è{ 
_d¿w_fl_push
(
x
,
y
,
zp
); is_z°ğ
Œue
; }

48563 } 
	gis_zp
 = 
çl£
;

48564 ià(
	gzn
<
d•th
(è&& 
_d¿w_fl_is_šside
(
x
,
y
,
zn
)) {

48565 ià(!
	gis_zn
è{ 
_d¿w_fl_push
(
x
,
y
,
zn
); is_zÀğ
Œue
; }

48566 } 
	gis_zn
 = 
çl£
;

48568 ià(
	gis_high_cÚÃùiv™y
) {

48569 cÚ¡ 
	gxp
 = 
x
 - 1, 
	gxn
 = x + 1;

48570 ià(
	gyp
>=0 && !
is_yp
) {

48571 ià(
xp
>=0 && 
_d¿w_fl_is_šside
(xp,
yp
,
z
)) {

48572 
_d¿w_fl_push
(
xp
,
yp
,
z
); ià(
	g¡•
<0è
	gis_yp
 = 
Œue
;

48574 ià(
	gxn
<
width
(è&& 
_d¿w_fl_is_šside
(
xn
,
yp
,
z
)) {

48575 
_d¿w_fl_push
(
xn
,
yp
,
z
); ià(
	g¡•
>0è
	gis_yp
 = 
Œue
;

48578 ià(
	gyn
<
height
(è&& !
	gis_yn
) {

48579 ià(
	gxp
>=0 && 
_d¿w_fl_is_šside
(
xp
,
yn
,
z
)) {

48580 
_d¿w_fl_push
(
xp
,
yn
,
z
); ià(
	g¡•
<0è
	gis_yn
 = 
Œue
;

48582 ià(
	gxn
<
width
(è&& 
_d¿w_fl_is_šside
(
xn
,
yn
,
z
)) {

48583 
_d¿w_fl_push
(
xn
,
yn
,
z
); ià(
	g¡•
>0è
	gis_yn
 = 
Œue
;

48586 ià(
d•th
()>1) {

48587 ià(
	gzp
>=0 && !
is_zp
) {

48588 ià(
xp
>=0 && 
_d¿w_fl_is_šside
(xp,
y
,
zp
)) {

48589 
_d¿w_fl_push
(
xp
,
y
,
zp
); ià(
	g¡•
<0è
	gis_zp
 = 
Œue
;

48591 ià(
	gxn
<
width
(è&& 
_d¿w_fl_is_šside
(
xn
,
y
,
zp
)) {

48592 
_d¿w_fl_push
(
xn
,
y
,
zp
); ià(
	g¡•
>0è
	gis_zp
 = 
Œue
;

48595 ià(
	gyp
>=0 && !
is_yp
) {

48596 ià(
_d¿w_fl_is_šside
(
x
,
yp
,
zp
)è{ 
_d¿w_fl_push
(x,yp,zp); }

48597 ià(
	gxp
>=0 && 
_d¿w_fl_is_šside
(
xp
,
yp
,
zp
)è{ 
_d¿w_fl_push
(xp,yp,zp); }

48598 ià(
	gxn
<
width
(è&& 
_d¿w_fl_is_šside
(
xn
,
yp
,
zp
)è{ 
_d¿w_fl_push
(xn,yp,zp); }

48600 ià(
	gyn
<
height
(è&& !
	gis_yn
) {

48601 ià(
_d¿w_fl_is_šside
(
x
,
yn
,
zp
)è{ 
_d¿w_fl_push
(x,yn,zp); }

48602 ià(
	gxp
>=0 && 
_d¿w_fl_is_šside
(
xp
,
yn
,
zp
)è{ 
_d¿w_fl_push
(xp,yn,zp); }

48603 ià(
	gxn
<
width
(è&& 
_d¿w_fl_is_šside
(
xn
,
yn
,
zp
)è{ 
_d¿w_fl_push
(xn,yn,zp); }

48607 ià(
	gzn
<
d•th
(è&& !
	gis_zn
) {

48608 ià(
	gxp
>=0 && 
_d¿w_fl_is_šside
(
xp
,
y
,
zn
)) {

48609 
_d¿w_fl_push
(
xp
,
y
,
zn
); ià(
	g¡•
<0è
	gis_zn
 = 
Œue
;

48611 ià(
	gxn
<
width
(è&& 
_d¿w_fl_is_šside
(
xn
,
y
,
zn
)) {

48612 
_d¿w_fl_push
(
xn
,
y
,
zn
); ià(
	g¡•
>0è
	gis_zn
 = 
Œue
;

48615 ià(
	gyp
>=0 && !
is_yp
) {

48616 ià(
_d¿w_fl_is_šside
(
x
,
yp
,
zn
)è{ 
_d¿w_fl_push
(x,yp,zn); }

48617 ià(
	gxp
>=0 && 
_d¿w_fl_is_šside
(
xp
,
yp
,
zn
)è{ 
_d¿w_fl_push
(xp,yp,zn); }

48618 ià(
	gxn
<
width
(è&& 
_d¿w_fl_is_šside
(
xn
,
yp
,
zn
)è{ 
_d¿w_fl_push
(xn,yp,zn); }

48620 ià(
	gyn
<
height
(è&& !
	gis_yn
) {

48621 ià(
_d¿w_fl_is_šside
(
x
,
yn
,
zn
)è{ 
_d¿w_fl_push
(x,yn,zn); }

48622 ià(
	gxp
>=0 && 
_d¿w_fl_is_šside
(
xp
,
yn
,
zn
)è{ 
_d¿w_fl_push
(xp,yn,zn); }

48623 ià(
	gxn
<
width
(è&& 
_d¿w_fl_is_šside
(
xn
,
yn
,
zn
)è{ 
_d¿w_fl_push
(xn,yn,zn); }

48628 
	gx
+=
¡•
;

48630 ià(
	g¡•
<0è{ 
	gxl
 = ++
x
; 
	gx
 = 
xr
 + 1; 
	gis_yp
 = 
is_yn
 = 
is_zp
 = 
is_zn
 = 
çl£
; }

48631 
	gxr
 = --
x
;

48633 
	g¡d
::
mem£t
(
_»giÚ
.
d©a
(
xl
,
y
,
z
),1,
xr
 - xl + 1);

48634 ià(
	gİac™y
==1) {

48635 ià((
T
)==1) {

48636 cÚ¡ 
dx
 = 
xr
 - 
xl
 + 1;

48637 
cimg_fÜC
(*
this
,
c
è
	g¡d
::
mem£t
(
d©a
(
xl
,
y
,
z
,c),()
cŞÜ
[c],
dx
);

48638 } 
cimg_fÜC
(*
this
,
c
) {

48639 cÚ¡ 
T
 
	gv®
 = (T)
cŞÜ
[
c
];

48640 
T
 *
	g±ri
 = 
d©a
(
xl
,
y
,
z
,
c
); 
	gk
 = xl; k<=
xr
; ++kè*ÕŒi++èğ
v®
;

48642 } 
cimg_fÜC
(*
this
,
c
) {

48643 cÚ¡ 
T
 
	gv®
 = (T)(
cŞÜ
[
c
]*
nİac™y
);

48644 
T
 *
	g±ri
 = 
d©a
(
xl
,
y
,
z
,
c
); 
	gk
 = xl; k<=
xr
; ++kè{ *±r˜ğ(T)(
v®
 + *
±ri
*
cİac™y
); ++ptri; }

48648 
	g_»giÚ
.
move_to
(
»giÚ
);

48649  *
	gthis
;

48653 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

48654 
	gCImg
<
	gT
>& 
d¿w_fl
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
,

48655 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1,

48656 cÚ¡ 
tŞ”ªû
=0, cÚ¡ 
boŞ
 
is_high_cÚÃx™y
=
çl£
) {

48657 
CImg
<
uch¬T
> 
tmp
;

48658  
d¿w_fl
(
x0
,
y0
,
z0
,
cŞÜ
,
İac™y
,
tmp
,
tŞ”ªû
,
is_high_cÚÃx™y
);

48662 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

48663 
	gCImg
<
	gT
>& 
d¿w_fl
(cÚ¡ 
x0
, cÚ¡ 
y0
,

48664 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1,

48665 cÚ¡ 
tŞ”ªû
=0, cÚ¡ 
boŞ
 
is_high_cÚÃx™y
=
çl£
) {

48666 
CImg
<
uch¬T
> 
tmp
;

48667  
d¿w_fl
(
x0
,
y0
,0,
cŞÜ
,
İac™y
,
tmp
,
tŞ”ªû
,
is_high_cÚÃx™y
);

48677 
	gCImg
<
	gT
>& 
d¿w_¶asma
(cÚ¡ 
®pha
=1, cÚ¡ 
b‘a
=0, cÚ¡ 
sÿË
=8) {

48678 ià(
is_em±y
()è *
this
;

48679 cÚ¡ 
	gw
 = 
width
(), 
	gh
 = 
height
();

48680 cÚ¡ 
Tæßt
 
	gm
 = (Tæßt)
cimg
::
ty³
<
T
>::
mš
(), 
	gM
 = (Tæßt)cimg::ty³<T>::
max
();

48681 
cimg_ušt64
 
	gºg
 = (
cimg
::
_¿nd
(),
	gcimg
::
ºg
());

48682 
cimg_fÜZC
(*
this
,
z
,
c
) {

48683 
	gCImg
<
	gT
> 
	g»f
 = 
g‘_sh¬ed_¦iû
(
z
,
c
);

48684 
	gd–
 = 1<<
¡d
::
mš
(
sÿË
,31U); delta>1; delta>>=1) {

48685 cÚ¡ 
d–2
 = 
d–
>>1;

48686 cÚ¡ 
	gr
 = 
®pha
*
d–
 + 
b‘a
;

48689 
	gy0
 = 0; y0<
	gh
; y0+=
d–
)

48690 
x0
 = 0; 
	gx0
<
	gw
; x0+=
d–
) {

48691 cÚ¡ 
x1
 = (
x0
 + 
d–
)%
w
, 
	gy1
 = (
y0
 + d–)%
h
, 
	gxc
 = (x0 + 
d–2
)%w, 
	gyc
 = (y0 + delta2)%h;

48692 cÚ¡ 
Tæßt
 
	gv®
 = (Tæßt)(0.25f*(
»f
(
x0
,
y0
è+„ef(x0,
y1
è+„ef(x0,y1è+„ef(
x1
,y1)) +

48693 
r
*
	gcimg
::
¿nd
(-1,1,&
ºg
));

48694 
»f
(
xc
,
yc
èğ(
T
)(
v®
<
m
?m:v®>
M
?M:val);

48698 
	gy
 = -
d–2
; y<
	gh
; y+=
d–
)

48699 
x0
=0; 
	gx0
<
	gw
; x0+=
d–
) {

48700 cÚ¡ 
y0
 = 
cimg
::
mod
(
y
,
h
), 
	gx1
 = (
x0
 + 
d–
)%
w
, 
	gy1
 = (y + delta)%h,

48701 
	gxc
 = (
x0
 + 
d–2
)%
w
, 
	gyc
 = (
y
 + d–2)%
h
;

48702 cÚ¡ 
Tæßt
 
	gv®
 = (Tæßt)(0.25f*(
»f
(
xc
,
y0
è+„ef(
x0
,
yc
è+„ef(xc,
y1
è+„ef(
x1
,yc)) +

48703 
r
*
	gcimg
::
¿nd
(-1,1,&
ºg
));

48704 
»f
(
xc
,
yc
èğ(
T
)(
v®
<
m
?m:v®>
M
?M:val);

48706 
	gy0
 = 0; y0<
	gh
; y0+=
d–
)

48707 
x
 = -
d–2
; 
	gx
<
	gw
; x+=
d–
) {

48708 cÚ¡ 
x0
 = 
cimg
::
mod
(
x
,
w
), 
	gx1
 = (x + 
d–
)%w, 
	gy1
 = (
y0
 + d–)%
h
,

48709 
	gxc
 = (
x
 + 
d–2
)%
w
, 
	gyc
 = (
y0
 + d–2)%
h
;

48710 cÚ¡ 
Tæßt
 
	gv®
 = (Tæßt)(0.25f*(
»f
(
xc
,
y0
è+„ef(
x0
,
yc
è+„ef(xc,
y1
è+„ef(
x1
,yc)) +

48711 
r
*
	gcimg
::
¿nd
(-1,1,&
ºg
));

48712 
»f
(
xc
,
yc
èğ(
T
)(
v®
<
m
?m:v®>
M
?M:val);

48714 
	gy
 = -
d–2
; y<
	gh
; y+=
d–
)

48715 
x
 = -
d–2
; 
	gx
<
	gw
; x+=
d–
) {

48716 cÚ¡ 
x0
 = 
cimg
::
mod
(
x
,
w
), 
	gy0
 = cimg::mod(
y
,
h
), 
	gx1
 = (x + 
d–
)%w, 
	gy1
 = (y + delta)%h,

48717 
	gxc
 = (
x
 + 
d–2
)%
w
, 
	gyc
 = (
y
 + d–2)%
h
;

48718 cÚ¡ 
Tæßt
 
	gv®
 = (Tæßt)(0.25f*(
»f
(
xc
,
y0
è+„ef(
x0
,
yc
è+„ef(xc,
y1
è+„ef(
x1
,yc)) +

48719 
r
*
	gcimg
::
¿nd
(-1,1,&
ºg
));

48720 
»f
(
xc
,
yc
èğ(
T
)(
v®
<
m
?m:v®>
M
?M:val);

48724 
	gcimg
::
¤ªd
(
ºg
);

48725  *
	gthis
;

48747 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

48748 
	gCImg
<
	gT
>& 
d¿w_mªd–brÙ
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
x1
, cÚ¡ 
y1
,

48749 cÚ¡ 
CImg
<
tc
>& 
cŞÜm­
, cÚ¡ 
İac™y
=1,

48750 cÚ¡ 
z0r
=-2, cÚ¡ 
z0i
=-2, cÚ¡ 
z1r
=2, cÚ¡ 
z1i
=2,

48751 cÚ¡ 
™”©iÚ_max
=255,

48752 cÚ¡ 
boŞ
 
is_nÜm®ized_™”©iÚ
=
çl£
,

48753 cÚ¡ 
boŞ
 
is_julŸ_£t
=
çl£
,

48754 cÚ¡ 
·¿m_r
=0, cÚ¡ 
·¿m_i
=0) {

48755 ià(
is_em±y
()è *
this
;

48756 
	gCImg
<
	gtc
> 
	g·Ë‰e
;

48757 ià(
	gcŞÜm­
è
	g·Ë‰e
.
assign
(
cŞÜm­
.
_d©a
,cŞÜm­.
size
()/cŞÜm­.
_¥eùrum
,1,1,cŞÜm­._¥eùrum,
Œue
);

48758 ià(
	g·Ë‰e
 &&…®‘‹.
	g_¥eùrum
!=
_¥eùrum
)

48759 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


48762 
cimg_š¡ªû
,

48763 
cŞÜm­
.
_width
,cŞÜm­.
_height
,cŞÜm­.
_d•th
,cŞÜm­.
_¥eùrum
,cŞÜm­.
_d©a
);

48765 cÚ¡ 
	gnİac™y
 = 
cimg
::
abs
(
İac™y
), 
	gcİac™y
 = 1 - 
¡d
::
max
(İac™y,0.f), 
	gÊ2
 = ()¡d::
log
(2.);

48767 
	g_x0
 = 
cimg
::
cut
(
x0
,0,
width
() - 1),

48768 
	g_y0
 = 
cimg
::
cut
(
y0
,0,
height
() - 1),

48769 
	g_x1
 = 
cimg
::
cut
(
x1
,0,
width
() - 1),

48770 
	g_y1
 = 
cimg
::
cut
(
y1
,0,
height
() - 1);

48772 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_cŞÏp£
(2)

48773 
cimg_İ’mp_if
((1 + 
_x1
 - 
_x0
)*(1 + 
_y1
 - 
_y0
)>=(
cimg_İ’mp_sizeçùÜ
)*2048))

48774 
q
 = 
_y0
; 
	gq
<=
_y1
; ++q)

48775 
	gp
 = 
_x0
;…<=
_x1
; ++p) {

48776 
	g™”©iÚ
 = 0;

48777 cÚ¡ 
	gx
 = 
z0r
 + 
p
*(
z1r
-z0r)/
_width
, 
	gy
 = 
z0i
 + 
q
*(
z1i
-z0i)/
_height
;

48778 
	gzr
, 
	gzi
, 
	gü
, 
	gci
;

48779 ià(
	gis_julŸ_£t
è{ 
	gzr
 = 
x
; 
	gzi
 = 
y
; 
	gü
 = 
·¿m_r
; 
	gci
 = 
·¿m_i
; }

48780 { 
	gzr
 = 
·¿m_r
; 
	gzi
 = 
·¿m_i
; 
	gü
 = 
x
; 
	gci
 = 
y
; }

48781 
	g™”©iÚ
=1; 
zr
*
	gzr
 + 
zi
*
	gzi
<=4 && 
™”©iÚ
<=
™”©iÚ_max
; ++iteration) {

48782 cÚ¡ 
	g‹mp
 = 
zr
*z¸- 
zi
*z˜+ 
ü
;

48783 
	gzi
 = 2*
zr
*
zi
 + 
ci
;

48784 
	gzr
 = 
‹mp
;

48786 ià(
	g™”©iÚ
>
	g™”©iÚ_max
) {

48787 ià(
	g·Ë‰e
) {

48788 ià(
	gİac™y
>=1è
cimg_fÜC
(*
this
,
c
è(*
	gthis
)(
	gp
,
	gq
,0,
	gc
èğ(
T
)
·Ë‰e
(0,c);

48789 
cimg_fÜC
(*
this
,
c
è(*
	gthis
)(
	gp
,
	gq
,0,
	gc
èğ(
T
)(
·Ë‰e
(0,c)*
	gnİac™y
 + (*this)Õ,q,0,c)*
	gcİac™y
);

48791 ià(
	gİac™y
>=1è
cimg_fÜC
(*
this
,
c
è(*
	gthis
)(
	gp
,
	gq
,0,
	gc
èğ(
T
)0;

48792 
cimg_fÜC
(*
this
,
c
è(*
	gthis
)(
	gp
,
	gq
,0,
	gc
èğ(
T
)((*this)(
p
,q,0,c)*
	gcİac™y
);

48794 } ià(
	gis_nÜm®ized_™”©iÚ
) {

48796 
	gnÜmz
 = ()
cimg
::
abs
(
zr
*z¸+ 
zi
*zi),

48797 
	gn™”©iÚ
 = ()(
™”©iÚ
 + 1 - 
¡d
::
log
(¡d::log(
nÜmz
))/
Ê2
);

48798 ià(
	g·Ë‰e
) {

48799 ià(
	gİac™y
>=1è
cimg_fÜC
(*
this
,
c
è(*
	gthis
)(
	gp
,
	gq
,0,
	gc
èğ(
T
)
·Ë‰e
.
_lš—r_©X
(
n™”©iÚ
,c);

48800 
cimg_fÜC
(*
this
,
c
)

48801 (*
	gthis
)(
	gp
,
	gq
,0,
	gc
èğ(
T
)(
·Ë‰e
.
_lš—r_©X
(
n™”©iÚ
,
c
)*
	gnİac™y
 + (*this)Õ,q,0,c)*
	gcİac™y
);

48803 ià(
	gİac™y
>=1è
cimg_fÜC
(*
this
,
c
è(*
	gthis
)(
	gp
,
	gq
,0,
	gc
èğ(
T
)
n™”©iÚ
;

48804 
cimg_fÜC
(*
this
,
c
è(*
	gthis
)(
	gp
,
	gq
,0,
	gc
èğ(
T
)(
n™”©iÚ
*
nİac™y
 + (*this)(
p
,q,0,c)*
	gcİac™y
);

48807 ià(
	g·Ë‰e
) {

48808 ià(
	gİac™y
>=1è
cimg_fÜC
(*
this
,
c
è(*
	gthis
)(
	gp
,
	gq
,0,
	gc
èğ(
T
)
·Ë‰e
.
_©X
(
™”©iÚ
,c);

48809 
cimg_fÜC
(*
this
,
c
è(*
	gthis
)(
	gp
,
	gq
,0,
	gc
èğ(
T
)(
·Ë‰e
(
™”©iÚ
,c)*
	gnİac™y
 + (*this)Õ,q,0,c)*
	gcİac™y
);

48811 ià(
	gİac™y
>=1è
cimg_fÜC
(*
this
,
c
è(*
	gthis
)(
	gp
,
	gq
,0,
	gc
èğ(
T
)
™”©iÚ
;

48812 
cimg_fÜC
(*
this
,
c
è(*
	gthis
)(
	gp
,
	gq
,0,
	gc
èğ(
T
)(
™”©iÚ
*
nİac™y
 + (*this)(
p
,q,0,c)*
	gcİac™y
);

48816  *
	gthis
;

48820 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

48821 
	gCImg
<
	gT
>& 
d¿w_mªd–brÙ
(cÚ¡ 
CImg
<
tc
>& 
cŞÜm­
, cÚ¡ 
İac™y
=1,

48822 cÚ¡ 
z0r
=-2, cÚ¡ 
z0i
=-2, cÚ¡ 
z1r
=2, cÚ¡ 
z1i
=2,

48823 cÚ¡ 
™”©iÚ_max
=255,

48824 cÚ¡ 
boŞ
 
is_nÜm®ized_™”©iÚ
=
çl£
,

48825 cÚ¡ 
boŞ
 
is_julŸ_£t
=
çl£
,

48826 cÚ¡ 
·¿m_r
=0, cÚ¡ 
·¿m_i
=0) {

48827  
d¿w_mªd–brÙ
(0,0,
_width
 - 1,
_height
 - 1,
cŞÜm­
,
İac™y
,

48828 
z0r
,
z0i
,
z1r
,
z1i
,
™”©iÚ_max
,
is_nÜm®ized_™”©iÚ
,
is_julŸ_£t
,
·¿m_r
,
·¿m_i
);

48838 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

48839 
	gCImg
<
	gT
>& 
d¿w_gaussŸn
(cÚ¡ 
xc
, cÚ¡ 
sigma
,

48840 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1) {

48841 ià(
is_em±y
()è *
this
;

48842 ià(!
	gcŞÜ
)

48843 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


48845 
cimg_š¡ªû
);

48846 cÚ¡ 
	gsigma2
 = 2*
sigma
*sigma, 
	gnİac™y
 = 
cimg
::
abs
(
İac™y
), 
	gcİac™y
 = 1 - 
¡d
::
max
(opacity,0.f);

48847 cÚ¡ 
ulÚgT
 
	gwhd
 = (ulÚgT)
_width
*
_height
*
_d•th
;

48848 cÚ¡ 
tc
 *
	gcŞ
 = 
cŞÜ
;

48849 
cimg_fÜX
(*
this
,
x
) {

48850 cÚ¡ 
	gdx
 = (
x
 - 
xc
), 
	gv®
 = ()
¡d
::
exp
(-
dx
*dx/
sigma2
);

48851 
T
 *
	g±rd
 = 
d©a
(
x
,0,0,0);

48852 ià(
	gİac™y
>=1è
cimg_fÜC
(*
this
,
c
è{ *
	g±rd
 = (
T
)(
v®
*(*
cŞ
++));…Œd+=
whd
; }

48853 
cimg_fÜC
(*
this
,
c
è{ *
	g±rd
 = (
T
)(
nİac™y
*
v®
*(*
cŞ
++è+ *
±rd
*
cİac™y
);…Œd+=
whd
; }

48854 
	gcŞ
-=
_¥eùrum
;

48856  *
	gthis
;

48867 
	g‹m¶©e
<
ty³Çme
 
	gt
,y³Çm
	gtc
>

48868 
	gCImg
<
	gT
>& 
d¿w_gaussŸn
(cÚ¡ 
xc
, cÚ¡ 
yc
, cÚ¡ 
CImg
<
t
>& 
‹nsÜ
,

48869 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1) {

48870 ià(
is_em±y
()è *
this
;

48871 ià(
	g‹nsÜ
.
	g_width
!=2 || 
‹nsÜ
.
_height
!=2 ||’sÜ.
_d•th
!=1 ||’sÜ.
_¥eùrum
!=1)

48872 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


48874 
cimg_š¡ªû
,

48875 
‹nsÜ
.
_width
,‹nsÜ.
_height
,‹nsÜ.
_d•th
,‹nsÜ.
_¥eùrum
,‹nsÜ.
_d©a
);

48876 ià(!
	gcŞÜ
)

48877 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


48879 
cimg_š¡ªû
);

48880 
ty³Çme
 
	tCImg
<
	tt
>::
	tTæßt
 
	ttæßt
;

48881 cÚ¡ 
	gCImg
<
	gtæßt
> 
	gšvT
 = 
‹nsÜ
.
g‘_šv”t
(), 
	gšvT2
 = (
švT
*invT)/=-2.;

48882 cÚ¡ 
tæßt
 
	ga
 = 
švT2
(0,0), 
	gb
 = 2*švT2(1,0), 
	gc
 = invT2(1,1);

48883 cÚ¡ 
	gnİac™y
 = 
cimg
::
abs
(
İac™y
), 
	gcİac™y
 = 1 - 
¡d
::
max
(opacity,0.f);

48884 cÚ¡ 
ulÚgT
 
	gwhd
 = (ulÚgT)
_width
*
_height
*
_d•th
;

48885 cÚ¡ 
tc
 *
	gcŞ
 = 
cŞÜ
;

48886 
	gdy
 = -
yc
;

48887 
cimg_fÜY
(*
this
,
y
) {

48888 
	gdx
 = -
xc
;

48889 
cimg_fÜX
(*
this
,
x
) {

48890 cÚ¡ 
	gv®
 = ()
¡d
::
exp
(
a
*
dx
*dx + 
b
*dx*
dy
 + 
c
*dy*dy);

48891 
T
 *
	g±rd
 = 
d©a
(
x
,
y
,0,0);

48892 ià(
	gİac™y
>=1è
cimg_fÜC
(*
this
,
k
è{ *
	g±rd
 = (
T
)(
v®
*(*
cŞ
++));…Œd+=
whd
; }

48893 
cimg_fÜC
(*
this
,
k
è{ *
	g±rd
 = (
T
)(
nİac™y
*
v®
*(*
cŞ
++è+ *
±rd
*
cİac™y
);…Œd+=
whd
; }

48894 
	gcŞ
-=
_¥eùrum
;

48895 ++
	gdx
;

48897 ++
	gdy
;

48899  *
	gthis
;

48903 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

48904 
	gCImg
<
	gT
>& 
d¿w_gaussŸn
(cÚ¡ 
xc
, cÚ¡ 
yc
, cÚ¡ 
r1
, cÚ¡ 
r2
, cÚ¡ 
ru
, cÚ¡ 
rv
,

48905 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1) {

48907 
a
 = 
r1
*
ru
*ru + 
r2
*
rv
*rv,

48908 
	gb
 = (
r1
-
r2
)*
ru
*
rv
,

48909 
	gc
 = 
r1
*
rv
*rv + 
r2
*
ru
*ru;

48910 cÚ¡ 
	gCImg
<
	gTæßt
> 
‹nsÜ
(2,2,1,1, 
a
,
b
,b,
c
);

48911  
d¿w_gaussŸn
(
xc
,
yc
,
‹nsÜ
,
cŞÜ
,
İac™y
);

48915 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

48916 
	gCImg
<
	gT
>& 
d¿w_gaussŸn
(cÚ¡ 
xc
, cÚ¡ 
yc
, cÚ¡ 
sigma
,

48917 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1) {

48918  
d¿w_gaussŸn
(
xc
,
yc
,
CImg
<
æßtT
>::
dŸgÚ®
(
sigma
,sigma),
cŞÜ
,
İac™y
);

48922 
	g‹m¶©e
<
ty³Çme
 
	gt
,y³Çm
	gtc
>

48923 
	gCImg
<
	gT
>& 
d¿w_gaussŸn
(cÚ¡ 
xc
, cÚ¡ 
yc
, cÚ¡ 
zc
, cÚ¡ 
CImg
<
t
>& 
‹nsÜ
,

48924 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1) {

48925 ià(
is_em±y
()è *
this
;

48926 
ty³Çme
 
	tCImg
<
	tt
>::
	tTæßt
 
	ttæßt
;

48927 ià(
	g‹nsÜ
.
	g_width
!=3 || 
‹nsÜ
.
_height
!=3 ||’sÜ.
_d•th
!=1 ||’sÜ.
_¥eùrum
!=1)

48928 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


48930 
cimg_š¡ªû
,

48931 
‹nsÜ
.
_width
,‹nsÜ.
_height
,‹nsÜ.
_d•th
,‹nsÜ.
_¥eùrum
,‹nsÜ.
_d©a
);

48933 cÚ¡ 
	gCImg
<
	gtæßt
> 
	gšvT
 = 
‹nsÜ
.
g‘_šv”t
(), 
	gšvT2
 = (
švT
*invT)/=-2.;

48934 cÚ¡ 
tæßt
 
	ga
 = 
švT2
(0,0), 
	gb
 = 2*švT2(1,0), 
	gc
 = 2*švT2(2,0), 
	gd
 = invT2(1,1), 
	ge
 = 2*švT2(2,1), 
	gf
 = invT2(2,2);

48935 cÚ¡ 
	gnİac™y
 = 
cimg
::
abs
(
İac™y
), 
	gcİac™y
 = 1 - 
¡d
::
max
(opacity,0.f);

48936 cÚ¡ 
ulÚgT
 
	gwhd
 = (ulÚgT)
_width
*
_height
*
_d•th
;

48937 cÚ¡ 
tc
 *
	gcŞ
 = 
cŞÜ
;

48938 
cimg_fÜXYZ
(*
this
,
x
,
y
,
z
) {

48940 
	gdx
 = (
x
 - 
xc
), 
	gdy
 = (
y
 - 
yc
), 
	gdz
 = (
z
 - 
zc
),

48941 
	gv®
 = ()
¡d
::
exp
(
a
*
dx
*dx + 
b
*dx*
dy
 + 
c
*dx*
dz
 + 
d
*dy*dy + 
e
*dy*dz + 
f
*dz*dz);

48942 
T
 *
	g±rd
 = 
d©a
(
x
,
y
,
z
,0);

48943 ià(
	gİac™y
>=1è
cimg_fÜC
(*
this
,
k
è{ *
	g±rd
 = (
T
)(
v®
*(*
cŞ
++));…Œd+=
whd
; }

48944 
cimg_fÜC
(*
this
,
k
è{ *
	g±rd
 = (
T
)(
nİac™y
*
v®
*(*
cŞ
++è+ *
±rd
*
cİac™y
);…Œd+=
whd
; }

48945 
	gcŞ
-=
_¥eùrum
;

48947  *
	gthis
;

48951 
	g‹m¶©e
<
ty³Çme
 
	gtc
>

48952 
	gCImg
<
	gT
>& 
d¿w_gaussŸn
(cÚ¡ 
xc
, cÚ¡ 
yc
, cÚ¡ 
zc
, cÚ¡ 
sigma
,

48953 cÚ¡ 
tc
 *cÚ¡ 
cŞÜ
, cÚ¡ 
İac™y
=1) {

48954  
d¿w_gaussŸn
(
xc
,
yc
,
zc
,
CImg
<
æßtT
>::
dŸgÚ®
(
sigma
,sigma,sigma),
cŞÜ
,
İac™y
);

48976 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtf
,y³Çm
	gtc
,y³Çm
	gto
>

48977 
	gCImg
<
	gT
>& 
d¿w_objeù3d
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
,

48978 cÚ¡ 
CImg
<

>& 
v”tiûs
, cÚ¡ 
CImgLi¡
<
tf
>& 
´im™ives
,

48979 cÚ¡ 
CImgLi¡
<
tc
>& 
cŞÜs
, cÚ¡ 
CImg
<
to
>& 
İac™›s
,

48980 cÚ¡ 
»nd”_ty³
=4,

48981 cÚ¡ 
boŞ
 
is_doubË_sided
=
çl£
, cÚ¡ 
foÿË
=700,

48982 cÚ¡ 
lightx
=0, cÚ¡ 
lighty
=0, cÚ¡ 
lightz
=-5e8,

48983 cÚ¡ 
¥ecuÏr_lighŠess
=0.2f, cÚ¡ 
¥ecuÏr_shššess
=0.1f,

48984 cÚ¡ 
g_İac™y
=1) {

48985  
d¿w_objeù3d
(
x0
,
y0
,
z0
,
v”tiûs
,
´im™ives
,
cŞÜs
,
İac™›s
,
»nd”_ty³
,

48986 
is_doubË_sided
,
foÿË
,
lightx
,
lighty
,
lightz
,

48987 
¥ecuÏr_lighŠess
,
¥ecuÏr_shššess
,
g_İac™y
,
CImg
<
æßtT
>::
em±y
());

48991 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtf
,y³Çm
	gtc
,y³Çm
	gto
,y³Çm
	gtz
>

48992 
	gCImg
<
	gT
>& 
d¿w_objeù3d
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
,

48993 cÚ¡ 
CImg
<

>& 
v”tiûs
, cÚ¡ 
CImgLi¡
<
tf
>& 
´im™ives
,

48994 cÚ¡ 
CImgLi¡
<
tc
>& 
cŞÜs
, cÚ¡ 
CImg
<
to
>& 
İac™›s
,

48995 cÚ¡ 
»nd”_ty³
,

48996 cÚ¡ 
boŞ
 
is_doubË_sided
, cÚ¡ 
foÿË
,

48997 cÚ¡ 
lightx
, cÚ¡ 
lighty
, cÚ¡ 
lightz
,

48998 cÚ¡ 
¥ecuÏr_lighŠess
, cÚ¡ 
¥ecuÏr_shššess
,

48999 cÚ¡ 
g_İac™y
, 
CImg
<
tz
>& 
zbufãr
) {

49000  
_d¿w_objeù3d
(0,
zbufãr
,
x0
,
y0
,
z0
,
v”tiûs
,
´im™ives
,
cŞÜs
,
İac™›s
,

49001 
»nd”_ty³
,
is_doubË_sided
,
foÿË
,
lightx
,
lighty
,
lightz
,

49002 
¥ecuÏr_lighŠess
,
¥ecuÏr_shššess
,
g_İac™y
,1);

49005 #ifdeà
cimg_u£_bßrd


49006 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtf
,y³Çm
	gtc
,y³Çm
	gto
>

49007 
	gCImg
<
	gT
>& 
d¿w_objeù3d
(
LibBßrd
::
Bßrd
& 
bßrd
,

49008 cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
,

49009 cÚ¡ 
CImg
<

>& 
v”tiûs
, cÚ¡ 
CImgLi¡
<
tf
>& 
´im™ives
,

49010 cÚ¡ 
CImgLi¡
<
tc
>& 
cŞÜs
, cÚ¡ 
CImg
<
to
>& 
İac™›s
,

49011 cÚ¡ 
»nd”_ty³
=4,

49012 cÚ¡ 
boŞ
 
is_doubË_sided
=
çl£
, cÚ¡ 
foÿË
=700,

49013 cÚ¡ 
lightx
=0, cÚ¡ 
lighty
=0, cÚ¡ 
lightz
=-5e8,

49014 cÚ¡ 
¥ecuÏr_lighŠess
=0.2f, cÚ¡ 
¥ecuÏr_shššess
=0.1f,

49015 cÚ¡ 
g_İac™y
=1) {

49016  
d¿w_objeù3d
(
bßrd
,
x0
,
y0
,
z0
,
v”tiûs
,
´im™ives
,
cŞÜs
,
İac™›s
,
»nd”_ty³
,

49017 
is_doubË_sided
,
foÿË
,
lightx
,
lighty
,
lightz
,

49018 
¥ecuÏr_lighŠess
,
¥ecuÏr_shššess
,
g_İac™y
,
CImg
<
æßtT
>::
em±y
());

49021 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtf
,y³Çm
	gtc
,y³Çm
	gto
,y³Çm
	gtz
>

49022 
	gCImg
<
	gT
>& 
d¿w_objeù3d
(
LibBßrd
::
Bßrd
& 
bßrd
,

49023 cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
,

49024 cÚ¡ 
CImg
<

>& 
v”tiûs
, cÚ¡ 
CImgLi¡
<
tf
>& 
´im™ives
,

49025 cÚ¡ 
CImgLi¡
<
tc
>& 
cŞÜs
, cÚ¡ 
CImg
<
to
>& 
İac™›s
,

49026 cÚ¡ 
»nd”_ty³
,

49027 cÚ¡ 
boŞ
 
is_doubË_sided
, cÚ¡ 
foÿË
,

49028 cÚ¡ 
lightx
, cÚ¡ 
lighty
, cÚ¡ 
lightz
,

49029 cÚ¡ 
¥ecuÏr_lighŠess
, cÚ¡ 
¥ecuÏr_shššess
,

49030 cÚ¡ 
g_İac™y
, 
CImg
<
tz
>& 
zbufãr
) {

49031  
_d¿w_objeù3d
((*)&
bßrd
,
zbufãr
,
x0
,
y0
,
z0
,
v”tiûs
,
´im™ives
,
cŞÜs
,
İac™›s
,

49032 
»nd”_ty³
,
is_doubË_sided
,
foÿË
,
lightx
,
lighty
,
lightz
,

49033 
¥ecuÏr_lighŠess
,
¥ecuÏr_shššess
,
g_İac™y
,1);

49038 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtf
,y³Çm
	gtc
,y³Çm
	gto
>

49039 
	gCImg
<
	gT
>& 
d¿w_objeù3d
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
,

49040 cÚ¡ 
CImg
<

>& 
v”tiûs
, cÚ¡ 
CImgLi¡
<
tf
>& 
´im™ives
,

49041 cÚ¡ 
CImgLi¡
<
tc
>& 
cŞÜs
, cÚ¡ CImgLi¡<
to
>& 
İac™›s
,

49042 cÚ¡ 
»nd”_ty³
=4,

49043 cÚ¡ 
boŞ
 
is_doubË_sided
=
çl£
, cÚ¡ 
foÿË
=700,

49044 cÚ¡ 
lightx
=0, cÚ¡ 
lighty
=0, cÚ¡ 
lightz
=-5e8,

49045 cÚ¡ 
¥ecuÏr_lighŠess
=0.2f, cÚ¡ 
¥ecuÏr_shššess
=0.1f,

49046 cÚ¡ 
g_İac™y
=1) {

49047  
d¿w_objeù3d
(
x0
,
y0
,
z0
,
v”tiûs
,
´im™ives
,
cŞÜs
,
İac™›s
,
»nd”_ty³
,

49048 
is_doubË_sided
,
foÿË
,
lightx
,
lighty
,
lightz
,

49049 
¥ecuÏr_lighŠess
,
¥ecuÏr_shššess
,
g_İac™y
,
CImg
<
æßtT
>::
em±y
());

49053 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtf
,y³Çm
	gtc
,y³Çm
	gto
,y³Çm
	gtz
>

49054 
	gCImg
<
	gT
>& 
d¿w_objeù3d
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
,

49055 cÚ¡ 
CImg
<

>& 
v”tiûs
, cÚ¡ 
CImgLi¡
<
tf
>& 
´im™ives
,

49056 cÚ¡ 
CImgLi¡
<
tc
>& 
cŞÜs
, cÚ¡ CImgLi¡<
to
>& 
İac™›s
,

49057 cÚ¡ 
»nd”_ty³
,

49058 cÚ¡ 
boŞ
 
is_doubË_sided
, cÚ¡ 
foÿË
,

49059 cÚ¡ 
lightx
, cÚ¡ 
lighty
, cÚ¡ 
lightz
,

49060 cÚ¡ 
¥ecuÏr_lighŠess
, cÚ¡ 
¥ecuÏr_shššess
,

49061 cÚ¡ 
g_İac™y
, 
CImg
<
tz
>& 
zbufãr
) {

49062  
_d¿w_objeù3d
(0,
zbufãr
,
x0
,
y0
,
z0
,
v”tiûs
,
´im™ives
,
cŞÜs
,
İac™›s
,

49063 
»nd”_ty³
,
is_doubË_sided
,
foÿË
,
lightx
,
lighty
,
lightz
,

49064 
¥ecuÏr_lighŠess
,
¥ecuÏr_shššess
,
g_İac™y
,1);

49067 #ifdeà
cimg_u£_bßrd


49068 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtf
,y³Çm
	gtc
,y³Çm
	gto
>

49069 
	gCImg
<
	gT
>& 
d¿w_objeù3d
(
LibBßrd
::
Bßrd
& 
bßrd
,

49070 cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
,

49071 cÚ¡ 
CImg
<

>& 
v”tiûs
, cÚ¡ 
CImgLi¡
<
tf
>& 
´im™ives
,

49072 cÚ¡ 
CImgLi¡
<
tc
>& 
cŞÜs
, cÚ¡ CImgLi¡<
to
>& 
İac™›s
,

49073 cÚ¡ 
»nd”_ty³
=4,

49074 cÚ¡ 
boŞ
 
is_doubË_sided
=
çl£
, cÚ¡ 
foÿË
=700,

49075 cÚ¡ 
lightx
=0, cÚ¡ 
lighty
=0, cÚ¡ 
lightz
=-5e8,

49076 cÚ¡ 
¥ecuÏr_lighŠess
=0.2f, cÚ¡ 
¥ecuÏr_shššess
=0.1f,

49077 cÚ¡ 
g_İac™y
=1) {

49078  
d¿w_objeù3d
(
bßrd
,
x0
,
y0
,
z0
,
v”tiûs
,
´im™ives
,
cŞÜs
,
İac™›s
,
»nd”_ty³
,

49079 
is_doubË_sided
,
foÿË
,
lightx
,
lighty
,
lightz
,

49080 
¥ecuÏr_lighŠess
,
¥ecuÏr_shššess
,
g_İac™y
,
CImg
<
æßtT
>::
em±y
());

49083 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtf
,y³Çm
	gtc
,y³Çm
	gto
,y³Çm
	gtz
>

49084 
	gCImg
<
	gT
>& 
d¿w_objeù3d
(
LibBßrd
::
Bßrd
& 
bßrd
,

49085 cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
,

49086 cÚ¡ 
CImg
<

>& 
v”tiûs
, cÚ¡ 
CImgLi¡
<
tf
>& 
´im™ives
,

49087 cÚ¡ 
CImgLi¡
<
tc
>& 
cŞÜs
, cÚ¡ CImgLi¡<
to
>& 
İac™›s
,

49088 cÚ¡ 
»nd”_ty³
,

49089 cÚ¡ 
boŞ
 
is_doubË_sided
, cÚ¡ 
foÿË
,

49090 cÚ¡ 
lightx
, cÚ¡ 
lighty
, cÚ¡ 
lightz
,

49091 cÚ¡ 
¥ecuÏr_lighŠess
, cÚ¡ 
¥ecuÏr_shššess
,

49092 cÚ¡ 
g_İac™y
, 
CImg
<
tz
>& 
zbufãr
) {

49093  
_d¿w_objeù3d
((*)&
bßrd
,
zbufãr
,
x0
,
y0
,
z0
,
v”tiûs
,
´im™ives
,
cŞÜs
,
İac™›s
,

49094 
»nd”_ty³
,
is_doubË_sided
,
foÿË
,
lightx
,
lighty
,
lightz
,

49095 
¥ecuÏr_lighŠess
,
¥ecuÏr_shššess
,
g_İac™y
,1);

49100 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtf
,y³Çm
	gtc
>

49101 
	gCImg
<
	gT
>& 
d¿w_objeù3d
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
,

49102 cÚ¡ 
CImg
<

>& 
v”tiûs
, cÚ¡ 
CImgLi¡
<
tf
>& 
´im™ives
,

49103 cÚ¡ 
CImgLi¡
<
tc
>& 
cŞÜs
,

49104 cÚ¡ 
»nd”_ty³
=4,

49105 cÚ¡ 
boŞ
 
is_doubË_sided
=
çl£
, cÚ¡ 
foÿË
=700,

49106 cÚ¡ 
lightx
=0, cÚ¡ 
lighty
=0, cÚ¡ 
lightz
=-5e8,

49107 cÚ¡ 
¥ecuÏr_lighŠess
=0.2f, cÚ¡ 
¥ecuÏr_shššess
=0.1f,

49108 cÚ¡ 
g_İac™y
=1) {

49109  
d¿w_objeù3d
(
x0
,
y0
,
z0
,
v”tiûs
,
´im™ives
,
cŞÜs
,
CImg
<
æßtT
>::
cÚ¡_em±y
(),

49110 
»nd”_ty³
,
is_doubË_sided
,
foÿË
,
lightx
,
lighty
,
lightz
,

49111 
¥ecuÏr_lighŠess
,
¥ecuÏr_shššess
,
g_İac™y
,
CImg
<
æßtT
>::
em±y
());

49115 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtf
,y³Çm
	gtc
,y³Çm
	gtz
>

49116 
	gCImg
<
	gT
>& 
d¿w_objeù3d
(cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
,

49117 cÚ¡ 
CImg
<

>& 
v”tiûs
, cÚ¡ 
CImgLi¡
<
tf
>& 
´im™ives
,

49118 cÚ¡ 
CImgLi¡
<
tc
>& 
cŞÜs
,

49119 cÚ¡ 
»nd”_ty³
,

49120 cÚ¡ 
boŞ
 
is_doubË_sided
, cÚ¡ 
foÿË
,

49121 cÚ¡ 
lightx
, cÚ¡ 
lighty
, cÚ¡ 
lightz
,

49122 cÚ¡ 
¥ecuÏr_lighŠess
, cÚ¡ 
¥ecuÏr_shššess
,

49123 cÚ¡ 
g_İac™y
, 
CImg
<
tz
>& 
zbufãr
) {

49124  
d¿w_objeù3d
(
x0
,
y0
,
z0
,
v”tiûs
,
´im™ives
,
cŞÜs
,
CImg
<
æßtT
>::
cÚ¡_em±y
(),

49125 
»nd”_ty³
,
is_doubË_sided
,
foÿË
,
lightx
,
lighty
,
lightz
,

49126 
¥ecuÏr_lighŠess
,
¥ecuÏr_shššess
,
g_İac™y
,
zbufãr
);

49129 #ifdeà
cimg_u£_bßrd


49130 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtf
,y³Çm
	gtc
,y³Çm
	gto
>

49131 
	gCImg
<
	gT
>& 
d¿w_objeù3d
(
LibBßrd
::
Bßrd
& 
bßrd
,

49132 cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
,

49133 cÚ¡ 
CImg
<

>& 
v”tiûs
, cÚ¡ 
CImgLi¡
<
tf
>& 
´im™ives
,

49134 cÚ¡ 
CImgLi¡
<
tc
>& 
cŞÜs
,

49135 cÚ¡ 
»nd”_ty³
=4,

49136 cÚ¡ 
boŞ
 
is_doubË_sided
=
çl£
, cÚ¡ 
foÿË
=700,

49137 cÚ¡ 
lightx
=0, cÚ¡ 
lighty
=0, cÚ¡ 
lightz
=-5e8,

49138 cÚ¡ 
¥ecuÏr_lighŠess
=0.2f, cÚ¡ 
¥ecuÏr_shššess
=0.1f,

49139 cÚ¡ 
g_İac™y
=1) {

49140  
d¿w_objeù3d
(
x0
,
y0
,
z0
,
v”tiûs
,
´im™ives
,
cŞÜs
,
CImg
<
æßtT
>::
cÚ¡_em±y
(),

49141 
»nd”_ty³
,
is_doubË_sided
,
foÿË
,
lightx
,
lighty
,
lightz
,

49142 
¥ecuÏr_lighŠess
,
¥ecuÏr_shššess
,
g_İac™y
,
CImg
<
æßtT
>::
em±y
());

49145 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtf
,y³Çm
	gtc
,y³Çm
	gto
,y³Çm
	gtz
>

49146 
	gCImg
<
	gT
>& 
d¿w_objeù3d
(
LibBßrd
::
Bßrd
& 
bßrd
,

49147 cÚ¡ 
x0
, cÚ¡ 
y0
, cÚ¡ 
z0
,

49148 cÚ¡ 
CImg
<

>& 
v”tiûs
, cÚ¡ 
CImgLi¡
<
tf
>& 
´im™ives
,

49149 cÚ¡ 
CImgLi¡
<
tc
>& 
cŞÜs
,

49150 cÚ¡ 
»nd”_ty³
,

49151 cÚ¡ 
boŞ
 
is_doubË_sided
, cÚ¡ 
foÿË
,

49152 cÚ¡ 
lightx
, cÚ¡ 
lighty
, cÚ¡ 
lightz
,

49153 cÚ¡ 
¥ecuÏr_lighŠess
, cÚ¡ 
¥ecuÏr_shššess
,

49154 cÚ¡ 
g_İac™y
, 
CImg
<
tz
>& 
zbufãr
) {

49155  
d¿w_objeù3d
(
x0
,
y0
,
z0
,
v”tiûs
,
´im™ives
,
cŞÜs
,
CImg
<
æßtT
>::
cÚ¡_em±y
(),

49156 
»nd”_ty³
,
is_doubË_sided
,
foÿË
,
lightx
,
lighty
,
lightz
,

49157 
¥ecuÏr_lighŠess
,
¥ecuÏr_shššess
,
g_İac™y
,
zbufãr
);

49161 
	g‹m¶©e
<
ty³Çme
 
	gt
,y³Çm
	gto
>

49162 
__d¿w_objeù3d
(cÚ¡ 
CImgLi¡
<
t
>& 
İac™›s
, cÚ¡ 
n_´im™ive
, 
CImg
<
to
>& 
İac™y
) {

49163 ià(
	gn_´im™ive
>=
İac™›s
.
_width
 || o·c™›s[
n_´im™ive
].
is_em±y
()è{ 
İac™y
.
assign
();  1; }

49164 ià(
	gİac™›s
[
n_´im™ive
].
size
()==1è{ 
İac™y
.
assign
();  
İac™›s
(n_primitive,0); }

49165 
	gİac™y
.
assign
(
İac™›s
[
n_´im™ive
],
Œue
);

49169 
	g‹m¶©e
<
ty³Çme
 
	gt
,y³Çm
	gto
>

49170 
__d¿w_objeù3d
(cÚ¡ 
CImg
<
t
>& 
İac™›s
, cÚ¡ 
n_´im™ive
, CImg<
to
>& 
İac™y
) {

49171 
	gİac™y
.
assign
();

49172  
	gn_´im™ive
>=
İac™›s
.
_width
?1.f:()İac™›s[
n_´im™ive
];

49175 
	g‹m¶©e
<
ty³Çme
 
	gt
>

49176 
___d¿w_objeù3d
(cÚ¡ 
CImgLi¡
<
t
>& 
İac™›s
, cÚ¡ 
n_´im™ive
) {

49177  
	gn_´im™ive
<
	gİac™›s
.
	g_width
 && o·c™›s[
n_´im™ive
].
size
()==1?()
İac™›s
(n_primitive,0):1.f;

49180 
	g‹m¶©e
<
ty³Çme
 
	gt
>

49181 
___d¿w_objeù3d
(cÚ¡ 
CImg
<
t
>& 
İac™›s
, cÚ¡ 
n_´im™ive
) {

49182  
	gn_´im™ive
<
	gİac™›s
.
	g_width
?()İac™›s[
n_´im™ive
]:1.f;

49185 
	g‹m¶©e
<
ty³Çme
 
	gtz
,y³Çm
	g
,y³Çm
	gtf
,y³Çm
	gtc
,y³Çm
	gto
>

49186 
	gCImg
<
	gT
>& 
_d¿w_objeù3d
(*cÚ¡ 
pbßrd
, 
CImg
<
tz
>& 
zbufãr
,

49187 cÚ¡ 
X
, cÚ¡ 
Y
, cÚ¡ 
Z
,

49188 cÚ¡ 
CImg
<

>& 
v”tiûs
,

49189 cÚ¡ 
CImgLi¡
<
tf
>& 
´im™ives
,

49190 cÚ¡ 
CImgLi¡
<
tc
>& 
cŞÜs
,

49191 cÚ¡ 
to
& 
İac™›s
,

49192 cÚ¡ 
»nd”_ty³
,

49193 cÚ¡ 
boŞ
 
is_doubË_sided
, cÚ¡ 
foÿË
,

49194 cÚ¡ 
lightx
, cÚ¡ 
lighty
, cÚ¡ 
lightz
,

49195 cÚ¡ 
¥ecuÏr_lighŠess
, cÚ¡ 
¥ecuÏr_shššess
,

49196 cÚ¡ 
g_İac™y
, cÚ¡ 
¥r™e_sÿË
) {

49197 
ty³Çme
 
	tcimg
::
	tsu³r£t2
<
	t
,
	ttz
,>::
	tty³
 
	tæßt
;

49198 
ty³Çme
 
	tto
::
	tv®ue_ty³
 
	t_to
;

49199 ià(
is_em±y
(è|| !
	gv”tiûs
 || !
	g´im™ives
è *
	gthis
;

49200 
	gCImg
<> 
”rÜ_mes§ge
(1024);

49201 ià(!
	gv”tiûs
.
is_objeù3d
(
´im™ives
,
cŞÜs
,
İac™›s
,
çl£
,
”rÜ_mes§ge
))

49202 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


49204 
cimg_š¡ªû
,
v”tiûs
.
_width
,
´im™ives
._width,
”rÜ_mes§ge
.
d©a
());

49205 #iâdeà
cimg_u£_bßrd


49206 ià(
	gpbßrd
è *
	gthis
;

49208 ià(
	g»nd”_ty³
==5è
cimg
::
mu‹x
(10);

49211 
	gn¥ec
 = 1 - (
¥ecuÏr_lighŠess
<0.f?0.f:(specular_lightness>1.f?1.f:specular_lightness)),

49212 
	gn¥ec2
 = 1 + (
¥ecuÏr_shššess
<0.f?0.f:specular_shininess),

49213 
	gn¦1
 = (
n¥ec2
 - 1)/
cimg
::
sqr
(
n¥ec
 - 1),

49214 
	gn¦2
 = 1 - 2*
n¦1
*
n¥ec
,

49215 
	gn¦3
 = 
n¥ec2
 - 
n¦1
 - 
n¦2
;

49218 
	gCImg
<
	gæßtT
> 
	glight_‹xtu»
;

49219 ià(
	g»nd”_ty³
==5) {

49220 ià(
cŞÜs
.
_width
>
´im™ives
._width) {

49221 
CImg
<
æßtT
> 
deçuÉ_light_‹xtu»
;

49222 cÚ¡ 
tc
 *
	gÍŒ
 = 0;

49223 
tc
 
	g»f_v®ues
[64] = { 0 };

49224 cÚ¡ 
	gCImg
<
	gtc
>& 
	gimg
 = 
cŞÜs
.
back
();

49225 
boŞ
 
	gis_§me_‹xtu»
 = (
ÍŒ
==
img
.
_d©a
);

49226 ià(
	gis_§me_‹xtu»
)

49227 
	gr
 = 0, 
	gj
 = 0; j<8; ++j)

49228 
	gi
 = 0; i<8; ++i)

49229 ià(
	g»f_v®ues
[
r
++]!=
img
(
i
*img.
_width
/9,
j
*img.
_height
/9,0,(˜+ j)%img.
_¥eùrum
)) {

49230 
	gis_§me_‹xtu»
 = 
çl£
; ;

49232 ià(!
	gis_§me_‹xtu»
 || 
	gdeçuÉ_light_‹xtu»
.
	g_¥eùrum
<_spectrum) {

49233 (
	gdeçuÉ_light_‹xtu»
.
assign
(
img
,
çl£
)/=255).
»size
(-100,-100,1,
_¥eùrum
);

49234 
	gÍŒ
 = 
cŞÜs
.
back
().
d©a
();

49235 
	gr
 = 0, 
	gj
 = 0; j<8; ++j)

49236 
	gi
 = 0; i<8; ++i)

49237 
	g»f_v®ues
[
r
++] = 
img
(
i
*img.
_width
/9,
j
*img.
_height
/9,0,(˜+ j)%img.
_¥eùrum
);

49239 
	glight_‹xtu»
.
assign
(
deçuÉ_light_‹xtu»
,
Œue
);

49241 
	gCImg
<
	gæßtT
> 
	gdeçuÉ_light_‹xtu»
;

49242 
	gŞightx
 = 0, 
	gŞighty
 = 0, 
	gŞightz
 = 0, 
	go¥ecuÏr_shššess
 = 0;

49243 ià(!
	gdeçuÉ_light_‹xtu»
 ||

49244 
	glightx
!=
Şightx
 || 
lighty
!=
Şighty
 || 
lightz
!=
Şightz
 ||

49245 
¥ecuÏr_shššess
!=
o¥ecuÏr_shššess
 || 
deçuÉ_light_‹xtu»
.
_¥eùrum
<_spectrum) {

49246 
deçuÉ_light_‹xtu»
.
assign
(512,512);

49248 
	gdlx
 = 
lightx
 - 
X
,

49249 
	gdly
 = 
lighty
 - 
Y
,

49250 
	gdlz
 = 
lightz
 - 
Z
,

49251 
	gÆ
 = 
cimg
::
hypÙ
(
dlx
,
dly
,
dlz
),

49252 
	gÆx
 = (
deçuÉ_light_‹xtu»
.
_width
 - 1)/2*(1 + 
dlx
/
Æ
),

49253 
	gÆy
 = (
deçuÉ_light_‹xtu»
.
_height
 - 1)/2*(1 + 
dly
/
Æ
),

49254 
	gwh™e
[] = { 1 };

49255 
	gdeçuÉ_light_‹xtu»
.
d¿w_gaussŸn
(
Æx
,
Æy
,
deçuÉ_light_‹xtu»
.
_width
/3.f,
wh™e
);

49256 
cimg_fÜXY
(
deçuÉ_light_‹xtu»
,
x
,
y
) {

49257 cÚ¡ 
	gçùÜ
 = 
deçuÉ_light_‹xtu»
(
x
,
y
);

49258 ià(
	gçùÜ
>
	gn¥ec
è
deçuÉ_light_‹xtu»
(
x
,
y
èğ
¡d
::
mš
(2.f,
n¦1
*
çùÜ
*çùÜ + 
n¦2
*çùÜ + 
n¦3
);

49260 
	gdeçuÉ_light_‹xtu»
.
»size
(-100,-100,1,
_¥eùrum
);

49261 
	gŞightx
 = 
lightx
; 
	gŞighty
 = 
lighty
; 
	gŞightz
 = 
lightz
; 
	go¥ecuÏr_shššess
 = 
¥ecuÏr_shššess
;

49263 
	glight_‹xtu»
.
assign
(
deçuÉ_light_‹xtu»
,
Œue
);

49268 
	gCImg
<
	gæßt
> 
´ojeùiÚs
(
v”tiûs
.
_width
,2);

49269 
æßt
 
	g·¿Îzmš
 = 
cimg
::
ty³
<æßt>::
max
();

49270 cÚ¡ 
	gabsfoÿË
 = 
foÿË
?
cimg
::
abs
(focale):0;

49271 ià(
	gabsfoÿË
) {

49272 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
´ojeùiÚs
.
size
(),4096))

49273 
cimg_fÜX
(
´ojeùiÚs
,
l
) {

49274 cÚ¡ 
æßt


49275 
	gx
 = (
æßt
)
v”tiûs
(
l
,0),

49276 
	gy
 = (
æßt
)
v”tiûs
(
l
,1),

49277 
	gz
 = (
æßt
)
v”tiûs
(
l
,2);

49278 cÚ¡ 
æßt
 
	g´ojeùedz
 = 
z
 + 
Z
 + 
absfoÿË
;

49279 
´ojeùiÚs
(
l
,1èğ
Y
 + 
absfoÿË
*
y
/
´ojeùedz
;

49280 
´ojeùiÚs
(
l
,0èğ
X
 + 
absfoÿË
*
x
/
´ojeùedz
;

49283 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
´ojeùiÚs
.
size
(),4096))

49284 
cimg_fÜX
(
´ojeùiÚs
,
l
) {

49285 cÚ¡ 
æßt


49286 
	gx
 = (
æßt
)
v”tiûs
(
l
,0),

49287 
	gy
 = (
æßt
)
v”tiûs
(
l
,1),

49288 
	gz
 = (
æßt
)
v”tiûs
(
l
,2);

49289 ià(
	gz
<
	g·¿Îzmš
è·¿Îzmš = 
z
;

49290 
´ojeùiÚs
(
l
,1èğ
Y
 + 
y
;

49291 
´ojeùiÚs
(
l
,0èğ
X
 + 
x
;

49295 cÚ¡ 
	g_foÿË
 = 
absfoÿË
?absfoÿË:(1e5f-
·¿Îzmš
);

49296 
	gzmax
 = 0;

49297 ià(
	gzbufãr
è
	gzmax
 = 
v”tiûs
.
g‘_sh¬ed_row
(2).
max
();

49300 
	gCImg
<
	guštT
> 
visibËs
(
´im™ives
.
_width
,1,1,1,~0U);

49301 
	gCImg
<
	gæßt
> 
z¿nge
(
´im™ives
.
_width
);

49302 cÚ¡ 
æßt
 
	gzmš
 = 
absfoÿË
?Ñpæßt)(1.5à-‡bsfoÿË):
cimg
::
ty³
<æßt>::
mš
();

49303 
boŞ
 
	gis_fÜw¬d
 = 
zbufãr
?
Œue
:
çl£
;

49305 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
´im™ives
.
size
(),4096))

49306 
cimgli¡_fÜ
(
´im™ives
,
l
) {

49307 cÚ¡ 
	gCImg
<
	gtf
>& 
	g´im™ive
 = 
´im™ives
[
l
];

49308 
	g´im™ive
.
size
()) {

49310 
CImg
<
_to
> 
_İac™y
;

49311 
__d¿w_objeù3d
(
İac™›s
,
l
,
_İac™y
);

49312 ià(
	gl
<=
cŞÜs
.
width
(è&& (cŞÜs[
l
].
size
()!=
_¥eùrum
 || 
_İac™y
)è
is_fÜw¬d
 = 
çl£
;

49313 cÚ¡ 
	gi0
 = ()
´im™ive
(0);

49314 cÚ¡ 
æßt
 
	gz0
 = 
Z
 + 
v”tiûs
(
i0
,2);

49315 ià(
	gz0
>
	gzmš
) {

49316 
visibËs
(
l
) = ()l;

49317 
z¿nge
(
l
èğ
z0
;

49322 
i0
 = ()
´im™ive
(0),

49323 
	gi1
 = ()
´im™ive
(1);

49324 cÚ¡ 
æßt


49325 
	gXc
 = 0.5f*(()
v”tiûs
(
i0
,0è+ ()v”tiûs(
i1
,0)),

49326 
	gYc
 = 0.5f*(()
v”tiûs
(
i0
,1è+ ()v”tiûs(
i1
,1)),

49327 
	gZc
 = 0.5f*(()
v”tiûs
(
i0
,2è+ ()v”tiûs(
i1
,2)),

49328 
	g_zc
 = 
Z
 + 
Zc
,

49329 
	gzc
 = 
_zc
 + 
_foÿË
,

49330 
	gxc
 = 
X
 + 
Xc
*(
absfoÿË
?absfoÿË/
zc
:1),

49331 
	gyc
 = 
Y
 + 
Yc
*(
absfoÿË
?absfoÿË/
zc
:1),

49332 
	g¿dius
 = 0.5f*
cimg
::
hypÙ
(
v”tiûs
(
i1
,0è- v”tiûs(
i0
,0),

49333 
v”tiûs
(
i1
,1è- v”tiûs(
i0
,1),

49334 
v”tiûs
(
i1
,2è- v”tiûs(
i0
,2))*(
	gabsfoÿË
?absfoÿË/
	gzc
:1),

49335 
	gxm
 = 
xc
 - 
¿dius
,

49336 
	gym
 = 
yc
 - 
¿dius
,

49337 
	gxM
 = 
xc
 + 
¿dius
,

49338 
	gyM
 = 
yc
 + 
¿dius
;

49339 ià(
	gxM
>=0 && 
xm
<
_width
 && 
yM
>=0 && 
ym
<
_height
 && 
_zc
>
zmš
) {

49340 
visibËs
(
l
) = ()l;

49341 
z¿nge
(
l
èğ
_zc
;

49343 
	gis_fÜw¬d
 = 
çl£
;

49347 
i0
 = ()
´im™ive
(0),

49348 
	gi1
 = ()
´im™ive
(1);

49349 cÚ¡ 
æßt


49350 
	gx0
 = 
´ojeùiÚs
(
i0
,0), 
	gy0
 =…rojeùiÚs(i0,1), 
	gz0
 = 
Z
 + 
v”tiûs
(i0,2),

49351 
	gx1
 = 
´ojeùiÚs
(
i1
,0), 
	gy1
 =…rojeùiÚs(i1,1), 
	gz1
 = 
Z
 + 
v”tiûs
(i1,2);

49352 
æßt
 
	gxm
, 
	gxM
, 
	gym
, 
	gyM
;

49353 ià(
	gx0
<
	gx1
è{ 
	gxm
 = 
x0
; 
	gxM
 = 
x1
; } { xm = x1; xM = x0; }

49354 ià(
	gy0
<
	gy1
è{ 
	gym
 = 
y0
; 
	gyM
 = 
y1
; } { ym = y1; yM = y0; }

49355 ià(
	gxM
>=0 && 
xm
<
_width
 && 
yM
>=0 && 
ym
<
_height
 && 
z0
>
zmš
 && 
z1
>zmin) {

49356 
visibËs
(
l
) = ()l;

49357 
z¿nge
(
l
èğ(
z0
 + 
z1
)/2;

49362 
i0
 = ()
´im™ive
(0),

49363 
	gi1
 = ()
´im™ive
(1),

49364 
	gi2
 = ()
´im™ive
(2);

49365 cÚ¡ 
æßt


49366 
	gx0
 = 
´ojeùiÚs
(
i0
,0), 
	gy0
 =…rojeùiÚs(i0,1), 
	gz0
 = 
Z
 + 
v”tiûs
(i0,2),

49367 
	gx1
 = 
´ojeùiÚs
(
i1
,0), 
	gy1
 =…rojeùiÚs(i1,1), 
	gz1
 = 
Z
 + 
v”tiûs
(i1,2),

49368 
	gx2
 = 
´ojeùiÚs
(
i2
,0), 
	gy2
 =…rojeùiÚs(i2,1), 
	gz2
 = 
Z
 + 
v”tiûs
(i2,2);

49369 
æßt
 
	gxm
, 
	gxM
, 
	gym
, 
	gyM
;

49370 ià(
	gx0
<
	gx1
è{ 
	gxm
 = 
x0
; 
	gxM
 = 
x1
; } { xm = x1; xM = x0; }

49371 ià(
	gx2
<
	gxm
èxm = 
x2
;

49372 ià(
	gx2
>
	gxM
èxM = 
x2
;

49373 ià(
	gy0
<
	gy1
è{ 
	gym
 = 
y0
; 
	gyM
 = 
y1
; } { ym = y1; yM = y0; }

49374 ià(
	gy2
<
	gym
èym = 
y2
;

49375 ià(
	gy2
>
	gyM
èyM = 
y2
;

49376 ià(
	gxM
>=0 && 
xm
<
_width
 && 
yM
>=0 && 
ym
<
_height
 && 
z0
>
zmš
 && 
z1
>zmš && 
z2
>zmin) {

49377 cÚ¡ 
æßt
 
d
 = (
x1
-
x0
)*(
y2
-
y0
è- (
x2
-x0)*(
y1
-y0);

49378 ià(
	gis_doubË_sided
 || 
	gd
<0) {

49379 
visibËs
(
l
) = ()l;

49380 
z¿nge
(
l
èğ(
z0
 + 
z1
 + 
z2
)/3;

49386 
i0
 = ()
´im™ive
(0),

49387 
	gi1
 = ()
´im™ive
(1),

49388 
	gi2
 = ()
´im™ive
(2),

49389 
	gi3
 = ()
´im™ive
(3);

49390 cÚ¡ 
æßt


49391 
	gx0
 = 
´ojeùiÚs
(
i0
,0), 
	gy0
 =…rojeùiÚs(i0,1), 
	gz0
 = 
Z
 + 
v”tiûs
(i0,2),

49392 
	gx1
 = 
´ojeùiÚs
(
i1
,0), 
	gy1
 =…rojeùiÚs(i1,1), 
	gz1
 = 
Z
 + 
v”tiûs
(i1,2),

49393 
	gx2
 = 
´ojeùiÚs
(
i2
,0), 
	gy2
 =…rojeùiÚs(i2,1), 
	gz2
 = 
Z
 + 
v”tiûs
(i2,2),

49394 
	gx3
 = 
´ojeùiÚs
(
i3
,0), 
	gy3
 =…rojeùiÚs(i3,1), 
	gz3
 = 
Z
 + 
v”tiûs
(i3,2);

49395 
æßt
 
	gxm
, 
	gxM
, 
	gym
, 
	gyM
;

49396 ià(
	gx0
<
	gx1
è{ 
	gxm
 = 
x0
; 
	gxM
 = 
x1
; } { xm = x1; xM = x0; }

49397 ià(
	gx2
<
	gxm
èxm = 
x2
;

49398 ià(
	gx2
>
	gxM
èxM = 
x2
;

49399 ià(
	gx3
<
	gxm
èxm = 
x3
;

49400 ià(
	gx3
>
	gxM
èxM = 
x3
;

49401 ià(
	gy0
<
	gy1
è{ 
	gym
 = 
y0
; 
	gyM
 = 
y1
; } { ym = y1; yM = y0; }

49402 ià(
	gy2
<
	gym
èym = 
y2
;

49403 ià(
	gy2
>
	gyM
èyM = 
y2
;

49404 ià(
	gy3
<
	gym
èym = 
y3
;

49405 ià(
	gy3
>
	gyM
èyM = 
y3
;

49406 ià(
	gxM
>=0 && 
xm
<
_width
 && 
yM
>=0 && 
ym
<
_height
 && 
z0
>
zmš
 && 
z1
>zmš && 
z2
>zmš && 
z3
>zmin) {

49407 cÚ¡ 
d
 = (
x1
 - 
x0
)*(
y2
 - 
y0
è- (
x2
 - x0)*(
y1
 - y0);

49408 ià(
	gis_doubË_sided
 || 
	gd
<0) {

49409 
visibËs
(
l
) = ()l;

49410 
z¿nge
(
l
èğ(
z0
 + 
z1
 + 
z2
 + 
z3
)/4;

49415 ià(
»nd”_ty³
==5è
cimg
::
mu‹x
(10,0);

49416 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


49419 
cimg_š¡ªû
,

49420 
l
,
´im™ive
.
size
());

49426 ià(
	gis_fÜw¬d
)

49427 
cimgli¡_fÜ
(
´im™ives
,
l
)

49428 ià(
___d¿w_objeù3d
(
İac™›s
,
l
)!=1è
z¿nge
Öèğ2*
zmax
 - zrange(l);

49431 *
	gp_visibËs
 = 
visibËs
.
_d©a
;

49432 
æßt
 *
	gp_z¿nge
 = 
z¿nge
.
_d©a
;

49433 cÚ¡ 
æßt
 *
	g±rz
 = 
p_z¿nge
;

49434 
cimg_fÜ
(
visibËs
,
±r
,) {

49435 ià(*
	g±r
!=~0Uè{ *(
p_visibËs
++èğ*
±r
; *(
	gp_z¿nge
++èğ*
±rz
; }

49436 ++
	g±rz
;

49438 cÚ¡ 
	gnb_visibËs
 = ()(
p_z¿nge
 - 
z¿nge
.
_d©a
);

49439 ià(!
	gnb_visibËs
) {

49440 ià(
	g»nd”_ty³
==5è
cimg
::
mu‹x
(10,0);

49441  *
	gthis
;

49443 
	gCImg
<
	guštT
> 
	g³rmutiÚs
;

49444 
	gCImg
<
	gæßt
>(
	gz¿nge
.
	g_d©a
,
	gnb_visibËs
,1,1,1,
	gŒue
).
sÜt
(
³rmutiÚs
,
is_fÜw¬d
);

49447 
	gCImg
<
	gæßtT
> 
	glighrİs
;

49448 
	g»nd”_ty³
) {

49450 
lighrİs
.
assign
(
nb_visibËs
);

49451 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
nb_visibËs
,4096))

49452 
cimg_fÜX
(
lighrİs
,
l
) {

49453 cÚ¡ 
	gCImg
<
	gtf
>& 
	g´im™ive
 = 
´im™ives
(
visibËs
(
³rmutiÚs
(
l
)));

49454 cÚ¡ 
	gpsize
 = ()
´im™ive
.
size
();

49455 ià(
	gpsize
==3 || 
psize
==4 ||…size==9 ||…size==12) {

49457 
i0
 = ()
´im™ive
(0),

49458 
	gi1
 = ()
´im™ive
(1),

49459 
	gi2
 = ()
´im™ive
(2);

49460 cÚ¡ 
æßt


49461 
	gx0
 = (
æßt
)
v”tiûs
(
i0
,0), 
	gy0
 = (æßt)v”tiûs(i0,1), 
	gz0
 = (tpfloat)vertices(i0,2),

49462 
	gx1
 = (
æßt
)
v”tiûs
(
i1
,0), 
	gy1
 = (æßt)v”tiûs(i1,1), 
	gz1
 = (tpfloat)vertices(i1,2),

49463 
	gx2
 = (
æßt
)
v”tiûs
(
i2
,0), 
	gy2
 = (æßt)v”tiûs(i2,1), 
	gz2
 = (tpfloat)vertices(i2,2),

49464 
	gdx1
 = 
x1
 - 
x0
, 
	gdy1
 = 
y1
 - 
y0
, 
	gdz1
 = 
z1
 - 
z0
,

49465 
	gdx2
 = 
x2
 - 
x0
, 
	gdy2
 = 
y2
 - 
y0
, 
	gdz2
 = 
z2
 - 
z0
,

49466 
	gnx
 = 
dy1
*
dz2
 - 
dz1
*
dy2
,

49467 
	gny
 = 
dz1
*
dx2
 - 
dx1
*
dz2
,

49468 
	gnz
 = 
dx1
*
dy2
 - 
dy1
*
dx2
,

49469 
	gnÜm
 = 1e-5à+ 
cimg
::
hypÙ
(
nx
,
ny
,
nz
),

49470 
	glx
 = 
X
 + (
x0
 + 
x1
 + 
x2
)/3 - 
lightx
,

49471 
	gly
 = 
Y
 + (
y0
 + 
y1
 + 
y2
)/3 - 
lighty
,

49472 
	glz
 = 
Z
 + (
z0
 + 
z1
 + 
z2
)/3 - 
lightz
,

49473 
	gÆ
 = 1e-5à+ 
cimg
::
hypÙ
(
lx
,
ly
,
lz
),

49474 
	gçùÜ
 = 
¡d
::
max
(
cimg
::
abs
(-
lx
*
nx
 - 
ly
*
ny
 - 
lz
*
nz
)/(
nÜm
*
Æ
),(
æßt
)0);

49475 
	glighrİs
[
l
] = 
çùÜ
<=
n¥ec
?çùÜ:(
n¦1
*çùÜ*çùÜ + 
n¦2
*çùÜ + 
n¦3
);

49476 } 
	glighrİs
[
l
] = 1;

49482 
CImg
<
æßt
> 
v”tiûs_nÜm®s
(
v”tiûs
.
_width
,6,1,1,0);

49483 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
nb_visibËs
,4096))

49484 
	gl
 = 0;†<()
	gnb_visibËs
; ++l) {

49485 cÚ¡ 
	gCImg
<
	gtf
>& 
	g´im™ive
 = 
´im™ives
[
visibËs
(
l
)];

49486 cÚ¡ 
	gpsize
 = ()
´im™ive
.
size
();

49487 cÚ¡ 
boŞ


49488 
	gŒŸngË_æag
 = (
psize
==3) || (psize==9),

49489 
	gquad¿ngË_æag
 = (
psize
==4) || (psize==12);

49490 ià(
	gŒŸngË_æag
 || 
	gquad¿ngË_æag
) {

49492 
	gi0
 = ()
´im™ive
(0),

49493 
	gi1
 = ()
´im™ive
(1),

49494 
	gi2
 = ()
´im™ive
(2),

49495 
	gi3
 = 
quad¿ngË_æag
?()
´im™ive
(3):0;

49496 cÚ¡ 
æßt


49497 
	gx0
 = (
æßt
)
v”tiûs
(
i0
,0), 
	gy0
 = (æßt)v”tiûs(i0,1), 
	gz0
 = (tpfloat)vertices(i0,2),

49498 
	gx1
 = (
æßt
)
v”tiûs
(
i1
,0), 
	gy1
 = (æßt)v”tiûs(i1,1), 
	gz1
 = (tpfloat)vertices(i1,2),

49499 
	gx2
 = (
æßt
)
v”tiûs
(
i2
,0), 
	gy2
 = (æßt)v”tiûs(i2,1), 
	gz2
 = (tpfloat)vertices(i2,2),

49500 
	gdx1
 = 
x1
 - 
x0
, 
	gdy1
 = 
y1
 - 
y0
, 
	gdz1
 = 
z1
 - 
z0
,

49501 
	gdx2
 = 
x2
 - 
x0
, 
	gdy2
 = 
y2
 - 
y0
, 
	gdz2
 = 
z2
 - 
z0
,

49502 
	gÂx
 = 
dy1
*
dz2
 - 
dz1
*
dy2
,

49503 
	gÂy
 = 
dz1
*
dx2
 - 
dx1
*
dz2
,

49504 
	gÂz
 = 
dx1
*
dy2
 - 
dy1
*
dx2
,

49505 
	gnÜm
 = 1e-5à+ 
cimg
::
hypÙ
(
Âx
,
Ây
,
Âz
),

49506 
	gnx
 = 
Âx
/
nÜm
,

49507 
	gny
 = 
Ây
/
nÜm
,

49508 
	gnz
 = 
Âz
/
nÜm
;

49509 
	gix
 = 0, 
	giy
 = 1, 
	giz
 = 2;

49510 ià(
	gis_doubË_sided
 && 
	gnz
>0è{ 
	gix
 = 3; 
	giy
 = 4; 
	giz
 = 5; }

49511 
v”tiûs_nÜm®s
(
i0
,
ix
)+=
nx
; v”tiûs_nÜm®s(i0,
iy
)+=
ny
; v”tiûs_nÜm®s(i0,
iz
)+=
nz
;

49512 
v”tiûs_nÜm®s
(
i1
,
ix
)+=
nx
; v”tiûs_nÜm®s(i1,
iy
)+=
ny
; v”tiûs_nÜm®s(i1,
iz
)+=
nz
;

49513 
v”tiûs_nÜm®s
(
i2
,
ix
)+=
nx
; v”tiûs_nÜm®s(i2,
iy
)+=
ny
; v”tiûs_nÜm®s(i2,
iz
)+=
nz
;

49514 ià(
	gquad¿ngË_æag
) {

49515 
v”tiûs_nÜm®s
(
i3
,
ix
)+=
nx
; v”tiûs_nÜm®s(i3,
iy
)+=
ny
; v”tiûs_nÜm®s(i3,
iz
)+=
nz
;

49520 ià(
	gis_doubË_sided
è
cimg_fÜX
(
v”tiûs_nÜm®s
,
p
) {

49522 
	gnx0
 = 
v”tiûs_nÜm®s
(
p
,0), 
	gny0
 = v”tiûs_nÜm®sÕ,1), 
	gnz0
 = vertices_normals(p,2),

49523 
	gnx1
 = 
v”tiûs_nÜm®s
(
p
,3), 
	gny1
 = v”tiûs_nÜm®sÕ,4), 
	gnz1
 = vertices_normals(p,5),

49524 
	gn0
 = 
nx0
*nx0 + 
ny0
*ny0 + 
nz0
*nz0, 
	gn1
 = 
nx1
*nx1 + 
ny1
*ny1 + 
nz1
*nz1;

49525 ià(
	gn1
>
	gn0
) {

49526 
v”tiûs_nÜm®s
(
p
,0èğ-
nx1
;

49527 
v”tiûs_nÜm®s
(
p
,1èğ-
ny1
;

49528 
v”tiûs_nÜm®s
(
p
,2èğ-
nz1
;

49532 ià(
	g»nd”_ty³
==4) {

49533 
lighrİs
.
assign
(
v”tiûs
.
_width
);

49534 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
nb_visibËs
,4096))

49535 
cimg_fÜX
(
lighrİs
,
l
) {

49536 cÚ¡ 
æßt


49537 
	gnx
 = 
v”tiûs_nÜm®s
(
l
,0),

49538 
	gny
 = 
v”tiûs_nÜm®s
(
l
,1),

49539 
	gnz
 = 
v”tiûs_nÜm®s
(
l
,2),

49540 
	gnÜm
 = 1e-5à+ 
cimg
::
hypÙ
(
nx
,
ny
,
nz
),

49541 
	glx
 = 
X
 + 
v”tiûs
(
l
,0è- 
	glightx
,

49542 
	gly
 = 
Y
 + 
v”tiûs
(
l
,1è- 
	glighty
,

49543 
	glz
 = 
Z
 + 
v”tiûs
(
l
,2è- 
	glightz
,

49544 
	gÆ
 = 1e-5à+ 
cimg
::
hypÙ
(
lx
,
ly
,
lz
),

49545 
	gçùÜ
 = 
¡d
::
max
((-
lx
*
nx
 - 
ly
*
ny
 - 
lz
*
nz
)/(
nÜm
*
Æ
),(
æßt
)0);

49546 
	glighrİs
[
l
] = 
çùÜ
<=
n¥ec
?çùÜ:(
n¦1
*çùÜ*çùÜ + 
n¦2
*çùÜ + 
n¦3
);

49550 
	glw2
 = 
light_‹xtu»
.
_width
/2 - 1,

49551 
	glh2
 = 
light_‹xtu»
.
_height
/2 - 1;

49552 
	glighrİs
.
assign
(
v”tiûs
.
_width
,2);

49553 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
nb_visibËs
,4096))

49554 
cimg_fÜX
(
lighrİs
,
l
) {

49555 cÚ¡ 
æßt


49556 
	gnx
 = 
v”tiûs_nÜm®s
(
l
,0),

49557 
	gny
 = 
v”tiûs_nÜm®s
(
l
,1),

49558 
	gnz
 = 
v”tiûs_nÜm®s
(
l
,2),

49559 
	gnÜm
 = 1e-5à+ 
cimg
::
hypÙ
(
nx
,
ny
,
nz
),

49560 
	gÂx
 = 
nx
/
nÜm
,

49561 
	gÂy
 = 
ny
/
nÜm
;

49562 
lighrİs
(
l
,0èğ
lw2
*(1 + 
Âx
);

49563 
lighrİs
(
l
,1èğ
lh2
*(1 + 
Ây
);

49570 cÚ¡ 
	gCImg
<
	gtc
> 
deçuÉ_cŞÜ
(1,
_¥eùrum
,1,1,(
tc
)200);

49571 
	gCImg
<
	g_to
> 
	g_İac™y
;

49573 
	gl
 = 0;†<
	gnb_visibËs
; ++l) {

49574 cÚ¡ 
	gn_´im™ive
 = 
visibËs
(
³rmutiÚs
(
l
));

49575 cÚ¡ 
	gCImg
<
	gtf
>& 
	g´im™ive
 = 
´im™ives
[
n_´im™ive
];

49576 cÚ¡ 
	gCImg
<
	gtc
>

49577 &
	g__cŞÜ
 = 
n_´im™ive
<
cŞÜs
.
_width
?cŞÜs[n_´im™ive]:
CImg
<
tc
>(),

49578 
	g_cŞÜ
 = (
__cŞÜ
 && __cŞÜ.
size
()!=
_¥eùrum
 && __color._spectrum<_spectrum)?

49579 
__cŞÜ
.
g‘_»size
(-100,-100,-100,
_¥eùrum
,0):
CImg
<
tc
>(),

49580 &
	gcŞÜ
 = 
_cŞÜ
?_cŞÜ:(
__cŞÜ
?__cŞÜ:
deçuÉ_cŞÜ
);

49581 cÚ¡ 
tc
 *cÚ¡ 
	gpcŞÜ
 = 
cŞÜ
.
_d©a
;

49582 
	gİac™y
 = 
__d¿w_objeù3d
(
İac™›s
,
n_´im™ive
,
_İac™y
);

49583 ià(
	g_İac™y
.
is_em±y
()è
	gİac™y
*=
g_İac™y
;

49585 #ifdeà
cimg_u£_bßrd


49586 
	gLibBßrd
::
Bßrd
 &
bßrd
 = *(
LibBßrd
::Bßrd*)
pbßrd
;

49589 
	g´im™ive
.
size
()) {

49591 cÚ¡ 
n0
 = ()
´im™ive
[0];

49592 cÚ¡ 
	gx0
 = 
cimg
::
uœound
(
´ojeùiÚs
(
n0
,0)), 
	gy0
 = cimg::uiround(projections(n0,1));

49594 ià(
	g_İac™y
.
is_em±y
()) {

49596 ià(
	gcŞÜ
.
size
()==
_¥eùrum
) {

49597 
d¿w_pošt
(
x0
,
y0
,
pcŞÜ
,
İac™y
);

49599 #ifdeà
cimg_u£_bßrd


49600 ià(
	gpbßrd
) {

49601 
	gbßrd
.
£tP’CŞÜRGBi
(
cŞÜ
[0],cŞÜ[1],cŞÜ[2],()(
İac™y
*255));

49602 
	gbßrd
.
d¿wDÙ
(()
x0
,
height
()-()
y0
);

49606 cÚ¡ 
æßt
 
	gz
 = 
Z
 + 
v”tiûs
(
n0
,2);

49607 cÚ¡ 
	gçùÜ
 = 
foÿË
<0?1:
¥r™e_sÿË
*(
absfoÿË
?absfoÿË/(
z
 +‡bsfocale):1);

49609 
	g_sw
 = ()(
cŞÜ
.
_width
*
çùÜ
),

49610 
	g_sh
 = ()(
cŞÜ
.
_height
*
çùÜ
),

49611 
	gsw
 = 
_sw
?_sw:1, 
	gsh
 = 
_sh
?_sh:1;

49612 cÚ¡ 
	gnx0
 = 
x0
 - ()
sw
/2, 
	gny0
 = 
y0
 - ()
sh
/2;

49613 ià(
	gsw
<=3*
_width
/2 && 
sh
<=3*
_height
/2 &&

49614 (
nx0
 + ()
sw
/2>=0 ||‚x0 - ()sw/2<
width
(è|| 
ny0
 + ()
sh
/2>=0 ||‚y0 - ()sh/2<
height
())) {

49615 cÚ¡ 
CImg
<
tc
>

49616 
_¥r™e
 = (
sw
!=
cŞÜ
.
_width
 || 
sh
!=cŞÜ.
_height
)?

49617 
cŞÜ
.
g‘_»size
(
sw
,
sh
,1,-100,
»nd”_ty³
<=3?1:3):
CImg
<
tc
>(),

49618 &
	g¥r™e
 = 
_¥r™e
?_¥r™e:
cŞÜ
;

49619 
d¿w_image
(
nx0
,
ny0
,
¥r™e
,
İac™y
);

49621 #ifdeà
cimg_u£_bßrd


49622 ià(
	gpbßrd
) {

49623 
	gbßrd
.
£tP’CŞÜRGBi
(128,128,128);

49624 
	gbßrd
.
£tFlCŞÜ
(
LibBßrd
::
CŞÜ
::
NuÎ
);

49625 
	gbßrd
.
d¿wReùªgË
(()
nx0
,
height
(è- ()
ny0
,
sw
,
sh
);

49631 cÚ¡ 
æßt
 
	gz
 = 
Z
 + 
v”tiûs
(
n0
,2);

49632 cÚ¡ 
	gçùÜ
 = 
foÿË
<0?1:
¥r™e_sÿË
*(
absfoÿË
?absfoÿË/(
z
 +‡bsfocale):1);

49634 
	g_sw
 = ()(
¡d
::
max
(
cŞÜ
.
_width
,
_İac™y
._width)*
	gçùÜ
),

49635 
	g_sh
 = ()(
¡d
::
max
(
cŞÜ
.
_height
,
_İac™y
._height)*
	gçùÜ
),

49636 
	gsw
 = 
_sw
?_sw:1, 
	gsh
 = 
_sh
?_sh:1;

49637 cÚ¡ 
	gnx0
 = 
x0
 - ()
sw
/2, 
	gny0
 = 
y0
 - ()
sh
/2;

49638 ià(
	gsw
<=3*
_width
/2 && 
sh
<=3*
_height
/2 &&

49639 (
nx0
 + ()
sw
/2>=0 ||‚x0 - ()sw/2<
width
(è|| 
ny0
 + ()
sh
/2>=0 ||‚y0 - ()sh/2<
height
())) {

49640 cÚ¡ 
CImg
<
tc
>

49641 
_¥r™e
 = (
sw
!=
cŞÜ
.
_width
 || 
sh
!=cŞÜ.
_height
)?

49642 
cŞÜ
.
g‘_»size
(
sw
,
sh
,1,-100,
»nd”_ty³
<=3?1:3):
CImg
<
tc
>(),

49643 &
	g¥r™e
 = 
_¥r™e
?_¥r™e:
cŞÜ
;

49644 cÚ¡ 
	gCImg
<
	g_to
>

49645 
	g_nİac™y
 = (
sw
!=
_İac™y
.
_width
 || 
sh
!=_İac™y.
_height
)?

49646 
_İac™y
.
g‘_»size
(
sw
,
sh
,1,-100,
»nd”_ty³
<=3?1:3):
CImg
<
_to
>(),

49647 &
	gnİac™y
 = 
_nİac™y
?_nİac™y:
_İac™y
;

49648 
d¿w_image
(
nx0
,
ny0
,
¥r™e
,
nİac™y
,
g_İac™y
);

49650 #ifdeà
cimg_u£_bßrd


49651 ià(
	gpbßrd
) {

49652 
	gbßrd
.
£tP’CŞÜRGBi
(128,128,128);

49653 
	gbßrd
.
£tFlCŞÜ
(
LibBßrd
::
CŞÜ
::
NuÎ
);

49654 
	gbßrd
.
d¿wReùªgË
(()
nx0
,
height
(è- ()
ny0
,
sw
,
sh
);

49662 
n0
 = ()
´im™ive
[0],

49663 
	gn1
 = ()
´im™ive
[1];

49665 
	gx0
 = 
cimg
::
uœound
(
´ojeùiÚs
(
n0
,0)), 
	gy0
 = cimg::uiround(projections(n0,1)),

49666 
	gx1
 = 
cimg
::
uœound
(
´ojeùiÚs
(
n1
,0)), 
	gy1
 = cimg::uiround(projections(n1,1));

49668 
	gz0
 = 
v”tiûs
(
n0
,2è+ 
	gZ
 + 
	g_foÿË
,

49669 
	gz1
 = 
v”tiûs
(
n1
,2è+ 
	gZ
 + 
	g_foÿË
;

49670 ià(
	g»nd”_ty³
) {

49671 ià(
	gzbufãr
è
d¿w_lše
(
zbufãr
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
pcŞÜ
,
İac™y
);

49672 
d¿w_lše
(
x0
,
y0
,
x1
,
y1
,
pcŞÜ
,
İac™y
);

49674 #ifdeà
cimg_u£_bßrd


49675 ià(
	gpbßrd
) {

49676 
	gbßrd
.
£tP’CŞÜRGBi
(
cŞÜ
[0],cŞÜ[1],cŞÜ[2],()(
İac™y
*255));

49677 
	gbßrd
.
d¿wLše
(()
x0
,
height
(è- ()
y0
,
x1
,height(è- ()
y1
);

49681 
d¿w_pošt
(
x0
,
y0
,
pcŞÜ
,
İac™y
).d¿w_pošt(
x1
,
y1
,pcolor,opacity);

49683 #ifdeà
cimg_u£_bßrd


49684 ià(
	gpbßrd
) {

49685 
	gbßrd
.
£tP’CŞÜRGBi
(
cŞÜ
[0],cŞÜ[1],cŞÜ[2],()(
İac™y
*255));

49686 
	gbßrd
.
d¿wDÙ
(()
x0
,
height
(è- ()
y0
);

49687 
	gbßrd
.
d¿wDÙ
(()
x1
,
height
(è- ()
y1
);

49694 
n0
 = ()
´im™ive
[0],

49695 
	gn1
 = ()
´im™ive
[1],

49696 
	gis_wœeäame
 = ()
´im™ive
[2],

49697 
	gis_¿dius
 = ()
´im™ive
[3];

49698 
	gXc
,
	gYc
,
	gZc
,
	g¿dius
;

49699 ià(
	gis_¿dius
) {

49700 
	gXc
 = ()
v”tiûs
(
n0
,0);

49701 
	gYc
 = ()
v”tiûs
(
n0
,1);

49702 
	gZc
 = ()
v”tiûs
(
n0
,2);

49703 
	g¿dius
 = 
cimg
::
hypÙ
(
v”tiûs
(
n1
,0è- v”tiûs(
n0
,0),

49704 
v”tiûs
(
n1
,1è- v”tiûs(
n0
,1),

49705 
v”tiûs
(
n1
,2è- v”tiûs(
n0
,2));

49707 
	gXc
 = 0.5f*(()
v”tiûs
(
n0
,0è+ ()v”tiûs(
n1
,0));

49708 
	gYc
 = 0.5f*(()
v”tiûs
(
n0
,1è+ ()v”tiûs(
n1
,1));

49709 
	gZc
 = 0.5f*(()
v”tiûs
(
n0
,2è+ ()v”tiûs(
n1
,2));

49710 
	g¿dius
 = 0.5f*
cimg
::
hypÙ
(
v”tiûs
(
n1
,0è- v”tiûs(
n0
,0),

49711 
v”tiûs
(
n1
,1è- v”tiûs(
n0
,1),

49712 
v”tiûs
(
n1
,2è- v”tiûs(
n0
,2));

49715 
	gzc
 = 
Z
 + 
Zc
 + 
_foÿË
,

49716 
	gaf
 = 
absfoÿË
?absfoÿË/
zc
:1,

49717 
	gxc
 = 
X
 + 
Xc
*
af
,

49718 
	gyc
 = 
Y
 + 
Yc
*
af
;

49719 
	g¿dius
*=
af
;

49721 
	g»nd”_ty³
) {

49723 
d¿w_pošt
(()
xc
,()
yc
,
pcŞÜ
,
İac™y
);

49725 #ifdeà
cimg_u£_bßrd


49726 ià(
	gpbßrd
) {

49727 
	gbßrd
.
£tP’CŞÜRGBi
(
cŞÜ
[0],cŞÜ[1],cŞÜ[2],()(
İac™y
*255));

49728 
	gbßrd
.
d¿wDÙ
(
xc
,
height
(è- 
yc
);

49733 
d¿w_cœşe
(()
xc
,()
yc
,()
¿dius
,
pcŞÜ
,
İac™y
,~0U);

49735 #ifdeà
cimg_u£_bßrd


49736 ià(
	gpbßrd
) {

49737 
	gbßrd
.
£tP’CŞÜRGBi
(
cŞÜ
[0],cŞÜ[1],cŞÜ[2],()(
İac™y
*255));

49738 
	gbßrd
.
£tFlCŞÜ
(
LibBßrd
::
CŞÜ
::
NuÎ
);

49739 
	gbßrd
.
d¿wCœşe
(
xc
,
height
(è- 
yc
,
¿dius
);

49744 ià(
is_wœeäame
è
d¿w_cœşe
(()
xc
,()
yc
,()
¿dius
,
pcŞÜ
,
İac™y
,~0U);

49745 
d¿w_cœşe
(()
xc
,()
yc
,()
¿dius
,
pcŞÜ
,
İac™y
);

49747 #ifdeà
cimg_u£_bßrd


49748 ià(
	gpbßrd
) {

49749 
	gbßrd
.
£tP’CŞÜRGBi
(
cŞÜ
[0],cŞÜ[1],cŞÜ[2],()(
İac™y
*255));

49750 ià(!
	gis_wœeäame
è
	gbßrd
.
flCœşe
(
xc
,
height
(è- 
yc
,
¿dius
);

49752 
	gbßrd
.
£tFlCŞÜ
(
LibBßrd
::
CŞÜ
::
NuÎ
);

49753 
	gbßrd
.
d¿wCœşe
(
xc
,
height
(è- 
yc
,
¿dius
);

49761 ià(!
__cŞÜ
) {

49762 ià(
»nd”_ty³
==5è
cimg
::
mu‹x
(10,0);

49763 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


49765 
cimg_š¡ªû
,
n_´im™ive
);

49768 
	gn0
 = ()
´im™ive
[0],

49769 
	gn1
 = ()
´im™ive
[1];

49771 
	gtx0
 = ()
´im™ive
[2], 
	gty0
 = ()primitive[3],

49772 
	gtx1
 = ()
´im™ive
[4], 
	gty1
 = ()primitive[5],

49773 
	gx0
 = 
cimg
::
uœound
(
´ojeùiÚs
(
n0
,0)), 
	gy0
 = cimg::uiround(projections(n0,1)),

49774 
	gx1
 = 
cimg
::
uœound
(
´ojeùiÚs
(
n1
,0)), 
	gy1
 = cimg::uiround(projections(n1,1));

49776 
	gz0
 = 
v”tiûs
(
n0
,2è+ 
	gZ
 + 
	g_foÿË
,

49777 
	gz1
 = 
v”tiûs
(
n1
,2è+ 
	gZ
 + 
	g_foÿË
;

49778 ià(
	g»nd”_ty³
) {

49779 ià(
	gzbufãr
è
d¿w_lše
(
zbufãr
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
cŞÜ
,
tx0
,
ty0
,
tx1
,
ty1
,
İac™y
);

49780 
d¿w_lše
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
cŞÜ
,
tx0
,
ty0
,
tx1
,
ty1
,
İac™y
);

49782 #ifdeà
cimg_u£_bßrd


49783 ià(
	gpbßrd
) {

49784 
	gbßrd
.
£tP’CŞÜRGBi
(128,128,128,()(
İac™y
*255));

49785 
	gbßrd
.
d¿wLše
(()
x0
,
height
(è- ()
y0
,()
x1
,height(è- ()
y1
);

49789 
d¿w_pošt
(
x0
,
y0
,
cŞÜ
.
g‘_veùÜ_©
(
tx0
<=0?0:tx0>=cŞÜ.
width
()?color.width() - 1:tx0,

49790 
ty0
<=0?0:ty0>=
cŞÜ
.
height
()?cŞÜ.height(è- 1:ty0).
_d©a
,
İac™y
).

49791 
d¿w_pošt
(
x1
,
y1
,
cŞÜ
.
g‘_veùÜ_©
(
tx1
<=0?0:tx1>=cŞÜ.
width
()?color.width() - 1:tx1,

49792 
ty1
<=0?0:ty1>=
cŞÜ
.
height
()?cŞÜ.height(è- 1:ty1).
_d©a
,
İac™y
);

49794 #ifdeà
cimg_u£_bßrd


49795 ià(
	gpbßrd
) {

49796 
	gbßrd
.
£tP’CŞÜRGBi
(128,128,128,()(
İac™y
*255));

49797 
	gbßrd
.
d¿wDÙ
(()
x0
,
height
(è- ()
y0
);

49798 
	gbßrd
.
d¿wDÙ
(()
x1
,
height
(è- ()
y1
);

49805 
n0
 = ()
´im™ive
[0],

49806 
	gn1
 = ()
´im™ive
[1],

49807 
	gn2
 = ()
´im™ive
[2];

49809 
	gx0
 = 
cimg
::
uœound
(
´ojeùiÚs
(
n0
,0)), 
	gy0
 = cimg::uiround(projections(n0,1)),

49810 
	gx1
 = 
cimg
::
uœound
(
´ojeùiÚs
(
n1
,0)), 
	gy1
 = cimg::uiround(projections(n1,1)),

49811 
	gx2
 = 
cimg
::
uœound
(
´ojeùiÚs
(
n2
,0)), 
	gy2
 = cimg::uiround(projections(n2,1));

49813 
	gz0
 = 
v”tiûs
(
n0
,2è+ 
	gZ
 + 
	g_foÿË
,

49814 
	gz1
 = 
v”tiûs
(
n1
,2è+ 
	gZ
 + 
	g_foÿË
,

49815 
	gz2
 = 
v”tiûs
(
n2
,2è+ 
	gZ
 + 
	g_foÿË
;

49816 
	g»nd”_ty³
) {

49818 
d¿w_pošt
(
x0
,
y0
,
pcŞÜ
,
İac™y
).d¿w_pošt(
x1
,
y1
,pcŞÜ,İac™y).d¿w_pošt(
x2
,
y2
,pcolor,opacity);

49820 #ifdeà
cimg_u£_bßrd


49821 ià(
	gpbßrd
) {

49822 
	gbßrd
.
£tP’CŞÜRGBi
(
cŞÜ
[0],cŞÜ[1],cŞÜ[2],()(
İac™y
*255));

49823 
	gbßrd
.
d¿wDÙ
(()
x0
,
height
(è- ()
y0
);

49824 
	gbßrd
.
d¿wDÙ
(()
x1
,
height
(è- ()
y1
);

49825 
	gbßrd
.
d¿wDÙ
(()
x2
,
height
(è- ()
y2
);

49830 ià(
zbufãr
)

49831 
d¿w_lše
(
zbufãr
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
pcŞÜ
,
İac™y
).d¿w_lše(zbufãr,x0,y0,z0,
x2
,
y2
,
z2
,pcolor,opacity).

49832 
d¿w_lše
(
zbufãr
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
pcŞÜ
,
İac™y
);

49834 
d¿w_lše
(
x0
,
y0
,
x1
,
y1
,
pcŞÜ
,
İac™y
).d¿w_lše(x0,y0,
x2
,
y2
,pcolor,opacity).

49835 
d¿w_lše
(
x1
,
y1
,
x2
,
y2
,
pcŞÜ
,
İac™y
);

49837 #ifdeà
cimg_u£_bßrd


49838 ià(
	gpbßrd
) {

49839 
	gbßrd
.
£tP’CŞÜRGBi
(
cŞÜ
[0],cŞÜ[1],cŞÜ[2],()(
İac™y
*255));

49840 
	gbßrd
.
d¿wLše
(()
x0
,
height
(è- ()
y0
,()
x1
,height(è- ()
y1
);

49841 
	gbßrd
.
d¿wLše
(()
x0
,
height
(è- ()
y0
,()
x2
,height(è- ()
y2
);

49842 
	gbßrd
.
d¿wLše
(()
x1
,
height
(è- ()
y1
,()
x2
,height(è- ()
y2
);

49847 ià(
zbufãr
è
d¿w_ŒŸngË
(zbufãr,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
pcŞÜ
,
İac™y
);

49848 
d¿w_ŒŸngË
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,
pcŞÜ
,
İac™y
);

49850 #ifdeà
cimg_u£_bßrd


49851 ià(
	gpbßrd
) {

49852 
	gbßrd
.
£tP’CŞÜRGBi
(
cŞÜ
[0],cŞÜ[1],cŞÜ[2],()(
İac™y
*255));

49853 
	gbßrd
.
flTrŸngË
(()
x0
,
height
(è- ()
y0
,

49854 ()
x1
,
height
(è- ()
y1
,

49855 ()
x2
,
height
(è- ()
y2
);

49860 ià(
zbufãr
è
d¿w_ŒŸngË
(zbufãr,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
pcŞÜ
,
İac™y
,
lighrİs
(
l
));

49861 
_d¿w_ŒŸngË
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,
pcŞÜ
,
İac™y
,
lighrİs
(
l
));

49863 #ifdeà
cimg_u£_bßrd


49864 ià(
	gpbßrd
) {

49865 cÚ¡ 
	gÍ
 = 
¡d
::
mš
(
lighrİs
(
l
),1.f);

49866 
	gbßrd
.
£tP’CŞÜRGBi
(()(
cŞÜ
[0]*
Í
),

49867 ()(
cŞÜ
[1]*
Í
),

49868 ()(
cŞÜ
[2]*
Í
),

49869 ()(
İac™y
*255));

49870 
	gbßrd
.
flTrŸngË
(()
x0
,
height
(è- ()
y0
,

49871 ()
x1
,
height
(è- ()
y1
,

49872 ()
x2
,
height
(è- ()
y2
);

49877 ià(
zbufãr
)

49878 
d¿w_ŒŸngË
(
zbufãr
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
pcŞÜ
,

49879 
lighrİs
(
n0
),lighrİs(
n1
),lighrİs(
n2
),
İac™y
);

49880 
d¿w_ŒŸngË
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,
pcŞÜ
,
lighrİs
(
n0
),lighrİs(
n1
),lighrİs(
n2
),
İac™y
);

49882 #ifdeà
cimg_u£_bßrd


49883 ià(
	gpbßrd
) {

49884 
	gbßrd
.
£tP’CŞÜRGBi
(()(
cŞÜ
[0]),

49885 ()(
cŞÜ
[1]),

49886 ()(
cŞÜ
[2]),

49887 ()(
İac™y
*255));

49888 
	gbßrd
.
flGou¿udTrŸngË
(()
x0
,
height
(è- ()
y0
,
lighrİs
(
n0
),

49889 ()
x1
,
height
(è- ()
y1
,
lighrİs
(
n1
),

49890 ()
x2
,
height
(è- ()
y2
,
lighrİs
(
n2
));

49896 
lx0
 = ()
cimg
::
uœound
(
lighrİs
(
n0
,0)), 
	gly0
 = ()cimg::uiround(lightprops(n0,1)),

49897 
	glx1
 = ()
cimg
::
uœound
(
lighrİs
(
n1
,0)), 
	gly1
 = ()cimg::uiround(lightprops(n1,1)),

49898 
	glx2
 = ()
cimg
::
uœound
(
lighrİs
(
n2
,0)), 
	gly2
 = ()cimg::uiround(lightprops(n2,1));

49899 ià(
	gzbufãr
)

49900 
d¿w_ŒŸngË
(
zbufãr
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
pcŞÜ
,
light_‹xtu»
,
lx0
,
ly0
,
lx1
,
ly1
,
lx2
,
ly2
,
İac™y
);

49901 
d¿w_ŒŸngË
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,
pcŞÜ
,
light_‹xtu»
,
lx0
,
ly0
,
lx1
,
ly1
,
lx2
,
ly2
,
İac™y
);

49903 #ifdeà
cimg_u£_bßrd


49904 ià(
	gpbßrd
) {

49906 
	gl0
 = 
light_‹xtu»
(()Öight_‹xtu».
width
()/2*(1 + 
lighrİs
(
n0
,0))),

49907 ()(
light_‹xtu»
.
height
()/2*(1 + 
lighrİs
(
n0
,1)))),

49908 
	gl1
 = 
light_‹xtu»
(()Öight_‹xtu».
width
()/2*(1 + 
lighrİs
(
n1
,0))),

49909 ()(
light_‹xtu»
.
height
()/2*(1 + 
lighrİs
(
n1
,1)))),

49910 
	gl2
 = 
light_‹xtu»
(()Öight_‹xtu».
width
()/2*(1 + 
lighrİs
(
n2
,0))),

49911 ()(
light_‹xtu»
.
height
()/2*(1 + 
lighrİs
(
n2
,1))));

49912 
	gbßrd
.
£tP’CŞÜRGBi
(()(
cŞÜ
[0]),

49913 ()(
cŞÜ
[1]),

49914 ()(
cŞÜ
[2]),

49915 ()(
İac™y
*255));

49916 
	gbßrd
.
flGou¿udTrŸngË
(()
x0
,
height
(è- ()
y0
,
l0
,

49917 ()
x1
,
height
(è- ()
y1
,
l1
,

49918 ()
x2
,
height
(è- ()
y2
,
l2
);

49926 
n0
 = ()
´im™ive
[0],

49927 
	gn1
 = ()
´im™ive
[1],

49928 
	gn2
 = ()
´im™ive
[2],

49929 
	gn3
 = ()
´im™ive
[3];

49931 
	gx0
 = 
cimg
::
uœound
(
´ojeùiÚs
(
n0
,0)), 
	gy0
 = cimg::uiround(projections(n0,1)),

49932 
	gx1
 = 
cimg
::
uœound
(
´ojeùiÚs
(
n1
,0)), 
	gy1
 = cimg::uiround(projections(n1,1)),

49933 
	gx2
 = 
cimg
::
uœound
(
´ojeùiÚs
(
n2
,0)), 
	gy2
 = cimg::uiround(projections(n2,1)),

49934 
	gx3
 = 
cimg
::
uœound
(
´ojeùiÚs
(
n3
,0)), 
	gy3
 = cimg::uiround(projections(n3,1)),

49935 
	gxc
 = (
x0
 + 
x1
 + 
x2
 + 
x3
)/4, 
	gyc
 = (
y0
 + 
y1
 + 
y2
 + 
y3
)/4;

49937 
	gz0
 = 
v”tiûs
(
n0
,2è+ 
	gZ
 + 
	g_foÿË
,

49938 
	gz1
 = 
v”tiûs
(
n1
,2è+ 
	gZ
 + 
	g_foÿË
,

49939 
	gz2
 = 
v”tiûs
(
n2
,2è+ 
	gZ
 + 
	g_foÿË
,

49940 
	gz3
 = 
v”tiûs
(
n3
,2è+ 
	gZ
 + 
	g_foÿË
,

49941 
	gzc
 = (
z0
 + 
z1
 + 
z2
 + 
z3
)/4;

49943 
	g»nd”_ty³
) {

49945 
d¿w_pošt
(
x0
,
y0
,
pcŞÜ
,
İac™y
).d¿w_pošt(
x1
,
y1
,pcolor,opacity).

49946 
d¿w_pošt
(
x2
,
y2
,
pcŞÜ
,
İac™y
).d¿w_pošt(
x3
,
y3
,pcolor,opacity);

49948 #ifdeà
cimg_u£_bßrd


49949 ià(
	gpbßrd
) {

49950 
	gbßrd
.
£tP’CŞÜRGBi
(
cŞÜ
[0],cŞÜ[1],cŞÜ[2],()(
İac™y
*255));

49951 
	gbßrd
.
d¿wDÙ
(()
x0
,
height
(è- ()
y0
);

49952 
	gbßrd
.
d¿wDÙ
(()
x1
,
height
(è- ()
y1
);

49953 
	gbßrd
.
d¿wDÙ
(()
x2
,
height
(è- ()
y2
);

49954 
	gbßrd
.
d¿wDÙ
(()
x3
,
height
(è- ()
y3
);

49959 ià(
zbufãr
)

49960 
d¿w_lše
(
zbufãr
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
pcŞÜ
,
İac™y
).d¿w_lše(zbufãr,x1,y1,z1,
x2
,
y2
,
z2
,pcolor,opacity).

49961 
d¿w_lše
(
zbufãr
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
pcŞÜ
,
İac™y
).d¿w_lše(zbufãr,x3,y3,z3,
x0
,
y0
,
z0
,pcolor,opacity);

49963 
d¿w_lše
(
x0
,
y0
,
x1
,
y1
,
pcŞÜ
,
İac™y
).d¿w_lše(x1,y1,
x2
,
y2
,pcolor,opacity).

49964 
d¿w_lše
(
x2
,
y2
,
x3
,
y3
,
pcŞÜ
,
İac™y
).d¿w_lše(x3,y3,
x0
,
y0
,pcolor,opacity);

49966 #ifdeà
cimg_u£_bßrd


49967 ià(
	gpbßrd
) {

49968 
	gbßrd
.
£tP’CŞÜRGBi
(
cŞÜ
[0],cŞÜ[1],cŞÜ[2],()(
İac™y
*255));

49969 
	gbßrd
.
d¿wLše
(()
x0
,
height
(è- ()
y0
,()
x1
,height(è- ()
y1
);

49970 
	gbßrd
.
d¿wLše
(()
x1
,
height
(è- ()
y1
,()
x2
,height(è- ()
y2
);

49971 
	gbßrd
.
d¿wLše
(()
x2
,
height
(è- ()
y2
,()
x3
,height(è- ()
y3
);

49972 
	gbßrd
.
d¿wLše
(()
x3
,
height
(è- ()
y3
,()
x0
,height(è- ()
y0
);

49977 ià(
zbufãr
)

49978 
d¿w_ŒŸngË
(
zbufãr
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
pcŞÜ
,
İac™y
).

49979 
d¿w_ŒŸngË
(
zbufãr
,
x0
,
y0
,
z0
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
pcŞÜ
,
İac™y
);

49981 
d¿w_ŒŸngË
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,
pcŞÜ
,
İac™y
).d¿w_ŒŸngË(x0,y0,x2,y2,
x3
,
y3
,pcolor,opacity);

49983 #ifdeà
cimg_u£_bßrd


49984 ià(
	gpbßrd
) {

49985 
	gbßrd
.
£tP’CŞÜRGBi
(
cŞÜ
[0],cŞÜ[1],cŞÜ[2],()(
İac™y
*255));

49986 
	gbßrd
.
flTrŸngË
(()
x0
,
height
(è- ()
y0
,

49987 ()
x1
,
height
(è- ()
y1
,

49988 ()
x2
,
height
(è- ()
y2
);

49989 
	gbßrd
.
flTrŸngË
(()
x0
,
height
(è- ()
y0
,

49990 ()
x2
,
height
(è- ()
y2
,

49991 ()
x3
,
height
(è- ()
y3
);

49996 ià(
zbufãr
)

49997 
d¿w_ŒŸngË
(
zbufãr
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
pcŞÜ
,
İac™y
,
lighrİs
(
l
)).

49998 
d¿w_ŒŸngË
(
zbufãr
,
x0
,
y0
,
z0
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
pcŞÜ
,
İac™y
,
lighrİs
(
l
));

50000 
_d¿w_ŒŸngË
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,
pcŞÜ
,
İac™y
,
lighrİs
(
l
)).

50001 
_d¿w_ŒŸngË
(
x0
,
y0
,
x2
,
y2
,
x3
,
y3
,
pcŞÜ
,
İac™y
,
lighrİs
(
l
));

50003 #ifdeà
cimg_u£_bßrd


50004 ià(
	gpbßrd
) {

50005 cÚ¡ 
	gÍ
 = 
¡d
::
mš
(
lighrİs
(
l
),1.f);

50006 
	gbßrd
.
£tP’CŞÜRGBi
(()(
cŞÜ
[0]*
Í
),

50007 ()(
cŞÜ
[1]*
Í
),

50008 ()(
cŞÜ
[2]*
Í
),()(
İac™y
*255));

50009 
	gbßrd
.
flTrŸngË
(()
x0
,
height
(è- ()
y0
,

50010 ()
x1
,
height
(è- ()
y1
,

50011 ()
x2
,
height
(è- ()
y2
);

50012 
	gbßrd
.
flTrŸngË
(()
x0
,
height
(è- ()
y0
,

50013 ()
x2
,
height
(è- ()
y2
,

50014 ()
x3
,
height
(è- ()
y3
);

50020 
lighrİ0
 = 
lighrİs
(
n0
), 
	glighrİ1
 =†ighrİs(
n1
),

50021 
	glighrİ2
 = 
lighrİs
(
n2
), 
	glighrİ3
 =†ighrİs(
n3
),

50022 
	glighrİc
 = (
lighrİ0
 + 
lighrİ1
 + 
lighrİ2
 +†ightprop2)/4;

50023 ià(
	gzbufãr
)

50024 
d¿w_ŒŸngË
(
zbufãr
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
xc
,
yc
,
zc
,
pcŞÜ
,
lighrİ0
,
lighrİ1
,
lighrİc
,
İac™y
).

50025 
d¿w_ŒŸngË
(
zbufãr
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
xc
,
yc
,
zc
,
pcŞÜ
,
lighrİ1
,
lighrİ2
,
lighrİc
,
İac™y
).

50026 
d¿w_ŒŸngË
(
zbufãr
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
xc
,
yc
,
zc
,
pcŞÜ
,
lighrİ2
,
lighrİ3
,
lighrİc
,
İac™y
).

50027 
d¿w_ŒŸngË
(
zbufãr
,
x3
,
y3
,
z3
,
x0
,
y0
,
z0
,
xc
,
yc
,
zc
,
pcŞÜ
,
lighrİ3
,
lighrİ0
,
lighrİc
,
İac™y
);

50029 
d¿w_ŒŸngË
(
x0
,
y0
,
x1
,
y1
,
xc
,
yc
,
pcŞÜ
,
lighrİ0
,
lighrİ1
,
lighrİc
,
İac™y
).

50030 
d¿w_ŒŸngË
(
x1
,
y1
,
x2
,
y2
,
xc
,
yc
,
pcŞÜ
,
lighrİ1
,
lighrİ2
,
lighrİc
,
İac™y
).

50031 
d¿w_ŒŸngË
(
x2
,
y2
,
x3
,
y3
,
xc
,
yc
,
pcŞÜ
,
lighrİ2
,
lighrİ3
,
lighrİc
,
İac™y
).

50032 
d¿w_ŒŸngË
(
x3
,
y3
,
x0
,
y0
,
xc
,
yc
,
pcŞÜ
,
lighrİ3
,
lighrİ0
,
lighrİc
,
İac™y
);

50034 #ifdeà
cimg_u£_bßrd


50035 ià(
	gpbßrd
) {

50036 
	gbßrd
.
£tP’CŞÜRGBi
(()(
cŞÜ
[0]),

50037 ()(
cŞÜ
[1]),

50038 ()(
cŞÜ
[2]),

50039 ()(
İac™y
*255));

50040 
	gbßrd
.
flGou¿udTrŸngË
(()
x0
,
height
(è- ()
y0
,
lighrİ0
,

50041 ()
x1
,
height
(è- ()
y1
,
lighrİ1
,

50042 ()
x2
,
height
(è- ()
y2
,
lighrİ2
);

50043 
	gbßrd
.
flGou¿udTrŸngË
(()
x0
,
height
(è- ()
y0
,
lighrİ0
,

50044 ()
x2
,
height
(è- ()
y2
,
lighrİ2
,

50045 ()
x3
,
height
(è- ()
y3
,
lighrİ3
);

50051 
lx0
 = ()
cimg
::
uœound
(
lighrİs
(
n0
,0)), 
	gly0
 = ()cimg::uiround(lightprops(n0,1)),

50052 
	glx1
 = ()
cimg
::
uœound
(
lighrİs
(
n1
,0)), 
	gly1
 = ()cimg::uiround(lightprops(n1,1)),

50053 
	glx2
 = ()
cimg
::
uœound
(
lighrİs
(
n2
,0)), 
	gly2
 = ()cimg::uiround(lightprops(n2,1)),

50054 
	glx3
 = ()
cimg
::
uœound
(
lighrİs
(
n3
,0)), 
	gly3
 = ()cimg::uiround(lightprops(n3,1)),

50055 
	glxc
 = (
lx0
 + 
lx1
 + 
lx2
 + 
lx3
)/4, 
	glyc
 = (
ly0
 + 
ly1
 + 
ly2
 + 
ly3
)/4;

50056 ià(
	gzbufãr
)

50057 
d¿w_ŒŸngË
(
zbufãr
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
xc
,
yc
,
zc
,
pcŞÜ
,
light_‹xtu»
,
lx0
,
ly0
,
lx1
,
ly1
,
lxc
,
lyc
,
İac™y
).

50058 
d¿w_ŒŸngË
(
zbufãr
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
xc
,
yc
,
zc
,
pcŞÜ
,
light_‹xtu»
,
lx1
,
ly1
,
lx2
,
ly2
,
lxc
,
lyc
,
İac™y
).

50059 
d¿w_ŒŸngË
(
zbufãr
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
xc
,
yc
,
zc
,
pcŞÜ
,
light_‹xtu»
,
lx2
,
ly2
,
lx3
,
ly3
,
lxc
,
lyc
,
İac™y
).

50060 
d¿w_ŒŸngË
(
zbufãr
,
x3
,
y3
,
z3
,
x0
,
y0
,
z0
,
xc
,
yc
,
zc
,
pcŞÜ
,
light_‹xtu»
,
lx3
,
ly3
,
lx0
,
ly0
,
lxc
,
lyc
,
İac™y
);

50062 
d¿w_ŒŸngË
(
x0
,
y0
,
x1
,
y1
,
xc
,
yc
,
pcŞÜ
,
light_‹xtu»
,
lx0
,
ly0
,
lx1
,
ly1
,
lxc
,
lyc
,
İac™y
).

50063 
d¿w_ŒŸngË
(
x1
,
y1
,
x2
,
y2
,
xc
,
yc
,
pcŞÜ
,
light_‹xtu»
,
lx1
,
ly1
,
lx2
,
ly2
,
lxc
,
lyc
,
İac™y
).

50064 
d¿w_ŒŸngË
(
x2
,
y2
,
x3
,
y3
,
xc
,
yc
,
pcŞÜ
,
light_‹xtu»
,
lx2
,
ly2
,
lx3
,
ly3
,
lxc
,
lyc
,
İac™y
).

50065 
d¿w_ŒŸngË
(
x3
,
y3
,
x0
,
y0
,
xc
,
yc
,
pcŞÜ
,
light_‹xtu»
,
lx3
,
ly3
,
lx0
,
ly0
,
lxc
,
lyc
,
İac™y
);

50067 #ifdeà
cimg_u£_bßrd


50068 ià(
	gpbßrd
) {

50070 
	gl0
 = 
light_‹xtu»
(()Öight_‹xtu».
width
()/2*(1 + 
lx0
)), ()Öight_‹xtu».
height
()/2*(1 + 
ly0
))),

50071 
	gl1
 = 
light_‹xtu»
(()Öight_‹xtu».
width
()/2*(1 + 
lx1
)), ()Öight_‹xtu».
height
()/2*(1 + 
ly1
))),

50072 
	gl2
 = 
light_‹xtu»
(()Öight_‹xtu».
width
()/2*(1 + 
lx2
)), ()Öight_‹xtu».
height
()/2*(1 + 
ly2
))),

50073 
	gl3
 = 
light_‹xtu»
(()Öight_‹xtu».
width
()/2*(1 + 
lx3
)), ()Öight_‹xtu».
height
()/2*(1 + 
ly3
)));

50074 
	gbßrd
.
£tP’CŞÜRGBi
(()(
cŞÜ
[0]),

50075 ()(
cŞÜ
[1]),

50076 ()(
cŞÜ
[2]),

50077 ()(
İac™y
*255));

50078 
	gbßrd
.
flGou¿udTrŸngË
(()
x0
,
height
(è- ()
y0
,
l0
,

50079 ()
x1
,
height
(è- ()
y1
,
l1
,

50080 ()
x2
,
height
(è- ()
y2
,
l2
);

50081 
	gbßrd
.
flGou¿udTrŸngË
(()
x0
,
height
(è- ()
y0
,
l0
,

50082 ()
x2
,
height
(è- ()
y2
,
l2
,

50083 ()
x3
,
height
(è- ()
y3
,
l3
);

50090 ià(!
__cŞÜ
) {

50091 ià(
»nd”_ty³
==5è
cimg
::
mu‹x
(10,0);

50092 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


50094 
cimg_š¡ªû
,
n_´im™ive
);

50097 
	gn0
 = ()
´im™ive
[0],

50098 
	gn1
 = ()
´im™ive
[1],

50099 
	gn2
 = ()
´im™ive
[2];

50101 
	gtx0
 = ()
´im™ive
[3], 
	gty0
 = ()primitive[4],

50102 
	gtx1
 = ()
´im™ive
[5], 
	gty1
 = ()primitive[6],

50103 
	gtx2
 = ()
´im™ive
[7], 
	gty2
 = ()primitive[8],

50104 
	gx0
 = 
cimg
::
uœound
(
´ojeùiÚs
(
n0
,0)), 
	gy0
 = cimg::uiround(projections(n0,1)),

50105 
	gx1
 = 
cimg
::
uœound
(
´ojeùiÚs
(
n1
,0)), 
	gy1
 = cimg::uiround(projections(n1,1)),

50106 
	gx2
 = 
cimg
::
uœound
(
´ojeùiÚs
(
n2
,0)), 
	gy2
 = cimg::uiround(projections(n2,1));

50108 
	gz0
 = 
v”tiûs
(
n0
,2è+ 
	gZ
 + 
	g_foÿË
,

50109 
	gz1
 = 
v”tiûs
(
n1
,2è+ 
	gZ
 + 
	g_foÿË
,

50110 
	gz2
 = 
v”tiûs
(
n2
,2è+ 
	gZ
 + 
	g_foÿË
;

50111 
	g»nd”_ty³
) {

50113 
d¿w_pošt
(
x0
,
y0
,
cŞÜ
.
g‘_veùÜ_©
(
tx0
<=0?0:tx0>=cŞÜ.
width
()?color.width() - 1:tx0,

50114 
ty0
<=0?0:ty0>=
cŞÜ
.
height
()?cŞÜ.height(è- 1:ty0).
_d©a
,
İac™y
).

50115 
d¿w_pošt
(
x1
,
y1
,
cŞÜ
.
g‘_veùÜ_©
(
tx1
<=0?0:tx1>=cŞÜ.
width
()?color.width() - 1:tx1,

50116 
ty1
<=0?0:ty1>=
cŞÜ
.
height
()?cŞÜ.height(è- 1:ty1).
_d©a
,
İac™y
).

50117 
d¿w_pošt
(
x2
,
y2
,
cŞÜ
.
g‘_veùÜ_©
(
tx2
<=0?0:tx2>=cŞÜ.
width
()?color.width() - 1:tx2,

50118 
ty2
<=0?0:ty2>=
cŞÜ
.
height
()?cŞÜ.height(è- 1:ty2).
_d©a
,
İac™y
);

50119 #ifdeà
cimg_u£_bßrd


50120 ià(
	gpbßrd
) {

50121 
	gbßrd
.
£tP’CŞÜRGBi
(128,128,128,()(
İac™y
*255));

50122 
	gbßrd
.
d¿wDÙ
(()
x0
,
height
(è- ()
y0
);

50123 
	gbßrd
.
d¿wDÙ
(()
x1
,
height
(è- ()
y1
);

50124 
	gbßrd
.
d¿wDÙ
(()
x2
,
height
(è- ()
y2
);

50129 ià(
zbufãr
)

50130 
d¿w_lše
(
zbufãr
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
cŞÜ
,
tx0
,
ty0
,
tx1
,
ty1
,
İac™y
).

50131 
d¿w_lše
(
zbufãr
,
x0
,
y0
,
z0
,
x2
,
y2
,
z2
,
cŞÜ
,
tx0
,
ty0
,
tx2
,
ty2
,
İac™y
).

50132 
d¿w_lše
(
zbufãr
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cŞÜ
,
tx1
,
ty1
,
tx2
,
ty2
,
İac™y
);

50134 
d¿w_lše
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
cŞÜ
,
tx0
,
ty0
,
tx1
,
ty1
,
İac™y
).

50135 
d¿w_lše
(
x0
,
y0
,
z0
,
x2
,
y2
,
z2
,
cŞÜ
,
tx0
,
ty0
,
tx2
,
ty2
,
İac™y
).

50136 
d¿w_lše
(
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cŞÜ
,
tx1
,
ty1
,
tx2
,
ty2
,
İac™y
);

50138 #ifdeà
cimg_u£_bßrd


50139 ià(
	gpbßrd
) {

50140 
	gbßrd
.
£tP’CŞÜRGBi
(128,128,128,()(
İac™y
*255));

50141 
	gbßrd
.
d¿wLše
(()
x0
,
height
(è- ()
y0
,()
x1
,height(è- ()
y1
);

50142 
	gbßrd
.
d¿wLše
(()
x0
,
height
(è- ()
y0
,()
x2
,height(è- ()
y2
);

50143 
	gbßrd
.
d¿wLše
(()
x1
,
height
(è- ()
y1
,()
x2
,height(è- ()
y2
);

50148 ià(
zbufãr
è
d¿w_ŒŸngË
(zbufãr,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cŞÜ
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
İac™y
);

50149 
d¿w_ŒŸngË
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cŞÜ
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
İac™y
);

50151 #ifdeà
cimg_u£_bßrd


50152 ià(
	gpbßrd
) {

50153 
	gbßrd
.
£tP’CŞÜRGBi
(128,128,128,()(
İac™y
*255));

50154 
	gbßrd
.
flTrŸngË
(()
x0
,
height
(è- ()
y0
,

50155 ()
x1
,
height
(è- ()
y1
,

50156 ()
x2
,
height
(è- ()
y2
);

50161 ià(
zbufãr
)

50162 
d¿w_ŒŸngË
(
zbufãr
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cŞÜ
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
İac™y
,
lighrİs
(
l
));

50163 
d¿w_ŒŸngË
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cŞÜ
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
İac™y
,
lighrİs
(
l
));

50165 #ifdeà
cimg_u£_bßrd


50166 ià(
	gpbßrd
) {

50167 cÚ¡ 
	gÍ
 = 
¡d
::
mš
(
lighrİs
(
l
),1.f);

50168 
	gbßrd
.
£tP’CŞÜRGBi
(()(128*
Í
),

50169 ()(128*
Í
),

50170 ()(128*
Í
),

50171 ()(
İac™y
*255));

50172 
	gbßrd
.
flTrŸngË
(()
x0
,
height
(è- ()
y0
,

50173 ()
x1
,
height
(è- ()
y1
,

50174 ()
x2
,
height
(è- ()
y2
);

50179 ià(
zbufãr
)

50180 
d¿w_ŒŸngË
(
zbufãr
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cŞÜ
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,

50181 
lighrİs
(
n0
),lighrİs(
n1
),lighrİs(
n2
),
İac™y
);

50183 
d¿w_ŒŸngË
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cŞÜ
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,

50184 
lighrİs
(
n0
),lighrİs(
n1
),lighrİs(
n2
),
İac™y
);

50186 #ifdeà
cimg_u£_bßrd


50187 ià(
	gpbßrd
) {

50188 
	gbßrd
.
£tP’CŞÜRGBi
(128,128,128,()(
İac™y
*255));

50189 
	gbßrd
.
flGou¿udTrŸngË
(()
x0
,
height
(è- ()
y0
,
lighrİs
(
n0
),

50190 ()
x1
,
height
(è- ()
y1
,
lighrİs
(
n1
),

50191 ()
x2
,
height
(è- ()
y2
,
lighrİs
(
n2
));

50196 ià(
zbufãr
)

50197 
d¿w_ŒŸngË
(
zbufãr
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cŞÜ
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
light_‹xtu»
,

50198 ()
lighrİs
(
n0
,0),()lightprops(n0,1),

50199 ()
lighrİs
(
n1
,0),()lightprops(n1,1),

50200 ()
lighrİs
(
n2
,0),()lightprops(n2,1),

50201 
İac™y
);

50203 
d¿w_ŒŸngË
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cŞÜ
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
light_‹xtu»
,

50204 ()
lighrİs
(
n0
,0),()lightprops(n0,1),

50205 ()
lighrİs
(
n1
,0),()lightprops(n1,1),

50206 ()
lighrİs
(
n2
,0),()lightprops(n2,1),

50207 
İac™y
);

50209 #ifdeà
cimg_u£_bßrd


50210 ià(
	gpbßrd
) {

50212 
	gl0
 = 
light_‹xtu»
(()Öight_‹xtu».
width
()/2*(1 + 
lighrİs
(
n0
,0))),

50213 ()(
light_‹xtu»
.
height
()/2*(1 + 
lighrİs
(
n0
,1)))),

50214 
	gl1
 = 
light_‹xtu»
(()Öight_‹xtu».
width
()/2*(1 + 
lighrİs
(
n1
,0))),

50215 ()(
light_‹xtu»
.
height
()/2*(1 + 
lighrİs
(
n1
,1)))),

50216 
	gl2
 = 
light_‹xtu»
(()Öight_‹xtu».
width
()/2*(1 + 
lighrİs
(
n2
,0))),

50217 ()(
light_‹xtu»
.
height
()/2*(1 + 
lighrİs
(
n2
,1))));

50218 
	gbßrd
.
£tP’CŞÜRGBi
(128,128,128,()(
İac™y
*255));

50219 
	gbßrd
.
flGou¿udTrŸngË
(()
x0
,
height
(è- ()
y0
,
l0
,

50220 ()
x1
,
height
(è- ()
y1
,
l1
,

50221 ()
x2
,
height
(è- ()
y2
,
l2
);

50228 ià(!
__cŞÜ
) {

50229 ià(
»nd”_ty³
==5è
cimg
::
mu‹x
(10,0);

50230 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


50232 
cimg_š¡ªû
,
n_´im™ive
);

50235 
	gn0
 = ()
´im™ive
[0],

50236 
	gn1
 = ()
´im™ive
[1],

50237 
	gn2
 = ()
´im™ive
[2],

50238 
	gn3
 = ()
´im™ive
[3];

50240 
	gtx0
 = ()
´im™ive
[4], 
	gty0
 = ()primitive[5],

50241 
	gtx1
 = ()
´im™ive
[6], 
	gty1
 = ()primitive[7],

50242 
	gtx2
 = ()
´im™ive
[8], 
	gty2
 = ()primitive[9],

50243 
	gtx3
 = ()
´im™ive
[10], 
	gty3
 = ()primitive[11],

50244 
	gx0
 = 
cimg
::
uœound
(
´ojeùiÚs
(
n0
,0)), 
	gy0
 = cimg::uiround(projections(n0,1)),

50245 
	gx1
 = 
cimg
::
uœound
(
´ojeùiÚs
(
n1
,0)), 
	gy1
 = cimg::uiround(projections(n1,1)),

50246 
	gx2
 = 
cimg
::
uœound
(
´ojeùiÚs
(
n2
,0)), 
	gy2
 = cimg::uiround(projections(n2,1)),

50247 
	gx3
 = 
cimg
::
uœound
(
´ojeùiÚs
(
n3
,0)), 
	gy3
 = cimg::uiround(projections(n3,1));

50249 
	gz0
 = 
v”tiûs
(
n0
,2è+ 
	gZ
 + 
	g_foÿË
,

50250 
	gz1
 = 
v”tiûs
(
n1
,2è+ 
	gZ
 + 
	g_foÿË
,

50251 
	gz2
 = 
v”tiûs
(
n2
,2è+ 
	gZ
 + 
	g_foÿË
,

50252 
	gz3
 = 
v”tiûs
(
n3
,2è+ 
	gZ
 + 
	g_foÿË
;

50254 
	g»nd”_ty³
) {

50256 
d¿w_pošt
(
x0
,
y0
,
cŞÜ
.
g‘_veùÜ_©
(
tx0
<=0?0:tx0>=cŞÜ.
width
()?color.width() - 1:tx0,

50257 
ty0
<=0?0:ty0>=
cŞÜ
.
height
()?cŞÜ.height(è- 1:ty0).
_d©a
,
İac™y
).

50258 
d¿w_pošt
(
x1
,
y1
,
cŞÜ
.
g‘_veùÜ_©
(
tx1
<=0?0:tx1>=cŞÜ.
width
()?color.width() - 1:tx1,

50259 
ty1
<=0?0:ty1>=
cŞÜ
.
height
()?cŞÜ.height(è- 1:ty1).
_d©a
,
İac™y
).

50260 
d¿w_pošt
(
x2
,
y2
,
cŞÜ
.
g‘_veùÜ_©
(
tx2
<=0?0:tx2>=cŞÜ.
width
()?color.width() - 1:tx2,

50261 
ty2
<=0?0:ty2>=
cŞÜ
.
height
()?cŞÜ.height(è- 1:ty2).
_d©a
,
İac™y
).

50262 
d¿w_pošt
(
x3
,
y3
,
cŞÜ
.
g‘_veùÜ_©
(
tx3
<=0?0:tx3>=cŞÜ.
width
()?color.width() - 1:tx3,

50263 
ty3
<=0?0:ty3>=
cŞÜ
.
height
()?cŞÜ.height(è- 1:ty3).
_d©a
,
İac™y
);

50265 #ifdeà
cimg_u£_bßrd


50266 ià(
	gpbßrd
) {

50267 
	gbßrd
.
£tP’CŞÜRGBi
(128,128,128,()(
İac™y
*255));

50268 
	gbßrd
.
d¿wDÙ
(()
x0
,
height
(è- ()
y0
);

50269 
	gbßrd
.
d¿wDÙ
(()
x1
,
height
(è- ()
y1
);

50270 
	gbßrd
.
d¿wDÙ
(()
x2
,
height
(è- ()
y2
);

50271 
	gbßrd
.
d¿wDÙ
(()
x3
,
height
(è- ()
y3
);

50276 ià(
zbufãr
)

50277 
d¿w_lše
(
zbufãr
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
cŞÜ
,
tx0
,
ty0
,
tx1
,
ty1
,
İac™y
).

50278 
d¿w_lše
(
zbufãr
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cŞÜ
,
tx1
,
ty1
,
tx2
,
ty2
,
İac™y
).

50279 
d¿w_lše
(
zbufãr
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
cŞÜ
,
tx2
,
ty2
,
tx3
,
ty3
,
İac™y
).

50280 
d¿w_lše
(
zbufãr
,
x3
,
y3
,
z3
,
x0
,
y0
,
z0
,
cŞÜ
,
tx3
,
ty3
,
tx0
,
ty0
,
İac™y
);

50282 
d¿w_lše
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
cŞÜ
,
tx0
,
ty0
,
tx1
,
ty1
,
İac™y
).

50283 
d¿w_lše
(
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cŞÜ
,
tx1
,
ty1
,
tx2
,
ty2
,
İac™y
).

50284 
d¿w_lše
(
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
cŞÜ
,
tx2
,
ty2
,
tx3
,
ty3
,
İac™y
).

50285 
d¿w_lše
(
x3
,
y3
,
z3
,
x0
,
y0
,
z0
,
cŞÜ
,
tx3
,
ty3
,
tx0
,
ty0
,
İac™y
);

50287 #ifdeà
cimg_u£_bßrd


50288 ià(
	gpbßrd
) {

50289 
	gbßrd
.
£tP’CŞÜRGBi
(128,128,128,()(
İac™y
*255));

50290 
	gbßrd
.
d¿wLše
(()
x0
,
height
(è- ()
y0
,()
x1
,height(è- ()
y1
);

50291 
	gbßrd
.
d¿wLše
(()
x1
,
height
(è- ()
y1
,()
x2
,height(è- ()
y2
);

50292 
	gbßrd
.
d¿wLše
(()
x2
,
height
(è- ()
y2
,()
x3
,height(è- ()
y3
);

50293 
	gbßrd
.
d¿wLše
(()
x3
,
height
(è- ()
y3
,()
x0
,height(è- ()
y0
);

50298 ià(
zbufãr
)

50299 
d¿w_ŒŸngË
(
zbufãr
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cŞÜ
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
İac™y
).

50300 
d¿w_ŒŸngË
(
zbufãr
,
x0
,
y0
,
z0
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
cŞÜ
,
tx0
,
ty0
,
tx2
,
ty2
,
tx3
,
ty3
,
İac™y
);

50302 
d¿w_ŒŸngË
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cŞÜ
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
İac™y
).

50303 
d¿w_ŒŸngË
(
x0
,
y0
,
z0
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
cŞÜ
,
tx0
,
ty0
,
tx2
,
ty2
,
tx3
,
ty3
,
İac™y
);

50305 #ifdeà
cimg_u£_bßrd


50306 ià(
	gpbßrd
) {

50307 
	gbßrd
.
£tP’CŞÜRGBi
(128,128,128,()(
İac™y
*255));

50308 
	gbßrd
.
flTrŸngË
(()
x0
,
height
(è- ()
y0
,

50309 ()
x1
,
height
(è- ()
y1
,

50310 ()
x2
,
height
(è- ()
y2
);

50311 
	gbßrd
.
flTrŸngË
(()
x0
,
height
(è- ()
y0
,

50312 ()
x2
,
height
(è- ()
y2
,

50313 ()
x3
,
height
(è- ()
y3
);

50318 ià(
zbufãr
)

50319 
d¿w_ŒŸngË
(
zbufãr
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cŞÜ
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
İac™y
,
lighrİs
(
l
)).

50320 
d¿w_ŒŸngË
(
zbufãr
,
x0
,
y0
,
z0
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
cŞÜ
,
tx0
,
ty0
,
tx2
,
ty2
,
tx3
,
ty3
,
İac™y
,
lighrİs
(
l
));

50322 
d¿w_ŒŸngË
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cŞÜ
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
İac™y
,
lighrİs
(
l
)).

50323 
d¿w_ŒŸngË
(
x0
,
y0
,
z0
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
cŞÜ
,
tx0
,
ty0
,
tx2
,
ty2
,
tx3
,
ty3
,
İac™y
,
lighrİs
(
l
));

50325 #ifdeà
cimg_u£_bßrd


50326 ià(
	gpbßrd
) {

50327 cÚ¡ 
	gÍ
 = 
¡d
::
mš
(
lighrİs
(
l
),1.f);

50328 
	gbßrd
.
£tP’CŞÜRGBi
(()(128*
Í
),

50329 ()(128*
Í
),

50330 ()(128*
Í
),

50331 ()(
İac™y
*255));

50332 
	gbßrd
.
flTrŸngË
(()
x0
,
height
(è- ()
y0
,

50333 ()
x1
,
height
(è- ()
y1
,

50334 ()
x2
,
height
(è- ()
y2
);

50335 
	gbßrd
.
flTrŸngË
(()
x0
,
height
(è- ()
y0
,

50336 ()
x2
,
height
(è- ()
y2
,

50337 ()
x3
,
height
(è- ()
y3
);

50343 
lighrİ0
 = 
lighrİs
(
n0
), 
	glighrİ1
 =†ighrİs(
n1
),

50344 
	glighrİ2
 = 
lighrİs
(
n2
), 
	glighrİ3
 =†ighrİs(
n3
);

50345 ià(
	gzbufãr
)

50346 
d¿w_ŒŸngË
(
zbufãr
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cŞÜ
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,

50347 
lighrİ0
,
lighrİ1
,
lighrİ2
,
İac™y
).

50348 
d¿w_ŒŸngË
(
zbufãr
,
x0
,
y0
,
z0
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
cŞÜ
,
tx0
,
ty0
,
tx2
,
ty2
,
tx3
,
ty3
,

50349 
lighrİ0
,
lighrİ2
,
lighrİ3
,
İac™y
);

50351 
d¿w_ŒŸngË
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cŞÜ
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,

50352 
lighrİ0
,
lighrİ1
,
lighrİ2
,
İac™y
).

50353 
d¿w_ŒŸngË
(
x0
,
y0
,
z0
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
cŞÜ
,
tx0
,
ty0
,
tx2
,
ty2
,
tx3
,
ty3
,

50354 
lighrİ0
,
lighrİ2
,
lighrİ3
,
İac™y
);

50356 #ifdeà
cimg_u£_bßrd


50357 ià(
	gpbßrd
) {

50358 
	gbßrd
.
£tP’CŞÜRGBi
(128,128,128,()(
İac™y
*255));

50359 
	gbßrd
.
flGou¿udTrŸngË
(()
x0
,
height
(è- ()
y0
,
lighrİ0
,

50360 ()
x1
,
height
(è- ()
y1
,
lighrİ1
,

50361 ()
x2
,
height
(è- ()
y2
,
lighrİ2
);

50362 
	gbßrd
.
flGou¿udTrŸngË
(()
x0
,
height
(è-()
y0
,
lighrİ0
,

50363 ()
x2
,
height
(è- ()
y2
,
lighrİ2
,

50364 ()
x3
,
height
(è- ()
y3
,
lighrİ3
);

50370 
lx0
 = ()
cimg
::
uœound
(
lighrİs
(
n0
,0)), 
	gly0
 = ()cimg::uiround(lightprops(n0,1)),

50371 
	glx1
 = ()
cimg
::
uœound
(
lighrİs
(
n1
,0)), 
	gly1
 = ()cimg::uiround(lightprops(n1,1)),

50372 
	glx2
 = ()
cimg
::
uœound
(
lighrİs
(
n2
,0)), 
	gly2
 = ()cimg::uiround(lightprops(n2,1)),

50373 
	glx3
 = ()
cimg
::
uœound
(
lighrİs
(
n3
,0)), 
	gly3
 = ()cimg::uiround(lightprops(n3,1));

50374 ià(
	gzbufãr
)

50375 
d¿w_ŒŸngË
(
zbufãr
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cŞÜ
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,

50376 
light_‹xtu»
,
lx0
,
ly0
,
lx1
,
ly1
,
lx2
,
ly2
,
İac™y
).

50377 
d¿w_ŒŸngË
(
zbufãr
,
x0
,
y0
,
z0
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
cŞÜ
,
tx0
,
ty0
,
tx2
,
ty2
,
tx3
,
ty3
,

50378 
light_‹xtu»
,
lx0
,
ly0
,
lx2
,
ly2
,
lx3
,
ly3
,
İac™y
);

50380 
d¿w_ŒŸngË
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cŞÜ
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,

50381 
light_‹xtu»
,
lx0
,
ly0
,
lx1
,
ly1
,
lx2
,
ly2
,
İac™y
).

50382 
d¿w_ŒŸngË
(
x0
,
y0
,
z0
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
cŞÜ
,
tx0
,
ty0
,
tx2
,
ty2
,
tx3
,
ty3
,

50383 
light_‹xtu»
,
lx0
,
ly0
,
lx2
,
ly2
,
lx3
,
ly3
,
İac™y
);

50384 #ifdeà
cimg_u£_bßrd


50385 ià(
	gpbßrd
) {

50387 
	gl0
 = 
light_‹xtu»
(()Öight_‹xtu».
width
()/2*(1 + 
lx0
)), ()Öight_‹xtu».
height
()/2*(1 + 
ly0
))),

50388 
	gl1
 = 
light_‹xtu»
(()Öight_‹xtu».
width
()/2*(1 + 
lx1
)), ()Öight_‹xtu».
height
()/2*(1 + 
ly1
))),

50389 
	gl2
 = 
light_‹xtu»
(()Öight_‹xtu».
width
()/2*(1 + 
lx2
)), ()Öight_‹xtu».
height
()/2*(1 + 
ly2
))),

50390 
	gl3
 = 
light_‹xtu»
(()Öight_‹xtu».
width
()/2*(1 + 
lx3
)), ()Öight_‹xtu».
height
()/2*(1 + 
ly3
)));

50391 
	gbßrd
.
£tP’CŞÜRGBi
(128,128,128,()(
İac™y
*255));

50392 
	gbßrd
.
flGou¿udTrŸngË
(()
x0
,
height
(è- ()
y0
,
l0
,

50393 ()
x1
,
height
(è- ()
y1
,
l1
,

50394 ()
x2
,
height
(è- ()
y2
,
l2
);

50395 
	gbßrd
.
flGou¿udTrŸngË
(()
x0
,
height
(è-()
y0
,
l0
,

50396 ()
x2
,
height
(è- ()
y2
,
l2
,

50397 ()
x3
,
height
(è- ()
y3
,
l3
);

50405 ià(
	g»nd”_ty³
==5è
cimg
::
mu‹x
(10,0);

50406  *
	gthis
;

50423 
	gCImg
<
	gT
>& 
£Ëù
(
CImgDi¥Ïy
 &
di¥
,

50424 cÚ¡ 
ã©u»_ty³
=2, *cÚ¡ 
XYZ
=0,

50425 cÚ¡ 
boŞ
 
ex™_Ú_ªykey
=
çl£
,

50426 cÚ¡ 
boŞ
 
is_d“p_£ËùiÚ_deçuÉ
=
çl£
) {

50427  
g‘_£Ëù
(
di¥
,
ã©u»_ty³
,
XYZ
,
ex™_Ú_ªykey
,
is_d“p_£ËùiÚ_deçuÉ
).
move_to
(*
this
);

50431 
	gCImg
<
	gT
>& 
£Ëù
(cÚ¡ *cÚ¡ 
t™Ë
,

50432 cÚ¡ 
ã©u»_ty³
=2, *cÚ¡ 
XYZ
=0,

50433 cÚ¡ 
boŞ
 
ex™_Ú_ªykey
=
çl£
,

50434 cÚ¡ 
boŞ
 
is_d“p_£ËùiÚ_deçuÉ
=
çl£
) {

50435  
g‘_£Ëù
(
t™Ë
,
ã©u»_ty³
,
XYZ
,
ex™_Ú_ªykey
,
is_d“p_£ËùiÚ_deçuÉ
).
move_to
(*
this
);

50439 
	gCImg
<
	gštT
> 
g‘_£Ëù
(
CImgDi¥Ïy
 &
di¥
,

50440 cÚ¡ 
ã©u»_ty³
=2, *cÚ¡ 
XYZ
=0,

50441 cÚ¡ 
boŞ
 
ex™_Ú_ªykey
=
çl£
,

50442 cÚ¡ 
boŞ
 
is_d“p_£ËùiÚ_deçuÉ
=
çl£
) const {

50443  
_£Ëù
(
di¥
,0,
ã©u»_ty³
,
XYZ
,0,0,0,
ex™_Ú_ªykey
,
Œue
,
çl£
,
is_d“p_£ËùiÚ_deçuÉ
);

50447 
	gCImg
<
	gštT
> 
g‘_£Ëù
(cÚ¡ *cÚ¡ 
t™Ë
,

50448 cÚ¡ 
ã©u»_ty³
=2, *cÚ¡ 
XYZ
=0,

50449 cÚ¡ 
boŞ
 
ex™_Ú_ªykey
=
çl£
,

50450 cÚ¡ 
boŞ
 
is_d“p_£ËùiÚ_deçuÉ
=
çl£
) const {

50451 
CImgDi¥Ïy
 
di¥
;

50452  
_£Ëù
(
di¥
,
t™Ë
,
ã©u»_ty³
,
XYZ
,0,0,0,
ex™_Ú_ªykey
,
Œue
,
çl£
,
is_d“p_£ËùiÚ_deçuÉ
);

50455 
	gCImg
<
	gštT
> 
_£Ëù
(
CImgDi¥Ïy
 &
di¥
, cÚ¡ *cÚ¡ 
t™Ë
,

50456 cÚ¡ 
ã©u»_ty³
, *cÚ¡ 
XYZ
,

50457 cÚ¡ 
ÜigX
, cÚ¡ 
ÜigY
, cÚ¡ 
ÜigZ
,

50458 cÚ¡ 
boŞ
 
ex™_Ú_ªykey
,

50459 cÚ¡ 
boŞ
 
»£t_v›w3d
,

50460 cÚ¡ 
boŞ
 
fÜû_di¥Ïy_z_coÜd
,

50461 cÚ¡ 
boŞ
 
is_d“p_£ËùiÚ_deçuÉ
) const {

50462 ià(
is_em±y
()è 
	gCImg
<
	gštT
>(1,
	gã©u»_ty³
==0?3:6,1,1,-1);

50463 ià(!
	gdi¥
) {

50464 
	gdi¥
.
assign
(
cimg_f™sü“n
(
_width
,
_height
,
_d•th
),
t™Ë
?title:0,1);

50465 ià(!
	gt™Ë
è
	gdi¥
.
£t_t™Ë
("CImg<%s> (%ux%ux%ux%u)",
pix–_ty³
(),
_width
,
_height
,
_d•th
,
_¥eùrum
);

50467 ià(
	gt™Ë
è
	gdi¥
.
£t_t™Ë
("%s",
t™Ë
);

50468 
	gdi¥
.
move_šside_sü“n
();

50471 
	gCImg
<
	gT
> 
	gthumb
;

50472 ià(
width
()>
	gdi¥
.
sü“n_width
(è|| 
height
()>di¥.
sü“n_height
())

50473 
g‘_»size
(
cimg_f™sü“n
(
width
(),
height
(),
d•th
()),d•th(),-100).
move_to
(
thumb
);

50475 cÚ¡ 
	gŞd_nÜm®iz©iÚ
 = 
di¥
.
nÜm®iz©iÚ
();

50476 
boŞ
 
	gŞd_is_»sized
 = 
di¥
.
is_»sized
();

50477 
	gdi¥
.
	g_nÜm®iz©iÚ
 = 0;

50478 
	gdi¥
.
show
().
£t_key
(0).
£t_wh“l
().
show_mou£
();

50480 cÚ¡ 
	gfÜeground_cŞÜ
[] = { 255,255,255 }, 
	gbackground_cŞÜ
[] = { 0,0,0 };

50481 
	g¬—
 = 0, 
	g¬—_¡¬‹d
 = 0, 
	g¬—_şicked
 = 0, 
	gpha£
 = 0,

50482 
	gX0
 = ()((
XYZ
?XYZ[0]:
_width
/2)%_width),

50483 
	gY0
 = ()((
XYZ
?XYZ[1]:
_height
/2)%_height),

50484 
	gZ0
 = ()((
XYZ
?XYZ[2]:
_d•th
/2)%_depth),

50485 
	gX1
 =-1, 
	gY1
 = -1, 
	gZ1
 = -1,

50486 
	gX3d
 = -1, 
	gY3d
 = -1,

50487 
	goX3d
 = 
X3d
, 
	goY3d
 = -1,

50488 
	gomx
 = -1, 
	gomy
 = -1;

50489 
	gX
 = -1, 
	gY
 = -1, 
	gZ
 = -1;

50490 
	gkey
 = 0, 
	gfÚt_size
 = 32;

50492 
boŞ
 
	gis_d“p_£ËùiÚ
 = 
is_d“p_£ËùiÚ_deçuÉ
,

50493 
	gsh­e_£Ëùed
 = 
çl£
, 
	g‹xt_down
 = f®£, 
	gvisibË_cursÜ
 = 
Œue
;

50494 
	gCImg
<
	gæßtT
> 
	gpo£3d
;

50495 
boŞ
 
	gis_v›w3d
 = 
çl£
, 
	gis_axes
 = 
Œue
;

50496 ià(
	g»£t_v›w3d
è{ 
	gpo£3d
.
assign
(); 
	gis_v›w3d
 = 
çl£
; }

50497 
	gCImg
<
	gæßtT
> 
	gpošts3d
, 
	gİac™›s3d
, 
	g£l_İac™›s3d
;

50498 
	gCImgLi¡
<
	guštT
> 
	g´im™ives3d
, 
	g£l_´im™ives3d
;

50499 
	gCImgLi¡
<
	guch¬T
> 
	gcŞÜs3d
, 
	g£l_cŞÜs3d
;

50500 
	gCImg
<
	guch¬T
> 
	gvisu
, 
	gvisu0
, 
	gv›w3d
;

50501 
	gCImg
<
	gch¬T
> 
‹xt
(1024); *
	g‹xt
 = 0;

50503 !
	gkey
 && !
	gdi¥
.
is_şo£d
(è&& !
	gsh­e_£Ëùed
) {

50507 
	gmx
 = 
di¥
.
mou£_x
(),

50508 
	gmy
 = 
di¥
.
mou£_y
();

50511 
	gmX
 = 
mx
<0?-1.f:()mx*(
width
(è+ (
d•th
()>1?d•th():0))/
di¥
.width(),

50512 
	gmY
 = 
my
<0?-1.f:()my*(
height
(è+ (
d•th
()>1?d•th():0))/
di¥
.height();

50514 
	g¬—
 = 0;

50515 ià(
	gmX
>=0 && 
mY
>=0 && 
mX
<
width
(è&& mY<
height
()è{ 
¬—
 = 1; 
	gX
 = mX; 
	gY
 = mY; 
	gZ
 = ()(
pha£
?
Z1
:
Z0
); }

50516 ià(
	gmX
>=0 && 
mX
<
width
(è&& 
mY
>=
height
()è{ 
¬—
 = 2; 
	gX
 = mX; 
	gZ
 = mY - 
_height
; 
	gY
 = ()(
pha£
?
Y1
:
Y0
); }

50517 ià(
	gmY
>=0 && 
mX
>=
width
(è&& 
mY
<
height
()è{ 
¬—
 = 3; 
	gY
 = mY; 
	gZ
 = mX - 
_width
; 
	gX
 = ()(
pha£
?
X1
:
X0
); }

50518 ià(
	gmX
>=
width
(è&& 
mY
>=
height
()è
¬—
 = 4;

50519 ià(
	gdi¥
.
bu‰Ú
()è{ ià(!
	g¬—_şicked
è¬—_şicked = 
¬—
; } area_clicked = 0;

50521 
	gCImg
<
	gch¬T
> 
f’ame
(32);

50523 
	gkey
 = 
di¥
.
key
()) {

50524 #ià
cimg_OS
!=2

50525 
cimg
::
keyCTRLRIGHT
 :

50527 0 : 
cimg
::
keyCTRLLEFT
 : 
key
 = 0; ;

50528 
	gcimg
::
keyPAGEUP
 :

50529 ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()è{ di¥.
£t_wh“l
(1); 
	gkey
 = 0; } ;

50530 
	gcimg
::
keyPAGEDOWN
 :

50531 ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()è{ di¥.
£t_wh“l
(-1); 
	gkey
 = 0; } ;

50532 
	gcimg
::
keyX
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

50533 
is_axes
 = !is_axes; 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0; 
	gvisu0
.
assign
();

50535 
	gcimg
::
keyD
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

50536 
di¥
.
£t_fuÎsü“n
(
çl£
).

50537 
»size
(
CImgDi¥Ïy
::
_f™sü“n
(3*
di¥
.
width
()/2,3*di¥.
height
()/2,1,128,-100,
çl£
),

50538 
CImgDi¥Ïy
::
_f™sü“n
(3*
di¥
.
width
()/2,3*di¥.
height
()/2,1,128,-100,
Œue
),
çl£
).

50539 
	g_is_»sized
 = 
Œue
;

50540 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0; 
	gvisu0
.
assign
();

50542 
	gcimg
::
keyC
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

50543 
di¥
.
£t_fuÎsü“n
(
çl£
).

50544 
»size
(
cimg_f™sü“n
(2*
di¥
.
width
()/3,2*di¥.
height
()/3,1),
çl£
).
	g_is_»sized
 = 
Œue
;

50545 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0; 
	gvisu0
.
assign
();

50547 
	gcimg
::
keyR
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

50548 
di¥
.
£t_fuÎsü“n
(
çl£
).
»size
(
cimg_f™sü“n
(
_width
,
_height
,
_d•th
),çl£).
	g_is_»sized
 = 
Œue
;

50549 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0; 
	gvisu0
.
assign
();

50551 
	gcimg
::
keyF
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

50552 
di¥
.
»size
(di¥.
sü“n_width
(),di¥.
sü“n_height
(),
çl£
).
toggË_fuÎsü“n
().
	g_is_»sized
 = 
Œue
;

50553 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0; 
	gvisu0
.
assign
();

50555 
	gcimg
::
keyV
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

50556 
is_v›w3d
 = !is_v›w3d; 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0; 
	gvisu0
.
assign
();

50558 
	gcimg
::
keyS
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

50559 
¢­_numb”
 = 0;

50560 
	g¡d
::
FILE
 *
fe
;

50562 
cimg_¢´štf
(
f’ame
,f’ame.
_width
,
cimg_­²ame
 "_%.4u.bmp",
¢­_numb”
++);

50563 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame
,"r"))!=0ècimg::
fşo£
(
fe
);

50564 } 
	gfe
);

50565 ià(
	gvisu0
) {

50566 (+
	gvisu0
).
__d¿w_‹xt
(" Savšg sÇpshÙ...",
fÚt_size
,()
‹xt_down
).
di¥Ïy
(
di¥
);

50567 
	gvisu0
.
§ve
(
f’ame
);

50568 (+
	gvisu0
).
__d¿w_‹xt
(" SÇpshÙ '%s' saved. ",
fÚt_size
,()
‹xt_down
,
f’ame
.
_d©a
).
di¥Ïy
(
di¥
);

50570 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0;

50572 
	gcimg
::
keyO
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

50573 
¢­_numb”
 = 0;

50574 
	g¡d
::
FILE
 *
fe
;

50577 #ifdeà
cimg_u£_zlib


50578 
cimg_¢´štf
(
f’ame
,f’ame.
_width
,
cimg_­²ame
 "_%.4u.cimgz",
¢­_numb”
++);

50580 
cimg_¢´štf
(
f’ame
,f’ame.
_width
,
cimg_­²ame
 "_%.4u.cimg",
¢­_numb”
++);

50582 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame
,"r"))!=0ècimg::
fşo£
(
fe
);

50583 } 
	gfe
);

50584 (+
	gvisu0
).
__d¿w_‹xt
(" Savšg in¡ªû... ",
fÚt_size
,()
‹xt_down
).
di¥Ïy
(
di¥
);

50585 
§ve
(
f’ame
);

50586 (+
	gvisu0
).
__d¿w_‹xt
(" In¡ªû '%s' saved. ",
fÚt_size
,()
‹xt_down
,
f’ame
.
_d©a
).
di¥Ïy
(
di¥
);

50587 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0;

50591 
	g¬—
) {

50594 
mx
 = 
my
 = -1; 
	gX
 = 
Y
 = 
Z
 = -1;

50598 cÚ¡ 
but
 = 
di¥
.
bu‰Ú
();

50599 cÚ¡ 
boŞ
 
	gb1
 = (boŞ)(
but
&1), 
	gb2
 = (boŞ)(but&2), 
	gb3
 = (bool)(but&4);

50601 ià(
	gb1
 && 
	gpha£
==1 && 
¬—_şicked
==
¬—
) {

50602 ià(
_d•th
>1 && (
X1
!=()
X
 || 
Y1
!=()
Y
 || 
Z1
!=()
Z
)è
visu0
.
assign
();

50603 
	gX1
 = ()
X
; 
	gY1
 = ()
Y
; 
	gZ1
 = ()
Z
;

50605 ià(!
	gb1
 && 
	gpha£
==2 && 
¬—_şicked
!=
¬—
) {

50606 
¬—_¡¬‹d
) {

50607 1 : ià(
Z1
!=()
Z
è
visu0
.
assign
(); 
	gZ1
 = ()Z; ;

50608 2 : ià(
Y1
!=()
Y
è
visu0
.
assign
(); 
	gY1
 = ()Y; ;

50609 3 : ià(
X1
!=()
X
è
visu0
.
assign
(); 
	gX1
 = ()X; ;

50612 ià(
	gb2
 && 
	g¬—_şicked
==
¬—
) {

50613 ià(
pha£
) {

50614 ià(
_d•th
>1 && (
X1
!=()
X
 || 
Y1
!=()
Y
 || 
Z1
!=()
Z
)è
visu0
.
assign
();

50615 
	gX1
 = ()
X
; 
	gY1
 = ()
Y
; 
	gZ1
 = ()
Z
;

50617 ià(
	g_d•th
>1 && (
	gX0
!=()
X
 || 
Y0
!=()
Y
 || 
Z0
!=()
Z
)è
visu0
.
assign
();

50618 
	gX0
 = ()
X
; 
	gY0
 = ()
Y
; 
	gZ0
 = ()
Z
;

50621 ià(
	gb3
) {

50622 
	gX
 = ()
X0
; 
	gY
 = ()
Y0
; 
	gZ
 = ()
Z0
; 
	gpha£
 = 
¬—
 = 
¬—_şicked
 = 
¬—_¡¬‹d
 = 0;

50623 
	gvisu0
.
assign
();

50625 ià(
	gdi¥
.
wh“l
()) {

50626 ià(
	g_d•th
>1 && !
	gdi¥
.
is_keyCTRLLEFT
(è&& !di¥.
is_keyCTRLRIGHT
() &&

50627 !
	gdi¥
.
is_keySHIFTLEFT
(è&& !di¥.
is_keySHIFTRIGHT
()) {

50628 
	g¬—
) {

50630 ià(
pha£
è
Z
 = ()(
Z1
+=
di¥
.
wh“l
()); 
	gZ
 = ()(
Z0
+=disp.wheel());

50631 
	gvisu0
.
assign
(); ;

50633 ià(
pha£
è
Y
 = ()(
Y1
+=
di¥
.
wh“l
()); 
	gY
 = ()(
Y0
+=disp.wheel());

50634 
	gvisu0
.
assign
(); ;

50636 ià(
pha£
è
X
 = ()(
X1
+=
di¥
.
wh“l
()); 
	gX
 = ()(
X0
+=disp.wheel());

50637 
	gvisu0
.
assign
(); ;

50639 
	gdi¥
.
£t_wh“l
();

50640 } 
	gkey
 = ~0U;

50643 ià((
	gpha£
==0 && 
b1
) ||

50644 (
pha£
==1 && !
b1
) ||

50645 (
pha£
==2 && 
b1
)) phase) {

50647 ià(
¬—
==
¬—_şicked
) {

50648 
X0
 = 
X1
 = ()
X
; 
	gY0
 = 
Y1
 = ()
Y
; 
	gZ0
 = 
Z1
 = ()
Z
; 
	g¬—_¡¬‹d
 = 
¬—
; ++
	gpha£
;

50651 ià(
¬—
==
¬—_¡¬‹d
) {

50652 
X1
 = ()
X
; 
	gY1
 = ()
Y
; 
	gZ1
 = ()
Z
; ++
	gpha£
;

50653 ià(
	g_d•th
>1) {

50654 ià(
	gdi¥
.
is_keyCTRLLEFT
()è
	gis_d“p_£ËùiÚ
 = !
is_d“p_£ËùiÚ_deçuÉ
;

50655 ià(
	gis_d“p_£ËùiÚ
è++
	gpha£
;

50657 } ià(!
	gb1
è{ 
	gX
 = ()
X0
; 
	gY
 = ()
Y0
; 
	gZ
 = ()
Z0
; 
	gpha£
 = 0; 
	gvisu0
.
assign
(); }

50659 2 : ++
pha£
; ;

50664 ià(
is_v›w3d
 && 
pošts3d
) {

50665 
X3d
 = 
mx
 - 
width
()*
di¥
.width()/(width(è+ (
d•th
()>1?depth():0));

50666 
	gY3d
 = 
my
 - 
height
()*
di¥
.height()/(height(è+ (
d•th
()>1?depth():0));

50667 ià(
	goX3d
<0è{ oX3d = 
X3d
; 
	goY3d
 = 
Y3d
; }

50669 ià((
	gdi¥
.
bu‰Ú
()&3)==3è{ 
po£3d
.
assign
(); 
	gv›w3d
.assign(); 
	goX3d
 = 
oY3d
 = 
X3d
 = 
Y3d
 = -1; }

50670 ià(
	gdi¥
.
bu‰Ú
()&1 && 
	gpo£3d
 && (
	goX3d
!=
X3d
 || 
oY3d
!=
Y3d
)) {

50672 
R
 = 0.45f*
¡d
::
mš
(
v›w3d
.
_width
,v›w3d.
_height
),

50673 
	gR2
 = 
R
*R,

50674 
	gu0
 = ()(
oX3d
 - 
v›w3d
.
width
()/2),

50675 
	gv0
 = ()(
oY3d
 - 
v›w3d
.
height
()/2),

50676 
	gu1
 = ()(
X3d
 - 
v›w3d
.
width
()/2),

50677 
	gv1
 = ()(
Y3d
 - 
v›w3d
.
height
()/2),

50678 
	gn0
 = 
cimg
::
hypÙ
(
u0
,
v0
),

50679 
	gn1
 = 
cimg
::
hypÙ
(
u1
,
v1
),

50680 
	gnu0
 = 
n0
>
R
?(
u0
*R/n0):u0,

50681 
	gnv0
 = 
n0
>
R
?(
v0
*R/n0):v0,

50682 
	gnw0
 = ()
¡d
::
sq¹
(¡d::
max
(0.f,
R2
 - 
nu0
*nu0 - 
nv0
*nv0)),

50683 
	gnu1
 = 
n1
>
R
?(
u1
*R/n1):u1,

50684 
	gnv1
 = 
n1
>
R
?(
v1
*R/n1):v1,

50685 
	gnw1
 = ()
¡d
::
sq¹
(¡d::
max
(0.f,
R2
 - 
nu1
*nu1 - 
nv1
*nv1)),

50686 
	gu
 = 
nv0
*
nw1
 - 
nw0
*
nv1
,

50687 
	gv
 = 
nw0
*
nu1
 - 
nu0
*
nw1
,

50688 
	gw
 = 
nv0
*
nu1
 - 
nu0
*
nv1
,

50689 
	gn
 = 
cimg
::
hypÙ
(
u
,
v
,
w
),

50690 
	g®pha
 = ()
¡d
::
asš
(
n
/
R2
)*180/
cimg
::
PI
;

50691 
	gpo£3d
.
d¿w_image
(
CImg
<
æßtT
>::
rÙ©iÚ_m©rix
(
u
,
v
,
w
,-
®pha
)*
po£3d
.
g‘_üİ
(0,0,2,2));

50692 
	gv›w3d
.
assign
();

50693 } ià(
	gdi¥
.
bu‰Ú
()&2 && 
	gpo£3d
 && 
	goY3d
!=
Y3d
) {

50694 
po£3d
(3,2)+=(
Y3d
 - 
oY3d
)*1.5f; 
	gv›w3d
.
assign
();

50696 ià(
	gdi¥
.
wh“l
()) {

50697 
po£3d
(3,2)-=
di¥
.
wh“l
()*15; 
	gv›w3d
.
assign
(); 
	gdi¥
.
£t_wh“l
();

50699 ià(
	gdi¥
.
bu‰Ú
()&4 && 
	gpo£3d
 && (
	goX3d
!=
X3d
 || 
oY3d
!=
Y3d
)) {

50700 
po£3d
(3,0)-=
oX3d
 - 
X3d
;…o£3d(3,1)-=
oY3d
 - 
Y3d
; 
	gv›w3d
.
assign
();

50702 
	goX3d
 = 
X3d
; 
	goY3d
 = 
Y3d
;

50704 
	gmx
 = 
my
 = -1; 
	gX
 = 
Y
 = 
Z
 = -1;

50708 ià(
	gpha£
) {

50709 ià(!
	gã©u»_ty³
è
	gsh­e_£Ëùed
 = 
pha£
?
Œue
:
çl£
;

50711 ià(
	g_d•th
>1è
	gsh­e_£Ëùed
 = (
pha£
==3)?
Œue
:
çl£
;

50712 
	gsh­e_£Ëùed
 = (
pha£
==2)?
Œue
:
çl£
;

50716 ià(
	gX0
<0) X0 = 0;

50717 ià(
	gX0
>=
width
()è
X0
 = width() - 1;

50718 ià(
	gY0
<0) Y0 = 0;

50719 ià(
	gY0
>=
height
()è
Y0
 = height() - 1;

50720 ià(
	gZ0
<0) Z0 = 0;

50721 ià(
	gZ0
>=
d•th
()è
Z0
 = depth() - 1;

50722 ià(
	gX1
<1) X1 = 0;

50723 ià(
	gX1
>=
width
()è
X1
 = width() - 1;

50724 ià(
	gY1
<0) Y1 = 0;

50725 ià(
	gY1
>=
height
()è
Y1
 = height() - 1;

50726 ià(
	gZ1
<0) Z1 = 0;

50727 ià(
	gZ1
>=
d•th
()è
Z1
 = depth() - 1;

50730 ià(
	gmx
!=
omx
 || 
my
!=
omy
 || !
visu0
 || (
_d•th
>1 && !
v›w3d
)) {

50732 ià(!
visu0
) {

50733 ià(
thumb
èthumb.
_g‘_£Ëù
(
di¥
,
Şd_nÜm®iz©iÚ
,
pha£
?
X1
:
X0
,pha£?
Y1
:
Y0
,pha£?
Z1
:
Z0
).
move_to
(
visu0
);

50734 
_g‘_£Ëù
(
di¥
,
Şd_nÜm®iz©iÚ
,
pha£
?
X1
:
X0
,pha£?
Y1
:
Y0
,pha£?
Z1
:
Z0
).
move_to
(
visu0
);

50735 
	gvisu0
.
»size
(
di¥
);

50736 
	gv›w3d
.
assign
();

50737 
	gpošts3d
.
assign
();

50740 ià(
	gis_v›w3d
 && 
	g_d•th
>1 && !
	gv›w3d
) {

50742 
	g_x3d
 = ()
cimg
::
round
(()
_width
*
visu0
._width/(_width + 
_d•th
),1,1),

50743 
	g_y3d
 = ()
cimg
::
round
(()
_height
*
visu0
._height/(_heighˆ+ 
_d•th
),1,1),

50744 
	gx3d
 = 
_x3d
>=
visu0
.
_width
?visu0._width - 1:_x3d,

50745 
	gy3d
 = 
_y3d
>=
visu0
.
_height
?visu0._height - 1:_y3d;

50746 
	gCImg
<
	guch¬T
>(1,2,1,1,64,128).
»size
(
visu0
.
_width
 - 
x3d
,visu0.
_height
 - 
y3d
,1,visu0.
_¥eùrum
,3).

50747 
move_to
(
v›w3d
);

50748 ià(!
	gpošts3d
) {

50749 
g‘_´ojeùiÚs3d
(
´im™ives3d
,
cŞÜs3d
,
pha£
?
X1
:
X0
,pha£?
Y1
:
Y0
,pha£?
Z1
:
Z0
,
Œue
).
move_to
(
pošts3d
);

50750 
	gpošts3d
.
­³nd
(
CImg
<
æßtT
>(8,3,1,1,

50751 0,
_width
 - 1,_width - 1,0,0,_width - 1,_width - 1,0,

50752 0,0,
_height
 - 1,_height - 1,0,0,_height - 1,_height - 1,

50753 0,0,0,0,
_d•th
 - 1,_depth - 1,_depth - 1,_depth - 1),'x');

50754 
	gCImg
<
	guštT
>::
veùÜ
(12,13).
move_to
(
´im™ives3d
); CImg<uintT>::vector(13,14).move_to(primitives3d);

50755 
	gCImg
<
	guštT
>::
veùÜ
(14,15).
move_to
(
´im™ives3d
); CImg<uintT>::vector(15,12).move_to(primitives3d);

50756 
	gCImg
<
	guštT
>::
veùÜ
(16,17).
move_to
(
´im™ives3d
); CImg<uintT>::vector(17,18).move_to(primitives3d);

50757 
	gCImg
<
	guštT
>::
veùÜ
(18,19).
move_to
(
´im™ives3d
); CImg<uintT>::vector(19,16).move_to(primitives3d);

50758 
	gCImg
<
	guštT
>::
veùÜ
(12,16).
move_to
(
´im™ives3d
); CImg<uintT>::vector(13,17).move_to(primitives3d);

50759 
	gCImg
<
	guštT
>::
veùÜ
(14,18).
move_to
(
´im™ives3d
); CImg<uintT>::vector(15,19).move_to(primitives3d);

50760 
	gcŞÜs3d
.
š£¹
(12,
CImg
<
uch¬T
>::
veùÜ
(255,255,255));

50761 
	gİac™›s3d
.
assign
(
´im™ives3d
.
width
(),1,1,1,0.5f);

50762 ià(!
	gpha£
) {

50763 
	gİac™›s3d
[0] = 
İac™›s3d
[1] = opacities3d[2] = 0.8f;

50764 
	g£l_´im™ives3d
.
assign
();

50765 
	g£l_cŞÜs3d
.
assign
();

50766 
	g£l_İac™›s3d
.
assign
();

50768 ià(
	gã©u»_ty³
==2) {

50769 
pošts3d
.
­³nd
(
CImg
<
æßtT
>(8,3,1,1,

50770 
X0
,
X1
,X1,X0,X0,X1,X1,X0,

50771 
Y0
,Y0,
Y1
,Y1,Y0,Y0,Y1,Y1,

50772 
Z0
,Z0,Z0,Z0,
Z1
,Z1,Z1,Z1),'x');

50773 
	g£l_´im™ives3d
.
assign
();

50774 
	gCImg
<
	guštT
>::
veùÜ
(20,21).
move_to
(
£l_´im™ives3d
);

50775 
	gCImg
<
	guštT
>::
veùÜ
(21,22).
move_to
(
£l_´im™ives3d
);

50776 
	gCImg
<
	guštT
>::
veùÜ
(22,23).
move_to
(
£l_´im™ives3d
);

50777 
	gCImg
<
	guštT
>::
veùÜ
(23,20).
move_to
(
£l_´im™ives3d
);

50778 
	gCImg
<
	guštT
>::
veùÜ
(24,25).
move_to
(
£l_´im™ives3d
);

50779 
	gCImg
<
	guštT
>::
veùÜ
(25,26).
move_to
(
£l_´im™ives3d
);

50780 
	gCImg
<
	guštT
>::
veùÜ
(26,27).
move_to
(
£l_´im™ives3d
);

50781 
	gCImg
<
	guštT
>::
veùÜ
(27,24).
move_to
(
£l_´im™ives3d
);

50782 
	gCImg
<
	guštT
>::
veùÜ
(20,24).
move_to
(
£l_´im™ives3d
);

50783 
	gCImg
<
	guštT
>::
veùÜ
(21,25).
move_to
(
£l_´im™ives3d
);

50784 
	gCImg
<
	guštT
>::
veùÜ
(22,26).
move_to
(
£l_´im™ives3d
);

50785 
	gCImg
<
	guštT
>::
veùÜ
(23,27).
move_to
(
£l_´im™ives3d
);

50787 
	gpošts3d
.
­³nd
(
CImg
<
æßtT
>(2,3,1,1,

50788 
X0
,
X1
,

50789 
Y0
,
Y1
,

50790 
Z0
,
Z1
),'x');

50791 
	g£l_´im™ives3d
.
assign
(
CImg
<
uštT
>::
veùÜ
(20,21));

50793 
	g£l_cŞÜs3d
.
assign
(
£l_´im™ives3d
.
_width
,
CImg
<
uch¬T
>::
veùÜ
(255,255,255));

50794 
	g£l_İac™›s3d
.
assign
(
£l_´im™ives3d
.
_width
,1,1,1,0.8f);

50796 
	gpošts3d
.
shiá_objeù3d
(-0.5f*(
_width
 - 1),-0.5f*(
_height
 - 1),-0.5f*(
_d•th
 - 1)).
»size_objeù3d
();

50797 
	gpošts3d
*=0.75f*
¡d
::
mš
(
v›w3d
.
_width
,v›w3d.
_height
);

50800 ià(!
	gpo£3d
è
	gCImg
<
	gæßtT
>(4,3,1,1, 1,0,0,0, 0,1,0,0, 0,0,1,0).
move_to
(
po£3d
);

50801 
	gCImg
<
	gæßtT
> 
zbufãr3d
(
v›w3d
.
_width
,v›w3d.
_height
,1,1,0);

50802 cÚ¡ 
	gCImg
<
	gæßtT
> 
	grÙ©ed_pošts3d
 = 
po£3d
.
g‘_üİ
(0,0,2,2)*
	gpošts3d
;

50803 ià(
	g£l_´im™ives3d
)

50804 
	gv›w3d
.
d¿w_objeù3d
(
po£3d
(3,0è+ 0.5f*
v›w3d
.
_width
,

50805 
po£3d
(3,1è+ 0.5f*
v›w3d
.
_height
,

50806 
po£3d
(3,2),

50807 
rÙ©ed_pošts3d
,
£l_´im™ives3d
,
£l_cŞÜs3d
,
£l_İac™›s3d
,

50808 2,
Œue
,500,0,0,0,0,0,1,
zbufãr3d
);

50809 
	gv›w3d
.
d¿w_objeù3d
(
po£3d
(3,0è+ 0.5f*
v›w3d
.
_width
,

50810 
po£3d
(3,1è+ 0.5f*
v›w3d
.
_height
,

50811 
po£3d
(3,2),

50812 
rÙ©ed_pošts3d
,
´im™ives3d
,
cŞÜs3d
,
İac™›s3d
,

50813 2,
Œue
,500,0,0,0,0,0,1,
zbufãr3d
);

50814 
	gvisu0
.
d¿w_image
(
x3d
,
y3d
,
v›w3d
);

50816 
	gvisu
 = 
visu0
;

50818 ià(
	gX
<0 || 
	gY
<0 || 
	gZ
<0è{ ià(!
	gvisibË_cursÜ
è{ 
	gdi¥
.
show_mou£
(); visibË_cursÜ = 
Œue
; }}

50820 ià(
	gis_axes
è{ ià(
	gvisibË_cursÜ
è{ 
	gdi¥
.
hide_mou£
(); visibË_cursÜ = 
çl£
; }}

50821 { ià(!
	gvisibË_cursÜ
è{ 
	gdi¥
.
show_mou£
(); visibË_cursÜ = 
Œue
; }}

50822 cÚ¡ 
	gd
 = (
d•th
()>1)?depth():0;

50823 
	g_vX
 = ()
X
, 
	g_vY
 = ()
Y
, 
	g_vZ
 = ()
Z
;

50824 ià(
	gpha£
>=2è{ 
_vX
 = 
X1
; 
	g_vY
 = 
Y1
; 
	g_vZ
 = 
Z1
; }

50826 
	gw
 = 
di¥
.
width
(), 
	gW
 = width(è+ 
d
,

50827 
	gh
 = 
di¥
.
height
(), 
	gH
 = height(è+ 
d
,

50828 
	g_xp
 = ()(
_vX
*()
w
/
W
), 
	gxp
 = 
_xp
 + (()(_xp*()W/w)!=_vX),

50829 
	g_yp
 = ()(
_vY
*()
h
/
H
), 
	gyp
 = 
_yp
 + (()(_yp*()H/h)!=_vY),

50830 
	g_xn
 = ()((
_vX
 + 1.f)*
w
/
W
 - 1), 
	gxn
 = 
_xn
 + (()((_xn + 1.f)*W/w)!=_vX + 1),

50831 
	g_yn
 = ()((
_vY
 + 1.f)*
h
/
H
 - 1), 
	gyn
 = 
_yn
 + (()((_yn + 1.f)*H/h)!=_vY + 1),

50832 
	g_zxp
 = ()((
_vZ
 + 
width
())*()
w
/
W
), 
	gzxp
 = 
_zxp
 + (()(_zxp*()W/w)!=_vZ + width()),

50833 
	g_zyp
 = ()((
_vZ
 + 
height
())*()
h
/
H
), 
	gzyp
 = 
_zyp
 + (()(_zyp*()H/h)!=_vZ + height()),

50834 
	g_zxn
 = ()((
_vZ
 + 
width
(è+ 1.f)*
w
/
W
 - 1),

50835 
	gzxn
 = 
_zxn
 + (()((_zxÀ+ 1.f)*
W
/
w
)!=
_vZ
 + 
width
() + 1),

50836 
	g_zyn
 = ()((
_vZ
 + 
height
(è+ 1.f)*
h
/
H
 - 1),

50837 
	gzyn
 = 
_zyn
 + (()((_zyÀ+ 1.f)*
H
/
h
)!=
_vZ
 + 
height
() + 1),

50838 
	g_xM
 = ()(
width
()*()
w
/
W
 - 1), 
	gxM
 = 
_xM
 + (()((_xM + 1.f)*W/w)!=width()),

50839 
	g_yM
 = ()(
height
()*()
h
/
H
 - 1), 
	gyM
 = 
_yM
 + (()((_yM + 1.f)*H/h)!=height()),

50840 
	gxc
 = (
xp
 + 
xn
)/2,

50841 
	gyc
 = (
yp
 + 
yn
)/2,

50842 
	gzxc
 = (
zxp
 + 
zxn
)/2,

50843 
	gzyc
 = (
zyp
 + 
zyn
)/2,

50844 
	gxf
 = ()(
X
*
w
/
W
),

50845 
	gyf
 = ()(
Y
*
h
/
H
),

50846 
	gzxf
 = ()((
Z
 + 
width
())*
w
/
W
),

50847 
	gzyf
 = ()((
Z
 + 
height
())*
h
/
H
);

50849 ià(
	gis_axes
) {

50850 
	gvisu
.
d¿w_lše
(0,
yf
,
visu
.
width
(è- 1,yf,
fÜeground_cŞÜ
,0.7f,0xFF00FF00).

50851 
d¿w_lše
(0,
yf
,
visu
.
width
(è- 1,yf,
background_cŞÜ
,0.7f,0x00FF00FF).

50852 
d¿w_lše
(
xf
,0,xf,
visu
.
height
(è- 1,
fÜeground_cŞÜ
,0.7f,0xFF00FF00).

50853 
d¿w_lše
(
xf
,0,xf,
visu
.
height
(è- 1,
background_cŞÜ
,0.7f,0x00FF00FF);

50854 ià(
	g_d•th
>1)

50855 
	gvisu
.
d¿w_lše
(
zxf
,0,zxf,
yM
,
fÜeground_cŞÜ
,0.7f,0xFF00FF00).

50856 
d¿w_lše
(
zxf
,0,zxf,
yM
,
background_cŞÜ
,0.7f,0x00FF00FF).

50857 
d¿w_lše
(0,
zyf
,
xM
,zyf,
fÜeground_cŞÜ
,0.7f,0xFF00FF00).

50858 
d¿w_lše
(0,
zyf
,
xM
,zyf,
background_cŞÜ
,0.7f,0x00FF00FF);

50862 ià(
	gxn
 - 
	gxp
>=4 && 
yn
 - 
yp
>=4)

50863 
visu
.
d¿w_»ùªgË
(
xp
,
yp
,
xn
,
yn
,
fÜeground_cŞÜ
,0.2f).

50864 
d¿w_»ùªgË
(
xp
,
yp
,
xn
,
yn
,
fÜeground_cŞÜ
,1,0xAAAAAAAA).

50865 
d¿w_»ùªgË
(
xp
,
yp
,
xn
,
yn
,
background_cŞÜ
,1,0x55555555);

50866 ià(
	g_d•th
>1) {

50867 ià(
	gyn
 - 
	gyp
>=4 && 
zxn
 - 
zxp
>=4)

50868 
visu
.
d¿w_»ùªgË
(
zxp
,
yp
,
zxn
,
yn
,
background_cŞÜ
,0.2f).

50869 
d¿w_»ùªgË
(
zxp
,
yp
,
zxn
,
yn
,
fÜeground_cŞÜ
,1,0xAAAAAAAA).

50870 
d¿w_»ùªgË
(
zxp
,
yp
,
zxn
,
yn
,
background_cŞÜ
,1,0x55555555);

50871 ià(
	gxn
 - 
	gxp
>=4 && 
zyn
 - 
zyp
>=4)

50872 
visu
.
d¿w_»ùªgË
(
xp
,
zyp
,
xn
,
zyn
,
background_cŞÜ
,0.2f).

50873 
d¿w_»ùªgË
(
xp
,
zyp
,
xn
,
zyn
,
fÜeground_cŞÜ
,1,0xAAAAAAAA).

50874 
d¿w_»ùªgË
(
xp
,
zyp
,
xn
,
zyn
,
background_cŞÜ
,1,0x55555555);

50878 ià(
	gpha£
 && (pha£!=1 || 
¬—_¡¬‹d
==
¬—
)) {

50880 
_xp0
 = ()(
X0
*()
w
/
W
), 
	gxp0
 = _xp0 + (()(_xp0*()W/w)!=X0),

50881 
	g_yp0
 = ()(
Y0
*()
h
/
H
), 
	gyp0
 = 
_yp0
 + (()(_yp0*()H/h)!=Y0),

50882 
	g_xn0
 = ()((
X0
 + 1.f)*
w
/
W
 - 1), 
	gxn0
 = 
_xn0
 + (()((_xn0 + 1.f)*W/w)!=X0 + 1),

50883 
	g_yn0
 = ()((
Y0
 + 1.f)*
h
/
H
 - 1), 
	gyn0
 = 
_yn0
 + (()((_yn0 + 1.f)*H/h)!=Y0 + 1),

50884 
	g_zxp0
 = ()((
Z0
 + 
width
())*()
w
/
W
), 
	gzxp0
 = 
_zxp0
 + (()(_zxp0*()W/w)!=Z0 + width()),

50885 
	g_zyp0
 = ()((
Z0
 + 
height
())*()
h
/
H
), 
	gzyp0
 = 
_zyp0
 + (()(_zyp0*()H/h)!=Z0 + height()),

50886 
	g_zxn0
 = ()((
Z0
 + 
width
(è+ 1.f)*
w
/
W
 - 1),

50887 
	gzxn0
 = 
_zxn0
 + (()((_zxn0 + 1.f)*
W
/
w
)!=
Z0
 + 
width
() + 1),

50888 
	g_zyn0
 = ()((
Z0
 + 
height
(è+ 1.f)*
h
/
H
 - 1),

50889 
	gzyn0
 = 
_zyn0
 + (()((_zyn0 + 1.f)*
H
/
h
)!=
Z0
 + 
height
() + 1),

50890 
	gxc0
 = (
xp0
 + 
xn0
)/2,

50891 
	gyc0
 = (
yp0
 + 
yn0
)/2,

50892 
	gzxc0
 = (
zxp0
 + 
zxn0
)/2,

50893 
	gzyc0
 = (
zyp0
 + 
zyn0
)/2;

50895 
	gã©u»_ty³
) {

50897 
visu
.
d¿w_¬row
(
xc0
,
yc0
,
xc
,
yc
,
background_cŞÜ
,0.9f,30,5,0x33333333).

50898 
d¿w_¬row
(
xc0
,
yc0
,
xc
,
yc
,
fÜeground_cŞÜ
,0.9f,30,5,0xCCCCCCCC);

50899 ià(
	gd
) {

50900 
	gvisu
.
d¿w_¬row
(
zxc0
,
yc0
,
zxc
,
yc
,
background_cŞÜ
,0.9f,30,5,0x33333333).

50901 
d¿w_¬row
(
zxc0
,
yc0
,
zxc
,
yc
,
fÜeground_cŞÜ
,0.9f,30,5,0xCCCCCCCC).

50902 
d¿w_¬row
(
xc0
,
zyc0
,
xc
,
zyc
,
background_cŞÜ
,0.9f,30,5,0x33333333).

50903 
d¿w_¬row
(
xc0
,
zyc0
,
xc
,
zyc
,
fÜeground_cŞÜ
,0.9f,30,5,0xCCCCCCCC);

50907 
visu
.
d¿w_»ùªgË
(
X0
<
X1
?
xp0
:
xp
,
Y0
<
Y1
?
yp0
:
yp
,X0<X1?
xn
:
xn0
,Y0<Y1?
yn
:
yn0
,
background_cŞÜ
,0.2f).

50908 
d¿w_»ùªgË
(
X0
<
X1
?
xp0
:
xp
,
Y0
<
Y1
?
yp0
:
yp
,X0<X1?
xn
:
xn0
,Y0<Y1?
yn
:
yn0
,
background_cŞÜ
,0.9f,0x55555555).

50909 
d¿w_»ùªgË
(
X0
<
X1
?
xp0
:
xp
,
Y0
<
Y1
?
yp0
:
yp
,X0<X1?
xn
:
xn0
,Y0<Y1?
yn
:
yn0
,
fÜeground_cŞÜ
,0.9f,0xAAAAAAAA);

50910 ià(
	gxc0
!=
xc
 && 
yc0
!=
yc
)

50911 
visu
.
d¿w_lše
(
xc0
,
yc0
,
xc
,
yc
,
background_cŞÜ
,0.9f,0x33333333).

50912 
d¿w_lše
(
xc0
,
yc0
,
xc
,
yc
,
fÜeground_cŞÜ
,0.9f,0xCCCCCCCC);

50913 ià(
	gd
) {

50914 
	gvisu
.
d¿w_»ùªgË
(
Z0
<
Z1
?
zxp0
:
zxp
,
Y0
<
Y1
?
yp0
:
yp
,Z0<Z1?
zxn
:
zxn0
,Y0<Y1?
yn
:
yn0
,
background_cŞÜ
,0.2f).

50915 
d¿w_»ùªgË
(
Z0
<
Z1
?
zxp0
:
zxp
,
Y0
<
Y1
?
yp0
:
yp
,Z0<Z1?
zxn
:
zxn0
,Y0<Y1?
yn
:
yn0
,

50916 
background_cŞÜ
,0.9f,0x55555555).

50917 
d¿w_»ùªgË
(
Z0
<
Z1
?
zxp0
:
zxp
,
Y0
<
Y1
?
yp0
:
yp
,Z0<Z1?
zxn
:
zxn0
,Y0<Y1?
yn
:
yn0
,

50918 
fÜeground_cŞÜ
,0.9f,0xAAAAAAAA);

50919 ià(
	gzxc0
!=
zxc
 && 
yc0
!=
yc
)

50920 
visu
.
d¿w_lše
(
zxc0
,
yc0
,
zxc
,
yc
,
background_cŞÜ
,0.9f,0x33333333).

50921 
d¿w_lše
(
zxc0
,
yc0
,
zxc
,
yc
,
fÜeground_cŞÜ
,0.9f,0xCCCCCCCC);

50922 
	gvisu
.
d¿w_»ùªgË
(
X0
<
X1
?
xp0
:
xp
,
Z0
<
Z1
?
zyp0
:
zyp
,X0<X1?
xn
:
xn0
,Z0<Z1?
zyn
:
zyn0
,

50923 
background_cŞÜ
,0.2f).

50924 
d¿w_»ùªgË
(
X0
<
X1
?
xp0
:
xp
,
Z0
<
Z1
?
zyp0
:
zyp
,X0<X1?
xn
:
xn0
,Z0<Z1?
zyn
:
zyn0
,

50925 
background_cŞÜ
,0.9f,0x55555555).

50926 
d¿w_»ùªgË
(
X0
<
X1
?
xp0
:
xp
,
Z0
<
Z1
?
zyp0
:
zyp
,X0<X1?
xn
:
xn0
,Z0<Z1?
zyn
:
zyn0
,

50927 
fÜeground_cŞÜ
,0.9f,0xAAAAAAAA);

50928 ià(
	gxp0
!=
xn
 && 
zyp0
!=
zyn
)

50929 
visu
.
d¿w_lše
(
xp0
,
zyp0
,
xn
,
zyn
,
background_cŞÜ
,0.9f,0x33333333).

50930 
d¿w_lše
(
xp0
,
zyp0
,
xn
,
zyn
,
fÜeground_cŞÜ
,0.9f,0xCCCCCCCC);

50934 
visu
.
d¿w_–l£
(
xc0
,
yc0
,

50935 ()
cimg
::
abs
(
xc
 - 
xc0
),

50936 ()
cimg
::
abs
(
yc
 - 
yc0
),0,
background_cŞÜ
,0.2f).

50937 
d¿w_–l£
(
xc0
,
yc0
,

50938 ()
cimg
::
abs
(
xc
 - 
xc0
),

50939 ()
cimg
::
abs
(
yc
 - 
yc0
),0,
fÜeground_cŞÜ
,0.9f,~0U).

50940 
d¿w_pošt
(
xc0
,
yc0
,
fÜeground_cŞÜ
,0.9f);

50941 ià(
	gd
) {

50942 
	gvisu
.
d¿w_–l£
(
zxc0
,
yc0
,()
cimg
::
abs
(
zxc
 - zxc0),()cimg::abs(
yc
 - yc0),0,

50943 
background_cŞÜ
,0.2f).

50944 
d¿w_–l£
(
zxc0
,
yc0
,()
cimg
::
abs
(
zxc
 - zxc0),()cimg::abs(
yc
 - yc0),0,

50945 
fÜeground_cŞÜ
,0.9f,~0U).

50946 
d¿w_pošt
(
zxc0
,
yc0
,
fÜeground_cŞÜ
,0.9f).

50947 
d¿w_–l£
(
xc0
,
zyc0
,()
cimg
::
abs
(
xc
 - xc0),()cimg::abs(
zyc
 - zyc0),0,

50948 
background_cŞÜ
,0.2f).

50949 
d¿w_–l£
(
xc0
,
zyc0
,()
cimg
::
abs
(
xc
 - xc0),()cimg::abs(
zyc
 - zyc0),0,

50950 
fÜeground_cŞÜ
,0.9f,~0U).

50951 
d¿w_pošt
(
xc0
,
zyc0
,
fÜeground_cŞÜ
,0.9f);

50958 ià(
	gmy
>=0 && 
my
<13è
‹xt_down
 = 
Œue
; ià(my>=
visu
.
height
(è- 13è‹xt_dowÀğ
çl£
;

50959 ià(!
	gã©u»_ty³
 || !
	gpha£
) {

50960 ià(
	gX
>=0 && 
Y
>=0 && 
Z
>=0 && 
X
<
width
(è&& Y<
height
(è&& Z<
d•th
()) {

50961 ià(
_d•th
>1 || 
fÜû_di¥Ïy_z_coÜd
)

50962 
cimg_¢´štf
(
‹xt
,‹xt.
_width
," Pošˆ(%d,%d,%dèğ[ ",
ÜigX
 + ()
X
,
ÜigY
 + ()
Y
,
ÜigZ
 + ()
Z
);

50963 
cimg_¢´štf
(
‹xt
,‹xt.
_width
," Pošˆ(%d,%dèğ[ ",
ÜigX
 + ()
X
,
ÜigY
 + ()
Y
);

50964 
	gCImg
<
	gT
> 
	gv®ues
 = 
g‘_veùÜ_©
(()
X
,()
Y
,()
Z
);

50965 cÚ¡ 
boŞ
 
	gis_Ïrge_¥eùrum
 = 
v®ues
.
_height
>8;

50966 ià(
	gis_Ïrge_¥eùrum
)

50967 
	gv®ues
.
d¿w_image
(0,4,
v®ues
.
g‘_rows
(v®ues.
_height
 - 4,v®ues._heighˆ- 1)).
»size
(1,8,1,1,0);

50968 *
	gùext
 = 
‹xt
.
_d©a
 + 
¡d
::
¡¾’
Ñext), *cÚ¡ 
	gÉext
 =ext._data + 512;

50969 
	gc
 = 0; c<
	gv®ues
.
	g_height
 && 
	gùext
<
	gÉext
; ++c) {

50970 
cimg_¢´štf
(
ùext
,24,
cimg
::
ty³
<
T
>::
fÜm©_s
(),

50971 
cimg
::
ty³
<
T
>::
fÜm©
(
v®ues
[
c
]));

50972 
	gùext
 +ğ
¡d
::
¡¾’
(
ùext
);

50973 ià(
	gc
==3 && 
is_Ïrge_¥eùrum
) {

50974 
cimg_¢´štf
(
ùext
,24," ...");

50975 
	gùext
 +ğ
¡d
::
¡¾’
(
ùext
);

50977 *(
	gùext
++) = ' '; *ctext = 0;

50979 
	g¡d
::
¡rıy
(
‹xt
.
_d©a
 + 
¡d
::
¡¾’
(text),"] ");

50981 } 
	gã©u»_ty³
) {

50983 cÚ¡ 
dX
 = ()(
X0
 - 
X1
), 
	gdY
 = ()(
Y0
 - 
Y1
), 
	gdZ
 = ()(
Z0
 - 
Z1
),

50984 
	gËngth
 = 
cimg
::
round
(cimg::
hypÙ
(
dX
,
dY
,
dZ
),0.1);

50985 ià(
	g_d•th
>1 || 
	gfÜû_di¥Ïy_z_coÜd
)

50986 
cimg_¢´štf
(
‹xt
,‹xt.
_width
," Vect (%d,%d,%d)-(%d,%d,%d), Length = %g ",

50987 
ÜigX
 + 
X0
,
ÜigY
 + 
Y0
,
ÜigZ
 + 
Z0
,ÜigX + 
X1
,ÜigY + 
Y1
,ÜigZ + 
Z1
,
Ëngth
);

50988 ià(
	g_width
!=1 && 
_height
!=1)

50989 
cimg_¢´štf
(
‹xt
,‹xt.
_width
," Vect (%d,%d)-(%d,%d), Length = %g, Angle = %g\260 ",

50990 
ÜigX
 + 
X0
,
ÜigY
 + 
Y0
,ÜigX + 
X1
,ÜigY + 
Y1
,
Ëngth
,

50991 
cimg
::
round
(cimg::
mod
(180*
¡d
::
©ª2
(-
dY
,-
dX
)/cimg::
PI
,360.),0.1));

50993 
cimg_¢´štf
(
‹xt
,‹xt.
_width
," Vect (%d,%d)-(%d,%d), Length = %g ",

50994 
ÜigX
 + 
X0
,
ÜigY
 + 
Y0
,ÜigX + 
X1
,ÜigY + 
Y1
,
Ëngth
);

50997 cÚ¡ 
dX
 = ()(
X0
 - 
X1
), 
	gdY
 = ()(
Y0
 - 
Y1
), 
	gdZ
 = ()(
Z0
 - 
Z1
),

50998 
	gËngth
 = 
cimg
::
round
(cimg::
hypÙ
(
dX
,
dY
,
dZ
),0.1);

50999 ià(
	g_d•th
>1 || 
	gfÜû_di¥Ïy_z_coÜd
)

51000 
cimg_¢´štf
(
‹xt
,‹xt.
_width
,

51002 
ÜigX
 + (
X0
<
X1
?X0:X1),
ÜigY
 + (
Y0
<
Y1
?Y0:Y1),
ÜigZ
 + (
Z0
<
Z1
?Z0:Z1),

51003 
ÜigX
 + (
X0
<
X1
?X1:X0),
ÜigY
 + (
Y0
<
Y1
?Y1:Y0),
ÜigZ
 + (
Z0
<
Z1
?Z1:Z0),

51004 1 + 
cimg
::
abs
(
X0
 - 
X1
),1 + cimg::abs(
Y0
 - 
Y1
),1 + cimg::abs(
Z0
 - 
Z1
),
Ëngth
);

51005 ià(
	g_width
!=1 && 
_height
!=1)

51006 
cimg_¢´štf
(
‹xt
,‹xt.
_width
,

51008 
ÜigX
 + (
X0
<
X1
?X0:X1),
ÜigY
 + (
Y0
<
Y1
?Y0:Y1),

51009 
ÜigX
 + (
X0
<
X1
?X1:X0),
ÜigY
 + (
Y0
<
Y1
?Y1:Y0),

51010 1 + 
cimg
::
abs
(
X0
 - 
X1
),1 + cimg::abs(
Y0
 - 
Y1
),
Ëngth
,

51011 
cimg
::
round
(cimg::
mod
(180*
¡d
::
©ª2
(-
dY
,-
dX
)/cimg::
PI
,360.),0.1));

51013 
cimg_¢´štf
(
‹xt
,‹xt.
_width
,

51015 
ÜigX
 + (
X0
<
X1
?X0:X1),
ÜigY
 + (
Y0
<
Y1
?Y0:Y1),

51016 
ÜigX
 + (
X0
<
X1
?X1:X0),
ÜigY
 + (
Y0
<
Y1
?Y1:Y0),

51017 1 + 
cimg
::
abs
(
X0
 - 
X1
),1 + cimg::abs(
Y0
 - 
Y1
),
Ëngth
);

51020 ià(
_d•th
>1 || 
fÜû_di¥Ïy_z_coÜd
)

51021 
cimg_¢´štf
(
‹xt
,‹xt.
_width
," Ellipse ( %d,%d,%d ) - ( %d,%d,%d ), Radii = ( %d,%d,%d ) ",

51022 
ÜigX
 + 
X0
,
ÜigY
 + 
Y0
,
ÜigZ
 + 
Z0
,ÜigX + 
X1
,ÜigY + 
Y1
,ÜigZ + 
Z1
,

51023 1 + 
cimg
::
abs
(
X0
 - 
X1
),1 + cimg::abs(
Y0
 - 
Y1
),1 + cimg::abs(
Z0
 - 
Z1
));

51024 
cimg_¢´štf
(
‹xt
,‹xt.
_width
," Ellipse ( %d,%d ) - ( %d,%d ), Radii = ( %d,%d ) ",

51025 
ÜigX
 + 
X0
,
ÜigY
 + 
Y0
,ÜigX + 
X1
,ÜigY + 
Y1
,

51026 1 + 
cimg
::
abs
(
X0
 - 
X1
),1 + cimg::abs(
Y0
 - 
Y1
));

51028 ià(
	gpha£
 || (
	gmx
>=0 && 
my
>=0)è
visu
.
__d¿w_‹xt
("%s",
fÚt_size
,()
‹xt_down
,
‹xt
.
_d©a
);

51031 
	gdi¥
.
di¥Ïy
(
visu
);

51033 ià(!
	gsh­e_£Ëùed
è
	gdi¥
.
wa™
();

51034 ià(
	gdi¥
.
is_»sized
()è{ di¥.
»size
(
çl£
).
	g_is_»sized
 = f®£; 
	gŞd_is_»sized
 = 
Œue
; 
	gvisu0
.
assign
(); }

51035 
	gomx
 = 
mx
; 
	gomy
 = 
my
;

51036 ià(!
	gex™_Ú_ªykey
 && 
	gkey
 && key!=
cimg
::
keyESC
 &&

51037 (
key
!=
cimg
::
keyW
 || (!
di¥
.
is_keyCTRLLEFT
(è&& !di¥.
is_keyCTRLRIGHT
()))) {

51038 
key
 = 0;

51043 
	gCImg
<
	gštT
> 
»s
(1,
ã©u»_ty³
==0?3:6,1,1,-1);

51044 ià(
	gXYZ
è{ XYZ[0] = ()
X0
; XYZ[1] = ()
Y0
; XYZ[2] = ()
Z0
; }

51045 ià(
	gsh­e_£Ëùed
) {

51046 ià(
	gã©u»_ty³
==2) {

51047 ià(
is_d“p_£ËùiÚ
è
¬—_¡¬‹d
) {

51048 1 : 
Z0
 = 0; 
	gZ1
 = 
_d•th
 - 1; ;

51049 2 : 
Y0
 = 0; 
	gY1
 = 
_height
 - 1; ;

51050 3 : 
X0
 = 0; 
	gX1
 = 
_width
 - 1; ;

51052 ià(
	gX0
>
	gX1
è
	gcimg
::
sw­
(
X0
,
X1
);

51053 ià(
	gY0
>
	gY1
è
	gcimg
::
sw­
(
Y0
,
Y1
);

51054 ià(
	gZ0
>
	gZ1
è
	gcimg
::
sw­
(
Z0
,
Z1
);

51056 ià(
	gX1
<0 || 
	gY1
<0 || 
	gZ1
<0è
	gX0
 = 
Y0
 = 
Z0
 = 
X1
 = 
Y1
 = 
Z1
 = -1;

51057 
	gã©u»_ty³
) {

51058 1 : 2 : 
»s
[0] = 
X0
; 
	g»s
[1] = 
Y0
;„es[2] = 
Z0
;„es[3] = 
X1
;„es[4] = 
Y1
;„es[5] = 
Z1
; ;

51060 
»s
[3] = 
cimg
::
abs
(
X1
 - 
X0
); 
	g»s
[4] = cimg::abs(
Y1
 - 
Y0
);„es[5] = cimg::abs(
Z1
 - 
Z0
);

51061 
	g»s
[0] = 
X0
;„es[1] = 
Y0
;„es[2] = 
Z0
;

51063  : 
»s
[0] = 
X0
; 
	g»s
[1] = 
Y0
;„es[2] = 
Z0
;

51066 ià(!
	gex™_Ú_ªykey
 || !(
	gdi¥
.
bu‰Ú
()&4)èdi¥.
£t_bu‰Ú
();

51067 ià(!
	gvisibË_cursÜ
è
	gdi¥
.
show_mou£
();

51068 
	gdi¥
.
	g_nÜm®iz©iÚ
 = 
Şd_nÜm®iz©iÚ
;

51069 
	gdi¥
.
	g_is_»sized
 = 
Şd_is_»sized
;

51070 ià(
	gkey
!=~0Uè
di¥
.
£t_key
(
key
);

51071  
	g»s
;

51075 
	gCImg
<
	guch¬T
> 
_g‘_£Ëù
(cÚ¡ 
CImgDi¥Ïy
& 
di¥
, cÚ¡ 
nÜm®iz©iÚ
,

51076 cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
) const {

51077 ià(
is_em±y
()è 
	gCImg
<
	guch¬T
>(1,1,1,1,0);

51078 cÚ¡ 
	gCImg
<
	gT
> 
	güİ
 = 
g‘_sh¬ed_chªÃls
(0,
¡d
::
mš
(2,
¥eùrum
() - 1));

51079 
	gCImg
<
	gTuch¬
> 
	gimg2d
;

51080 ià(
	g_d•th
>1) {

51081 cÚ¡ 
	gmdi¥
 = 
¡d
::
mš
(
di¥
.
sü“n_width
(),di¥.
sü“n_height
());

51082 ià(
d•th
()>
	gmdi¥
) {

51083 
	güİ
.
g‘_»size
(-100,-100,
mdi¥
,-100,0).
move_to
(
img2d
);

51084 
	gimg2d
.
´ojeùiÚs2d
(
x
,
y
,
z
*
img2d
.
_d•th
/_depth);

51085 } 
	güİ
.
g‘_´ojeùiÚs2d
(
x
,
y
,
z
).
move_to
(
img2d
);

51086 } 
	gCImg
<
	gTuch¬
>(
	güİ
,
	gçl£
).
move_to
(
img2d
);

51089 ià(
	gcimg
::
ty³
<
T
>::
is_æßt
(è&& 
nÜm®iz©iÚ
) {

51090 
boŞ
 
is_šf
 = 
çl£
, 
	gis_Çn
 = false;

51091 
cimg_fÜ
(
img2d
,
±r
,
Tuch¬
)

51092 ià(
	gcimg
::
ty³
<
T
>::
is_šf
(*
±r
)è{ is_šàğ
Œue
; ; }

51093 ià(
	gcimg
::
ty³
<
T
>::
is_Çn
(*
±r
)è{ is_ÇÀğ
Œue
; ; }

51094 ià(
	gis_šf
 || 
	gis_Çn
) {

51095 
Tšt
 
	gm0
 = (Tšt)
cimg
::
ty³
<
T
>::
max
(), 
	gM0
 = (Tšt)cimg::ty³<T>::
mš
();

51096 ià(!
	gnÜm®iz©iÚ
è{ 
	gm0
 = 0; 
	gM0
 = 255; }

51097 ià(
	gnÜm®iz©iÚ
==2è{ 
m0
 = (
Tšt
)
di¥
.
_mš
; 
	gM0
 = (Tšt)di¥.
_max
; }

51099 
cimg_fÜ
(
img2d
,
±r
,
Tuch¬
)

51100 ià(!
	gcimg
::
ty³
<
T
>::
is_šf
(*
±r
è&& !
cimg
::ty³<T>::
is_Çn
(*ptr)) {

51101 ià(*
±r
<(
Tuch¬
)
m0
) m0 = *ptr;

51102 ià(*
	g±r
>(
	gTuch¬
)
	gM0
èM0 = *
±r
;

51104 cÚ¡ 
T


51105 
	gv®_mšf
 = (
T
)(
nÜm®iz©iÚ
==1 ||‚Üm®iz©iÚ==3?
m0
 - (
M0
 - m0)*20 - 1:m0),

51106 
	gv®_pšf
 = (
T
)(
nÜm®iz©iÚ
==1 ||‚Üm®iz©iÚ==3?
M0
 + (M0 - 
m0
)*20 + 1:M0);

51107 ià(
	gis_Çn
)

51108 
cimg_fÜ
(
img2d
,
±r
,
Tuch¬
)

51109 ià(
	gcimg
::
ty³
<
T
>::
is_Çn
(*
±r
)è*±¸ğ
v®_mšf
;

51110 ià(
	gis_šf
)

51111 
cimg_fÜ
(
img2d
,
±r
,
Tuch¬
)

51112 ià(
	gcimg
::
ty³
<
T
>::
is_šf
(*
±r
)è*±¸ğ()*±r<0?
v®_mšf
:
v®_pšf
;

51116 
	gnÜm®iz©iÚ
) {

51117 1 : 
img2d
.
nÜm®ize
((
uch¬T
)0,(ucharT)255); ;

51119 cÚ¡ 
m
 = 
di¥
.
_mš
, 
	gM
 = di¥.
_max
;

51120 (
	gimg2d
-=
m
)*=255.f/(
M
 - m>0?M - m:1);

51123 ià(
cimg
::
ty³
<
T
>::
is_æßt
()è
img2d
.
nÜm®ize
((
uch¬T
)0,(ucharT)255);

51126 
	gm
 = ()
cimg
::
ty³
<
T
>::
mš
(),

51127 
	gM
 = ()
cimg
::
ty³
<
T
>::
max
();

51128 (
	gimg2d
-=
m
)*=255.f/(
M
 - m>0?M - m:1);

51131 ià(
	gimg2d
.
¥eùrum
()==2è
img2d
.
chªÃls
(0,2);

51132  
	gimg2d
;

51136 
	gCImg
<
	gštT
> 
g‘_£Ëù_g¿ph
(
CImgDi¥Ïy
 &
di¥
,

51137 cÚ¡ 
¶Ù_ty³
=1, cÚ¡ 
v”‹x_ty³
=1,

51138 cÚ¡ *cÚ¡ 
Ïb–x
=0, cÚ¡ 
xmš
=0, cÚ¡ 
xmax
=0,

51139 cÚ¡ *cÚ¡ 
Ïb–y
=0, cÚ¡ 
ymš
=0, cÚ¡ 
ymax
=0,

51140 cÚ¡ 
boŞ
 
ex™_Ú_ªykey
=
çl£
) const {

51141 ià(
is_em±y
())

51142 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


51144 
cimg_š¡ªû
);

51145 ià(!
	gdi¥
èdi¥.
assign
(
cimg_f™sü“n
(
CImgDi¥Ïy
::
sü“n_width
()/2,CImgDi¥Ïy::
sü“n_height
()/2,1),0,0).

51146 
£t_t™Ë
("CImg<%s>",
pix–_ty³
());

51147 cÚ¡ 
ulÚgT
 
	gsiz
 = (ulÚgT)
_width
*
_height
*
_d•th
;

51148 cÚ¡ 
	gŞd_nÜm®iz©iÚ
 = 
di¥
.
nÜm®iz©iÚ
();

51149 
	gdi¥
.
show
().
£t_bu‰Ú
().
£t_wh“l
().
	g_nÜm®iz©iÚ
 = 0;

51151 
	gnymš
 = 
ymš
, 
	gnymax
 = 
ymax
, 
	gnxmš
 = 
xmš
, 
	gnxmax
 = 
xmax
;

51152 ià(
	gnymš
==
nymax
è{ 
nymš
 = (
Tæßt
)
mš_max
Òymax); cÚ¡ 
	gdy
 =‚ymax -‚ymš;‚ymš-=
dy
/20; 
	gnymax
+=dy/20; }

51153 ià(
	gnymš
==
nymax
è{ --
nymš
; ++
	gnymax
; }

51154 ià(
	gnxmš
==
nxmax
 && 
nxmš
==0è{‚xmš = 0; 
	gnxmax
 = 
siz
 - 1.; }

51156 cÚ¡ 
	gbÏck
[] = { 0, 0, 0 }, 
	gwh™e
[] = { 255, 255, 255 }, 
	gg¿y
[] = { 220, 220, 220 };

51157 cÚ¡ 
	gg¿y2
[] = { 110, 110, 110 }, 
	gng¿y
[] = { 35, 35, 35 };

51159 
	gCImg
<
	guch¬T
> 
cŞÜm­
(3,
_¥eùrum
);

51160 ià(
	g_¥eùrum
==1è{ 
cŞÜm­
[0] = cŞÜm­[1] = 120; 
	gcŞÜm­
[2] = 200; }

51162 
cŞÜm­
(0,0) = 220; colormap(1,0) = 10; colormap(2,0) = 10;

51163 ià(
	g_¥eùrum
>1è{ 
cŞÜm­
(0,1) = 10; colormap(1,1) = 220; colormap(2,1) = 10; }

51164 ià(
	g_¥eùrum
>2è{ 
cŞÜm­
(0,2) = 10; colormap(1,2) = 10; colormap(2,2) = 220; }

51165 ià(
	g_¥eùrum
>3è{ 
cŞÜm­
(0,3) = 220; colormap(1,3) = 220; colormap(2,3) = 10; }

51166 ià(
	g_¥eùrum
>4è{ 
cŞÜm­
(0,4) = 220; colormap(1,4) = 10; colormap(2,4) = 220; }

51167 ià(
	g_¥eùrum
>5è{ 
cŞÜm­
(0,5) = 10; colormap(1,5) = 220; colormap(2,5) = 220; }

51168 ià(
	g_¥eùrum
>6) {

51169 
cimg_ušt64
 
	gºg
 = 10;

51170 
cimg_fÜ_šY
(
cŞÜm­
,6,cŞÜm­.
height
()-1,
k
) {

51171 
cŞÜm­
(0,
k
èğ()(120 + 
cimg
::
¿nd
(-100.f,100.f,&
ºg
));

51172 
cŞÜm­
(1,
k
èğ()(120 + 
cimg
::
¿nd
(-100.f,100.f,&
ºg
));

51173 
cŞÜm­
(2,
k
èğ()(120 + 
cimg
::
¿nd
(-100.f,100.f,&
ºg
));

51178 
	gCImg
<
	guch¬T
> 
	gvisu0
, 
	gvisu
, 
	gg¿ph
, 
	g‹xt
, 
	gaxes
;

51179 
	gx0
 = -1, 
	gx1
 = -1, 
	gy0
 = -1, 
	gy1
 = -1, 
	gomou£_x
 = -2, 
	gomou£_y
 = -2;

51180 cÚ¡ 
	gÚe
 = 
¶Ù_ty³
==3?0U:1U;

51181 
	gokey
 = 0, 
	gobu‰Ú
 = 0, 
	gfÚt_size
 = 32;

51182 
	gCImg
<
	gch¬T
> 
mes§ge
(1024);

51183 
CImg_3x3
(
I
,);

51185 
boŞ
 
	g£Ëùed
 = 
çl£
; !£Ëùed && !
	gdi¥
.
is_şo£d
(è&& !
	gokey
 && !di¥.
wh“l
(); ) {

51186 cÚ¡ 
	gmou£_x
 = 
di¥
.
mou£_x
(), 
	gmou£_y
 = di¥.
mou£_y
();

51187 cÚ¡ 
	gkey
 = 
di¥
.
key
(), 
	gbu‰Ú
 = di¥.
bu‰Ú
();

51190 ià(!
	gvisu0
) {

51191 
	gvisu0
.
assign
(
di¥
.
width
(),di¥.
height
(),1,3,220);

51192 cÚ¡ 
	ggdimx
 = 
di¥
.
width
(è- 32, 
	ggdimy
 = di¥.
height
() - 32;

51193 ià(
	ggdimx
>0 && 
	ggdimy
>0) {

51194 
	gg¿ph
.
assign
(
gdimx
,
gdimy
,1,3,255);

51195 ià(
	gsiz
<32) {

51196 ià(
	gsiz
>1è
	gg¿ph
.
d¿w_grid
(
gdimx
/()(
siz
 - 
Úe
),
gdimy
/()(siz - one),0,0,

51197 
çl£
,
Œue
,
bÏck
,0.2f,0x33333333,0x33333333);

51198 } 
	gg¿ph
.
d¿w_grid
(-10,-10,0,0,
çl£
,
Œue
,
bÏck
,0.2f,0x33333333,0x33333333);

51199 
cimg_fÜC
(*
this
,
c
)

51200 
	gg¿ph
.
d¿w_g¿ph
(
g‘_sh¬ed_chªÃl
(
c
),&
cŞÜm­
(0,c),(
¶Ù_ty³
!=3 || 
_¥eùrum
==1)?1:0.6f,

51201 
¶Ù_ty³
,
v”‹x_ty³
,
nymax
,
nymš
);

51203 
	gaxes
.
assign
(
gdimx
,
gdimy
,1,1,0);

51205 
	gdx
 = ()
cimg
::
abs
(
nxmax
 - 
nxmš
), 
	gdy
 = ()cimg::abs(
nymax
 - 
nymš
),

51206 
	gpx
 = ()
¡d
::
pow
(10.,()¡d::
log10
(
dx
?dx:1) - 2.),

51207 
	gpy
 = ()
¡d
::
pow
(10.,()¡d::
log10
(
dy
?dy:1) - 2.);

51208 cÚ¡ 
	gCImg
<
	gTdoubË
>

51209 
	g£qx
 = 
dx
<=0?
CImg
<
TdoubË
>::
veùÜ
(
nxmš
):

51210 
CImg
<
TdoubË
>::
£qu’û
(1 + 
gdimx
/60,
nxmš
,
Úe
?
nxmax
:nxmš + (nxmax -‚xmš)*(
siz
 + 1)/siz),

51211 
	g£qy
 = 
CImg
<
TdoubË
>::
£qu’û
(1 + 
gdimy
/60,
nymax
,
nymš
);

51213 cÚ¡ 
boŞ
 
	g®low_z”o
 = (
nxmš
*
nxmax
>0è|| (
nymš
*
nymax
>0);

51214 
	gaxes
.
d¿w_axes
(
£qx
,
£qy
,
wh™e
,1,~0U,~0U,13,
®low_z”o
,
px
,
py
);

51215 ià(
	gnymš
>0è
	gaxes
.
d¿w_axis
(
£qx
,
gdimy
 - 1,
g¿y
,1,~0U,13,
®low_z”o
,
px
);

51216 ià(
	gnymax
<0è
	gaxes
.
d¿w_axis
(
£qx
,0,
g¿y
,1,~0U,13,
®low_z”o
,
px
);

51217 ià(
	gnxmš
>0è
	gaxes
.
d¿w_axis
(0,
£qy
,
g¿y
,1,~0U,13,
®low_z”o
,
py
);

51218 ià(
	gnxmax
<0è
	gaxes
.
d¿w_axis
(
gdimx
 - 1,
£qy
,
g¿y
,1,~0U,13,
®low_z”o
,
py
);

51220 
cimg_fÜ3x3
(
axes
,
x
,
y
,0,0,
I
,)

51221 ià(
	gIcc
) {

51222 ià(
	gIcc
==255è
cimg_fÜC
(
g¿ph
,
c
èg¿ph(
x
,
y
,c) = 0;

51223 
cimg_fÜC
(
g¿ph
,
c
èg¿ph(
x
,
y
,c) = ()(2*graph(x,y,c)/3);

51225 ià(
	gIpc
 || 
	gInc
 || 
	gIı
 || 
	gIú
 || 
	gIµ
 || 
	gIÂ
 || 
	gI²
 || 
	gIÅ
)

51226 
cimg_fÜC
(
g¿ph
,
c
èg¿ph(
x
,
y
,c) = ()((graph(x,y,c) + 511)/3);

51228 
	gvisu0
.
d¿w_image
(16,16,
g¿ph
);

51229 
	gvisu0
.
d¿w_lše
(15,15,16 + 
gdimx
,15,
g¿y2
).d¿w_lše(16 + gdimx,15,16 + gdimx,16 + 
gdimy
,gray2).

51230 
d¿w_lše
(16 + 
gdimx
,16 + 
gdimy
,15,16 + gdimy,
wh™e
).draw_line(15,16 + gdimy,15,15,white);

51231 } 
	gg¿ph
.
assign
();

51232 
	g‹xt
.
assign
().
d¿w_‹xt
(0,0,
Ïb–x
?Ïb–x:"X-axis",
wh™e
,
ng¿y
,1,13).
»size
(-100,-100,1,3);

51233 
	gvisu0
.
d¿w_image
((
visu0
.
width
(è- 
‹xt
.width())/2,visu0.
height
() - 14,~text);

51234 
	g‹xt
.
assign
().
d¿w_‹xt
(0,0,
Ïb–y
?Ïb–y:"Y-axis",
wh™e
,
ng¿y
,1,13).
rÙ©e
(-90).
»size
(-100,-100,1,3);

51235 
	gvisu0
.
d¿w_image
(1,(
visu0
.
height
(è- 
‹xt
.height())/2,~text);

51236 
	gvisu
.
assign
();

51240 ià(!
	gvisu
) {

51241 
	gvisu
.
assign
(
visu0
);

51242 ià(
	gg¿ph
 && 
	gx0
>=0 && 
x1
>=0) {

51244 
nx0
 = 
x0
<=
x1
?x0:x1,

51245 
	gnx1
 = 
x0
<=
x1
?x1:x0,

51246 
	gny0
 = 
y0
<=
y1
?y0:y1,

51247 
	gny1
 = 
y0
<=
y1
?y1:y0,

51248 
	gsx0
 = ()(16 + 
nx0
*(
visu
.
width
(è- 32)/
¡d
::
max
((
ulÚgT
)1,
siz
 - 
Úe
)),

51249 
	gsx1
 = ()(15 + (
nx1
 + 1)*(
visu
.
width
(è- 32)/
¡d
::
max
((
ulÚgT
)1,
siz
 - 
Úe
)),

51250 
	gsy0
 = 16 + 
ny0
,

51251 
	gsy1
 = 16 + 
ny1
;

51252 ià(
	gy0
>=0 && 
y1
>=0)

51253 
visu
.
d¿w_»ùªgË
(
sx0
,
sy0
,
sx1
,
sy1
,
g¿y
,0.5f).d¿w_»ùªgË(sx0,sy0,sx1,sy1,
bÏck
,0.5f,0xCCCCCCCCU);

51254 
	gvisu
.
d¿w_»ùªgË
(
sx0
,0,
sx1
,
visu
.
height
(è- 17,
g¿y
,0.5f).

51255 
d¿w_lše
(
sx0
,16,sx0,
visu
.
height
(è- 17,
bÏck
,0.5f,0xCCCCCCCCU).

51256 
d¿w_lše
(
sx1
,16,sx1,
visu
.
height
(è- 17,
bÏck
,0.5f,0xCCCCCCCCU);

51258 ià(
	gmou£_x
>=16 && 
mou£_y
>=16 && 
mou£_x
<
visu
.
width
(è- 16 && mou£_y<visu.
height
() - 16) {

51259 ià(
g¿ph
è
visu
.
d¿w_lše
(
mou£_x
,16,mou£_x,visu.
height
(è- 17,
bÏck
,0.5f,0x55555555U);

51261 
	gx
 = ()
cimg
::
round
((
mou£_x
 - 16.f)*(
siz
 - 
Úe
)/(
di¥
.
width
() - 32),1,one?0:-1);

51262 cÚ¡ 
	gcx
 = 
nxmš
 + 
x
*(
nxmax
 -‚xmš)/
¡d
::
max
((
ulÚgT
)1,
siz
 - 1);

51263 ià(
	g_¥eùrum
>=7)

51264 
cimg_¢´štf
(
mes§ge
,mes§ge.
_width
,"V®ue[%u:%g] = ( %g %g %g ... %g %g %g )",
x
,
cx
,

51265 ()(*
this
)(
x
,0,0,0),()(*this)(x,0,0,1),()(*this)(x,0,0,2),

51266 ()(*
this
)(
x
,0,0,
_¥eùrum
 - 4),()(*this)(x,0,0,_spectrum - 3),

51267 ()(*
this
)(
x
,0,0,
_¥eùrum
 - 1));

51269 
cimg_¢´štf
(
mes§ge
,mes§ge.
_width
,"V®ue[%u:%g] = ( ",
x
,
cx
);

51270 
cimg_fÜC
(*
this
,
c
è
cimg_¥rštf
(
mes§ge
.
_d©a
 + 
¡d
::
¡¾’
(mes§ge),"%g ",()(*this)(
x
,0,0,c));

51271 
cimg_¥rštf
(
mes§ge
.
_d©a
 + 
¡d
::
¡¾’
(message),")");

51273 ià(
	gx0
>=0 && 
x1
>=0) {

51275 
nx0
 = ()(
x0
<=
x1
?x0:x1),

51276 
	gnx1
 = ()(
x0
<=
x1
?x1:x0),

51277 
	gny0
 = ()(
y0
<=
y1
?y0:y1),

51278 
	gny1
 = ()(
y0
<=
y1
?y1:y0);

51280 
	gcx0
 = 
nxmš
 + 
nx0
*(
nxmax
 -‚xmš)/
¡d
::
max
((
ulÚgT
)1,
siz
 - 1),

51281 
	gcx1
 = 
nxmš
 + (
nx1
 + 
Úe
)*(
nxmax
 -‚xmš)/
¡d
::
max
((
ulÚgT
)1,
siz
 - 1),

51282 
	gcy0
 = 
nymax
 - 
ny0
*Òymax - 
nymš
)/(
visu
.
_height
 - 32),

51283 
	gcy1
 = 
nymax
 - 
ny1
*Òymax - 
nymš
)/(
visu
.
_height
 - 32);

51284 ià(
	gy0
>=0 && 
y1
>=0)

51285 
cimg_¥rštf
(
mes§ge
.
_d©a
 + 
¡d
::
¡¾’
(message)," - Range ( %u:%g, %g ) - ( %u:%g, %g )",

51286 
x0
,
cx0
,
cy0
,
x1
 + 
Úe
,
cx1
,
cy1
);

51288 
cimg_¥rštf
(
mes§ge
.
_d©a
 + 
¡d
::
¡¾’
(message)," - Range [ %u:%g - %u:%g ]",

51289 
x0
,
cx0
,
x1
 + 
Úe
,
cx1
);

51291 
	g‹xt
.
assign
().
d¿w_‹xt
(0,0,
mes§ge
,
wh™e
,
ng¿y
,1,13).
»size
(-100,-100,1,3);

51292 
	gvisu
.
d¿w_image
((
visu
.
width
(è- 
‹xt
.width())/2,1,~text);

51294 
	gvisu
.
di¥Ïy
(
di¥
);

51298 
	gCImg
<
	gch¬T
> 
f’ame
(32);

51299 
	gokey
 = 
key
) {

51300 #ià
cimg_OS
!=2

51301 
cimg
::
keyCTRLRIGHT
 : cimg::
keySHIFTRIGHT
 :

51303 
cimg
::
keyCTRLLEFT
 : cimg::
keySHIFTLEFT
 : 
okey
 = 0; ;

51304 
	gcimg
::
keyD
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

51305 
di¥
.
£t_fuÎsü“n
(
çl£
).

51306 
»size
(
CImgDi¥Ïy
::
_f™sü“n
(3*
di¥
.
width
()/2,3*di¥.
height
()/2,1,128,-100,
çl£
),

51307 
CImgDi¥Ïy
::
_f™sü“n
(3*
di¥
.
width
()/2,3*di¥.
height
()/2,1,128,-100,
Œue
),
çl£
).

51308 
	g_is_»sized
 = 
Œue
;

51309 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gokey
 = 0;

51311 
	gcimg
::
keyC
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

51312 
di¥
.
£t_fuÎsü“n
(
çl£
).

51313 
»size
(
cimg_f™sü“n
(2*
di¥
.
width
()/3,2*di¥.
height
()/3,1),
çl£
).
	g_is_»sized
 = 
Œue
;

51314 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gokey
 = 0;

51316 
	gcimg
::
keyR
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

51317 
di¥
.
£t_fuÎsü“n
(
çl£
).

51318 
»size
(
cimg_f™sü“n
(
CImgDi¥Ïy
::
sü“n_width
()/2,

51319 
CImgDi¥Ïy
::
sü“n_height
()/2,1),
çl£
).
	g_is_»sized
 = 
Œue
;

51320 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gokey
 = 0;

51322 
	gcimg
::
keyF
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

51323 
di¥
.
»size
(di¥.
sü“n_width
(),di¥.
sü“n_height
(),
çl£
).
toggË_fuÎsü“n
().
	g_is_»sized
 = 
Œue
;

51324 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gokey
 = 0;

51326 
	gcimg
::
keyS
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

51327 
¢­_numb”
 = 0;

51328 ià(
	gvisu
 || 
	gvisu0
) {

51329 
	gCImg
<
	guch¬T
> &
	gsü“n
 = 
visu
?visu:
visu0
;

51330 
	g¡d
::
FILE
 *
fe
;

51332 
cimg_¢´štf
(
f’ame
,f’ame.
_width
,
cimg_­²ame
 "_%.4u.bmp",
¢­_numb”
++);

51333 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame
,"r"))!=0ècimg::
fşo£
(
fe
);

51334 } 
	gfe
);

51335 (+
	gsü“n
).
__d¿w_‹xt
(" Savšg sÇpshÙ... ",
fÚt_size
,0).
di¥Ïy
(
di¥
);

51336 
	gsü“n
.
§ve
(
f’ame
);

51337 (+
	gsü“n
).
__d¿w_‹xt
(" SÇpshÙ '%s' saved. ",
fÚt_size
,0,
f’ame
.
_d©a
).
di¥Ïy
(
di¥
);

51339 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gokey
 = 0;

51341 
	gcimg
::
keyO
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

51342 
¢­_numb”
 = 0;

51343 ià(
	gvisu
 || 
	gvisu0
) {

51344 
	gCImg
<
	guch¬T
> &
	gsü“n
 = 
visu
?visu:
visu0
;

51345 
	g¡d
::
FILE
 *
fe
;

51348 #ifdeà
cimg_u£_zlib


51349 
cimg_¢´štf
(
f’ame
,f’ame.
_width
,
cimg_­²ame
 "_%.4u.cimgz",
¢­_numb”
++);

51351 
cimg_¢´štf
(
f’ame
,f’ame.
_width
,
cimg_­²ame
 "_%.4u.cimg",
¢­_numb”
++);

51353 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame
,"r"))!=0ècimg::
fşo£
(
fe
);

51354 } 
	gfe
);

51355 (+
	gsü“n
).
__d¿w_‹xt
(" Savšg in¡ªû... ",
fÚt_size
,0).
di¥Ïy
(
di¥
);

51356 
§ve
(
f’ame
);

51357 (+
	gsü“n
).
__d¿w_‹xt
(" In¡ªû '%s' saved. ",
fÚt_size
,0,
f’ame
.
_d©a
).
di¥Ïy
(
di¥
);

51359 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gokey
 = 0;

51364 ià(
	gobu‰Ú
!=
bu‰Ú
 || 
omou£_x
!=
mou£_x
 || 
omou£_y
!=
mou£_y
) {

51365 
visu
.
assign
();

51366 ià(
	gdi¥
.
mou£_x
()>=0 && 
di¥
.
mou£_y
()>=0) {

51368 
mx
 = (
mou£_x
 - 16)*()(
siz
 - 
Úe
)/(
di¥
.
width
() - 32),

51369 
	gcx
 = 
cimg
::
cut
(
mx
,0,()(
siz
 - 1 - 
Úe
)),

51370 
	gmy
 = 
mou£_y
 - 16,

51371 
	gcy
 = 
cimg
::
cut
(
my
,0,
di¥
.
height
() - 32);

51372 ià(
	gbu‰Ú
&1) {

51373 ià(!
	gobu‰Ú
è{ 
	gx0
 = 
cx
; 
	gy0
 = -1; } { 
	gx1
 = cx; 
	gy1
 = -1; }

51375 ià(
	gbu‰Ú
&2) {

51376 ià(!
	gobu‰Ú
è{ 
	gx0
 = 
cx
; 
	gy0
 = 
cy
; } { 
	gx1
 = cx; 
	gy1
 = cy; }

51378 ià(
	gobu‰Ú
è{ 
	gx1
 = 
x1
>=0?
cx
:-1; 
	gy1
 = 
y1
>=0?
cy
:-1; 
	g£Ëùed
 = 
Œue
; }

51379 } ià(!
	gbu‰Ú
 && 
	gobu‰Ú
è
	g£Ëùed
 = 
Œue
;

51380 
	gobu‰Ú
 = 
bu‰Ú
; 
	gomou£_x
 = 
mou£_x
; 
	gomou£_y
 = 
mou£_y
;

51382 ià(
	gdi¥
.
is_»sized
()è{ di¥.
»size
(
çl£
); 
	gvisu0
.
assign
(); }

51383 ià(
	gvisu
 && 
	gvisu0
è
	gdi¥
.
wa™
();

51384 ià(!
	gex™_Ú_ªykey
 && 
	gokey
 && okey!=
cimg
::
keyESC
 &&

51385 (
okey
!=
cimg
::
keyW
 || (!
di¥
.
is_keyCTRLLEFT
(è&& !di¥.
is_keyCTRLRIGHT
()))) {

51386 
di¥
.
£t_key
(
key
,
çl£
);

51387 
	gokey
 = 0;

51391 
	gdi¥
.
	g_nÜm®iz©iÚ
 = 
Şd_nÜm®iz©iÚ
;

51392 ià(
	gx1
>=0 && 
x1
<
x0
è
cimg
::
sw­
(x0,x1);

51393 ià(
	gy1
<
	gy0
è
	gcimg
::
sw­
(
y0
,
y1
);

51394 
	gdi¥
.
£t_key
(
okey
);

51395  
	gCImg
<
	gštT
>(4,1,1,1,
	gx0
,
	gy0
,
	gx1
>=0?
x1
 + ()
Úe
:-1,
	gy1
);

51404 
	gCImg
<
	gT
>& 
lßd
(cÚ¡ *cÚ¡ 
f’ame
) {

51405 ià(!
	gf’ame
)

51406 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


51408 
cimg_š¡ªû
);

51410 ià(!
	gcimg
::
¡ºÿ£cmp
(
f’ame
,"http://",7) || !cimg::strncasecmp(filename,"https://",8)) {

51411 
	gCImg
<
	gch¬T
> 
f’ame_loÿl
(256);

51412 
lßd
(
cimg
::
lßd_ÃtwÜk
(
f’ame
,
f’ame_loÿl
));

51413 
	g¡d
::
»move
(
f’ame_loÿl
);

51414  *
	gthis
;

51417 cÚ¡ *cÚ¡ 
	gext
 = 
cimg
::
¥l™_f’ame
(
f’ame
);

51418 cÚ¡ 
	gomode
 = 
cimg
::
exû±iÚ_mode
();

51419 
	gcimg
::
exû±iÚ_mode
(0);

51420 
boŞ
 
	gis_lßded
 = 
Œue
;

51421 
	gŒy
 {

51422 #ifdeà
cimg_lßd_¶ugš


51423 
cimg_lßd_¶ugš
(
f’ame
);

51425 #ifdeà
cimg_lßd_¶ugš1


51426 
cimg_lßd_¶ugš1
(
f’ame
);

51428 #ifdeà
cimg_lßd_¶ugš2


51429 
cimg_lßd_¶ugš2
(
f’ame
);

51431 #ifdeà
cimg_lßd_¶ugš3


51432 
cimg_lßd_¶ugš3
(
f’ame
);

51434 #ifdeà
cimg_lßd_¶ugš4


51435 
cimg_lßd_¶ugš4
(
f’ame
);

51437 #ifdeà
cimg_lßd_¶ugš5


51438 
cimg_lßd_¶ugš5
(
f’ame
);

51440 #ifdeà
cimg_lßd_¶ugš6


51441 
cimg_lßd_¶ugš6
(
f’ame
);

51443 #ifdeà
cimg_lßd_¶ugš7


51444 
cimg_lßd_¶ugš7
(
f’ame
);

51446 #ifdeà
cimg_lßd_¶ugš8


51447 
cimg_lßd_¶ugš8
(
f’ame
);

51450 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"asc")è
lßd_ascii
(
f’ame
);

51451 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"csv") ||

51452 !
	gcimg
::
¡rÿ£cmp
(
ext
,"dlm") ||

51453 !
	gcimg
::
¡rÿ£cmp
(
ext
,"txt")è
lßd_dlm
(
f’ame
);

51456 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"bmp")è
lßd_bmp
(
f’ame
);

51457 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"jpg") ||

51458 !
	gcimg
::
¡rÿ£cmp
(
ext
,"jpeg") ||

51459 !
	gcimg
::
¡rÿ£cmp
(
ext
,"jpe") ||

51460 !
	gcimg
::
¡rÿ£cmp
(
ext
,"jfif") ||

51461 !
	gcimg
::
¡rÿ£cmp
(
ext
,"jif")è
lßd_j³g
(
f’ame
);

51462 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"²g")è
lßd_²g
(
f’ame
);

51463 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"ppm") ||

51464 !
	gcimg
::
¡rÿ£cmp
(
ext
,"pgm") ||

51465 !
	gcimg
::
¡rÿ£cmp
(
ext
,"pnm") ||

51466 !
	gcimg
::
¡rÿ£cmp
(
ext
,"pbm") ||

51467 !
	gcimg
::
¡rÿ£cmp
(
ext
,"²k")è
lßd_²m
(
f’ame
);

51468 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"pfm")è
lßd_pfm
(
f’ame
);

51469 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"tif") ||

51470 !
	gcimg
::
¡rÿ£cmp
(
ext
,"tiff")è
lßd_tiff
(
f’ame
);

51471 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"exr")è
lßd_exr
(
f’ame
);

51472 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"cr2") ||

51473 !
	gcimg
::
¡rÿ£cmp
(
ext
,"crw") ||

51474 !
	gcimg
::
¡rÿ£cmp
(
ext
,"dcr") ||

51475 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mrw") ||

51476 !
	gcimg
::
¡rÿ£cmp
(
ext
,"nef") ||

51477 !
	gcimg
::
¡rÿ£cmp
(
ext
,"orf") ||

51478 !
	gcimg
::
¡rÿ£cmp
(
ext
,"pix") ||

51479 !
	gcimg
::
¡rÿ£cmp
(
ext
,"ptx") ||

51480 !
	gcimg
::
¡rÿ£cmp
(
ext
,"raf") ||

51481 !
	gcimg
::
¡rÿ£cmp
(
ext
,"¤f")è
lßd_düaw_ex‹º®
(
f’ame
);

51482 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"gif")è
lßd_gif_ex‹º®
(
f’ame
);

51485 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"dcm") ||

51486 !
	gcimg
::
¡rÿ£cmp
(
ext
,"dicom")è
lßd_medcÚ_ex‹º®
(
f’ame
);

51487 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"hdr") ||

51488 !
	gcimg
::
¡rÿ£cmp
(
ext
,"nii")è
lßd_ª®yze
(
f’ame
);

51489 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"par") ||

51490 !
	gcimg
::
¡rÿ£cmp
(
ext
,"»c")è
lßd_·¼ec
(
f’ame
);

51491 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"mnc")è
lßd_mšc2
(
f’ame
);

51492 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"šr")è
lßd_šr
(
f’ame
);

51493 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"·n")è
lßd_·ndÜe
(
f’ame
);

51494 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"cimg") ||

51495 !
	gcimg
::
¡rÿ£cmp
(
ext
,"cimgz") ||

51496 !*
	gext
è 
lßd_cimg
(
f’ame
);

51499 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"gz")è
lßd_gz_ex‹º®
(
f’ame
);

51502 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"avi") ||

51503 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mov") ||

51504 !
	gcimg
::
¡rÿ£cmp
(
ext
,"asf") ||

51505 !
	gcimg
::
¡rÿ£cmp
(
ext
,"divx") ||

51506 !
	gcimg
::
¡rÿ£cmp
(
ext
,"flv") ||

51507 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mpg") ||

51508 !
	gcimg
::
¡rÿ£cmp
(
ext
,"m1v") ||

51509 !
	gcimg
::
¡rÿ£cmp
(
ext
,"m2v") ||

51510 !
	gcimg
::
¡rÿ£cmp
(
ext
,"m4v") ||

51511 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mjp") ||

51512 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mp4") ||

51513 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mkv") ||

51514 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mpe") ||

51515 !
	gcimg
::
¡rÿ£cmp
(
ext
,"movie") ||

51516 !
	gcimg
::
¡rÿ£cmp
(
ext
,"ogm") ||

51517 !
	gcimg
::
¡rÿ£cmp
(
ext
,"ogg") ||

51518 !
	gcimg
::
¡rÿ£cmp
(
ext
,"ogv") ||

51519 !
	gcimg
::
¡rÿ£cmp
(
ext
,"qt") ||

51520 !
	gcimg
::
¡rÿ£cmp
(
ext
,"rm") ||

51521 !
	gcimg
::
¡rÿ£cmp
(
ext
,"vob") ||

51522 !
	gcimg
::
¡rÿ£cmp
(
ext
,"wmv") ||

51523 !
	gcimg
::
¡rÿ£cmp
(
ext
,"xvid") ||

51524 !
	gcimg
::
¡rÿ£cmp
(
ext
,"m³g")è
lßd_video
(
f’ame
);

51525 
	gis_lßded
 = 
çl£
;

51526 } 
ÿtch
 (
CImgIOExû±iÚ
&è{ 
	gis_lßded
 = 
çl£
; }

51529 ià(!
	gis_lßded
) {

51530 
	g¡d
::
FILE
 *
fe
 = 
cimg
::
¡d_fİ’
(
f’ame
,"rb");

51531 ià(!
	gfe
) {

51532 
	gcimg
::
exû±iÚ_mode
(
omode
);

51533 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


51535 
cimg_š¡ªû
,

51536 
f’ame
);

51539 cÚ¡ *cÚ¡ 
	gf_ty³
 = 
cimg
::
áy³
(
fe
,
f’ame
);

51540 
	gcimg
::
fşo£
(
fe
);

51541 
	gis_lßded
 = 
Œue
;

51542 
	gŒy
 {

51543 ià(!
	gcimg
::
¡rÿ£cmp
(
f_ty³
,"²m")è
lßd_²m
(
f’ame
);

51544 ià(!
	gcimg
::
¡rÿ£cmp
(
f_ty³
,"pfm")è
lßd_pfm
(
f’ame
);

51545 ià(!
	gcimg
::
¡rÿ£cmp
(
f_ty³
,"bmp")è
lßd_bmp
(
f’ame
);

51546 ià(!
	gcimg
::
¡rÿ£cmp
(
f_ty³
,"šr")è
lßd_šr
(
f’ame
);

51547 ià(!
	gcimg
::
¡rÿ£cmp
(
f_ty³
,"jpg")è
lßd_j³g
(
f’ame
);

51548 ià(!
	gcimg
::
¡rÿ£cmp
(
f_ty³
,"·n")è
lßd_·ndÜe
(
f’ame
);

51549 ià(!
	gcimg
::
¡rÿ£cmp
(
f_ty³
,"²g")è
lßd_²g
(
f’ame
);

51550 ià(!
	gcimg
::
¡rÿ£cmp
(
f_ty³
,"tif")è
lßd_tiff
(
f’ame
);

51551 ià(!
	gcimg
::
¡rÿ£cmp
(
f_ty³
,"gif")è
lßd_gif_ex‹º®
(
f’ame
);

51552 ià(!
	gcimg
::
¡rÿ£cmp
(
f_ty³
,"dcm")è
lßd_medcÚ_ex‹º®
(
f’ame
);

51553 
	gis_lßded
 = 
çl£
;

51554 } 
ÿtch
 (
CImgIOExû±iÚ
&è{ 
	gis_lßded
 = 
çl£
; }

51558 ià(!
	gis_lßded
) {

51559 
	gŒy
 {

51560 
lßd_Ùh”
(
f’ame
);

51561 } 
ÿtch
 (
CImgIOExû±iÚ
&) {

51562 
	gcimg
::
exû±iÚ_mode
(
omode
);

51563 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


51565 
cimg_š¡ªû
,

51566 
f’ame
);

51569 
	gcimg
::
exû±iÚ_mode
(
omode
);

51570  *
	gthis
;

51574 
	gCImg
<
	gT
> 
g‘_lßd
(cÚ¡ *cÚ¡ 
f’ame
) {

51575  
	gCImg
<
	gT
>().
lßd
(
f’ame
);

51582 
	gCImg
<
	gT
>& 
lßd_ascii
(cÚ¡ *cÚ¡ 
f’ame
) {

51583  
_lßd_ascii
(0,
f’ame
);

51587 
	gCImg
<
	gT
> 
g‘_lßd_ascii
(cÚ¡ *cÚ¡ 
f’ame
) {

51588  
	gCImg
<
	gT
>().
lßd_ascii
(
f’ame
);

51592 
	gCImg
<
	gT
>& 
lßd_ascii
(
¡d
::
FILE
 *cÚ¡ 
fe
) {

51593  
_lßd_ascii
(
fe
,0);

51597 
	gCImg
<
	gT
> 
g‘_lßd_ascii
(
¡d
::
FILE
 *cÚ¡ 
fe
) {

51598  
CImg
<
T
>().
lßd_ascii
(
fe
);

51601 
	gCImg
<
	gT
>& 
_lßd_ascii
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
) {

51602 ià(!
	gfe
 && !
	gf’ame
)

51603 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


51605 
cimg_š¡ªû
);

51607 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"rb");

51608 
	gCImg
<
	gch¬T
> 
lše
(256); *
	glše
 = 0;

51609 
	g”r
 = 
¡d
::
fsÿnf
(
nfe
,"%255[^\n]",
lše
.
_d©a
);

51610 
	gdx
 = 0, 
	gdy
 = 1, 
	gdz
 = 1, 
	gdc
 = 1;

51611 
cimg_ssÿnf
(
lše
,"%u%*c%u%*c%u%*c%u",&
dx
,&
dy
,&
dz
,&
dc
);

51612 
	g”r
 = 
¡d
::
fsÿnf
(
nfe
,"%*[^0-9.eEinfa+-]");

51613 ià(!
	gdx
 || !
	gdy
 || !
	gdz
 || !
	gdc
) {

51614 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

51615 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


51618 
cimg_š¡ªû
,

51619 
f’ame
?f’ame:"(FILE*)",
dx
,
dy
,
dz
,
dc
);

51621 
assign
(
dx
,
dy
,
dz
,
dc
);

51622 cÚ¡ 
ulÚgT
 
	gsiz
 = 
size
();

51623 
ulÚgT
 
	goff
 = 0;

51624 
	gv®
;

51625 
T
 *
	g±r
 = 
_d©a
;

51626 
	g”r
 = 1, 
	goff
 = 0; off<
	gsiz
 &&ƒrr==1; ++off) {

51627 
	g”r
 = 
¡d
::
fsÿnf
(
nfe
,"%lf%*[^0-9.eEšç+-]",&
v®
);

51628 *(
	g±r
++èğ(
T
)
v®
;

51630 ià(
	g”r
!=1)

51631 
cimg
::
w¬n
(
_cimg_š¡ªû


51633 
cimg_š¡ªû
,

51634 
off
 - 1,
siz
,
f’ame
?filename:"(FILE*)");

51636 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

51637  *
	gthis
;

51644 
	gCImg
<
	gT
>& 
lßd_dlm
(cÚ¡ *cÚ¡ 
f’ame
) {

51645  
_lßd_dlm
(0,
f’ame
);

51649 
	gCImg
<
	gT
> 
g‘_lßd_dlm
(cÚ¡ *cÚ¡ 
f’ame
) {

51650  
	gCImg
<
	gT
>().
lßd_dlm
(
f’ame
);

51654 
	gCImg
<
	gT
>& 
lßd_dlm
(
¡d
::
FILE
 *cÚ¡ 
fe
) {

51655  
_lßd_dlm
(
fe
,0);

51659 
	gCImg
<
	gT
> 
g‘_lßd_dlm
(
¡d
::
FILE
 *cÚ¡ 
fe
) {

51660  
CImg
<
T
>().
lßd_dlm
(
fe
);

51663 
	gCImg
<
	gT
>& 
_lßd_dlm
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
) {

51664 ià(!
	gfe
 && !
	gf’ame
)

51665 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


51667 
cimg_š¡ªû
);

51669 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"r");

51670 
	gCImg
<
	gch¬T
> 
d–im™”
(256), 
tmp
(256); *
	gd–im™”
 = *tmp = 0;

51671 
	gcdx
 = 0, 
	gdx
 = 0, 
	gdy
 = 0;

51672 
	g”r
 = 0;

51673 
	gv®
;

51674 
assign
(256,256,1,1,(
T
)0);

51675 (
	g”r
 = 
¡d
::
fsÿnf
(
nfe
,"%lf%255[^0-9eEšç.+-]",&
v®
,
d–im™”
.
_d©a
))>0) {

51676 ià(
	g”r
>0è(*
	gthis
)(
	gcdx
++,
	gdy
èğ(
T
)
v®
;

51677 ià(
	gcdx
>=
_width
è
»size
(3*_width/2,
_height
,1,1,0);

51678 
	gc
 = 0;

51679 ià(!
cimg_ssÿnf
(
d–im™”
,"%255[^\n]%c",
tmp
.
_d©a
,&
c
è|| 
	gc
=='\n') {

51680 
dx
 = 
¡d
::
max
(
cdx
,dx);

51681 ià(++
	gdy
>=
_height
è
»size
(
_width
,3*_height/2,1,1,0);

51682 
	gcdx
 = 0;

51685 ià(
	gcdx
 && 
	g”r
==1è{ 
dx
 = 
cdx
; ++
	gdy
; }

51686 ià(!
	gdx
 || !
	gdy
) {

51687 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

51688 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


51690 
cimg_š¡ªû
,

51691 
f’ame
?filename:"(FILE*)");

51693 
»size
(
dx
,
dy
,1,1,0);

51694 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

51695  *
	gthis
;

51702 
	gCImg
<
	gT
>& 
lßd_bmp
(cÚ¡ *cÚ¡ 
f’ame
) {

51703  
_lßd_bmp
(0,
f’ame
);

51707 
	gCImg
<
	gT
> 
g‘_lßd_bmp
(cÚ¡ *cÚ¡ 
f’ame
) {

51708  
	gCImg
<
	gT
>().
lßd_bmp
(
f’ame
);

51712 
	gCImg
<
	gT
>& 
lßd_bmp
(
¡d
::
FILE
 *cÚ¡ 
fe
) {

51713  
_lßd_bmp
(
fe
,0);

51717 
	gCImg
<
	gT
> 
g‘_lßd_bmp
(
¡d
::
FILE
 *cÚ¡ 
fe
) {

51718  
CImg
<
T
>().
lßd_bmp
(
fe
);

51721 
	gCImg
<
	gT
>& 
_lßd_bmp
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
) {

51722 ià(!
	gfe
 && !
	gf’ame
)

51723 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


51725 
cimg_š¡ªû
);

51727 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"rb");

51728 
	gCImg
<
	guch¬T
> 
h—d”
(54);

51729 
	gcimg
::
ä—d
(
h—d”
.
_d©a
,54,
nfe
);

51730 ià(*
	gh—d”
!='B' || 
h—d”
[1]!='M') {

51731 ià(!
fe
è
cimg
::
fşo£
(
nfe
);

51732 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


51734 
cimg_š¡ªû
,

51735 
f’ame
?filename:"(FILE*)");

51740 
	gfe_size
 = 
h—d”
[0x02] + (header[0x03]<<8) + (header[0x04]<<16) + (header[0x05]<<24),

51741 
	goff£t
 = 
h—d”
[0x0A] + (header[0x0B]<<8) + (header[0x0C]<<16) + (header[0x0D]<<24),

51742 
	gh—d”_size
 = 
h—d”
[0x0E] + (header[0x0F]<<8) + (header[0x10]<<16) + (header[0x11]<<24),

51743 
	gdx
 = 
h—d”
[0x12] + (header[0x13]<<8) + (header[0x14]<<16) + (header[0x15]<<24),

51744 
	gdy
 = 
h—d”
[0x16] + (header[0x17]<<8) + (header[0x18]<<16) + (header[0x19]<<24),

51745 
	gcom´essiÚ
 = 
h—d”
[0x1E] + (header[0x1F]<<8) + (header[0x20]<<16) + (header[0x21]<<24),

51746 
	gnb_cŞÜs
 = 
h—d”
[0x2E] + (header[0x2F]<<8) + (header[0x30]<<16) + (header[0x31]<<24),

51747 
	gbµ
 = 
h—d”
[0x1C] + (header[0x1D]<<8);

51749 ià(!
	gfe_size
 || fe_size==
off£t
) {

51750 
cimg
::
f£ek
(
nfe
,0,
SEEK_END
);

51751 
	gfe_size
 = ()
cimg
::
á–l
(
nfe
);

51752 
	gcimg
::
f£ek
(
nfe
,54,
SEEK_SET
);

51754 ià(
	gh—d”_size
>40è
	gcimg
::
f£ek
(
nfe
,
h—d”_size
 - 40,
SEEK_CUR
);

51757 
	gdx_by‹s
 = (
bµ
==1)?(
dx
/8 + (dx%8?1:0)):((bµ==4)?(dx/2 + (dx%2)):()((
lÚgT
)dx*bpp/8)),

51758 
	g®ign_by‹s
 = (4 - 
dx_by‹s
%4)%4;

51759 cÚ¡ 
ulÚgT


51760 
	gcimg_iobufãr
 = (
ulÚgT
)24*1024*1024,

51761 
	gbuf_size
 = (
ulÚgT
)
cimg
::
abs
(
dy
)*(
dx_by‹s
 + 
®ign_by‹s
);

51763 
	gCImg
<
	gštT
> 
	gcŞÜm­
;

51764 ià(
	gbµ
<16è{ ià(!
	gnb_cŞÜs
ènb_cŞÜ ğ1<<
bµ
; } nb_colors = 0;

51765 ià(
	gnb_cŞÜs
è{ 
	gcŞÜm­
.
assign
(
nb_cŞÜs
); 
	gcimg
::
ä—d
(
cŞÜm­
.
_d©a
,nb_cŞÜs,
nfe
); }

51766 cÚ¡ 
	gxoff£t
 = 
off£t
 - 14 - 
h—d”_size
 - 4*
nb_cŞÜs
;

51767 ià(
	gxoff£t
>0è
	gcimg
::
f£ek
(
nfe
,
xoff£t
,
SEEK_CUR
);

51769 
	gCImg
<
	guch¬T
> 
	gbufãr
;

51770 ià(
	gbuf_size
<
	gcimg_iobufãr
) {

51771 
	gbufãr
.
assign
(
buf_size
,1,1,1,0);

51772 
	gcimg
::
ä—d
(
bufãr
.
_d©a
,
buf_size
,
nfe
);

51773 } 
	gbufãr
.
assign
(
dx_by‹s
 + 
®ign_by‹s
);

51774 *
	g±rs
 = 
bufãr
;

51777 ià(
	gcom´essiÚ
==1 || 
com´essiÚ
==2) {

51778 ià(
fe
)

51779 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


51781 
cimg_š¡ªû
);

51783 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

51784  
lßd_Ùh”
(
f’ame
);

51789 
assign
(
dx
,
cimg
::
abs
(
dy
),1,3,0);

51790 
	gbµ
) {

51792 ià(
cŞÜm­
.
_width
>=2è
y
 = 
height
(è- 1; 
	gy
>=0; --y) {

51793 ià(
	gbuf_size
>=
cimg_iobufãr
) {

51794 ià(!
cimg
::
ä—d
(
±rs
=
bufãr
.
_d©a
,
dx_by‹s
,
nfe
)) ;

51795 
	gcimg
::
f£ek
(
nfe
,
®ign_by‹s
,
SEEK_CUR
);

51797 
	gmask
 = 0x80, 
	gv®
 = 0;

51798 
cimg_fÜX
(*
this
,
x
) {

51799 ià(
	gmask
==0x80è
v®
 = *(
±rs
++);

51800 cÚ¡ *
	gcŞ
 = (*)(
cŞÜm­
.
_d©a
 + (
v®
&
mask
?1:0));

51801 (*
	gthis
)(
	gx
,
	gy
,2èğ(
T
)*(
cŞ
++);

51802 (*
	gthis
)(
	gx
,
	gy
,1èğ(
T
)*(
cŞ
++);

51803 (*
	gthis
)(
	gx
,
	gy
,0èğ(
T
)*(
cŞ
++);

51804 
	gmask
 = 
cimg
::
rÜ
(
mask
);

51806 
	g±rs
+=
®ign_by‹s
;

51810 ià(
cŞÜm­
.
_width
>=16è
y
 = 
height
(è- 1; 
	gy
>=0; --y) {

51811 ià(
	gbuf_size
>=
cimg_iobufãr
) {

51812 ià(!
cimg
::
ä—d
(
±rs
=
bufãr
.
_d©a
,
dx_by‹s
,
nfe
)) ;

51813 
	gcimg
::
f£ek
(
nfe
,
®ign_by‹s
,
SEEK_CUR
);

51815 
	gmask
 = 0xF0, 
	gv®
 = 0;

51816 
cimg_fÜX
(*
this
,
x
) {

51817 ià(
	gmask
==0xF0è
v®
 = *(
±rs
++);

51818 cÚ¡ 
	gcŞÜ
 = ()((
mask
<16)?(
v®
&mask):((val&mask)>>4));

51819 cÚ¡ *
	gcŞ
 = (*)(
cŞÜm­
.
_d©a
 + 
cŞÜ
);

51820 (*
	gthis
)(
	gx
,
	gy
,2èğ(
T
)*(
cŞ
++);

51821 (*
	gthis
)(
	gx
,
	gy
,1èğ(
T
)*(
cŞ
++);

51822 (*
	gthis
)(
	gx
,
	gy
,0èğ(
T
)*(
cŞ
++);

51823 
	gmask
 = 
cimg
::
rÜ
(
mask
,4);

51825 
	g±rs
+=
®ign_by‹s
;

51829 ià(
cŞÜm­
.
_width
>=256è
y
 = 
height
(è- 1; 
	gy
>=0; --y) {

51830 ià(
	gbuf_size
>=
cimg_iobufãr
) {

51831 ià(!
cimg
::
ä—d
(
±rs
=
bufãr
.
_d©a
,
dx_by‹s
,
nfe
)) ;

51832 
	gcimg
::
f£ek
(
nfe
,
®ign_by‹s
,
SEEK_CUR
);

51834 
cimg_fÜX
(*
this
,
x
) {

51835 cÚ¡ *
	gcŞ
 = (*)(
cŞÜm­
.
_d©a
 + *(
±rs
++));

51836 (*
	gthis
)(
	gx
,
	gy
,2èğ(
T
)*(
cŞ
++);

51837 (*
	gthis
)(
	gx
,
	gy
,1èğ(
T
)*(
cŞ
++);

51838 (*
	gthis
)(
	gx
,
	gy
,0èğ(
T
)*(
cŞ
++);

51840 
	g±rs
+=
®ign_by‹s
;

51844 
y
 = 
height
(è- 1; 
	gy
>=0; --y) {

51845 ià(
	gbuf_size
>=
cimg_iobufãr
) {

51846 ià(!
cimg
::
ä—d
(
±rs
=
bufãr
.
_d©a
,
dx_by‹s
,
nfe
)) ;

51847 
	gcimg
::
f£ek
(
nfe
,
®ign_by‹s
,
SEEK_CUR
);

51849 
cimg_fÜX
(*
this
,
x
) {

51850 cÚ¡ 
	gc1
 = *(
±rs
++), 
	gc2
 = *(ptrs++);

51851 cÚ¡ 
	gcŞ
 = ()
c2
<<8 | 
c1
;

51852 (*
	gthis
)(
	gx
,
	gy
,2èğ(
T
)((
cŞ
&0x1F)<<3);

51853 (*
	gthis
)(
	gx
,
	gy
,1èğ(
T
)(((
cŞ
>>5)&0x3F)<<3);

51854 (*
	gthis
)(
	gx
,
	gy
,0èğ(
T
)(((
cŞ
>>11)&0x1F)<<3);

51856 
	g±rs
+=
®ign_by‹s
;

51860 
y
 = 
height
(è- 1; 
	gy
>=0; --y) {

51861 ià(
	gbuf_size
>=
cimg_iobufãr
) {

51862 ià(!
cimg
::
ä—d
(
±rs
=
bufãr
.
_d©a
,
dx_by‹s
,
nfe
)) ;

51863 
	gcimg
::
f£ek
(
nfe
,
®ign_by‹s
,
SEEK_CUR
);

51865 
cimg_fÜX
(*
this
,
x
) {

51866 (*
	gthis
)(
	gx
,
	gy
,2èğ(
T
)*(
±rs
++);

51867 (*
	gthis
)(
	gx
,
	gy
,1èğ(
T
)*(
±rs
++);

51868 (*
	gthis
)(
	gx
,
	gy
,0èğ(
T
)*(
±rs
++);

51870 
	g±rs
+=
®ign_by‹s
;

51874 
y
 = 
height
(è- 1; 
	gy
>=0; --y) {

51875 ià(
	gbuf_size
>=
cimg_iobufãr
) {

51876 ià(!
cimg
::
ä—d
(
±rs
=
bufãr
.
_d©a
,
dx_by‹s
,
nfe
)) ;

51877 
	gcimg
::
f£ek
(
nfe
,
®ign_by‹s
,
SEEK_CUR
);

51879 
cimg_fÜX
(*
this
,
x
) {

51880 (*
	gthis
)(
	gx
,
	gy
,2èğ(
T
)*(
±rs
++);

51881 (*
	gthis
)(
	gx
,
	gy
,1èğ(
T
)*(
±rs
++);

51882 (*
	gthis
)(
	gx
,
	gy
,0èğ(
T
)*(
±rs
++);

51883 ++
	g±rs
;

51885 
	g±rs
+=
®ign_by‹s
;

51889 ià(
	gdy
<0è
mœrÜ
('y');

51890 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

51891  *
	gthis
;

51898 
	gCImg
<
	gT
>& 
lßd_j³g
(cÚ¡ *cÚ¡ 
f’ame
) {

51899  
_lßd_j³g
(0,
f’ame
);

51903 
	gCImg
<
	gT
> 
g‘_lßd_j³g
(cÚ¡ *cÚ¡ 
f’ame
) {

51904  
	gCImg
<
	gT
>().
lßd_j³g
(
f’ame
);

51908 
	gCImg
<
	gT
>& 
lßd_j³g
(
¡d
::
FILE
 *cÚ¡ 
fe
) {

51909  
_lßd_j³g
(
fe
,0);

51913 
	gCImg
<
	gT
> 
g‘_lßd_j³g
(
¡d
::
FILE
 *cÚ¡ 
fe
) {

51914  
CImg
<
T
>().
lßd_j³g
(
fe
);

51918 #ifdeà
cimg_u£_j³g


51919 
	s_cimg_”rÜ_mgr
 {

51920 
j³g_”rÜ_mgr
 
	gÜigš®
;

51921 
jmp_buf
 
	g£tjmp_bufãr
;

51922 
	gmes§ge
[
JMSG_LENGTH_MAX
];

51925 
_cimg_”rÜ_mgr
 *
	t_cimg_”rÜ_±r
;

51927 
METHODDEF
(è
_cimg_j³g_”rÜ_ex™
(
j_commÚ_±r
 
cšfo
) {

51928 
_cimg_”rÜ_±r
 
	gc_”r
 = (_cimg_”rÜ_±rè
cšfo
->
”r
;

51929 (*
	gcšfo
->
	g”r
->
	gfÜm©_mes§ge
)(cšfo,
	gc_”r
->
	gmes§ge
);

51930 
j³g_de¡roy
(
cšfo
);

51931 
lÚgjmp
(
c_”r
->
£tjmp_bufãr
,1);

51935 
	gCImg
<
	gT
>& 
_lßd_j³g
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
) {

51936 ià(!
	gfe
 && !
	gf’ame
)

51937 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


51939 
cimg_š¡ªû
);

51941 #iâdeà
cimg_u£_j³g


51942 ià(
	gfe
)

51943 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


51945 
cimg_š¡ªû
);

51946  
lßd_Ùh”
(
f’ame
);

51949 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"rb");

51950 
j³g_decom´ess_¡ruù
 
	gcšfo
;

51951 
_cimg_”rÜ_mgr
 
	gj”r
;

51952 
	gcšfo
.
	g”r
 = 
j³g_¡d_”rÜ
(&
j”r
.
Üigš®
);

51953 
	gj”r
.
	gÜigš®
.
	g”rÜ_ex™
 = 
_cimg_j³g_”rÜ_ex™
;

51954 ià(
£tjmp
(
j”r
.
£tjmp_bufãr
)) {

51955 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

51956 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


51958 
cimg_š¡ªû
,
j”r
.
mes§ge
);

51961 
j³g_ü—‹_decom´ess
(&
cšfo
);

51962 
j³g_¡dio_¤c
(&
cšfo
,
nfe
);

51963 
j³g_»ad_h—d”
(&
cšfo
,
TRUE
);

51964 
j³g_¡¬t_decom´ess
(&
cšfo
);

51966 ià(
	gcšfo
.
	gouut_compÚ’ts
!=1 && 
cšfo
.
ouut_compÚ’ts
!=3 && cinfo.output_components!=4) {

51967 ià(!
fe
) {

51968 
cimg
::
fşo£
(
nfe
);

51969  
lßd_Ùh”
(
f’ame
);

51971 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


51973 
cimg_š¡ªû
,
f’ame
?filename:"(FILE*)");

51975 
	gCImg
<
	guch¬T
> 
bufãr
(
cšfo
.
ouut_width
*cšfo.
ouut_compÚ’ts
);

51976 
JSAMPROW
 
	grow_poš‹r
[1];

51977 
	gŒy
 { 
assign
(
cšfo
.
ouut_width
,cšfo.
ouut_height
,1,cšfo.
ouut_compÚ’ts
); }

51978 
ÿtch
 (...è{ ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
); 
	gthrow
; }

51979 
T
 *
	g±r_r
 = 
_d©a
, *
	g±r_g
 = _d©¨+ 1UL*
_width
*
_height
, *
	g±r_b
 = _data + 2UL*_width*_height,

51980 *
	g±r_a
 = 
_d©a
 + 3UL*
_width
*
_height
;

51981 
	gcšfo
.
	gouut_sÿÆše
<cšfo.
	gouut_height
) {

51982 *
	grow_poš‹r
 = 
bufãr
.
_d©a
;

51983 ià(
j³g_»ad_sÿÆšes
(&
cšfo
,
row_poš‹r
,1)!=1) {

51984 
cimg
::
w¬n
(
_cimg_š¡ªû


51986 
cimg_š¡ªû
,
f’ame
?filename:"(FILE*)");

51989 cÚ¡ *
	g±rs
 = 
bufãr
.
_d©a
;

51990 
	g_¥eùrum
) {

51992 
cimg_fÜX
(*
this
,
x
è*(
	g±r_r
++èğ(
T
)*(
±rs
++);

51995 
cimg_fÜX
(*
this
,
x
) {

51996 *(
	g±r_r
++èğ(
T
)*(
±rs
++);

51997 *(
	g±r_g
++èğ(
T
)*(
±rs
++);

51998 *(
	g±r_b
++èğ(
T
)*(
±rs
++);

52002 
cimg_fÜX
(*
this
,
x
) {

52003 *(
	g±r_r
++èğ(
T
)*(
±rs
++);

52004 *(
	g±r_g
++èğ(
T
)*(
±rs
++);

52005 *(
	g±r_b
++èğ(
T
)*(
±rs
++);

52006 *(
	g±r_a
++èğ(
T
)*(
±rs
++);

52011 
j³g_fšish_decom´ess
(&
cšfo
);

52012 
j³g_de¡roy_decom´ess
(&
cšfo
);

52013 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

52014  *
	gthis
;

52024 
	gCImg
<
	gT
>& 
lßd_magick
(cÚ¡ *cÚ¡ 
f’ame
) {

52025 ià(!
	gf’ame
)

52026 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


52028 
cimg_š¡ªû
);

52030 #ifdeà
cimg_u£_magick


52031 
	gMagick
::
Image
 
image
(
f’ame
);

52032 cÚ¡ 
	gW
 = 
image
.
size
().
width
(), 
	gH
 = image.size().
height
();

52033 
	gimage
.
ty³
()) {

52034 
	gMagick
::
P®‘‹M©‹Ty³
 :

52035 
Magick
::
TrueCŞÜM©‹Ty³
 :

52036 
Magick
::
CŞÜS•¬©iÚTy³
 : {

52037 
assign
(
W
,
H
,1,4);

52038 
T
 *
	g±r_r
 = 
d©a
(0,0,0,0), *
	g±r_g
 = d©a(0,0,0,1), *
	g±r_b
 = d©a(0,0,0,2), *
	g±r_a
 = data(0,0,0,3);

52039 
	gMagick
::
Pix–Pack‘
 *
pix–s
 = 
image
.
g‘Pix–s
(0,0,
W
,
H
);

52040 
ulÚgT
 
	goff
 = (ulÚgT)
W
*
H
; off; --off) {

52041 *(
	g±r_r
++èğ(
T
)(
pix–s
->
»d
);

52042 *(
	g±r_g
++èğ(
T
)(
pix–s
->
g»’
);

52043 *(
	g±r_b
++èğ(
T
)(
pix–s
->
blue
);

52044 *(
	g±r_a
++èğ(
T
)(
pix–s
->
İac™y
);

52045 ++
	gpix–s
;

52048 
	gMagick
::
P®‘‹Ty³
 :

52049 
Magick
::
TrueCŞÜTy³
 : {

52050 
assign
(
W
,
H
,1,3);

52051 
T
 *
	g±r_r
 = 
d©a
(0,0,0,0), *
	g±r_g
 = d©a(0,0,0,1), *
	g±r_b
 = data(0,0,0,2);

52052 
	gMagick
::
Pix–Pack‘
 *
pix–s
 = 
image
.
g‘Pix–s
(0,0,
W
,
H
);

52053 
ulÚgT
 
	goff
 = (ulÚgT)
W
*
H
; off; --off) {

52054 *(
	g±r_r
++èğ(
T
)(
pix–s
->
»d
);

52055 *(
	g±r_g
++èğ(
T
)(
pix–s
->
g»’
);

52056 *(
	g±r_b
++èğ(
T
)(
pix–s
->
blue
);

52057 ++
	gpix–s
;

52060 
	gMagick
::
G¿ysÿËM©‹Ty³
 : {

52061 
assign
(
W
,
H
,1,2);

52062 
T
 *
	g±r_r
 = 
d©a
(0,0,0,0), *
	g±r_a
 = data(0,0,0,1);

52063 
	gMagick
::
Pix–Pack‘
 *
pix–s
 = 
image
.
g‘Pix–s
(0,0,
W
,
H
);

52064 
ulÚgT
 
	goff
 = (ulÚgT)
W
*
H
; off; --off) {

52065 *(
	g±r_r
++èğ(
T
)(
pix–s
->
»d
);

52066 *(
	g±r_a
++èğ(
T
)(
pix–s
->
İac™y
);

52067 ++
	gpix–s
;

52071 
assign
(
W
,
H
,1,1);

52072 
T
 *
	g±r_r
 = 
d©a
(0,0,0,0);

52073 
	gMagick
::
Pix–Pack‘
 *
pix–s
 = 
image
.
g‘Pix–s
(0,0,
W
,
H
);

52074 
ulÚgT
 
	goff
 = (ulÚgT)
W
*
H
; off; --off) {

52075 *(
	g±r_r
++èğ(
T
)(
pix–s
->
»d
);

52076 ++
	gpix–s
;

52080  *
	gthis
;

52082 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


52084 
cimg_š¡ªû
,

52085 
f’ame
);

52090 
	gCImg
<
	gT
> 
g‘_lßd_magick
(cÚ¡ *cÚ¡ 
f’ame
) {

52091  
	gCImg
<
	gT
>().
lßd_magick
(
f’ame
);

52099 
	gCImg
<
	gT
>& 
lßd_²g
(cÚ¡ *cÚ¡ 
f’ame
, *cÚ¡ 
b™s_³r_pix–
=0) {

52100  
_lßd_²g
(0,
f’ame
,
b™s_³r_pix–
);

52104 
	gCImg
<
	gT
> 
g‘_lßd_²g
(cÚ¡ *cÚ¡ 
f’ame
, *cÚ¡ 
b™s_³r_pix–
=0) {

52105  
CImg
<
T
>().
lßd_²g
(
f’ame
,
b™s_³r_pix–
);

52109 
	gCImg
<
	gT
>& 
lßd_²g
(
¡d
::
FILE
 *cÚ¡ 
fe
, *cÚ¡ 
b™s_³r_pix–
=0) {

52110  
_lßd_²g
(
fe
,0,
b™s_³r_pix–
);

52114 
	gCImg
<
	gT
> 
g‘_lßd_²g
(
¡d
::
FILE
 *cÚ¡ 
fe
, *cÚ¡ 
b™s_³r_pix–
=0) {

52115  
CImg
<
T
>().
lßd_²g
(
fe
,
b™s_³r_pix–
);

52119 
	gCImg
<
	gT
>& 
_lßd_²g
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
, *cÚ¡ 
b™s_³r_pix–
) {

52120 ià(!
	gfe
 && !
	gf’ame
)

52121 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


52123 
cimg_š¡ªû
);

52125 #iâdeà
cimg_u£_²g


52126 
	gcimg
::
unu£d
(
b™s_³r_pix–
);

52127 ià(
	gfe
)

52128 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


52130 
cimg_š¡ªû
);

52132  
lßd_Ùh”
(
f’ame
);

52135 #ià
defšed
 
__GNUC__


52136 cÚ¡ *vŞ©
	gnf’ame
 = 
f’ame
;

52137 
	g¡d
::
FILE
 *vŞ©
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
nf’ame
,"rb");

52139 cÚ¡ *
	gnf’ame
 = 
f’ame
;

52140 
	g¡d
::
FILE
 *
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
nf’ame
,"rb");

52142 
	g²gCheck
[8] = { 0 };

52143 
	gcimg
::
ä—d
(
²gCheck
,8,(
¡d
::
FILE
*)
nfe
);

52144 ià(
²g_sig_cmp
(
²gCheck
,0,8)) {

52145 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

52146 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


52148 
cimg_š¡ªû
,

52149 
nf’ame
?nfilename:"(FILE*)");

52153 
²g_voidp
 
	gu£r_”rÜ_±r
 = 0;

52154 
²g_”rÜ_±r
 
	gu£r_”rÜ_â
 = 0, 
	gu£r_w¬nšg_â
 = 0;

52155 
²g_¡ruùp
 
	g²g_±r
 = 
²g_ü—‹_»ad_¡ruù
(
PNG_LIBPNG_VER_STRING
,
u£r_”rÜ_±r
,
u£r_”rÜ_â
,
u£r_w¬nšg_â
);

52156 ià(!
	g²g_±r
) {

52157 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

52158 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


52160 
cimg_š¡ªû
,

52161 
nf’ame
?nfilename:"(FILE*)");

52163 
²g_šfİ
 
	gšfo_±r
 = 
²g_ü—‹_šfo_¡ruù
(
²g_±r
);

52164 ià(!
	gšfo_±r
) {

52165 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

52166 
²g_de¡roy_»ad_¡ruù
(&
²g_±r
,(
²g_šfİp
)0,(png_infopp)0);

52167 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


52169 
cimg_š¡ªû
,

52170 
nf’ame
?nfilename:"(FILE*)");

52172 
²g_šfİ
 
	g’d_šfo
 = 
²g_ü—‹_šfo_¡ruù
(
²g_±r
);

52173 ià(!
	g’d_šfo
) {

52174 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

52175 
²g_de¡roy_»ad_¡ruù
(&
²g_±r
,&
šfo_±r
,(
²g_šfİp
)0);

52176 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


52178 
cimg_š¡ªû
,

52179 
nf’ame
?nfilename:"(FILE*)");

52183 ià(
£tjmp
(
²g_jmpbuf
(
²g_±r
))) {

52184 ià(!
	gfe
è
	gcimg
::
fşo£
((
¡d
::
FILE
*)
nfe
);

52185 
²g_de¡roy_»ad_¡ruù
(&
²g_±r
, &
’d_šfo
, (
²g_šfİp
)0);

52186 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


52188 
cimg_š¡ªû
,

52189 
nf’ame
?nfilename:"(FILE*)");

52191 
²g_š™_io
(
²g_±r
, 
nfe
);

52192 
²g_£t_sig_by‹s
(
²g_±r
, 8);

52195 
²g_»ad_šfo
(
²g_±r
,
šfo_±r
);

52196 
²g_ušt_32
 
	gW
, 
	gH
;

52197 
	gb™_d•th
, 
	gcŞÜ_ty³
, 
	gš‹¾aû_ty³
;

52198 
boŞ
 
	gis_g¿y
 = 
çl£
;

52199 
²g_g‘_IHDR
(
²g_±r
,
šfo_±r
,&
W
,&
H
,&
b™_d•th
,&
cŞÜ_ty³
,&
š‹¾aû_ty³
,(*)0,(*)0);

52200 ià(
	gb™s_³r_pix–
è*b™s_³r_pix– = ()
b™_d•th
;

52203 ià(
	gcŞÜ_ty³
==
PNG_COLOR_TYPE_PALETTE
) {

52204 
²g_£t_·Ë‰e_to_rgb
(
²g_±r
);

52205 
	gcŞÜ_ty³
 = 
PNG_COLOR_TYPE_RGB
;

52206 
	gb™_d•th
 = 8;

52208 ià(
	gcŞÜ_ty³
==
PNG_COLOR_TYPE_GRAY
 && 
b™_d•th
<8) {

52209 
²g_£t_ex·nd_g¿y_1_2_4_to_8
(
²g_±r
);

52210 
	gis_g¿y
 = 
Œue
;

52211 
	gb™_d•th
 = 8;

52213 ià(
²g_g‘_v®id
(
²g_±r
,
šfo_±r
,
PNG_INFO_tRNS
)) {

52214 
²g_£t_tRNS_to_®pha
(
²g_±r
);

52215 
	gcŞÜ_ty³
 |ğ
PNG_COLOR_MASK_ALPHA
;

52217 ià(
	gcŞÜ_ty³
==
PNG_COLOR_TYPE_GRAY
 || 
cŞÜ_ty³
==
PNG_COLOR_TYPE_GRAY_ALPHA
) {

52218 
²g_£t_g¿y_to_rgb
(
²g_±r
);

52219 
	gcŞÜ_ty³
 |ğ
PNG_COLOR_MASK_COLOR
;

52220 
	gis_g¿y
 = 
Œue
;

52222 ià(
	gcŞÜ_ty³
==
PNG_COLOR_TYPE_RGB
)

52223 
²g_£t_fËr
(
²g_±r
,0xffffU,
PNG_FILLER_AFTER
);

52225 
²g_»ad_upd©e_šfo
(
²g_±r
,
šfo_±r
);

52226 ià(
	gb™_d•th
!=8 && 
b™_d•th
!=16) {

52227 ià(!
fe
è
cimg
::
fşo£
(
nfe
);

52228 
²g_de¡roy_»ad_¡ruù
(&
²g_±r
,&
’d_šfo
,(
²g_šfİp
)0);

52229 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


52231 
cimg_š¡ªû
,

52232 
b™_d•th
,
nf’ame
?nfilename:"(FILE*)");

52234 cÚ¡ 
	gby‹_d•th
 = 
b™_d•th
>>3;

52237 
²g_by‹p
 *cÚ¡ 
	gimgD©a
 = 
Ãw
…ng_by‹p[
H
];

52238 
	grow
 = 0;„ow<
	gH
; ++rowè
	gimgD©a
[
row
] = 
Ãw
 
²g_by‹
[(
size_t
)
by‹_d•th
*4*
W
];

52239 
²g_»ad_image
(
²g_±r
,
imgD©a
);

52240 
²g_»ad_’d
(
²g_±r
,
’d_šfo
);

52243 ià(
	gcŞÜ_ty³
!=
PNG_COLOR_TYPE_RGB
 && 
cŞÜ_ty³
!=
PNG_COLOR_TYPE_RGB_ALPHA
) {

52244 ià(!
fe
è
cimg
::
fşo£
(
nfe
);

52245 
²g_de¡roy_»ad_¡ruù
(&
²g_±r
,&
’d_šfo
,(
²g_šfİp
)0);

52246 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


52248 
cimg_š¡ªû
,

52249 
cŞÜ_ty³
,
nf’ame
?nfilename:"(FILE*)");

52251 cÚ¡ 
boŞ
 
	gis_®pha
 = (
cŞÜ_ty³
==
PNG_COLOR_TYPE_RGBA
);

52252 
	gŒy
 { 
assign
(
W
,
H
,1,(
is_g¿y
?1:3è+ (
is_®pha
?1:0)); }

52253 
ÿtch
 (...è{ ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
); 
	gthrow
; }

52254 
T


52255 *
	g±r_r
 = 
d©a
(0,0,0,0),

52256 *
	g±r_g
 = 
is_g¿y
?0:
d©a
(0,0,0,1),

52257 *
	g±r_b
 = 
is_g¿y
?0:
d©a
(0,0,0,2),

52258 *
	g±r_a
 = !
is_®pha
?0:
d©a
(0,0,0,
is_g¿y
?1:3);

52259 
	gb™_d•th
) {

52261 
cimg_fÜY
(*
this
,
y
) {

52262 cÚ¡ *
	g±rs
 = (*)
imgD©a
[
y
];

52263 
cimg_fÜX
(*
this
,
x
) {

52264 *(
	g±r_r
++èğ(
T
)*(
±rs
++);

52265 ià(
	g±r_g
è*ÕŒ_g++èğ(
T
)*(
±rs
++); ++
	g±rs
;

52266 ià(
	g±r_b
è*ÕŒ_b++èğ(
T
)*(
±rs
++); ++
	g±rs
;

52267 ià(
	g±r_a
è*ÕŒ_a++èğ(
T
)*(
±rs
++); ++
	g±rs
;

52272 
cimg_fÜY
(*
this
,
y
) {

52273 cÚ¡ *
	g±rs
 = (*)(
imgD©a
[
y
]);

52274 ià(!
	gcimg
::
’dŸÂess
()è
cimg
::
šv”t_’dŸÂess
(
±rs
,4*
_width
);

52275 
cimg_fÜX
(*
this
,
x
) {

52276 *(
	g±r_r
++èğ(
T
)*(
±rs
++);

52277 ià(
	g±r_g
è*ÕŒ_g++èğ(
T
)*(
±rs
++); ++
	g±rs
;

52278 ià(
	g±r_b
è*ÕŒ_b++èğ(
T
)*(
±rs
++); ++
	g±rs
;

52279 ià(
	g±r_a
è*ÕŒ_a++èğ(
T
)*(
±rs
++); ++
	g±rs
;

52284 
²g_de¡roy_»ad_¡ruù
(&
²g_±r
, &
šfo_±r
, &
’d_šfo
);

52287 
cimg_fÜY
(*
this
,
n
è
	gd–‘e
[] 
	gimgD©a
[n];

52288 
	gd–‘e
[] 
	gimgD©a
;

52289 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

52290  *
	gthis
;

52298 
	gCImg
<
	gT
>& 
lßd_²m
(cÚ¡ *cÚ¡ 
f’ame
) {

52299  
_lßd_²m
(0,
f’ame
);

52303 
	gCImg
<
	gT
> 
g‘_lßd_²m
(cÚ¡ *cÚ¡ 
f’ame
) {

52304  
	gCImg
<
	gT
>().
lßd_²m
(
f’ame
);

52308 
	gCImg
<
	gT
>& 
lßd_²m
(
¡d
::
FILE
 *cÚ¡ 
fe
) {

52309  
_lßd_²m
(
fe
,0);

52313 
	gCImg
<
	gT
> 
g‘_lßd_²m
(
¡d
::
FILE
 *cÚ¡ 
fe
) {

52314  
CImg
<
T
>().
lßd_²m
(
fe
);

52317 
	gCImg
<
	gT
>& 
_lßd_²m
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
) {

52318 ià(!
	gfe
 && !
	gf’ame
)

52319 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


52321 
cimg_š¡ªû
);

52323 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"rb");

52324 
	gµm_ty³
, 
	gW
, 
	gH
, 
	gD
 = 1, 
	gcŞÜmax
 = 255;

52325 
	gCImg
<
	gch¬T
> 
™em
(16384,1,1,1,0);

52326 
	g”r
, 
	grv®
, 
	ggv®
, 
	gbv®
;

52327 cÚ¡ 
lÚgT
 
	gcimg_iobufãr
 = (longT)24*1024*1024;

52328 (
	g”r
=
¡d
::
fsÿnf
(
nfe
,"%16383[^\n]",
™em
.
d©a
()))!=
EOF
 && (*™em=='#' || !
”r
)è¡d::
fg‘c
(nfile);

52329 ià(
cimg_ssÿnf
(
™em
," P%u",&
µm_ty³
)!=1) {

52330 ià(!
fe
è
cimg
::
fşo£
(
nfe
);

52331 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


52333 
cimg_š¡ªû
,

52334 
f’ame
?filename:"(FILE*)");

52336 (
	g”r
=
¡d
::
fsÿnf
(
nfe
," %16383[^\n]",
™em
.
d©a
()))!=
EOF
 && (*™em=='#' || !
”r
)è¡d::
fg‘c
(nfile);

52337 ià((
	g”r
=
cimg_ssÿnf
(
™em
," %u %u %u %u",&
W
,&
H
,&
D
,&
cŞÜmax
))<2) {

52338 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

52339 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


52341 
cimg_š¡ªû
,

52342 
f’ame
?filename:"(FILE*)");

52344 ià(
	gµm_ty³
!=1 && 
µm_ty³
!=4) {

52345 ià(
”r
==2 || (”r==3 && (
µm_ty³
==5 ||…pm_type==7 ||…pm_type==8 ||…pm_type==9))) {

52346 (
”r
=
¡d
::
fsÿnf
(
nfe
," %16383[^\n]",
™em
.
d©a
()))!=
EOF
 && (*™em=='#' || !”r)è¡d::
fg‘c
(nfile);

52347 ià(
cimg_ssÿnf
(
™em
,"%u",&
cŞÜmax
)!=1)

52348 
cimg
::
w¬n
(
_cimg_š¡ªû


52350 
cimg_š¡ªû
,

52351 
f’ame
?filename:"(FILE*)");

52352 } { 
	gcŞÜmax
 = 
D
; 
	gD
 = 1; }

52354 
	g¡d
::
fg‘c
(
nfe
);

52356 
	gµm_ty³
) {

52358 
assign
(
W
,
H
,1,1);

52359 
T
* 
	g±rd
 = 
_d©a
;

52360 
cimg_fÜoff
(*
this
,
off
è{ ià(
	g¡d
::
fsÿnf
(
nfe
,"%d",&
rv®
)>0è*(
	g±rd
++èğ(
T
)(rval?0:255); ; }

52363 
assign
(
W
,
H
,1,1);

52364 
T
* 
	g±rd
 = 
_d©a
;

52365 
cimg_fÜoff
(*
this
,
off
è{ ià(
	g¡d
::
fsÿnf
(
nfe
,"%d",&
rv®
)>0è*(
	g±rd
++èğ(
T
)rval; ; }

52368 
assign
(
W
,
H
,1,3);

52369 
T
 *
	g±rd
 = 
d©a
(0,0,0,0), *
	g±r_g
 = d©a(0,0,0,1), *
	g±r_b
 = data(0,0,0,2);

52370 
cimg_fÜXY
(*
this
,
x
,
y
) {

52371 ià(
	g¡d
::
fsÿnf
(
nfe
,"%d %d %d",&
rv®
,&
gv®
,&
bv®
)==3) {

52372 *(
±rd
++èğ(
T
)
rv®
; *(
	g±r_g
++èğ(T)
gv®
; *(
	g±r_b
++èğ(T)
bv®
;

52377 
CImg
<
uch¬T
> 
¿w
;

52378 
assign
(
W
,
H
,
D
,1);

52379 
T
 *
	g±rd
 = 
d©a
(0,0,0,0);

52380 
	gw
 = 0, 
	gh
 = 0, 
	gd
 = 0;

52381 
lÚgT
 
	gto_»ad
 = (lÚgT)((
W
/8 + (W%8?1:0))*
H
*
D
);o_read>0; ) {

52382 
	g¿w
.
assign
(
¡d
::
mš
(
to_»ad
,
cimg_iobufãr
));

52383 
	gcimg
::
ä—d
(
¿w
.
_d©a
,¿w.
_width
,
nfe
);

52384 
	gto_»ad
-=
¿w
.
_width
;

52385 cÚ¡ *
	g±rs
 = 
¿w
.
_d©a
;

52386 
	gmask
 = 0, 
	gv®
 = 0;

52387 
ulÚgT
 
	goff
 = (ulÚgT)
¿w
.
_width
; ofà|| 
	gmask
; mask>>=1) {

52388 ià(!
mask
è{ ià(
off
--è
v®
 = *(
±rs
++); 
	gmask
 = 128; }

52389 *(
	g±rd
++èğ(
T
)((
v®
&
mask
)?0:255);

52390 ià(++
	gw
==
W
è{ 
w
 = 0; 
	gmask
 = 0; ià(++
	gh
==
H
è{ 
h
 = 0; ià(++
	gd
==
D
) ; }}

52395 ià(
cŞÜmax
<256) {

52396 
CImg
<
uch¬T
> 
¿w
;

52397 
assign
(
W
,
H
,
D
,1);

52398 
T
 *
	g±rd
 = 
d©a
(0,0,0,0);

52399 
lÚgT
 
	gto_»ad
 = (lÚgT)
size
();o_read>0; ) {

52400 
	g¿w
.
assign
(
¡d
::
mš
(
to_»ad
,
cimg_iobufãr
));

52401 
	gcimg
::
ä—d
(
¿w
.
_d©a
,¿w.
_width
,
nfe
);

52402 
	gto_»ad
-=
¿w
.
_width
;

52403 cÚ¡ *
	g±rs
 = 
¿w
.
_d©a
;

52404 
ulÚgT
 
	goff
 = (ulÚgT)
¿w
.
_width
; off; --offè*(
	g±rd
++èğ(
T
)*(
±rs
++);

52407 
	gCImg
<
	gushÜtT
> 
	g¿w
;

52408 
assign
(
W
,
H
,
D
,1);

52409 
T
 *
	g±rd
 = 
d©a
(0,0,0,0);

52410 
lÚgT
 
	gto_»ad
 = (lÚgT)
size
();o_read>0; ) {

52411 
	g¿w
.
assign
(
¡d
::
mš
(
to_»ad
,
cimg_iobufãr
/2));

52412 
	gcimg
::
ä—d
(
¿w
.
_d©a
,¿w.
_width
,
nfe
);

52413 ià(!
	gcimg
::
’dŸÂess
()è
cimg
::
šv”t_’dŸÂess
(
¿w
.
_d©a
,¿w.
_width
);

52414 
	gto_»ad
-=
¿w
.
_width
;

52415 cÚ¡ *
	g±rs
 = 
¿w
.
_d©a
;

52416 
ulÚgT
 
	goff
 = (ulÚgT)
¿w
.
_width
; off; --offè*(
	g±rd
++èğ(
T
)*(
±rs
++);

52421 ià(
cŞÜmax
<256) {

52422 
CImg
<
uch¬T
> 
¿w
;

52423 
assign
(
W
,
H
,1,3);

52424 
T


52425 *
	g±r_r
 = 
d©a
(0,0,0,0),

52426 *
	g±r_g
 = 
d©a
(0,0,0,1),

52427 *
	g±r_b
 = 
d©a
(0,0,0,2);

52428 
lÚgT
 
	gto_»ad
 = (lÚgT)
size
();o_read>0; ) {

52429 
	g¿w
.
assign
(
¡d
::
mš
(
to_»ad
,
cimg_iobufãr
));

52430 
	gcimg
::
ä—d
(
¿w
.
_d©a
,¿w.
_width
,
nfe
);

52431 
	gto_»ad
-=
¿w
.
_width
;

52432 cÚ¡ *
	g±rs
 = 
¿w
.
_d©a
;

52433 
ulÚgT
 
	goff
 = (ulÚgT)
¿w
.
_width
/3; off; --off) {

52434 *(
	g±r_r
++èğ(
T
)*(
±rs
++);

52435 *(
	g±r_g
++èğ(
T
)*(
±rs
++);

52436 *(
	g±r_b
++èğ(
T
)*(
±rs
++);

52440 
	gCImg
<
	gushÜtT
> 
	g¿w
;

52441 
assign
(
W
,
H
,1,3);

52442 
T


52443 *
	g±r_r
 = 
d©a
(0,0,0,0),

52444 *
	g±r_g
 = 
d©a
(0,0,0,1),

52445 *
	g±r_b
 = 
d©a
(0,0,0,2);

52446 
lÚgT
 
	gto_»ad
 = (lÚgT)
size
();o_read>0; ) {

52447 
	g¿w
.
assign
(
¡d
::
mš
(
to_»ad
,
cimg_iobufãr
/2));

52448 
	gcimg
::
ä—d
(
¿w
.
_d©a
,¿w.
_width
,
nfe
);

52449 ià(!
	gcimg
::
’dŸÂess
()è
cimg
::
šv”t_’dŸÂess
(
¿w
.
_d©a
,¿w.
_width
);

52450 
	gto_»ad
-=
¿w
.
_width
;

52451 cÚ¡ *
	g±rs
 = 
¿w
.
_d©a
;

52452 
ulÚgT
 
	goff
 = (ulÚgT)
¿w
.
_width
/3; off; --off) {

52453 *(
	g±r_r
++èğ(
T
)*(
±rs
++);

52454 *(
	g±r_g
++èğ(
T
)*(
±rs
++);

52455 *(
	g±r_b
++èğ(
T
)*(
±rs
++);

52461 
CImg
<
štT
> 
¿w
;

52462 
assign
(
W
,
H
,
D
,1);

52463 
T
 *
	g±rd
 = 
d©a
(0,0,0,0);

52464 
lÚgT
 
	gto_»ad
 = (lÚgT)
size
();o_read>0; ) {

52465 
	g¿w
.
assign
(
¡d
::
mš
(
to_»ad
,
cimg_iobufãr
));

52466 
	gcimg
::
ä—d
(
¿w
.
_d©a
,¿w.
_width
,
nfe
);

52467 
	gto_»ad
-=
¿w
.
_width
;

52468 cÚ¡ *
	g±rs
 = 
¿w
.
_d©a
;

52469 
ulÚgT
 
	goff
 = (ulÚgT)
¿w
.
_width
; off; --offè*(
	g±rd
++èğ(
T
)*(
±rs
++);

52473 
CImg
<
æßtT
> 
¿w
;

52474 
assign
(
W
,
H
,
D
,1);

52475 
T
 *
	g±rd
 = 
d©a
(0,0,0,0);

52476 
lÚgT
 
	gto_»ad
 = (lÚgT)
size
();o_read>0; ) {

52477 
	g¿w
.
assign
(
¡d
::
mš
(
to_»ad
,
cimg_iobufãr
));

52478 
	gcimg
::
ä—d
(
¿w
.
_d©a
,¿w.
_width
,
nfe
);

52479 
	gto_»ad
-=
¿w
.
_width
;

52480 cÚ¡ *
	g±rs
 = 
¿w
.
_d©a
;

52481 
ulÚgT
 
	goff
 = (ulÚgT)
¿w
.
_width
; off; --offè*(
	g±rd
++èğ(
T
)*(
±rs
++);

52485 
assign
();

52486 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

52487 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


52489 
cimg_š¡ªû
,

52490 
f’ame
?f’ame:"(FILE*)",
µm_ty³
);

52492 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

52493  *
	gthis
;

52500 
	gCImg
<
	gT
>& 
lßd_pfm
(cÚ¡ *cÚ¡ 
f’ame
) {

52501  
_lßd_pfm
(0,
f’ame
);

52505 
	gCImg
<
	gT
> 
g‘_lßd_pfm
(cÚ¡ *cÚ¡ 
f’ame
) {

52506  
	gCImg
<
	gT
>().
lßd_pfm
(
f’ame
);

52510 
	gCImg
<
	gT
>& 
lßd_pfm
(
¡d
::
FILE
 *cÚ¡ 
fe
) {

52511  
_lßd_pfm
(
fe
,0);

52515 
	gCImg
<
	gT
> 
g‘_lßd_pfm
(
¡d
::
FILE
 *cÚ¡ 
fe
) {

52516  
CImg
<
T
>().
lßd_pfm
(
fe
);

52519 
	gCImg
<
	gT
>& 
_lßd_pfm
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
) {

52520 ià(!
	gfe
 && !
	gf’ame
)

52521 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


52523 
cimg_š¡ªû
);

52525 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"rb");

52526 
	gpfm_ty³
;

52527 
	gCImg
<
	gch¬T
> 
™em
(16384,1,1,1,0);

52528 
	gW
 = 0, 
	gH
 = 0, 
	g”r
 = 0;

52529 
	gsÿË
 = 0;

52530 (
	g”r
=
¡d
::
fsÿnf
(
nfe
,"%16383[^\n]",
™em
.
d©a
()))!=
EOF
 && (*™em=='#' || !
”r
)è¡d::
fg‘c
(nfile);

52531 ià(
cimg_ssÿnf
(
™em
," P%c",&
pfm_ty³
)!=1) {

52532 ià(!
fe
è
cimg
::
fşo£
(
nfe
);

52533 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


52535 
cimg_š¡ªû
,

52536 
f’ame
?filename:"(FILE*)");

52538 (
	g”r
=
¡d
::
fsÿnf
(
nfe
," %16383[^\n]",
™em
.
d©a
()))!=
EOF
 && (*™em=='#' || !
”r
)è¡d::
fg‘c
(nfile);

52539 ià((
	g”r
=
cimg_ssÿnf
(
™em
," %d %d",&
W
,&
H
))<2) {

52540 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

52541 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


52543 
cimg_š¡ªû
,

52544 
f’ame
?filename:"(FILE*)");

52545 } ià(
	gW
<=0 || 
H
<=0) {

52546 ià(!
fe
è
cimg
::
fşo£
(
nfe
);

52547 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


52549 
cimg_š¡ªû
,
W
,
H
,

52550 
f’ame
?filename:"(FILE*)");

52552 ià(
	g”r
==2) {

52553 (
”r
=
¡d
::
fsÿnf
(
nfe
," %16383[^\n]",
™em
.
d©a
()))!=
EOF
 && (*™em=='#' || !”r)è¡d::
fg‘c
(nfile);

52554 ià(
cimg_ssÿnf
(
™em
,"%lf",&
sÿË
)!=1)

52555 
cimg
::
w¬n
(
_cimg_š¡ªû


52557 
cimg_š¡ªû
,

52558 
f’ame
?filename:"(FILE*)");

52560 
	g¡d
::
fg‘c
(
nfe
);

52561 cÚ¡ 
boŞ
 
	gis_cŞÜ
 = (
pfm_ty³
=='F'), 
	gis_šv”‹d
 = (
sÿË
>0)!=
cimg
::
’dŸÂess
();

52562 ià(
	gis_cŞÜ
) {

52563 
assign
(
W
,
H
,1,3,(
T
)0);

52564 
	gCImg
<
	gæßtT
> 
buf
(3*
W
);

52565 
T
 *
	g±r_r
 = 
d©a
(0,0,0,0), *
	g±r_g
 = d©a(0,0,0,1), *
	g±r_b
 = data(0,0,0,2);

52566 
cimg_fÜY
(*
this
,
y
) {

52567 
	gcimg
::
ä—d
(
buf
.
_d©a
,3*
W
,
nfe
);

52568 ià(
	gis_šv”‹d
è
	gcimg
::
šv”t_’dŸÂess
(
buf
.
_d©a
,3*
W
);

52569 cÚ¡ *
	g±rs
 = 
buf
.
_d©a
;

52570 
cimg_fÜX
(*
this
,
x
) {

52571 *(
	g±r_r
++èğ(
T
)*(
±rs
++);

52572 *(
	g±r_g
++èğ(
T
)*(
±rs
++);

52573 *(
	g±r_b
++èğ(
T
)*(
±rs
++);

52577 
assign
(
W
,
H
,1,1,(
T
)0);

52578 
	gCImg
<
	gæßtT
> 
buf
(
W
);

52579 
T
 *
	g±rd
 = 
d©a
(0,0,0,0);

52580 
cimg_fÜY
(*
this
,
y
) {

52581 
	gcimg
::
ä—d
(
buf
.
_d©a
,
W
,
nfe
);

52582 ià(
	gis_šv”‹d
è
	gcimg
::
šv”t_’dŸÂess
(
buf
.
_d©a
,
W
);

52583 cÚ¡ *
	g±rs
 = 
buf
.
_d©a
;

52584 
cimg_fÜX
(*
this
,
x
è*(
	g±rd
++èğ(
T
)*(
±rs
++);

52587 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

52588  
mœrÜ
('y');

52597 
	gCImg
<
	gT
>& 
lßd_rgb
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
dimw
, cÚ¡ 
dimh
=1) {

52598  
_lßd_rgb
(0,
f’ame
,
dimw
,
dimh
);

52602 
	gCImg
<
	gT
> 
g‘_lßd_rgb
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
dimw
, cÚ¡ 
dimh
=1) {

52603  
CImg
<
T
>().
lßd_rgb
(
f’ame
,
dimw
,
dimh
);

52607 
	gCImg
<
	gT
>& 
lßd_rgb
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ 
dimw
, cÚ¡ 
dimh
=1) {

52608  
_lßd_rgb
(
fe
,0,
dimw
,
dimh
);

52612 
	gCImg
<
	gT
> 
g‘_lßd_rgb
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ 
dimw
, cÚ¡ 
dimh
=1) {

52613  
CImg
<
T
>().
lßd_rgb
(
fe
,
dimw
,
dimh
);

52616 
	gCImg
<
	gT
>& 
_lßd_rgb
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
,

52617 cÚ¡ 
dimw
, cÚ¡ 
dimh
) {

52618 ià(!
	gfe
 && !
	gf’ame
)

52619 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


52621 
cimg_š¡ªû
);

52623 ià(!
	gdimw
 || !
	gdimh
è 
assign
();

52624 cÚ¡ 
lÚgT
 
	gcimg_iobufãr
 = (longT)24*1024*1024;

52625 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"rb");

52626 
	gCImg
<
	guch¬T
> 
	g¿w
;

52627 
assign
(
dimw
,
dimh
,1,3);

52628 
T


52629 *
	g±r_r
 = 
d©a
(0,0,0,0),

52630 *
	g±r_g
 = 
d©a
(0,0,0,1),

52631 *
	g±r_b
 = 
d©a
(0,0,0,2);

52632 
lÚgT
 
	gto_»ad
 = (lÚgT)
size
();o_read>0; ) {

52633 
	g¿w
.
assign
(
¡d
::
mš
(
to_»ad
,
cimg_iobufãr
));

52634 
	gcimg
::
ä—d
(
¿w
.
_d©a
,¿w.
_width
,
nfe
);

52635 
	gto_»ad
-=
¿w
.
_width
;

52636 cÚ¡ *
	g±rs
 = 
¿w
.
_d©a
;

52637 
ulÚgT
 
	goff
 = 
¿w
.
_width
/3UL; off; --off) {

52638 *(
	g±r_r
++èğ(
T
)*(
±rs
++);

52639 *(
	g±r_g
++èğ(
T
)*(
±rs
++);

52640 *(
	g±r_b
++èğ(
T
)*(
±rs
++);

52643 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

52644  *
	gthis
;

52653 
	gCImg
<
	gT
>& 
lßd_rgba
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
dimw
, cÚ¡ 
dimh
=1) {

52654  
_lßd_rgba
(0,
f’ame
,
dimw
,
dimh
);

52658 
	gCImg
<
	gT
> 
g‘_lßd_rgba
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
dimw
, cÚ¡ 
dimh
=1) {

52659  
CImg
<
T
>().
lßd_rgba
(
f’ame
,
dimw
,
dimh
);

52663 
	gCImg
<
	gT
>& 
lßd_rgba
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ 
dimw
, cÚ¡ 
dimh
=1) {

52664  
_lßd_rgba
(
fe
,0,
dimw
,
dimh
);

52668 
	gCImg
<
	gT
> 
g‘_lßd_rgba
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ 
dimw
, cÚ¡ 
dimh
=1) {

52669  
CImg
<
T
>().
lßd_rgba
(
fe
,
dimw
,
dimh
);

52672 
	gCImg
<
	gT
>& 
_lßd_rgba
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
,

52673 cÚ¡ 
dimw
, cÚ¡ 
dimh
) {

52674 ià(!
	gfe
 && !
	gf’ame
)

52675 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


52677 
cimg_š¡ªû
);

52679 ià(!
	gdimw
 || !
	gdimh
è 
assign
();

52680 cÚ¡ 
lÚgT
 
	gcimg_iobufãr
 = (longT)24*1024*1024;

52681 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"rb");

52682 
	gCImg
<
	guch¬T
> 
	g¿w
;

52683 
assign
(
dimw
,
dimh
,1,4);

52684 
T


52685 *
	g±r_r
 = 
d©a
(0,0,0,0),

52686 *
	g±r_g
 = 
d©a
(0,0,0,1),

52687 *
	g±r_b
 = 
d©a
(0,0,0,2),

52688 *
	g±r_a
 = 
d©a
(0,0,0,3);

52689 
lÚgT
 
	gto_»ad
 = (lÚgT)
size
();o_read>0; ) {

52690 
	g¿w
.
assign
(
¡d
::
mš
(
to_»ad
,
cimg_iobufãr
));

52691 
	gcimg
::
ä—d
(
¿w
.
_d©a
,¿w.
_width
,
nfe
);

52692 
	gto_»ad
-=
¿w
.
_width
;

52693 cÚ¡ *
	g±rs
 = 
¿w
.
_d©a
;

52694 
ulÚgT
 
	goff
 = 
¿w
.
_width
/4UL; off; --off) {

52695 *(
	g±r_r
++èğ(
T
)*(
±rs
++);

52696 *(
	g±r_g
++èğ(
T
)*(
±rs
++);

52697 *(
	g±r_b
++èğ(
T
)*(
±rs
++);

52698 *(
	g±r_a
++èğ(
T
)*(
±rs
++);

52701 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

52702  *
	gthis
;

52722 
	gCImg
<
	gT
>& 
lßd_tiff
(cÚ¡ *cÚ¡ 
f’ame
,

52723 cÚ¡ 
fœ¡_äame
=0, cÚ¡ 
Ï¡_äame
=~0U,

52724 cÚ¡ 
¡•_äame
=1,

52725 *cÚ¡ 
vox–_size
=0,

52726 
CImg
<
ch¬T
> *cÚ¡ 
desütiÚ
=0) {

52727 ià(!
f’ame
)

52728 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


52730 
cimg_š¡ªû
);

52733 
	gnfœ¡_äame
 = 
fœ¡_äame
<
Ï¡_äame
?first_frame:last_frame,

52734 
	gn¡•_äame
 = 
¡•_äame
?step_frame:1;

52735 
	gÆa¡_äame
 = 
fœ¡_äame
<
Ï¡_äame
?last_frame:first_frame;

52737 #iâdeà
cimg_u£_tiff


52738 
	gcimg
::
unu£d
(
vox–_size
,
desütiÚ
);

52739 ià(
	gnfœ¡_äame
 || 
	gÆa¡_äame
!=~0U || 
n¡•_äame
>1)

52740 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


52742 
cimg_š¡ªû
,

52743 
f’ame
);

52744  
lßd_Ùh”
(
f’ame
);

52746 #ià
cimg_v”bos™y
<3

52747 
TIFFS‘W¬nšgHªdËr
(0);

52748 
TIFFS‘E¼ÜHªdËr
(0);

52750 
TIFF
 *
	gtif
 = 
TIFFO³n
(
f’ame
,"r");

52751 ià(
	gtif
) {

52752 
	gnb_images
 = 0;

52753 dØ++
	gnb_images
; 
TIFFR—dDœeùÜy
(
tif
));

52754 ià(
	gnfœ¡_äame
>=
nb_images
 || (
Æa¡_äame
!=~0U &&‚last_frame>=nb_images))

52755 
cimg
::
w¬n
(
_cimg_š¡ªû


52757 
cimg_š¡ªû
,

52758 
f’ame
,
nb_images
,
nfœ¡_äame
,
Æa¡_äame
,
n¡•_äame
);

52760 ià(
	gnfœ¡_äame
>=
nb_images
è 
assign
();

52761 ià(
	gÆa¡_äame
>=
nb_images
è
Æa¡_äame
 =‚b_images - 1;

52762 
TIFFS‘DœeùÜy
(
tif
,0);

52763 
	gCImg
<
	gT
> 
	gäame
;

52764 
	gl
 = 
nfœ¡_äame
;†<=
Æa¡_äame
;†+=
n¡•_äame
) {

52765 
äame
.
_lßd_tiff
(
tif
,
l
,
vox–_size
,
desütiÚ
);

52766 ià(
	gl
==
nfœ¡_äame
)

52767 
assign
(
äame
.
_width
,äame.
_height
,1 + (
Æa¡_äame
 - 
nfœ¡_äame
)/
n¡•_äame
,äame.
_¥eùrum
);

52768 ià(
	gäame
.
	g_width
>_width || f¿me.
	g_height
>_heighˆ|| f¿me.
	g_¥eùrum
>_spectrum)

52769 
»size
(
¡d
::
max
(
äame
.
_width
,_width),

52770 
¡d
::
max
(
äame
.
_height
,_height),-100,

52771 
¡d
::
max
(
äame
.
_¥eùrum
,_spectrum),0);

52772 
d¿w_image
(0,0,(
l
 - 
nfœ¡_äame
)/
n¡•_äame
,
äame
);

52774 
TIFFClo£
(
tif
);

52775 } 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


52777 
cimg_š¡ªû
,

52778 
f’ame
);

52779  *
	gthis
;

52784 
	gCImg
<
	gT
> 
g‘_lßd_tiff
(cÚ¡ *cÚ¡ 
f’ame
,

52785 cÚ¡ 
fœ¡_äame
=0, cÚ¡ 
Ï¡_äame
=~0U,

52786 cÚ¡ 
¡•_äame
=1,

52787 *cÚ¡ 
vox–_size
=0,

52788 
CImg
<
ch¬T
> *cÚ¡ 
desütiÚ
=0) {

52789  
CImg
<
T
>().
lßd_tiff
(
f’ame
,
fœ¡_äame
,
Ï¡_äame
,
¡•_äame
,
vox–_size
,
desütiÚ
);

52793 #ifdeà
cimg_u£_tiff


52794 
	g‹m¶©e
<
ty³Çme
 
	gt
>

52795 
_lßd_tiff_ted_cÚtig
(
TIFF
 *cÚ¡ 
tif
, cÚ¡ 
ušt16
 
§m¶e¥”pix–
,

52796 cÚ¡ 
ušt32
 
nx
, cÚ¡ ušt32 
ny
, cÚ¡ ušt32 
tw
, cÚ¡ ušt32 
th
) {

52797 
t
 *cÚ¡ 
	gbuf
 = (t*)
_TIFFm®loc
(
TIFFTeSize
(
tif
));

52798 ià(
	gbuf
) {

52799 
	grow
 = 0;„ow<
	gny
;„ow+=
th
)

52800 
cŞ
 = 0; 
	gcŞ
<
	gnx
; cŞ+=
tw
) {

52801 ià(
TIFFR—dTe
(
tif
,
buf
,
cŞ
,
row
,0,0)<0) {

52802 
_TIFFä“
(
buf
); 
TIFFClo£
(
tif
);

52803 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


52805 
cimg_š¡ªû
,

52806 
TIFFFeName
(
tif
));

52808 cÚ¡ 
t
 *
	g±r
 = 
buf
;

52809 
	g¼
 = 
row
;„r<
	g¡d
::
mš
(()Ôow + 
th
),()
ny
); ++rr)

52810 
	gcc
 = 
cŞ
; cc<
	g¡d
::
mš
(()(cŞ + 
tw
),()
nx
); ++cc)

52811 
	gvv
 = 0; vv<
	g§m¶e¥”pix–
; ++vv)

52812 (*
	gthis
)(
	gcc
,
	g¼
,
	gvv
èğ(
T
)(
±r
[(
¼
 - 
row
)*
th
*
§m¶e¥”pix–
 + (
cc
 - 
cŞ
)*§m¶e¥”pix– + 
vv
]);

52814 
_TIFFä“
(
buf
);

52818 
	g‹m¶©e
<
ty³Çme
 
	gt
>

52819 
_lßd_tiff_ted_£·¿‹
(
TIFF
 *cÚ¡ 
tif
, cÚ¡ 
ušt16
 
§m¶e¥”pix–
,

52820 cÚ¡ 
ušt32
 
nx
, cÚ¡ ušt32 
ny
, cÚ¡ ušt32 
tw
, cÚ¡ ušt32 
th
) {

52821 
t
 *cÚ¡ 
	gbuf
 = (t*)
_TIFFm®loc
(
TIFFTeSize
(
tif
));

52822 ià(
	gbuf
) {

52823 
	gvv
 = 0; vv<
	g§m¶e¥”pix–
; ++vv)

52824 
	grow
 = 0;„ow<
	gny
;„ow+=
th
)

52825 
cŞ
 = 0; 
	gcŞ
<
	gnx
; cŞ+=
tw
) {

52826 ià(
TIFFR—dTe
(
tif
,
buf
,
cŞ
,
row
,0,
vv
)<0) {

52827 
_TIFFä“
(
buf
); 
TIFFClo£
(
tif
);

52828 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


52830 
cimg_š¡ªû
,

52831 
TIFFFeName
(
tif
));

52833 cÚ¡ 
t
 *
	g±r
 = 
buf
;

52834 
	g¼
 = 
row
;„r<
	g¡d
::
mš
(()Ôow + 
th
),()
ny
); ++rr)

52835 
	gcc
 = 
cŞ
; cc<
	g¡d
::
mš
(()(cŞ + 
tw
),()
nx
); ++cc)

52836 (*
	gthis
)(
	gcc
,
	g¼
,
	gvv
èğ(
T
)*(
±r
++);

52838 
_TIFFä“
(
buf
);

52842 
	g‹m¶©e
<
ty³Çme
 
	gt
>

52843 
_lßd_tiff_cÚtig
(
TIFF
 *cÚ¡ 
tif
, cÚ¡ 
ušt16
 
§m¶e¥”pix–
, cÚ¡ 
ušt32
 
nx
, cÚ¡ ušt32 
ny
) {

52844 
t
 *cÚ¡ 
	gbuf
 = (t*)
_TIFFm®loc
(
TIFFSŒSize
(
tif
));

52845 ià(
	gbuf
) {

52846 
ušt32
 
	grow
, 
	grow¥”¡r
 = (uint32)-1;

52847 
TIFFG‘F›ld
(
tif
,
TIFFTAG_ROWSPERSTRIP
,&
row¥”¡r
);

52848 
	grow
 = 0;„ow<
	gny
;„ow+ğ
row¥”¡r
) {

52849 
ušt32
 
Äow
 = (
row
 + 
row¥”¡r
>
ny
?ny -„ow:rowsperstrip);

52850 
t¡r_t
 
	g¡r
 = 
TIFFCompu‹SŒ
(
tif
, 
row
, 0);

52851 ià((
TIFFR—dEncodedSŒ
(
tif
,
¡r
,
buf
,-1))<0) {

52852 
_TIFFä“
(
buf
); 
TIFFClo£
(
tif
);

52853 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


52855 
cimg_š¡ªû
,

52856 
TIFFFeName
(
tif
));

52858 cÚ¡ 
t
 *
	g±r
 = 
buf
;

52859 
	g¼
 = 0;„r<
	gÄow
; ++rr)

52860 
	gcc
 = 0; cc<
	gnx
; ++cc)

52861 
	gvv
 = 0; vv<
	g§m¶e¥”pix–
; ++vvè(*
	gthis
)(
	gcc
,
	grow
 + 
	g¼
,vvèğ(
T
)*(
±r
++);

52863 
_TIFFä“
(
buf
);

52867 
	g‹m¶©e
<
ty³Çme
 
	gt
>

52868 
_lßd_tiff_£·¿‹
(
TIFF
 *cÚ¡ 
tif
, cÚ¡ 
ušt16
 
§m¶e¥”pix–
, cÚ¡ 
ušt32
 
nx
, cÚ¡ ušt32 
ny
) {

52869 
t
 *
	gbuf
 = (t*)
_TIFFm®loc
(
TIFFSŒSize
(
tif
));

52870 ià(
	gbuf
) {

52871 
ušt32
 
	grow
, 
	grow¥”¡r
 = (uint32)-1;

52872 
TIFFG‘F›ld
(
tif
,
TIFFTAG_ROWSPERSTRIP
,&
row¥”¡r
);

52873 
	gvv
 = 0; vv<
	g§m¶e¥”pix–
; ++vv)

52874 
	grow
 = 0;„ow<
	gny
;„ow+ğ
row¥”¡r
) {

52875 
ušt32
 
Äow
 = (
row
 + 
row¥”¡r
>
ny
?ny -„ow:rowsperstrip);

52876 
t¡r_t
 
	g¡r
 = 
TIFFCompu‹SŒ
(
tif
, 
row
, 
vv
);

52877 ià((
TIFFR—dEncodedSŒ
(
tif
,
¡r
,
buf
,-1))<0) {

52878 
_TIFFä“
(
buf
); 
TIFFClo£
(
tif
);

52879 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


52881 
cimg_š¡ªû
,

52882 
TIFFFeName
(
tif
));

52884 cÚ¡ 
t
 *
	g±r
 = 
buf
;

52885 
	g¼
 = 0;¼<
	gÄow
; ++rr)

52886 
	gcc
 = 0; cc<
	gnx
; ++cc)

52887 (*
	gthis
)(
	gcc
,
	grow
 + 
	g¼
,
	gvv
èğ(
T
)*(
±r
++);

52889 
_TIFFä“
(
buf
);

52893 
	gCImg
<
	gT
>& 
_lßd_tiff
(
TIFF
 *cÚ¡ 
tif
, cÚ¡ 
dœeùÜy
,

52894 *cÚ¡ 
vox–_size
, 
CImg
<
ch¬T
> *cÚ¡ 
desütiÚ
) {

52895 ià(!
TIFFS‘DœeùÜy
(
tif
,
dœeùÜy
)è 
assign
();

52896 
ušt16
 
	g§m¶e¥”pix–
 = 1, 
	gb™¥”§m¶e
 = 8, 
	gphÙo
 = 0;

52897 
ušt16
 
	g§m¶efÜm©
 = 1;

52898 
ušt32
 
	gnx
 = 1, 
	gny
 = 1;

52899 cÚ¡ *cÚ¡ 
	gf’ame
 = 
TIFFFeName
(
tif
);

52900 cÚ¡ 
boŞ
 
	gis_¥p
 = (boŞ)
TIFFG‘F›ld
(
tif
,
TIFFTAG_SAMPLESPERPIXEL
,&
§m¶e¥”pix–
);

52901 
TIFFG‘F›ld
(
tif
,
TIFFTAG_IMAGEWIDTH
,&
nx
);

52902 
TIFFG‘F›ld
(
tif
,
TIFFTAG_IMAGELENGTH
,&
ny
);

52903 
TIFFG‘F›ld
(
tif
, 
TIFFTAG_SAMPLEFORMAT
, &
§m¶efÜm©
);

52904 
TIFFG‘F›ldDeçuÉed
(
tif
,
TIFFTAG_BITSPERSAMPLE
,&
b™¥”§m¶e
);

52905 
TIFFG‘F›ld
(
tif
,
TIFFTAG_PHOTOMETRIC
,&
phÙo
);

52906 ià(
	gvox–_size
) {

52907 cÚ¡ *
	gs_desütiÚ
 = 0;

52908 
	gvx
 = 0, 
	gvy
 = 0, 
	gvz
 = 0;

52909 ià(
TIFFG‘F›ld
(
tif
,
TIFFTAG_IMAGEDESCRIPTION
,&
s_desütiÚ
è&& 
	gs_desütiÚ
) {

52910 cÚ¡ *
	gs_desc
 = 
¡d
::
¡r¡r
(
s_desütiÚ
,"VX=");

52911 ià(
	gs_desc
 && 
cimg_ssÿnf
(
s_desc
,"VX=%àVY=%àVZ=%f",&
vx
,&
vy
,&
vz
)==3) {

52912 
vox–_size
[0] = 
vx
; 
	gvox–_size
[1] = 
vy
; vox–_size[2] = 
vz
;

52914 
	gs_desc
 = 
¡d
::
¡r¡r
(
s_desütiÚ
,"spacing=");

52915 ià(
	gs_desc
 && 
cimg_ssÿnf
(
s_desc
,"¥acšg=%f",&
vz
)==1) {

52916 
vox–_size
[2] = 
vz
;

52919 
TIFFG‘F›ld
(
tif
,
TIFFTAG_XRESOLUTION
,
vox–_size
);

52920 
TIFFG‘F›ld
(
tif
,
TIFFTAG_YRESOLUTION
,
vox–_size
 + 1);

52921 
	gvox–_size
[0] = 1.f/
vox–_size
[0];

52922 
	gvox–_size
[1] = 1.f/
vox–_size
[1];

52924 ià(
	gdesütiÚ
) {

52925 cÚ¡ *
	gs_desütiÚ
 = 0;

52926 ià(
TIFFG‘F›ld
(
tif
,
TIFFTAG_IMAGEDESCRIPTION
,&
s_desütiÚ
è&& 
	gs_desütiÚ
)

52927 
	gCImg
<
	gch¬T
>::
¡ršg
(
s_desütiÚ
).
move_to
(*
desütiÚ
);

52929 cÚ¡ 
	g¥eùrum
 = !
is_¥p
 || 
phÙo
>=3?ÕhÙo>1?3:1):
§m¶e¥”pix–
;

52930 
assign
(
nx
,
ny
,1,
¥eùrum
);

52932 ià((
	gphÙo
>=3 && 
§m¶efÜm©
==1 &&

52933 (
b™¥”§m¶e
==4 || bitspersample==8) &&

52934 (
§m¶e¥”pix–
==1 || samplesperpixel==3 || samplesperpixel==4)) ||

52935 (
b™¥”§m¶e
==1 && 
§m¶e¥”pix–
==1)) {

52937 
ušt32
 *cÚ¡ 
¿¡”
 = (ušt32*)
_TIFFm®loc
(
nx
*
ny
*(uint32));

52938 ià(!
	g¿¡”
) {

52939 
_TIFFä“
(
¿¡”
); 
TIFFClo£
(
tif
);

52940 
throw
 
CImgExû±iÚ
(
_cimg_š¡ªû


52942 
cimg_š¡ªû
,

52943 
cimg
::
¡rbufãrsize
(
nx
*
ny
*(
ušt32
)),
f’ame
);

52945 
TIFFR—dRGBAImage
(
tif
,
nx
,
ny
,
¿¡”
,0);

52946 
	g¥eùrum
) {

52948 
cimg_fÜXY
(*
this
,
x
,
y
)

52949 (*
	gthis
)(
	gx
,
	gy
,0èğ(
T
)()
TIFFG‘R
(
¿¡”
[
nx
*(
ny
 - 1 -
y
è+ 
x
]);

52952 
cimg_fÜXY
(*
this
,
x
,
y
) {

52953 (*
	gthis
)(
	gx
,
	gy
,0èğ(
T
)()
TIFFG‘R
(
¿¡”
[
nx
*(
ny
 - 1 -
y
è+ 
x
]);

52954 (*
	gthis
)(
	gx
,
	gy
,1èğ(
T
)()
TIFFG‘G
(
¿¡”
[
nx
*(
ny
 - 1 -
y
è+ 
x
]);

52955 (*
	gthis
)(
	gx
,
	gy
,2èğ(
T
)()
TIFFG‘B
(
¿¡”
[
nx
*(
ny
 - 1 -
y
è+ 
x
]);

52959 
cimg_fÜXY
(*
this
,
x
,
y
) {

52960 (*
	gthis
)(
	gx
,
	gy
,0èğ(
T
)()
TIFFG‘R
(
¿¡”
[
nx
*(
ny
 - 1 - 
y
è+ 
x
]);

52961 (*
	gthis
)(
	gx
,
	gy
,1èğ(
T
)()
TIFFG‘G
(
¿¡”
[
nx
*(
ny
 - 1 - 
y
è+ 
x
]);

52962 (*
	gthis
)(
	gx
,
	gy
,2èğ(
T
)()
TIFFG‘B
(
¿¡”
[
nx
*(
ny
 - 1 - 
y
è+ 
x
]);

52963 (*
	gthis
)(
	gx
,
	gy
,3èğ(
T
)()
TIFFG‘A
(
¿¡”
[
nx
*(
ny
 - 1 - 
y
è+ 
x
]);

52967 
_TIFFä“
(
¿¡”
);

52969 
ušt16
 
	gcÚfig
;

52970 
TIFFG‘F›ld
(
tif
,
TIFFTAG_PLANARCONFIG
,&
cÚfig
);

52971 ià(
TIFFIsTed
(
tif
)) {

52972 
ušt32
 
	gtw
 = 1, 
	gth
 = 1;

52973 
TIFFG‘F›ld
(
tif
,
TIFFTAG_TILEWIDTH
,&
tw
);

52974 
TIFFG‘F›ld
(
tif
,
TIFFTAG_TILELENGTH
,&
th
);

52975 ià(
	gcÚfig
==
PLANARCONFIG_CONTIG
è
b™¥”§m¶e
) {

52977 ià(
§m¶efÜm©
==
SAMPLEFORMAT_UINT
)

52978 
_lßd_tiff_ted_cÚtig
<>(
tif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
,
	gtw
,
	gth
);

52979 
	g_lßd_tiff_ted_cÚtig
<sigÃd >(
	gtif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
,
	gtw
,
	gth
);

52982 ià(
§m¶efÜm©
==
SAMPLEFORMAT_UINT
)

52983 
_lßd_tiff_ted_cÚtig
<>(
tif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
,
	gtw
,
	gth
);

52984 
	g_lßd_tiff_ted_cÚtig
<>(
	gtif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
,
	gtw
,
	gth
);

52987 ià(
§m¶efÜm©
==
SAMPLEFORMAT_UINT
)

52988 
_lßd_tiff_ted_cÚtig
<>(
tif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
,
	gtw
,
	gth
);

52989 ià(
	g§m¶efÜm©
==
SAMPLEFORMAT_INT
)

52990 
_lßd_tiff_ted_cÚtig
<>(
tif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
,
	gtw
,
	gth
);

52991 
	g_lßd_tiff_ted_cÚtig
<>(
	gtif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
,
	gtw
,
	gth
);

52994 ià(
§m¶efÜm©
==
SAMPLEFORMAT_UINT
)

52995 
_lßd_tiff_ted_cÚtig
<
ušt64T
>(
tif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
,
	gtw
,
	gth
);

52996 ià(
	g§m¶efÜm©
==
SAMPLEFORMAT_INT
)

52997 
_lßd_tiff_ted_cÚtig
<
št64T
>(
tif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
,
	gtw
,
	gth
);

52998 
	g_lßd_tiff_ted_cÚtig
<>(
	gtif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
,
	gtw
,
	gth
);

53000 } 
	gb™¥”§m¶e
) {

53002 ià(
§m¶efÜm©
==
SAMPLEFORMAT_UINT
)

53003 
_lßd_tiff_ted_£·¿‹
<>(
tif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
,
	gtw
,
	gth
);

53004 
	g_lßd_tiff_ted_£·¿‹
<sigÃd >(
	gtif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
,
	gtw
,
	gth
);

53007 ià(
§m¶efÜm©
==
SAMPLEFORMAT_UINT
)

53008 
_lßd_tiff_ted_£·¿‹
<>(
tif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
,
	gtw
,
	gth
);

53009 
	g_lßd_tiff_ted_£·¿‹
<>(
	gtif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
,
	gtw
,
	gth
);

53012 ià(
§m¶efÜm©
==
SAMPLEFORMAT_UINT
)

53013 
_lßd_tiff_ted_£·¿‹
<>(
tif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
,
	gtw
,
	gth
);

53014 ià(
	g§m¶efÜm©
==
SAMPLEFORMAT_INT
)

53015 
_lßd_tiff_ted_£·¿‹
<>(
tif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
,
	gtw
,
	gth
);

53016 
	g_lßd_tiff_ted_£·¿‹
<>(
	gtif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
,
	gtw
,
	gth
);

53019 ià(
§m¶efÜm©
==
SAMPLEFORMAT_UINT
)

53020 
_lßd_tiff_ted_£·¿‹
<
ušt64T
>(
tif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
,
	gtw
,
	gth
);

53021 ià(
	g§m¶efÜm©
==
SAMPLEFORMAT_INT
)

53022 
_lßd_tiff_ted_£·¿‹
<
št64T
>(
tif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
,
	gtw
,
	gth
);

53023 
	g_lßd_tiff_ted_£·¿‹
<>(
	gtif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
,
	gtw
,
	gth
);

53027 ià(
	gcÚfig
==
PLANARCONFIG_CONTIG
è
b™¥”§m¶e
) {

53029 ià(
§m¶efÜm©
==
SAMPLEFORMAT_UINT
)

53030 
_lßd_tiff_cÚtig
<>(
tif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
);

53031 
	g_lßd_tiff_cÚtig
<sigÃd >(
	gtif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
);

53034 ià(
§m¶efÜm©
==
SAMPLEFORMAT_UINT
è
_lßd_tiff_cÚtig
<>(
tif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
);

53035 
	g_lßd_tiff_cÚtig
<>(
	gtif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
);

53038 ià(
§m¶efÜm©
==
SAMPLEFORMAT_UINT
è
_lßd_tiff_cÚtig
<>(
tif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
);

53039 ià(
	g§m¶efÜm©
==
SAMPLEFORMAT_INT
è
_lßd_tiff_cÚtig
<>(
tif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
);

53040 
	g_lßd_tiff_cÚtig
<>(
	gtif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
);

53043 ià(
§m¶efÜm©
==
SAMPLEFORMAT_UINT
è
_lßd_tiff_cÚtig
<
ušt64T
>(
tif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
);

53044 ià(
	g§m¶efÜm©
==
SAMPLEFORMAT_INT
è
_lßd_tiff_cÚtig
<
št64T
>(
tif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
);

53045 
	g_lßd_tiff_cÚtig
<>(
	gtif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
);

53047 } 
	gb™¥”§m¶e
) {

53049 ià(
§m¶efÜm©
==
SAMPLEFORMAT_UINT
è
_lßd_tiff_£·¿‹
<>(
tif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
);

53050 
	g_lßd_tiff_£·¿‹
<sigÃd >(
	gtif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
);

53053 ià(
§m¶efÜm©
==
SAMPLEFORMAT_UINT
è
_lßd_tiff_£·¿‹
<>(
tif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
);

53054 
	g_lßd_tiff_£·¿‹
<>(
	gtif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
);

53057 ià(
§m¶efÜm©
==
SAMPLEFORMAT_UINT
è
_lßd_tiff_£·¿‹
<>(
tif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
);

53058 ià(
	g§m¶efÜm©
==
SAMPLEFORMAT_INT
è
_lßd_tiff_£·¿‹
<>(
tif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
);

53059 
	g_lßd_tiff_£·¿‹
<>(
	gtif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
);

53062 ià(
§m¶efÜm©
==
SAMPLEFORMAT_UINT
è
_lßd_tiff_£·¿‹
<
ušt64T
>(
tif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
);

53063 ià(
	g§m¶efÜm©
==
SAMPLEFORMAT_INT
è
_lßd_tiff_£·¿‹
<
št64T
>(
tif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
);

53064 
	g_lßd_tiff_£·¿‹
<>(
	gtif
,
	g§m¶e¥”pix–
,
	gnx
,
	gny
);

53069  *
	gthis
;

53078 
	gCImg
<
	gT
>& 
lßd_mšc2
(cÚ¡ *cÚ¡ 
f’ame
) {

53079 ià(!
	gf’ame
)

53080 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


53082 
cimg_š¡ªû
);

53083 #iâdeà
cimg_u£_mšc2


53084  
lßd_Ùh”
(
f’ame
);

53086 
	gmšc
::
mšc_1_»ad”
 
rdr
;

53087 
	grdr
.
İ’
(
f’ame
);

53088 
assign
(
rdr
.
ndim
(1)?rdr.ndim(1):1,

53089 
rdr
.
ndim
(2)?rdr.ndim(2):1,

53090 
rdr
.
ndim
(3)?rdr.ndim(3):1,

53091 
rdr
.
ndim
(4)?rdr.ndim(4):1);

53092 ià(
	gcimg
::
ty³
<
T
>::
¡ršg
()==
cimg
::type<>::string())

53093 
rdr
.
£tup_»ad_by‹
();

53094 ià(
	gcimg
::
ty³
<
T
>::
¡ršg
()==
cimg
::type<>::string())

53095 
rdr
.
£tup_»ad_št
();

53096 ià(
	gcimg
::
ty³
<
T
>::
¡ršg
()==
cimg
::type<>::string())

53097 
rdr
.
£tup_»ad_doubË
();

53099 
	grdr
.
£tup_»ad_æßt
();

53100 
	gmšc
::
lßd_¡ªd¬d_vŞume
(
rdr
,
this
->
_d©a
);

53101  *
	gthis
;

53106 
	gCImg
<
	gT
> 
g‘_lßd_mšc2
(cÚ¡ *cÚ¡ 
f’ame
) {

53107  
	gCImg
<
	gT
>().
lßd_ª®yze
(
f’ame
);

53115 
	gCImg
<
	gT
>& 
lßd_ª®yze
(cÚ¡ *cÚ¡ 
f’ame
, *cÚ¡ 
vox–_size
=0) {

53116  
_lßd_ª®yze
(0,
f’ame
,
vox–_size
);

53120 
	gCImg
<
	gT
> 
g‘_lßd_ª®yze
(cÚ¡ *cÚ¡ 
f’ame
, *cÚ¡ 
vox–_size
=0) {

53121  
CImg
<
T
>().
lßd_ª®yze
(
f’ame
,
vox–_size
);

53125 
	gCImg
<
	gT
>& 
lßd_ª®yze
(
¡d
::
FILE
 *cÚ¡ 
fe
, *cÚ¡ 
vox–_size
=0) {

53126  
_lßd_ª®yze
(
fe
,0,
vox–_size
);

53130 
	gCImg
<
	gT
> 
g‘_lßd_ª®yze
(
¡d
::
FILE
 *cÚ¡ 
fe
, *cÚ¡ 
vox–_size
=0) {

53131  
CImg
<
T
>().
lßd_ª®yze
(
fe
,
vox–_size
);

53134 
	gCImg
<
	gT
>& 
_lßd_ª®yze
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
, *cÚ¡ 
vox–_size
=0) {

53135 ià(!
fe
 && !
f’ame
)

53136 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


53138 
cimg_š¡ªû
);

53140 
	g¡d
::
FILE
 *
nfe_h—d”
 = 0, *
	gnfe
 = 0;

53141 ià(!
	gfe
) {

53142 
	gCImg
<
	gch¬T
> 
body
(1024);

53143 cÚ¡ *cÚ¡ 
	gext
 = 
cimg
::
¥l™_f’ame
(
f’ame
,
body
);

53144 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"hdr")) {

53145 
	gnfe_h—d”
 = 
cimg
::
fİ’
(
f’ame
,"rb");

53146 
cimg_¥rštf
(
body
.
_d©a
 + 
¡d
::
¡¾’
(body),".img");

53147 
	gnfe
 = 
cimg
::
fİ’
(
body
,"rb");

53148 } ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"img")) {

53149 
	gnfe
 = 
cimg
::
fİ’
(
f’ame
,"rb");

53150 
cimg_¥rštf
(
body
.
_d©a
 + 
¡d
::
¡¾’
(body),".hdr");

53151 
	gnfe_h—d”
 = 
cimg
::
fİ’
(
body
,"rb");

53152 } 
	gnfe_h—d”
 = 
nfe
 = 
cimg
::
fİ’
(
f’ame
,"rb");

53153 } 
	gnfe_h—d”
 = 
nfe
 = 
fe
;

53154 ià(!
	gnfe
 || !
	gnfe_h—d”
)

53155 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


53157 
cimg_š¡ªû
,

53158 
f’ame
?filename:"(FILE*)");

53161 
boŞ
 
	g’dŸn
 = 
çl£
;

53162 
	gh—d”_size
;

53163 
	gcimg
::
ä—d
(&
h—d”_size
,1,
nfe_h—d”
);

53164 ià(!
	gh—d”_size
)

53165 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


53167 
cimg_š¡ªû
,

53168 
f’ame
?filename:"(FILE*)");

53169 ià(
	gh—d”_size
>=4096è{ 
’dŸn
 = 
Œue
; 
	gcimg
::
šv”t_’dŸÂess
(
h—d”_size
); }

53171 *cÚ¡ 
	gh—d”
 = 
Ãw
 [
h—d”_size
];

53172 
	gcimg
::
ä—d
(
h—d”
 + 4,
h—d”_size
 - 4,
nfe_h—d”
);

53173 ià(!
	gfe
 && 
	gnfe_h—d”
!=
nfe
è
cimg
::
fşo£
(
nfe_h—d”
);

53174 ià(
	g’dŸn
) {

53175 
	gcimg
::
šv”t_’dŸÂess
((*)(
h—d”
 + 40),5);

53176 
	gcimg
::
šv”t_’dŸÂess
((*)(
h—d”
 + 70),1);

53177 
	gcimg
::
šv”t_’dŸÂess
((*)(
h—d”
 + 72),1);

53178 
	gcimg
::
šv”t_’dŸÂess
((*)(
h—d”
 + 76),4);

53179 
	gcimg
::
šv”t_’dŸÂess
((*)(
h—d”
 + 108),1);

53180 
	gcimg
::
šv”t_’dŸÂess
((*)(
h—d”
 + 112),1);

53183 ià(
	gnfe_h—d”
==
nfe
) {

53184 cÚ¡ 
vox_off£t
 = ()*(*)(
h—d”
 + 108);

53185 
	g¡d
::
f£ek
(
nfe
,
vox_off£t
,
SEEK_SET
);

53188 *
	gdim
 = (*)(
h—d”
 + 40), 
	gdimx
 = 1, 
	gdimy
 = 1, 
	gdimz
 = 1, 
	gdimv
 = 1;

53189 ià(!
	gdim
[0])

53190 
	gcimg
::
w¬n
(
_cimg_š¡ªû


53192 
cimg_š¡ªû
,

53193 
f’ame
?filename:"(FILE*)");

53195 ià(
	gdim
[0]>4)

53196 
	gcimg
::
w¬n
(
_cimg_š¡ªû


53198 
cimg_š¡ªû
,

53199 
f’ame
?f’ame:"(FILE*)",
dim
[0]);

53201 ià(
	gdim
[0]>=1è
dimx
 = 
dim
[1];

53202 ià(
	gdim
[0]>=2è
dimy
 = 
dim
[2];

53203 ià(
	gdim
[0]>=3è
dimz
 = 
dim
[3];

53204 ià(
	gdim
[0]>=4è
dimv
 = 
dim
[4];

53205 
	gsÿËçùÜ
 = *(*)(
h—d”
 + 112); ià(sÿËçùÜ==0è
sÿËçùÜ
 = 1;

53206 cÚ¡ 
	gd©©y³
 = *(*)(
h—d”
 + 70);

53207 ià(
	gvox–_size
) {

53208 cÚ¡ *
	gvsize
 = (*)(
h—d”
 + 76);

53209 
	gvox–_size
[0] = 
vsize
[1]; voxel_size[1] = vsize[2]; voxel_size[2] = vsize[3];

53211 
	gd–‘e
[] 
	gh—d”
;

53214 
assign
(
dimx
,
dimy
,
dimz
,
dimv
);

53215 cÚ¡ 
size_t
 
	gpdim
 = (size_t)
dimx
*
dimy
*
dimz
*
dimv
;

53216 
	gd©©y³
) {

53218 *cÚ¡ 
bufãr
 = 
Ãw
 [
pdim
];

53219 
	gcimg
::
ä—d
(
bufãr
,
pdim
,
nfe
);

53220 
cimg_fÜoff
(*
this
,
off
è
	g_d©a
[off] = (
T
)(
bufãr
[off]*
sÿËçùÜ
);

53221 
	gd–‘e
[] 
	gbufãr
;

53224 *cÚ¡ 
bufãr
 = 
Ãw
 [
pdim
];

53225 
	gcimg
::
ä—d
(
bufãr
,
pdim
,
nfe
);

53226 ià(
	g’dŸn
è
	gcimg
::
šv”t_’dŸÂess
(
bufãr
,
pdim
);

53227 
cimg_fÜoff
(*
this
,
off
è
	g_d©a
[off] = (
T
)(
bufãr
[off]*
sÿËçùÜ
);

53228 
	gd–‘e
[] 
	gbufãr
;

53231 *cÚ¡ 
bufãr
 = 
Ãw
 [
pdim
];

53232 
	gcimg
::
ä—d
(
bufãr
,
pdim
,
nfe
);

53233 ià(
	g’dŸn
è
	gcimg
::
šv”t_’dŸÂess
(
bufãr
,
pdim
);

53234 
cimg_fÜoff
(*
this
,
off
è
	g_d©a
[off] = (
T
)(
bufãr
[off]*
sÿËçùÜ
);

53235 
	gd–‘e
[] 
	gbufãr
;

53238 *cÚ¡ 
bufãr
 = 
Ãw
 [
pdim
];

53239 
	gcimg
::
ä—d
(
bufãr
,
pdim
,
nfe
);

53240 ià(
	g’dŸn
è
	gcimg
::
šv”t_’dŸÂess
(
bufãr
,
pdim
);

53241 
cimg_fÜoff
(*
this
,
off
è
	g_d©a
[off] = (
T
)(
bufãr
[off]*
sÿËçùÜ
);

53242 
	gd–‘e
[] 
	gbufãr
;

53245 *cÚ¡ 
bufãr
 = 
Ãw
 [
pdim
];

53246 
	gcimg
::
ä—d
(
bufãr
,
pdim
,
nfe
);

53247 ià(
	g’dŸn
è
	gcimg
::
šv”t_’dŸÂess
(
bufãr
,
pdim
);

53248 
cimg_fÜoff
(*
this
,
off
è
	g_d©a
[off] = (
T
)(
bufãr
[off]*
sÿËçùÜ
);

53249 
	gd–‘e
[] 
	gbufãr
;

53252 ià(!
fe
è
cimg
::
fşo£
(
nfe
);

53253 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


53255 
cimg_š¡ªû
,

53256 
d©©y³
,
f’ame
?filename:"(FILE*)");

53258 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

53259  *
	gthis
;

53268 
	gCImg
<
	gT
>& 
lßd_cimg
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
axis
='z', cÚ¡ 
®ign
=0) {

53269 
CImgLi¡
<
T
> 
li¡
;

53270 
	gli¡
.
lßd_cimg
(
f’ame
);

53271 ià(
	gli¡
.
	g_width
==1è 
li¡
[0].
move_to
(*
this
);

53272  
assign
(
li¡
.
g‘_­³nd
(
axis
,
®ign
));

53276 
	gCImg
<
	gT
> 
g‘_lßd_cimg
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
axis
='z', cÚ¡ 
®ign
=0) {

53277  
CImg
<
T
>().
lßd_cimg
(
f’ame
,
axis
,
®ign
);

53281 
	gCImg
<
	gT
>& 
lßd_cimg
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ 
axis
='z', cÚ¡ 
®ign
=0) {

53282 
CImgLi¡
<
T
> 
li¡
;

53283 
	gli¡
.
lßd_cimg
(
fe
);

53284 ià(
	gli¡
.
	g_width
==1è 
li¡
[0].
move_to
(*
this
);

53285  
assign
(
li¡
.
g‘_­³nd
(
axis
,
®ign
));

53289 
	gCImg
<
	gT
> 
g‘_lßd_cimg
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ 
axis
='z', cÚ¡ 
®ign
=0) {

53290  
CImg
<
T
>().
lßd_cimg
(
fe
,
axis
,
®ign
);

53309 
	gCImg
<
	gT
>& 
lßd_cimg
(cÚ¡ *cÚ¡ 
f’ame
,

53310 cÚ¡ 
n0
, cÚ¡ 
n1
,

53311 cÚ¡ 
x0
, cÚ¡ 
y0
,

53312 cÚ¡ 
z0
, cÚ¡ 
c0
,

53313 cÚ¡ 
x1
, cÚ¡ 
y1
,

53314 cÚ¡ 
z1
, cÚ¡ 
c1
,

53315 cÚ¡ 
axis
='z', cÚ¡ 
®ign
=0) {

53316 
CImgLi¡
<
T
> 
li¡
;

53317 
	gli¡
.
lßd_cimg
(
f’ame
,
n0
,
n1
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
);

53318 ià(
	gli¡
.
	g_width
==1è 
li¡
[0].
move_to
(*
this
);

53319  
assign
(
li¡
.
g‘_­³nd
(
axis
,
®ign
));

53323 
	gCImg
<
	gT
> 
g‘_lßd_cimg
(cÚ¡ *cÚ¡ 
f’ame
,

53324 cÚ¡ 
n0
, cÚ¡ 
n1
,

53325 cÚ¡ 
x0
, cÚ¡ 
y0
,

53326 cÚ¡ 
z0
, cÚ¡ 
c0
,

53327 cÚ¡ 
x1
, cÚ¡ 
y1
,

53328 cÚ¡ 
z1
, cÚ¡ 
c1
,

53329 cÚ¡ 
axis
='z', cÚ¡ 
®ign
=0) {

53330  
CImg
<
T
>().
lßd_cimg
(
f’ame
,
n0
,
n1
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
axis
,
®ign
);

53334 
	gCImg
<
	gT
>& 
lßd_cimg
(
¡d
::
FILE
 *cÚ¡ 
fe
,

53335 cÚ¡ 
n0
, cÚ¡ 
n1
,

53336 cÚ¡ 
x0
, cÚ¡ 
y0
,

53337 cÚ¡ 
z0
, cÚ¡ 
c0
,

53338 cÚ¡ 
x1
, cÚ¡ 
y1
,

53339 cÚ¡ 
z1
, cÚ¡ 
c1
,

53340 cÚ¡ 
axis
='z', cÚ¡ 
®ign
=0) {

53341 
CImgLi¡
<
T
> 
li¡
;

53342 
	gli¡
.
lßd_cimg
(
fe
,
n0
,
n1
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
);

53343 ià(
	gli¡
.
	g_width
==1è 
li¡
[0].
move_to
(*
this
);

53344  
assign
(
li¡
.
g‘_­³nd
(
axis
,
®ign
));

53348 
	gCImg
<
	gT
> 
g‘_lßd_cimg
(
¡d
::
FILE
 *cÚ¡ 
fe
,

53349 cÚ¡ 
n0
, cÚ¡ 
n1
,

53350 cÚ¡ 
x0
, cÚ¡ 
y0
,

53351 cÚ¡ 
z0
, cÚ¡ 
c0
,

53352 cÚ¡ 
x1
, cÚ¡ 
y1
,

53353 cÚ¡ 
z1
, cÚ¡ 
c1
,

53354 cÚ¡ 
axis
='z', cÚ¡ 
®ign
=0) {

53355  
CImg
<
T
>().
lßd_cimg
(
fe
,
n0
,
n1
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
axis
,
®ign
);

53363 
	gCImg
<
	gT
>& 
lßd_šr
(cÚ¡ *cÚ¡ 
f’ame
, *cÚ¡ 
vox–_size
=0) {

53364  
_lßd_šr
(0,
f’ame
,
vox–_size
);

53368 
	gCImg
<
	gT
> 
g‘_lßd_šr
(cÚ¡ *cÚ¡ 
f’ame
, *cÚ¡ 
vox–_size
=0) {

53369  
CImg
<
T
>().
lßd_šr
(
f’ame
,
vox–_size
);

53373 
	gCImg
<
	gT
>& 
lßd_šr
(
¡d
::
FILE
 *cÚ¡ 
fe
, *cÚ¡ 
vox–_size
=0) {

53374  
_lßd_šr
(
fe
,0,
vox–_size
);

53378 
	gCImg
<
	gT
> 
g‘_lßd_šr
(
¡d
::
FILE
 *cÚ¡ 
fe
, *
vox–_size
=0) {

53379  
CImg
<
T
>().
lßd_šr
(
fe
,
vox–_size
);

53382 
_lßd_šr_h—d”
(
¡d
::
FILE
 *
fe
, 
out
[8], *cÚ¡ 
vox–_size
) {

53383 
	gCImg
<
	gch¬T
> 
™em
(1024), 
tmp1
(64), 
tmp2
(64);

53384 *
	g™em
 = *
tmp1
 = *
tmp2
 = 0;

53385 
	gout
[0] = 
¡d
::
fsÿnf
(
fe
,"%63s",
™em
.
_d©a
);

53386 
	gout
[0] = 
out
[1] = out[2] = out[3] = out[5] = 1; out[4] = out[6] = out[7] = -1;

53387 ià(
	gcimg
::
¡ºÿ£cmp
(
™em
,"#INRIMAGE-4#{",13)!=0)

53388 
throw
 
CImgIOExû±iÚ
("CImg<%s>::load_inr(): INRIMAGE-4 header‚ot found.",

53389 
pix–_ty³
());

53391 
	g¡d
::
fsÿnf
(
fe
," %63[^\n]%*c",
™em
.
_d©a
)!=
EOF
 && 
¡d
::
¡ºcmp
(item,"##}",3)) {

53392 
cimg_ssÿnf
(
™em
," XDIM%*[^0-9]%d",
out
);

53393 
cimg_ssÿnf
(
™em
," YDIM%*[^0-9]%d",
out
 + 1);

53394 
cimg_ssÿnf
(
™em
," ZDIM%*[^0-9]%d",
out
 + 2);

53395 
cimg_ssÿnf
(
™em
," VDIM%*[^0-9]%d",
out
 + 3);

53396 
cimg_ssÿnf
(
™em
," PIXSIZE%*[^0-9]%d",
out
 + 6);

53397 ià(
	gvox–_size
) {

53398 
cimg_ssÿnf
(
™em
," VX%*[^0-9.+-]%f",
vox–_size
);

53399 
cimg_ssÿnf
(
™em
," VY%*[^0-9.+-]%f",
vox–_size
 + 1);

53400 
cimg_ssÿnf
(
™em
," VZ%*[^0-9.+-]%f",
vox–_size
 + 2);

53402 ià(
cimg_ssÿnf
(
™em
," CPU%*[ =]%s",
tmp1
.
_d©a
)è
	gout
[7] = 
cimg
::
¡ºÿ£cmp
(tmp1,"sun",3)?0:1;

53403 
cimg_ssÿnf
(
™em
," TYPE%*[ =]% %s",
tmp1
.
_d©a
,
tmp2
._data)) {

53406 
out
[5] = 
cimg
::
¡ºÿ£cmp
(
tmp1
,"unsigned",8)?1:0;

53407 
	g¡d
::
¡ºıy
(
tmp1
,
tmp2
,tmp1.
_width
 - 1);

53409 ià(!
cimg
::
¡ºÿ£cmp
(
tmp1
,"št",3è|| !
	gcimg
::¡ºÿ£cmpÑmp1,"fixed",5)è
	gout
[4] = 0;

53410 ià(!
	gcimg
::
¡ºÿ£cmp
(
tmp1
,"æßt",5è|| !cimg::¡ºÿ£cmpÑmp1,"doubË",6)è
	gout
[4] = 1;

53411 ià(!
	gcimg
::
¡ºÿ£cmp
(
tmp1
,"·cked",6)è
	gout
[4] = 2;

53412 ià(
	gout
[4]>=0) ;

53414 
throw
 
CImgIOExû±iÚ
("CImg<%s>::load_inr(): Invalid…ixelype '%s' defined in header.",

53415 
pix–_ty³
(),

53416 
tmp2
.
_d©a
);

53419 ià(
	gout
[0]<0 || out[1]<0 || out[2]<0 || out[3]<0)

53420 
throw
 
CImgIOExû±iÚ
("CImg<%s>::load_inr(): Invalid dimensions (%d,%d,%d,%d) defined in header.",

53421 
pix–_ty³
(),

53422 
out
[0],out[1],out[2],out[3]);

53423 ià(
	gout
[4]<0 || out[5]<0)

53424 
throw
 
CImgIOExû±iÚ
("CImg<%s>::load_inr(): Incomplete…ixelype defined in header.",

53425 
pix–_ty³
());

53426 ià(
	gout
[6]<0)

53427 
throw
 
CImgIOExû±iÚ
("CImg<%s>::load_inr(): Incomplete PIXSIZE field defined in header.",

53428 
pix–_ty³
());

53429 ià(
	gout
[7]<0)

53430 
throw
 
CImgIOExû±iÚ
("CImg<%s>::load_inr(): Big/Little Endian codingype undefined in header.",

53431 
pix–_ty³
());

53434 
	gCImg
<
	gT
>& 
_lßd_šr
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
, *cÚ¡ 
vox–_size
) {

53435 
	#_cimg_lßd_šr_ÿ£
(
Tf
,
sign
,
pixsize
,
Ts
) \

53436 ià(!
lßded
 && 
fİt
[6]==
pixsize
 && fİt[4]==
Tf
 && fİt[5]==
sign
) { \

53437 
Ts
 *
xv®
, *cÚ¡ 
v®
 = 
Ãw
 Ts[(
size_t
)
fİt
[0]*fopt[3]]; \

53438 
	`cimg_fÜYZ
(*
this
,
y
,
z
) { \

53439 
cimg
::
	`ä—d
(
v®
,
fİt
[0]*fİt[3],
nfe
); \

53440 ià(
fİt
[7]!=
’dŸn
è
cimg
::
	`šv”t_’dŸÂess
(
v®
,fopt[0]*fopt[3]); \

53441 
xv®
 = 
v®
; 
	`cimg_fÜX
(*
this
,
x
è
	`cimg_fÜC
(*this,
c
è(*this)(x,
y
,
z
,cèğ(
T
)*(xval++); \

53443 
d–‘e
[] 
v®
; \

53444 
lßded
 = 
Œue
; \

53445 }

	)

53447 ià(!
	gfe
 && !
	gf’ame
)

53448 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


53450 
cimg_š¡ªû
);

53452 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"rb");

53453 
	gfİt
[8], 
	g’dŸn
 = 
cimg
::
’dŸÂess
()?1:0;

53454 
boŞ
 
	glßded
 = 
çl£
;

53455 ià(
	gvox–_size
èvox–_size[0] = 
vox–_size
[1] = voxel_size[2] = 1;

53456 
_lßd_šr_h—d”
(
nfe
,
fİt
,
vox–_size
);

53457 
assign
(
fİt
[0],fopt[1],fopt[2],fopt[3]);

53458 
_cimg_lßd_šr_ÿ£
(0,0,8,);

53459 
_cimg_lßd_šr_ÿ£
(0,1,8,);

53460 
_cimg_lßd_šr_ÿ£
(0,0,16,);

53461 
_cimg_lßd_šr_ÿ£
(0,1,16,);

53462 
_cimg_lßd_šr_ÿ£
(0,0,32,);

53463 
_cimg_lßd_šr_ÿ£
(0,1,32,);

53464 
_cimg_lßd_šr_ÿ£
(1,0,32,);

53465 
_cimg_lßd_šr_ÿ£
(1,1,32,);

53466 
_cimg_lßd_šr_ÿ£
(1,0,64,);

53467 
_cimg_lßd_šr_ÿ£
(1,1,64,);

53468 ià(!
	glßded
) {

53469 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

53470 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


53472 
cimg_š¡ªû
,

53473 
f’ame
?filename:"(FILE*)");

53475 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

53476  *
	gthis
;

53483 
	gCImg
<
	gT
>& 
lßd_exr
(cÚ¡ *cÚ¡ 
f’ame
) {

53484 ià(!
	gf’ame
)

53485 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


53487 
cimg_š¡ªû
);

53488 #ià
defšed
(
cimg_u£_İ’exr
)

53489 
	gImf
::
RgbaIÅutFe
 
fe
(
f’ame
);

53490 
	gIm©h
::
Box2i
 
dw
 = 
fe
.
d©aWšdow
();

53492 
	gšwidth
 = 
dw
.
max
.
x
 - dw.
mš
.x + 1,

53493 
	gšheight
 = 
dw
.
max
.
y
 - dw.
mš
.y + 1;

53494 
	gImf
::
A¼ay2D
<
Imf
::
Rgba
> 
pix–s
;

53495 
	gpix–s
.
»sizeE¿£
(
šheight
,
šwidth
);

53496 
	gfe
.
£tF¿meBufãr
(&
pix–s
[0][0] - 
dw
.
mš
.
x
 - dw.mš.
y
*
šwidth
, 1, inwidth);

53497 
	gfe
.
»adPix–s
(
dw
.
mš
.
y
, dw.
max
.y);

53498 
assign
(
šwidth
,
šheight
,1,4);

53499 
T
 *
	g±r_r
 = 
d©a
(0,0,0,0), *
	g±r_g
 = d©a(0,0,0,1), *
	g±r_b
 = d©a(0,0,0,2), *
	g±r_a
 = data(0,0,0,3);

53500 
cimg_fÜXY
(*
this
,
x
,
y
) {

53501 *(
	g±r_r
++èğ(
T
)
pix–s
[
y
][
x
].
r
;

53502 *(
	g±r_g
++èğ(
T
)
pix–s
[
y
][
x
].
g
;

53503 *(
	g±r_b
++èğ(
T
)
pix–s
[
y
][
x
].
b
;

53504 *(
	g±r_a
++èğ(
T
)
pix–s
[
y
][
x
].
a
;

53506  *
	gthis
;

53507 #–ià
defšed
(
cimg_u£_tšyexr
)

53508 *
	g»s
;

53509 cÚ¡ *
	g”r
 = 0;

53510 
	gwidth
 = 0, 
	gheight
 = 0;

53511 cÚ¡ 
	g»t
 = 
LßdEXR
(&
»s
,&
width
,&
height
,
f’ame
,&
”r
);

53512 ià(
	g»t
è
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


53514 
cimg_š¡ªû
,
f’ame
);

53515 
	gCImg
<
	gæßtT
>(
	g»s
,4,
	gwidth
,
	gheight
,1,
	gŒue
).
g‘_³rmu‹_axes
("yzcx").
move_to
(*
this
);

53516 
	g¡d
::
ä“
(
»s
);

53517  *
	gthis
;

53519  
lßd_Ùh”
(
f’ame
);

53524 
	gCImg
<
	gT
> 
g‘_lßd_exr
(cÚ¡ *cÚ¡ 
f’ame
) {

53525  
	gCImg
<
	gT
>().
lßd_exr
(
f’ame
);

53532 
	gCImg
<
	gT
>& 
lßd_·ndÜe
(cÚ¡ *cÚ¡ 
f’ame
) {

53533  
_lßd_·ndÜe
(0,
f’ame
);

53537 
	gCImg
<
	gT
> 
g‘_lßd_·ndÜe
(cÚ¡ *cÚ¡ 
f’ame
) {

53538  
	gCImg
<
	gT
>().
lßd_·ndÜe
(
f’ame
);

53542 
	gCImg
<
	gT
>& 
lßd_·ndÜe
(
¡d
::
FILE
 *cÚ¡ 
fe
) {

53543  
_lßd_·ndÜe
(
fe
,0);

53547 
	gCImg
<
	gT
> 
g‘_lßd_·ndÜe
(
¡d
::
FILE
 *cÚ¡ 
fe
) {

53548  
CImg
<
T
>().
lßd_·ndÜe
(
fe
);

53551 
	gCImg
<
	gT
>& 
_lßd_·ndÜe
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
) {

53552 
	#__cimg_lßd_·ndÜe_ÿ£
(
nbdim
,
nwidth
,
nheight
,
nd•th
,
ndim
,
¡y³
) \

53553 
cimg
::
	`ä—d
(
dims
,
nbdim
,
nfe
); \

53554 ià(
’dŸn
è
cimg
::
	`šv”t_’dŸÂess
(
dims
,
nbdim
); \

53555 
	`assign
(
nwidth
,
nheight
,
nd•th
,
ndim
); \

53556 cÚ¡ 
size_t
 
siz
 = 
	`size
(); \

53557 
¡y³
 *
bufãr
 = 
Ãw
 sty³[
siz
]; \

53558 
cimg
::
	`ä—d
(
bufãr
,
siz
,
nfe
); \

53559 ià(
’dŸn
è
cimg
::
	`šv”t_’dŸÂess
(
bufãr
,
siz
); \

53560 
T
 *
±rd
 = 
_d©a
; \

53561 
	`cimg_fÜoff
(*
this
,
off
è*(
±rd
++èğ(
T
)*(
bufãr
++); \

53562 
bufãr
-=
siz
; \

53563 
d–‘e
[] 
bufãr


	)

53565 
	#_cimg_lßd_·ndÜe_ÿ£
(
nbdim
,
nwidth
,
nheight
,
nd•th
,
dim
,
¡y³1
,
¡y³2
,
¡y³3
,
Éy³
) { \

53566 ià((
¡y³1
)==
Éy³
è{ 
	`__cimg_lßd_·ndÜe_ÿ£
(
nbdim
,
nwidth
,
nheight
,
nd•th
,
dim
,stype1); } \

53567 ià((
¡y³2
)==
Éy³
è{ 
	`__cimg_lßd_·ndÜe_ÿ£
(
nbdim
,
nwidth
,
nheight
,
nd•th
,
dim
,stype2); } \

53568 ià((
¡y³3
)==
Éy³
è{ 
	`__cimg_lßd_·ndÜe_ÿ£
(
nbdim
,
nwidth
,
nheight
,
nd•th
,
dim
,stype3); } \

53569 
throw
 
	`CImgIOExû±iÚ
(
_cimg_š¡ªû
 \

53571 
cimg_š¡ªû
, \

53572 
f’ame
?f’ame:"(FILE*)"); }

	)

53573 ià(!
	gfe
 && !
	gf’ame
)

53574 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


53576 
cimg_š¡ªû
);

53578 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"rb");

53579 
	gCImg
<
	gch¬T
> 
h—d”
(32);

53580 
	gcimg
::
ä—d
(
h—d”
.
_d©a
,12,
nfe
);

53581 ià(
	gcimg
::
¡ºÿ£cmp
("PANDORE",
h—d”
,7)) {

53582 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

53583 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


53585 
cimg_š¡ªû
,

53586 
f’ame
?filename:"(FILE*)");

53588 
	gimageid
, 
	gdims
[8] = { 0 };

53589 
	g±buf
[4] = { 0 };

53590 
	gcimg
::
ä—d
(&
imageid
,1,
nfe
);

53591 cÚ¡ 
boŞ
 
	g’dŸn
 = 
imageid
>255;

53592 ià(
	g’dŸn
è
	gcimg
::
šv”t_’dŸÂess
(
imageid
);

53593 
	gcimg
::
ä—d
(
h—d”
.
_d©a
,20,
nfe
);

53595 
	gimageid
) {

53596 2 : 
_cimg_lßd_·ndÜe_ÿ£
(2,
dims
[1],1,1,1,,,,1); ;

53597 3 : 
_cimg_lßd_·ndÜe_ÿ£
(2,
dims
[1],1,1,1,,,,4); ;

53598 4 : 
_cimg_lßd_·ndÜe_ÿ£
(2,
dims
[1],1,1,1,,,,4); ;

53599 5 : 
_cimg_lßd_·ndÜe_ÿ£
(3,
dims
[2],dims[1],1,1,,,,1); ;

53600 6 : 
_cimg_lßd_·ndÜe_ÿ£
(3,
dims
[2],dims[1],1,1,,,,4); ;

53601 7 : 
_cimg_lßd_·ndÜe_ÿ£
(3,
dims
[2],dims[1],1,1,,,,4); ;

53602 8 : 
_cimg_lßd_·ndÜe_ÿ£
(4,
dims
[3],dims[2],dims[1],1,,,,1); ;

53603 9 : 
_cimg_lßd_·ndÜe_ÿ£
(4,
dims
[3],dims[2],dims[1],1,,,,4); ;

53604 10 : 
_cimg_lßd_·ndÜe_ÿ£
(4,
dims
[3],dims[2],dims[1],1,,,,4); ;

53606 
cimg
::
ä—d
(
dims
,3,
nfe
);

53607 ià(
	g’dŸn
è
	gcimg
::
šv”t_’dŸÂess
(
dims
,3);

53608 
assign
(
dims
[1],1,1,1);

53609 cÚ¡ 
	gsiz
 = 
size
();

53610 ià(
	gdims
[2]<256) {

53611 *
	gbufãr
 = 
Ãw
 [
siz
];

53612 
	gcimg
::
ä—d
(
bufãr
,
siz
,
nfe
);

53613 
T
 *
	g±rd
 = 
_d©a
;

53614 
cimg_fÜoff
(*
this
,
off
è*(
	g±rd
++èğ(
T
)*(
bufãr
++);

53615 
	gbufãr
-=
siz
;

53616 
	gd–‘e
[] 
	gbufãr
;

53618 ià(
	gdims
[2]<65536) {

53619 *
	gbufãr
 = 
Ãw
 [
siz
];

53620 
	gcimg
::
ä—d
(
bufãr
,
siz
,
nfe
);

53621 ià(
	g’dŸn
è
	gcimg
::
šv”t_’dŸÂess
(
bufãr
,
siz
);

53622 
T
 *
	g±rd
 = 
_d©a
;

53623 
cimg_fÜoff
(*
this
,
off
è*(
	g±rd
++èğ(
T
)*(
bufãr
++);

53624 
	gbufãr
-=
siz
;

53625 
	gd–‘e
[] 
	gbufãr
;

53627 *
	gbufãr
 = 
Ãw
 [
siz
];

53628 
	gcimg
::
ä—d
(
bufãr
,
siz
,
nfe
);

53629 ià(
	g’dŸn
è
	gcimg
::
šv”t_’dŸÂess
(
bufãr
,
siz
);

53630 
T
 *
	g±rd
 = 
_d©a
;

53631 
cimg_fÜoff
(*
this
,
off
è*(
	g±rd
++èğ(
T
)*(
bufãr
++);

53632 
	gbufãr
-=
siz
;

53633 
	gd–‘e
[] 
	gbufãr
;

53639 
cimg
::
ä—d
(
dims
,4,
nfe
);

53640 ià(
	g’dŸn
è
	gcimg
::
šv”t_’dŸÂess
(
dims
,4);

53641 
assign
(
dims
[2],dims[1],1,1);

53642 cÚ¡ 
size_t
 
	gsiz
 = 
size
();

53643 ià(
	gdims
[3]<256) {

53644 *
	gbufãr
 = 
Ãw
 [
siz
];

53645 
	gcimg
::
ä—d
(
bufãr
,
siz
,
nfe
);

53646 
T
 *
	g±rd
 = 
_d©a
;

53647 
cimg_fÜoff
(*
this
,
off
è*(
	g±rd
++èğ(
T
)*(
bufãr
++);

53648 
	gbufãr
-=
siz
;

53649 
	gd–‘e
[] 
	gbufãr
;

53651 ià(
	gdims
[3]<65536) {

53652 *
	gbufãr
 = 
Ãw
 [
siz
];

53653 
	gcimg
::
ä—d
(
bufãr
,
siz
,
nfe
);

53654 ià(
	g’dŸn
è
	gcimg
::
šv”t_’dŸÂess
(
bufãr
,
siz
);

53655 
T
 *
	g±rd
 = 
_d©a
;

53656 
cimg_fÜoff
(*
this
,
off
è*(
	g±rd
++èğ(
T
)*(
bufãr
++);

53657 
	gbufãr
-=
siz
;

53658 
	gd–‘e
[] 
	gbufãr
;

53660 *
	gbufãr
 = 
Ãw
 [
siz
];

53661 
	gcimg
::
ä—d
(
bufãr
,
siz
,
nfe
);

53662 ià(
	g’dŸn
è
	gcimg
::
šv”t_’dŸÂess
(
bufãr
,
siz
);

53663 
T
 *
	g±rd
 = 
_d©a
;

53664 
cimg_fÜoff
(*
this
,
off
è*(
	g±rd
++èğ(
T
)*(
bufãr
++);

53665 
	gbufãr
-=
siz
;

53666 
	gd–‘e
[] 
	gbufãr
;

53672 
cimg
::
ä—d
(
dims
,5,
nfe
);

53673 ià(
	g’dŸn
è
	gcimg
::
šv”t_’dŸÂess
(
dims
,5);

53674 
assign
(
dims
[3],dims[2],dims[1],1);

53675 cÚ¡ 
size_t
 
	gsiz
 = 
size
();

53676 ià(
	gdims
[4]<256) {

53677 *
	gbufãr
 = 
Ãw
 [
siz
];

53678 
	gcimg
::
ä—d
(
bufãr
,
siz
,
nfe
);

53679 
T
 *
	g±rd
 = 
_d©a
;

53680 
cimg_fÜoff
(*
this
,
off
è*(
	g±rd
++èğ(
T
)*(
bufãr
++);

53681 
	gbufãr
-=
siz
;

53682 
	gd–‘e
[] 
	gbufãr
;

53684 ià(
	gdims
[4]<65536) {

53685 *
	gbufãr
 = 
Ãw
 [
siz
];

53686 
	gcimg
::
ä—d
(
bufãr
,
siz
,
nfe
);

53687 ià(
	g’dŸn
è
	gcimg
::
šv”t_’dŸÂess
(
bufãr
,
siz
);

53688 
T
 *
	g±rd
 = 
_d©a
;

53689 
cimg_fÜoff
(*
this
,
off
è*(
	g±rd
++èğ(
T
)*(
bufãr
++);

53690 
	gbufãr
-=
siz
;

53691 
	gd–‘e
[] 
	gbufãr
;

53693 *
	gbufãr
 = 
Ãw
 [
siz
];

53694 
	gcimg
::
ä—d
(
bufãr
,
siz
,
nfe
);

53695 ià(
	g’dŸn
è
	gcimg
::
šv”t_’dŸÂess
(
bufãr
,
siz
);

53696 
T
 *
	g±rd
 = 
_d©a
;

53697 
cimg_fÜoff
(*
this
,
off
è*(
	g±rd
++èğ(
T
)*(
bufãr
++);

53698 
	gbufãr
-=
siz
;

53699 
	gd–‘e
[] 
	gbufãr
;

53704 16 : 
_cimg_lßd_·ndÜe_ÿ£
(4,
dims
[2],dims[1],1,3,,,,1); ;

53705 17 : 
_cimg_lßd_·ndÜe_ÿ£
(4,
dims
[2],dims[1],1,3,,,,4); ;

53706 18 : 
_cimg_lßd_·ndÜe_ÿ£
(4,
dims
[2],dims[1],1,3,,,,4); ;

53707 19 : 
_cimg_lßd_·ndÜe_ÿ£
(5,
dims
[3],dims[2],dims[1],3,,,,1); ;

53708 20 : 
_cimg_lßd_·ndÜe_ÿ£
(5,
dims
[3],dims[2],dims[1],3,,,,4); ;

53709 21 : 
_cimg_lßd_·ndÜe_ÿ£
(5,
dims
[3],dims[2],dims[1],3,,,,4); ;

53710 22 : 
_cimg_lßd_·ndÜe_ÿ£
(2,
dims
[1],1,1,dims[0],,,,1); ;

53711 23 : 
_cimg_lßd_·ndÜe_ÿ£
(2,
dims
[1],1,1,dims[0],,,,4); ;

53712 24 : 
_cimg_lßd_·ndÜe_ÿ£
(2,
dims
[1],1,1,dims[0],,,,4); ;

53713 25 : 
_cimg_lßd_·ndÜe_ÿ£
(2,
dims
[1],1,1,dims[0],,,,4); ;

53714 26 : 
_cimg_lßd_·ndÜe_ÿ£
(3,
dims
[2],dims[1],1,dims[0],,,,1); ;

53715 27 : 
_cimg_lßd_·ndÜe_ÿ£
(3,
dims
[2],dims[1],1,dims[0],,,,4); ;

53716 28 : 
_cimg_lßd_·ndÜe_ÿ£
(3,
dims
[2],dims[1],1,dims[0],,,,4); ;

53717 29 : 
_cimg_lßd_·ndÜe_ÿ£
(3,
dims
[2],dims[1],1,dims[0],,,,4); ;

53718 30 : 
_cimg_lßd_·ndÜe_ÿ£
(4,
dims
[3],dims[2],dims[1],dims[0],,,,1);

53720 31 : 
_cimg_lßd_·ndÜe_ÿ£
(4,
dims
[3],dims[2],dims[1],dims[0],,,,4); ;

53721 32 : 
_cimg_lßd_·ndÜe_ÿ£
(4,
dims
[3],dims[2],dims[1],dims[0],,,,4);

53723 33 : 
_cimg_lßd_·ndÜe_ÿ£
(4,
dims
[3],dims[2],dims[1],dims[0],,,,4); ;

53725 
cimg
::
ä—d
(
±buf
,1,
nfe
);

53726 ià(
	g’dŸn
è
	gcimg
::
šv”t_’dŸÂess
(
±buf
,1);

53727 
assign
(1); (*
	gthis
)(0èğ(
T
)
±buf
[0];

53730 
cimg
::
ä—d
(
±buf
,2,
nfe
);

53731 ià(
	g’dŸn
è
	gcimg
::
šv”t_’dŸÂess
(
±buf
,2);

53732 
assign
(2); (*
	gthis
)(0èğ(
T
)
±buf
[1]; (*this)(1) = (T)ptbuf[0];

53735 
cimg
::
ä—d
(
±buf
,3,
nfe
);

53736 ià(
	g’dŸn
è
	gcimg
::
šv”t_’dŸÂess
(
±buf
,3);

53737 
assign
(3); (*
	gthis
)(0èğ(
T
)
±buf
[2]; (*this)(1) = (T)ptbuf[1]; (*this)(2) = (T)ptbuf[0];

53740 ià(!
fe
è
cimg
::
fşo£
(
nfe
);

53741 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


53743 
cimg_š¡ªû
,

53744 
imageid
,
f’ame
?filename:"(FILE*)");

53746 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

53747  *
	gthis
;

53756 
	gCImg
<
	gT
>& 
lßd_·¼ec
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
axis
='c', cÚ¡ 
®ign
=0) {

53757 
CImgLi¡
<
T
> 
li¡
;

53758 
	gli¡
.
lßd_·¼ec
(
f’ame
);

53759 ià(
	gli¡
.
	g_width
==1è 
li¡
[0].
move_to
(*
this
);

53760  
assign
(
li¡
.
g‘_­³nd
(
axis
,
®ign
));

53764 
	gCImg
<
	gT
> 
g‘_lßd_·¼ec
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
axis
='c', cÚ¡ 
®ign
=0) {

53765  
CImg
<
T
>().
lßd_·¼ec
(
f’ame
,
axis
,
®ign
);

53779 
	gCImg
<
	gT
>& 
lßd_¿w
(cÚ¡ *cÚ¡ 
f’ame
,

53780 cÚ¡ 
size_x
=0, cÚ¡ 
size_y
=1,

53781 cÚ¡ 
size_z
=1, cÚ¡ 
size_c
=1,

53782 cÚ¡ 
boŞ
 
is_muÉËxed
=
çl£
, cÚ¡ boŞ 
šv”t_’dŸÂess
=false,

53783 cÚ¡ 
ulÚgT
 
off£t
=0) {

53784  
_lßd_¿w
(0,
f’ame
,
size_x
,
size_y
,
size_z
,
size_c
,
is_muÉËxed
,
šv”t_’dŸÂess
,
off£t
);

53788 
	gCImg
<
	gT
> 
g‘_lßd_¿w
(cÚ¡ *cÚ¡ 
f’ame
,

53789 cÚ¡ 
size_x
=0, cÚ¡ 
size_y
=1,

53790 cÚ¡ 
size_z
=1, cÚ¡ 
size_c
=1,

53791 cÚ¡ 
boŞ
 
is_muÉËxed
=
çl£
, cÚ¡ boŞ 
šv”t_’dŸÂess
=false,

53792 cÚ¡ 
ulÚgT
 
off£t
=0) {

53793  
CImg
<
T
>().
lßd_¿w
(
f’ame
,
size_x
,
size_y
,
size_z
,
size_c
,
is_muÉËxed
,
šv”t_’dŸÂess
,
off£t
);

53797 
	gCImg
<
	gT
>& 
lßd_¿w
(
¡d
::
FILE
 *cÚ¡ 
fe
,

53798 cÚ¡ 
size_x
=0, cÚ¡ 
size_y
=1,

53799 cÚ¡ 
size_z
=1, cÚ¡ 
size_c
=1,

53800 cÚ¡ 
boŞ
 
is_muÉËxed
=
çl£
, cÚ¡ boŞ 
šv”t_’dŸÂess
=false,

53801 cÚ¡ 
ulÚgT
 
off£t
=0) {

53802  
_lßd_¿w
(
fe
,0,
size_x
,
size_y
,
size_z
,
size_c
,
is_muÉËxed
,
šv”t_’dŸÂess
,
off£t
);

53806 
	gCImg
<
	gT
> 
g‘_lßd_¿w
(
¡d
::
FILE
 *cÚ¡ 
fe
,

53807 cÚ¡ 
size_x
=0, cÚ¡ 
size_y
=1,

53808 cÚ¡ 
size_z
=1, cÚ¡ 
size_c
=1,

53809 cÚ¡ 
boŞ
 
is_muÉËxed
=
çl£
, cÚ¡ boŞ 
šv”t_’dŸÂess
=false,

53810 cÚ¡ 
ulÚgT
 
off£t
=0) {

53811  
CImg
<
T
>().
lßd_¿w
(
fe
,
size_x
,
size_y
,
size_z
,
size_c
,
is_muÉËxed
,
šv”t_’dŸÂess
,
off£t
);

53814 
	gCImg
<
	gT
>& 
_lßd_¿w
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
,

53815 cÚ¡ 
size_x
, cÚ¡ 
size_y
,

53816 cÚ¡ 
size_z
, cÚ¡ 
size_c
,

53817 cÚ¡ 
boŞ
 
is_muÉËxed
, cÚ¡ boŞ 
šv”t_’dŸÂess
,

53818 cÚ¡ 
ulÚgT
 
off£t
) {

53819 ià(!
	gfe
 && !
	gf’ame
)

53820 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


53822 
cimg_š¡ªû
);

53823 ià(
	gcimg
::
is_dœeùÜy
(
f’ame
))

53824 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


53826 
cimg_š¡ªû
,
f’ame
);

53828 
ulÚgT
 
	gsiz
 = (ulÚgT)
size_x
*
size_y
*
size_z
*
size_c
;

53830 
	g_size_x
 = 
size_x
,

53831 
	g_size_y
 = 
size_y
,

53832 
	g_size_z
 = 
size_z
,

53833 
	g_size_c
 = 
size_c
;

53834 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"rb");

53835 ià(!
	gsiz
) {

53836 cÚ¡ 
lÚgT
 
	gåos
 = 
cimg
::
á–l
(
nfe
);

53837 ià(
	gåos
<0è
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


53839 
cimg_š¡ªû
,
f’ame
?filename:"(FILE*)");

53840 
	gcimg
::
f£ek
(
nfe
,0,
SEEK_END
);

53841 
	gsiz
 = 
cimg
::
á–l
(
nfe
)/(
T
);

53842 
	g_size_y
 = ()
siz
;

53843 
	g_size_x
 = 
_size_z
 = 
_size_c
 = 1;

53844 
	gcimg
::
f£ek
(
nfe
,
åos
,
SEEK_SET
);

53846 
	gcimg
::
f£ek
(
nfe
,
off£t
,
SEEK_SET
);

53847 
assign
(
_size_x
,
_size_y
,
_size_z
,
_size_c
,0);

53848 ià(
	gsiz
 && (!
	gis_muÉËxed
 || 
	gsize_c
==1)) {

53849 
cimg
::
ä—d
(
_d©a
,
siz
,
nfe
);

53850 ià(
	gšv”t_’dŸÂess
è
	gcimg
::
šv”t_’dŸÂess
(
_d©a
,
siz
);

53851 } ià(
	gsiz
) {

53852 
	gCImg
<
	gT
> 
buf
(1,1,1,
_size_c
);

53853 
cimg_fÜXYZ
(*
this
,
x
,
y
,
z
) {

53854 
	gcimg
::
ä—d
(
buf
.
_d©a
,
_size_c
,
nfe
);

53855 ià(
	gšv”t_’dŸÂess
è
	gcimg
::
šv”t_’dŸÂess
(
buf
.
_d©a
,
_size_c
);

53856 
£t_veùÜ_©
(
buf
,
x
,
y
,
z
);

53859 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

53860  *
	gthis
;

53875 
	gCImg
<
	gT
>& 
lßd_yuv
(cÚ¡ *cÚ¡ 
f’ame
,

53876 cÚ¡ 
size_x
, cÚ¡ 
size_y
=1,

53877 cÚ¡ 
chroma_sub§m¶šg
=444,

53878 cÚ¡ 
fœ¡_äame
=0, cÚ¡ 
Ï¡_äame
=~0U,

53879 cÚ¡ 
¡•_äame
=1, cÚ¡ 
boŞ
 
yuv2rgb
=
Œue
, cÚ¡ 
axis
='z') {

53880  
g‘_lßd_yuv
(
f’ame
,
size_x
,
size_y
,
chroma_sub§m¶šg
,

53881 
fœ¡_äame
,
Ï¡_äame
,
¡•_äame
,
yuv2rgb
,
axis
).
move_to
(*
this
);

53885 
	gCImg
<
	gT
> 
g‘_lßd_yuv
(cÚ¡ *cÚ¡ 
f’ame
,

53886 cÚ¡ 
size_x
, cÚ¡ 
size_y
=1,

53887 cÚ¡ 
chroma_sub§m¶šg
=444,

53888 cÚ¡ 
fœ¡_äame
=0, cÚ¡ 
Ï¡_äame
=~0U,

53889 cÚ¡ 
¡•_äame
=1, cÚ¡ 
boŞ
 
yuv2rgb
=
Œue
, cÚ¡ 
axis
='z') {

53890  
CImgLi¡
<
T
>().
lßd_yuv
(
f’ame
,
size_x
,
size_y
,
chroma_sub§m¶šg
,

53891 
fœ¡_äame
,
Ï¡_äame
,
¡•_äame
,
yuv2rgb
).
g‘_­³nd
(
axis
);

53895 
	gCImg
<
	gT
>& 
lßd_yuv
(
¡d
::
FILE
 *cÚ¡ 
fe
,

53896 cÚ¡ 
size_x
, cÚ¡ 
size_y
=1,

53897 cÚ¡ 
chroma_sub§m¶šg
=444,

53898 cÚ¡ 
fœ¡_äame
=0, cÚ¡ 
Ï¡_äame
=~0U,

53899 cÚ¡ 
¡•_äame
=1, cÚ¡ 
boŞ
 
yuv2rgb
=
Œue
, cÚ¡ 
axis
='z') {

53900  
g‘_lßd_yuv
(
fe
,
size_x
,
size_y
,
chroma_sub§m¶šg
,

53901 
fœ¡_äame
,
Ï¡_äame
,
¡•_äame
,
yuv2rgb
,
axis
).
move_to
(*
this
);

53905 
	gCImg
<
	gT
> 
g‘_lßd_yuv
(
¡d
::
FILE
 *cÚ¡ 
fe
,

53906 cÚ¡ 
size_x
, cÚ¡ 
size_y
=1,

53907 cÚ¡ 
chroma_sub§m¶šg
=444,

53908 cÚ¡ 
fœ¡_äame
=0, cÚ¡ 
Ï¡_äame
=~0U,

53909 cÚ¡ 
¡•_äame
=1, cÚ¡ 
boŞ
 
yuv2rgb
=
Œue
, cÚ¡ 
axis
='z') {

53910  
CImgLi¡
<
T
>().
lßd_yuv
(
fe
,
size_x
,
size_y
,
chroma_sub§m¶šg
,

53911 
fœ¡_äame
,
Ï¡_äame
,
¡•_äame
,
yuv2rgb
).
g‘_­³nd
(
axis
);

53920 
	g‹m¶©e
<
ty³Çme
 
	gtf
,y³Çm
	gtc
>

53921 
	gCImg
<
	gT
>& 
lßd_off
(
CImgLi¡
<
tf
>& 
´im™ives
, CImgLi¡<
tc
>& 
cŞÜs
, cÚ¡ *cÚ¡ 
f’ame
) {

53922  
_lßd_off
(
´im™ives
,
cŞÜs
,0,
f’ame
);

53926 
	g‹m¶©e
<
ty³Çme
 
	gtf
,y³Çm
	gtc
>

53927 
	gCImg
<
	gT
> 
g‘_lßd_off
(
CImgLi¡
<
tf
>& 
´im™ives
, CImgLi¡<
tc
>& 
cŞÜs
, cÚ¡ *cÚ¡ 
f’ame
) {

53928  
	gCImg
<
	gT
>().
lßd_off
(
´im™ives
,
cŞÜs
,
f’ame
);

53932 
	g‹m¶©e
<
ty³Çme
 
	gtf
,y³Çm
	gtc
>

53933 
	gCImg
<
	gT
>& 
lßd_off
(
CImgLi¡
<
tf
>& 
´im™ives
, CImgLi¡<
tc
>& 
cŞÜs
, 
¡d
::
FILE
 *cÚ¡ 
fe
) {

53934  
_lßd_off
(
´im™ives
,
cŞÜs
,
fe
,0);

53938 
	g‹m¶©e
<
ty³Çme
 
	gtf
,y³Çm
	gtc
>

53939 
	gCImg
<
	gT
> 
g‘_lßd_off
(
CImgLi¡
<
tf
>& 
´im™ives
, CImgLi¡<
tc
>& 
cŞÜs
, 
¡d
::
FILE
 *cÚ¡ 
fe
) {

53940  
CImg
<
T
>().
lßd_off
(
´im™ives
,
cŞÜs
,
fe
);

53943 
	g‹m¶©e
<
ty³Çme
 
	gtf
,y³Çm
	gtc
>

53944 
	gCImg
<
	gT
>& 
_lßd_off
(
CImgLi¡
<
tf
>& 
´im™ives
, CImgLi¡<
tc
>& 
cŞÜs
,

53945 
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
) {

53946 ià(!
	gfe
 && !
	gf’ame
)

53947 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


53949 
cimg_š¡ªû
);

53951 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"r");

53952 
	gnb_pošts
 = 0, 
	gnb_´im™ives
 = 0, 
	gnb_»ad
 = 0;

53953 
	gCImg
<
	gch¬T
> 
lše
(256); *
	glše
 = 0;

53954 
	g”r
;

53957 dØ{ 
	g”r
 = 
¡d
::
fsÿnf
(
nfe
,"%255[^\n] ",
lše
.
_d©a
); } !err || (err==1 && *line=='#'));

53958 ià(
	gcimg
::
¡ºÿ£cmp
(
lše
,"OFF",3) && cimg::strncasecmp(line,"COFF",4)) {

53959 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

53960 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


53962 
cimg_š¡ªû
,

53963 
f’ame
?filename:"(FILE*)");

53965 dØ{ 
	g”r
 = 
¡d
::
fsÿnf
(
nfe
,"%255[^\n] ",
lše
.
_d©a
); } !err || (err==1 && *line=='#'));

53966 ià((
	g”r
 = 
cimg_ssÿnf
(
lše
,"%u%u%*[^\n] ",&
nb_pošts
,&
nb_´im™ives
))!=2) {

53967 ià(!
fe
è
cimg
::
fşo£
(
nfe
);

53968 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


53970 
cimg_š¡ªû
,

53971 
f’ame
?filename:"(FILE*)");

53975 
assign
(
nb_pošts
,3);

53976 
	gX
 = 0, 
	gY
 = 0, 
	gZ
 = 0;

53977 
cimg_fÜX
(*
this
,
l
) {

53978 dØ{ 
	g”r
 = 
¡d
::
fsÿnf
(
nfe
,"%255[^\n] ",
lše
.
_d©a
); } !err || (err==1 && *line=='#'));

53979 ià((
	g”r
 = 
cimg_ssÿnf
(
lše
,"%f%f%f%*[^\n] ",&
X
,&
Y
,&
Z
))!=3) {

53980 ià(!
fe
è
cimg
::
fşo£
(
nfe
);

53981 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


53983 
cimg_š¡ªû
,

53984 
l
 + 1,
nb_pošts
,
f’ame
?filename:"(FILE*)");

53986 (*
	gthis
)(
	gl
,0èğ(
T
)
X
; (*this)Ö,1èğ(T)
Y
; (*this)Ö,2èğ(T)
Z
;

53990 
	g´im™ives
.
assign
();

53991 
	gcŞÜs
.
assign
();

53992 
boŞ
 
	g¡İ_æag
 = 
çl£
;

53993 !
	g¡İ_æag
) {

53994 
	gc0
 = 0.7f, 
	gc1
 = 0.7f, 
	gc2
 = 0.7f;

53995 
	g´im
 = 0, 
	gi0
 = 0, 
	gi1
 = 0, 
	gi2
 = 0, 
	gi3
 = 0, 
	gi4
 = 0, 
	gi5
 = 0, 
	gi6
 = 0, 
	gi7
 = 0;

53996 *
	glše
 = 0;

53997 ià((
	g”r
 = 
¡d
::
fsÿnf
(
nfe
,"%u",&
´im
))!=1è
¡İ_æag
 = 
Œue
;

53999 ++
	gnb_»ad
;

54000 
	g´im
) {

54002 ià((
”r
 = 
¡d
::
fsÿnf
(
nfe
,"%u%255[^\n] ",&
i0
,
lše
.
_d©a
))<2) {

54003 
	gcimg
::
w¬n
(
_cimg_š¡ªû


54005 
cimg_š¡ªû
,

54006 
nb_»ad
,
nb_´im™ives
,
f’ame
?filename:"(FILE*)");

54008 
	g”r
 = 
¡d
::
fsÿnf
(
nfe
,"%*[^\n] ");

54010 
	g”r
 = 
cimg_ssÿnf
(
lše
,"%f%f%f",&
c0
,&
c1
,&
c2
);

54011 
	gCImg
<
	gtf
>::
veùÜ
(
i0
).
move_to
(
´im™ives
);

54012 
	gCImg
<
	gtc
>::
veùÜ
((
tc
)(
c0
*255),Ñc)(
c1
*255),Ñc)(
c2
*255)).
move_to
(
cŞÜs
);

54016 ià((
”r
 = 
¡d
::
fsÿnf
(
nfe
,"%u%u%255[^\n] ",&
i0
,&
i1
,
lše
.
_d©a
))<2) {

54017 
	gcimg
::
w¬n
(
_cimg_š¡ªû


54019 
cimg_š¡ªû
,

54020 
nb_»ad
,
nb_´im™ives
,
f’ame
?filename:"(FILE*)");

54022 
	g”r
 = 
¡d
::
fsÿnf
(
nfe
,"%*[^\n] ");

54024 
	g”r
 = 
cimg_ssÿnf
(
lše
,"%f%f%f",&
c0
,&
c1
,&
c2
);

54025 
	gCImg
<
	gtf
>::
veùÜ
(
i0
,
i1
).
move_to
(
´im™ives
);

54026 
	gCImg
<
	gtc
>::
veùÜ
((
tc
)(
c0
*255),Ñc)(
c1
*255),Ñc)(
c2
*255)).
move_to
(
cŞÜs
);

54030 ià((
”r
 = 
¡d
::
fsÿnf
(
nfe
,"%u%u%u%255[^\n] ",&
i0
,&
i1
,&
i2
,
lše
.
_d©a
))<3) {

54031 
	gcimg
::
w¬n
(
_cimg_š¡ªû


54033 
cimg_š¡ªû
,

54034 
nb_»ad
,
nb_´im™ives
,
f’ame
?filename:"(FILE*)");

54036 
	g”r
 = 
¡d
::
fsÿnf
(
nfe
,"%*[^\n] ");

54038 
	g”r
 = 
cimg_ssÿnf
(
lše
,"%f%f%f",&
c0
,&
c1
,&
c2
);

54039 
	gCImg
<
	gtf
>::
veùÜ
(
i0
,
i2
,
i1
).
move_to
(
´im™ives
);

54040 
	gCImg
<
	gtc
>::
veùÜ
((
tc
)(
c0
*255),Ñc)(
c1
*255),Ñc)(
c2
*255)).
move_to
(
cŞÜs
);

54044 ià((
”r
 = 
¡d
::
fsÿnf
(
nfe
,"%u%u%u%u%255[^\n] ",&
i0
,&
i1
,&
i2
,&
i3
,
lše
.
_d©a
))<4) {

54045 
	gcimg
::
w¬n
(
_cimg_š¡ªû


54047 
cimg_š¡ªû
,

54048 
nb_»ad
,
nb_´im™ives
,
f’ame
?filename:"(FILE*)");

54050 
	g”r
 = 
¡d
::
fsÿnf
(
nfe
,"%*[^\n] ");

54052 
	g”r
 = 
cimg_ssÿnf
(
lše
,"%f%f%f",&
c0
,&
c1
,&
c2
);

54053 
	gCImg
<
	gtf
>::
veùÜ
(
i0
,
i3
,
i2
,
i1
).
move_to
(
´im™ives
);

54054 
	gCImg
<
	gtc
>::
veùÜ
((
tc
)(
c0
*255),Ñc)(
c1
*255),Ñc)(
c2
*255)).
move_to
(
cŞÜs
);

54058 ià((
”r
 = 
¡d
::
fsÿnf
(
nfe
,"%u%u%u%u%u%255[^\n] ",&
i0
,&
i1
,&
i2
,&
i3
,&
i4
,
lše
.
_d©a
))<5) {

54059 
	gcimg
::
w¬n
(
_cimg_š¡ªû


54061 
cimg_š¡ªû
,

54062 
nb_»ad
,
nb_´im™ives
,
f’ame
?filename:"(FILE*)");

54064 
	g”r
 = 
¡d
::
fsÿnf
(
nfe
,"%*[^\n] ");

54066 
	g”r
 = 
cimg_ssÿnf
(
lše
,"%f%f%f",&
c0
,&
c1
,&
c2
);

54067 
	gCImg
<
	gtf
>::
veùÜ
(
i0
,
i3
,
i2
,
i1
).
move_to
(
´im™ives
);

54068 
	gCImg
<
	gtf
>::
veùÜ
(
i0
,
i4
,
i3
).
move_to
(
´im™ives
);

54069 
	gcŞÜs
.
š£¹
(2,
CImg
<
tc
>::
veùÜ
(Ñc)(
c0
*255),Ñc)(
c1
*255),Ñc)(
c2
*255)));

54070 ++
	gnb_´im™ives
;

54074 ià((
”r
 = 
¡d
::
fsÿnf
(
nfe
,"%u%u%u%u%u%u%255[^\n] ",&
i0
,&
i1
,&
i2
,&
i3
,&
i4
,&
i5
,
lše
.
_d©a
))<6) {

54075 
	gcimg
::
w¬n
(
_cimg_š¡ªû


54077 
cimg_š¡ªû
,

54078 
nb_»ad
,
nb_´im™ives
,
f’ame
?filename:"(FILE*)");

54080 
	g”r
 = 
¡d
::
fsÿnf
(
nfe
,"%*[^\n] ");

54082 
	g”r
 = 
cimg_ssÿnf
(
lše
,"%f%f%f",&
c0
,&
c1
,&
c2
);

54083 
	gCImg
<
	gtf
>::
veùÜ
(
i0
,
i3
,
i2
,
i1
).
move_to
(
´im™ives
);

54084 
	gCImg
<
	gtf
>::
veùÜ
(
i0
,
i5
,
i4
,
i3
).
move_to
(
´im™ives
);

54085 
	gcŞÜs
.
š£¹
(2,
CImg
<
tc
>::
veùÜ
(Ñc)(
c0
*255),Ñc)(
c1
*255),Ñc)(
c2
*255)));

54086 ++
	gnb_´im™ives
;

54090 ià((
”r
 = 
¡d
::
fsÿnf
(
nfe
,"%u%u%u%u%u%u%u%255[^\n] ",&
i0
,&
i1
,&
i2
,&
i3
,&
i4
,&
i5
,&
i6
,
lše
.
_d©a
))<7) {

54091 
	gcimg
::
w¬n
(
_cimg_š¡ªû


54093 
cimg_š¡ªû
,

54094 
nb_»ad
,
nb_´im™ives
,
f’ame
?filename:"(FILE*)");

54096 
	g”r
 = 
¡d
::
fsÿnf
(
nfe
,"%*[^\n] ");

54098 
	g”r
 = 
cimg_ssÿnf
(
lše
,"%f%f%f",&
c0
,&
c1
,&
c2
);

54099 
	gCImg
<
	gtf
>::
veùÜ
(
i0
,
i4
,
i3
,
i1
).
move_to
(
´im™ives
);

54100 
	gCImg
<
	gtf
>::
veùÜ
(
i0
,
i6
,
i5
,
i4
).
move_to
(
´im™ives
);

54101 
	gCImg
<
	gtf
>::
veùÜ
(
i3
,
i2
,
i1
).
move_to
(
´im™ives
);

54102 
	gcŞÜs
.
š£¹
(3,
CImg
<
tc
>::
veùÜ
(Ñc)(
c0
*255),Ñc)(
c1
*255),Ñc)(
c2
*255)));

54103 ++(++
	gnb_´im™ives
);

54107 ià((
”r
 = 
¡d
::
fsÿnf
(
nfe
,"%u%u%u%u%u%u%u%u%255[^\n] ",&
i0
,&
i1
,&
i2
,&
i3
,&
i4
,&
i5
,&
i6
,&
i7
,
lše
.
_d©a
))<7) {

54108 
	gcimg
::
w¬n
(
_cimg_š¡ªû


54110 
cimg_š¡ªû
,

54111 
nb_»ad
,
nb_´im™ives
,
f’ame
?filename:"(FILE*)");

54113 
	g”r
 = 
¡d
::
fsÿnf
(
nfe
,"%*[^\n] ");

54115 
	g”r
 = 
cimg_ssÿnf
(
lše
,"%f%f%f",&
c0
,&
c1
,&
c2
);

54116 
	gCImg
<
	gtf
>::
veùÜ
(
i0
,
i3
,
i2
,
i1
).
move_to
(
´im™ives
);

54117 
	gCImg
<
	gtf
>::
veùÜ
(
i0
,
i5
,
i4
,
i3
).
move_to
(
´im™ives
);

54118 
	gCImg
<
	gtf
>::
veùÜ
(
i0
,
i7
,
i6
,
i5
).
move_to
(
´im™ives
);

54119 
	gcŞÜs
.
š£¹
(3,
CImg
<
tc
>::
veùÜ
(Ñc)(
c0
*255),Ñc)(
c1
*255),Ñc)(
c2
*255)));

54120 ++(++
	gnb_´im™ives
);

54124 
cimg
::
w¬n
(
_cimg_š¡ªû


54126 
cimg_š¡ªû
,

54127 
nb_»ad
,
nb_´im™ives
,
´im
,
f’ame
?filename:"(FILE*)");

54129 
	g”r
 = 
¡d
::
fsÿnf
(
nfe
,"%*[^\n] ");

54133 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

54134 ià(
	g´im™ives
.
	g_width
!=
nb_´im™ives
)

54135 
cimg
::
w¬n
(
_cimg_š¡ªû


54137 
cimg_š¡ªû
,

54138 
´im™ives
.
_width
,
nb_´im™ives
,
f’ame
?filename:"(FILE*)");

54139  *
	gthis
;

54151 
	gCImg
<
	gT
>& 
lßd_video
(cÚ¡ *cÚ¡ 
f’ame
,

54152 cÚ¡ 
fœ¡_äame
=0, cÚ¡ 
Ï¡_äame
=~0U,

54153 cÚ¡ 
¡•_äame
=1,

54154 cÚ¡ 
axis
='z', cÚ¡ 
®ign
=0) {

54155  
g‘_lßd_video
(
f’ame
,
fœ¡_äame
,
Ï¡_äame
,
¡•_äame
,
axis
,
®ign
).
move_to
(*
this
);

54159 
	gCImg
<
	gT
> 
g‘_lßd_video
(cÚ¡ *cÚ¡ 
f’ame
,

54160 cÚ¡ 
fœ¡_äame
=0, cÚ¡ 
Ï¡_äame
=~0U,

54161 cÚ¡ 
¡•_äame
=1,

54162 cÚ¡ 
axis
='z', cÚ¡ 
®ign
=0) {

54163  
CImgLi¡
<
T
>().
lßd_video
(
f’ame
,
fœ¡_äame
,
Ï¡_äame
,
¡•_äame
).
g‘_­³nd
(
axis
,
®ign
);

54172 
	gCImg
<
	gT
>& 
lßd_ffm³g_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
axis
='z', cÚ¡ 
®ign
=0) {

54173  
g‘_lßd_ffm³g_ex‹º®
(
f’ame
,
axis
,
®ign
).
move_to
(*
this
);

54177 
	gCImg
<
	gT
> 
g‘_lßd_ffm³g_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
axis
='z', cÚ¡ 
®ign
=0) {

54178  
CImgLi¡
<
T
>().
lßd_ffm³g_ex‹º®
(
f’ame
).
g‘_­³nd
(
axis
,
®ign
);

54187 
	gCImg
<
	gT
>& 
lßd_gif_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
,

54188 cÚ¡ 
axis
='z', cÚ¡ 
®ign
=0) {

54189  
g‘_lßd_gif_ex‹º®
(
f’ame
,
axis
,
®ign
).
move_to
(*
this
);

54193 
	gCImg
<
	gT
> 
g‘_lßd_gif_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
,

54194 cÚ¡ 
axis
='z', cÚ¡ 
®ign
=0) {

54195  
CImgLi¡
<
T
>().
lßd_gif_ex‹º®
(
f’ame
).
g‘_­³nd
(
axis
,
®ign
);

54202 
	gCImg
<
	gT
>& 
lßd_g¿phicsmagick_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
) {

54203 ià(!
	gf’ame
)

54204 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


54206 
cimg_š¡ªû
);

54207 
	gcimg
::
fşo£
(
cimg
::
fİ’
(
f’ame
,"rb"));

54208 
	gCImg
<
	gch¬T
> 
commªd
(1024), 
f’ame_tmp
(256);

54209 
	g¡d
::
FILE
 *
fe
 = 0;

54210 cÚ¡ 
	gCImg
<
	gch¬T
> 
	gs_f’ame
 = 
CImg
<
ch¬T
>::
¡ršg
(
f’ame
).
_sy¡em_¡»sÿ³
();

54211 #ià
cimg_OS
==1

54212 ià(!
	gcimg
::
sy¡em
("which gm")) {

54213 
cimg_¢´štf
(
commªd
,commªd.
_width
,"%s convert \"%s\"…nm:-",

54214 
cimg
::
g¿phicsmagick_·th
(),
s_f’ame
.
d©a
());

54215 
	gfe
 = 
pİ’
(
commªd
,"r");

54216 ià(
	gfe
) {

54217 cÚ¡ 
	gomode
 = 
cimg
::
exû±iÚ_mode
();

54218 
	gcimg
::
exû±iÚ_mode
(0);

54219 
	gŒy
 { 
lßd_²m
(
fe
); } 
ÿtch
 (...) {

54220 
pşo£
(
fe
);

54221 
	gcimg
::
exû±iÚ_mode
(
omode
);

54222 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


54225 
cimg_š¡ªû
,

54226 
f’ame
);

54228 
pşo£
(
fe
);

54229  *
	gthis
;

54234 
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s%c%s.pnm",

54235 
cimg
::
‹mpÜ¬y_·th
(),
cimg_fe_£·¿tÜ
,cimg::
f’am”ªd
());

54236 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame_tmp
,"rb"))!=0ècimg::
fşo£
(
fe
);

54237 } 
	gfe
);

54238 
cimg_¢´štf
(
commªd
,commªd.
_width
,"\"%s\" convert \"%s\" \"%s\"",

54239 
cimg
::
g¿phicsmagick_·th
(),
s_f’ame
.
d©a
(),

54240 
CImg
<
ch¬T
>::
¡ršg
(
f’ame_tmp
).
_sy¡em_¡»sÿ³
().
d©a
());

54241 
	gcimg
::
sy¡em
(
commªd
,
cimg
::
g¿phicsmagick_·th
());

54242 ià(!(
	gfe
=
cimg
::
¡d_fİ’
(
f’ame_tmp
,"rb"))) {

54243 
	gcimg
::
fşo£
(
cimg
::
fİ’
(
f’ame
,"r"));

54244 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


54246 
cimg_š¡ªû
,

54247 
f’ame
);

54249 } 
	gcimg
::
fşo£
(
fe
);

54250 
lßd_²m
(
f’ame_tmp
);

54251 
	g¡d
::
»move
(
f’ame_tmp
);

54252  *
	gthis
;

54256 
	gCImg
<
	gT
> 
g‘_lßd_g¿phicsmagick_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
) {

54257  
	gCImg
<
	gT
>().
lßd_g¿phicsmagick_ex‹º®
(
f’ame
);

54264 
	gCImg
<
	gT
>& 
lßd_gz_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
) {

54265 ià(!
	gf’ame
)

54266 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


54268 
cimg_š¡ªû
);

54269 
	gcimg
::
fşo£
(
cimg
::
fİ’
(
f’ame
,"rb"));

54270 
	gCImg
<
	gch¬T
> 
commªd
(1024), 
f’ame_tmp
(256), 
body
(256);

54272 *cÚ¡ 
	gext
 = 
cimg
::
¥l™_f’ame
(
f’ame
,
body
),

54273 *cÚ¡ 
	gext2
 = 
cimg
::
¥l™_f’ame
(
body
,0);

54275 
	g¡d
::
FILE
 *
fe
 = 0;

54277 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"gz")) {

54278 ià(*
	gext2
è
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s%c%s.%s",

54279 
cimg
::
‹mpÜ¬y_·th
(),
cimg_fe_£·¿tÜ
,cimg::
f’am”ªd
(),
ext2
);

54280 
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s%c%s",

54281 
cimg
::
‹mpÜ¬y_·th
(),
cimg_fe_£·¿tÜ
,cimg::
f’am”ªd
());

54283 ià(*
	gext
è
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s%c%s.%s",

54284 
cimg
::
‹mpÜ¬y_·th
(),
cimg_fe_£·¿tÜ
,cimg::
f’am”ªd
(),
ext
);

54285 
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s%c%s",

54286 
cimg
::
‹mpÜ¬y_·th
(),
cimg_fe_£·¿tÜ
,cimg::
f’am”ªd
());

54288 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame_tmp
,"rb"))!=0ècimg::
fşo£
(
fe
);

54289 } 
	gfe
);

54290 
cimg_¢´štf
(
commªd
,commªd.
_width
,"\"%s\" -c \"%s\" > \"%s\"",

54291 
cimg
::
gunz_·th
(),

54292 
CImg
<
ch¬T
>::
¡ršg
(
f’ame
).
_sy¡em_¡»sÿ³
().
d©a
(),

54293 
CImg
<
ch¬T
>::
¡ršg
(
f’ame_tmp
).
_sy¡em_¡»sÿ³
().
d©a
());

54294 
	gcimg
::
sy¡em
(
commªd
);

54295 ià(!(
	gfe
=
cimg
::
¡d_fİ’
(
f’ame_tmp
,"rb"))) {

54296 
	gcimg
::
fşo£
(
cimg
::
fİ’
(
f’ame
,"r"));

54297 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


54299 
cimg_š¡ªû
,

54300 
f’ame
);

54302 } 
	gcimg
::
fşo£
(
fe
);

54303 
lßd
(
f’ame_tmp
);

54304 
	g¡d
::
»move
(
f’ame_tmp
);

54305  *
	gthis
;

54309 
	gCImg
<
	gT
> 
g‘_lßd_gz_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
) {

54310  
	gCImg
<
	gT
>().
lßd_gz_ex‹º®
(
f’ame
);

54317 
	gCImg
<
	gT
>& 
lßd_imagemagick_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
) {

54318 ià(!
	gf’ame
)

54319 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


54321 
cimg_š¡ªû
);

54322 
	gcimg
::
fşo£
(
cimg
::
fİ’
(
f’ame
,"rb"));

54323 
	gCImg
<
	gch¬T
> 
commªd
(1024), 
f’ame_tmp
(256);

54324 
	g¡d
::
FILE
 *
fe
 = 0;

54325 cÚ¡ 
	gCImg
<
	gch¬T
> 
	gs_f’ame
 = 
CImg
<
ch¬T
>::
¡ršg
(
f’ame
).
_sy¡em_¡»sÿ³
();

54326 #ià
cimg_OS
==1

54327 ià(!
	gcimg
::
sy¡em
("which convert")) {

54328 
cimg_¢´štf
(
commªd
,commªd.
_width
,"%s%s \"%s\"…nm:-",

54329 
cimg
::
imagemagick_·th
(),

54330 !
cimg
::
¡rÿ£cmp
(cimg::
¥l™_f’ame
(
f’ame
),"pdf")?" -density 400x400":"",

54331 
s_f’ame
.
d©a
());

54332 
	gfe
 = 
pİ’
(
commªd
,"r");

54333 ià(
	gfe
) {

54334 cÚ¡ 
	gomode
 = 
cimg
::
exû±iÚ_mode
();

54335 
	gcimg
::
exû±iÚ_mode
(0);

54336 
	gŒy
 { 
lßd_²m
(
fe
); } 
ÿtch
 (...) {

54337 
pşo£
(
fe
);

54338 
	gcimg
::
exû±iÚ_mode
(
omode
);

54339 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


54342 
cimg_š¡ªû
,

54343 
f’ame
);

54345 
pşo£
(
fe
);

54346  *
	gthis
;

54351 
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s%c%s.pnm",

54352 
cimg
::
‹mpÜ¬y_·th
(),
cimg_fe_£·¿tÜ
,cimg::
f’am”ªd
());

54353 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame_tmp
,"rb"))!=0ècimg::
fşo£
(
fe
);

54354 } 
	gfe
);

54355 
cimg_¢´štf
(
commªd
,commªd.
_width
,"\"%s\"%s \"%s\" \"%s\"",

54356 
cimg
::
imagemagick_·th
(),

54357 !
cimg
::
¡rÿ£cmp
(cimg::
¥l™_f’ame
(
f’ame
),"pdf")?" -density 400x400":"",

54358 
s_f’ame
.
d©a
(),
CImg
<
ch¬T
>::
¡ršg
(
f’ame_tmp
).
_sy¡em_¡»sÿ³
().data());

54359 
	gcimg
::
sy¡em
(
commªd
,
cimg
::
imagemagick_·th
());

54360 ià(!(
	gfe
=
cimg
::
¡d_fİ’
(
f’ame_tmp
,"rb"))) {

54361 
	gcimg
::
fşo£
(
cimg
::
fİ’
(
f’ame
,"r"));

54362 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


54365 
cimg_š¡ªû
,

54366 
f’ame
);

54368 } 
	gcimg
::
fşo£
(
fe
);

54369 
lßd_²m
(
f’ame_tmp
);

54370 
	g¡d
::
»move
(
f’ame_tmp
);

54371  *
	gthis
;

54375 
	gCImg
<
	gT
> 
g‘_lßd_imagemagick_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
) {

54376  
	gCImg
<
	gT
>().
lßd_imagemagick_ex‹º®
(
f’ame
);

54383 
	gCImg
<
	gT
>& 
lßd_medcÚ_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
) {

54384 ià(!
	gf’ame
)

54385 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


54387 
cimg_š¡ªû
);

54388 
	gcimg
::
fşo£
(
cimg
::
fİ’
(
f’ame
,"rb"));

54389 
	gCImg
<
	gch¬T
> 
commªd
(1024), 
f’ame_tmp
(256), 
body
(256);

54390 
	gcimg
::
fşo£
(
cimg
::
fİ’
(
f’ame
,"r"));

54391 
	g¡d
::
FILE
 *
fe
 = 0;

54393 
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s.hdr",
cimg
::
f’am”ªd
());

54394 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame_tmp
,"rb"))!=0ècimg::
fşo£
(
fe
);

54395 } 
	gfe
);

54396 
cimg_¢´štf
(
commªd
,commªd.
_width
,"\"%s\" -w -c‡nlz -o \"%s\" -f \"%s\"",

54397 
cimg
::
medcÚ_·th
(),

54398 
CImg
<
ch¬T
>::
¡ršg
(
f’ame_tmp
).
_sy¡em_¡»sÿ³
().
d©a
(),

54399 
CImg
<
ch¬T
>::
¡ršg
(
f’ame
).
_sy¡em_¡»sÿ³
().
d©a
());

54400 
	gcimg
::
sy¡em
(
commªd
, 
cimg
::
medcÚ_·th
());

54401 
	gcimg
::
¥l™_f’ame
(
f’ame_tmp
,
body
);

54403 
cimg_¢´štf
(
commªd
,commªd.
_width
,"%s.hdr",
body
.
_d©a
);

54404 
	gfe
 = 
cimg
::
¡d_fİ’
(
commªd
,"rb");

54405 ià(!
	gfe
) {

54406 
cimg_¢´štf
(
commªd
,commªd.
_width
,"m000-%s.hdr",
body
.
_d©a
);

54407 
	gfe
 = 
cimg
::
¡d_fİ’
(
commªd
,"rb");

54408 ià(!
	gfe
) {

54409 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


54411 
cimg_š¡ªû
,

54412 
f’ame
);

54415 
	gcimg
::
fşo£
(
fe
);

54416 
lßd_ª®yze
(
commªd
);

54417 
	g¡d
::
»move
(
commªd
);

54418 
	gcimg
::
¥l™_f’ame
(
commªd
,
body
);

54419 
cimg_¢´štf
(
commªd
,commªd.
_width
,"%s.img",
body
.
_d©a
);

54420 
	g¡d
::
»move
(
commªd
);

54421  *
	gthis
;

54425 
	gCImg
<
	gT
> 
g‘_lßd_medcÚ_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
) {

54426  
	gCImg
<
	gT
>().
lßd_medcÚ_ex‹º®
(
f’ame
);

54433 
	gCImg
<
	gT
>& 
lßd_düaw_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
) {

54434 ià(!
	gf’ame
)

54435 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


54437 
cimg_š¡ªû
);

54438 
	gcimg
::
fşo£
(
cimg
::
fİ’
(
f’ame
,"rb"));

54439 
	gCImg
<
	gch¬T
> 
commªd
(1024), 
f’ame_tmp
(256);

54440 
	g¡d
::
FILE
 *
fe
 = 0;

54441 cÚ¡ 
	gCImg
<
	gch¬T
> 
	gs_f’ame
 = 
CImg
<
ch¬T
>::
¡ršg
(
f’ame
).
_sy¡em_¡»sÿ³
();

54442 #ià
cimg_OS
==1

54443 
cimg_¢´štf
(
commªd
,commªd.
_width
,"%s -w -4 -c \"%s\"",

54444 
cimg
::
düaw_·th
(),
s_f’ame
.
d©a
());

54445 
	gfe
 = 
pİ’
(
commªd
,"r");

54446 ià(
	gfe
) {

54447 cÚ¡ 
	gomode
 = 
cimg
::
exû±iÚ_mode
();

54448 
	gcimg
::
exû±iÚ_mode
(0);

54449 
	gŒy
 { 
lßd_²m
(
fe
); } 
ÿtch
 (...) {

54450 
pşo£
(
fe
);

54451 
	gcimg
::
exû±iÚ_mode
(
omode
);

54452 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


54454 
cimg_š¡ªû
,

54455 
f’ame
);

54457 
pşo£
(
fe
);

54458  *
	gthis
;

54462 
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s%c%s.ppm",

54463 
cimg
::
‹mpÜ¬y_·th
(),
cimg_fe_£·¿tÜ
,cimg::
f’am”ªd
());

54464 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame_tmp
,"rb"))!=0ècimg::
fşo£
(
fe
);

54465 } 
	gfe
);

54466 
cimg_¢´štf
(
commªd
,commªd.
_width
,"\"%s\" -w -4 -c \"%s\" > \"%s\"",

54467 
cimg
::
düaw_·th
(),
s_f’ame
.
d©a
(),
CImg
<
ch¬T
>::
¡ršg
(
f’ame_tmp
).
_sy¡em_¡»sÿ³
().data());

54468 
	gcimg
::
sy¡em
(
commªd
,
cimg
::
düaw_·th
());

54469 ià(!(
	gfe
=
cimg
::
¡d_fİ’
(
f’ame_tmp
,"rb"))) {

54470 
	gcimg
::
fşo£
(
cimg
::
fİ’
(
f’ame
,"r"));

54471 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


54473 
cimg_š¡ªû
,

54474 
f’ame
);

54476 } 
	gcimg
::
fşo£
(
fe
);

54477 
lßd_²m
(
f’ame_tmp
);

54478 
	g¡d
::
»move
(
f’ame_tmp
);

54479  *
	gthis
;

54483 
	gCImg
<
	gT
> 
g‘_lßd_düaw_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
) {

54484  
	gCImg
<
	gT
>().
lßd_düaw_ex‹º®
(
f’ame
);

54487 #ifdeà
cimg_u£_İ’cv


54490 
	gCImg
<
	guch¬T
> 
_cvm©2cimg
(cÚ¡ 
cv
::
M©
 &
¤c
) {

54491 ià(
¤c
.
chªÃls
()==1è 
CImg
<
uch¬T
>(¤c.
±r
(),
	g¤c
.
	gcŞs
,¤c.
	grows
,1,1);

54492 ià(
	g¤c
.
chªÃls
()==3) {

54493 
CImg
<
uch¬T
> 
»s
(
¤c
.
cŞs
,¤c.
rows
,1,¤c.
chªÃls
());

54494 cÚ¡ *
	g±rs
 = 
¤c
.
±r
();

54495 *
	gpR
 = 
»s
.
d©a
(), *
	gpG
 =„es.d©a(0,0,0,1), *
	gpB
 =„es.data(0,0,0,2);

54496 
cimg_fÜXY
(
»s
,
x
,
y
è{ *(
	gpB
++èğ*(
±rs
++); *(
	gpG
++èğ*ÕŒs++); *(
	gpR
++) = *(ptrs++); }

54497  
	g»s
;

54499  
	gCImg
<
	guch¬T
>(
	g¤c
.
±r
(),¤c.
chªÃls
(),¤c.
	gcŞs
,¤c.
	grows
,1,
	gŒue
).
g‘_³rmu‹_axes
("yzcx");

54503 
	gcv
::
M©
 
_cimg2cvm©
() const {

54504 ià(
is_em±y
())

54505 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


54507 
cimg_š¡ªû
);

54508 ià(
	g_¥eùrum
==2)

54509 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


54511 
cimg_š¡ªû
);

54512 ià(
	g_d•th
!=1)

54513 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


54515 
cimg_š¡ªû
);

54516 
	gm©_ty³
 = -1;

54517 ià(
	gcimg
::
ty³
<
T
>::
¡ršg
()==
cimg
::ty³<>::¡ršg()è
m©_ty³
 = 
CV_8UC1
;

54518 ià(
	gcimg
::
ty³
<
T
>::
¡ršg
()==
cimg
::ty³<>::¡ršg()è
m©_ty³
 = 
CV_8SC1
;

54519 ià(
	gcimg
::
ty³
<
T
>::
¡ršg
()==
cimg
::ty³<>::¡ršg()è
m©_ty³
 = 
CV_16UC1
;

54520 ià(
	gcimg
::
ty³
<
T
>::
¡ršg
()==
cimg
::ty³<>::¡ršg()è
m©_ty³
 = 
CV_16SC1
;

54521 ià(
	gcimg
::
ty³
<
T
>::
¡ršg
()==
cimg
::ty³<>::¡ršg()è
m©_ty³
 = 
CV_32SC1
;

54522 ià(
	gcimg
::
ty³
<
T
>::
¡ršg
()==
cimg
::ty³<>::¡ršg()è
m©_ty³
 = 
CV_32FC1
;

54523 ià(
	gcimg
::
ty³
<
T
>::
¡ršg
()==
cimg
::ty³<>::¡ršg()è
m©_ty³
 = 
CV_64FC1
;

54524 ià(
	gm©_ty³
<0)

54525 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


54527 
cimg_š¡ªû
,
pix–_ty³
());

54528 
	gcv
::
M©
 
»s
;

54529 
	g¡d
::
veùÜ
<
cv
::
M©
> 
chªÃls
(
_¥eùrum
);

54530 ià(
	g_¥eùrum
>1) {

54531 
cimg_fÜC
(*
this
,
c
)

54532 
	gchªÃls
[
c
] = 
cv
::
M©
(
_height
,
_width
,
m©_ty³
,
_d©a
 + _width*_height*(
_¥eùrum
 - 1 - c));

54533 
	gcv
::
m”ge
(
chªÃls
,
»s
);

54534 } 
	g»s
 = 
cv
::
M©
(
_height
,
_width
,
m©_ty³
,
_d©a
).
şÚe
();

54535  
	g»s
;

54548 
	gCImg
<
	gT
>& 
lßd_ÿm”a
(cÚ¡ 
ÿm”a_šdex
=0,

54549 cÚ¡ 
ÿ±u»_width
=0, cÚ¡ 
ÿ±u»_height
=0,

54550 cÚ¡ 
sk_äames
=0, cÚ¡ 
boŞ
 
»Ëa£_ÿm”a
=
Œue
) {

54551 #ifdeà
cimg_u£_İ’cv


54552 ià(
ÿm”a_šdex
>=64)

54553 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


54556 
cimg_š¡ªû
,

54557 
ÿm”a_šdex
);

54558 
	gcv
::
VideoC­tu»
 *
ÿ±u»s
[64] = { 0 };

54559 
	gÿ±u»s_w
[64], 
	gÿ±u»s_h
[64];

54560 ià(
	g»Ëa£_ÿm”a
) {

54561 
	gcimg
::
mu‹x
(9);

54562 ià(
	gÿ±u»s
[
ÿm”a_šdex
]èÿ±u»s[ÿm”a_šdex]->
»Ëa£
();

54563 
d–‘e
 
	gÿ±u»s
[
ÿm”a_šdex
];

54564 
	gÿ±u»s
[
ÿm”a_šdex
] = 0;

54565 
	gÿ±u»s_w
[
ÿm”a_šdex
] = 
ÿ±u»s_h
[camera_index] = 0;

54566 
	gcimg
::
mu‹x
(9,0);

54567  *
	gthis
;

54569 ià(!
	gÿ±u»s
[
ÿm”a_šdex
]) {

54570 
	gcimg
::
mu‹x
(9);

54571 
	gÿ±u»s
[
ÿm”a_šdex
] = 
Ãw
 
cv
::
VideoC­tu»
(camera_index);

54572 
	gÿ±u»s_w
[
ÿm”a_šdex
] = 
ÿ±u»s_h
[camera_index] = 0;

54573 ià(!
	gÿ±u»s
[
ÿm”a_šdex
]->
isO³Ãd
()) {

54574 
d–‘e
 
	gÿ±u»s
[
ÿm”a_šdex
];

54575 
	gÿ±u»s
[
ÿm”a_šdex
] = 0;

54576 
	gcimg
::
mu‹x
(9,0);

54577 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


54579 
cimg_š¡ªû
,

54580 
ÿm”a_šdex
);

54582 
	gcimg
::
mu‹x
(9,0);

54584 
	gcimg
::
mu‹x
(9);

54585 ià(
	gÿ±u»_width
!=
ÿ±u»s_w
[
ÿm”a_šdex
]) {

54586 
ÿ±u»s
[
ÿm”a_šdex
]->
£t
(
_cimg_ÿp_´İ_äame_width
,
ÿ±u»_width
);

54587 
	gÿ±u»s_w
[
ÿm”a_šdex
] = 
ÿ±u»_width
;

54589 ià(
	gÿ±u»_height
!=
ÿ±u»s_h
[
ÿm”a_šdex
]) {

54590 
ÿ±u»s
[
ÿm”a_šdex
]->
£t
(
_cimg_ÿp_´İ_äame_height
,
ÿ±u»_height
);

54591 
	gÿ±u»s_h
[
ÿm”a_šdex
] = 
ÿ±u»_height
;

54593 
	gi
 = 0; i<
	gsk_äames
; ++iè
	gÿ±u»s
[
ÿm”a_šdex
]->
g¿b
();

54594 
	gcv
::
M©
 
cvimg
;

54595 
	gÿ±u»s
[
ÿm”a_šdex
]->
»ad
(
cvimg
);

54596 ià(
	gcvimg
.
em±y
()è
assign
(); 
_cvm©2cimg
(
cvimg
).
move_to
(*
this
);

54597 
	gcimg
::
mu‹x
(9,0);

54598  *
	gthis
;

54600 
	gcimg
::
unu£d
(
ÿm”a_šdex
,
sk_äames
,
»Ëa£_ÿm”a
,
ÿ±u»_width
,
ÿ±u»_height
);

54601 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


54604 
cimg_š¡ªû
);

54609 
	gCImg
<
	gT
> 
g‘_lßd_ÿm”a
(cÚ¡ 
ÿm”a_šdex
=0,

54610 cÚ¡ 
ÿ±u»_width
=0, cÚ¡ 
ÿ±u»_height
=0,

54611 cÚ¡ 
sk_äames
=0, cÚ¡ 
boŞ
 
»Ëa£_ÿm”a
=
Œue
) {

54612  
CImg
<
T
>().
lßd_ÿm”a
(
ÿm”a_šdex
,
ÿ±u»_width
,
ÿ±u»_height
,
sk_äames
,
»Ëa£_ÿm”a
);

54619 
	gCImg
<
	gT
>& 
lßd_Ùh”
(cÚ¡ *cÚ¡ 
f’ame
) {

54620 ià(!
	gf’ame
)

54621 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


54623 
cimg_š¡ªû
);

54625 cÚ¡ 
	gomode
 = 
cimg
::
exû±iÚ_mode
();

54626 
	gcimg
::
exû±iÚ_mode
(0);

54627 
	gŒy
 { 
lßd_magick
(
f’ame
); }

54628 
ÿtch
 (
CImgExû±iÚ
&) {

54629 
	gŒy
 { 
lßd_imagemagick_ex‹º®
(
f’ame
); }

54630 
ÿtch
 (
CImgExû±iÚ
&) {

54631 
	gŒy
 { 
lßd_g¿phicsmagick_ex‹º®
(
f’ame
); }

54632 
ÿtch
 (
CImgExû±iÚ
&) {

54633 
	gŒy
 { 
lßd_cimg
(
f’ame
); }

54634 
ÿtch
 (
CImgExû±iÚ
&) {

54635 
	gŒy
 {

54636 
	gcimg
::
fşo£
(
cimg
::
fİ’
(
f’ame
,"rb"));

54637 } 
ÿtch
 (
CImgExû±iÚ
&) {

54638 
	gcimg
::
exû±iÚ_mode
(
omode
);

54639 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


54641 
cimg_š¡ªû
,

54642 
f’ame
);

54644 
	gcimg
::
exû±iÚ_mode
(
omode
);

54645 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


54647 
cimg_š¡ªû
,

54648 
f’ame
);

54653 
	gcimg
::
exû±iÚ_mode
(
omode
);

54654  *
	gthis
;

54658 
	gCImg
<
	gT
> 
g‘_lßd_Ùh”
(cÚ¡ *cÚ¡ 
f’ame
) {

54659  
	gCImg
<
	gT
>().
lßd_Ùh”
(
f’ame
);

54674 cÚ¡ 
	gCImg
<
	gT
>& 
´št
(cÚ¡ *cÚ¡ 
t™Ë
=0, cÚ¡ 
boŞ
 
di¥Ïy_¡©s
=
Œue
) const {

54676 
xm
 = 0, 
	gym
 = 0, 
	gzm
 = 0, 
	gvm
 = 0, 
	gxM
 = 0, 
	gyM
 = 0, 
	gzM
 = 0, 
	gvM
 = 0;

54677 
	gCImg
<
	gdoubËT
> 
	g¡
;

54678 ià(!
is_em±y
(è&& 
	gdi¥Ïy_¡©s
) {

54679 
	g¡
 = 
g‘_¡©s
();

54680 
	gxm
 = ()
¡
[4]; 
	gym
 = ()¡[5], 
	gzm
 = ()¡[6], 
	gvm
 = ()st[7];

54681 
	gxM
 = ()
¡
[8]; 
	gyM
 = ()¡[9], 
	gzM
 = ()¡[10], 
	gvM
 = ()st[11];

54684 cÚ¡ 
ulÚgT
 
	gsiz
 = 
size
(), 
	gmsiz
 = 
siz
*(
T
), 
	gsiz1
 = siz - 1,

54685 
	gmdi¥
 = 
msiz
<8*1024?0U:msiz<8*1024*1024?1U:2U, 
	gwidth1
 = 
_width
 - 1;

54687 
	gCImg
<
	gch¬T
> 
_t™Ë
(64);

54688 ià(!
	gt™Ë
è
cimg_¢´štf
(
_t™Ë
,_t™Ë.
_width
,"CImg<%s>",
pix–_ty³
());

54690 
	g¡d
::
årštf
(
cimg
::
ouut
(),"%s%s%s%s: %sthis%s = %p, %ssize%s = (%u,%u,%u,%u) [%lu %s], %sdata%s = (%s*)%p",

54691 
cimg
::
t_mag’
,cimg::
t_bŞd
,
t™Ë
?t™Ë:
_t™Ë
.
_d©a
,cimg::
t_nÜm®
,

54692 
cimg
::
t_bŞd
,cimg::
t_nÜm®
,(*)
this
,

54693 
cimg
::
t_bŞd
,cimg::
t_nÜm®
,
_width
,
_height
,
_d•th
,
_¥eùrum
,

54694 ()(
mdi¥
==0?
msiz
:(mdisp==1?(msiz>>10):(msiz>>20))),

54695 
mdi¥
==0?"b":(mdisp==1?"Kio":"Mio"),

54696 
cimg
::
t_bŞd
,cimg::
t_nÜm®
,
pix–_ty³
(),(*)
begš
());

54697 ià(
	g_d©a
)

54698 
	g¡d
::
årštf
(
cimg
::
ouut
(),"..%°(%sèğ[ ",(*)((*)
’d
(è- 1),
_is_sh¬ed
?"shared":"non-shared");

54699 
	g¡d
::
årštf
(
cimg
::
ouut
()," (%sèğ[ ",
_is_sh¬ed
?"shared":"non-shared");

54701 ià(!
is_em±y
()è
cimg_fÜoff
(*
this
,
off
) {

54702 
	g¡d
::
årštf
(
cimg
::
ouut
(),"%g",()
_d©a
[
off
]);

54703 ià(
	goff
!=
siz1
è
¡d
::
årštf
(
cimg
::
ouut
(),"%s",
off
%
_width
==
width1
?" ; ":" ");

54704 ià(
	goff
==7 && 
siz
>16è{ 
off
 = 
siz1
 - 8; 
	g¡d
::
årštf
(
cimg
::
ouut
(),"... "); }

54706 ià(!
is_em±y
(è&& 
	gdi¥Ïy_¡©s
)

54707 
	g¡d
::
årštf
(
cimg
::
ouut
(),

54710 
cimg
::
t_bŞd
,cimg::
t_nÜm®
,
¡
[0],

54711 
cimg
::
t_bŞd
,cimg::
t_nÜm®
,
¡
[1],

54712 
cimg
::
t_bŞd
,cimg::
t_nÜm®
,
¡
[2],

54713 
cimg
::
t_bŞd
,cimg::
t_nÜm®
,
¡d
::
sq¹
(
¡
[3]),

54714 
cimg
::
t_bŞd
,cimg::
t_nÜm®
,
xm
,
ym
,
zm
,
vm
,

54715 
cimg
::
t_bŞd
,cimg::
t_nÜm®
,
xM
,
yM
,
zM
,
vM
);

54716 
	g¡d
::
årštf
(
cimg
::
ouut
(),"%s].\n",
is_em±y
()?"":" ");

54717 
	g¡d
::
fæush
(
cimg
::
ouut
());

54718  *
	gthis
;

54725 cÚ¡ 
	gCImg
<
	gT
>& 
di¥Ïy
(
CImgDi¥Ïy
& 
di¥
) const {

54726 
	gdi¥
.
di¥Ïy
(*
this
);

54727  *
	gthis
;

54737 cÚ¡ 
	gCImg
<
	gT
>& 
di¥Ïy
(
CImgDi¥Ïy
 &
di¥
, cÚ¡ 
boŞ
 
di¥Ïy_šfo
, *cÚ¡ 
XYZ
=0,

54738 cÚ¡ 
boŞ
 
ex™_Ú_ªykey
=
çl£
) const {

54739  
_di¥Ïy
(
di¥
,0,
di¥Ïy_šfo
,
XYZ
,
ex™_Ú_ªykey
,
çl£
);

54749 cÚ¡ 
	gCImg
<
	gT
>& 
di¥Ïy
(cÚ¡ *cÚ¡ 
t™Ë
=0, cÚ¡ 
boŞ
 
di¥Ïy_šfo
=
Œue
, *cÚ¡ 
XYZ
=0,

54750 cÚ¡ 
boŞ
 
ex™_Ú_ªykey
=
çl£
) const {

54751 
CImgDi¥Ïy
 
di¥
;

54752  
_di¥Ïy
(
di¥
,
t™Ë
,
di¥Ïy_šfo
,
XYZ
,
ex™_Ú_ªykey
,
çl£
);

54755 cÚ¡ 
	gCImg
<
	gT
>& 
_di¥Ïy
(
CImgDi¥Ïy
 &
di¥
, cÚ¡ *cÚ¡ 
t™Ë
, cÚ¡ 
boŞ
 
di¥Ïy_šfo
,

54756 *cÚ¡ 
XYZ
, cÚ¡ 
boŞ
 
ex™_Ú_ªykey
,

54757 cÚ¡ 
boŞ
 
ex™_Ú_sšgËşick
) const {

54758 
	gŞdw
 = 0, 
	gŞdh
 = 0, 
	g_XYZ
[3] = { 0 }, 
	gkey
 = 0;

54759 
	gx0
 = 0, 
	gy0
 = 0, 
	gz0
 = 0, 
	gx1
 = 
width
(è- 1, 
	gy1
 = 
height
(è- 1, 
	gz1
 = 
d•th
() - 1,

54760 
	gŞd_mou£_x
 = -1, 
	gŞd_mou£_y
 = -1;

54762 ià(!
	gdi¥
) {

54763 
	gdi¥
.
assign
(
cimg_f™sü“n
(
_width
,
_height
,
_d•th
),
t™Ë
?title:0,1);

54764 ià(!
	gt™Ë
è
	gdi¥
.
£t_t™Ë
("CImg<%s> (%ux%ux%ux%u)",
pix–_ty³
(),
_width
,
_height
,
_d•th
,
_¥eùrum
);

54765 
	gdi¥
.
£t_t™Ë
("%s",
t™Ë
);

54766 } ià(
	gt™Ë
è
	gdi¥
.
£t_t™Ë
("%s",
t™Ë
);

54767 
	gdi¥
.
show
().
æush
();

54769 cÚ¡ 
	gCImg
<> 
	gdt™Ë
 = 
CImg
<>::
¡ršg
(
di¥
.
t™Ë
());

54770 ià(
	gdi¥Ïy_šfo
è
´št
(
dt™Ë
);

54772 
	gCImg
<
	gT
> 
	gzoom
;

54773 
boŞ
 
	g»£t_v›w
 = 
Œue
, 
	g»size_di¥
 = 
çl£
, 
	gis_fœ¡_£Ëù
 =rue; !
	gkey
 && !
	gdi¥
.
is_şo£d
(); ) {

54774 ià(
	g»£t_v›w
) {

54775 ià(
	gXYZ
è{ 
	g_XYZ
[0] = 
XYZ
[0]; _XYZ[1] = XYZ[1]; _XYZ[2] = XYZ[2]; }

54777 
	g_XYZ
[0] = ()(
x0
 + 
x1
 + 1)/2;

54778 
	g_XYZ
[1] = ()(
y0
 + 
y1
 + 1)/2;

54779 
	g_XYZ
[2] = ()(
z0
 + 
z1
 + 1)/2;

54781 
	gx0
 = 0; 
	gy0
 = 0; 
	gz0
 = 0; 
	gx1
 = 
width
(è- 1; 
	gy1
 = 
height
(è- 1; 
	gz1
 = 
d•th
() - 1;

54782 
	gdi¥
.
»size
(
cimg_f™sü“n
(
_width
,
_height
,
_d•th
),
çl£
);

54783 
	gŞdw
 = 
di¥
.
_width
; 
	gŞdh
 = di¥.
_height
;

54784 
	g»size_di¥
 = 
Œue
;

54785 
	g»£t_v›w
 = 
çl£
;

54787 ià(!
	gx0
 && !
	gy0
 && !
	gz0
 && 
	gx1
==
width
(è- 1 && 
y1
==
height
(è- 1 && 
z1
==
d•th
() - 1) {

54788 ià(
is_em±y
()è
zoom
.
assign
(1,1,1,1,(
T
)0); 
	gzoom
.assign();

54789 } 
	gzoom
 = 
g‘_üİ
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
);

54791 cÚ¡ 
	gCImg
<
	gT
>& 
	gvisu
 = 
zoom
?zoom:*
this
;

54793 
	gdx
 = 1U + 
x1
 - 
x0
, 
	gdy
 = 1U + 
y1
 - 
y0
, 
	gdz
 = 1U + 
z1
 - 
z0
,

54794 
	gtw
 = 
dx
 + (
dz
>1?dz:0U), 
	gth
 = 
dy
 + (dz>1?dz:0U);

54795 ià(!
is_em±y
(è&& !
	gdi¥
.
is_fuÎsü“n
(è&& 
	g»size_di¥
) {

54797 
	g‰w
 = ()
tw
*
di¥
.
width
()/
Şdw
, 
	g‰h
 = ()
th
*di¥.
height
()/
Şdh
,

54798 
	gdM
 = 
¡d
::
max
(
‰w
,
‰h
), 
	gdiM
 = ()¡d::max(
di¥
.
width
(),di¥.
height
());

54800 
	gimgw
 = ()(
‰w
*
diM
/
dM
), 
	gimgh
 = ()(
‰h
*diM/dM);

54801 
	gdi¥
.
£t_fuÎsü“n
(
çl£
).
»size
(
cimg_f™sü“n
(
imgw
,
imgh
,1),false);

54802 
	g»size_di¥
 = 
çl£
;

54804 
	gŞdw
 = 
tw
; 
	gŞdh
 = 
th
;

54806 
boŞ


54807 
	ggo_up
 = 
çl£
, 
	ggo_down
 = f®£, 
	ggo_Ëá
 = f®£, 
	ggo_right
 = false,

54808 
	ggo_šc
 = 
çl£
, 
	ggo_dec
 = f®£, 
	ggo_š
 = f®£, 
	ggo_out
 = false,

54809 
	ggo_š_ûÁ”
 = 
çl£
;

54811 
	gdi¥
.
£t_t™Ë
("%s",
dt™Ë
.
_d©a
);

54812 ià(
	g_width
>1 && 
	gvisu
._width==1è
di¥
.
£t_t™Ë
("% | x=%u",di¥.
_t™Ë
,
x0
);

54813 ià(
	g_height
>1 && 
	gvisu
._height==1è
di¥
.
£t_t™Ë
("% | y=%u",di¥.
_t™Ë
,
y0
);

54814 ià(
	g_d•th
>1 && 
	gvisu
._d•th==1è
di¥
.
£t_t™Ë
("% | z=%u",di¥.
_t™Ë
,
z0
);

54816 
	gdi¥
.
	g_mou£_x
 = 
Şd_mou£_x
; di¥.
	g_mou£_y
 = 
Şd_mou£_y
;

54817 
	gCImg
<
	gštT
> 
	g£ËùiÚ
 = 
visu
.
_£Ëù
(
di¥
,0,2,
_XYZ
,
x0
,
y0
,
z0
,
Œue
,
is_fœ¡_£Ëù
,
_d•th
>1,true);

54818 
	gŞd_mou£_x
 = 
di¥
.
_mou£_x
; 
	gŞd_mou£_y
 = di¥.
_mou£_y
;

54819 
	gis_fœ¡_£Ëù
 = 
çl£
;

54821 ià(
	gdi¥
.
wh“l
()) {

54822 ià((
	gdi¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) &&

54823 (
	gdi¥
.
is_keySHIFTLEFT
(è|| di¥.
is_keySHIFTRIGHT
())) {

54824 
	ggo_Ëá
 = !(
go_right
 = 
di¥
.
wh“l
()>0);

54825 } ià(
	gdi¥
.
is_keySHIFTLEFT
(è|| di¥.
is_keySHIFTRIGHT
()) {

54826 
	ggo_down
 = !(
go_up
 = 
di¥
.
wh“l
()>0);

54827 } ià(
d•th
()==1 || 
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

54828 
go_out
 = !(
go_š
 = 
di¥
.
wh“l
()>0); 
	ggo_š_ûÁ”
 = 
çl£
;

54830 
	gdi¥
.
£t_wh“l
();

54834 
	gsx0
 = 
£ËùiÚ
(0), 
	gsy0
 = s–eùiÚ(1), 
	gsz0
 = selection(2),

54835 
	gsx1
 = 
£ËùiÚ
(3), 
	gsy1
 = s–eùiÚ(4), 
	gsz1
 = selection(5);

54836 ià(
	gsx0
>=0 && 
sy0
>=0 && 
sz0
>=0 && 
sx1
>=0 && 
sy1
>=0 && 
sz1
>=0) {

54837 
x1
 = 
x0
 + 
sx1
; 
	gy1
 = 
y0
 + 
sy1
; 
	gz1
 = 
z0
 + 
sz1
;

54838 
	gx0
+=
sx0
; 
	gy0
+=
sy0
; 
	gz0
+=
sz0
;

54839 ià((
	gsx0
==
sx1
 && 
sy0
==
sy1
è|| (
_d•th
>1 && 
sx0
==sx1 && 
sz0
==
sz1
) || (_depth>1 && sy0==sy1 && sz0==sz1)) {

54840 ià(
ex™_Ú_sšgËşick
 && (!
zoom
 || 
is_em±y
())è; 
	g»£t_v›w
 = 
Œue
;

54842 
	g»size_di¥
 = 
Œue
;

54843 } 
	gkey
 = 
di¥
.
key
()) {

54844 #ià
cimg_OS
!=2

54845 
cimg
::
keyCTRLRIGHT
 : cimg::
keySHIFTRIGHT
 :

54847 0 : 
cimg
::
keyCTRLLEFT
 : cimg::
keySHIFTLEFT
 : 
key
 = 0; ;

54848 
	gcimg
::
keyP
 : ià(
visu
.
_d•th
>1 && (
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
())) {

54851 
w1
 = 
visu
.
_width
*
di¥
.
width
()/(visu._width + (visu.
_d•th
>1?visu._depth:0)),

54852 
	gh1
 = 
visu
.
_height
*
di¥
.
height
()/(visu._heighˆ+ (visu.
_d•th
>1?visu._depth:0));

54853 
	gäame_timšg
 = 5;

54854 
boŞ
 
	gis_¡İ³d
 = 
çl£
;

54855 
	gdi¥
.
£t_key
(
key
,
çl£
).
£t_wh“l
().
»size
(
cimg_f™sü“n
(
w1
,
h1
,1),çl£); 
	gkey
 = 0;

54856 
	gtim”
 = 0; !
	gkey
 && !
	gdi¥
.
is_şo£d
(è&& !di¥.
bu‰Ú
(); ) {

54857 ià(
	gdi¥
.
is_»sized
()èdi¥.
»size
(
çl£
);

54858 ià(!
	gtim”
) {

54859 
	gvisu
.
g‘_¦iû
(()
_XYZ
[2]).
di¥Ïy
(
di¥
.
£t_t™Ë
("% | z=%d",
dt™Ë
.
d©a
(),_XYZ[2]));

54860 (++
	g_XYZ
[2])%=
visu
.
_d•th
;

54862 ià(!
	gis_¡İ³d
è{ ià(++
	gtim”
>()
	gäame_timšg
)imer = 0; } timer = ~0U;

54863 ià(
	gdi¥
.
wh“l
()è{ 
	gäame_timšg
-=
di¥
.wh“l()/3.f; di¥.
£t_wh“l
(); }

54864 
	gkey
 = 
di¥
.
key
()) {

54865 #ià
cimg_OS
!=2

54866 
cimg
::
keyCTRLRIGHT
 :

54868 
cimg
::
keyCTRLLEFT
 : 
key
 = 0; ;

54869 
	gcimg
::
keyPAGEUP
 : 
äame_timšg
-=0.3f; 
	gkey
 = 0; ;

54870 
	gcimg
::
keyPAGEDOWN
 : 
äame_timšg
+=0.3f; 
	gkey
 = 0; ;

54871 
	gcimg
::
keySPACE
 : 
is_¡İ³d
 = !is_¡İ³d; 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0; ;

54872 
	gcimg
::
keyARROWLEFT
 : 
cimg
::
keyARROWUP
 : 
is_¡İ³d
 = 
Œue
; 
	gtim”
 = 0; 
	gkey
 = 0; ;

54873 
	gcimg
::
keyARROWRIGHT
 : 
cimg
::
keyARROWDOWN
 : 
is_¡İ³d
 = 
Œue
;

54874 (
	g_XYZ
[2]+=
visu
.
_d•th
 - 2)%=visu._d•th; 
	gtim”
 = 0; 
	gkey
 = 0; ;

54875 
	gcimg
::
keyD
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

54876 
di¥
.
£t_fuÎsü“n
(
çl£
).

54877 
»size
(
CImgDi¥Ïy
::
_f™sü“n
(3*
di¥
.
width
()/2,3*di¥.
height
()/2,1,128,-100,
çl£
),

54878 
CImgDi¥Ïy
::
_f™sü“n
(3*
di¥
.
width
()/2,3*di¥.
height
()/2,1,128,-100,
Œue
),
çl£
);

54879 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0;

54881 
	gcimg
::
keyC
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

54882 
di¥
.
£t_fuÎsü“n
(
çl£
).

54883 
»size
(
cimg_f™sü“n
(2*
di¥
.
width
()/3,2*di¥.
height
()/3,1),
çl£
).
£t_key
(
key
,çl£); 
	gkey
 = 0;

54885 
	gcimg
::
keyR
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

54886 
di¥
.
£t_fuÎsü“n
(
çl£
).

54887 
»size
(
cimg_f™sü“n
(
_width
,
_height
,
_d•th
),
çl£
).
£t_key
(
key
,çl£); 
	gkey
 = 0;

54889 
	gcimg
::
keyF
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

54890 
di¥
.
»size
(di¥.
sü“n_width
(),di¥.
sü“n_height
(),
çl£
).

54891 
toggË_fuÎsü“n
().
£t_key
(
key
,
çl£
); 
	gkey
 = 0;

54894 
	gäame_timšg
 = 
äame_timšg
<1?1:(frame_timing>39?39:frame_timing);

54895 
	gdi¥
.
wa™
(20);

54898 
	gw2
 = (
visu
.
_width
 + (visu.
_d•th
>1?visu._d•th:0))*
di¥
.
width
()/visu._width,

54899 
	gh2
 = (
visu
.
_height
 + (visu.
_d•th
>1?visu._d•th:0))*
di¥
.
height
()/visu._height;

54900 
	gdi¥
.
»size
(
cimg_f™sü“n
(
w2
,
h2
,1),
çl£
).
£t_t™Ë
(
dt™Ë
.
d©a
()).
£t_key
().
£t_bu‰Ú
().
£t_wh“l
();

54901 
	gkey
 = 0;

54903 
	gcimg
::
keyHOME
 : 
»£t_v›w
 = 
»size_di¥
 = 
Œue
; 
	gkey
 = 0; ;

54904 
	gcimg
::
keyPADADD
 : 
go_š
 = 
Œue
; 
	ggo_š_ûÁ”
 =rue; 
	gkey
 = 0; ;

54905 
	gcimg
::
keyPADSUB
 : 
go_out
 = 
Œue
; 
	gkey
 = 0; ;

54906 
	gcimg
::
keyARROWLEFT
 : 
cimg
::
keyPAD4
: 
go_Ëá
 = 
Œue
; 
	gkey
 = 0; ;

54907 
	gcimg
::
keyARROWRIGHT
 : 
cimg
::
keyPAD6
: 
go_right
 = 
Œue
; 
	gkey
 = 0; ;

54908 
	gcimg
::
keyARROWUP
 : 
cimg
::
keyPAD8
: 
go_up
 = 
Œue
; 
	gkey
 = 0; ;

54909 
	gcimg
::
keyARROWDOWN
 : 
cimg
::
keyPAD2
: 
go_down
 = 
Œue
; 
	gkey
 = 0; ;

54910 
	gcimg
::
keyPAD7
 : 
go_up
 = 
go_Ëá
 = 
Œue
; 
	gkey
 = 0; ;

54911 
	gcimg
::
keyPAD9
 : 
go_up
 = 
go_right
 = 
Œue
; 
	gkey
 = 0; ;

54912 
	gcimg
::
keyPAD1
 : 
go_down
 = 
go_Ëá
 = 
Œue
; 
	gkey
 = 0; ;

54913 
	gcimg
::
keyPAD3
 : 
go_down
 = 
go_right
 = 
Œue
; 
	gkey
 = 0; ;

54914 
	gcimg
::
keyPAGEUP
 : 
go_šc
 = 
Œue
; 
	gkey
 = 0; ;

54915 
	gcimg
::
keyPAGEDOWN
 : 
go_dec
 = 
Œue
; 
	gkey
 = 0; ;

54917 ià(
	ggo_š
) {

54919 
	gmx
 = 
go_š_ûÁ”
?
di¥
.
width
()/2:di¥.
mou£_x
(),

54920 
	gmy
 = 
go_š_ûÁ”
?
di¥
.
height
()/2:di¥.
mou£_y
(),

54921 
	gmX
 = 
mx
*(
width
(è+ (
d•th
()>1?d•th():0))/
di¥
.width(),

54922 
	gmY
 = 
my
*(
height
(è+ (
d•th
()>1?d•th():0))/
di¥
.height();

54923 
	gX
 = ()
_XYZ
[0], 
	gY
 = ()_XYZ[1], 
	gZ
 = ()_XYZ[2];

54924 ià(
	gmX
<
width
(è&& 
	gmY
<
height
()) {

54925 
	gX
 = 
x0
 + 
mX
*(1 + 
x1
 - x0)/
width
(); 
	gY
 = 
y0
 + 
mY
*(1 + 
y1
 - y0)/
height
();

54927 ià(
	gmX
<
width
(è&& 
	gmY
>=
height
()) {

54928 
X
 = 
x0
 + 
mX
*(1 + 
x1
 - x0)/
width
(); 
	gZ
 = 
z0
 + (
mY
 - 
height
())*(1 + 
z1
 - z0)/
d•th
();

54930 ià(
	gmX
>=
width
(è&& 
mY
<
height
()) {

54931 
Y
 = 
y0
 + 
mY
*(1 + 
y1
 - y0)/
height
(); 
	gZ
 = 
z0
 + (
mX
 - 
width
())*(1 + 
z1
 - z0)/
d•th
();

54933 ià(
	gx1
 - 
	gx0
>4è{ x0 = 
X
 - 3*(X - 
x0
)/4; x1 = X + 3*(
x1
 - X)/4; }

54934 ià(
	gy1
 - 
	gy0
>4è{ y0 = 
Y
 - 3*(Y - 
y0
)/4; y1 = Y + 3*(
y1
 - Y)/4; }

54935 ià(
	gz1
 - 
	gz0
>4è{ z0 = 
Z
 - 3*(Z - 
z0
)/4; z1 = Z + 3*(
z1
 - Z)/4; }

54937 ià(
	ggo_out
) {

54939 
	gd–_x
 = (
x1
 - 
x0
)/8, 
	gd–_y
 = (
y1
 - 
y0
)/8, 
	gd–_z
 = (
z1
 - 
z0
)/8,

54940 
	gnd–_x
 = 
d–_x
?d–_x:(
_width
>1),

54941 
	gnd–_y
 = 
d–_y
?d–_y:(
_height
>1),

54942 
	gnd–_z
 = 
d–_z
?d–_z:(
_d•th
>1);

54943 
	gx0
-=
nd–_x
; 
	gy0
-=
nd–_y
; 
	gz0
-=
nd–_z
;

54944 
	gx1
+=
nd–_x
; 
	gy1
+=
nd–_y
; 
	gz1
+=
nd–_z
;

54945 ià(
	gx0
<0è{ 
	gx1
-=
x0
; x0 = 0; ià(x1>=
width
()è
x1
 = width() - 1; }

54946 ià(
	gy0
<0è{ 
	gy1
-=
y0
; y0 = 0; ià(y1>=
height
()è
y1
 = height() - 1; }

54947 ià(
	gz0
<0è{ 
	gz1
-=
z0
; z0 = 0; ià(z1>=
d•th
()è
z1
 = depth() - 1; }

54948 ià(
	gx1
>=
width
()è{ 
x0
-=(
x1
 - width(è+ 1); x1 = width(è- 1; ià(
	gx0
<0) x0 = 0; }

54949 ià(
	gy1
>=
height
()è{ 
y0
-=(
y1
 - height(è+ 1); y1 = height(è- 1; ià(
	gy0
<0) y0 = 0; }

54950 ià(
	gz1
>=
d•th
()è{ 
z0
-=(
z1
 - d•th(è+ 1); z1 = d•th(è- 1; ià(
	gz0
<0) z0 = 0; }

54952 
	g¿tio
 = ()(
x1
-
x0
)/(
y1
-
y0
),

54953 
	g¿tiow
 = ()
di¥
.
_width
/di¥.
_height
,

54954 
	gsub
 = 
¡d
::
mš
(
cimg
::
abs
(
¿tio
 - 
¿tiow
),cimg::abs(1/ratio-1/ratiow));

54955 ià(
	gsub
>0.01è
	g»size_di¥
 = 
Œue
;

54957 ià(
	ggo_Ëá
) {

54958 cÚ¡ 
	gd–
 = (
x1
 - 
x0
)/4, 
	gnd–
 = 
d–
?d–:(
_width
>1);

54959 ià(
	gx0
 - 
	gnd–
>=0è{ 
x0
-=
nd–
; 
	gx1
-=ndelta; }

54960 { 
	gx1
-=
x0
; 
	gx0
 = 0; }

54962 ià(
	ggo_right
) {

54963 cÚ¡ 
	gd–
 = (
x1
 - 
x0
)/4, 
	gnd–
 = 
d–
?d–:(
_width
>1);

54964 ià(
	gx1
+
	gnd–
<
width
()è{ 
	gx0
+=
nd–
; x1+=ndelta; }

54965 { 
	gx0
+=(
width
(è- 1 - 
x1
); 
	gx1
 = width() - 1; }

54967 ià(
	ggo_up
) {

54968 cÚ¡ 
	gd–
 = (
y1
 - 
y0
)/4, 
	gnd–
 = 
d–
?d–:(
_height
>1);

54969 ià(
	gy0
 - 
	gnd–
>=0è{ 
y0
-=
nd–
; 
	gy1
-=ndelta; }

54970 { 
	gy1
-=
y0
; 
	gy0
 = 0; }

54972 ià(
	ggo_down
) {

54973 cÚ¡ 
	gd–
 = (
y1
 - 
y0
)/4, 
	gnd–
 = 
d–
?d–:(
_height
>1);

54974 ià(
	gy1
+
	gnd–
<
height
()è{ 
	gy0
+=
nd–
; y1+=ndelta; }

54975 { 
	gy0
+=(
height
(è- 1 - 
y1
); 
	gy1
 = height() - 1; }

54977 ià(
	ggo_šc
) {

54978 cÚ¡ 
	gd–
 = (
z1
 - 
z0
)/4, 
	gnd–
 = 
d–
?d–:(
_d•th
>1);

54979 ià(
	gz0
 - 
	gnd–
>=0è{ 
z0
-=
nd–
; 
	gz1
-=ndelta; }

54980 { 
	gz1
-=
z0
; 
	gz0
 = 0; }

54982 ià(
	ggo_dec
) {

54983 cÚ¡ 
	gd–
 = (
z1
 - 
z0
)/4, 
	gnd–
 = 
d–
?d–:(
_d•th
>1);

54984 ià(
	gz1
+
	gnd–
<
d•th
()è{ 
	gz0
+=
nd–
; z1+=ndelta; }

54985 { 
	gz0
+=(
d•th
(è- 1 - 
z1
); 
	gz1
 = depth() - 1; }

54987 
	gdi¥
.
wa™
(100);

54988 ià(!
	gex™_Ú_ªykey
 && 
	gkey
 && key!=
cimg
::
keyESC
 &&

54989 (
key
!=
cimg
::
keyW
 || (!
di¥
.
is_keyCTRLLEFT
(è&& !di¥.
is_keyCTRLRIGHT
()))) {

54990 
key
 = 0;

54993 
	gdi¥
.
£t_key
(
key
);

54994 ià(
	gXYZ
è{ XYZ[0] = 
_XYZ
[0]; XYZ[1] = _XYZ[1]; XYZ[2] = _XYZ[2]; }

54995  *
	gthis
;

55019 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtf
,y³Çm
	gtc
,y³Çm
	gto
>

55020 cÚ¡ 
	gCImg
<
	gT
>& 
di¥Ïy_objeù3d
(
CImgDi¥Ïy
& 
di¥
,

55021 cÚ¡ 
CImg
<

>& 
v”tiûs
,

55022 cÚ¡ 
CImgLi¡
<
tf
>& 
´im™ives
,

55023 cÚ¡ 
CImgLi¡
<
tc
>& 
cŞÜs
,

55024 cÚ¡ 
to
& 
İac™›s
,

55025 cÚ¡ 
boŞ
 
ûÁ”šg
=
Œue
,

55026 cÚ¡ 
»nd”_¡©ic
=4, cÚ¡ 
»nd”_mÙiÚ
=1,

55027 cÚ¡ 
boŞ
 
is_doubË_sided
=
Œue
, cÚ¡ 
foÿË
=700,

55028 cÚ¡ 
light_x
=0, cÚ¡ 
light_y
=0, cÚ¡ 
light_z
=-5e8f,

55029 cÚ¡ 
¥ecuÏr_lighŠess
=0.2f, cÚ¡ 
¥ecuÏr_shššess
=0.1f,

55030 cÚ¡ 
boŞ
 
di¥Ïy_axes
=
Œue
, *cÚ¡ 
po£_m©rix
=0,

55031 cÚ¡ 
boŞ
 
ex™_Ú_ªykey
=
çl£
) const {

55032  
_di¥Ïy_objeù3d
(
di¥
,0,
v”tiûs
,
´im™ives
,
cŞÜs
,
İac™›s
,
ûÁ”šg
,
»nd”_¡©ic
,

55033 
»nd”_mÙiÚ
,
is_doubË_sided
,
foÿË
,

55034 
light_x
,
light_y
,
light_z
,
¥ecuÏr_lighŠess
,
¥ecuÏr_shššess
,

55035 
di¥Ïy_axes
,
po£_m©rix
,
ex™_Ú_ªykey
);

55039 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtf
,y³Çm
	gtc
,y³Çm
	gto
>

55040 cÚ¡ 
	gCImg
<
	gT
>& 
di¥Ïy_objeù3d
(cÚ¡ *cÚ¡ 
t™Ë
,

55041 cÚ¡ 
CImg
<

>& 
v”tiûs
,

55042 cÚ¡ 
CImgLi¡
<
tf
>& 
´im™ives
,

55043 cÚ¡ 
CImgLi¡
<
tc
>& 
cŞÜs
,

55044 cÚ¡ 
to
& 
İac™›s
,

55045 cÚ¡ 
boŞ
 
ûÁ”šg
=
Œue
,

55046 cÚ¡ 
»nd”_¡©ic
=4, cÚ¡ 
»nd”_mÙiÚ
=1,

55047 cÚ¡ 
boŞ
 
is_doubË_sided
=
Œue
, cÚ¡ 
foÿË
=700,

55048 cÚ¡ 
light_x
=0, cÚ¡ 
light_y
=0, cÚ¡ 
light_z
=-5e8f,

55049 cÚ¡ 
¥ecuÏr_lighŠess
=0.2f, cÚ¡ 
¥ecuÏr_shššess
=0.1f,

55050 cÚ¡ 
boŞ
 
di¥Ïy_axes
=
Œue
, *cÚ¡ 
po£_m©rix
=0,

55051 cÚ¡ 
boŞ
 
ex™_Ú_ªykey
=
çl£
) const {

55052 
CImgDi¥Ïy
 
di¥
;

55053  
_di¥Ïy_objeù3d
(
di¥
,
t™Ë
,
v”tiûs
,
´im™ives
,
cŞÜs
,
İac™›s
,
ûÁ”šg
,
»nd”_¡©ic
,

55054 
»nd”_mÙiÚ
,
is_doubË_sided
,
foÿË
,

55055 
light_x
,
light_y
,
light_z
,
¥ecuÏr_lighŠess
,
¥ecuÏr_shššess
,

55056 
di¥Ïy_axes
,
po£_m©rix
,
ex™_Ú_ªykey
);

55060 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtf
,y³Çm
	gtc
>

55061 cÚ¡ 
	gCImg
<
	gT
>& 
di¥Ïy_objeù3d
(
CImgDi¥Ïy
 &
di¥
,

55062 cÚ¡ 
CImg
<

>& 
v”tiûs
,

55063 cÚ¡ 
CImgLi¡
<
tf
>& 
´im™ives
,

55064 cÚ¡ 
CImgLi¡
<
tc
>& 
cŞÜs
,

55065 cÚ¡ 
boŞ
 
ûÁ”šg
=
Œue
,

55066 cÚ¡ 
»nd”_¡©ic
=4, cÚ¡ 
»nd”_mÙiÚ
=1,

55067 cÚ¡ 
boŞ
 
is_doubË_sided
=
Œue
, cÚ¡ 
foÿË
=700,

55068 cÚ¡ 
light_x
=0, cÚ¡ 
light_y
=0, cÚ¡ 
light_z
=-5e8f,

55069 cÚ¡ 
¥ecuÏr_lighŠess
=0.2f, cÚ¡ 
¥ecuÏr_shššess
=0.1f,

55070 cÚ¡ 
boŞ
 
di¥Ïy_axes
=
Œue
, *cÚ¡ 
po£_m©rix
=0,

55071 cÚ¡ 
boŞ
 
ex™_Ú_ªykey
=
çl£
) const {

55072  
di¥Ïy_objeù3d
(
di¥
,
v”tiûs
,
´im™ives
,
cŞÜs
,
CImgLi¡
<
æßtT
>(),
ûÁ”šg
,

55073 
»nd”_¡©ic
,
»nd”_mÙiÚ
,
is_doubË_sided
,
foÿË
,

55074 
light_x
,
light_y
,
light_z
,
¥ecuÏr_lighŠess
,
¥ecuÏr_shššess
,

55075 
di¥Ïy_axes
,
po£_m©rix
,
ex™_Ú_ªykey
);

55079 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtf
,y³Çm
	gtc
>

55080 cÚ¡ 
	gCImg
<
	gT
>& 
di¥Ïy_objeù3d
(cÚ¡ *cÚ¡ 
t™Ë
,

55081 cÚ¡ 
CImg
<

>& 
v”tiûs
,

55082 cÚ¡ 
CImgLi¡
<
tf
>& 
´im™ives
,

55083 cÚ¡ 
CImgLi¡
<
tc
>& 
cŞÜs
,

55084 cÚ¡ 
boŞ
 
ûÁ”šg
=
Œue
,

55085 cÚ¡ 
»nd”_¡©ic
=4, cÚ¡ 
»nd”_mÙiÚ
=1,

55086 cÚ¡ 
boŞ
 
is_doubË_sided
=
Œue
, cÚ¡ 
foÿË
=700,

55087 cÚ¡ 
light_x
=0, cÚ¡ 
light_y
=0, cÚ¡ 
light_z
=-5e8f,

55088 cÚ¡ 
¥ecuÏr_lighŠess
=0.2f, cÚ¡ 
¥ecuÏr_shššess
=0.1f,

55089 cÚ¡ 
boŞ
 
di¥Ïy_axes
=
Œue
, *cÚ¡ 
po£_m©rix
=0,

55090 cÚ¡ 
boŞ
 
ex™_Ú_ªykey
=
çl£
) const {

55091  
di¥Ïy_objeù3d
(
t™Ë
,
v”tiûs
,
´im™ives
,
cŞÜs
,
CImgLi¡
<
æßtT
>(),
ûÁ”šg
,

55092 
»nd”_¡©ic
,
»nd”_mÙiÚ
,
is_doubË_sided
,
foÿË
,

55093 
light_x
,
light_y
,
light_z
,
¥ecuÏr_lighŠess
,
¥ecuÏr_shššess
,

55094 
di¥Ïy_axes
,
po£_m©rix
,
ex™_Ú_ªykey
);

55098 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtf
>

55099 cÚ¡ 
	gCImg
<
	gT
>& 
di¥Ïy_objeù3d
(
CImgDi¥Ïy
 &
di¥
,

55100 cÚ¡ 
CImg
<

>& 
v”tiûs
,

55101 cÚ¡ 
CImgLi¡
<
tf
>& 
´im™ives
,

55102 cÚ¡ 
boŞ
 
ûÁ”šg
=
Œue
,

55103 cÚ¡ 
»nd”_¡©ic
=4, cÚ¡ 
»nd”_mÙiÚ
=1,

55104 cÚ¡ 
boŞ
 
is_doubË_sided
=
Œue
, cÚ¡ 
foÿË
=700,

55105 cÚ¡ 
light_x
=0, cÚ¡ 
light_y
=0, cÚ¡ 
light_z
=-5e8f,

55106 cÚ¡ 
¥ecuÏr_lighŠess
=0.2f, cÚ¡ 
¥ecuÏr_shššess
=0.1f,

55107 cÚ¡ 
boŞ
 
di¥Ïy_axes
=
Œue
, *cÚ¡ 
po£_m©rix
=0,

55108 cÚ¡ 
boŞ
 
ex™_Ú_ªykey
=
çl£
) const {

55109  
di¥Ïy_objeù3d
(
di¥
,
v”tiûs
,
´im™ives
,
CImgLi¡
<
T
>(),
ûÁ”šg
,

55110 
»nd”_¡©ic
,
»nd”_mÙiÚ
,
is_doubË_sided
,
foÿË
,

55111 
light_x
,
light_y
,
light_z
,
¥ecuÏr_lighŠess
,
¥ecuÏr_shššess
,

55112 
di¥Ïy_axes
,
po£_m©rix
,
ex™_Ú_ªykey
);

55117 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtf
>

55118 cÚ¡ 
	gCImg
<
	gT
>& 
di¥Ïy_objeù3d
(cÚ¡ *cÚ¡ 
t™Ë
,

55119 cÚ¡ 
CImg
<

>& 
v”tiûs
,

55120 cÚ¡ 
CImgLi¡
<
tf
>& 
´im™ives
,

55121 cÚ¡ 
boŞ
 
ûÁ”šg
=
Œue
,

55122 cÚ¡ 
»nd”_¡©ic
=4, cÚ¡ 
»nd”_mÙiÚ
=1,

55123 cÚ¡ 
boŞ
 
is_doubË_sided
=
Œue
, cÚ¡ 
foÿË
=700,

55124 cÚ¡ 
light_x
=0, cÚ¡ 
light_y
=0, cÚ¡ 
light_z
=-5e8f,

55125 cÚ¡ 
¥ecuÏr_lighŠess
=0.2f, cÚ¡ 
¥ecuÏr_shššess
=0.1f,

55126 cÚ¡ 
boŞ
 
di¥Ïy_axes
=
Œue
, *cÚ¡ 
po£_m©rix
=0,

55127 cÚ¡ 
boŞ
 
ex™_Ú_ªykey
=
çl£
) const {

55128  
di¥Ïy_objeù3d
(
t™Ë
,
v”tiûs
,
´im™ives
,
CImgLi¡
<
T
>(),
ûÁ”šg
,

55129 
»nd”_¡©ic
,
»nd”_mÙiÚ
,
is_doubË_sided
,
foÿË
,

55130 
light_x
,
light_y
,
light_z
,
¥ecuÏr_lighŠess
,
¥ecuÏr_shššess
,

55131 
di¥Ïy_axes
,
po£_m©rix
,
ex™_Ú_ªykey
);

55135 
	g‹m¶©e
<
ty³Çme
 
	g
>

55136 cÚ¡ 
	gCImg
<
	gT
>& 
di¥Ïy_objeù3d
(
CImgDi¥Ïy
 &
di¥
,

55137 cÚ¡ 
CImg
<

>& 
v”tiûs
,

55138 cÚ¡ 
boŞ
 
ûÁ”šg
=
Œue
,

55139 cÚ¡ 
»nd”_¡©ic
=4, cÚ¡ 
»nd”_mÙiÚ
=1,

55140 cÚ¡ 
boŞ
 
is_doubË_sided
=
Œue
, cÚ¡ 
foÿË
=700,

55141 cÚ¡ 
light_x
=0, cÚ¡ 
light_y
=0, cÚ¡ 
light_z
=-5e8f,

55142 cÚ¡ 
¥ecuÏr_lighŠess
=0.2f, cÚ¡ 
¥ecuÏr_shššess
=0.1f,

55143 cÚ¡ 
boŞ
 
di¥Ïy_axes
=
Œue
, *cÚ¡ 
po£_m©rix
=0,

55144 cÚ¡ 
boŞ
 
ex™_Ú_ªykey
=
çl£
) const {

55145  
di¥Ïy_objeù3d
(
di¥
,
v”tiûs
,
CImgLi¡
<
uštT
>(),
ûÁ”šg
,

55146 
»nd”_¡©ic
,
»nd”_mÙiÚ
,
is_doubË_sided
,
foÿË
,

55147 
light_x
,
light_y
,
light_z
,
¥ecuÏr_lighŠess
,
¥ecuÏr_shššess
,

55148 
di¥Ïy_axes
,
po£_m©rix
,
ex™_Ú_ªykey
);

55152 
	g‹m¶©e
<
ty³Çme
 
	g
>

55153 cÚ¡ 
	gCImg
<
	gT
>& 
di¥Ïy_objeù3d
(cÚ¡ *cÚ¡ 
t™Ë
,

55154 cÚ¡ 
CImg
<

>& 
v”tiûs
,

55155 cÚ¡ 
boŞ
 
ûÁ”šg
=
Œue
,

55156 cÚ¡ 
»nd”_¡©ic
=4, cÚ¡ 
»nd”_mÙiÚ
=1,

55157 cÚ¡ 
boŞ
 
is_doubË_sided
=
Œue
, cÚ¡ 
foÿË
=700,

55158 cÚ¡ 
light_x
=0, cÚ¡ 
light_y
=0, cÚ¡ 
light_z
=-5e8f,

55159 cÚ¡ 
¥ecuÏr_lighŠess
=0.2f, cÚ¡ 
¥ecuÏr_shššess
=0.1f,

55160 cÚ¡ 
boŞ
 
di¥Ïy_axes
=
Œue
, *cÚ¡ 
po£_m©rix
=0,

55161 cÚ¡ 
boŞ
 
ex™_Ú_ªykey
=
çl£
) const {

55162  
di¥Ïy_objeù3d
(
t™Ë
,
v”tiûs
,
CImgLi¡
<
uštT
>(),
ûÁ”šg
,

55163 
»nd”_¡©ic
,
»nd”_mÙiÚ
,
is_doubË_sided
,
foÿË
,

55164 
light_x
,
light_y
,
light_z
,
¥ecuÏr_lighŠess
,
¥ecuÏr_shššess
,

55165 
di¥Ïy_axes
,
po£_m©rix
,
ex™_Ú_ªykey
);

55168 
	g‹m¶©e
<
ty³Çme
 
	g
,y³Çm
	gtf
,y³Çm
	gtc
,y³Çm
	gto
>

55169 cÚ¡ 
	gCImg
<
	gT
>& 
_di¥Ïy_objeù3d
(
CImgDi¥Ïy
& 
di¥
, cÚ¡ *cÚ¡ 
t™Ë
,

55170 cÚ¡ 
CImg
<

>& 
v”tiûs
,

55171 cÚ¡ 
CImgLi¡
<
tf
>& 
´im™ives
,

55172 cÚ¡ 
CImgLi¡
<
tc
>& 
cŞÜs
,

55173 cÚ¡ 
to
& 
İac™›s
,

55174 cÚ¡ 
boŞ
 
ûÁ”šg
,

55175 cÚ¡ 
»nd”_¡©ic
, cÚ¡ 
»nd”_mÙiÚ
,

55176 cÚ¡ 
boŞ
 
is_doubË_sided
, cÚ¡ 
foÿË
,

55177 cÚ¡ 
light_x
, cÚ¡ 
light_y
, cÚ¡ 
light_z
,

55178 cÚ¡ 
¥ecuÏr_lighŠess
, cÚ¡ 
¥ecuÏr_shššess
,

55179 cÚ¡ 
boŞ
 
di¥Ïy_axes
, *cÚ¡ 
po£_m©rix
,

55180 cÚ¡ 
boŞ
 
ex™_Ú_ªykey
) const {

55181 
ty³Çme
 
	tcimg
::
	tsu³r£t
<
	t
,>::
	tty³
 
	tæßt
;

55184 ià(
is_em±y
()) {

55185 
	gCImg
<
	gT
> 
	gbackground
;

55186 ià(
	gcŞÜs
 && cŞÜs[0].
size
()==1è
background
.
assign
(1,2,1,1,64,128);

55187 
	gbackground
.
assign
(1,2,1,3,32,64,32,116,64,96);

55188 ià(
	gdi¥
è
	gbackground
.
»size
(
di¥
.
width
(),di¥.
height
(),1,-100,3);

55189 
	gbackground
.
»size
(
cimg_f™sü“n
(
CImgDi¥Ïy
::
sü“n_width
()/2,

55190 
CImgDi¥Ïy
::
sü“n_height
()/2,1),1,-100,3);

55191  
	gbackground
.
_di¥Ïy_objeù3d
(
di¥
,
t™Ë
,
v”tiûs
,
´im™ives
,
cŞÜs
,
İac™›s
,
ûÁ”šg
,

55192 
»nd”_¡©ic
,
»nd”_mÙiÚ
,
is_doubË_sided
,
foÿË
,

55193 
light_x
,
light_y
,
light_z
,
¥ecuÏr_lighŠess
,
¥ecuÏr_shššess
,

55194 
di¥Ïy_axes
,
po£_m©rix
,
ex™_Ú_ªykey
);

55195 } { ià(
	gdi¥
èdi¥.
»size
(*
this
,
çl£
); }

55196 
	gCImg
<
	gch¬T
> 
”rÜ_mes§ge
(1024);

55197 ià(!
	gv”tiûs
.
is_objeù3d
(
´im™ives
,
cŞÜs
,
İac™›s
,
Œue
,
”rÜ_mes§ge
))

55198 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


55200 
cimg_š¡ªû
,
v”tiûs
.
_width
,
´im™ives
._width,
”rÜ_mes§ge
.
d©a
());

55201 ià(
	gv”tiûs
.
	g_width
 && !
	g´im™ives
) {

55202 
	gCImgLi¡
<
	gtf
> 
Årim™ives
(
v”tiûs
.
_width
,1,1,1,1);

55203 
cimgli¡_fÜ
(
Årim™ives
,
l
èÅrim™ivesÖ,0èğ(
tf
)l;

55204  
_di¥Ïy_objeù3d
(
di¥
,
t™Ë
,
v”tiûs
,
Årim™ives
,
cŞÜs
,
İac™›s
,
ûÁ”šg
,

55205 
»nd”_¡©ic
,
»nd”_mÙiÚ
,
is_doubË_sided
,
foÿË
,

55206 
light_x
,
light_y
,
light_z
,
¥ecuÏr_lighŠess
,
¥ecuÏr_shššess
,

55207 
di¥Ïy_axes
,
po£_m©rix
,
ex™_Ú_ªykey
);

55209 ià(!
	gdi¥
) {

55210 
	gdi¥
.
assign
(
cimg_f™sü“n
(
_width
,
_height
,
_d•th
),
t™Ë
?title:0,3);

55211 ià(!
	gt™Ë
è
	gdi¥
.
£t_t™Ë
("CImg<%s> (%u vertices, %u…rimitives)",

55212 
pix–_ty³
(),
v”tiûs
.
_width
,
´im™ives
._width);

55213 } ià(
	gt™Ë
è
	gdi¥
.
£t_t™Ë
("%s",
t™Ë
);

55216 
	gCImg
<
	gæßtT
>

55217 
	gpo£
,

55218 
rÙ©ed_v”tiûs
(
v”tiûs
.
_width
,3),

55219 
	gbbox_v”tiûs
, 
	grÙ©ed_bbox_v”tiûs
,

55220 
	gaxes_v”tiûs
, 
	grÙ©ed_axes_v”tiûs
,

55221 
	gbbox_İac™›s
, 
	gaxes_İac™›s
;

55222 
	gCImgLi¡
<
	guštT
> 
	gbbox_´im™ives
, 
	gaxes_´im™ives
;

55223 
	gCImgLi¡
<
	gtf
> 
	g»v”£_´im™ives
;

55224 
	gCImgLi¡
<
	gT
> 
	gbbox_cŞÜs
, 
	gbbox_cŞÜs2
, 
	gaxes_cŞÜs
;

55225 
	gns_width
 = 0, 
	gns_height
 = 0;

55226 
	g_is_doubË_sided
 = ()
is_doubË_sided
;

55227 
boŞ
 
	gndi¥Ïy_axes
 = 
di¥Ïy_axes
;

55228 cÚ¡ 
	gCImg
<
	gT
>

55229 
background_cŞÜ
(1,1,1,
_¥eùrum
,0),

55230 
fÜeground_cŞÜ
(1,1,1,
_¥eùrum
,(
T
)
¡d
::
mš
(()
cimg
::
ty³
<T>::
max
(),255));

55232 
	gXoff
 = 0, 
	gYoff
 = 0, 
	gZoff
 = 0, 
	g¥r™e_sÿË
 = 1,

55233 
	gxm
 = 0, 
	gxM
 = 
v”tiûs
?v”tiûs.
g‘_sh¬ed_row
(0).
max_mš
(
xm
):0,

55234 
	gym
 = 0, 
	gyM
 = 
v”tiûs
?v”tiûs.
g‘_sh¬ed_row
(1).
max_mš
(
ym
):0,

55235 
	gzm
 = 0, 
	gzM
 = 
v”tiûs
?v”tiûs.
g‘_sh¬ed_row
(2).
max_mš
(
zm
):0;

55236 cÚ¡ 
	gd–
 = 
cimg
::
max
(
xM
 - 
xm
,
yM
 - 
ym
,
zM
 - 
zm
);

55238 
	grÙ©ed_bbox_v”tiûs
 = 
bbox_v”tiûs
.
assign
(8,3,1,1,

55239 
xm
,
xM
,xM,xm,xm,xM,xM,xm,

55240 
ym
,ym,
yM
,yM,ym,ym,yM,yM,

55241 
zm
,zm,zm,zm,
zM
,zM,zM,zM);

55242 
	gbbox_´im™ives
.
assign
(6,1,4,1,1, 0,3,2,1, 4,5,6,7, 1,2,6,5, 0,4,7,3, 0,1,5,4, 2,3,7,6);

55243 
	gbbox_cŞÜs
.
assign
(6,
_¥eùrum
,1,1,1,
background_cŞÜ
[0]);

55244 
	gbbox_cŞÜs2
.
assign
(6,
_¥eùrum
,1,1,1,
fÜeground_cŞÜ
[0]);

55245 
	gbbox_İac™›s
.
assign
(
bbox_cŞÜs
.
_width
,1,1,1,0.3f);

55247 
	grÙ©ed_axes_v”tiûs
 = 
axes_v”tiûs
.
assign
(7,3,1,1,

55251 
	gaxes_İac™›s
.
assign
(3,1,1,1,1);

55252 
	gaxes_cŞÜs
.
assign
(3,
_¥eùrum
,1,1,1,
fÜeground_cŞÜ
[0]);

55253 
	gaxes_´im™ives
.
assign
(3,1,2,1,1, 0,1, 0,2, 0,3);

55256 
	gCImg
<
	gT
> 
visu0
(*
this
,
çl£
), 
	gvisu
;

55257 
	gCImg
<
	gæßt
> 
zbufãr
(
visu0
.
width
(),visu0.
height
(),1,1,0);

55258 
boŞ
 
	gš™_po£
 = 
Œue
, 
	gşicked
 = 
çl£
, 
	g»d¿w
 =rue;

55259 
	gkey
 = 0, 
	gfÚt_size
 = 32;

55261 
	gx0
 = 0, 
	gy0
 = 0, 
	gx1
 = 0, 
	gy1
 = 0,

55262 
	gÄ’d”_¡©ic
 = 
»nd”_¡©ic
,

55263 
	gÄ’d”_mÙiÚ
 = 
»nd”_mÙiÚ
;

55264 
	gdi¥
.
show
().
æush
();

55266 !
	gdi¥
.
is_şo£d
(è&& !
	gkey
) {

55269 ià(
	gš™_po£
) {

55271 
	g¿tio
 = 
d–
>0?(2.f*
¡d
::
mš
(
di¥
.
width
(),di¥.
height
())/(3.f*
	gd–
)):1,

55272 
	gdx
 = (
xM
 + 
xm
)/2, 
	gdy
 = (
yM
 + 
ym
)/2, 
	gdz
 = (
zM
 + 
zm
)/2;

55273 ià(
	gûÁ”šg
)

55274 
	gCImg
<
	gæßtT
>(4,3,1,1, 
	g¿tio
,0.,0.,-
¿tio
*
	gdx
, 0.,¿tio,0.,-¿tio*
	gdy
, 0.,0.,¿tio,-¿tio*
	gdz
).
move_to
(
po£
);

55275 
	gCImg
<
	gæßtT
>(4,3,1,1, 1,0,0,0, 0,1,0,0, 0,0,1,0).
move_to
(
po£
);

55276 ià(
	gpo£_m©rix
) {

55277 
	gCImg
<
	gæßtT
> 
po£0
(
po£_m©rix
,4,3,1,1,
çl£
);

55278 
	gpo£0
.
»size
(4,4,1,1,0); 
	gpo£
.resize(4,4,1,1,0);

55279 
po£0
(3,3èğ
po£
(3,3) = 1;

55280 (
po£0
*
	gpo£
).
g‘_üİ
(0,0,3,2).
move_to
(
po£
);

55281 
	gXoff
 = 
po£_m©rix
[12]; 
	gYoff
 =…o£_m©rix[13]; 
	gZoff
 =…o£_m©rix[14]; 
	g¥r™e_sÿË
 =…ose_matrix[15];

55282 } { 
	gXoff
 = 
Yoff
 = 
Zoff
 = 0; 
	g¥r™e_sÿË
 = 1; }

55283 
	gš™_po£
 = 
çl£
;

55284 
	g»d¿w
 = 
Œue
;

55288 ià(
	g»d¿w
) {

55290 
	gr00
 = 
po£
(0,0), 
	gr10
 =…o£(1,0), 
	gr20
 =…o£(2,0), 
	gr30
 =…ose(3,0),

55291 
	gr01
 = 
po£
(0,1), 
	gr11
 =…o£(1,1), 
	gr21
 =…o£(2,1), 
	gr31
 =…ose(3,1),

55292 
	gr02
 = 
po£
(0,2), 
	gr12
 =…o£(1,2), 
	gr22
 =…o£(2,2), 
	gr32
 =…ose(3,2);

55293 ià((
	gşicked
 && 
	gÄ’d”_mÙiÚ
>=0è|| (!
şicked
 && 
Ä’d”_¡©ic
>=0)) {

55294 cÚ¡ 

 *cÚ¡ 
pv0
 = 
v”tiûs
.
d©a
(), *cÚ¡ 
	gpv1
 = v”tiûs.d©a(0,1), *cÚ¡ 
	gpv2
 = vertices.data(0,2);

55296 *cÚ¡ 
	g´v0
 = 
rÙ©ed_v”tiûs
.
d©a
(),

55297 *cÚ¡ 
	g´v1
 = 
rÙ©ed_v”tiûs
.
d©a
(0,1),

55298 *cÚ¡ 
	g´v2
 = 
rÙ©ed_v”tiûs
.
d©a
(0,2);

55299 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if
(
v”tiûs
.
width
()>(
cimg_İ’mp_sizeçùÜ
)*1024))

55300 
cimg_fÜX
(
v”tiûs
,
l
) {

55301 cÚ¡ 
	gx
 = ()
pv0
[
l
], 
	gy
 = ()
pv1
[l], 
	gz
 = ()
pv2
[l];

55302 
	g´v0
[
l
] = 
r00
*
x
 + 
r10
*
y
 + 
r20
*
z
 + 
r30
;

55303 
	g´v1
[
l
] = 
r01
*
x
 + 
r11
*
y
 + 
r21
*
z
 + 
r31
;

55304 
	g´v2
[
l
] = 
r02
*
x
 + 
r12
*
y
 + 
r22
*
z
 + 
r32
;

55307 
cimg_fÜX
(
bbox_v”tiûs
,
l
) {

55308 cÚ¡ 
	gx
 = 
bbox_v”tiûs
(
l
,0), 
	gy
 = bbox_v”tiûsÖ,1), 
	gz
 = bbox_vertices(l,2);

55309 
rÙ©ed_bbox_v”tiûs
(
l
,0èğ
r00
*
x
 + 
r10
*
y
 + 
r20
*
z
 + 
r30
;

55310 
rÙ©ed_bbox_v”tiûs
(
l
,1èğ
r01
*
x
 + 
r11
*
y
 + 
r21
*
z
 + 
r31
;

55311 
rÙ©ed_bbox_v”tiûs
(
l
,2èğ
r02
*
x
 + 
r12
*
y
 + 
r22
*
z
 + 
r32
;

55315 cÚ¡ 
boŞ
 
	g»nd”_w™h_zbufãr
 = !
şicked
 && 
Ä’d”_¡©ic
>0;

55316 
	gvisu
 = 
visu0
;

55317 ià((
	gşicked
 && 
	gÄ’d”_mÙiÚ
<0è|| (!şicked && 
	gÄ’d”_¡©ic
<0))

55318 
	gvisu
.
d¿w_objeù3d
(
Xoff
 + 
visu
.
_width
/2.f,
Yoff
 + visu.
_height
/2.f,
Zoff
,

55319 
rÙ©ed_bbox_v”tiûs
,
bbox_´im™ives
,
bbox_cŞÜs
,
bbox_İac™›s
,2,
çl£
,
foÿË
).

55320 
d¿w_objeù3d
(
Xoff
 + 
visu
.
_width
/2.f,
Yoff
 + visu.
_height
/2.f,
Zoff
,

55321 
rÙ©ed_bbox_v”tiûs
,
bbox_´im™ives
,
bbox_cŞÜs2
,1,
çl£
,
foÿË
);

55322 
	gvisu
.
_d¿w_objeù3d
((*)0,
»nd”_w™h_zbufãr
?
zbufãr
.
fl
(0):
CImg
<
æßt
>::
em±y
(),

55323 
Xoff
 + 
visu
.
_width
/2.f,
Yoff
 + visu.
_height
/2.f,
Zoff
,

55324 
rÙ©ed_v”tiûs
,
»v”£_´im™ives
?»v”£_´im™ives:
´im™ives
,

55325 
cŞÜs
,
İac™›s
,
şicked
?
Ä’d”_mÙiÚ
:
Ä’d”_¡©ic
,
_is_doubË_sided
==1,
foÿË
,

55326 
width
()/2.à+ 
light_x
,
height
()/2.à+ 
light_y
,
light_z
 + 
Zoff
,

55327 
¥ecuÏr_lighŠess
,
¥ecuÏr_shššess
,1,
¥r™e_sÿË
);

55329 ià(
	gndi¥Ïy_axes
) {

55331 
	gn
 = 1e-8à+ 
cimg
::
hypÙ
(
r00
,
r01
,
r02
),

55332 
	g_r00
 = 
r00
/
n
, 
	g_r10
 = 
r10
/n, 
	g_r20
 = 
r20
/n,

55333 
	g_r01
 = 
r01
/
n
, 
	g_r11
 = 
r11
/n, 
	g_r21
 = 
r21
/n,

55334 
	g_r02
 = 
r01
/
n
, 
	g_r12
 = 
r12
/n, 
	g_r22
 = 
r22
/n,

55335 
	gXaxes
 = 25, 
	gYaxes
 = 
visu
.
_height
 - 38.f;

55336 
cimg_fÜX
(
axes_v”tiûs
,
l
) {

55338 
	gx
 = 
axes_v”tiûs
(
l
,0),

55339 
	gy
 = 
axes_v”tiûs
(
l
,1),

55340 
	gz
 = 
axes_v”tiûs
(
l
,2);

55341 
rÙ©ed_axes_v”tiûs
(
l
,0èğ
_r00
*
x
 + 
_r10
*
y
 + 
_r20
*
z
;

55342 
rÙ©ed_axes_v”tiûs
(
l
,1èğ
_r01
*
x
 + 
_r11
*
y
 + 
_r21
*
z
;

55343 
rÙ©ed_axes_v”tiûs
(
l
,2èğ
_r02
*
x
 + 
_r12
*
y
 + 
_r22
*
z
;

55345 
axes_İac™›s
(0,0èğ(
rÙ©ed_axes_v”tiûs
(1,2)>0)?0.5f:1.f;

55346 
axes_İac™›s
(1,0èğ(
rÙ©ed_axes_v”tiûs
(2,2)>0)?0.5f:1.f;

55347 
axes_İac™›s
(2,0èğ(
rÙ©ed_axes_v”tiûs
(3,2)>0)?0.5f:1.f;

55348 
	gvisu
.
d¿w_objeù3d
(
Xaxes
,
Yaxes
,0,
rÙ©ed_axes_v”tiûs
,
axes_´im™ives
,

55349 
axes_cŞÜs
,
axes_İac™›s
,1,
çl£
,
foÿË
).

55350 
d¿w_‹xt
(()(
Xaxes
 + 
rÙ©ed_axes_v”tiûs
(4,0)),

55351 ()(
Yaxes
 + 
rÙ©ed_axes_v”tiûs
(4,1)),

55352 "X",
axes_cŞÜs
[0].
_d©a
,0,
axes_İac™›s
(0,0),13).

55353 
d¿w_‹xt
(()(
Xaxes
 + 
rÙ©ed_axes_v”tiûs
(5,0)),

55354 ()(
Yaxes
 + 
rÙ©ed_axes_v”tiûs
(5,1)),

55355 "Y",
axes_cŞÜs
[1].
_d©a
,0,
axes_İac™›s
(1,0),13).

55356 
d¿w_‹xt
(()(
Xaxes
 + 
rÙ©ed_axes_v”tiûs
(6,0)),

55357 ()(
Yaxes
 + 
rÙ©ed_axes_v”tiûs
(6,1)),

55358 "Z",
axes_cŞÜs
[2].
_d©a
,0,
axes_İac™›s
(2,0),13);

55360 
	gvisu
.
di¥Ïy
(
di¥
);

55361 ià(!
	gşicked
 || 
	gÄ’d”_mÙiÚ
==
Ä’d”_¡©ic
è
»d¿w
 = 
çl£
;

55365 ià(!
	g»d¿w
è
	gdi¥
.
wa™
();

55366 ià((
	gdi¥
.
bu‰Ú
(è|| di¥.
wh“l
()è&& di¥.
mou£_x
()>=0 && 
di¥
.
mou£_y
()>=0) {

55367 
»d¿w
 = 
Œue
;

55368 ià(!
	gşicked
è{ 
	gx0
 = 
x1
 = 
di¥
.
mou£_x
(); 
	gy0
 = 
y1
 = di¥.
mou£_y
(); ià(!
	gdi¥
.
wh“l
()èşicked = 
Œue
; }

55369 { 
	gx1
 = 
di¥
.
mou£_x
(); 
	gy1
 = di¥.
mou£_y
(); }

55370 cÚ¡ 
boŞ
 
	gis_keyCTRL
 = 
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
();

55371 ià(
	gdi¥
.
bu‰Ú
()&1 && !
	gis_keyCTRL
) {

55373 
	gR
 = 0.45f*
¡d
::
mš
(
di¥
.
width
(),di¥.
height
()),

55374 
	gR2
 = 
R
*R,

55375 
	gu0
 = ()(
x0
 - 
di¥
.
width
()/2),

55376 
	gv0
 = ()(
y0
 - 
di¥
.
height
()/2),

55377 
	gu1
 = ()(
x1
 - 
di¥
.
width
()/2),

55378 
	gv1
 = ()(
y1
 - 
di¥
.
height
()/2),

55379 
	gn0
 = 
cimg
::
hypÙ
(
u0
,
v0
),

55380 
	gn1
 = 
cimg
::
hypÙ
(
u1
,
v1
),

55381 
	gnu0
 = 
n0
>
R
?(
u0
*R/n0):u0,

55382 
	gnv0
 = 
n0
>
R
?(
v0
*R/n0):v0,

55383 
	gnw0
 = ()
¡d
::
sq¹
(¡d::
max
(0.f,
R2
 - 
nu0
*nu0 - 
nv0
*nv0)),

55384 
	gnu1
 = 
n1
>
R
?(
u1
*R/n1):u1,

55385 
	gnv1
 = 
n1
>
R
?(
v1
*R/n1):v1,

55386 
	gnw1
 = ()
¡d
::
sq¹
(¡d::
max
(0.f,
R2
 - 
nu1
*nu1 - 
nv1
*nv1)),

55387 
	gu
 = 
nv0
*
nw1
 - 
nw0
*
nv1
,

55388 
	gv
 = 
nw0
*
nu1
 - 
nu0
*
nw1
,

55389 
	gw
 = 
nv0
*
nu1
 - 
nu0
*
nv1
,

55390 
	gn
 = 
cimg
::
hypÙ
(
u
,
v
,
w
),

55391 
	g®pha
 = ()
¡d
::
asš
(
n
/
R2
)*180/
cimg
::
PI
;

55392 (
	gCImg
<
	gæßtT
>::
rÙ©iÚ_m©rix
(
u
,
v
,
w
,-
®pha
)*
	gpo£
).
move_to
(
po£
);

55393 
	gx0
 = 
x1
; 
	gy0
 = 
y1
;

55395 ià(
	gdi¥
.
bu‰Ú
()&2 && !
	gis_keyCTRL
) {

55396 ià(
	gfoÿË
>0è
	gZoff
-=(
y0
 - 
y1
)*
foÿË
/400;

55397 { cÚ¡ 
	gs
 = 
¡d
::
exp
((
y0
 - 
y1
)/400.f); 
	gpo£
*=
s
; 
	g¥r™e_sÿË
*=s; }

55398 
	gx0
 = 
x1
; 
	gy0
 = 
y1
;

55400 ià(
	gdi¥
.
wh“l
()) {

55401 ià(
	gfoÿË
>0è
	gZoff
-=
di¥
.
wh“l
()*
foÿË
/20;

55402 { cÚ¡ 
	gs
 = 
¡d
::
exp
(
di¥
.
wh“l
()/20.f); 
	gpo£
*=
s
; 
	g¥r™e_sÿË
*=s; }

55403 
	gdi¥
.
£t_wh“l
();

55405 ià(
	gdi¥
.
bu‰Ú
()&4 || (di¥.bu‰Ú()&1 && 
	gis_keyCTRL
)) {

55406 
	gXoff
+=(
x1
 - 
x0
); 
	gYoff
+=(
y1
 - 
y0
); 
	gx0
 = x1; 
	gy0
 = y1;

55408 ià((
	gdi¥
.
bu‰Ú
()&1è&& (di¥.bu‰Ú()&2è&& !
	gis_keyCTRL
) {

55409 
	gš™_po£
 = 
Œue
; 
	gdi¥
.
£t_bu‰Ú
(); 
	gx0
 = 
x1
; 
	gy0
 = 
y1
;

55410 
	gpo£
 = 
CImg
<
æßtT
>(4,3,1,1, 1,0,0,0, 0,1,0,0, 0,0,1,0);

55412 } ià(
	gşicked
è{ 
	gx0
 = 
x1
; 
	gy0
 = 
y1
; clicked = 
çl£
; 
	g»d¿w
 = 
Œue
; }

55414 
	gCImg
<
	gch¬T
> 
f’ame
(32);

55415 
	gkey
 = 
di¥
.
key
()) {

55416 #ià
cimg_OS
!=2

55417 
cimg
::
keyCTRLRIGHT
 :

55419 0 : 
cimg
::
keyCTRLLEFT
 : 
key
 = 0; ;

55420 
	gcimg
::
keyD
: ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

55421 
di¥
.
£t_fuÎsü“n
(
çl£
).

55422 
»size
(
CImgDi¥Ïy
::
_f™sü“n
(3*
di¥
.
width
()/2,3*di¥.
height
()/2,1,128,-100,
çl£
),

55423 
CImgDi¥Ïy
::
_f™sü“n
(3*
di¥
.
width
()/2,3*di¥.
height
()/2,1,128,-100,
Œue
),
çl£
).

55424 
	g_is_»sized
 = 
Œue
;

55425 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0;

55427 
	gcimg
::
keyC
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

55428 
di¥
.
£t_fuÎsü“n
(
çl£
).

55429 
»size
(
cimg_f™sü“n
(2*
di¥
.
width
()/3,2*di¥.
height
()/3,1),
çl£
).
	g_is_»sized
 = 
Œue
;

55430 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0;

55432 
	gcimg
::
keyR
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

55433 
di¥
.
£t_fuÎsü“n
(
çl£
).
»size
(
cimg_f™sü“n
(
_width
,
_height
,
_d•th
),çl£).
	g_is_»sized
 = 
Œue
;

55434 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0;

55436 
	gcimg
::
keyF
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

55437 ià(!
ns_width
 || !
ns_height
 ||

55438 
ns_width
>()
di¥
.
sü“n_width
(è|| 
ns_height
>()di¥.
sü“n_height
()) {

55439 
ns_width
 = 
di¥
.
sü“n_width
()*3U/4;

55440 
	gns_height
 = 
di¥
.
sü“n_height
()*3U/4;

55442 ià(
	gdi¥
.
is_fuÎsü“n
()èdi¥.
»size
(
ns_width
,
ns_height
,
çl£
);

55444 
	gns_width
 = 
di¥
.
_width
; 
	gns_height
 = di¥.
_height
;

55445 
	gdi¥
.
»size
(
di¥
.
sü“n_width
(),di¥.
sü“n_height
(),
çl£
);

55447 
	gdi¥
.
toggË_fuÎsü“n
().
	g_is_»sized
 = 
Œue
;

55448 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0;

55450 
	gcimg
::
keyT
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

55452 ià(--
_is_doubË_sided
==-2) _is_double_sided = 1;

55453 ià(
	g_is_doubË_sided
>=0è
»v”£_´im™ives
.
assign
();

55454 
	g´im™ives
.
g‘_»v”£_objeù3d
().
move_to
(
»v”£_´im™ives
);

55455 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0; 
	g»d¿w
 = 
Œue
;

55457 
	gcimg
::
keyZ
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

55458 ià(
zbufãr
èzbufãr.
assign
();

55459 
	gzbufãr
.
assign
(
visu0
.
width
(),visu0.
height
(),1,1,0);

55460 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0; 
	g»d¿w
 = 
Œue
;

55462 
	gcimg
::
keyX
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

55463 
ndi¥Ïy_axes
 = !ndisplay_axes;

55464 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0; 
	g»d¿w
 = 
Œue
;

55466 
	gcimg
::
keyF1
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

55467 
Ä’d”_mÙiÚ
 = (
Ä’d”_¡©ic
==0 &&‚»nd”_mÙiÚ!=0)?0:-1; 
	gÄ’d”_¡©ic
 = 0;

55468 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0; 
	g»d¿w
 = 
Œue
;

55470 
	gcimg
::
keyF2
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

55471 
Ä’d”_mÙiÚ
 = (
Ä’d”_¡©ic
==1 &&‚»nd”_mÙiÚ!=1)?1:-1; 
	gÄ’d”_¡©ic
 = 1;

55472 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0; 
	g»d¿w
 = 
Œue
;

55474 
	gcimg
::
keyF3
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

55475 
Ä’d”_mÙiÚ
 = (
Ä’d”_¡©ic
==2 &&‚»nd”_mÙiÚ!=2)?2:-1; 
	gÄ’d”_¡©ic
 = 2;

55476 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0; 
	g»d¿w
 = 
Œue
;

55478 
	gcimg
::
keyF4
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

55479 
Ä’d”_mÙiÚ
 = (
Ä’d”_¡©ic
==3 &&‚»nd”_mÙiÚ!=3)?3:-1; 
	gÄ’d”_¡©ic
 = 3;

55480 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0; 
	g»d¿w
 = 
Œue
;

55482 
	gcimg
::
keyF5
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

55484 
Ä’d”_mÙiÚ
 = (
Ä’d”_¡©ic
==4 &&‚»nd”_mÙiÚ!=4)?4:-1; 
	gÄ’d”_¡©ic
 = 4;

55485 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0; 
	g»d¿w
 = 
Œue
;

55487 
	gcimg
::
keyF6
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

55488 
Ä’d”_mÙiÚ
 = (
Ä’d”_¡©ic
==5 &&‚»nd”_mÙiÚ!=5)?5:-1; 
	gÄ’d”_¡©ic
 = 5;

55489 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0; 
	g»d¿w
 = 
Œue
;

55491 
	gcimg
::
keyS
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

55492 
¢­_numb”
 = 0;

55493 
	g¡d
::
FILE
 *
fe
;

55495 
cimg_¢´štf
(
f’ame
,f’ame.
_width
,
cimg_­²ame
 "_%.4u.bmp",
¢­_numb”
++);

55496 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame
,"r"))!=0ècimg::
fşo£
(
fe
);

55497 } 
	gfe
);

55498 (+
	gvisu
).
__d¿w_‹xt
(" Savšg sÇpshÙ... ",
fÚt_size
,0).
di¥Ïy
(
di¥
);

55499 
	gvisu
.
§ve
(
f’ame
);

55500 (+
	gvisu
).
__d¿w_‹xt
(" SÇpshÙ '%s' saved. ",
fÚt_size
,0,
f’ame
.
_d©a
).
di¥Ïy
(
di¥
);

55501 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0;

55503 
	gcimg
::
keyG
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

55504 
¢­_numb”
 = 0;

55505 
	g¡d
::
FILE
 *
fe
;

55507 
cimg_¢´štf
(
f’ame
,f’ame.
_width
,
cimg_­²ame
 "_%.4u.off",
¢­_numb”
++);

55508 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame
,"r"))!=0ècimg::
fşo£
(
fe
);

55509 } 
	gfe
);

55510 (+
	gvisu
).
__d¿w_‹xt
(" Savšg objeù... ",
fÚt_size
,0).
di¥Ïy
(
di¥
);

55511 
	gv”tiûs
.
§ve_off
(
»v”£_´im™ives
?»v”£_´im™ives:
´im™ives
,
cŞÜs
,
f’ame
);

55512 (+
	gvisu
).
__d¿w_‹xt
(" Objeù '%s' saved. ",
fÚt_size
,0,
f’ame
.
_d©a
).
di¥Ïy
(
di¥
);

55513 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0;

55515 
	gcimg
::
keyO
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

55516 
¢­_numb”
 = 0;

55517 
	g¡d
::
FILE
 *
fe
;

55520 #ifdeà
cimg_u£_zlib


55521 
cimg_¢´štf
(
f’ame
,f’ame.
_width
,
cimg_­²ame
 "_%.4u.cimgz",
¢­_numb”
++);

55523 
cimg_¢´štf
(
f’ame
,f’ame.
_width
,
cimg_­²ame
 "_%.4u.cimg",
¢­_numb”
++);

55525 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame
,"r"))!=0ècimg::
fşo£
(
fe
);

55526 } 
	gfe
);

55527 (+
	gvisu
).
__d¿w_‹xt
(" Savšg objeù... ",
fÚt_size
,0).
di¥Ïy
(
di¥
);

55528 
	gv”tiûs
.
g‘_objeù3dtoCImg3d
(
»v”£_´im™ives
?»v”£_´im™ives:
´im™ives
,
cŞÜs
,
İac™›s
).

55529 
§ve
(
f’ame
);

55530 (+
	gvisu
).
__d¿w_‹xt
(" Objeù '%s' saved. ",
fÚt_size
,0,
f’ame
.
_d©a
).
di¥Ïy
(
di¥
);

55531 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0;

55534 #ifdeà
cimg_u£_bßrd


55535 
	gcimg
::
keyP
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

55536 
¢­_numb”
 = 0;

55537 
	g¡d
::
FILE
 *
fe
;

55539 
cimg_¢´štf
(
f’ame
,f’ame.
_width
,
cimg_­²ame
 "_%.4u.•s",
¢­_numb”
++);

55540 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame
,"r"))!=0ècimg::
fşo£
(
fe
);

55541 } 
	gfe
);

55542 (+
	gvisu
).
__d¿w_‹xt
(" Savšg EPS sÇpshÙ... ",
fÚt_size
,0).
di¥Ïy
(
di¥
);

55543 
	gLibBßrd
::
Bßrd
 
bßrd
;

55544 (+
	gvisu
).
_d¿w_objeù3d
(&
bßrd
,
zbufãr
.
fl
(0),

55545 
Xoff
 + 
visu
.
_width
/2.f,
Yoff
 + visu.
_height
/2.f,
Zoff
,

55546 
rÙ©ed_v”tiûs
,
»v”£_´im™ives
?»v”£_´im™ives:
´im™ives
,

55547 
cŞÜs
,
İac™›s
,
şicked
?
Ä’d”_mÙiÚ
:
Ä’d”_¡©ic
,

55548 
_is_doubË_sided
==1,
foÿË
,

55549 
visu
.
width
()/2.à+ 
light_x
,visu.
height
()/2.à+ 
light_y
,
light_z
 + 
Zoff
,

55550 
¥ecuÏr_lighŠess
,
¥ecuÏr_shššess
,1,

55551 
¥r™e_sÿË
);

55552 
	gbßrd
.
§veEPS
(
f’ame
);

55553 (+
	gvisu
).
__d¿w_‹xt
(" Objeù '%s' saved. ",
fÚt_size
,0,
f’ame
.
_d©a
).
di¥Ïy
(
di¥
);

55554 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0;

55556 
	gcimg
::
keyV
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

55557 
¢­_numb”
 = 0;

55558 
	g¡d
::
FILE
 *
fe
;

55560 
cimg_¢´štf
(
f’ame
,f’ame.
_width
,
cimg_­²ame
 "_%.4u.svg",
¢­_numb”
++);

55561 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame
,"r"))!=0ècimg::
fşo£
(
fe
);

55562 } 
	gfe
);

55563 (+
	gvisu
).
__d¿w_‹xt
(" Savšg SVG sÇpshÙ... ",
fÚt_size
,0).
di¥Ïy
(
di¥
);

55564 
	gLibBßrd
::
Bßrd
 
bßrd
;

55565 (+
	gvisu
).
_d¿w_objeù3d
(&
bßrd
,
zbufãr
.
fl
(0),

55566 
Xoff
 + 
visu
.
_width
/2.f,
Yoff
 + visu.
_height
/2.f,
Zoff
,

55567 
rÙ©ed_v”tiûs
,
»v”£_´im™ives
?»v”£_´im™ives:
´im™ives
,

55568 
cŞÜs
,
İac™›s
,
şicked
?
Ä’d”_mÙiÚ
:
Ä’d”_¡©ic
,

55569 
_is_doubË_sided
==1,
foÿË
,

55570 
visu
.
width
()/2.à+ 
light_x
,visu.
height
()/2.à+ 
light_y
,
light_z
 + 
Zoff
,

55571 
¥ecuÏr_lighŠess
,
¥ecuÏr_shššess
,1,

55572 
¥r™e_sÿË
);

55573 
	gbßrd
.
§veSVG
(
f’ame
);

55574 (+
	gvisu
).
__d¿w_‹xt
(" Objeù '%s' saved. ",
fÚt_size
,0,
f’ame
.
_d©a
).
di¥Ïy
(
di¥
);

55575 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0;

55579 ià(
	gdi¥
.
is_»sized
()) {

55580 
	gdi¥
.
»size
(
çl£
); 
	gvisu0
 = 
g‘_»size
(
di¥
,1);

55581 ià(
	gzbufãr
èzbufãr.
assign
(
di¥
.
width
(),di¥.
height
());

55582 
	g»d¿w
 = 
Œue
;

55584 ià(!
	gex™_Ú_ªykey
 && 
	gkey
 && key!=
cimg
::
keyESC
 &&

55585 (
key
!=
cimg
::
keyW
 || (!
di¥
.
is_keyCTRLLEFT
(è&& !di¥.
is_keyCTRLRIGHT
()))) {

55586 
key
 = 0;

55589 ià(
	gpo£_m©rix
) {

55590 
	g¡d
::
memıy
(
po£_m©rix
,
po£
.
_d©a
,12*());

55591 
	gpo£_m©rix
[12] = 
Xoff
;…o£_m©rix[13] = 
Yoff
;…o£_m©rix[14] = 
Zoff
;…o£_m©rix[15] = 
¥r™e_sÿË
;

55593 
	gdi¥
.
£t_bu‰Ú
().
£t_key
(
key
);

55594  *
	gthis
;

55610 cÚ¡ 
	gCImg
<
	gT
>& 
di¥Ïy_g¿ph
(
CImgDi¥Ïy
 &
di¥
,

55611 cÚ¡ 
¶Ù_ty³
=1, cÚ¡ 
v”‹x_ty³
=1,

55612 cÚ¡ *cÚ¡ 
Ïb–x
=0, cÚ¡ 
xmš
=0, cÚ¡ 
xmax
=0,

55613 cÚ¡ *cÚ¡ 
Ïb–y
=0, cÚ¡ 
ymš
=0, cÚ¡ 
ymax
=0,

55614 cÚ¡ 
boŞ
 
ex™_Ú_ªykey
=
çl£
) const {

55615  
_di¥Ïy_g¿ph
(
di¥
,0,
¶Ù_ty³
,
v”‹x_ty³
,
Ïb–x
,
xmš
,
xmax
,
Ïb–y
,
ymš
,
ymax
,
ex™_Ú_ªykey
);

55619 cÚ¡ 
	gCImg
<
	gT
>& 
di¥Ïy_g¿ph
(cÚ¡ *cÚ¡ 
t™Ë
=0,

55620 cÚ¡ 
¶Ù_ty³
=1, cÚ¡ 
v”‹x_ty³
=1,

55621 cÚ¡ *cÚ¡ 
Ïb–x
=0, cÚ¡ 
xmš
=0, cÚ¡ 
xmax
=0,

55622 cÚ¡ *cÚ¡ 
Ïb–y
=0, cÚ¡ 
ymš
=0, cÚ¡ 
ymax
=0,

55623 cÚ¡ 
boŞ
 
ex™_Ú_ªykey
=
çl£
) const {

55624 
CImgDi¥Ïy
 
di¥
;

55625  
_di¥Ïy_g¿ph
(
di¥
,
t™Ë
,
¶Ù_ty³
,
v”‹x_ty³
,
Ïb–x
,
xmš
,
xmax
,
Ïb–y
,
ymš
,
ymax
,
ex™_Ú_ªykey
);

55628 cÚ¡ 
	gCImg
<
	gT
>& 
_di¥Ïy_g¿ph
(
CImgDi¥Ïy
 &
di¥
, cÚ¡ *cÚ¡ 
t™Ë
=0,

55629 cÚ¡ 
¶Ù_ty³
=1, cÚ¡ 
v”‹x_ty³
=1,

55630 cÚ¡ *cÚ¡ 
Ïb–x
=0, cÚ¡ 
xmš
=0, cÚ¡ 
xmax
=0,

55631 cÚ¡ *cÚ¡ 
Ïb–y
=0, cÚ¡ 
ymš
=0, cÚ¡ 
ymax
=0,

55632 cÚ¡ 
boŞ
 
ex™_Ú_ªykey
=
çl£
) const {

55633 ià(
is_em±y
())

55634 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


55636 
cimg_š¡ªû
);

55637 ià(!
	gdi¥
èdi¥.
assign
(
cimg_f™sü“n
(
CImgDi¥Ïy
::
sü“n_width
()/2,CImgDi¥Ïy::
sü“n_height
()/2,1),0,0).

55638 
£t_t™Ë
(
t™Ë
?"%s":"CImg<%s>",t™Ë?t™Ë:
pix–_ty³
());

55639 cÚ¡ 
ulÚgT
 
	gsiz
 = (ulÚgT)
_width
*
_height
*
_d•th
, 
	gsiz1
 = 
¡d
::
max
((ulÚgT)1,
siz
 - 1);

55640 cÚ¡ 
	gŞd_nÜm®iz©iÚ
 = 
di¥
.
nÜm®iz©iÚ
();

55641 
	gdi¥
.
show
().
æush
().
	g_nÜm®iz©iÚ
 = 0;

55643 
	gy0
 = 
ymš
, 
	gy1
 = 
ymax
, 
	gnxmš
 = 
xmš
, 
	gnxmax
 = 
xmax
;

55644 ià(
	gnxmš
==
nxmax
è{ 
nxmš
 = 0; 
	gnxmax
 = 
siz1
; }

55645 
	gx0
 = 0, 
	gx1
 = 
width
()*
height
()*
d•th
(è- 1, 
	gkey
 = 0;

55647 
boŞ
 
	g»£t_v›w
 = 
Œue
; !
	gkey
 && !
	gdi¥
.
is_şo£d
(); ) {

55648 ià(
	g»£t_v›w
è{ 
	gx0
 = 0; 
	gx1
 = 
width
()*
height
()*
d•th
(è- 1; 
	gy0
 = 
ymš
; 
	gy1
 = 
ymax
;„e£t_v›w = 
çl£
; }

55649 
	gCImg
<
	gT
> 
zoom
(
x1
 - 
x0
 + 1,1,1,
¥eùrum
());

55650 
cimg_fÜC
(*
this
,
c
è
	gzoom
.
g‘_sh¬ed_chªÃl
(cèğ
CImg
<
T
>(
d©a
(
x0
,0,0,c),
	gx1
 - 
	gx0
 + 1,1,1,1,
	gŒue
);

55651 ià(
	gy0
==
y1
è{ 
y0
 = 
zoom
.
mš_max
(y1); cÚ¡ 
	gdy
 = y1 - y0; y0-=
dy
/20; 
	gy1
+=dy/20; }

55652 ià(
	gy0
==
y1
è{ --
y0
; ++
	gy1
; }

55654 cÚ¡ 
	gCImg
<
	gštT
> 
	g£ËùiÚ
 = 
zoom
.
g‘_£Ëù_g¿ph
(
di¥
,
¶Ù_ty³
,
v”‹x_ty³
,

55655 
Ïb–x
,

55656 
nxmš
 + 
x0
*(
nxmax
 -‚xmš)/
siz1
,

55657 
nxmš
 + 
x1
*(
nxmax
 -‚xmš)/
siz1
,

55658 
Ïb–y
,
y0
,
y1
,
Œue
);

55659 cÚ¡ 
	gmou£_x
 = 
di¥
.
mou£_x
(), 
	gmou£_y
 = di¥.
mou£_y
();

55660 ià(
	g£ËùiÚ
[0]>=0) {

55661 ià(
£ËùiÚ
[2]<0è
»£t_v›w
 = 
Œue
;

55663 
	gx1
 = 
x0
 + 
£ËùiÚ
[2]; 
	gx0
+=selection[0];

55664 ià(
	g£ËùiÚ
[1]>=0 && 
£ËùiÚ
[3]>=0) {

55665 
y0
 = 
y1
 - 
£ËùiÚ
[3]*(y1 - y0)/(
di¥
.
height
() - 32);

55666 
	gy1
-=
£ËùiÚ
[1]*(
y1
 - 
y0
)/(
di¥
.
height
() - 32);

55670 
boŞ
 
	ggo_š
 = 
çl£
, 
	ggo_out
 = f®£, 
	ggo_Ëá
 = f®£, 
	ggo_right
 = f®£, 
	ggo_up
 = f®£, 
	ggo_down
 = false;

55671 
	gkey
 = ()
di¥
.
key
()) {

55672 
cimg
::
keyHOME
 : 
»£t_v›w
 = 
Œue
; 
	gkey
 = 0; 
	gdi¥
.
£t_key
(); ;

55673 
	gcimg
::
keyPADADD
 : 
go_š
 = 
Œue
; 
	ggo_out
 = 
çl£
; 
	gkey
 = 0; 
	gdi¥
.
£t_key
(); ;

55674 
	gcimg
::
keyPADSUB
 : 
go_out
 = 
Œue
; 
	ggo_š
 = 
çl£
; 
	gkey
 = 0; 
	gdi¥
.
£t_key
(); ;

55675 
	gcimg
::
keyARROWLEFT
 : 
cimg
::
keyPAD4
 : 
go_Ëá
 = 
Œue
; 
	ggo_right
 = 
çl£
; 
	gkey
 = 0; 
	gdi¥
.
£t_key
();

55677 
	gcimg
::
keyARROWRIGHT
 : 
cimg
::
keyPAD6
 : 
go_right
 = 
Œue
; 
	ggo_Ëá
 = 
çl£
; 
	gkey
 = 0; 
	gdi¥
.
£t_key
();

55679 
	gcimg
::
keyARROWUP
 : 
cimg
::
keyPAD8
 : 
go_up
 = 
Œue
; 
	ggo_down
 = 
çl£
; 
	gkey
 = 0; 
	gdi¥
.
£t_key
(); ;

55680 
	gcimg
::
keyARROWDOWN
 : 
cimg
::
keyPAD2
 : 
go_down
 = 
Œue
; 
	ggo_up
 = 
çl£
; 
	gkey
 = 0; 
	gdi¥
.
£t_key
(); ;

55681 
	gcimg
::
keyPAD7
 : 
go_Ëá
 = 
Œue
; 
	ggo_up
 =rue; 
	gkey
 = 0; 
	gdi¥
.
£t_key
(); ;

55682 
	gcimg
::
keyPAD9
 : 
go_right
 = 
Œue
; 
	ggo_up
 =rue; 
	gkey
 = 0; 
	gdi¥
.
£t_key
(); ;

55683 
	gcimg
::
keyPAD1
 : 
go_Ëá
 = 
Œue
; 
	ggo_down
 =rue; 
	gkey
 = 0; 
	gdi¥
.
£t_key
(); ;

55684 
	gcimg
::
keyPAD3
 : 
go_right
 = 
Œue
; 
	ggo_down
 =rue; 
	gkey
 = 0; 
	gdi¥
.
£t_key
(); ;

55686 ià(
	gdi¥
.
wh“l
()) {

55687 ià(
	gdi¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()è
	ggo_up
 = !(
go_down
 = 
di¥
.
wh“l
()<0);

55688 ià(
	gdi¥
.
is_keySHIFTLEFT
(è|| di¥.
is_keySHIFTRIGHT
()è
	ggo_Ëá
 = !(
go_right
 = 
di¥
.
wh“l
()>0);

55689 
	ggo_out
 = !(
go_š
 = 
di¥
.
wh“l
()>0);

55690 
	gkey
 = 0;

55693 ià(
	ggo_š
) {

55695 
	gxsiz
 = 
x1
 - 
x0
,

55696 
	gmx
 = (
mou£_x
 - 16)*
xsiz
/(
di¥
.
width
() - 32),

55697 
	gcx
 = 
x0
 + 
cimg
::
cut
(
mx
,0,
xsiz
);

55698 ià(
	gx1
 - 
	gx0
>4) {

55699 
	gx0
 = 
cx
 - 7*(cx - 
x0
)/8; 
	gx1
 = cx + 7*(
x1
 - cx)/8;

55700 ià(
	gdi¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

55702 
	gysiz
 = 
y1
 - 
y0
,

55703 
	gmy
 = (
mou£_y
 - 16)*
ysiz
/(
di¥
.
height
() - 32),

55704 
	gcy
 = 
y1
 - 
cimg
::
cut
(
my
,0.,
ysiz
);

55705 
	gy0
 = 
cy
 - 7*(cy - 
y0
)/8; 
	gy1
 = cy + 7*(
y1
 - cy)/8;

55706 } 
	gy0
 = 
y1
 = 0;

55709 ià(
	ggo_out
) {

55710 ià(
	gx0
>0 || 
	gx1
<()
	gsiz1
) {

55711 cÚ¡ 
	gd–_x
 = (
x1
 - 
x0
)/8, 
	gnd–_x
 = 
d–_x
?d–_x:(
siz
>1);

55712 cÚ¡ 
	gnd–_y
 = (
y1
 - 
y0
)/8;

55713 
	gx0
-=
nd–_x
; 
	gx1
+=ndelta_x;

55714 
	gy0
-=
nd–_y
; 
	gy1
+=ndelta_y;

55715 ià(
	gx0
<0è{ 
	gx1
-=
x0
; x0 = 0; ià(x1>=()
siz
è
x1
 = ()
siz1
; }

55716 ià(
	gx1
>=()
siz
è{ 
x0
-=(
x1
 - 
siz1
); x1 = ()siz1; ià(
	gx0
<0) x0 = 0; }

55719 ià(
	ggo_Ëá
) {

55720 cÚ¡ 
	gd–
 = (
x1
 - 
x0
)/5, 
	gnd–
 = 
d–
?delta:1;

55721 ià(
	gx0
 - 
	gnd–
>=0è{ 
x0
-=
nd–
; 
	gx1
-=ndelta; }

55722 { 
	gx1
-=
x0
; 
	gx0
 = 0; }

55723 
	ggo_Ëá
 = 
çl£
;

55725 ià(
	ggo_right
) {

55726 cÚ¡ 
	gd–
 = (
x1
 - 
x0
)/5, 
	gnd–
 = 
d–
?delta:1;

55727 ià(
	gx1
 + 
	gnd–
<()
	gsiz
è{ 
	gx0
+=
nd–
; x1+=ndelta; }

55728 { 
	gx0
+=(
siz1
 - 
x1
); 
	gx1
 = ()siz1; }

55729 
	ggo_right
 = 
çl£
;

55731 ià(
	ggo_up
) {

55732 cÚ¡ 
	gd–
 = (
y1
 - 
y0
)/10, 
	gnd–
 = 
d–
?delta:1;

55733 
	gy0
+=
nd–
; 
	gy1
+=ndelta;

55734 
	ggo_up
 = 
çl£
;

55736 ià(
	ggo_down
) {

55737 cÚ¡ 
	gd–
 = (
y1
 - 
y0
)/10, 
	gnd–
 = 
d–
?delta:1;

55738 
	gy0
-=
nd–
; 
	gy1
-=ndelta;

55739 
	ggo_down
 = 
çl£
;

55742 ià(!
	gex™_Ú_ªykey
 && 
	gkey
 && key!=()
cimg
::
keyESC
 &&

55743 (
key
!=()
cimg
::
keyW
 || (!
di¥
.
is_keyCTRLLEFT
(è&& !di¥.
is_keyCTRLRIGHT
()))) {

55744 
di¥
.
£t_key
(
key
,
çl£
);

55745 
	gkey
 = 0;

55748 
	gdi¥
.
	g_nÜm®iz©iÚ
 = 
Şd_nÜm®iz©iÚ
;

55749  *
	gthis
;

55762 cÚ¡ 
	gCImg
<
	gT
>& 
§ve
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
numb”
=-1, cÚ¡ 
dig™s
=6) const {

55763 ià(!
f’ame
)

55764 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


55766 
cimg_š¡ªû
);

55768 cÚ¡ 
boŞ
 
	gis_¡dout
 = *
f’ame
=='-' && (!filename[1] || filename[1]=='.');

55769 cÚ¡ *cÚ¡ 
	gext
 = 
cimg
::
¥l™_f’ame
(
f’ame
);

55770 
	gCImg
<
	gch¬T
> 
nf’ame
(1024);

55771 cÚ¡ *cÚ¡ 
	gâ
 = 
is_¡dout
?
f’ame
:(
numb”
>=0)?
cimg
::
numb”_f’ame
(f’ame,numb”,
dig™s
,
nf’ame
):

55772 
f’ame
;

55774 #ifdeà
cimg_§ve_¶ugš


55775 
cimg_§ve_¶ugš
(
â
);

55777 #ifdeà
cimg_§ve_¶ugš1


55778 
cimg_§ve_¶ugš1
(
â
);

55780 #ifdeà
cimg_§ve_¶ugš2


55781 
cimg_§ve_¶ugš2
(
â
);

55783 #ifdeà
cimg_§ve_¶ugš3


55784 
cimg_§ve_¶ugš3
(
â
);

55786 #ifdeà
cimg_§ve_¶ugš4


55787 
cimg_§ve_¶ugš4
(
â
);

55789 #ifdeà
cimg_§ve_¶ugš5


55790 
cimg_§ve_¶ugš5
(
â
);

55792 #ifdeà
cimg_§ve_¶ugš6


55793 
cimg_§ve_¶ugš6
(
â
);

55795 #ifdeà
cimg_§ve_¶ugš7


55796 
cimg_§ve_¶ugš7
(
â
);

55798 #ifdeà
cimg_§ve_¶ugš8


55799 
cimg_§ve_¶ugš8
(
â
);

55802 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"asc")è 
§ve_ascii
(
â
);

55803 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"csv") ||

55804 !
	gcimg
::
¡rÿ£cmp
(
ext
,"dlm") ||

55805 !
	gcimg
::
¡rÿ£cmp
(
ext
,"txt")è 
§ve_dlm
(
â
);

55806 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"cpp") ||

55807 !
	gcimg
::
¡rÿ£cmp
(
ext
,"hpp") ||

55808 !
	gcimg
::
¡rÿ£cmp
(
ext
,"h") ||

55809 !
	gcimg
::
¡rÿ£cmp
(
ext
,"c")è 
§ve_ıp
(
â
);

55812 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"bmp")è 
§ve_bmp
(
â
);

55813 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"jpg") ||

55814 !
	gcimg
::
¡rÿ£cmp
(
ext
,"jpeg") ||

55815 !
	gcimg
::
¡rÿ£cmp
(
ext
,"jpe") ||

55816 !
	gcimg
::
¡rÿ£cmp
(
ext
,"jfif") ||

55817 !
	gcimg
::
¡rÿ£cmp
(
ext
,"jif")è 
§ve_j³g
(
â
);

55818 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"rgb")è 
§ve_rgb
(
â
);

55819 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"rgba")è 
§ve_rgba
(
â
);

55820 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"²g")è 
§ve_²g
(
â
);

55821 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"pgm") ||

55822 !
	gcimg
::
¡rÿ£cmp
(
ext
,"ppm") ||

55823 !
	gcimg
::
¡rÿ£cmp
(
ext
,"²m")è 
§ve_²m
(
â
);

55824 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"²k")è 
§ve_²k
(
â
);

55825 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"pfm")è 
§ve_pfm
(
â
);

55826 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"exr")è 
§ve_exr
(
â
);

55827 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"tif") ||

55828 !
	gcimg
::
¡rÿ£cmp
(
ext
,"tiff")è 
§ve_tiff
(
â
);

55831 ià(!*
	gext
) {

55832 #ifdeà
cimg_u£_zlib


55833  
§ve_cimg
(
â
,
Œue
);

55835  
§ve_cimg
(
â
,
çl£
);

55837 } ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"cimgz")è 
§ve_cimg
(
â
,
Œue
);

55838 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"cimg")è 
§ve_cimg
(
â
,
çl£
);

55839 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"dcm")è 
§ve_medcÚ_ex‹º®
(
â
);

55840 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"hdr") ||

55841 !
	gcimg
::
¡rÿ£cmp
(
ext
,"nii")è 
§ve_ª®yze
(
â
);

55842 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"šr")è 
§ve_šr
(
â
);

55843 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"mnc")è 
§ve_mšc2
(
â
);

55844 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"·n")è 
§ve_·ndÜe
(
â
);

55845 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"¿w")è 
§ve_¿w
(
â
);

55848 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"gz")è 
§ve_gz_ex‹º®
(
â
);

55851 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"yuv")è 
§ve_yuv
(
â
,444,
Œue
);

55852 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"avi") ||

55853 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mov") ||

55854 !
	gcimg
::
¡rÿ£cmp
(
ext
,"asf") ||

55855 !
	gcimg
::
¡rÿ£cmp
(
ext
,"divx") ||

55856 !
	gcimg
::
¡rÿ£cmp
(
ext
,"flv") ||

55857 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mpg") ||

55858 !
	gcimg
::
¡rÿ£cmp
(
ext
,"m1v") ||

55859 !
	gcimg
::
¡rÿ£cmp
(
ext
,"m2v") ||

55860 !
	gcimg
::
¡rÿ£cmp
(
ext
,"m4v") ||

55861 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mjp") ||

55862 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mp4") ||

55863 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mkv") ||

55864 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mpe") ||

55865 !
	gcimg
::
¡rÿ£cmp
(
ext
,"movie") ||

55866 !
	gcimg
::
¡rÿ£cmp
(
ext
,"ogm") ||

55867 !
	gcimg
::
¡rÿ£cmp
(
ext
,"ogg") ||

55868 !
	gcimg
::
¡rÿ£cmp
(
ext
,"ogv") ||

55869 !
	gcimg
::
¡rÿ£cmp
(
ext
,"qt") ||

55870 !
	gcimg
::
¡rÿ£cmp
(
ext
,"rm") ||

55871 !
	gcimg
::
¡rÿ£cmp
(
ext
,"vob") ||

55872 !
	gcimg
::
¡rÿ£cmp
(
ext
,"wmv") ||

55873 !
	gcimg
::
¡rÿ£cmp
(
ext
,"xvid") ||

55874 !
	gcimg
::
¡rÿ£cmp
(
ext
,"m³g")è 
§ve_video
(
â
);

55875  
§ve_Ùh”
(
â
);

55882 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_ascii
(cÚ¡ *cÚ¡ 
f’ame
) const {

55883  
_§ve_ascii
(0,
f’ame
);

55887 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_ascii
(
¡d
::
FILE
 *cÚ¡ 
fe
) const {

55888  
_§ve_ascii
(
fe
,0);

55891 cÚ¡ 
	gCImg
<
	gT
>& 
_§ve_ascii
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
) const {

55892 ià(!
	gfe
 && !
	gf’ame
)

55893 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


55895 
cimg_š¡ªû
);

55896 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"w");

55897 
	g¡d
::
årštf
(
nfe
,"%u %u %u %u\n",
_width
,
_height
,
_d•th
,
_¥eùrum
);

55898 cÚ¡ 
T
* 
	g±rs
 = 
_d©a
;

55899 
cimg_fÜYZC
(*
this
,
y
,
z
,
c
) {

55900 
cimg_fÜX
(*
this
,
x
è
	g¡d
::
årštf
(
nfe
,"%.17g ",()*(
±rs
++));

55901 
	g¡d
::
åutc
('\n',
nfe
);

55903 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

55904  *
	gthis
;

55911 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_ıp
(cÚ¡ *cÚ¡ 
f’ame
) const {

55912  
_§ve_ıp
(0,
f’ame
);

55916 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_ıp
(
¡d
::
FILE
 *cÚ¡ 
fe
) const {

55917  
_§ve_ıp
(
fe
,0);

55920 cÚ¡ 
	gCImg
<
	gT
>& 
_§ve_ıp
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
) const {

55921 ià(!
	gfe
 && !
	gf’ame
)

55922 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


55924 
cimg_š¡ªû
);

55925 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"w");

55926 
	gCImg
<
	gch¬T
> 
v¬Çme
(1024); *
	gv¬Çme
 = 0;

55927 ià(
	gf’ame
è
cimg_ssÿnf
(
cimg
::
ba£Çme
(
f’ame
),"%1023[a-zA-Z0-9_]",
v¬Çme
.
_d©a
);

55928 ià(!*
	gv¬Çme
è
cimg_¢´štf
(
v¬Çme
,v¬Çme.
_width
,"unnamed");

55929 
	g¡d
::
årštf
(
nfe
,

55932 
v¬Çme
.
_d©a
,
_width
,
_height
,
_d•th
,
_¥eùrum
,
pix–_ty³
(),pixel_type(),varname._data,

55933 
is_em±y
()?"};":"");

55934 ià(!
is_em±y
()è
ulÚgT
 
	goff
 = 0, 
	gsiz
 = 
size
(è- 1; off<=
siz
; ++off) {

55935 
	g¡d
::
årštf
(
nfe
,
cimg
::
ty³
<
T
>::
fÜm©
(),cimg::ty³<T>::fÜm©((*
this
)[
off
]));

55936 ià(
	goff
==
siz
è
¡d
::
årštf
(
nfe
," };\n");

55937 ià(!((
	goff
 + 1)%16)è
	g¡d
::
årštf
(
nfe
,",\n ");

55938 
	g¡d
::
årštf
(
nfe
,", ");

55940 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

55941  *
	gthis
;

55948 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_dlm
(cÚ¡ *cÚ¡ 
f’ame
) const {

55949  
_§ve_dlm
(0,
f’ame
);

55953 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_dlm
(
¡d
::
FILE
 *cÚ¡ 
fe
) const {

55954  
_§ve_dlm
(
fe
,0);

55957 cÚ¡ 
	gCImg
<
	gT
>& 
_§ve_dlm
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
) const {

55958 ià(!
	gfe
 && !
	gf’ame
)

55959 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


55961 
cimg_š¡ªû
);

55962 ià(
is_em±y
()è{ 
	gcimg
::
ãm±y
(
fe
,
f’ame
);  *
	gthis
; }

55963 ià(
	g_d•th
>1)

55964 
	gcimg
::
w¬n
(
_cimg_š¡ªû


55966 
cimg_š¡ªû
,

55967 
f’ame
?filename:"(FILE*)");

55968 ià(
	g_¥eùrum
>1)

55969 
	gcimg
::
w¬n
(
_cimg_š¡ªû


55971 
cimg_š¡ªû
,

55972 
f’ame
?filename:"(FILE*)");

55974 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"w");

55975 cÚ¡ 
T
* 
	g±rs
 = 
_d©a
;

55976 
cimg_fÜYZC
(*
this
,
y
,
z
,
c
) {

55977 
cimg_fÜX
(*
this
,
x
è
	g¡d
::
årštf
(
nfe
,"%.17g%s",()*(
±rs
++),(x==
width
() - 1)?"":",");

55978 
	g¡d
::
åutc
('\n',
nfe
);

55980 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

55981  *
	gthis
;

55988 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_bmp
(cÚ¡ *cÚ¡ 
f’ame
) const {

55989  
_§ve_bmp
(0,
f’ame
);

55993 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_bmp
(
¡d
::
FILE
 *cÚ¡ 
fe
) const {

55994  
_§ve_bmp
(
fe
,0);

55997 cÚ¡ 
	gCImg
<
	gT
>& 
_§ve_bmp
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
) const {

55998 ià(!
	gfe
 && !
	gf’ame
)

55999 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


56001 
cimg_š¡ªû
);

56002 ià(
is_em±y
()è{ 
	gcimg
::
ãm±y
(
fe
,
f’ame
);  *
	gthis
; }

56003 ià(
	g_d•th
>1)

56004 
	gcimg
::
w¬n
(
_cimg_š¡ªû


56006 
cimg_š¡ªû
,

56007 
f’ame
?filename:"(FILE*)");

56008 ià(
	g_¥eùrum
>3)

56009 
	gcimg
::
w¬n
(
_cimg_š¡ªû


56011 
cimg_š¡ªû
,

56012 
f’ame
?filename:"(FILE*)");

56014 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"wb");

56015 
	gCImg
<
	guch¬T
> 
h—d”
(54,1,1,1,0);

56016 
	g®ign_buf
[4] = { 0 };

56018 
	g®ign
 = (4 - (3*
_width
)%4)%4,

56019 
	gbuf_size
 = (3*
_width
 + 
®ign
)*
height
(),

56020 
	gfe_size
 = 54 + 
buf_size
;

56021 
	gh—d”
[0] = 'B'; header[1] = 'M';

56022 
	gh—d”
[0x02] = 
fe_size
&0xFF;

56023 
	gh—d”
[0x03] = (
fe_size
>>8)&0xFF;

56024 
	gh—d”
[0x04] = (
fe_size
>>16)&0xFF;

56025 
	gh—d”
[0x05] = (
fe_size
>>24)&0xFF;

56026 
	gh—d”
[0x0A] = 0x36;

56027 
	gh—d”
[0x0E] = 0x28;

56028 
	gh—d”
[0x12] = 
_width
&0xFF;

56029 
	gh—d”
[0x13] = (
_width
>>8)&0xFF;

56030 
	gh—d”
[0x14] = (
_width
>>16)&0xFF;

56031 
	gh—d”
[0x15] = (
_width
>>24)&0xFF;

56032 
	gh—d”
[0x16] = 
_height
&0xFF;

56033 
	gh—d”
[0x17] = (
_height
>>8)&0xFF;

56034 
	gh—d”
[0x18] = (
_height
>>16)&0xFF;

56035 
	gh—d”
[0x19] = (
_height
>>24)&0xFF;

56036 
	gh—d”
[0x1A] = 1;

56037 
	gh—d”
[0x1B] = 0;

56038 
	gh—d”
[0x1C] = 24;

56039 
	gh—d”
[0x1D] = 0;

56040 
	gh—d”
[0x22] = 
buf_size
&0xFF;

56041 
	gh—d”
[0x23] = (
buf_size
>>8)&0xFF;

56042 
	gh—d”
[0x24] = (
buf_size
>>16)&0xFF;

56043 
	gh—d”
[0x25] = (
buf_size
>>24)&0xFF;

56044 
	gh—d”
[0x27] = 0x1;

56045 
	gh—d”
[0x2B] = 0x1;

56046 
	gcimg
::
fwr™e
(
h—d”
.
_d©a
,54,
nfe
);

56048 cÚ¡ 
T


56049 *
	g±r_r
 = 
d©a
(0,
_height
 - 1,0,0),

56050 *
	g±r_g
 = (
_¥eùrum
>=2)?
d©a
(0,
_height
 - 1,0,1):0,

56051 *
	g±r_b
 = (
_¥eùrum
>=3)?
d©a
(0,
_height
 - 1,0,2):0;

56053 
	g_¥eùrum
) {

56055 
cimg_fÜY
(*
this
,
y
) {

56056 
cimg_fÜX
(*
this
,
x
) {

56057 cÚ¡ 
	gv®
 = ()*(
±r_r
++);

56058 
	g¡d
::
åutc
(
v®
,
nfe
); std::fputc(val,nfile); std::fputc(val,nfile);

56060 
	gcimg
::
fwr™e
(
®ign_buf
,
®ign
,
nfe
);

56061 
	g±r_r
-=2*
_width
;

56065 
cimg_fÜY
(*
this
,
y
) {

56066 
cimg_fÜX
(*
this
,
x
) {

56067 
	g¡d
::
åutc
(0,
nfe
);

56068 
	g¡d
::
åutc
(()(*(
±r_g
++)),
nfe
);

56069 
	g¡d
::
åutc
(()(*(
±r_r
++)),
nfe
);

56071 
	gcimg
::
fwr™e
(
®ign_buf
,
®ign
,
nfe
);

56072 
	g±r_r
-=2*
_width
; 
	g±r_g
-=2*_width;

56076 
cimg_fÜY
(*
this
,
y
) {

56077 
cimg_fÜX
(*
this
,
x
) {

56078 
	g¡d
::
åutc
(()(*(
±r_b
++)),
nfe
);

56079 
	g¡d
::
åutc
(()(*(
±r_g
++)),
nfe
);

56080 
	g¡d
::
åutc
(()(*(
±r_r
++)),
nfe
);

56082 
	gcimg
::
fwr™e
(
®ign_buf
,
®ign
,
nfe
);

56083 
	g±r_r
-=2*
_width
; 
	g±r_g
-=2*_width; 
	g±r_b
-=2*_width;

56087 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

56088  *
	gthis
;

56096 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_j³g
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
qu®™y
=100) const {

56097  
_§ve_j³g
(0,
f’ame
,
qu®™y
);

56101 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_j³g
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ 
qu®™y
=100) const {

56102  
_§ve_j³g
(
fe
,0,
qu®™y
);

56105 cÚ¡ 
	gCImg
<
	gT
>& 
_§ve_j³g
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
qu®™y
) const {

56106 ià(!
	gfe
 && !
	gf’ame
)

56107 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


56109 
cimg_š¡ªû
);

56110 ià(
is_em±y
()è{ 
	gcimg
::
ãm±y
(
fe
,
f’ame
);  *
	gthis
; }

56111 ià(
	g_d•th
>1)

56112 
	gcimg
::
w¬n
(
_cimg_š¡ªû


56114 
cimg_š¡ªû
,

56115 
f’ame
?filename:"(FILE*)");

56117 #iâdeà
cimg_u£_j³g


56118 ià(!
	gfe
è 
§ve_Ùh”
(
f’ame
,
qu®™y
);

56119 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


56121 
cimg_š¡ªû
);

56123 
	gdimbuf
 = 0;

56124 
J_COLOR_SPACE
 
	gcŞÜty³
 = 
JCS_RGB
;

56126 
	g_¥eùrum
) {

56127 1 : 
dimbuf
 = 1; 
	gcŞÜty³
 = 
JCS_GRAYSCALE
; ;

56128 2 : 
dimbuf
 = 3; 
	gcŞÜty³
 = 
JCS_RGB
; ;

56129 3 : 
dimbuf
 = 3; 
	gcŞÜty³
 = 
JCS_RGB
; ;

56130  : 
dimbuf
 = 4; 
	gcŞÜty³
 = 
JCS_CMYK
; ;

56134 
j³g_com´ess_¡ruù
 
	gcšfo
;

56135 
j³g_”rÜ_mgr
 
	gj”r
;

56136 
	gcšfo
.
	g”r
 = 
j³g_¡d_”rÜ
(&
j”r
);

56137 
j³g_ü—‹_com´ess
(&
cšfo
);

56138 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"wb");

56139 
j³g_¡dio_de¡
(&
cšfo
,
nfe
);

56140 
	gcšfo
.
	gimage_width
 = 
_width
;

56141 
	gcšfo
.
	gimage_height
 = 
_height
;

56142 
	gcšfo
.
	gšput_compÚ’ts
 = 
dimbuf
;

56143 
	gcšfo
.
	gš_cŞÜ_¥aû
 = 
cŞÜty³
;

56144 
j³g_£t_deçuÉs
(&
cšfo
);

56145 
j³g_£t_qu®™y
(&
cšfo
,
qu®™y
<100?qu®™y:100,
TRUE
);

56146 
j³g_¡¬t_com´ess
(&
cšfo
,
TRUE
);

56148 
JSAMPROW
 
	grow_poš‹r
[1];

56149 
	gCImg
<
	guch¬T
> 
bufãr
(
_width
*
dimbuf
);

56151 
	gcšfo
.
	gÃxt_sÿÆše
<cšfo.
	gimage_height
) {

56152 *
	g±rd
 = 
bufãr
.
_d©a
;

56155 
	g_¥eùrum
) {

56157 cÚ¡ 
T
 *
±r_g
 = 
d©a
(0, 
cšfo
.
Ãxt_sÿÆše
);

56158 
	gb
 = 0; b<
	gcšfo
.
	gimage_width
; b++)

56159 *(
	g±rd
++èğ()*(
±r_g
++);

56162 cÚ¡ 
T
 *
±r_r
 = 
d©a
(0,
cšfo
.
Ãxt_sÿÆše
,0,0),

56163 *
	g±r_g
 = 
d©a
(0,
cšfo
.
Ãxt_sÿÆše
,0,1);

56164 
	gb
 = 0; b<
	gcšfo
.
	gimage_width
; ++b) {

56165 *(
	g±rd
++èğ()*(
±r_r
++);

56166 *(
	g±rd
++èğ()*(
±r_g
++);

56167 *(
	g±rd
++) = 0;

56171 cÚ¡ 
T
 *
±r_r
 = 
d©a
(0,
cšfo
.
Ãxt_sÿÆše
,0,0),

56172 *
	g±r_g
 = 
d©a
(0,
cšfo
.
Ãxt_sÿÆše
,0,1),

56173 *
	g±r_b
 = 
d©a
(0,
cšfo
.
Ãxt_sÿÆše
,0,2);

56174 
	gb
 = 0; b<
	gcšfo
.
	gimage_width
; ++b) {

56175 *(
	g±rd
++èğ()*(
±r_r
++);

56176 *(
	g±rd
++èğ()*(
±r_g
++);

56177 *(
	g±rd
++èğ()*(
±r_b
++);

56181 cÚ¡ 
T
 *
±r_r
 = 
d©a
(0,
cšfo
.
Ãxt_sÿÆše
,0,0),

56182 *
	g±r_g
 = 
d©a
(0,
cšfo
.
Ãxt_sÿÆše
,0,1),

56183 *
	g±r_b
 = 
d©a
(0,
cšfo
.
Ãxt_sÿÆše
,0,2),

56184 *
	g±r_a
 = 
d©a
(0,
cšfo
.
Ãxt_sÿÆše
,0,3);

56185 
	gb
 = 0; b<
	gcšfo
.
	gimage_width
; ++b) {

56186 *(
	g±rd
++èğ()*(
±r_r
++);

56187 *(
	g±rd
++èğ()*(
±r_g
++);

56188 *(
	g±rd
++èğ()*(
±r_b
++);

56189 *(
	g±rd
++èğ()*(
±r_a
++);

56193 *
	grow_poš‹r
 = 
bufãr
.
_d©a
;

56194 
j³g_wr™e_sÿÆšes
(&
cšfo
,
row_poš‹r
,1);

56196 
j³g_fšish_com´ess
(&
cšfo
);

56197 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

56198 
j³g_de¡roy_com´ess
(&
cšfo
);

56199  *
	gthis
;

56208 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_magick
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
by‹s_³r_pix–
=0) const {

56209 ià(!
f’ame
)

56210 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


56212 
cimg_š¡ªû
);

56213 ià(
is_em±y
()è{ 
	gcimg
::
ãm±y
(0,
f’ame
);  *
	gthis
; }

56215 #ifdeà
cimg_u£_magick


56216 
	g¡mš
, 
	g¡max
 = ()
max_mš
(
¡mš
);

56217 ià(
	g_d•th
>1)

56218 
	gcimg
::
w¬n
(
_cimg_š¡ªû


56220 
cimg_š¡ªû
,

56221 
f’ame
);

56223 ià(
	g_¥eùrum
>3)

56224 
	gcimg
::
w¬n
(
_cimg_š¡ªû


56227 
cimg_š¡ªû
,

56228 
f’ame
);

56230 ià(
	g¡mš
<0 || (
	gby‹s_³r_pix–
==1 && 
¡max
>=256) || stmax>=65536)

56231 
cimg
::
w¬n
(
_cimg_š¡ªû


56233 
cimg_š¡ªû
,

56234 
f’ame
,
¡mš
,
¡max
);

56236 
	gMagick
::
Image
 
image
(
Magick
::
Geom‘ry
(
_width
,
_height
),"black");

56237 
	gimage
.
ty³
(
Magick
::
TrueCŞÜTy³
);

56238 
	gimage
.
d•th
(
by‹s_³r_pix–
?(8*by‹s_³r_pix–):(
¡max
>=256?16:8));

56239 cÚ¡ 
T


56240 *
	g±r_r
 = 
d©a
(0,0,0,0),

56241 *
	g±r_g
 = 
_¥eùrum
>1?
d©a
(0,0,0,1):0,

56242 *
	g±r_b
 = 
_¥eùrum
>2?
d©a
(0,0,0,2):0;

56243 
	gMagick
::
Pix–Pack‘
 *
pix–s
 = 
image
.
g‘Pix–s
(0,0,
_width
,
_height
);

56244 
	g_¥eùrum
) {

56246 
ulÚgT
 
off
 = (ulÚgT)
_width
*
_height
; 
	goff
; --off) {

56247 
	gpix–s
->
	g»d
 = 
pix–s
->
g»’
 =…ix–s->
blue
 = (
Magick
::
Quªtum
)*(
±r_r
++);

56248 ++
	gpix–s
;

56252 
ulÚgT
 
off
 = (ulÚgT)
_width
*
_height
; 
	goff
; --off) {

56253 
	gpix–s
->
	g»d
 = (
Magick
::
Quªtum
)*(
±r_r
++);

56254 
	gpix–s
->
	gg»’
 = (
Magick
::
Quªtum
)*(
±r_g
++);

56255 
	gpix–s
->
	gblue
 = 0; ++pixels;

56259 
ulÚgT
 
off
 = (ulÚgT)
_width
*
_height
; 
	goff
; --off) {

56260 
	gpix–s
->
	g»d
 = (
Magick
::
Quªtum
)*(
±r_r
++);

56261 
	gpix–s
->
	gg»’
 = (
Magick
::
Quªtum
)*(
±r_g
++);

56262 
	gpix–s
->
	gblue
 = (
Magick
::
Quªtum
)*(
±r_b
++);

56263 ++
	gpix–s
;

56266 
	gimage
.
syncPix–s
();

56267 
	gimage
.
wr™e
(
f’ame
);

56268  *
	gthis
;

56270 
	gcimg
::
unu£d
(
by‹s_³r_pix–
);

56271 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


56273 
cimg_š¡ªû
,

56274 
f’ame
);

56283 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_²g
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
by‹s_³r_pix–
=0) const {

56284  
_§ve_²g
(0,
f’ame
,
by‹s_³r_pix–
);

56288 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_²g
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ 
by‹s_³r_pix–
=0) const {

56289  
_§ve_²g
(
fe
,0,
by‹s_³r_pix–
);

56292 cÚ¡ 
	gCImg
<
	gT
>& 
_§ve_²g
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
,

56293 cÚ¡ 
by‹s_³r_pix–
=0) const {

56294 ià(!
fe
 && !
f’ame
)

56295 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


56297 
cimg_š¡ªû
);

56298 ià(
is_em±y
()è{ 
	gcimg
::
ãm±y
(
fe
,
f’ame
);  *
	gthis
; }

56300 #iâdeà
cimg_u£_²g


56301 
	gcimg
::
unu£d
(
by‹s_³r_pix–
);

56302 ià(!
	gfe
è 
§ve_Ùh”
(
f’ame
);

56303 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


56305 
cimg_š¡ªû
);

56308 #ià
defšed
 
__GNUC__


56309 cÚ¡ *vŞ©
	gnf’ame
 = 
f’ame
;

56310 
	g¡d
::
FILE
 *vŞ©
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
nf’ame
,"wb");

56311 vŞ©
	g¡mš
, 
	g¡max
 = ()
max_mš
(
¡mš
);

56313 cÚ¡ *
	gnf’ame
 = 
f’ame
;

56314 
	g¡d
::
FILE
 *
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
nf’ame
,"wb");

56315 
	g¡mš
, 
	g¡max
 = ()
max_mš
(
¡mš
);

56318 ià(
	g_d•th
>1)

56319 
	gcimg
::
w¬n
(
_cimg_š¡ªû


56321 
cimg_š¡ªû
,

56322 
f’ame
);

56324 ià(
	g_¥eùrum
>4)

56325 
	gcimg
::
w¬n
(
_cimg_š¡ªû


56327 
cimg_š¡ªû
,

56328 
f’ame
);

56330 ià(
	g¡mš
<0 || (
	gby‹s_³r_pix–
==1 && 
¡max
>=256) || stmax>=65536)

56331 
cimg
::
w¬n
(
_cimg_š¡ªû


56333 
cimg_š¡ªû
,

56334 
f’ame
,
¡mš
,
¡max
);

56337 
²g_voidp
 
	gu£r_”rÜ_±r
 = 0;

56338 
²g_”rÜ_±r
 
	gu£r_”rÜ_â
 = 0, 
	gu£r_w¬nšg_â
 = 0;

56339 
²g_¡ruùp
 
	g²g_±r
 = 
²g_ü—‹_wr™e_¡ruù
(
PNG_LIBPNG_VER_STRING
,
u£r_”rÜ_±r
, 
u£r_”rÜ_â
,

56340 
u£r_w¬nšg_â
);

56341 ià(!
	g²g_±r
){

56342 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

56343 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


56345 
cimg_š¡ªû
,

56346 
nf’ame
?nfilename:"(FILE*)");

56348 
²g_šfİ
 
	gšfo_±r
 = 
²g_ü—‹_šfo_¡ruù
(
²g_±r
);

56349 ià(!
	gšfo_±r
) {

56350 
²g_de¡roy_wr™e_¡ruù
(&
²g_±r
,(
²g_šfİp
)0);

56351 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

56352 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


56354 
cimg_š¡ªû
,

56355 
nf’ame
?nfilename:"(FILE*)");

56357 ià(
£tjmp
(
²g_jmpbuf
(
²g_±r
))) {

56358 
²g_de¡roy_wr™e_¡ruù
(&
²g_±r
, &
šfo_±r
);

56359 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

56360 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


56362 
cimg_š¡ªû
,

56363 
nf’ame
?nfilename:"(FILE*)");

56365 
²g_š™_io
(
²g_±r
, 
nfe
);

56367 cÚ¡ 
	gb™_d•th
 = 
by‹s_³r_pix–
?(by‹s_³r_pix–*8):(
¡max
>=256?16:8);

56369 
	gcŞÜ_ty³
;

56370 
¥eùrum
()) {

56371 1 : 
cŞÜ_ty³
 = 
PNG_COLOR_TYPE_GRAY
; ;

56372 2 : 
cŞÜ_ty³
 = 
PNG_COLOR_TYPE_GRAY_ALPHA
; ;

56373 3 : 
cŞÜ_ty³
 = 
PNG_COLOR_TYPE_RGB
; ;

56374  : 
cŞÜ_ty³
 = 
PNG_COLOR_TYPE_RGB_ALPHA
;

56376 cÚ¡ 
	gš‹¾aû_ty³
 = 
PNG_INTERLACE_NONE
;

56377 cÚ¡ 
	gcom´essiÚ_ty³
 = 
PNG_COMPRESSION_TYPE_DEFAULT
;

56378 cÚ¡ 
	gf‹r_m‘hod
 = 
PNG_FILTER_TYPE_DEFAULT
;

56379 
²g_£t_IHDR
(
²g_±r
,
šfo_±r
,
_width
,
_height
,
b™_d•th
,
cŞÜ_ty³
,
š‹¾aû_ty³
,
com´essiÚ_ty³
,
f‹r_m‘hod
);

56380 
²g_wr™e_šfo
(
²g_±r
,
šfo_±r
);

56381 cÚ¡ 
	gby‹_d•th
 = 
b™_d•th
>>3;

56382 cÚ¡ 
	gnumChª
 = 
¥eùrum
()>4?4:spectrum();

56383 cÚ¡ 
	gpix–_b™_d•th_æag
 = 
numChª
 * (
b™_d•th
 - 1);

56386 
²g_by‹p
 *cÚ¡ 
	gimgD©a
 = 
Ãw
 
²g_by‹
*[
_height
];

56387 
	grow
 = 0;„ow<
	g_height
; ++rowè
	gimgD©a
[
row
] = 
Ãw
 
²g_by‹
[
by‹_d•th
*
numChª
*
_width
];

56388 cÚ¡ 
T
 *
	gpC0
 = 
d©a
(0,0,0,0);

56389 
	gpix–_b™_d•th_æag
) {

56391 
cimg_fÜY
(*
this
,
y
) {

56392 *
	g±rd
 = 
imgD©a
[
y
];

56393 
cimg_fÜX
(*
this
,
x
è*(
	g±rd
++èğ()*(
pC0
++);

56397 cÚ¡ 
T
 *
pC1
 = 
d©a
(0,0,0,1);

56398 
cimg_fÜY
(*
this
,
y
) {

56399 *
	g±rd
 = 
imgD©a
[
y
];

56400 
cimg_fÜX
(*
this
,
x
) {

56401 *(
	g±rd
++èğ()*(
pC0
++);

56402 *(
	g±rd
++èğ()*(
pC1
++);

56407 cÚ¡ 
T
 *
pC1
 = 
d©a
(0,0,0,1), *
	gpC2
 = data(0,0,0,2);

56408 
cimg_fÜY
(*
this
,
y
) {

56409 *
	g±rd
 = 
imgD©a
[
y
];

56410 
cimg_fÜX
(*
this
,
x
) {

56411 *(
	g±rd
++èğ()*(
pC0
++);

56412 *(
	g±rd
++èğ()*(
pC1
++);

56413 *(
	g±rd
++èğ()*(
pC2
++);

56418 cÚ¡ 
T
 *
pC1
 = 
d©a
(0,0,0,1), *
	gpC2
 = d©a(0,0,0,2), *
	gpC3
 = data(0,0,0,3);

56419 
cimg_fÜY
(*
this
,
y
){

56420 *
	g±rd
 = 
imgD©a
[
y
];

56421 
cimg_fÜX
(*
this
,
x
){

56422 *(
	g±rd
++èğ()*(
pC0
++);

56423 *(
	g±rd
++èğ()*(
pC1
++);

56424 *(
	g±rd
++èğ()*(
pC2
++);

56425 *(
	g±rd
++èğ()*(
pC3
++);

56430 
cimg_fÜY
(*
this
,
y
){

56431 *
	g±rd
 = (*)(
imgD©a
[
y
]);

56432 
cimg_fÜX
(*
this
,
x
è*(
	g±rd
++èğ()*(
pC0
++);

56433 ià(!
	gcimg
::
’dŸÂess
()è
cimg
::
šv”t_’dŸÂess
((*)
imgD©a
[
y
],
_width
);

56437 cÚ¡ 
T
 *
pC1
 = 
d©a
(0,0,0,1);

56438 
cimg_fÜY
(*
this
,
y
){

56439 *
	g±rd
 = (*)(
imgD©a
[
y
]);

56440 
cimg_fÜX
(*
this
,
x
) {

56441 *(
	g±rd
++èğ()*(
pC0
++);

56442 *(
	g±rd
++èğ()*(
pC1
++);

56444 ià(!
	gcimg
::
’dŸÂess
()è
cimg
::
šv”t_’dŸÂess
((*)
imgD©a
[
y
],2*
_width
);

56448 cÚ¡ 
T
 *
pC1
 = 
d©a
(0,0,0,1), *
	gpC2
 = data(0,0,0,2);

56449 
cimg_fÜY
(*
this
,
y
) {

56450 *
	g±rd
 = (*)(
imgD©a
[
y
]);

56451 
cimg_fÜX
(*
this
,
x
) {

56452 *(
	g±rd
++èğ()*(
pC0
++);

56453 *(
	g±rd
++èğ()*(
pC1
++);

56454 *(
	g±rd
++èğ()*(
pC2
++);

56456 ià(!
	gcimg
::
’dŸÂess
()è
cimg
::
šv”t_’dŸÂess
((*)
imgD©a
[
y
],3*
_width
);

56460 cÚ¡ 
T
 *
pC1
 = 
d©a
(0,0,0,1), *
	gpC2
 = d©a(0,0,0,2), *
	gpC3
 = data(0,0,0,3);

56461 
cimg_fÜY
(*
this
,
y
) {

56462 *
	g±rd
 = (*)(
imgD©a
[
y
]);

56463 
cimg_fÜX
(*
this
,
x
) {

56464 *(
	g±rd
++èğ()*(
pC0
++);

56465 *(
	g±rd
++èğ()*(
pC1
++);

56466 *(
	g±rd
++èğ()*(
pC2
++);

56467 *(
	g±rd
++èğ()*(
pC3
++);

56469 ià(!
	gcimg
::
’dŸÂess
()è
cimg
::
šv”t_’dŸÂess
((*)
imgD©a
[
y
],4*
_width
);

56473 ià(!
fe
è
cimg
::
fşo£
(
nfe
);

56474 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


56476 
cimg_š¡ªû
,

56477 
nf’ame
?nfilename:"(FILE*)");

56479 
²g_wr™e_image
(
²g_±r
,
imgD©a
);

56480 
²g_wr™e_’d
(
²g_±r
,
šfo_±r
);

56481 
²g_de¡roy_wr™e_¡ruù
(&
²g_±r
, &
šfo_±r
);

56484 
cimg_fÜY
(*
this
,
n
è
	gd–‘e
[] 
	gimgD©a
[n];

56485 
	gd–‘e
[] 
	gimgD©a
;

56487 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

56488  *
	gthis
;

56497 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_²m
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
by‹s_³r_pix–
=0) const {

56498  
_§ve_²m
(0,
f’ame
,
by‹s_³r_pix–
);

56502 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_²m
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ 
by‹s_³r_pix–
=0) const {

56503  
_§ve_²m
(
fe
,0,
by‹s_³r_pix–
);

56506 cÚ¡ 
	gCImg
<
	gT
>& 
_§ve_²m
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
,

56507 cÚ¡ 
by‹s_³r_pix–
=0) const {

56508 ià(!
fe
 && !
f’ame
)

56509 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


56511 
cimg_š¡ªû
);

56512 ià(
is_em±y
()è{ 
	gcimg
::
ãm±y
(
fe
,
f’ame
);  *
	gthis
; }

56514 
	g¡mš
, 
	g¡max
 = ()
max_mš
(
¡mš
);

56515 ià(
	g_d•th
>1)

56516 
	gcimg
::
w¬n
(
_cimg_š¡ªû


56518 
cimg_š¡ªû
,

56519 
f’ame
?filename:"(FILE*)");

56520 ià(
	g_¥eùrum
>3)

56521 
	gcimg
::
w¬n
(
_cimg_š¡ªû


56523 
cimg_š¡ªû
,

56524 
f’ame
?filename:"(FILE*)");

56525 ià(
	g¡mš
<0 || (
	gby‹s_³r_pix–
==1 && 
¡max
>=256) || stmax>=65536)

56526 
cimg
::
w¬n
(
_cimg_š¡ªû


56528 
cimg_š¡ªû
,

56529 
¡mš
,
¡max
,
f’ame
?filename:"(FILE*)");

56531 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"wb");

56532 cÚ¡ 
T


56533 *
	g±r_r
 = 
d©a
(0,0,0,0),

56534 *
	g±r_g
 = (
_¥eùrum
>=2)?
d©a
(0,0,0,1):0,

56535 *
	g±r_b
 = (
_¥eùrum
>=3)?
d©a
(0,0,0,2):0;

56536 cÚ¡ 
ulÚgT
 
	gbuf_size
 = 
¡d
::
mš
((ulÚgT)(1024*1024),(ulÚgT)(
_width
*
_height
*(
_¥eùrum
==1?1UL:3UL)));

56538 
	g¡d
::
årštf
(
nfe
,"P%c\n%u %u\n%u\n",

56539 (
_¥eùrum
==1?'5':'6'),
_width
,
_height
,
¡max
<256?255:(stmax<4096?4095:65535));

56541 
	g_¥eùrum
) {

56543 ià(
by‹s_³r_pix–
==1 || (!by‹s_³r_pix– && 
¡max
<256)) {

56544 
CImg
<
uch¬T
> 
buf
(()
buf_size
);

56545 
lÚgT
 
	gto_wr™e
 = (lÚgT)
width
()*
height
();o_write>0; ) {

56546 cÚ¡ 
ulÚgT
 
	gN
 = 
¡d
::
mš
((ulÚgT)
to_wr™e
,
buf_size
);

56547 *
	g±rd
 = 
buf
.
_d©a
;

56548 
ulÚgT
 
	gi
 = 
N
; i>0; --iè*(
	g±rd
++èğ()*(
±r_r
++);

56549 
	gcimg
::
fwr™e
(
buf
.
_d©a
,
N
,
nfe
);

56550 
	gto_wr™e
-=
N
;

56553 
	gCImg
<
	gushÜtT
> 
buf
(()
buf_size
);

56554 
lÚgT
 
	gto_wr™e
 = (lÚgT)
width
()*
height
();o_write>0; ) {

56555 cÚ¡ 
ulÚgT
 
	gN
 = 
¡d
::
mš
((ulÚgT)
to_wr™e
,
buf_size
);

56556 *
	g±rd
 = 
buf
.
_d©a
;

56557 
ulÚgT
 
	gi
 = 
N
; i>0; --iè*(
	g±rd
++èğ()*(
±r_r
++);

56558 ià(!
	gcimg
::
’dŸÂess
()è
cimg
::
šv”t_’dŸÂess
(
buf
.
_d©a
,
buf_size
);

56559 
	gcimg
::
fwr™e
(
buf
.
_d©a
,
N
,
nfe
);

56560 
	gto_wr™e
-=
N
;

56565 ià(
by‹s_³r_pix–
==1 || (!by‹s_³r_pix– && 
¡max
<256)) {

56566 
CImg
<
uch¬T
> 
buf
(()
buf_size
);

56567 
lÚgT
 
	gto_wr™e
 = (lÚgT)
width
()*
height
();o_write>0; ) {

56568 cÚ¡ 
ulÚgT
 
	gN
 = 
¡d
::
mš
((ulÚgT)
to_wr™e
,
buf_size
/3);

56569 *
	g±rd
 = 
buf
.
_d©a
;

56570 
ulÚgT
 
	gi
 = 
N
; i>0; --i) {

56571 *(
	g±rd
++èğ()*(
±r_r
++);

56572 *(
	g±rd
++èğ()*(
±r_g
++);

56573 *(
	g±rd
++) = 0;

56575 
	gcimg
::
fwr™e
(
buf
.
_d©a
,3*
N
,
nfe
);

56576 
	gto_wr™e
-=
N
;

56579 
	gCImg
<
	gushÜtT
> 
buf
(()
buf_size
);

56580 
lÚgT
 
	gto_wr™e
 = (lÚgT)
width
()*
height
();o_write>0; ) {

56581 cÚ¡ 
ulÚgT
 
	gN
 = 
¡d
::
mš
((ulÚgT)
to_wr™e
,
buf_size
/3);

56582 *
	g±rd
 = 
buf
.
_d©a
;

56583 
ulÚgT
 
	gi
 = 
N
; i>0; --i) {

56584 *(
	g±rd
++èğ()*(
±r_r
++);

56585 *(
	g±rd
++èğ()*(
±r_g
++);

56586 *(
	g±rd
++) = 0;

56588 ià(!
	gcimg
::
’dŸÂess
()è
cimg
::
šv”t_’dŸÂess
(
buf
.
_d©a
,
buf_size
);

56589 
	gcimg
::
fwr™e
(
buf
.
_d©a
,3*
N
,
nfe
);

56590 
	gto_wr™e
-=
N
;

56595 ià(
by‹s_³r_pix–
==1 || (!by‹s_³r_pix– && 
¡max
<256)) {

56596 
CImg
<
uch¬T
> 
buf
(()
buf_size
);

56597 
lÚgT
 
	gto_wr™e
 = (lÚgT)
width
()*
height
();o_write>0; ) {

56598 cÚ¡ 
ulÚgT
 
	gN
 = 
¡d
::
mš
((ulÚgT)
to_wr™e
,
buf_size
/3);

56599 *
	g±rd
 = 
buf
.
_d©a
;

56600 
ulÚgT
 
	gi
 = 
N
; i>0; --i) {

56601 *(
	g±rd
++èğ()*(
±r_r
++);

56602 *(
	g±rd
++èğ()*(
±r_g
++);

56603 *(
	g±rd
++èğ()*(
±r_b
++);

56605 
	gcimg
::
fwr™e
(
buf
.
_d©a
,3*
N
,
nfe
);

56606 
	gto_wr™e
-=
N
;

56609 
	gCImg
<
	gushÜtT
> 
buf
(()
buf_size
);

56610 
lÚgT
 
	gto_wr™e
 = (lÚgT)
width
()*
height
();o_write>0; ) {

56611 cÚ¡ 
ulÚgT
 
	gN
 = 
¡d
::
mš
((ulÚgT)
to_wr™e
,
buf_size
/3);

56612 *
	g±rd
 = 
buf
.
_d©a
;

56613 
ulÚgT
 
	gi
 = 
N
; i>0; --i) {

56614 *(
	g±rd
++èğ()*(
±r_r
++);

56615 *(
	g±rd
++èğ()*(
±r_g
++);

56616 *(
	g±rd
++èğ()*(
±r_b
++);

56618 ià(!
	gcimg
::
’dŸÂess
()è
cimg
::
šv”t_’dŸÂess
(
buf
.
_d©a
,
buf_size
);

56619 
	gcimg
::
fwr™e
(
buf
.
_d©a
,3*
N
,
nfe
);

56620 
	gto_wr™e
-=
N
;

56625 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

56626  *
	gthis
;

56633 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_²k
(cÚ¡ *cÚ¡ 
f’ame
) const {

56634  
_§ve_²k
(0,
f’ame
);

56638 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_²k
(
¡d
::
FILE
 *cÚ¡ 
fe
) const {

56639  
_§ve_²k
(
fe
,0);

56642 cÚ¡ 
	gCImg
<
	gT
>& 
_§ve_²k
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
) const {

56643 ià(!
	gfe
 && !
	gf’ame
)

56644 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


56646 
cimg_š¡ªû
);

56647 ià(
is_em±y
()è{ 
	gcimg
::
ãm±y
(
fe
,
f’ame
);  *
	gthis
; }

56648 ià(
	g_¥eùrum
>1)

56649 
	gcimg
::
w¬n
(
_cimg_š¡ªû


56651 
cimg_š¡ªû
,

56652 
f’ame
?filename:"(FILE*)");

56654 cÚ¡ 
ulÚgT
 
	gbuf_size
 = 
¡d
::
mš
((ulÚgT)1024*1024,(ulÚgT)
_width
*
_height
*
_d•th
);

56655 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"wb");

56656 cÚ¡ 
T
 *
	g±r
 = 
d©a
(0,0,0,0);

56658 ià(!
	gcimg
::
ty³
<
T
>::
is_æßt
(è&& (T)==1 && 
_d•th
<2)

56659 
_§ve_²m
(
fe
,
f’ame
,0);

56660 ià(!
	gcimg
::
ty³
<
T
>::
is_æßt
() && (T)==1) {

56661 
¡d
::
årštf
(
nfe
,"P5\n%u %u %u\n255\n",
_width
,
_height
,
_d•th
);

56662 
	gCImg
<
	guch¬T
> 
buf
(()
buf_size
);

56663 
lÚgT
 
	gto_wr™e
 = (lÚgT)
width
()*
height
()*
d•th
();o_write>0; ) {

56664 cÚ¡ 
ulÚgT
 
	gN
 = 
¡d
::
mš
((ulÚgT)
to_wr™e
,
buf_size
);

56665 *
	g±rd
 = 
buf
.
_d©a
;

56666 
ulÚgT
 
	gi
 = 
N
; i>0; --iè*(
	g±rd
++èğ()*(
±r
++);

56667 
	gcimg
::
fwr™e
(
buf
.
_d©a
,
N
,
nfe
);

56668 
	gto_wr™e
-=
N
;

56670 } ià(!
	gcimg
::
ty³
<
T
>::
is_æßt
()) {

56671 ià(
_d•th
>1è
¡d
::
årštf
(
nfe
,"P8\n%u %u %u\n%d\n",
_width
,
_height
,_d•th,()
max
());

56672 
	g¡d
::
årštf
(
nfe
,"P8\n%u %u\n%d\n",
_width
,
_height
,()
max
());

56673 
	gCImg
<
	gštT
> 
buf
(()
buf_size
);

56674 
lÚgT
 
	gto_wr™e
 = (lÚgT)
width
()*
height
()*
d•th
();o_write>0; ) {

56675 cÚ¡ 
ulÚgT
 
	gN
 = 
¡d
::
mš
((ulÚgT)
to_wr™e
,
buf_size
);

56676 *
	g±rd
 = 
buf
.
_d©a
;

56677 
ulÚgT
 
	gi
 = 
N
; i>0; --iè*(
	g±rd
++èğ()*(
±r
++);

56678 
	gcimg
::
fwr™e
(
buf
.
_d©a
,
N
,
nfe
);

56679 
	gto_wr™e
-=
N
;

56682 ià(
	g_d•th
>1è
	g¡d
::
årštf
(
nfe
,"P9\n%u %u %u\n%g\n",
_width
,
_height
,
_d•th
,()
max
());

56683 
	g¡d
::
årštf
(
nfe
,"P9\n%u %u\n%g\n",
_width
,
_height
,()
max
());

56684 
	gCImg
<
	gæßtT
> 
buf
(()
buf_size
);

56685 
lÚgT
 
	gto_wr™e
 = (lÚgT)
width
()*
height
()*
d•th
();o_write>0; ) {

56686 cÚ¡ 
ulÚgT
 
	gN
 = 
¡d
::
mš
((ulÚgT)
to_wr™e
,
buf_size
);

56687 *
	g±rd
 = 
buf
.
_d©a
;

56688 
ulÚgT
 
	gi
 = 
N
; i>0; --iè*(
	g±rd
++èğ()*(
±r
++);

56689 
	gcimg
::
fwr™e
(
buf
.
_d©a
,
N
,
nfe
);

56690 
	gto_wr™e
-=
N
;

56694 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

56695  *
	gthis
;

56702 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_pfm
(cÚ¡ *cÚ¡ 
f’ame
) const {

56703 
g‘_mœrÜ
('y').
_§ve_pfm
(0,
f’ame
);

56704  *
	gthis
;

56708 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_pfm
(
¡d
::
FILE
 *cÚ¡ 
fe
) const {

56709 
g‘_mœrÜ
('y').
_§ve_pfm
(
fe
,0);

56710  *
	gthis
;

56713 cÚ¡ 
	gCImg
<
	gT
>& 
_§ve_pfm
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
) const {

56714 ià(!
	gfe
 && !
	gf’ame
)

56715 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


56717 
cimg_š¡ªû
);

56718 ià(
is_em±y
()è{ 
	gcimg
::
ãm±y
(
fe
,
f’ame
);  *
	gthis
; }

56719 ià(
	g_d•th
>1)

56720 
	gcimg
::
w¬n
(
_cimg_š¡ªû


56722 
cimg_š¡ªû
,

56723 
f’ame
?filename:"(FILE*)");

56724 ià(
	g_¥eùrum
>3)

56725 
	gcimg
::
w¬n
(
_cimg_š¡ªû


56728 
cimg_š¡ªû
,

56729 
f’ame
?filename:"(FILE*)");

56731 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"wb");

56732 cÚ¡ 
T


56733 *
	g±r_r
 = 
d©a
(0,0,0,0),

56734 *
	g±r_g
 = (
_¥eùrum
>=2)?
d©a
(0,0,0,1):0,

56735 *
	g±r_b
 = (
_¥eùrum
>=3)?
d©a
(0,0,0,2):0;

56736 cÚ¡ 
	gbuf_size
 = 
¡d
::
mš
(1024*1024U,
_width
*
_height
*(
_¥eùrum
==1?1:3));

56738 
	g¡d
::
årštf
(
nfe
,"P%c\n%u %u\n1.0\n",

56739 (
_¥eùrum
==1?'f':'F'),
_width
,
_height
);

56741 
	g_¥eùrum
) {

56743 
CImg
<
æßtT
> 
buf
(
buf_size
);

56744 
lÚgT
 
	gto_wr™e
 = (lÚgT)
width
()*
height
();o_write>0; ) {

56745 cÚ¡ 
ulÚgT
 
	gN
 = 
¡d
::
mš
((ulÚgT)
to_wr™e
,(ulÚgT)
buf_size
);

56746 *
	g±rd
 = 
buf
.
_d©a
;

56747 
ulÚgT
 
	gi
 = 
N
; i>0; --iè*(
	g±rd
++èğ()*(
±r_r
++);

56748 ià(!
	gcimg
::
’dŸÂess
()è
cimg
::
šv”t_’dŸÂess
(
buf
.
_d©a
,
buf_size
);

56749 
	gcimg
::
fwr™e
(
buf
.
_d©a
,
N
,
nfe
);

56750 
	gto_wr™e
-=
N
;

56754 
CImg
<
æßtT
> 
buf
(
buf_size
);

56755 
lÚgT
 
	gto_wr™e
 = (lÚgT)
width
()*
height
();o_write>0; ) {

56756 cÚ¡ 
	gN
 = 
¡d
::
mš
(()
to_wr™e
,
buf_size
/3);

56757 *
	g±rd
 = 
buf
.
_d©a
;

56758 
ulÚgT
 
	gi
 = 
N
; i>0; --i) {

56759 *(
	g±rd
++èğ()*(
±r_r
++);

56760 *(
	g±rd
++èğ()*(
±r_g
++);

56761 *(
	g±rd
++) = 0;

56763 ià(!
	gcimg
::
’dŸÂess
()è
cimg
::
šv”t_’dŸÂess
(
buf
.
_d©a
,
buf_size
);

56764 
	gcimg
::
fwr™e
(
buf
.
_d©a
,3*
N
,
nfe
);

56765 
	gto_wr™e
-=
N
;

56769 
CImg
<
æßtT
> 
buf
(
buf_size
);

56770 
lÚgT
 
	gto_wr™e
 = (lÚgT)
width
()*
height
();o_write>0; ) {

56771 cÚ¡ 
	gN
 = 
¡d
::
mš
(()
to_wr™e
,
buf_size
/3);

56772 *
	g±rd
 = 
buf
.
_d©a
;

56773 
ulÚgT
 
	gi
 = 
N
; i>0; --i) {

56774 *(
	g±rd
++èğ()*(
±r_r
++);

56775 *(
	g±rd
++èğ()*(
±r_g
++);

56776 *(
	g±rd
++èğ()*(
±r_b
++);

56778 ià(!
	gcimg
::
’dŸÂess
()è
cimg
::
šv”t_’dŸÂess
(
buf
.
_d©a
,
buf_size
);

56779 
	gcimg
::
fwr™e
(
buf
.
_d©a
,3*
N
,
nfe
);

56780 
	gto_wr™e
-=
N
;

56784 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

56785  *
	gthis
;

56792 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_rgb
(cÚ¡ *cÚ¡ 
f’ame
) const {

56793  
_§ve_rgb
(0,
f’ame
);

56797 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_rgb
(
¡d
::
FILE
 *cÚ¡ 
fe
) const {

56798  
_§ve_rgb
(
fe
,0);

56801 cÚ¡ 
	gCImg
<
	gT
>& 
_§ve_rgb
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
) const {

56802 ià(!
	gfe
 && !
	gf’ame
)

56803 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


56805 
cimg_š¡ªû
);

56806 ià(
is_em±y
()è{ 
	gcimg
::
ãm±y
(
fe
,
f’ame
);  *
	gthis
; }

56807 ià(
	g_¥eùrum
!=3)

56808 
cimg
::
w¬n
(
_cimg_š¡ªû


56810 
cimg_š¡ªû
,

56811 
f’ame
?filename:"(FILE*)");

56813 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"wb");

56814 cÚ¡ 
ulÚgT
 
	gwh
 = (ulÚgT)
_width
*
_height
;

56815 *cÚ¡ 
	gbufãr
 = 
Ãw
 [3*
wh
], *
	gnbufãr
 = 
bufãr
;

56816 cÚ¡ 
T


56817 *
	g±r1
 = 
d©a
(0,0,0,0),

56818 *
	g±r2
 = 
_¥eùrum
>1?
d©a
(0,0,0,1):0,

56819 *
	g±r3
 = 
_¥eùrum
>2?
d©a
(0,0,0,2):0;

56820 
	g_¥eùrum
) {

56822 
ulÚgT
 
k
 = 0; 
	gk
<
	gwh
; ++k) {

56823 cÚ¡ 
	gv®
 = ()*(
±r1
++);

56824 *(
	gnbufãr
++èğ
v®
;

56825 *(
	gnbufãr
++èğ
v®
;

56826 *(
	gnbufãr
++èğ
v®
;

56830 
ulÚgT
 
k
 = 0; 
	gk
<
	gwh
; ++k) {

56831 *(
	gnbufãr
++èğ()(*(
±r1
++));

56832 *(
	gnbufãr
++èğ()(*(
±r2
++));

56833 *(
	gnbufãr
++) = 0;

56837 
ulÚgT
 
k
 = 0; 
	gk
<
	gwh
; ++k) {

56838 *(
	gnbufãr
++èğ()(*(
±r1
++));

56839 *(
	gnbufãr
++èğ()(*(
±r2
++));

56840 *(
	gnbufãr
++èğ()(*(
±r3
++));

56844 
	gcimg
::
fwr™e
(
bufãr
,3*
wh
,
nfe
);

56845 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

56846 
	gd–‘e
[] 
	gbufãr
;

56847  *
	gthis
;

56854 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_rgba
(cÚ¡ *cÚ¡ 
f’ame
) const {

56855  
_§ve_rgba
(0,
f’ame
);

56859 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_rgba
(
¡d
::
FILE
 *cÚ¡ 
fe
) const {

56860  
_§ve_rgba
(
fe
,0);

56863 cÚ¡ 
	gCImg
<
	gT
>& 
_§ve_rgba
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
) const {

56864 ià(!
	gfe
 && !
	gf’ame
)

56865 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


56867 
cimg_š¡ªû
);

56868 ià(
is_em±y
()è{ 
	gcimg
::
ãm±y
(
fe
,
f’ame
);  *
	gthis
; }

56869 ià(
	g_¥eùrum
!=4)

56870 
cimg
::
w¬n
(
_cimg_š¡ªû


56872 
cimg_š¡ªû
,

56873 
f’ame
?filename:"(FILE*)");

56875 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"wb");

56876 cÚ¡ 
ulÚgT
 
	gwh
 = (ulÚgT)
_width
*
_height
;

56877 *cÚ¡ 
	gbufãr
 = 
Ãw
 [4*
wh
], *
	gnbufãr
 = 
bufãr
;

56878 cÚ¡ 
T


56879 *
	g±r1
 = 
d©a
(0,0,0,0),

56880 *
	g±r2
 = 
_¥eùrum
>1?
d©a
(0,0,0,1):0,

56881 *
	g±r3
 = 
_¥eùrum
>2?
d©a
(0,0,0,2):0,

56882 *
	g±r4
 = 
_¥eùrum
>3?
d©a
(0,0,0,3):0;

56883 
	g_¥eùrum
) {

56885 
ulÚgT
 
k
 = 0; 
	gk
<
	gwh
; ++k) {

56886 cÚ¡ 
	gv®
 = ()*(
±r1
++);

56887 *(
	gnbufãr
++èğ
v®
;

56888 *(
	gnbufãr
++èğ
v®
;

56889 *(
	gnbufãr
++èğ
v®
;

56890 *(
	gnbufãr
++) = 255;

56894 
ulÚgT
 
k
 = 0; 
	gk
<
	gwh
; ++k) {

56895 *(
	gnbufãr
++èğ()(*(
±r1
++));

56896 *(
	gnbufãr
++èğ()(*(
±r2
++));

56897 *(
	gnbufãr
++) = 0;

56898 *(
	gnbufãr
++) = 255;

56902 
ulÚgT
 
k
 = 0; 
	gk
<
	gwh
; ++k) {

56903 *(
	gnbufãr
++èğ()(*(
±r1
++));

56904 *(
	gnbufãr
++èğ()(*(
±r2
++));

56905 *(
	gnbufãr
++èğ()(*(
±r3
++));

56906 *(
	gnbufãr
++) = 255;

56910 
ulÚgT
 
k
 = 0; 
	gk
<
	gwh
; ++k) {

56911 *(
	gnbufãr
++èğ()(*(
±r1
++));

56912 *(
	gnbufãr
++èğ()(*(
±r2
++));

56913 *(
	gnbufãr
++èğ()(*(
±r3
++));

56914 *(
	gnbufãr
++èğ()(*(
±r4
++));

56918 
	gcimg
::
fwr™e
(
bufãr
,4*
wh
,
nfe
);

56919 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

56920 
	gd–‘e
[] 
	gbufãr
;

56921  *
	gthis
;

56940 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_tiff
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
com´essiÚ_ty³
=0,

56941 cÚ¡ *cÚ¡ 
vox–_size
=0, cÚ¡ *cÚ¡ 
desütiÚ
=0,

56942 cÚ¡ 
boŞ
 
u£_bigtiff
=
Œue
) const {

56943 ià(!
f’ame
)

56944 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


56946 
cimg_š¡ªû
);

56947 ià(
is_em±y
()è{ 
	gcimg
::
ãm±y
(0,
f’ame
);  *
	gthis
; }

56949 #ifdeà
cimg_u£_tiff


56950 cÚ¡ 
boŞ


56951 
	g_u£_bigtiff
 = 
u£_bigtiff
 && (
ulÚgT
)>=8 && 
size
()*(
T
)>=1UL<<31;

56952 
TIFF
 *
	gtif
 = 
TIFFO³n
(
f’ame
,
_u£_bigtiff
?"w8":"w4");

56953 ià(
	gtif
) {

56954 
cimg_fÜZ
(*
this
,
z
è
_§ve_tiff
(
tif
,z,z,
com´essiÚ_ty³
,
vox–_size
,
desütiÚ
);

56955 
TIFFClo£
(
tif
);

56956 } 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


56958 
cimg_š¡ªû
,

56959 
f’ame
);

56960  *
	gthis
;

56962 
	gcimg
::
unu£d
(
com´essiÚ_ty³
,
vox–_size
,
desütiÚ
,
u£_bigtiff
);

56963  
§ve_Ùh”
(
f’ame
);

56967 #ifdeà
cimg_u£_tiff


56969 
	#_cimg_§ve_tiff
(
ty³s
,
ty³d
,
com´essiÚ_ty³
èià(!
¡d
::
	`¡rcmp
Ñy³s,
	`pix–_ty³
())) { \

56970 cÚ¡ 
ty³d
 
foo
 = (ty³d)0;  
	`_§ve_tiff
(
tif
,
dœeùÜy
,
z
,foo,
com´essiÚ_ty³
,
vox–_size
,
desütiÚ
); }

	)

56973 
	g‹m¶©e
<
ty³Çme
 
	gt
>

56974 cÚ¡ 
	gCImg
<
	gT
>& 
_§ve_tiff
(
TIFF
 *
tif
, cÚ¡ 
dœeùÜy
, cÚ¡ 
z
, cÚ¡ 
t
& 
pix–_t
,

56975 cÚ¡ 
com´essiÚ_ty³
, cÚ¡ *cÚ¡ 
vox–_size
,

56976 cÚ¡ *cÚ¡ 
desütiÚ
) const {

56977 ià(
is_em±y
(è|| !
	gtif
 || 
	gpix–_t
è *
	gthis
;

56978 cÚ¡ *cÚ¡ 
	gf’ame
 = 
TIFFFeName
(
tif
);

56979 
ušt32
 
	grow¥”¡r
 = (uint32)-1;

56980 
ušt16
 
	g¥p
 = 
_¥eùrum
, 
	gbµ
 = (
t
)*8, 
	gphÙom‘ric
;

56981 ià(
	g¥p
==3 || 
¥p
==4è
phÙom‘ric
 = 
PHOTOMETRIC_RGB
;

56982 
	gphÙom‘ric
 = 
PHOTOMETRIC_MINISBLACK
;

56983 
TIFFS‘DœeùÜy
(
tif
,
dœeùÜy
);

56984 
TIFFS‘F›ld
(
tif
,
TIFFTAG_IMAGEWIDTH
,
_width
);

56985 
TIFFS‘F›ld
(
tif
,
TIFFTAG_IMAGELENGTH
,
_height
);

56986 ià(
	gvox–_size
) {

56987 cÚ¡ 
	gvx
 = 
vox–_size
[0], 
	gvy
 = vox–_size[1], 
	gvz
 = voxel_size[2];

56988 
TIFFS‘F›ld
(
tif
,
TIFFTAG_RESOLUTIONUNIT
,
RESUNIT_NONE
);

56989 
TIFFS‘F›ld
(
tif
,
TIFFTAG_XRESOLUTION
,1.f/
vx
);

56990 
TIFFS‘F›ld
(
tif
,
TIFFTAG_YRESOLUTION
,1.f/
vy
);

56991 
	gCImg
<
	gch¬T
> 
s_desütiÚ
(256);

56992 
cimg_¢´štf
(
s_desütiÚ
,s_desütiÚ.
_width
,"VX=%g VY=%g VZ=%g s·cšg=%g",
vx
,
vy
,
vz
,vz);

56993 
TIFFS‘F›ld
(
tif
,
TIFFTAG_IMAGEDESCRIPTION
,
s_desütiÚ
.
d©a
());

56995 ià(
	gdesütiÚ
è
TIFFS‘F›ld
(
tif
,
TIFFTAG_IMAGEDESCRIPTION
,
desütiÚ
);

56996 
TIFFS‘F›ld
(
tif
,
TIFFTAG_ORIENTATION
,
ORIENTATION_TOPLEFT
);

56997 
TIFFS‘F›ld
(
tif
,
TIFFTAG_SAMPLESPERPIXEL
,
¥p
);

56998 ià(
	gcimg
::
ty³
<
t
>::
is_æßt
()è
TIFFS‘F›ld
(
tif
,
TIFFTAG_SAMPLEFORMAT
,3);

56999 ià(
	gcimg
::
ty³
<
t
>::
mš
()==0è
TIFFS‘F›ld
(
tif
,
TIFFTAG_SAMPLEFORMAT
,1);

57000 
TIFFS‘F›ld
(
tif
,
TIFFTAG_SAMPLEFORMAT
,2);

57001 
	gv®m
, 
	gv®M
 = 
max_mš
(
v®m
);

57002 
TIFFS‘F›ld
(
tif
,
TIFFTAG_SMINSAMPLEVALUE
,
v®m
);

57003 
TIFFS‘F›ld
(
tif
,
TIFFTAG_SMAXSAMPLEVALUE
,
v®M
);

57004 
TIFFS‘F›ld
(
tif
,
TIFFTAG_BITSPERSAMPLE
,
bµ
);

57005 
TIFFS‘F›ld
(
tif
,
TIFFTAG_PLANARCONFIG
,
PLANARCONFIG_CONTIG
);

57006 
TIFFS‘F›ld
(
tif
,
TIFFTAG_PHOTOMETRIC
,
phÙom‘ric
);

57007 
TIFFS‘F›ld
(
tif
,
TIFFTAG_COMPRESSION
,
com´essiÚ_ty³
==2?
COMPRESSION_JPEG
:

57008 
com´essiÚ_ty³
==1?
COMPRESSION_LZW
:
COMPRESSION_NONE
);

57009 
	grow¥”¡r
 = 
TIFFDeçuÉSŒSize
(
tif
,
row¥”¡r
);

57010 
TIFFS‘F›ld
(
tif
,
TIFFTAG_ROWSPERSTRIP
,
row¥”¡r
);

57011 
TIFFS‘F›ld
(
tif
,
TIFFTAG_FILLORDER
,
FILLORDER_MSB2LSB
);

57012 
TIFFS‘F›ld
(
tif
,
TIFFTAG_SOFTWARE
,"CImg");

57014 
t
 *cÚ¡ 
	gbuf
 = (t*)
_TIFFm®loc
(
TIFFSŒSize
(
tif
));

57015 ià(
	gbuf
) {

57016 
	grow
 = 0;„ow<
	g_height
;„ow+=
row¥”¡r
) {

57017 
ušt32
 
Äow
 = (
row
 + 
row¥”¡r
>
_height
?_height -„ow:rowsperstrip);

57018 
t¡r_t
 
	g¡r
 = 
TIFFCompu‹SŒ
(
tif
,
row
,0);

57019 
tsize_t
 
	gi
 = 0;

57020 
	g¼
 = 0;„r<
	gÄow
; ++rr)

57021 
	gcc
 = 0; cc<
	g_width
; ++cc)

57022 
	gvv
 = 0; vv<
	g¥p
; ++vv)

57023 
	gbuf
[
i
++] = (
t
)(*
this
)(
cc
,
	grow
 + 
	g¼
,
	gz
,
	gvv
);

57024 ià(
TIFFWr™eEncodedSŒ
(
tif
,
¡r
,
buf
,
i
*(
t
))<0)

57025 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


57027 
cimg_š¡ªû
,

57028 
f’ame
?filename:"(FILE*)");

57030 
_TIFFä“
(
buf
);

57032 
TIFFWr™eDœeùÜy
(
tif
);

57033  *
	gthis
;

57036 cÚ¡ 
	gCImg
<
	gT
>& 
_§ve_tiff
(
TIFF
 *
tif
, cÚ¡ 
dœeùÜy
, cÚ¡ 
z
,

57037 cÚ¡ 
com´essiÚ_ty³
, cÚ¡ *cÚ¡ 
vox–_size
,

57038 cÚ¡ *cÚ¡ 
desütiÚ
) const {

57039 
_cimg_§ve_tiff
("boŞ",,
com´essiÚ_ty³
);

57040 
_cimg_§ve_tiff
("unsigÃd ch¬",,
com´essiÚ_ty³
);

57041 
_cimg_§ve_tiff
("ch¬",,
com´essiÚ_ty³
);

57042 
_cimg_§ve_tiff
("unsigÃd shÜt",,
com´essiÚ_ty³
);

57043 
_cimg_§ve_tiff
("shÜt",,
com´essiÚ_ty³
);

57044 
_cimg_§ve_tiff
("unsigÃd iÁ",,
com´essiÚ_ty³
);

57045 
_cimg_§ve_tiff
("št",,
com´essiÚ_ty³
);

57046 
_cimg_§ve_tiff
("unsigÃd iÁ64",,
com´essiÚ_ty³
);

57047 
_cimg_§ve_tiff
("št64",,
com´essiÚ_ty³
);

57048 
_cimg_§ve_tiff
("æßt",,
com´essiÚ_ty³
);

57049 
_cimg_§ve_tiff
("doubË",,
com´essiÚ_ty³
);

57050 cÚ¡ *cÚ¡ 
	gf’ame
 = 
TIFFFeName
(
tif
);

57051 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


57053 
cimg_š¡ªû
,

57054 
pix–_ty³
(),
f’ame
?filename:"(FILE*)");

57055  *
	gthis
;

57064 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_mšc2
(cÚ¡ *cÚ¡ 
f’ame
,

57065 cÚ¡ *cÚ¡ 
im™©e_fe
=0) const {

57066 ià(!
f’ame
)

57067 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


57069 
cimg_š¡ªû
);

57070 ià(
is_em±y
()è{ 
	gcimg
::
ãm±y
(0,
f’ame
);  *
	gthis
; }

57072 #iâdeà
cimg_u£_mšc2


57073 
	gcimg
::
unu£d
(
im™©e_fe
);

57074  
§ve_Ùh”
(
f’ame
);

57076 
	gmšc
::
mšc_1_wr™”
 
wŒ
;

57077 ià(
	gim™©e_fe
)

57078 
	gwŒ
.
İ’
(
f’ame
, 
im™©e_fe
);

57080 
	gmšc
::
mšc_šfo
 
di
;

57081 ià(
width
()è
	gdi
.
push_back
(
mšc
::
dim_šfo
(width(),width()*0.5,-1,mšc::dim_šfo::
DIM_X
));

57082 ià(
height
()è
	gdi
.
push_back
(
mšc
::
dim_šfo
(height(),height()*0.5,-1,mšc::dim_šfo::
DIM_Y
));

57083 ià(
d•th
()è
	gdi
.
push_back
(
mšc
::
dim_šfo
(d•th(),d•th()*0.5,-1,mšc::dim_šfo::
DIM_Z
));

57084 ià(
¥eùrum
()è
	gdi
.
push_back
(
mšc
::
dim_šfo
(¥eùrum(),¥eùrum()*0.5,-1,mšc::dim_šfo::
DIM_TIME
));

57085 
	gwŒ
.
İ’
(
f’ame
,
di
,1,
NC_FLOAT
,0);

57087 ià(
	gcimg
::
ty³
<
T
>::
¡ršg
()==
cimg
::type<>::string())

57088 
wŒ
.
£tup_wr™e_by‹
();

57089 ià(
	gcimg
::
ty³
<
T
>::
¡ršg
()==
cimg
::type<>::string())

57090 
wŒ
.
£tup_wr™e_št
();

57091 ià(
	gcimg
::
ty³
<
T
>::
¡ršg
()==
cimg
::type<>::string())

57092 
wŒ
.
£tup_wr™e_doubË
();

57094 
	gwŒ
.
£tup_wr™e_æßt
();

57095 
	gmšc
::
§ve_¡ªd¬d_vŞume
(
wŒ
, 
this
->
_d©a
);

57096  *
	gthis
;

57105 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_ª®yze
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ *cÚ¡ 
vox–_size
=0) const {

57106 ià(!
f’ame
)

57107 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


57109 
cimg_š¡ªû
);

57110 ià(
is_em±y
()è{ 
	gcimg
::
ãm±y
(0,
f’ame
);  *
	gthis
; }

57112 
	g¡d
::
FILE
 *
fe
;

57113 
	gCImg
<
	gch¬T
> 
hÇme
(1024), 
šame
(1024);

57114 cÚ¡ *cÚ¡ 
	gext
 = 
cimg
::
¥l™_f’ame
(
f’ame
);

57115 
	gd©©y³
 = -1;

57116 ià(!*
	gext
) {

57117 
cimg_¢´štf
(
hÇme
,hÇme.
_width
,"%s.hdr",
f’ame
);

57118 
cimg_¢´štf
(
šame
,šame.
_width
,"%s.img",
f’ame
);

57120 ià(!
	gcimg
::
¡ºÿ£cmp
(
ext
,"hdr",3)) {

57121 
	g¡d
::
¡rıy
(
hÇme
,
f’ame
);

57122 
	g¡d
::
¡ºıy
(
šame
,
f’ame
,šame.
_width
 - 1);

57123 
cimg_¥rštf
(
šame
.
_d©a
 + 
¡d
::
¡¾’
(iname) - 3,"img");

57125 ià(!
	gcimg
::
¡ºÿ£cmp
(
ext
,"img",3)) {

57126 
	g¡d
::
¡rıy
(
hÇme
,
f’ame
);

57127 
	g¡d
::
¡ºıy
(
šame
,
f’ame
,šame.
_width
 - 1);

57128 
cimg_¥rštf
(
hÇme
.
_d©a
 + 
¡d
::
¡¾’
(
šame
) - 3,"hdr");

57130 ià(!
	gcimg
::
¡ºÿ£cmp
(
ext
,"nii",3)) {

57131 
	g¡d
::
¡ºıy
(
hÇme
,
f’ame
,hÇme.
_width
 - 1); *
	gšame
 = 0;

57134 
	gCImg
<
	gch¬T
> 
h—d”
(*
šame
?348:352,1,1,1,0);

57135 *cÚ¡ 
	gih—d”
 = (*)
h—d”
.
_d©a
;

57136 *
	gih—d”
 = 348;

57137 
	g¡d
::
¡rıy
(
h—d”
.
_d©a
 + 4,"CImg");

57138 
	g¡d
::
¡rıy
(
h—d”
.
_d©a
 + 14," ");

57139 ((*)&(
	gh—d”
[36]))[0] = 4096;

57140 ((*)&(
	gh—d”
[38]))[0] = 114;

57141 ((*)&(
	gh—d”
[40]))[0] = 4;

57142 ((*)&(
	gh—d”
[40]))[1] = ()
_width
;

57143 ((*)&(
	gh—d”
[40]))[2] = ()
_height
;

57144 ((*)&(
	gh—d”
[40]))[3] = ()
_d•th
;

57145 ((*)&(
	gh—d”
[40]))[4] = ()
_¥eùrum
;

57146 ià(!
	gcimg
::
¡rÿ£cmp
(
pix–_ty³
(),"boŞ")è
	gd©©y³
 = 2;

57147 ià(!
	gcimg
::
¡rÿ£cmp
(
pix–_ty³
(),"unsigÃd ch¬")è
	gd©©y³
 = 2;

57148 ià(!
	gcimg
::
¡rÿ£cmp
(
pix–_ty³
(),"ch¬")è
	gd©©y³
 = 2;

57149 ià(!
	gcimg
::
¡rÿ£cmp
(
pix–_ty³
(),"unsigÃd shÜt")è
	gd©©y³
 = 4;

57150 ià(!
	gcimg
::
¡rÿ£cmp
(
pix–_ty³
(),"shÜt")è
	gd©©y³
 = 4;

57151 ià(!
	gcimg
::
¡rÿ£cmp
(
pix–_ty³
(),"unsigÃd iÁ")è
	gd©©y³
 = 8;

57152 ià(!
	gcimg
::
¡rÿ£cmp
(
pix–_ty³
(),"št")è
	gd©©y³
 = 8;

57153 ià(!
	gcimg
::
¡rÿ£cmp
(
pix–_ty³
(),"unsigÃd iÁ64")è
	gd©©y³
 = 8;

57154 ià(!
	gcimg
::
¡rÿ£cmp
(
pix–_ty³
(),"št64")è
	gd©©y³
 = 8;

57155 ià(!
	gcimg
::
¡rÿ£cmp
(
pix–_ty³
(),"æßt")è
	gd©©y³
 = 16;

57156 ià(!
	gcimg
::
¡rÿ£cmp
(
pix–_ty³
(),"doubË")è
	gd©©y³
 = 64;

57157 ià(
	gd©©y³
<0)

57158 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


57160 
cimg_š¡ªû
,

57161 
pix–_ty³
(),
f’ame
);

57163 ((*)&(
	gh—d”
[70]))[0] = 
d©©y³
;

57164 ((*)&(
	gh—d”
[72]))[0] = (
T
);

57165 ((*)&(
	gh—d”
[108]))[0] = ()(*
šame
?0:
h—d”
.
width
());

57166 ((*)&(
	gh—d”
[112]))[0] = 1;

57167 ((*)&(
	gh—d”
[76]))[0] = 0;

57168 ià(
	gvox–_size
) {

57169 ((*)&(
	gh—d”
[76]))[1] = 
vox–_size
[0];

57170 ((*)&(
	gh—d”
[76]))[2] = 
vox–_size
[1];

57171 ((*)&(
	gh—d”
[76]))[3] = 
vox–_size
[2];

57172 } ((*)&(
	gh—d”
[76]))[1] = ((*)&(
h—d”
[76]))[2] = ((*)&(header[76]))[3] = 1;

57173 
	gfe
 = 
cimg
::
fİ’
(
hÇme
,"wb");

57174 
	gcimg
::
fwr™e
(
h—d”
.
_d©a
,h—d”.
width
(),
fe
);

57175 ià(*
	gšame
è{ 
	gcimg
::
fşo£
(
fe
); 
	gfe
 = 
cimg
::
fİ’
(
šame
,"wb"); }

57176 
	gcimg
::
fwr™e
(
_d©a
,
size
(),
fe
);

57177 
	gcimg
::
fşo£
(
fe
);

57178  *
	gthis
;

57186 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_cimg
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
boŞ
 
is_com´es£d
=
çl£
) const {

57187 
CImgLi¡
<
T
>(*
this
,
Œue
).
§ve_cimg
(
f’ame
,
is_com´es£d
);

57188  *
	gthis
;

57192 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_cimg
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ 
boŞ
 
is_com´es£d
=
çl£
) const {

57193 
CImgLi¡
<
T
>(*
this
,
Œue
).
§ve_cimg
(
fe
,
is_com´es£d
);

57194  *
	gthis
;

57206 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_cimg
(cÚ¡ *cÚ¡ 
f’ame
,

57207 cÚ¡ 
n0
,

57208 cÚ¡ 
x0
, cÚ¡ 
y0
,

57209 cÚ¡ 
z0
, cÚ¡ 
c0
) const {

57210 
	gCImgLi¡
<
	gT
>(*
	gthis
,
	gŒue
).
§ve_cimg
(
f’ame
,
n0
,
x0
,
y0
,
z0
,
c0
);

57211  *
	gthis
;

57215 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_cimg
(
¡d
::
FILE
 *cÚ¡ 
fe
,

57216 cÚ¡ 
n0
,

57217 cÚ¡ 
x0
, cÚ¡ 
y0
,

57218 cÚ¡ 
z0
, cÚ¡ 
c0
) const {

57219 
	gCImgLi¡
<
	gT
>(*
	gthis
,
	gŒue
).
§ve_cimg
(
fe
,
n0
,
x0
,
y0
,
z0
,
c0
);

57220  *
	gthis
;

57234 
§ve_em±y_cimg
(cÚ¡ *cÚ¡ 
f’ame
,

57235 cÚ¡ 
dx
, cÚ¡ 
dy
=1,

57236 cÚ¡ 
dz
=1, cÚ¡ 
dc
=1) {

57237  
CImgLi¡
<
T
>::
§ve_em±y_cimg
(
f’ame
,1,
dx
,
dy
,
dz
,
dc
);

57245 
§ve_em±y_cimg
(
¡d
::
FILE
 *cÚ¡ 
fe
,

57246 cÚ¡ 
dx
, cÚ¡ 
dy
=1,

57247 cÚ¡ 
dz
=1, cÚ¡ 
dc
=1) {

57248  
CImgLi¡
<
T
>::
§ve_em±y_cimg
(
fe
,1,
dx
,
dy
,
dz
,
dc
);

57256 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_šr
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ *cÚ¡ 
vox–_size
=0) const {

57257  
_§ve_šr
(0,
f’ame
,
vox–_size
);

57261 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_šr
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
vox–_size
=0) const {

57262  
_§ve_šr
(
fe
,0,
vox–_size
);

57265 cÚ¡ 
	gCImg
<
	gT
>& 
_§ve_šr
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ *cÚ¡ 
vox–_size
) const {

57266 ià(!
	gfe
 && !
	gf’ame
)

57267 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


57269 
cimg_š¡ªû
);

57270 ià(
is_em±y
()è{ 
	gcimg
::
ãm±y
(
fe
,
f’ame
);  *
	gthis
; }

57272 
	gš½ixsize
 = -1;

57273 cÚ¡ *
	gš¹y³
 = "unsigned fixed\nPIXSIZE=8 bits\nSCALE=2**0";

57274 ià(!
	gcimg
::
¡rÿ£cmp
(
pix–_ty³
(),"unsigned char")) {

57275 
	gš¹y³
 = "unsigÃd fixed\nPIXSIZE=8 b™s\nSCALE=2**0"; 
	gš½ixsize
 = 1;

57277 ià(!
	gcimg
::
¡rÿ£cmp
(
pix–_ty³
(),"char")) {

57278 
	gš¹y³
 = "fixed\nPIXSIZE=8 b™s\nSCALE=2**0"; 
	gš½ixsize
 = 1;

57280 ià(!
	gcimg
::
¡rÿ£cmp
(
pix–_ty³
(),"unsigned short")) {

57281 
	gš¹y³
 = "unsigÃd fixed\nPIXSIZE=16 b™s\nSCALE=2**0";
	gš½ixsize
 = 2;

57283 ià(!
	gcimg
::
¡rÿ£cmp
(
pix–_ty³
(),"short")) {

57284 
	gš¹y³
 = "fixed\nPIXSIZE=16 b™s\nSCALE=2**0"; 
	gš½ixsize
 = 2;

57286 ià(!
	gcimg
::
¡rÿ£cmp
(
pix–_ty³
(),"unsigned int")) {

57287 
	gš¹y³
 = "unsigÃd fixed\nPIXSIZE=32 b™s\nSCALE=2**0";
	gš½ixsize
 = 4;

57289 ià(!
	gcimg
::
¡rÿ£cmp
(
pix–_ty³
(),"int")) {

57290 
	gš¹y³
 = "fixed\nPIXSIZE=32 b™s\nSCALE=2**0"; 
	gš½ixsize
 = 4;

57292 ià(!
	gcimg
::
¡rÿ£cmp
(
pix–_ty³
(),"float")) {

57293 
	gš¹y³
 = "æßt\nPIXSIZE=32 b™s"; 
	gš½ixsize
 = 4;

57295 ià(!
	gcimg
::
¡rÿ£cmp
(
pix–_ty³
(),"double")) {

57296 
	gš¹y³
 = "æßt\nPIXSIZE=64 b™s"; 
	gš½ixsize
 = 8;

57298 ià(
	gš½ixsize
<=0)

57299 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


57301 
cimg_š¡ªû
,

57302 
pix–_ty³
(),
f’ame
?filename:"(FILE*)");

57304 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"wb");

57305 
	gCImg
<
	gch¬T
> 
h—d”
(257);

57306 
	g”r
 = 
cimg_¢´štf
(
h—d”
,h—d”.
_width
,"#INRIMAGE-4#{\nXDIM=%u\nYDIM=%u\nZDIM=%u\nVDIM=%u\n",

57307 
_width
,
_height
,
_d•th
,
_¥eùrum
);

57308 ià(
	gvox–_size
è
	g”r
+=
cimg_¥rštf
(
h—d”
.
_d©a
 + 
”r
,"VX=%g\nVY=%g\nVZ=%g\n",

57309 
vox–_size
[0],voxel_size[1],voxel_size[2]);

57310 
	g”r
+=
cimg_¥rštf
(
h—d”
.
_d©a
 + 
”r
,"TYPE=%s\nCPU=%s\n",
š¹y³
,
cimg
::
’dŸÂess
()?"sun":"decm");

57311 
	g¡d
::
mem£t
(
h—d”
.
_d©a
 + 
”r
,'\n',252 -ƒrr);

57312 
	g¡d
::
memıy
(
h—d”
.
_d©a
 + 252,"##}\n",4);

57313 
	gcimg
::
fwr™e
(
h—d”
.
_d©a
,256,
nfe
);

57314 
cimg_fÜXYZ
(*
this
,
x
,
y
,
z
è
cimg_fÜC
(*this,
c
è
	gcimg
::
fwr™e
(&((*this)(x,y,z,c)),1,
nfe
);

57315 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

57316  *
	gthis
;

57324 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_exr
(cÚ¡ *cÚ¡ 
f’ame
) const {

57325 ià(!
	gf’ame
)

57326 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


57328 
cimg_š¡ªû
);

57329 ià(
is_em±y
()è{ 
	gcimg
::
ãm±y
(0,
f’ame
);  *
	gthis
; }

57330 ià(
	g_d•th
>1)

57331 
	gcimg
::
w¬n
(
_cimg_š¡ªû


57333 
cimg_š¡ªû
,

57334 
f’ame
);

57336 #iâdeà
cimg_u£_İ’exr


57337  
§ve_Ùh”
(
f’ame
);

57339 
	gImf
::
Rgba
 *cÚ¡ 
±rd0
 = 
Ãw
 
Imf
::Rgba[(
size_t
)
_width
*
_height
], *
	g±rd
 =…Œd0, 
	grgba
;

57340 
	g_¥eùrum
) {

57342 cÚ¡ 
T
 *
±r_r
 = 
d©a
(), *cÚ¡ 
	g±r_e
 =…Œ_¸+ (
ulÚgT
)
_width
*
_height
; 
	g±r_r
<ptr_e;) {

57343 
	grgba
.
	gr
 = (
h®f
)(*(
±r_r
));

57344 
	grgba
.
	gg
 = (
h®f
)(*(
±r_r
));

57345 
	grgba
.
	gb
 = (
h®f
)(*(
±r_r
++));

57346 
	grgba
.
	ga
 = (
h®f
)1;

57347 *(
	g±rd
++èğ
rgba
;

57351 cÚ¡ 
T
 *
±r_r
 = 
d©a
(), *
	g±r_g
 = data(0,0,0,1),

57352 *cÚ¡ 
	g±r_e
 = 
±r_r
 + (
ulÚgT
)
_width
*
_height
; 
	g±r_r
<ptr_e; ) {

57353 
	grgba
.
	gr
 = (
h®f
)(*(
±r_r
++));

57354 
	grgba
.
	gg
 = (
h®f
)(*(
±r_g
++));

57355 
	grgba
.
	gb
 = (
h®f
)0;

57356 
	grgba
.
	ga
 = (
h®f
)1;

57357 *(
	g±rd
++èğ
rgba
;

57361 cÚ¡ 
T
 *
±r_r
 = 
d©a
(), *
	g±r_g
 = d©a(0,0,0,1), *
	g±r_b
 = data(0,0,0,2),

57362 *cÚ¡ 
	g±r_e
 = 
±r_r
 + (
ulÚgT
)
_width
*
_height
; 
	g±r_r
<ptr_e;) {

57363 
	grgba
.
	gr
 = (
h®f
)(*(
±r_r
++));

57364 
	grgba
.
	gg
 = (
h®f
)(*(
±r_g
++));

57365 
	grgba
.
	gb
 = (
h®f
)(*(
±r_b
++));

57366 
	grgba
.
	ga
 = (
h®f
)1;

57367 *(
	g±rd
++èğ
rgba
;

57371 cÚ¡ 
T
 *
±r_r
 = 
d©a
(), *
	g±r_g
 = d©a(0,0,0,1), *
	g±r_b
 = d©a(0,0,0,2), *
	g±r_a
 = data(0,0,0,3),

57372 *cÚ¡ 
	g±r_e
 = 
±r_r
 + (
ulÚgT
)
_width
*
_height
; 
	g±r_r
<ptr_e;) {

57373 
	grgba
.
	gr
 = (
h®f
)(*(
±r_r
++));

57374 
	grgba
.
	gg
 = (
h®f
)(*(
±r_g
++));

57375 
	grgba
.
	gb
 = (
h®f
)(*(
±r_b
++));

57376 
	grgba
.
	ga
 = (
h®f
)(*(
±r_a
++));

57377 *(
	g±rd
++èğ
rgba
;

57381 
	gImf
::
RgbaOuutFe
 
outFe
(
f’ame
,
_width
,
_height
,

57382 
_¥eùrum
==1?
Imf
::
WRITE_Y
:_¥eùrum==2?Imf::
WRITE_YA
:_spectrum==3?

57383 
Imf
::
WRITE_RGB
:Imf::
WRITE_RGBA
);

57384 
	goutFe
.
£tF¿meBufãr
(
±rd0
,1,
_width
);

57385 
	goutFe
.
wr™ePix–s
(
_height
);

57386 
	gd–‘e
[] 
	g±rd0
;

57387  *
	gthis
;

57398 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_·ndÜe
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
cŞÜ¥aû
=0) const {

57399  
_§ve_·ndÜe
(0,
f’ame
,
cŞÜ¥aû
);

57407 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_·ndÜe
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ 
cŞÜ¥aû
=0) const {

57408  
_§ve_·ndÜe
(
fe
,0,
cŞÜ¥aû
);

57411 
_§ve_·ndÜe_h—d”_Ëngth
(
id
, *
dims
, cÚ¡ 
cŞÜ¥aû
) const {

57412 
	gnbdims
 = 0;

57413 ià(
	gid
==2 || 
id
==3 || id==4) {

57414 
dims
[0] = 1; 
	gdims
[1] = 
_width
; 
	gnbdims
 = 2;

57416 ià(
	gid
==5 || 
id
==6 || id==7) {

57417 
dims
[0] = 1; 
	gdims
[1] = 
_height
; dims[2] = 
_width
; 
	gnbdims
=3;

57419 ià(
	gid
==8 || 
id
==9 || id==10) {

57420 
dims
[0] = 
_¥eùrum
; 
	gdims
[1] = 
_d•th
; dims[2] = 
_height
; dims[3] = 
_width
; 
	gnbdims
 = 4;

57422 ià(
	gid
==16 || 
id
==17 || id==18) {

57423 
dims
[0] = 3; 
	gdims
[1] = 
_height
; dims[2] = 
_width
; dims[3] = 
cŞÜ¥aû
; 
	gnbdims
 = 4;

57425 ià(
	gid
==19 || 
id
==20 || id==21) {

57426 
dims
[0] = 3; 
	gdims
[1] = 
_d•th
; dims[2] = 
_height
; dims[3] = 
_width
; dims[4] = 
cŞÜ¥aû
; 
	gnbdims
 = 5;

57428 ià(
	gid
==22 || 
id
==23 || id==25) {

57429 
dims
[0] = 
_¥eùrum
; 
	gdims
[1] = 
_width
; 
	gnbdims
 = 2;

57431 ià(
	gid
==26 || 
id
==27 || id==29) {

57432 
dims
[0] = 
_¥eùrum
; 
	gdims
[1] = 
_height
; dims[2] = 
_width
; 
	gnbdims
=3;

57434 ià(
	gid
==30 || 
id
==31 || id==33) {

57435 
dims
[0] = 
_¥eùrum
; 
	gdims
[1] = 
_d•th
; dims[2] = 
_height
; dims[3] = 
_width
; 
	gnbdims
 = 4;

57437  
	gnbdims
;

57440 cÚ¡ 
	gCImg
<
	gT
>& 
_§ve_·ndÜe
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
,

57441 cÚ¡ 
cŞÜ¥aû
) const {

57443 
	#__cimg_§ve_·ndÜe_ÿ£
(
dty³
) \

57444 
dty³
 *
bufãr
 = 
Ãw
 dty³[
	`size
()]; \

57445 cÚ¡ 
T
 *
±rs
 = 
_d©a
; \

57446 
	`cimg_fÜoff
(*
this
,
off
è*(
bufãr
++èğ(
dty³
)(*(
±rs
++)); \

57447 
bufãr
-=
	`size
(); \

57448 
cimg
::
	`fwr™e
(
bufãr
,
	`size
(),
nfe
); \

57449 
d–‘e
[] 
bufãr


	)

57451 
	#_cimg_§ve_·ndÜe_ÿ£
(
sy
,
sz
,
sv
,
¡y³
,
id
) \

57452 ià(!
§ved
 && (
sy
?(sy==
_height
):
Œue
è&& (
sz
?(sz==
_d•th
):true) && \

57453 (
sv
?(sv==
_¥eùrum
):
Œue
è&& !
¡d
::
	`¡rcmp
(
¡y³
,
	`pix–_ty³
())) { \

57454 *
ih—d”
 = (*)(
h—d”
 + 12); \

57455 
nbdims
 = 
	`_§ve_·ndÜe_h—d”_Ëngth
((*
ih—d”
=
id
),
dims
,
cŞÜ¥aû
); \

57456 
cimg
::
	`fwr™e
(
h—d”
,36,
nfe
); \

57457 ià(()==4è{ 
CImg
<
ulÚgT
> 
	`ndims
(5); \

57458 
d
 = 0; d<5; ++dè
ndims
[d] = ()
dims
[d]; 
cimg
::
	`fwr™e
Òdims.
_d©a
,
nbdims
,
nfe
); } \

57459 ià(()==4è{ 
CImg
<
uštT
> 
	`ndims
(5); \

57460 
d
 = 0; d<5; ++dè
ndims
[d] = ()
dims
[d]; 
cimg
::
	`fwr™e
Òdims.
_d©a
,
nbdims
,
nfe
); } \

57461 ià(()==4è{ 
CImg
<
ushÜtT
> 
	`ndims
(5); \

57462 
d
 = 0; d<5; ++dè
ndims
[d] = ()
dims
[d]; 
cimg
::
	`fwr™e
Òdims.
_d©a
,
nbdims
,
nfe
); } \

57463 
throw
 
	`CImgIOExû±iÚ
(
_cimg_š¡ªû
 \

57465 
cimg_š¡ªû
, \

57466 
f’ame
?filename:"(FILE*)"); \

57467 ià(
id
==2 || id==5 || id==8 || id==16 || id==19 || id==22 || id==26 || id==30) { \

57468 
	`__cimg_§ve_·ndÜe_ÿ£
(); \

57469 } ià(
id
==3 || id==6 || id==9 || id==17 || id==20 || id==23 || id==27 || id==31) { \

57470 ià(()==4è{ 
	`__cimg_§ve_·ndÜe_ÿ£
(); } \

57471 ià(()==4è{ 
	`__cimg_§ve_·ndÜe_ÿ£
(); } \

57472 ià(()==4è{ 
	`__cimg_§ve_·ndÜe_ÿ£
(); } \

57473 
throw
 
	`CImgIOExû±iÚ
(
_cimg_š¡ªû
 \

57475 
cimg_š¡ªû
, \

57476 
f’ame
?filename:"(FILE*)"); \

57477 } ià(
id
==4 || id==7 || id==10 || id==18 || id==21 || id==25 || id==29 || id==33) { \

57478 ià(()==4è{ 
	`__cimg_§ve_·ndÜe_ÿ£
(); } \

57479 ià(()==4è{ 
	`__cimg_§ve_·ndÜe_ÿ£
(); } \

57480 
throw
 
	`CImgIOExû±iÚ
(
_cimg_š¡ªû
 \

57482 
cimg_š¡ªû
, \

57483 
f’ame
?filename:"(FILE*)"); \

57485 
§ved
 = 
Œue
; \

57486 }

	)

57488 ià(!
	gfe
 && !
	gf’ame
)

57489 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


57491 
cimg_š¡ªû
);

57492 ià(
is_em±y
()è{ 
	gcimg
::
ãm±y
(
fe
,
f’ame
);  *
	gthis
; }

57494 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"wb");

57495 
	gh—d”
[36] = { 'P','A','N','D','O','R','E','0','4',0,0,0,

57498 
	gnbdims
, 
	gdims
[5] = { 0 };

57499 
boŞ
 
	g§ved
 = 
çl£
;

57500 
_cimg_§ve_·ndÜe_ÿ£
(1,1,1,"unsigned char",2);

57501 
_cimg_§ve_·ndÜe_ÿ£
(1,1,1,"char",3);

57502 
_cimg_§ve_·ndÜe_ÿ£
(1,1,1,"unsigned short",3);

57503 
_cimg_§ve_·ndÜe_ÿ£
(1,1,1,"short",3);

57504 
_cimg_§ve_·ndÜe_ÿ£
(1,1,1,"unsigned int",3);

57505 
_cimg_§ve_·ndÜe_ÿ£
(1,1,1,"int",3);

57506 
_cimg_§ve_·ndÜe_ÿ£
(1,1,1,"unsigned int64",3);

57507 
_cimg_§ve_·ndÜe_ÿ£
(1,1,1,"int64",3);

57508 
_cimg_§ve_·ndÜe_ÿ£
(1,1,1,"float",4);

57509 
_cimg_§ve_·ndÜe_ÿ£
(1,1,1,"double",4);

57511 
_cimg_§ve_·ndÜe_ÿ£
(0,1,1,"unsigned char",5);

57512 
_cimg_§ve_·ndÜe_ÿ£
(0,1,1,"char",6);

57513 
_cimg_§ve_·ndÜe_ÿ£
(0,1,1,"unsigned short",6);

57514 
_cimg_§ve_·ndÜe_ÿ£
(0,1,1,"short",6);

57515 
_cimg_§ve_·ndÜe_ÿ£
(0,1,1,"unsigned int",6);

57516 
_cimg_§ve_·ndÜe_ÿ£
(0,1,1,"int",6);

57517 
_cimg_§ve_·ndÜe_ÿ£
(0,1,1,"unsigned int64",6);

57518 
_cimg_§ve_·ndÜe_ÿ£
(0,1,1,"int64",6);

57519 
_cimg_§ve_·ndÜe_ÿ£
(0,1,1,"float",7);

57520 
_cimg_§ve_·ndÜe_ÿ£
(0,1,1,"double",7);

57522 
_cimg_§ve_·ndÜe_ÿ£
(0,0,1,"unsigned char",8);

57523 
_cimg_§ve_·ndÜe_ÿ£
(0,0,1,"char",9);

57524 
_cimg_§ve_·ndÜe_ÿ£
(0,0,1,"unsigned short",9);

57525 
_cimg_§ve_·ndÜe_ÿ£
(0,0,1,"short",9);

57526 
_cimg_§ve_·ndÜe_ÿ£
(0,0,1,"unsigned int",9);

57527 
_cimg_§ve_·ndÜe_ÿ£
(0,0,1,"int",9);

57528 
_cimg_§ve_·ndÜe_ÿ£
(0,0,1,"unsigned int64",9);

57529 
_cimg_§ve_·ndÜe_ÿ£
(0,0,1,"int64",9);

57530 
_cimg_§ve_·ndÜe_ÿ£
(0,0,1,"float",10);

57531 
_cimg_§ve_·ndÜe_ÿ£
(0,0,1,"double",10);

57533 
_cimg_§ve_·ndÜe_ÿ£
(0,1,3,"unsigned char",16);

57534 
_cimg_§ve_·ndÜe_ÿ£
(0,1,3,"char",17);

57535 
_cimg_§ve_·ndÜe_ÿ£
(0,1,3,"unsigned short",17);

57536 
_cimg_§ve_·ndÜe_ÿ£
(0,1,3,"short",17);

57537 
_cimg_§ve_·ndÜe_ÿ£
(0,1,3,"unsigned int",17);

57538 
_cimg_§ve_·ndÜe_ÿ£
(0,1,3,"int",17);

57539 
_cimg_§ve_·ndÜe_ÿ£
(0,1,3,"unsigned int64",17);

57540 
_cimg_§ve_·ndÜe_ÿ£
(0,1,3,"int64",17);

57541 
_cimg_§ve_·ndÜe_ÿ£
(0,1,3,"float",18);

57542 
_cimg_§ve_·ndÜe_ÿ£
(0,1,3,"double",18);

57544 
_cimg_§ve_·ndÜe_ÿ£
(0,0,3,"unsigned char",19);

57545 
_cimg_§ve_·ndÜe_ÿ£
(0,0,3,"char",20);

57546 
_cimg_§ve_·ndÜe_ÿ£
(0,0,3,"unsigned short",20);

57547 
_cimg_§ve_·ndÜe_ÿ£
(0,0,3,"short",20);

57548 
_cimg_§ve_·ndÜe_ÿ£
(0,0,3,"unsigned int",20);

57549 
_cimg_§ve_·ndÜe_ÿ£
(0,0,3,"int",20);

57550 
_cimg_§ve_·ndÜe_ÿ£
(0,0,3,"unsigned int64",20);

57551 
_cimg_§ve_·ndÜe_ÿ£
(0,0,3,"int64",20);

57552 
_cimg_§ve_·ndÜe_ÿ£
(0,0,3,"float",21);

57553 
_cimg_§ve_·ndÜe_ÿ£
(0,0,3,"double",21);

57555 
_cimg_§ve_·ndÜe_ÿ£
(1,1,0,"unsigned char",22);

57556 
_cimg_§ve_·ndÜe_ÿ£
(1,1,0,"char",23);

57557 
_cimg_§ve_·ndÜe_ÿ£
(1,1,0,"unsigned short",23);

57558 
_cimg_§ve_·ndÜe_ÿ£
(1,1,0,"short",23);

57559 
_cimg_§ve_·ndÜe_ÿ£
(1,1,0,"unsigned int",23);

57560 
_cimg_§ve_·ndÜe_ÿ£
(1,1,0,"int",23);

57561 
_cimg_§ve_·ndÜe_ÿ£
(1,1,0,"unsigned int64",23);

57562 
_cimg_§ve_·ndÜe_ÿ£
(1,1,0,"int64",23);

57563 
_cimg_§ve_·ndÜe_ÿ£
(1,1,0,"float",25);

57564 
_cimg_§ve_·ndÜe_ÿ£
(1,1,0,"double",25);

57566 
_cimg_§ve_·ndÜe_ÿ£
(0,1,0,"unsigned char",26);

57567 
_cimg_§ve_·ndÜe_ÿ£
(0,1,0,"char",27);

57568 
_cimg_§ve_·ndÜe_ÿ£
(0,1,0,"unsigned short",27);

57569 
_cimg_§ve_·ndÜe_ÿ£
(0,1,0,"short",27);

57570 
_cimg_§ve_·ndÜe_ÿ£
(0,1,0,"unsigned int",27);

57571 
_cimg_§ve_·ndÜe_ÿ£
(0,1,0,"int",27);

57572 
_cimg_§ve_·ndÜe_ÿ£
(0,1,0,"unsigned int64",27);

57573 
_cimg_§ve_·ndÜe_ÿ£
(0,1,0,"int64",27);

57574 
_cimg_§ve_·ndÜe_ÿ£
(0,1,0,"float",29);

57575 
_cimg_§ve_·ndÜe_ÿ£
(0,1,0,"double",29);

57577 
_cimg_§ve_·ndÜe_ÿ£
(0,0,0,"unsigned char",30);

57578 
_cimg_§ve_·ndÜe_ÿ£
(0,0,0,"char",31);

57579 
_cimg_§ve_·ndÜe_ÿ£
(0,0,0,"unsigned short",31);

57580 
_cimg_§ve_·ndÜe_ÿ£
(0,0,0,"short",31);

57581 
_cimg_§ve_·ndÜe_ÿ£
(0,0,0,"unsigned int",31);

57582 
_cimg_§ve_·ndÜe_ÿ£
(0,0,0,"int",31);

57583 
_cimg_§ve_·ndÜe_ÿ£
(0,0,0,"unsigned int64",31);

57584 
_cimg_§ve_·ndÜe_ÿ£
(0,0,0,"int64",31);

57585 
_cimg_§ve_·ndÜe_ÿ£
(0,0,0,"float",33);

57586 
_cimg_§ve_·ndÜe_ÿ£
(0,0,0,"double",33);

57588 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

57589  *
	gthis
;

57599 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_¿w
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
boŞ
 
is_muÉËxed
=
çl£
) const {

57600  
_§ve_¿w
(0,
f’ame
,
is_muÉËxed
);

57608 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_¿w
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ 
boŞ
 
is_muÉËxed
=
çl£
) const {

57609  
_§ve_¿w
(
fe
,0,
is_muÉËxed
);

57612 cÚ¡ 
	gCImg
<
	gT
>& 
_§ve_¿w
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
boŞ
 
is_muÉËxed
) const {

57613 ià(!
	gfe
 && !
	gf’ame
)

57614 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


57616 
cimg_š¡ªû
);

57617 ià(
is_em±y
()è{ 
	gcimg
::
ãm±y
(
fe
,
f’ame
);  *
	gthis
; }

57619 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"wb");

57620 ià(!
	gis_muÉËxed
è
	gcimg
::
fwr™e
(
_d©a
,
size
(),
nfe
);

57622 
	gCImg
<
	gT
> 
buf
(
_¥eùrum
);

57623 
cimg_fÜXYZ
(*
this
,
x
,
y
,
z
) {

57624 
cimg_fÜC
(*
this
,
c
è
	gbuf
[c] = (*this)(
x
,
	gy
,
	gz
,
	gc
);

57625 
	gcimg
::
fwr™e
(
buf
.
_d©a
,
_¥eùrum
,
nfe
);

57628 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

57629  *
	gthis
;

57639 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_yuv
(cÚ¡ *cÚ¡ 
f’ame
,

57640 cÚ¡ 
chroma_sub§m¶šg
=444,

57641 cÚ¡ 
boŞ
 
is_rgb
=
Œue
) const {

57642 
CImgLi¡
<
T
>(*
this
,
Œue
).
§ve_yuv
(
f’ame
,
chroma_sub§m¶šg
,
is_rgb
);

57643  *
	gthis
;

57651 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_yuv
(
¡d
::
FILE
 *cÚ¡ 
fe
,

57652 cÚ¡ 
chroma_sub§m¶šg
=444,

57653 cÚ¡ 
boŞ
 
is_rgb
=
Œue
) const {

57654 
CImgLi¡
<
T
>(*
this
,
Œue
).
§ve_yuv
(
fe
,
chroma_sub§m¶šg
,
is_rgb
);

57655  *
	gthis
;

57669 
	g‹m¶©e
<
ty³Çme
 
	gtf
,y³Çm
	gtc
>

57670 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_off
(cÚ¡ 
CImgLi¡
<
tf
>& 
´im™ives
, cÚ¡ CImgLi¡<
tc
>& 
cŞÜs
,

57671 cÚ¡ *cÚ¡ 
f’ame
) const {

57672  
_§ve_off
(
´im™ives
,
cŞÜs
,0,
f’ame
);

57680 
	g‹m¶©e
<
ty³Çme
 
	gtf
,y³Çm
	gtc
>

57681 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_off
(cÚ¡ 
CImgLi¡
<
tf
>& 
´im™ives
, cÚ¡ CImgLi¡<
tc
>& 
cŞÜs
,

57682 
¡d
::
FILE
 *cÚ¡ 
fe
) const {

57683  
_§ve_off
(
´im™ives
,
cŞÜs
,
fe
,0);

57686 
	g‹m¶©e
<
ty³Çme
 
	gtf
,y³Çm
	gtc
>

57687 cÚ¡ 
	gCImg
<
	gT
>& 
_§ve_off
(cÚ¡ 
CImgLi¡
<
tf
>& 
´im™ives
, cÚ¡ CImgLi¡<
tc
>& 
cŞÜs
,

57688 
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
) const {

57689 ià(!
	gfe
 && !
	gf’ame
)

57690 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


57692 
cimg_š¡ªû
);

57693 ià(
is_em±y
())

57694 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


57696 
cimg_š¡ªû
,

57697 
f’ame
?filename:"(FILE*)");

57699 
	gCImgLi¡
<
	gT
> 
	gİac™›s
;

57700 
	gCImg
<
	gch¬T
> 
”rÜ_mes§ge
(1024);

57701 ià(!
is_objeù3d
(
´im™ives
,
cŞÜs
,
İac™›s
,
Œue
,
”rÜ_mes§ge
))

57702 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimg_š¡ªû


57704 
cimg_š¡ªû
,

57705 
f’ame
?f’ame:"(FILE*)",
”rÜ_mes§ge
.
d©a
());

57707 cÚ¡ 
	gCImg
<
	gtc
> 
deçuÉ_cŞÜ
(1,3,1,1,(
tc
)
¡d
::
mš
(()
cimg
::
ty³
<tc>::
max
(),200));

57708 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"w");

57709 
	gsuµÜ‹d_´im™ives
 = 0;

57710 
cimgli¡_fÜ
(
´im™ives
,
l
èià(
	g´im™ives
[l].
size
()!=5è++
suµÜ‹d_´im™ives
;

57711 
	g¡d
::
årštf
(
nfe
,"OFF\n%u %u %u\n",
_width
,
suµÜ‹d_´im™ives
,3*
´im™ives
._width);

57712 
cimg_fÜX
(*
this
,
i
è
	g¡d
::
årštf
(
nfe
,"%f %f %f\n",

57713 ()((*
this
)(
i
,0)),()((*this)(i,1)),()((*this)(i,2)));

57714 
cimgli¡_fÜ
(
´im™ives
,
l
) {

57715 cÚ¡ 
	gCImg
<
	gtc
>& 
	gcŞÜ
 = 
l
<
cŞÜs
.
width
()?cŞÜs[l]:
deçuÉ_cŞÜ
;

57716 cÚ¡ 
	gpsiz
 = 
´im™ives
[
l
].
size
(), 
	gcsiz
 = 
cŞÜ
.size();

57717 cÚ¡ 
	gr
 = 
cŞÜ
[0]/255.f, 
	gg
 = (
csiz
>1?cŞÜ[1]:
r
)/255.f, 
	gb
 = (csiz>2?cŞÜ[2]:
g
)/255.f;

57718 
	gpsiz
) {

57719 1 : 
¡d
::
årštf
(
nfe
,"1 %u %f %f %f\n",

57720 ()
´im™ives
(
l
,0),
r
,
g
,
b
); ;

57721 2 : 
¡d
::
årštf
(
nfe
,"2 %u %u %f %f %f\n",

57722 ()
´im™ives
(
l
,0),(írim™ivesÖ,1),
r
,
g
,
b
); ;

57723 3 : 
¡d
::
årštf
(
nfe
,"3 %u %u %u %f %f %f\n",

57724 ()
´im™ives
(
l
,0),()primitives(l,2),

57725 ()
´im™ives
(
l
,1),
r
,
g
,
b
); ;

57726 4 : 
¡d
::
årštf
(
nfe
,"4 %u %u %u %u %f %f %f\n",

57727 ()
´im™ives
(
l
,0),()primitives(l,3),

57728 ()
´im™ives
(
l
,2),(írim™ivesÖ,1),
r
,
g
,
b
); ;

57729 5 : 
¡d
::
årštf
(
nfe
,"2 %u %u %f %f %f\n",

57730 ()
´im™ives
(
l
,0),(írim™ivesÖ,1),
r
,
g
,
b
); ;

57732 cÚ¡ 
xt
 = ()
´im™ives
(
l
,2), 
	gyt
 = ()primitives(l,3);

57734 
	g¹
 = 
cŞÜ
.
©XY
(
xt
,
yt
,0)/255.f,

57735 
	ggt
 = (
csiz
>1?
cŞÜ
.
©XY
(
xt
,
yt
,1):
r
)/255.f,

57736 
	gbt
 = (
csiz
>2?
cŞÜ
.
©XY
(
xt
,
yt
,2):
g
)/255.f;

57737 
	g¡d
::
årštf
(
nfe
,"2 %u %u %f %f %f\n",

57738 ()
´im™ives
(
l
,0),(írim™ivesÖ,1),
¹
,
gt
,
bt
);

57741 cÚ¡ 
xt
 = ()
´im™ives
(
l
,3), 
	gyt
 = ()primitives(l,4);

57743 
	g¹
 = 
cŞÜ
.
©XY
(
xt
,
yt
,0)/255.f,

57744 
	ggt
 = (
csiz
>1?
cŞÜ
.
©XY
(
xt
,
yt
,1):
r
)/255.f,

57745 
	gbt
 = (
csiz
>2?
cŞÜ
.
©XY
(
xt
,
yt
,2):
g
)/255.f;

57746 
	g¡d
::
årštf
(
nfe
,"3 %u %u %u %f %f %f\n",

57747 ()
´im™ives
(
l
,0),()primitives(l,2),

57748 ()
´im™ives
(
l
,1),
¹
,
gt
,
bt
);

57751 cÚ¡ 
xt
 = ()
´im™ives
(
l
,4), 
	gyt
 = ()primitives(l,5);

57753 
	g¹
 = 
cŞÜ
.
©XY
(
xt
,
yt
,0)/255.f,

57754 
	ggt
 = (
csiz
>1?
cŞÜ
.
©XY
(
xt
,
yt
,1):
r
)/255.f,

57755 
	gbt
 = (
csiz
>2?
cŞÜ
.
©XY
(
xt
,
yt
,2):
g
)/255.f;

57756 
	g¡d
::
årštf
(
nfe
,"4 %u %u %u %u %f %f %f\n",

57757 ()
´im™ives
(
l
,0),()primitives(l,3),

57758 ()
´im™ives
(
l
,2),(írim™ivesÖ,1),
¹
,
gt
,
bt
);

57762 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

57763  *
	gthis
;

57774 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_video
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
ås
=25,

57775 cÚ¡ *
codec
=0, cÚ¡ 
boŞ
 
k“p_İ’
=
çl£
) const {

57776 ià(
is_em±y
()è{ 
CImgLi¡
<
T
>().
§ve_video
(
f’ame
,
ås
,
codec
,
k“p_İ’
);  *
	gthis
; }

57777 
	gCImgLi¡
<
	gT
> 
	gli¡
;

57778 
g‘_¥l™
('z').
move_to
(
li¡
);

57779 
	gli¡
.
§ve_video
(
f’ame
,
ås
,
codec
,
k“p_İ’
);

57780  *
	gthis
;

57795 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_ffm³g_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
ås
=25,

57796 cÚ¡ *cÚ¡ 
codec
=0, cÚ¡ 
b™¿‹
=2048) const {

57797 ià(!
f’ame
)

57798 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


57800 
cimg_š¡ªû
);

57801 ià(
is_em±y
()è{ 
	gcimg
::
ãm±y
(0,
f’ame
);  *
	gthis
; }

57803 
	gCImgLi¡
<
	gT
> 
	gli¡
;

57804 
g‘_¥l™
('z').
move_to
(
li¡
);

57805 
	gli¡
.
§ve_ffm³g_ex‹º®
(
f’ame
,
ås
,
codec
,
b™¿‹
);

57806  *
	gthis
;

57816 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_gz_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
) const {

57817 ià(!
	gf’ame
)

57818 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


57820 
cimg_š¡ªû
);

57821 ià(
is_em±y
()è{ 
	gcimg
::
ãm±y
(0,
f’ame
);  *
	gthis
; }

57823 
	gCImg
<
	gch¬T
> 
commªd
(1024), 
f’ame_tmp
(256), 
body
(256);

57825 *
	gext
 = 
cimg
::
¥l™_f’ame
(
f’ame
,
body
),

57826 *
	gext2
 = 
cimg
::
¥l™_f’ame
(
body
,0);

57827 
	g¡d
::
FILE
 *
fe
;

57829 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"gz")) {

57830 ià(*
	gext2
è
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s%c%s.%s",

57831 
cimg
::
‹mpÜ¬y_·th
(),
cimg_fe_£·¿tÜ
,cimg::
f’am”ªd
(),
ext2
);

57832 
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s%c%s.cimg",

57833 
cimg
::
‹mpÜ¬y_·th
(),
cimg_fe_£·¿tÜ
,cimg::
f’am”ªd
());

57835 ià(*
	gext
è
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s%c%s.%s",

57836 
cimg
::
‹mpÜ¬y_·th
(),
cimg_fe_£·¿tÜ
,cimg::
f’am”ªd
(),
ext
);

57837 
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s%c%s.cimg",

57838 
cimg
::
‹mpÜ¬y_·th
(),
cimg_fe_£·¿tÜ
,cimg::
f’am”ªd
());

57840 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame_tmp
,"rb"))!=0ècimg::
fşo£
(
fe
);

57841 } 
	gfe
);

57842 
§ve
(
f’ame_tmp
);

57843 
cimg_¢´štf
(
commªd
,commªd.
_width
,"\"%s\" -c \"%s\" > \"%s\"",

57844 
cimg
::
gz_·th
(),

57845 
CImg
<
ch¬T
>::
¡ršg
(
f’ame_tmp
).
_sy¡em_¡»sÿ³
().
d©a
(),

57846 
CImg
<
ch¬T
>::
¡ršg
(
f’ame
).
_sy¡em_¡»sÿ³
().
d©a
());

57847 
	gcimg
::
sy¡em
(
commªd
, 
cimg
::
gz_·th
());

57848 
	gfe
 = 
cimg
::
¡d_fİ’
(
f’ame
,"rb");

57849 ià(!
	gfe
)

57850 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


57852 
cimg_š¡ªû
,

57853 
f’ame
);

57855 
	gcimg
::
fşo£
(
fe
);

57856 
	g¡d
::
»move
(
f’ame_tmp
);

57857  *
	gthis
;

57868 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_g¿phicsmagick_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
qu®™y
=100) const {

57869 ià(!
f’ame
)

57870 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


57872 
cimg_š¡ªû
);

57873 ià(
is_em±y
()è{ 
	gcimg
::
ãm±y
(0,
f’ame
);  *
	gthis
; }

57874 ià(
	g_d•th
>1)

57875 
	gcimg
::
w¬n
(
_cimg_š¡ªû


57878 
cimg_š¡ªû
,
f’ame
);

57880 #ifdeà
cimg_u£_²g


57881 
	#_cimg_sge_ex‹nsiÚ1
 "²g"

	)

57882 
	#_cimg_sge_ex‹nsiÚ2
 "²g"

	)

57884 
	#_cimg_sge_ex‹nsiÚ1
 "pgm"

	)

57885 
	#_cimg_sge_ex‹nsiÚ2
 "µm"

	)

57887 
	gCImg
<
	gch¬T
> 
commªd
(1024), 
f’ame_tmp
(256);

57888 
	g¡d
::
FILE
 *
fe
;

57890 
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s%c%s.%s",

57891 
cimg
::
‹mpÜ¬y_·th
(),
cimg_fe_£·¿tÜ
,cimg::
f’am”ªd
(),

57892 
_¥eùrum
==1?
_cimg_sge_ex‹nsiÚ1
:
_cimg_sge_ex‹nsiÚ2
);

57893 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame_tmp
,"rb"))!=0ècimg::
fşo£
(
fe
);

57894 } 
	gfe
);

57896 #ifdeà
cimg_u£_²g


57897 
§ve_²g
(
f’ame_tmp
);

57899 
§ve_²m
(
f’ame_tmp
);

57901 
cimg_¢´štf
(
commªd
,commªd.
_width
,"\"%s\" convert -quality %u \"%s\" \"%s\"",

57902 
cimg
::
g¿phicsmagick_·th
(),
qu®™y
,

57903 
CImg
<
ch¬T
>::
¡ršg
(
f’ame_tmp
).
_sy¡em_¡»sÿ³
().
d©a
(),

57904 
CImg
<
ch¬T
>::
¡ršg
(
f’ame
).
_sy¡em_¡»sÿ³
().
d©a
());

57905 
	gcimg
::
sy¡em
(
commªd
, 
cimg
::
g¿phicsmagick_·th
());

57906 
	gfe
 = 
cimg
::
¡d_fİ’
(
f’ame
,"rb");

57907 ià(!
	gfe
)

57908 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


57910 
cimg_š¡ªû
,

57911 
f’ame
);

57913 ià(
	gfe
è
	gcimg
::
fşo£
(
fe
);

57914 
	g¡d
::
»move
(
f’ame_tmp
);

57915  *
	gthis
;

57926 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_imagemagick_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
qu®™y
=100) const {

57927 ià(!
f’ame
)

57928 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


57930 
cimg_š¡ªû
);

57931 ià(
is_em±y
()è{ 
	gcimg
::
ãm±y
(0,
f’ame
);  *
	gthis
; }

57932 ià(
	g_d•th
>1)

57933 
	gcimg
::
w¬n
(
_cimg_š¡ªû


57936 
cimg_š¡ªû
,
f’ame
);

57937 #ifdeà
cimg_u£_²g


57938 
	#_cimg_s›_ex‹nsiÚ1
 "²g"

	)

57939 
	#_cimg_s›_ex‹nsiÚ2
 "²g"

	)

57941 
	#_cimg_s›_ex‹nsiÚ1
 "pgm"

	)

57942 
	#_cimg_s›_ex‹nsiÚ2
 "µm"

	)

57944 
	gCImg
<
	gch¬T
> 
commªd
(1024), 
f’ame_tmp
(256);

57945 
	g¡d
::
FILE
 *
fe
;

57947 
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s%c%s.%s",
cimg
::
‹mpÜ¬y_·th
(),

57948 
cimg_fe_£·¿tÜ
,
cimg
::
f’am”ªd
(),
_¥eùrum
==1?
_cimg_s›_ex‹nsiÚ1
:
_cimg_s›_ex‹nsiÚ2
);

57949 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame_tmp
,"rb"))!=0ècimg::
fşo£
(
fe
);

57950 } 
	gfe
);

57951 #ifdeà
cimg_u£_²g


57952 
§ve_²g
(
f’ame_tmp
);

57954 
§ve_²m
(
f’ame_tmp
);

57956 
cimg_¢´štf
(
commªd
,commªd.
_width
,"\"%s\" -quality %u \"%s\" \"%s\"",

57957 
cimg
::
imagemagick_·th
(),
qu®™y
,

57958 
CImg
<
ch¬T
>::
¡ršg
(
f’ame_tmp
).
_sy¡em_¡»sÿ³
().
d©a
(),

57959 
CImg
<
ch¬T
>::
¡ršg
(
f’ame
).
_sy¡em_¡»sÿ³
().
d©a
());

57960 
	gcimg
::
sy¡em
(
commªd
, 
cimg
::
imagemagick_·th
());

57961 
	gfe
 = 
cimg
::
¡d_fİ’
(
f’ame
,"rb");

57962 ià(!
	gfe
)

57963 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


57966 
cimg_š¡ªû
,

57967 
f’ame
);

57969 ià(
	gfe
è
	gcimg
::
fşo£
(
fe
);

57970 
	g¡d
::
»move
(
f’ame_tmp
);

57971  *
	gthis
;

57981 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_medcÚ_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
) const {

57982 ià(!
	gf’ame
)

57983 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


57985 
cimg_š¡ªû
);

57986 ià(
is_em±y
()è{ 
	gcimg
::
ãm±y
(0,
f’ame
);  *
	gthis
; }

57988 
	gCImg
<
	gch¬T
> 
commªd
(1024), 
f’ame_tmp
(256), 
body
(256);

57989 
	g¡d
::
FILE
 *
fe
;

57991 
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s.hdr",
cimg
::
f’am”ªd
());

57992 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame_tmp
,"rb"))!=0ècimg::
fşo£
(
fe
);

57993 } 
	gfe
);

57994 
§ve_ª®yze
(
f’ame_tmp
);

57995 
cimg_¢´štf
(
commªd
,commªd.
_width
,"\"%s\" -w -c dicom -o \"%s\" -f \"%s\"",

57996 
cimg
::
medcÚ_·th
(),

57997 
CImg
<
ch¬T
>::
¡ršg
(
f’ame
).
_sy¡em_¡»sÿ³
().
d©a
(),

57998 
CImg
<
ch¬T
>::
¡ršg
(
f’ame_tmp
).
_sy¡em_¡»sÿ³
().
d©a
());

57999 
	gcimg
::
sy¡em
(
commªd
, 
cimg
::
medcÚ_·th
());

58000 
	g¡d
::
»move
(
f’ame_tmp
);

58001 
	gcimg
::
¥l™_f’ame
(
f’ame_tmp
,
body
);

58002 
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s.img",
body
.
_d©a
);

58003 
	g¡d
::
»move
(
f’ame_tmp
);

58005 
	gfe
 = 
cimg
::
¡d_fİ’
(
f’ame
,"rb");

58006 ià(!
	gfe
) {

58007 
cimg_¢´štf
(
commªd
,commªd.
_width
,"m000-%s",
f’ame
);

58008 
	gfe
 = 
cimg
::
¡d_fİ’
(
commªd
,"rb");

58009 ià(!
	gfe
) {

58010 
	gcimg
::
fşo£
(
cimg
::
fİ’
(
f’ame
,"r"));

58011 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


58013 
cimg_š¡ªû
,

58014 
f’ame
);

58017 
	gcimg
::
fşo£
(
fe
);

58018 
	g¡d
::
»Çme
(
commªd
,
f’ame
);

58019  *
	gthis
;

58035 cÚ¡ 
	gCImg
<
	gT
>& 
§ve_Ùh”
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
qu®™y
=100) const {

58036 ià(!
f’ame
)

58037 
throw
 
CImgArgum’tExû±iÚ
(
_cimg_š¡ªû


58039 
cimg_š¡ªû
);

58040 ià(
is_em±y
()è{ 
	gcimg
::
ãm±y
(0,
f’ame
);  *
	gthis
; }

58041 ià(
	g_d•th
>1)

58042 
	gcimg
::
w¬n
(
_cimg_š¡ªû


58045 
cimg_š¡ªû
,
f’ame
);

58047 cÚ¡ 
	gomode
 = 
cimg
::
exû±iÚ_mode
();

58048 
boŞ
 
	gis_§ved
 = 
Œue
;

58049 
	gcimg
::
exû±iÚ_mode
(0);

58050 
	gŒy
 { 
§ve_magick
(
f’ame
); }

58051 
ÿtch
 (
CImgExû±iÚ
&) {

58052 
	gŒy
 { 
§ve_imagemagick_ex‹º®
(
f’ame
,
qu®™y
); }

58053 
ÿtch
 (
CImgExû±iÚ
&) {

58054 
	gŒy
 { 
§ve_g¿phicsmagick_ex‹º®
(
f’ame
,
qu®™y
); }

58055 
ÿtch
 (
CImgExû±iÚ
&) {

58056 
	gis_§ved
 = 
çl£
;

58060 
	gcimg
::
exû±iÚ_mode
(
omode
);

58061 ià(!
	gis_§ved
)

58062 
throw
 
CImgIOExû±iÚ
(
_cimg_š¡ªû


58065 
cimg_š¡ªû
,

58066 
f’ame
);

58067  *
	gthis
;

58075 
	gCImg
<
	guch¬T
> 
g‘_£rŸlize
(cÚ¡ 
boŞ
 
is_com´es£d
=
çl£
) const {

58076  
CImgLi¡
<
T
>(*
this
,
Œue
).
g‘_£rŸlize
(
is_com´es£d
);

58080 
	gCImg
<
	gT
> 
_logo40x38
() {

58081 
	gCImg
<
	gT
> 
»s
(40,38,1,3);

58082 cÚ¡ *
	g±rs
 = 
cimg
::
logo40x38
;

58083 
T
 *
	g±r1
 = 
»s
.
d©a
(0,0,0,0), *
	g±r2
 =„es.d©a(0,0,0,1), *
	g±r3
 =„es.data(0,0,0,2);

58084 
ulÚgT
 
	goff
 = 0; off<(
	gulÚgT
)
	g»s
.
_width
*»s.
	g_height
;) {

58085 cÚ¡ 
	gn
 = *(
±rs
++), 
	gr
 = *ÕŒs++), 
	gg
 = *ÕŒs++), 
	gb
 = *(ptrs++);

58086 
	gl
 = 0;†<
	gn
; ++
	goff
, ++lè{ *(
	g±r1
++èğ(
T
)
r
; *(
	g±r2
++èğ(T)
g
; *(
	g±r3
++èğ(T)
b
; }

58088  
	g»s
;

58106 
	g‹m¶©e
<
ty³Çme
 
	gT
>

58107 
	sCImgLi¡
 {

58108 
	g_width
, 
	g_®loÿ‹d_width
;

58109 
	gCImg
<
	gT
> *
	g_d©a
;

58125 
	gCImg
<
	tT
>* 
	t™”©Ü
;

58133 cÚ¡ 
	tCImg
<
	tT
>* 
	tcÚ¡_™”©Ü
;

58144 
T
 
	tv®ue_ty³
;

58147 
ty³Çme
 
	tcimg
::
	tsu³r£t
<
	tT
,
	tboŞ
>::
	tty³
 
	tTboŞ
;

58148 
ty³Çme
 
	tcimg
::
	tsu³r£t
<
	tT
,>::
	tty³
 
	tTuch¬
;

58149 
ty³Çme
 
	tcimg
::
	tsu³r£t
<
	tT
,>::
	tty³
 
	tTch¬
;

58150 
ty³Çme
 
	tcimg
::
	tsu³r£t
<
	tT
,>::
	tty³
 
	tTushÜt
;

58151 
ty³Çme
 
	tcimg
::
	tsu³r£t
<
	tT
,>::
	tty³
 
	tTshÜt
;

58152 
ty³Çme
 
	tcimg
::
	tsu³r£t
<
	tT
,>::
	tty³
 
	tTušt
;

58153 
ty³Çme
 
	tcimg
::
	tsu³r£t
<
	tT
,>::
	tty³
 
	tTšt
;

58154 
ty³Çme
 
	tcimg
::
	tsu³r£t
<
	tT
,
	tcimg_ulÚg
>::
	tty³
 
	tTulÚg
;

58155 
ty³Çme
 
	tcimg
::
	tsu³r£t
<
	tT
,
	tcimg_lÚg
>::
	tty³
 
	tTlÚg
;

58156 
ty³Çme
 
	tcimg
::
	tsu³r£t
<
	tT
,>::
	tty³
 
	tTæßt
;

58157 
ty³Çme
 
	tcimg
::
	tsu³r£t
<
	tT
,>::
	tty³
 
	tTdoubË
;

58158 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,
	tboŞ
>::
	tty³
 
	tboŞT
;

58159 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,>::
	tty³
 
	tuch¬T
;

58160 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,>::
	tty³
 
	tch¬T
;

58161 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,>::
	tty³
 
	tushÜtT
;

58162 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,>::
	tty³
 
	tshÜtT
;

58163 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,>::
	tty³
 
	tuštT
;

58164 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,>::
	tty³
 
	tštT
;

58165 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,
	tcimg_ulÚg
>::
	tty³
 
	tulÚgT
;

58166 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,
	tcimg_lÚg
>::
	tty³
 
	tlÚgT
;

58167 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,
	tcimg_ušt64
>::
	tty³
 
	tušt64T
;

58168 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,
	tcimg_št64
>::
	tty³
 
	tšt64T
;

58169 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,>::
	tty³
 
	tæßtT
;

58170 
ty³Çme
 
	tcimg
::
	tÏ¡
<
	tT
,>::
	tty³
 
	tdoubËT
;

58178 #ifdeà
cimgli¡_¶ugš


58179 #šşud
cimgli¡_¶ugš


58181 #ifdeà
cimgli¡_¶ugš1


58182 #šşud
cimgli¡_¶ugš1


58184 #ifdeà
cimgli¡_¶ugš2


58185 #šşud
cimgli¡_¶ugš2


58187 #ifdeà
cimgli¡_¶ugš3


58188 #šşud
cimgli¡_¶ugš3


58190 #ifdeà
cimgli¡_¶ugš4


58191 #šşud
cimgli¡_¶ugš4


58193 #ifdeà
cimgli¡_¶ugš5


58194 #šşud
cimgli¡_¶ugš5


58196 #ifdeà
cimgli¡_¶ugš6


58197 #šşud
cimgli¡_¶ugš6


58199 #ifdeà
cimgli¡_¶ugš7


58200 #šşud
cimgli¡_¶ugš7


58202 #ifdeà
cimgli¡_¶ugš8


58203 #šşud
cimgli¡_¶ugš8


58220 ~
CImgLi¡
() {

58221 
	gd–‘e
[] 
	g_d©a
;

58233 
CImgLi¡
():

58234 
_width
(0),
_®loÿ‹d_width
(0),
_d©a
(0) {}

58243 
ex¶ic™
 
CImgLi¡
(cÚ¡ 
n
):
_width
(n) {

58244 ià(
n
è
_d©a
 = 
Ãw
 
CImg
<
T
>[
_®loÿ‹d_width
 = 
¡d
::
max
(16U,()
cimg
::
Ã¬e¡_pow2
(n))];

58245 { 
	g_®loÿ‹d_width
 = 0; 
	g_d©a
 = 0; }

58257 
CImgLi¡
(cÚ¡ 
n
, cÚ¡ 
width
, cÚ¡ 
height
=1,

58258 cÚ¡ 
d•th
=1, cÚ¡ 
¥eùrum
=1):

58259 
_width
(0),
_®loÿ‹d_width
(0),
_d©a
(0) {

58260 
assign
(
n
);

58261 
cimgli¡_­¶y
(*
this
,
assign
)(
	gwidth
,
	gheight
,
	gd•th
,
	g¥eùrum
);

58273 
CImgLi¡
(cÚ¡ 
n
, cÚ¡ 
width
, cÚ¡ 
height
,

58274 cÚ¡ 
d•th
, cÚ¡ 
¥eùrum
, cÚ¡ 
T
& 
v®
):

58275 
_width
(0),
_®loÿ‹d_width
(0),
_d©a
(0) {

58276 
assign
(
n
);

58277 
cimgli¡_­¶y
(*
this
,
assign
)(
	gwidth
,
	gheight
,
	gd•th
,
	g¥eùrum
,
	gv®
);

58292 
CImgLi¡
(cÚ¡ 
n
, cÚ¡ 
width
, cÚ¡ 
height
,

58293 cÚ¡ 
d•th
, cÚ¡ 
¥eùrum
, cÚ¡ 
v®0
, cÚ¡ 
v®1
, ...):

58294 
_width
(0),
_®loÿ‹d_width
(0),
_d©a
(0) {

58295 
	#_CImgLi¡_¡d¬g
(
t
) { \

58296 
	`assign
(
n
,
width
,
height
,
d•th
,
¥eùrum
); \

58297 cÚ¡ 
ulÚgT
 
siz
 = (ulÚgT)
width
*
height
*
d•th
*
¥eùrum
, 
nsiz
 = siz*
n
; \

58298 
T
 *
±rd
 = 
_d©a
->_data; \

58299 
va_li¡
 
­
; \

58300 
	`va_¡¬t
(
­
,
v®1
); \

58301 
ulÚgT
 
l
 = 0, 
s
 = 0, 
i
 = 0; i<
nsiz
; ++i) { \

58302 *(
±rd
++èğ(
T
)(
i
==0?
v®0
:(i==1?
v®1
:
	`va_¬g
(
­
,
t
))); \

58303 ià((++
s
)==
siz
è{ 
±rd
 = 
_d©a
[++
l
]._data; s = 0; } \

58305 
	`va_’d
(
­
); \

58306 }

	)

58307 
_CImgLi¡_¡d¬g
();

58322 
CImgLi¡
(cÚ¡ 
n
, cÚ¡ 
width
, cÚ¡ 
height
,

58323 cÚ¡ 
d•th
, cÚ¡ 
¥eùrum
, cÚ¡ 
v®0
, cÚ¡ 
v®1
, ...):

58324 
_width
(0),
_®loÿ‹d_width
(0),
_d©a
(0) {

58325 
_CImgLi¡_¡d¬g
();

58334 
	g‹m¶©e
<
ty³Çme
 
	gt
>

58335 
CImgLi¡
(cÚ¡ 
n
, cÚ¡ 
CImg
<
t
>& 
img
, cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
):

58336 
_width
(0),
_®loÿ‹d_width
(0),
_d©a
(0) {

58337 
assign
(
n
);

58338 
cimgli¡_­¶y
(*
this
,
assign
)(
	gimg
,
	gis_sh¬ed
);

58346 
	g‹m¶©e
<
ty³Çme
 
	gt
>

58347 
ex¶ic™
 
CImgLi¡
(cÚ¡ 
CImg
<
t
>& 
img
, cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
):

58348 
_width
(0),
_®loÿ‹d_width
(0),
_d©a
(0) {

58349 
assign
(1);

58350 
	g_d©a
[0].
assign
(
img
,
is_sh¬ed
);

58359 
	g‹m¶©e
<
ty³Çme
 
	gt1
,y³Çm
	gt2
>

58360 
CImgLi¡
(cÚ¡ 
CImg
<
t1
>& 
img1
, cÚ¡ CImg<
t2
>& 
img2
, cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
):

58361 
_width
(0),
_®loÿ‹d_width
(0),
_d©a
(0) {

58362 
assign
(2);

58363 
	g_d©a
[0].
assign
(
img1
,
is_sh¬ed
); _d©a[1].assign(
img2
,is_shared);

58373 
	g‹m¶©e
<
ty³Çme
 
	gt1
,y³Çm
	gt2
,y³Çm
	gt3
>

58374 
CImgLi¡
(cÚ¡ 
CImg
<
t1
>& 
img1
, cÚ¡ CImg<
t2
>& 
img2
, cÚ¡ CImg<
t3
>& 
img3
, cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
):

58375 
_width
(0),
_®loÿ‹d_width
(0),
_d©a
(0) {

58376 
assign
(3);

58377 
	g_d©a
[0].
assign
(
img1
,
is_sh¬ed
); _d©a[1].assign(
img2
,is_sh¬ed); _d©a[2].assign(
img3
,is_shared);

58388 
	g‹m¶©e
<
ty³Çme
 
	gt1
,y³Çm
	gt2
,y³Çm
	gt3
,y³Çm
	gt4
>

58389 
CImgLi¡
(cÚ¡ 
CImg
<
t1
>& 
img1
, cÚ¡ CImg<
t2
>& 
img2
, cÚ¡ CImg<
t3
>& 
img3
, cÚ¡ CImg<
t4
>& 
img4
,

58390 cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
):

58391 
_width
(0),
_®loÿ‹d_width
(0),
_d©a
(0) {

58392 
assign
(4);

58393 
	g_d©a
[0].
assign
(
img1
,
is_sh¬ed
); _d©a[1].assign(
img2
,is_sh¬ed); _d©a[2].assign(
img3
,is_shared);

58394 
	g_d©a
[3].
assign
(
img4
,
is_sh¬ed
);

58406 
	g‹m¶©e
<
ty³Çme
 
	gt1
,y³Çm
	gt2
,y³Çm
	gt3
,y³Çm
	gt4
,y³Çm
	gt5
>

58407 
CImgLi¡
(cÚ¡ 
CImg
<
t1
>& 
img1
, cÚ¡ CImg<
t2
>& 
img2
, cÚ¡ CImg<
t3
>& 
img3
, cÚ¡ CImg<
t4
>& 
img4
,

58408 cÚ¡ 
CImg
<
t5
>& 
img5
, cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
):

58409 
_width
(0),
_®loÿ‹d_width
(0),
_d©a
(0) {

58410 
assign
(5);

58411 
	g_d©a
[0].
assign
(
img1
,
is_sh¬ed
); _d©a[1].assign(
img2
,is_sh¬ed); _d©a[2].assign(
img3
,is_shared);

58412 
	g_d©a
[3].
assign
(
img4
,
is_sh¬ed
); _d©a[4].assign(
img5
,is_shared);

58425 
	g‹m¶©e
<
ty³Çme
 
	gt1
,y³Çm
	gt2
,y³Çm
	gt3
,y³Çm
	gt4
,y³Çm
	gt5
,y³Çm
	gt6
>

58426 
CImgLi¡
(cÚ¡ 
CImg
<
t1
>& 
img1
, cÚ¡ CImg<
t2
>& 
img2
, cÚ¡ CImg<
t3
>& 
img3
, cÚ¡ CImg<
t4
>& 
img4
,

58427 cÚ¡ 
CImg
<
t5
>& 
img5
, cÚ¡ CImg<
t6
>& 
img6
, cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
):

58428 
_width
(0),
_®loÿ‹d_width
(0),
_d©a
(0) {

58429 
assign
(6);

58430 
	g_d©a
[0].
assign
(
img1
,
is_sh¬ed
); _d©a[1].assign(
img2
,is_sh¬ed); _d©a[2].assign(
img3
,is_shared);

58431 
	g_d©a
[3].
assign
(
img4
,
is_sh¬ed
); _d©a[4].assign(
img5
,is_sh¬ed); _d©a[5].assign(
img6
,is_shared);

58445 
	g‹m¶©e
<
ty³Çme
 
	gt1
,y³Çm
	gt2
,y³Çm
	gt3
,y³Çm
	gt4
,y³Çm
	gt5
,y³Çm
	gt6
,y³Çm
	gt7
>

58446 
CImgLi¡
(cÚ¡ 
CImg
<
t1
>& 
img1
, cÚ¡ CImg<
t2
>& 
img2
, cÚ¡ CImg<
t3
>& 
img3
, cÚ¡ CImg<
t4
>& 
img4
,

58447 cÚ¡ 
CImg
<
t5
>& 
img5
, cÚ¡ CImg<
t6
>& 
img6
, cÚ¡ CImg<
t7
>& 
img7
, cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
):

58448 
_width
(0),
_®loÿ‹d_width
(0),
_d©a
(0) {

58449 
assign
(7);

58450 
	g_d©a
[0].
assign
(
img1
,
is_sh¬ed
); _d©a[1].assign(
img2
,is_sh¬ed); _d©a[2].assign(
img3
,is_shared);

58451 
	g_d©a
[3].
assign
(
img4
,
is_sh¬ed
); _d©a[4].assign(
img5
,is_sh¬ed); _d©a[5].assign(
img6
,is_shared);

58452 
	g_d©a
[6].
assign
(
img7
,
is_sh¬ed
);

58467 
	g‹m¶©e
<
ty³Çme
 
	gt1
,y³Çm
	gt2
,y³Çm
	gt3
,y³Çm
	gt4
,y³Çm
	gt5
,y³Çm
	gt6
,y³Çm
	gt7
,y³Çm
	gt8
>

58468 
CImgLi¡
(cÚ¡ 
CImg
<
t1
>& 
img1
, cÚ¡ CImg<
t2
>& 
img2
, cÚ¡ CImg<
t3
>& 
img3
, cÚ¡ CImg<
t4
>& 
img4
,

58469 cÚ¡ 
CImg
<
t5
>& 
img5
, cÚ¡ CImg<
t6
>& 
img6
, cÚ¡ CImg<
t7
>& 
img7
, cÚ¡ CImg<
t8
>& 
img8
,

58470 cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
):

58471 
_width
(0),
_®loÿ‹d_width
(0),
_d©a
(0) {

58472 
assign
(8);

58473 
	g_d©a
[0].
assign
(
img1
,
is_sh¬ed
); _d©a[1].assign(
img2
,is_sh¬ed); _d©a[2].assign(
img3
,is_shared);

58474 
	g_d©a
[3].
assign
(
img4
,
is_sh¬ed
); _d©a[4].assign(
img5
,is_sh¬ed); _d©a[5].assign(
img6
,is_shared);

58475 
	g_d©a
[6].
assign
(
img7
,
is_sh¬ed
); _d©a[7].assign(
img8
,is_shared);

58483 
	g‹m¶©e
<
ty³Çme
 
	gt
>

58484 
CImgLi¡
(cÚ¡ CImgLi¡<
t
>& 
li¡
):
_width
(0),
_®loÿ‹d_width
(0),
_d©a
(0) {

58485 
assign
(
li¡
.
_width
);

58486 
cimgli¡_fÜ
(*
this
,
l
è
	g_d©a
[l].
assign
(
li¡
[l],
çl£
);

58490 
CImgLi¡
(cÚ¡ CImgLi¡<
T
>& 
li¡
):
_width
(0),
_®loÿ‹d_width
(0),
_d©a
(0) {

58491 
assign
(
li¡
.
_width
);

58492 
cimgli¡_fÜ
(*
this
,
l
è
	g_d©a
[l].
assign
(
li¡
[l],li¡[l].
_is_sh¬ed
);

58500 
	g‹m¶©e
<
ty³Çme
 
	gt
>

58501 
CImgLi¡
(cÚ¡ CImgLi¡<
t
>& 
li¡
, cÚ¡ 
boŞ
 
is_sh¬ed
):
_width
(0),
_®loÿ‹d_width
(0),
_d©a
(0) {

58502 
assign
(
li¡
.
_width
);

58503 
cimgli¡_fÜ
(*
this
,
l
è
	g_d©a
[l].
assign
(
li¡
[l],
is_sh¬ed
);

58510 
ex¶ic™
 
CImgLi¡
(cÚ¡ *cÚ¡ 
f’ame
):
_width
(0),
_®loÿ‹d_width
(0),
_d©a
(0) {

58511 
assign
(
f’ame
);

58519 
ex¶ic™
 
CImgLi¡
(cÚ¡ 
CImgDi¥Ïy
& 
di¥
):
_width
(0),
_®loÿ‹d_width
(0),
_d©a
(0) {

58520 
assign
(
di¥
);

58527 
	gCImgLi¡
<
	gT
> 
g‘_sh¬ed
() {

58528 
	gCImgLi¡
<
	gT
> 
»s
(
_width
);

58529 
cimgli¡_fÜ
(*
this
,
l
è
	g»s
[l].
assign
(
_d©a
[l],
Œue
);

58530  
	g»s
;

58534 cÚ¡ 
	gCImgLi¡
<
	gT
> 
g‘_sh¬ed
() const {

58535 
	gCImgLi¡
<
	gT
> 
»s
(
_width
);

58536 
cimgli¡_fÜ
(*
this
,
l
è
	g»s
[l].
assign
(
_d©a
[l],
Œue
);

58537  
	g»s
;

58544 
	gCImgLi¡
<
	gT
>& 
assign
() {

58545 
	gd–‘e
[] 
	g_d©a
;

58546 
	g_width
 = 
_®loÿ‹d_width
 = 0;

58547 
	g_d©a
 = 0;

58548  *
	gthis
;

58556 
	gCImgLi¡
<
	gT
>& 
ş—r
() {

58557  
assign
();

58564 
	gCImgLi¡
<
	gT
>& 
assign
(cÚ¡ 
n
) {

58565 ià(!
	gn
è 
assign
();

58566 ià(
	g_®loÿ‹d_width
<
	gn
 || _allocated_width>(n<<2)) {

58567 
	gd–‘e
[] 
	g_d©a
;

58568 
	g_d©a
 = 
Ãw
 
CImg
<
T
>[
_®loÿ‹d_width
 = 
¡d
::
max
(16U,()
cimg
::
Ã¬e¡_pow2
(
n
))];

58570 
	g_width
 = 
n
;

58571  *
	gthis
;

58578 
	gCImgLi¡
<
	gT
>& 
assign
(cÚ¡ 
n
, cÚ¡ 
width
, cÚ¡ 
height
=1,

58579 cÚ¡ 
d•th
=1, cÚ¡ 
¥eùrum
=1) {

58580 
assign
(
n
);

58581 
cimgli¡_­¶y
(*
this
,
assign
)(
	gwidth
,
	gheight
,
	gd•th
,
	g¥eùrum
);

58582  *
	gthis
;

58589 
	gCImgLi¡
<
	gT
>& 
assign
(cÚ¡ 
n
, cÚ¡ 
width
, cÚ¡ 
height
,

58590 cÚ¡ 
d•th
, cÚ¡ 
¥eùrum
, cÚ¡ 
T
& 
v®
) {

58591 
assign
(
n
);

58592 
cimgli¡_­¶y
(*
this
,
assign
)(
	gwidth
,
	gheight
,
	gd•th
,
	g¥eùrum
,
	gv®
);

58593  *
	gthis
;

58600 
	gCImgLi¡
<
	gT
>& 
assign
(cÚ¡ 
n
, cÚ¡ 
width
, cÚ¡ 
height
,

58601 cÚ¡ 
d•th
, cÚ¡ 
¥eùrum
, cÚ¡ 
v®0
, cÚ¡ 
v®1
, ...) {

58602 
_CImgLi¡_¡d¬g
();

58603  *
	gthis
;

58610 
	gCImgLi¡
<
	gT
>& 
assign
(cÚ¡ 
n
, cÚ¡ 
width
, cÚ¡ 
height
,

58611 cÚ¡ 
d•th
, cÚ¡ 
¥eùrum
,

58612 cÚ¡ 
v®0
, cÚ¡ 
v®1
, ...) {

58613 
_CImgLi¡_¡d¬g
();

58614  *
	gthis
;

58621 
	g‹m¶©e
<
ty³Çme
 
	gt
>

58622 
	gCImgLi¡
<
	gT
>& 
assign
(cÚ¡ 
n
, cÚ¡ 
CImg
<
t
>& 
img
, cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
) {

58623 
assign
(
n
);

58624 
cimgli¡_­¶y
(*
this
,
assign
)(
	gimg
,
	gis_sh¬ed
);

58625  *
	gthis
;

58632 
	g‹m¶©e
<
ty³Çme
 
	gt
>

58633 
	gCImgLi¡
<
	gT
>& 
assign
(cÚ¡ 
CImg
<
t
>& 
img
, cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
) {

58634 
assign
(1);

58635 
	g_d©a
[0].
assign
(
img
,
is_sh¬ed
);

58636  *
	gthis
;

58643 
	g‹m¶©e
<
ty³Çme
 
	gt1
,y³Çm
	gt2
>

58644 
	gCImgLi¡
<
	gT
>& 
assign
(cÚ¡ 
CImg
<
t1
>& 
img1
, cÚ¡ CImg<
t2
>& 
img2
, cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
) {

58645 
assign
(2);

58646 
	g_d©a
[0].
assign
(
img1
,
is_sh¬ed
); _d©a[1].assign(
img2
,is_shared);

58647  *
	gthis
;

58654 
	g‹m¶©e
<
ty³Çme
 
	gt1
,y³Çm
	gt2
,y³Çm
	gt3
>

58655 
	gCImgLi¡
<
	gT
>& 
assign
(cÚ¡ 
CImg
<
t1
>& 
img1
, cÚ¡ CImg<
t2
>& 
img2
, cÚ¡ CImg<
t3
>& 
img3
, cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
) {

58656 
assign
(3);

58657 
	g_d©a
[0].
assign
(
img1
,
is_sh¬ed
); _d©a[1].assign(
img2
,is_sh¬ed); _d©a[2].assign(
img3
,is_shared);

58658  *
	gthis
;

58665 
	g‹m¶©e
<
ty³Çme
 
	gt1
,y³Çm
	gt2
,y³Çm
	gt3
,y³Çm
	gt4
>

58666 
	gCImgLi¡
<
	gT
>& 
assign
(cÚ¡ 
CImg
<
t1
>& 
img1
, cÚ¡ CImg<
t2
>& 
img2
, cÚ¡ CImg<
t3
>& 
img3
, cÚ¡ CImg<
t4
>& 
img4
,

58667 cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
) {

58668 
assign
(4);

58669 
	g_d©a
[0].
assign
(
img1
,
is_sh¬ed
); _d©a[1].assign(
img2
,is_sh¬ed); _d©a[2].assign(
img3
,is_shared);

58670 
	g_d©a
[3].
assign
(
img4
,
is_sh¬ed
);

58671  *
	gthis
;

58678 
	g‹m¶©e
<
ty³Çme
 
	gt1
,y³Çm
	gt2
,y³Çm
	gt3
,y³Çm
	gt4
,y³Çm
	gt5
>

58679 
	gCImgLi¡
<
	gT
>& 
assign
(cÚ¡ 
CImg
<
t1
>& 
img1
, cÚ¡ CImg<
t2
>& 
img2
, cÚ¡ CImg<
t3
>& 
img3
, cÚ¡ CImg<
t4
>& 
img4
,

58680 cÚ¡ 
CImg
<
t5
>& 
img5
, cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
) {

58681 
assign
(5);

58682 
	g_d©a
[0].
assign
(
img1
,
is_sh¬ed
); _d©a[1].assign(
img2
,is_sh¬ed); _d©a[2].assign(
img3
,is_shared);

58683 
	g_d©a
[3].
assign
(
img4
,
is_sh¬ed
); _d©a[4].assign(
img5
,is_shared);

58684  *
	gthis
;

58691 
	g‹m¶©e
<
ty³Çme
 
	gt1
,y³Çm
	gt2
,y³Çm
	gt3
,y³Çm
	gt4
,y³Çm
	gt5
,y³Çm
	gt6
>

58692 
	gCImgLi¡
<
	gT
>& 
assign
(cÚ¡ 
CImg
<
t1
>& 
img1
, cÚ¡ CImg<
t2
>& 
img2
, cÚ¡ CImg<
t3
>& 
img3
, cÚ¡ CImg<
t4
>& 
img4
,

58693 cÚ¡ 
CImg
<
t5
>& 
img5
, cÚ¡ CImg<
t6
>& 
img6
, cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
) {

58694 
assign
(6);

58695 
	g_d©a
[0].
assign
(
img1
,
is_sh¬ed
); _d©a[1].assign(
img2
,is_sh¬ed); _d©a[2].assign(
img3
,is_shared);

58696 
	g_d©a
[3].
assign
(
img4
,
is_sh¬ed
); _d©a[4].assign(
img5
,is_sh¬ed); _d©a[5].assign(
img6
,is_shared);

58697  *
	gthis
;

58705 
	g‹m¶©e
<
ty³Çme
 
	gt1
,y³Çm
	gt2
,y³Çm
	gt3
,y³Çm
	gt4
,y³Çm
	gt5
,y³Çm
	gt6
,y³Çm
	gt7
>

58706 
	gCImgLi¡
<
	gT
>& 
assign
(cÚ¡ 
CImg
<
t1
>& 
img1
, cÚ¡ CImg<
t2
>& 
img2
, cÚ¡ CImg<
t3
>& 
img3
, cÚ¡ CImg<
t4
>& 
img4
,

58707 cÚ¡ 
CImg
<
t5
>& 
img5
, cÚ¡ CImg<
t6
>& 
img6
, cÚ¡ CImg<
t7
>& 
img7
, cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
) {

58708 
assign
(7);

58709 
	g_d©a
[0].
assign
(
img1
,
is_sh¬ed
); _d©a[1].assign(
img2
,is_sh¬ed); _d©a[2].assign(
img3
,is_shared);

58710 
	g_d©a
[3].
assign
(
img4
,
is_sh¬ed
); _d©a[4].assign(
img5
,is_sh¬ed); _d©a[5].assign(
img6
,is_shared);

58711 
	g_d©a
[6].
assign
(
img7
,
is_sh¬ed
);

58712  *
	gthis
;

58720 
	g‹m¶©e
<
ty³Çme
 
	gt1
,y³Çm
	gt2
,y³Çm
	gt3
,y³Çm
	gt4
,y³Çm
	gt5
,y³Çm
	gt6
,y³Çm
	gt7
,y³Çm
	gt8
>

58721 
	gCImgLi¡
<
	gT
>& 
assign
(cÚ¡ 
CImg
<
t1
>& 
img1
, cÚ¡ CImg<
t2
>& 
img2
, cÚ¡ CImg<
t3
>& 
img3
, cÚ¡ CImg<
t4
>& 
img4
,

58722 cÚ¡ 
CImg
<
t5
>& 
img5
, cÚ¡ CImg<
t6
>& 
img6
, cÚ¡ CImg<
t7
>& 
img7
, cÚ¡ CImg<
t8
>& 
img8
,

58723 cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
) {

58724 
assign
(8);

58725 
	g_d©a
[0].
assign
(
img1
,
is_sh¬ed
); _d©a[1].assign(
img2
,is_sh¬ed); _d©a[2].assign(
img3
,is_shared);

58726 
	g_d©a
[3].
assign
(
img4
,
is_sh¬ed
); _d©a[4].assign(
img5
,is_sh¬ed); _d©a[5].assign(
img6
,is_shared);

58727 
	g_d©a
[6].
assign
(
img7
,
is_sh¬ed
); _d©a[7].assign(
img8
,is_shared);

58728  *
	gthis
;

58735 
	g‹m¶©e
<
ty³Çme
 
	gt
>

58736 
	gCImgLi¡
<
	gT
>& 
assign
(cÚ¡ 
CImgLi¡
<
t
>& 
li¡
, cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
) {

58737 
cimg
::
unu£d
(
is_sh¬ed
);

58738 
assign
(
li¡
.
_width
);

58739 
cimgli¡_fÜ
(*
this
,
l
è
	g_d©a
[l].
assign
(
li¡
[l],
çl£
);

58740  *
	gthis
;

58744 
	gCImgLi¡
<
	gT
>& 
assign
(cÚ¡ 
CImgLi¡
<
T
>& 
li¡
, cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
) {

58745 ià(
this
==&
li¡
)  *this;

58746 
	gCImgLi¡
<
	gT
> 
»s
(
li¡
.
_width
);

58747 
cimgli¡_fÜ
(
»s
,
l
è
	g»s
[l].
assign
(
li¡
[l],
is_sh¬ed
);

58748  
	g»s
.
move_to
(*
this
);

58755 
	gCImgLi¡
<
	gT
>& 
assign
(cÚ¡ *cÚ¡ 
f’ame
) {

58756  
lßd
(
f’ame
);

58763 
	gCImgLi¡
<
	gT
>& 
assign
(cÚ¡ 
CImgDi¥Ïy
 &
di¥
) {

58764  
assign
(
CImg
<
T
>(
di¥
));

58772 
	g‹m¶©e
<
ty³Çme
 
	gt
>

58773 
	gCImgLi¡
<
	gt
>& 
move_to
(
CImgLi¡
<
t
>& 
li¡
) {

58774 
	gli¡
.
assign
(
_width
);

58775 
boŞ
 
	gis_Úe_sh¬ed_–em’t
 = 
çl£
;

58776 
cimgli¡_fÜ
(*
this
,
l
è
	gis_Úe_sh¬ed_–em’t
|=
_d©a
[l].
_is_sh¬ed
;

58777 ià(
	gis_Úe_sh¬ed_–em’t
è
cimgli¡_fÜ
(*
this
,
l
è
	gli¡
[l].
assign
(
_d©a
[l]);

58778 
cimgli¡_fÜ
(*
this
,
l
è
	g_d©a
[l].
move_to
(
li¡
[l]);

58779 
assign
();

58780  
	gli¡
;

58790 
	g‹m¶©e
<
ty³Çme
 
	gt
>

58791 
	gCImgLi¡
<
	gt
>& 
move_to
(
CImgLi¡
<
t
>& 
li¡
, cÚ¡ 
pos
) {

58792 ià(
is_em±y
()è 
	gli¡
;

58793 cÚ¡ 
	gÅos
 = 
pos
>
li¡
.
_width
?list._width:pos;

58794 
	gli¡
.
š£¹
(
_width
,
Åos
);

58795 
boŞ
 
	gis_Úe_sh¬ed_–em’t
 = 
çl£
;

58796 
cimgli¡_fÜ
(*
this
,
l
è
	gis_Úe_sh¬ed_–em’t
|=
_d©a
[l].
_is_sh¬ed
;

58797 ià(
	gis_Úe_sh¬ed_–em’t
è
cimgli¡_fÜ
(*
this
,
l
è
	gli¡
[
Åos
 +†].
assign
(
_d©a
[l]);

58798 
cimgli¡_fÜ
(*
this
,
l
è
	g_d©a
[l].
move_to
(
li¡
[
Åos
 +†]);

58799 
assign
();

58800  
	gli¡
;

58808 
	gCImgLi¡
<
	gT
>& 
sw­
(
CImgLi¡
<
T
>& 
li¡
) {

58809 
	gcimg
::
sw­
(
_width
,
li¡
._width,
_®loÿ‹d_width
,list._allocated_width);

58810 
	gcimg
::
sw­
(
_d©a
,
li¡
._data);

58811  
	gli¡
;

58821 
	gCImgLi¡
<
	gT
>& 
em±y
() {

58822 
	gCImgLi¡
<
	gT
> 
	g_em±y
;

58823  
	g_em±y
.
assign
();

58827 cÚ¡ 
	gCImgLi¡
<
	gT
>& 
cÚ¡_em±y
() {

58828 cÚ¡ 
	gCImgLi¡
<
	gT
> 
	g_em±y
;

58829  
	g_em±y
;

58843 
	gCImg
<
	gT
>& 
İ”©Ü
()(cÚ¡ 
	gpos
) {

58844 #ià
cimg_v”bos™y
>=3

58845 ià(
	gpos
>=
_width
) {

58846 
cimg
::
w¬n
(
_cimgli¡_š¡ªû


58848 
cimgli¡_š¡ªû
,

58849 
pos
);

58850  *
	g_d©a
;

58853  
	g_d©a
[
pos
];

58860 cÚ¡ 
	gCImg
<
	gT
>& 
İ”©Ü
()(cÚ¡ 
	gpos
) const {

58861  
	gcÚ¡_ÿ¡
<
	gCImgLi¡
<
	gT
>*>(
	gthis
)->
İ”©Ü
()(
	gpos
);

58873 
	gT
& 
İ”©Ü
()(cÚ¡ 
	gpos
, cÚ¡ 
	gx
, cÚ¡ 
	gy
=0,

58874 cÚ¡ 
	gz
=0, cÚ¡ 
	gc
=0) {

58875  (*
this
)[
pos
](
x
,
y
,
z
,
c
);

58879 cÚ¡ 
	gT
& 
İ”©Ü
()(cÚ¡ 
	gpos
, cÚ¡ 
	gx
, cÚ¡ 
	gy
=0,

58880 cÚ¡ 
	gz
=0, cÚ¡ 
	gc
=0) const {

58881  (*
this
)[
pos
](
x
,
y
,
z
,
c
);

58888 
İ”©Ü
 
	gCImg
<
	gT
>*() {

58889  
	g_d©a
;

58893 
İ”©Ü
 cÚ¡ 
	gCImg
<
	gT
>*() const {

58894  
	g_d©a
;

58902 
	g‹m¶©e
<
ty³Çme
 
	gt
>

58903 
	gCImgLi¡
<
	gT
>& 
	gİ”©Ü
=(cÚ¡ 
CImg
<
t
>& 
img
) {

58904  
assign
(
img
);

58912 
	g‹m¶©e
<
ty³Çme
 
	gt
>

58913 
	gCImgLi¡
<
	gT
>& 
	gİ”©Ü
=(cÚ¡ 
CImgLi¡
<
t
>& 
li¡
) {

58914  
assign
(
li¡
);

58918 
	gCImgLi¡
<
	gT
>& 
	gİ”©Ü
=(cÚ¡ 
CImgLi¡
<
T
>& 
li¡
) {

58919  
assign
(
li¡
);

58926 
	gCImgLi¡
<
	gT
>& 
	gİ”©Ü
=(cÚ¡ *cÚ¡ 
f’ame
) {

58927  
assign
(
f’ame
);

58934 
	gCImgLi¡
<
	gT
>& 
	gİ”©Ü
=(cÚ¡ 
CImgDi¥Ïy
& 
di¥
) {

58935  
assign
(
di¥
);

58943 
	gCImgLi¡
<
	gT
> 
	gİ”©Ü
+() const {

58944  
	gCImgLi¡
<
	gT
>(*
	gthis
,
	gçl£
);

58955 
	g‹m¶©e
<
ty³Çme
 
	gt
>

58956 
	gCImgLi¡
<
	gT
>& 
	gİ”©Ü
,(cÚ¡ 
	gCImg
<
	gt
>& 
	gimg
) {

58957  
š£¹
(
img
);

58961 
	g‹m¶©e
<
ty³Çme
 
	gt
>

58962 
	gCImgLi¡
<
	gT
> 
	gİ”©Ü
,(cÚ¡ 
	gCImg
<
	gt
>& 
	gimg
) const {

58963  (+*
	gthis
).
š£¹
(
img
);

58970 
	g‹m¶©e
<
ty³Çme
 
	gt
>

58971 
	gCImgLi¡
<
	gT
>& 
	gİ”©Ü
,(cÚ¡ CImgLi¡<
	gt
>& 
	gli¡
) {

58972  
š£¹
(
li¡
);

58976 
	g‹m¶©e
<
ty³Çme
 
	gt
>

58977 
	gCImgLi¡
<
	gT
>& 
	gİ”©Ü
,(cÚ¡ CImgLi¡<
	gt
>& 
	gli¡
) const {

58978  (+*
	gthis
).
š£¹
(
li¡
);

58986 
	gCImg
<
	gT
> 
	gİ”©Ü
>(cÚ¡ 
	gaxis
) const {

58987  
g‘_­³nd
(
axis
,0);

58995 
	gCImgLi¡
<
	gT
> 
	gİ”©Ü
<(cÚ¡ 
	gaxis
) const {

58996  
g‘_¥l™
(
axis
);

59014 cÚ¡ * 
pix–_ty³
() {

59015  
	gcimg
::
ty³
<
T
>::
¡ršg
();

59022 
width
() const {

59023  ()
	g_width
;

59030 
size
() const {

59031  
	g_width
;

59038 
	gCImg
<
	gT
> *
d©a
() {

59039  
	g_d©a
;

59043 cÚ¡ 
	gCImg
<
	gT
> *
d©a
() const {

59044  
	g_d©a
;

59052 #ià
cimg_v”bos™y
>=3

59053 
	gCImg
<
	gT
> *
d©a
(cÚ¡ 
pos
) {

59054 ià(
	gpos
>=
size
())

59055 
cimg
::
w¬n
(
_cimgli¡_š¡ªû


59057 
cimgli¡_š¡ªû
,

59058 
pos
);

59059  
	g_d©a
 + 
	gpos
;

59062 cÚ¡ 
	gCImg
<
	gT
> *
d©a
(cÚ¡ 
l
) const {

59063  
	gcÚ¡_ÿ¡
<
	gCImgLi¡
<
	gT
>*>(
	gthis
)->
d©a
(
l
);

59066 
	gCImg
<
	gT
> *
d©a
(cÚ¡ 
l
) {

59067  
	g_d©a
 + 
	gl
;

59071 cÚ¡ 
	gCImg
<
	gT
> *
d©a
(cÚ¡ 
l
) const {

59072  
	g_d©a
 + 
	gl
;

59079 
™”©Ü
 
begš
() {

59080  
	g_d©a
;

59084 
cÚ¡_™”©Ü
 
begš
() const {

59085  
	g_d©a
;

59091 
™”©Ü
 
’d
() {

59092  
	g_d©a
 + 
	g_width
;

59096 
cÚ¡_™”©Ü
 
’d
() const {

59097  
	g_d©a
 + 
	g_width
;

59103 
	gCImg
<
	gT
>& 
äÚt
() {

59104  *
	g_d©a
;

59108 cÚ¡ 
	gCImg
<
	gT
>& 
äÚt
() const {

59109  *
	g_d©a
;

59115 cÚ¡ 
	gCImg
<
	gT
>& 
back
() const {

59116  *(
	g_d©a
 + 
	g_width
 - 1);

59120 
	gCImg
<
	gT
>& 
back
() {

59121  *(
	g_d©a
 + 
	g_width
 - 1);

59128 
	gCImg
<
	gT
>& 
©
(cÚ¡ 
pos
) {

59129 ià(
is_em±y
())

59130 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimgli¡_š¡ªû


59132 
cimgli¡_š¡ªû
);

59134  
	g_d©a
[
cimg
::
cut
(
pos
,0,
width
() - 1)];

59147 
	gT
& 
©NXYZC
(cÚ¡ 
pos
, cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ 
T
& 
out_v®ue
) {

59148  (
	gpos
<0 ||…os>=
width
())?(
cimg
::
‹mpÜ¬y
(
out_v®ue
)=out_v®ue):
_d©a
[
pos
].
©XYZC
(
x
,
y
,
z
,
c
,out_value);

59152 
T
 
©NXYZC
(cÚ¡ 
pos
, cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ T& 
out_v®ue
) const {

59153  (
	gpos
<0 ||…os>=
width
())?
out_v®ue
:
_d©a
[
pos
].
©XYZC
(
x
,
y
,
z
,
c
,out_value);

59165 
	gT
& 
©NXYZC
(cÚ¡ 
pos
, cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
) {

59166 ià(
is_em±y
())

59167 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimgli¡_š¡ªû


59169 
cimgli¡_š¡ªû
);

59171  
_©NXYZC
(
pos
,
x
,
y
,
z
,
c
);

59175 
T
 
©NXYZC
(cÚ¡ 
pos
, cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
) const {

59176 ià(
is_em±y
())

59177 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimgli¡_š¡ªû


59179 
cimgli¡_š¡ªû
);

59181  
_©NXYZC
(
pos
,
x
,
y
,
z
,
c
);

59184 
	gT
& 
_©NXYZC
(cÚ¡ 
pos
, cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
) {

59185  
	g_d©a
[
cimg
::
cut
(
pos
,0,
width
(è- 1)].
©XYZC
(
x
,
y
,
z
,
c
);

59188 
T
 
_©NXYZC
(cÚ¡ 
pos
, cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
) const {

59189  
	g_d©a
[
cimg
::
cut
(
pos
,0,
width
(è- 1)].
©XYZC
(
x
,
y
,
z
,
c
);

59202 
	gT
& 
©NXYZ
(cÚ¡ 
pos
, cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ 
T
& 
out_v®ue
) {

59203  (
	gpos
<0 ||…os>=
width
())?(
cimg
::
‹mpÜ¬y
(
out_v®ue
)=out_v®ue):
_d©a
[
pos
].
©XYZ
(
x
,
y
,
z
,
c
,out_value);

59207 
T
 
©NXYZ
(cÚ¡ 
pos
, cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ T& 
out_v®ue
) const {

59208  (
	gpos
<0 ||…os>=
width
())?
out_v®ue
:
_d©a
[
pos
].
©XYZ
(
x
,
y
,
z
,
c
,out_value);

59220 
	gT
& 
©NXYZ
(cÚ¡ 
pos
, cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
=0) {

59221 ià(
is_em±y
())

59222 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimgli¡_š¡ªû


59224 
cimgli¡_š¡ªû
);

59226  
_©NXYZ
(
pos
,
x
,
y
,
z
,
c
);

59230 
T
 
©NXYZ
(cÚ¡ 
pos
, cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
=0) const {

59231 ià(
is_em±y
())

59232 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimgli¡_š¡ªû


59234 
cimgli¡_š¡ªû
);

59236  
_©NXYZ
(
pos
,
x
,
y
,
z
,
c
);

59239 
	gT
& 
_©NXYZ
(cÚ¡ 
pos
, cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
=0) {

59240  
_d©a
[
cimg
::
cut
(
pos
,0,
width
(è- 1)].
©XYZ
(
x
,
y
,
z
,
c
);

59243 
T
 
_©NXYZ
(cÚ¡ 
pos
, cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
=0) const {

59244  
_d©a
[
cimg
::
cut
(
pos
,0,
width
(è- 1)].
©XYZ
(
x
,
y
,
z
,
c
);

59257 
	gT
& 
©NXY
(cÚ¡ 
pos
, cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ 
T
& 
out_v®ue
) {

59258  (
	gpos
<0 ||…os>=
width
())?(
cimg
::
‹mpÜ¬y
(
out_v®ue
)=out_v®ue):
_d©a
[
pos
].
©XY
(
x
,
y
,
z
,
c
,out_value);

59262 
T
 
©NXY
(cÚ¡ 
pos
, cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ T& 
out_v®ue
) const {

59263  (
	gpos
<0 ||…os>=
width
())?
out_v®ue
:
_d©a
[
pos
].
©XY
(
x
,
y
,
z
,
c
,out_value);

59275 
	gT
& 
©NXY
(cÚ¡ 
pos
, cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
=0, cÚ¡ 
c
=0) {

59276 ià(
is_em±y
())

59277 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimgli¡_š¡ªû


59279 
cimgli¡_š¡ªû
);

59281  
_©NXY
(
pos
,
x
,
y
,
z
,
c
);

59285 
T
 
©NXY
(cÚ¡ 
pos
, cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

59286 ià(
is_em±y
())

59287 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimgli¡_š¡ªû


59289 
cimgli¡_š¡ªû
);

59291  
_©NXY
(
pos
,
x
,
y
,
z
,
c
);

59294 
	gT
& 
_©NXY
(cÚ¡ 
pos
, cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
=0, cÚ¡ 
c
=0) {

59295  
_d©a
[
cimg
::
cut
(
pos
,0,
width
(è- 1)].
©XY
(
x
,
y
,
z
,
c
);

59298 
T
 
_©NXY
(cÚ¡ 
pos
, cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

59299  
_d©a
[
cimg
::
cut
(
pos
,0,
width
(è- 1)].
©XY
(
x
,
y
,
z
,
c
);

59312 
	gT
& 
©NX
(cÚ¡ 
pos
, cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ 
T
& 
out_v®ue
) {

59313  (
	gpos
<0 ||…os>=
width
())?(
cimg
::
‹mpÜ¬y
(
out_v®ue
)=out_v®ue):
_d©a
[
pos
].
©X
(
x
,
y
,
z
,
c
,out_value);

59317 
T
 
©NX
(cÚ¡ 
pos
, cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ T& 
out_v®ue
) const {

59318  (
	gpos
<0 ||…os>=
width
())?
out_v®ue
:
_d©a
[
pos
].
©X
(
x
,
y
,
z
,
c
,out_value);

59330 
	gT
& 
©NX
(cÚ¡ 
pos
, cÚ¡ 
x
, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) {

59331 ià(
is_em±y
())

59332 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimgli¡_š¡ªû


59334 
cimgli¡_š¡ªû
);

59336  
_©NX
(
pos
,
x
,
y
,
z
,
c
);

59340 
T
 
©NX
(cÚ¡ 
pos
, cÚ¡ 
x
, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

59341 ià(
is_em±y
())

59342 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimgli¡_š¡ªû


59344 
cimgli¡_š¡ªû
);

59346  
_©NX
(
pos
,
x
,
y
,
z
,
c
);

59349 
	gT
& 
_©NX
(cÚ¡ 
pos
, cÚ¡ 
x
, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) {

59350  
_d©a
[
cimg
::
cut
(
pos
,0,
width
(è- 1)].
©X
(
x
,
y
,
z
,
c
);

59353 
T
 
_©NX
(cÚ¡ 
pos
, cÚ¡ 
x
, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

59354  
_d©a
[
cimg
::
cut
(
pos
,0,
width
(è- 1)].
©X
(
x
,
y
,
z
,
c
);

59367 
	gT
& 
©N
(cÚ¡ 
pos
, cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ 
T
& 
out_v®ue
) {

59368  (
	gpos
<0 ||…os>=
width
())?(
cimg
::
‹mpÜ¬y
(
out_v®ue
)=out_v®ue):(*
this
)(
pos
,
	gx
,
	gy
,
	gz
,
	gc
);

59372 
T
 
©N
(cÚ¡ 
pos
, cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
, cÚ¡ T& 
out_v®ue
) const {

59373  (
	gpos
<0 ||…os>=
width
())?
out_v®ue
:(*
this
)(
pos
,
	gx
,
	gy
,
	gz
,
	gc
);

59385 
	gT
& 
©N
(cÚ¡ 
pos
, cÚ¡ 
x
=0, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) {

59386 ià(
is_em±y
())

59387 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimgli¡_š¡ªû


59389 
cimgli¡_š¡ªû
);

59390  
_©N
(
pos
,
x
,
y
,
z
,
c
);

59394 
T
 
©N
(cÚ¡ 
pos
, cÚ¡ 
x
=0, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

59395 ià(
is_em±y
())

59396 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimgli¡_š¡ªû


59398 
cimgli¡_š¡ªû
);

59399  
_©N
(
pos
,
x
,
y
,
z
,
c
);

59402 
	gT
& 
_©N
(cÚ¡ 
pos
, cÚ¡ 
x
=0, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) {

59403  
_d©a
[
cimg
::
cut
(
pos
,0,
width
(è- 1)](
x
,
y
,
z
,
c
);

59406 
T
 
_©N
(cÚ¡ 
pos
, cÚ¡ 
x
=0, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

59407  
_d©a
[
cimg
::
cut
(
pos
,0,
width
(è- 1)](
x
,
y
,
z
,
c
);

59420 
boŞ
 
is_em±y
() const {

59421  (!
	g_d©a
 || !
	g_width
);

59428 
boŞ
 
is_§meN
(cÚ¡ 
size_n
) const {

59429  
	g_width
==
size_n
;

59436 
	g‹m¶©e
<
ty³Çme
 
	gt
>

59437 
boŞ
 
is_§meN
(cÚ¡ 
CImgLi¡
<
t
>& 
li¡
) const {

59438  
is_§meN
(
li¡
.
_width
);

59443 
	#_cimgli¡_def_is_§me1
(
axis
) \

59444 
boŞ
 
is_§me
##
	`axis
(cÚ¡ 
v®
) const { \

59445 
boŞ
 
»s
 = 
Œue
; \

59446 
l
 = 0;†<
_width
 && 
»s
; ++lè» ğ
_d©a
[l].
is_§me
##
	`axis
(
v®
); „es; \

59448 
boŞ
 
is_§meN
##
	`axis
(cÚ¡ 
n
, cÚ¡ 
v®
) const { \

59449  
	`is_§meN
(
n
è&& 
is_§me
##
	`axis
(
v®
); \

59451 

	)

59452 
	#_cimgli¡_def_is_§me2
(
axis1
,
axis2
) \

59453 
boŞ
 
is_§me
##
axis1
##
	`axis2
(cÚ¡ 
v®1
, cÚ¡ 
v®2
) const { \

59454 
boŞ
 
»s
 = 
Œue
; \

59455 
l
 = 0;†<
_width
 && 
»s
; ++lè» ğ
_d©a
[l].
is_§me
##
axis1
##
	`axis2
(
v®1
,
v®2
); „es; \

59457 
boŞ
 
is_§meN
##
axis1
##
	`axis2
(cÚ¡ 
n
, cÚ¡ 
v®1
, cÚ¡ 
v®2
) const { \

59458  
	`is_§meN
(
n
è&& 
is_§me
##
axis1
##
	`axis2
(
v®1
,
v®2
); \

59460 

	)

59461 
	#_cimgli¡_def_is_§me3
(
axis1
,
axis2
,
axis3
) \

59462 
boŞ
 
is_§me
##
axis1
##
axis2
##
	`axis3
(cÚ¡ 
v®1
, cÚ¡ 
v®2
, \

59463 cÚ¡ 
v®3
) const { \

59464 
boŞ
 
»s
 = 
Œue
; \

59465 
l
 = 0;†<
_width
 && 
»s
; ++lè» ğ
_d©a
[l].
is_§me
##
axis1
##
axis2
##
	`axis3
(
v®1
,
v®2
,
v®3
); \

59466  
»s
; \

59468 
boŞ
 
is_§meN
##
axis1
##
axis2
##
	`axis3
(cÚ¡ 
n
, cÚ¡ 
v®1
, \

59469 cÚ¡ 
v®2
, cÚ¡ 
v®3
) const { \

59470  
	`is_§meN
(
n
è&& 
is_§me
##
axis1
##
axis2
##
	`axis3
(
v®1
,
v®2
,
v®3
); \

59472 

	)

59473 
	#_cimgli¡_def_is_§me
(
axis
) \

59474 
‹m¶©e
<
ty³Çme
 
t
> 
boŞ
 
is_§me
##
	`axis
(cÚ¡ 
CImg
<t>& 
img
) const { \

59475 
boŞ
 
»s
 = 
Œue
; 
l
 = 0;†<
_width
 &&„es; ++lè» ğ
_d©a
[l].
is_§me
##
	`axis
(
img
); „es; \

59477 
‹m¶©e
<
ty³Çme
 
t
> 
boŞ
 
is_§me
##
	`axis
(cÚ¡ 
CImgLi¡
<t>& 
li¡
) const { \

59478 cÚ¡ 
lmš
 = 
¡d
::
	`mš
(
_width
,
li¡
._width); \

59479 
boŞ
 
»s
 = 
Œue
; 
l
 = 0;†<
lmš
 &&„es; ++lè» ğ
_d©a
[l].
is_§me
##
	`axis
(
li¡
[l]); „es; \

59481 
‹m¶©e
<
ty³Çme
 
t
> 
boŞ
 
is_§meN
##
	`axis
(cÚ¡ 
n
, cÚ¡ 
CImg
<t>& 
img
) const { \

59482  (
	`is_§meN
(
n
è&& 
is_§me
##
	`axis
(
img
)); \

59484 
‹m¶©e
<
ty³Çme
 
t
> 
boŞ
 
is_§meN
##
	`axis
(cÚ¡ 
CImgLi¡
<t>& 
li¡
) const { \

59485  (
	`is_§meN
(
li¡
è&& 
is_§me
##
	`axis
(list)); \

59486 }

	)

59488 
_cimgli¡_def_is_§me
(
XY
)

59489 
_cimgli¡_def_is_§me
(
XZ
)

59490 
_cimgli¡_def_is_§me
(
XC
)

59491 
_cimgli¡_def_is_§me
(
YZ
)

59492 
_cimgli¡_def_is_§me
(
YC
)

59493 
_cimgli¡_def_is_§me
(
XYZ
)

59494 
_cimgli¡_def_is_§me
(
XYC
)

59495 
_cimgli¡_def_is_§me
(
YZC
)

59496 
_cimgli¡_def_is_§me
(
XYZC
)

59497 
_cimgli¡_def_is_§me1
(
X
)

59498 
_cimgli¡_def_is_§me1
(
Y
)

59499 
_cimgli¡_def_is_§me1
(
Z
)

59500 
_cimgli¡_def_is_§me1
(
C
)

59501 
_cimgli¡_def_is_§me2
(
X
,
Y
)

59502 
_cimgli¡_def_is_§me2
(
X
,
Z
)

59503 
_cimgli¡_def_is_§me2
(
X
,
C
)

59504 
_cimgli¡_def_is_§me2
(
Y
,
Z
)

59505 
_cimgli¡_def_is_§me2
(
Y
,
C
)

59506 
_cimgli¡_def_is_§me2
(
Z
,
C
)

59507 
_cimgli¡_def_is_§me3
(
X
,
Y
,
Z
)

59508 
_cimgli¡_def_is_§me3
(
X
,
Y
,
C
)

59509 
_cimgli¡_def_is_§me3
(
X
,
Z
,
C
)

59510 
_cimgli¡_def_is_§me3
(
Y
,
Z
,
C
)

59519 
boŞ
 
is_§meXYZC
(cÚ¡ 
dx
, cÚ¡ 
dy
,

59520 cÚ¡ 
dz
, cÚ¡ 
dc
) const {

59521 
boŞ
 
	g»s
 = 
Œue
;

59522 
	gl
 = 0;†<
	g_width
 && 
	g»s
; ++lè» ğ
_d©a
[
l
].
is_§meXYZC
(
dx
,
dy
,
dz
,
dc
);

59523  
	g»s
;

59534 
boŞ
 
is_§meNXYZC
(cÚ¡ 
n
,

59535 cÚ¡ 
dx
, cÚ¡ 
dy
,

59536 cÚ¡ 
dz
, cÚ¡ 
dc
) const {

59537  
is_§meN
(
n
è&& 
is_§meXYZC
(
dx
,
dy
,
dz
,
dc
);

59548 
boŞ
 
cÚšsNXYZC
(cÚ¡ 
n
, cÚ¡ 
x
=0, cÚ¡ 
y
=0, cÚ¡ 
z
=0, cÚ¡ 
c
=0) const {

59549 ià(
is_em±y
()è 
çl£
;

59550  
	gn
>=0 && 
n
<
width
(è&& 
x
>=0 && x<
_d©a
[n].width(è&& 
y
>=0 && y<_d©a[n].
height
() &&

59551 
z
>=0 && z<
_d©a
[
n
].
d•th
(è&& 
c
>=0 && c<_d©a[n].
¥eùrum
();

59558 
boŞ
 
cÚšsN
(cÚ¡ 
n
) const {

59559 ià(
is_em±y
()è 
	gçl£
;

59560  
	gn
>=0 && 
n
<
width
();

59573 
	g‹m¶©e
<
ty³Çme
 
	gt
>

59574 
boŞ
 
cÚšs
(cÚ¡ 
T
& 
pix–
, 
t
& 
n
,& 
x
,&
y
,& 
z
,& 
c
) const {

59575 ià(
is_em±y
()è 
	gçl£
;

59576 
cimgli¡_fÜ
(*
this
,
l
èià(
	g_d©a
[l].
cÚšs
(
pix–
,
x
,
y
,
z
,
c
)è{ 
	gn
 = (
t
î;  
	gŒue
; }

59577  
	gçl£
;

59589 
	g‹m¶©e
<
ty³Çme
 
	gt
>

59590 
boŞ
 
cÚšs
(cÚ¡ 
T
& 
pix–
, 
t
& 
n
,& 
x
,&
y
,& 
z
) const {

59591 
t
 
	gc
;

59592  
cÚšs
(
pix–
,
n
,
x
,
y
,
z
,
c
);

59603 
	g‹m¶©e
<
ty³Çme
 
	gt
>

59604 
boŞ
 
cÚšs
(cÚ¡ 
T
& 
pix–
, 
t
& 
n
,& 
x
,&
y
) const {

59605 
t
 
	gz
, 
	gc
;

59606  
cÚšs
(
pix–
,
n
,
x
,
y
,
z
,
c
);

59616 
	g‹m¶©e
<
ty³Çme
 
	gt
>

59617 
boŞ
 
cÚšs
(cÚ¡ 
T
& 
pix–
, 
t
& 
n
,& 
x
) const {

59618 
t
 
	gy
, 
	gz
, 
	gc
;

59619  
cÚšs
(
pix–
,
n
,
x
,
y
,
z
,
c
);

59628 
	g‹m¶©e
<
ty³Çme
 
	gt
>

59629 
boŞ
 
cÚšs
(cÚ¡ 
T
& 
pix–
, 
t
& 
n
) const {

59630 
t
 
	gx
, 
	gy
, 
	gz
, 
	gc
;

59631  
cÚšs
(
pix–
,
n
,
x
,
y
,
z
,
c
);

59638 
boŞ
 
cÚšs
(cÚ¡ 
T
& 
pix–
) const {

59639 
	gn
, 
	gx
, 
	gy
, 
	gz
, 
	gc
;

59640  
cÚšs
(
pix–
,
n
,
x
,
y
,
z
,
c
);

59649 
	g‹m¶©e
<
ty³Çme
 
	gt
>

59650 
boŞ
 
cÚšs
(cÚ¡ 
CImg
<
T
>& 
img
, 
t
& 
n
) const {

59651 ià(
is_em±y
()è 
	gçl£
;

59652 cÚ¡ 
	gCImg
<
	gT
> *cÚ¡ 
	g±r
 = &
img
;

59653 
cimgli¡_fÜ
(*
this
,
i
èià(
	g_d©a
 + 
	gi
==
±r
è{ 
n
 = (
t
)i;  
	gŒue
; }

59654  
	gçl£
;

59661 
boŞ
 
cÚšs
(cÚ¡ 
CImg
<
T
>& 
img
) const {

59662 
	gn
;

59663  
cÚšs
(
img
,
n
);

59676 
	gT
& 
mš
() {

59677 
boŞ
 
	gis_®l_em±y
 = 
Œue
;

59678 
T
 *
	g±r_mš
 = 0;

59679 
cimgli¡_fÜ
(*
this
,
l
èià(!
	g_d©a
[l].
is_em±y
()) {

59680 
	g±r_mš
 = 
_d©a
[
l
]._data;

59681 
	gis_®l_em±y
 = 
çl£
;

59684 ià(
	gis_®l_em±y
)

59685 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimgli¡_š¡ªû


59687 
_d©a
?"List ofƒmpty images":"Empty instance",

59688 
cimgli¡_š¡ªû
);

59689 
T
 
	gmš_v®ue
 = *
±r_mš
;

59690 
cimgli¡_fÜ
(*
this
,
l
) {

59691 cÚ¡ 
	gCImg
<
	gT
>& 
	gimg
 = 
_d©a
[
l
];

59692 
cimg_fÜ
(
img
,
±rs
,
T
èià(*
	g±rs
<
	gmš_v®ue
èmš_v®uğ*(
±r_mš
=ptrs);

59694  *
	g±r_mš
;

59698 cÚ¡ 
	gT
& 
mš
() const {

59699 
boŞ
 
	gis_®l_em±y
 = 
Œue
;

59700 
T
 *
	g±r_mš
 = 0;

59701 
cimgli¡_fÜ
(*
this
,
l
èià(!
	g_d©a
[l].
is_em±y
()) {

59702 
	g±r_mš
 = 
_d©a
[
l
]._data;

59703 
	gis_®l_em±y
 = 
çl£
;

59706 ià(
	gis_®l_em±y
)

59707 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimgli¡_š¡ªû


59709 
_d©a
?"List ofƒmpty images":"Empty instance",

59710 
cimgli¡_š¡ªû
);

59711 
T
 
	gmš_v®ue
 = *
±r_mš
;

59712 
cimgli¡_fÜ
(*
this
,
l
) {

59713 cÚ¡ 
	gCImg
<
	gT
>& 
	gimg
 = 
_d©a
[
l
];

59714 
cimg_fÜ
(
img
,
±rs
,
T
èià(*
	g±rs
<
	gmš_v®ue
èmš_v®uğ*(
±r_mš
=ptrs);

59716  *
	g±r_mš
;

59722 
	gT
& 
max
() {

59723 
boŞ
 
	gis_®l_em±y
 = 
Œue
;

59724 
T
 *
	g±r_max
 = 0;

59725 
cimgli¡_fÜ
(*
this
,
l
èià(!
	g_d©a
[l].
is_em±y
()) {

59726 
	g±r_max
 = 
_d©a
[
l
]._data;

59727 
	gis_®l_em±y
 = 
çl£
;

59730 ià(
	gis_®l_em±y
)

59731 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimgli¡_š¡ªû


59733 
_d©a
?"List ofƒmpty images":"Empty instance",

59734 
cimgli¡_š¡ªû
);

59735 
T
 
	gmax_v®ue
 = *
±r_max
;

59736 
cimgli¡_fÜ
(*
this
,
l
) {

59737 cÚ¡ 
	gCImg
<
	gT
>& 
	gimg
 = 
_d©a
[
l
];

59738 
cimg_fÜ
(
img
,
±rs
,
T
èià(*
	g±rs
>
	gmax_v®ue
èmax_v®uğ*(
±r_max
=ptrs);

59740  *
	g±r_max
;

59744 cÚ¡ 
	gT
& 
max
() const {

59745 
boŞ
 
	gis_®l_em±y
 = 
Œue
;

59746 
T
 *
	g±r_max
 = 0;

59747 
cimgli¡_fÜ
(*
this
,
l
èià(!
	g_d©a
[l].
is_em±y
()) {

59748 
	g±r_max
 = 
_d©a
[
l
]._data;

59749 
	gis_®l_em±y
 = 
çl£
;

59752 ià(
	gis_®l_em±y
)

59753 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimgli¡_š¡ªû


59755 
_d©a
?"List ofƒmpty images":"Empty instance",

59756 
cimgli¡_š¡ªû
);

59757 
T
 
	gmax_v®ue
 = *
±r_max
;

59758 
cimgli¡_fÜ
(*
this
,
l
) {

59759 cÚ¡ 
	gCImg
<
	gT
>& 
	gimg
 = 
_d©a
[
l
];

59760 
cimg_fÜ
(
img
,
±rs
,
T
èià(*
	g±rs
>
	gmax_v®ue
èmax_v®uğ*(
±r_max
=ptrs);

59762  *
	g±r_max
;

59769 
	g‹m¶©e
<
ty³Çme
 
	gt
>

59770 
	gT
& 
mš_max
(
t
& 
max_v®
) {

59771 
boŞ
 
	gis_®l_em±y
 = 
Œue
;

59772 
T
 *
	g±r_mš
 = 0;

59773 
cimgli¡_fÜ
(*
this
,
l
èià(!
	g_d©a
[l].
is_em±y
()) {

59774 
	g±r_mš
 = 
_d©a
[
l
]._data;

59775 
	gis_®l_em±y
 = 
çl£
;

59778 ià(
	gis_®l_em±y
)

59779 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimgli¡_š¡ªû


59781 
_d©a
?"List ofƒmpty images":"Empty instance",

59782 
cimgli¡_š¡ªû
);

59783 
T
 
	gmš_v®ue
 = *
±r_mš
, 
	gmax_v®ue
 = 
mš_v®ue
;

59784 
cimgli¡_fÜ
(*
this
,
l
) {

59785 cÚ¡ 
	gCImg
<
	gT
>& 
	gimg
 = 
_d©a
[
l
];

59786 
cimg_fÜ
(
img
,
±rs
,
T
) {

59787 cÚ¡ 
T
 
	gv®
 = *
±rs
;

59788 ià(
	gv®
<
	gmš_v®ue
è{ mš_v®uğ
v®
; 
	g±r_mš
 = 
±rs
; }

59789 ià(
	gv®
>
	gmax_v®ue
èmax_v®uğ
v®
;

59792 
	gmax_v®
 = (
t
)
max_v®ue
;

59793  *
	g±r_mš
;

59800 
	g‹m¶©e
<
ty³Çme
 
	gt
>

59801 cÚ¡ 
	gT
& 
mš_max
(
t
& 
max_v®
) const {

59802 
boŞ
 
	gis_®l_em±y
 = 
Œue
;

59803 
T
 *
	g±r_mš
 = 0;

59804 
cimgli¡_fÜ
(*
this
,
l
èià(!
	g_d©a
[l].
is_em±y
()) {

59805 
	g±r_mš
 = 
_d©a
[
l
]._data;

59806 
	gis_®l_em±y
 = 
çl£
;

59809 ià(
	gis_®l_em±y
)

59810 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimgli¡_š¡ªû


59812 
_d©a
?"List ofƒmpty images":"Empty instance",

59813 
cimgli¡_š¡ªû
);

59814 
T
 
	gmš_v®ue
 = *
±r_mš
, 
	gmax_v®ue
 = 
mš_v®ue
;

59815 
cimgli¡_fÜ
(*
this
,
l
) {

59816 cÚ¡ 
	gCImg
<
	gT
>& 
	gimg
 = 
_d©a
[
l
];

59817 
cimg_fÜ
(
img
,
±rs
,
T
) {

59818 cÚ¡ 
T
 
	gv®
 = *
±rs
;

59819 ià(
	gv®
<
	gmš_v®ue
è{ mš_v®uğ
v®
; 
	g±r_mš
 = 
±rs
; }

59820 ià(
	gv®
>
	gmax_v®ue
èmax_v®uğ
v®
;

59823 
	gmax_v®
 = (
t
)
max_v®ue
;

59824  *
	g±r_mš
;

59831 
	g‹m¶©e
<
ty³Çme
 
	gt
>

59832 
	gT
& 
max_mš
(
t
& 
mš_v®
) {

59833 
boŞ
 
	gis_®l_em±y
 = 
Œue
;

59834 
T
 *
	g±r_max
 = 0;

59835 
cimgli¡_fÜ
(*
this
,
l
èià(!
	g_d©a
[l].
is_em±y
()) {

59836 
	g±r_max
 = 
_d©a
[
l
]._data;

59837 
	gis_®l_em±y
 = 
çl£
;

59840 ià(
	gis_®l_em±y
)

59841 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimgli¡_š¡ªû


59843 
_d©a
?"List ofƒmpty images":"Empty instance",

59844 
cimgli¡_š¡ªû
);

59845 
T
 
	gmš_v®ue
 = *
±r_max
, 
	gmax_v®ue
 = 
mš_v®ue
;

59846 
cimgli¡_fÜ
(*
this
,
l
) {

59847 cÚ¡ 
	gCImg
<
	gT
>& 
	gimg
 = 
_d©a
[
l
];

59848 
cimg_fÜ
(
img
,
±rs
,
T
) {

59849 cÚ¡ 
T
 
	gv®
 = *
±rs
;

59850 ià(
	gv®
>
	gmax_v®ue
è{ max_v®uğ
v®
; 
	g±r_max
 = 
±rs
; }

59851 ià(
	gv®
<
	gmš_v®ue
èmš_v®uğ
v®
;

59854 
	gmš_v®
 = (
t
)
mš_v®ue
;

59855  *
	g±r_max
;

59859 
	g‹m¶©e
<
ty³Çme
 
	gt
>

59860 cÚ¡ 
	gT
& 
max_mš
(
t
& 
mš_v®
) const {

59861 
boŞ
 
	gis_®l_em±y
 = 
Œue
;

59862 
T
 *
	g±r_max
 = 0;

59863 
cimgli¡_fÜ
(*
this
,
l
èià(!
	g_d©a
[l].
is_em±y
()) {

59864 
	g±r_max
 = 
_d©a
[
l
]._data;

59865 
	gis_®l_em±y
 = 
çl£
;

59868 ià(
	gis_®l_em±y
)

59869 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimgli¡_š¡ªû


59871 
_d©a
?"List ofƒmpty images":"Empty instance",

59872 
cimgli¡_š¡ªû
);

59873 
T
 
	gmš_v®ue
 = *
±r_max
, 
	gmax_v®ue
 = 
mš_v®ue
;

59874 
cimgli¡_fÜ
(*
this
,
l
) {

59875 cÚ¡ 
	gCImg
<
	gT
>& 
	gimg
 = 
_d©a
[
l
];

59876 
cimg_fÜ
(
img
,
±rs
,
T
) {

59877 cÚ¡ 
T
 
	gv®
 = *
±rs
;

59878 ià(
	gv®
>
	gmax_v®ue
è{ max_v®uğ
v®
; 
	g±r_max
 = 
±rs
; }

59879 ià(
	gv®
<
	gmš_v®ue
èmš_v®uğ
v®
;

59882 
	gmš_v®
 = (
t
)
mš_v®ue
;

59883  *
	g±r_max
;

59899 
	g‹m¶©e
<
ty³Çme
 
	gt
>

59900 
	gCImgLi¡
<
	gT
>& 
š£¹
(cÚ¡ 
CImg
<
t
>& 
img
, cÚ¡ 
pos
=~0U, cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
) {

59901 cÚ¡ 
Åos
 = 
pos
==~0U?
_width
:pos;

59902 ià(
	gÅos
>
	g_width
)

59903 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


59906 
cimgli¡_š¡ªû
,

59907 
img
.
_width
,img.
_height
,img.
_d•th
,img.
_¥eùrum
,img.
_d©a
,
Åos
);

59908 ià(
	gis_sh¬ed
)

59909 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


59912 
cimgli¡_š¡ªû
,

59913 
img
.
pix–_ty³
(),img.
_width
,img.
_height
,img.
_d•th
,img.
_¥eùrum
,img.
_d©a
,
Åos
);

59915 
	gCImg
<
	gT
> *cÚ¡ 
	gÃw_d©a
 = (++
_width
>
_®loÿ‹d_width
)?
Ãw
 
CImg
<
T
>[_allocated_width?(_allocated_width<<=1):

59916 (
_®loÿ‹d_width
=16)]:0;

59917 ià(!
	g_d©a
) {

59918 
	g_d©a
 = 
Ãw_d©a
;

59919 *
	g_d©a
 = 
img
;

59921 ià(
	gÃw_d©a
) {

59922 ià(
	gÅos
è
	g¡d
::
memıy
((*)
Ãw_d©a
,(*)
_d©a
,(
CImg
<
T
>)*
Åos
);

59923 ià(
	gÅos
!=
_width
 - 1)

59924 
¡d
::
memıy
((*)(
Ãw_d©a
 + 
Åos
 + 1),(*)(
_d©a
 +‚pos),(
CImg
<
T
>)*(
_width
 - 1 -‚pos));

59925 
	g¡d
::
mem£t
((*)
_d©a
,0,(
CImg
<
T
>)*(
_width
 - 1));

59926 
	gd–‘e
[] 
	g_d©a
;

59927 
	g_d©a
 = 
Ãw_d©a
;

59928 } ià(
	gÅos
!=
_width
 - 1)

59929 
¡d
::
memmove
((*)(
_d©a
 + 
Åos
 + 1),(*)(_d©¨+‚pos),(
CImg
<
T
>)*(
_width
 - 1 -‚pos));

59930 
	g_d©a
[
Åos
].
	g_width
 = 
_d©a
[Åos].
_height
 = _d©a[Åos].
_d•th
 = _d©a[Åos].
_¥eùrum
 = 0;

59931 
	g_d©a
[
Åos
]._data = 0;

59932 
	g_d©a
[
Åos
] = 
img
;

59934  *
	gthis
;

59938 
	gCImgLi¡
<
	gT
>& 
š£¹
(cÚ¡ 
CImg
<
T
>& 
img
, cÚ¡ 
pos
=~0U, cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
) {

59939 cÚ¡ 
Åos
 = 
pos
==~0U?
_width
:pos;

59940 ià(
	gÅos
>
	g_width
)

59941 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


59944 
cimgli¡_š¡ªû
,

59945 
img
.
_width
,img.
_height
,img.
_d•th
,img.
_¥eùrum
,img.
_d©a
,
Åos
);

59946 
	gCImg
<
	gT
> *cÚ¡ 
	gÃw_d©a
 = (++
_width
>
_®loÿ‹d_width
)?
Ãw
 
CImg
<
T
>[_allocated_width?(_allocated_width<<=1):

59947 (
_®loÿ‹d_width
=16)]:0;

59948 ià(!
	g_d©a
) {

59949 
	g_d©a
 = 
Ãw_d©a
;

59950 ià(
	gis_sh¬ed
 && 
	gimg
) {

59951 
	g_d©a
->
	g_width
 = 
img
.
_width
;

59952 
	g_d©a
->
	g_height
 = 
img
.
_height
;

59953 
	g_d©a
->
	g_d•th
 = 
img
.
_d•th
;

59954 
	g_d©a
->
	g_¥eùrum
 = 
img
.
_¥eùrum
;

59955 
	g_d©a
->
	g_is_sh¬ed
 = 
Œue
;

59956 
	g_d©a
->_d©¨ğ
img
.
_d©a
;

59957 } *
	g_d©a
 = 
img
;

59960 ià(
	gÃw_d©a
) {

59961 ià(
	gÅos
è
	g¡d
::
memıy
((*)
Ãw_d©a
,(*)
_d©a
,(
CImg
<
T
>)*
Åos
);

59962 ià(
	gÅos
!=
_width
 - 1)

59963 
¡d
::
memıy
((*)(
Ãw_d©a
 + 
Åos
 + 1),(*)(
_d©a
 +‚pos),(
CImg
<
T
>)*(
_width
 - 1 -‚pos));

59964 ià(
	gis_sh¬ed
 && 
	gimg
) {

59965 
	gÃw_d©a
[
Åos
].
	g_width
 = 
img
.
_width
;

59966 
	gÃw_d©a
[
Åos
].
	g_height
 = 
img
.
_height
;

59967 
	gÃw_d©a
[
Åos
].
	g_d•th
 = 
img
.
_d•th
;

59968 
	gÃw_d©a
[
Åos
].
	g_¥eùrum
 = 
img
.
_¥eùrum
;

59969 
	gÃw_d©a
[
Åos
].
	g_is_sh¬ed
 = 
Œue
;

59970 
	gÃw_d©a
[
Åos
].
	g_d©a
 = 
img
.
_d©a
;

59972 
	gÃw_d©a
[
Åos
].
	g_width
 = 
Ãw_d©a
[Åos].
_height
 =‚ew_d©a[Åos].
_d•th
 =‚ew_d©a[Åos].
_¥eùrum
 = 0;

59973 
	gÃw_d©a
[
Åos
].
	g_d©a
 = 0;

59974 
	gÃw_d©a
[
Åos
] = 
img
;

59976 
	g¡d
::
mem£t
((*)
_d©a
,0,(
CImg
<
T
>)*(
_width
 - 1));

59977 
	gd–‘e
[] 
	g_d©a
;

59978 
	g_d©a
 = 
Ãw_d©a
;

59980 ià(
	gÅos
!=
_width
 - 1)

59981 
¡d
::
memmove
((*)(
_d©a
 + 
Åos
 + 1),(*)(_d©¨+‚pos),(
CImg
<
T
>)*(
_width
 - 1 -‚pos));

59982 ià(
	gis_sh¬ed
 && 
	gimg
) {

59983 
	g_d©a
[
Åos
].
	g_width
 = 
img
.
_width
;

59984 
	g_d©a
[
Åos
].
	g_height
 = 
img
.
_height
;

59985 
	g_d©a
[
Åos
].
	g_d•th
 = 
img
.
_d•th
;

59986 
	g_d©a
[
Åos
].
	g_¥eùrum
 = 
img
.
_¥eùrum
;

59987 
	g_d©a
[
Åos
].
	g_is_sh¬ed
 = 
Œue
;

59988 
	g_d©a
[
Åos
]._d©¨ğ
img
.
_d©a
;

59990 
	g_d©a
[
Åos
].
	g_width
 = 
_d©a
[Åos].
_height
 = _d©a[Åos].
_d•th
 = _d©a[Åos].
_¥eùrum
 = 0;

59991 
	g_d©a
[
Åos
]._data = 0;

59992 
	g_d©a
[
Åos
] = 
img
;

59996  *
	gthis
;

60000 
	g‹m¶©e
<
ty³Çme
 
	gt
>

60001 
	gCImgLi¡
<
	gT
> 
g‘_š£¹
(cÚ¡ 
CImg
<
t
>& 
img
, cÚ¡ 
pos
=~0U, cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
) const {

60002  (+*
this
).
š£¹
(
img
,
pos
,
is_sh¬ed
);

60010 
	gCImgLi¡
<
	gT
>& 
š£¹
(cÚ¡ 
n
, cÚ¡ 
pos
=~0U) {

60011 
CImg
<
T
> 
em±y
;

60012 ià(!
	gn
è *
	gthis
;

60013 cÚ¡ 
	gÅos
 = 
pos
==~0U?
_width
:pos;

60014 
	gi
 = 0; i<
	gn
; ++iè
š£¹
(
em±y
,
Åos
+
i
);

60015  *
	gthis
;

60019 
	gCImgLi¡
<
	gT
> 
g‘_š£¹
(cÚ¡ 
n
, cÚ¡ 
pos
=~0U) const {

60020  (+*
this
).
š£¹
(
n
,
pos
);

60030 
	g‹m¶©e
<
ty³Çme
 
	gt
>

60031 
	gCImgLi¡
<
	gT
>& 
š£¹
(cÚ¡ 
n
, cÚ¡ 
CImg
<
t
>& 
img
, cÚ¡ 
pos
=~0U,

60032 cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
) {

60033 ià(!
n
è *
this
;

60034 cÚ¡ 
	gÅos
 = 
pos
==~0U?
_width
:pos;

60035 
š£¹
(
img
,
Åos
,
is_sh¬ed
);

60036 
	gi
 = 1; i<
	gn
; ++iè
š£¹
(
_d©a
[
Åos
],Åo + 
i
,
is_sh¬ed
);

60037  *
	gthis
;

60041 
	g‹m¶©e
<
ty³Çme
 
	gt
>

60042 
	gCImgLi¡
<
	gT
> 
g‘_š£¹
(cÚ¡ 
n
, cÚ¡ 
CImg
<
t
>& 
img
, cÚ¡ 
pos
=~0U,

60043 cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
) const {

60044  (+*
this
).
š£¹
(
n
,
img
,
pos
,
is_sh¬ed
);

60053 
	g‹m¶©e
<
ty³Çme
 
	gt
>

60054 
	gCImgLi¡
<
	gT
>& 
š£¹
(cÚ¡ 
CImgLi¡
<
t
>& 
li¡
, cÚ¡ 
pos
=~0U, cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
) {

60055 cÚ¡ 
Åos
 = 
pos
==~0U?
_width
:pos;

60056 ià((*)
	gthis
!=(*)&
li¡
è
cimgli¡_fÜ
Öi¡,
l
è
š£¹
Öi¡[l],
Åos
 +†,
is_sh¬ed
);

60057 
š£¹
(
CImgLi¡
<
T
>(
li¡
),
Åos
,
is_sh¬ed
);

60058  *
	gthis
;

60062 
	g‹m¶©e
<
ty³Çme
 
	gt
>

60063 
	gCImgLi¡
<
	gT
> 
g‘_š£¹
(cÚ¡ 
CImgLi¡
<
t
>& 
li¡
, cÚ¡ 
pos
=~0U, cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
) const {

60064  (+*
this
).
š£¹
(
li¡
,
pos
,
is_sh¬ed
);

60074 
	g‹m¶©e
<
ty³Çme
 
	gt
>

60075 
	gCImgLi¡
<
	gT
>& 
š£¹
(cÚ¡ 
n
, cÚ¡ 
CImgLi¡
<
t
>& 
li¡
, cÚ¡ 
pos
=~0U,

60076 cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
) {

60077 ià(!
n
è *
this
;

60078 cÚ¡ 
	gÅos
 = 
pos
==~0U?
_width
:pos;

60079 
	gi
 = 0; i<
	gn
; ++iè
š£¹
(
li¡
,
Åos
,
is_sh¬ed
);

60080  *
	gthis
;

60084 
	g‹m¶©e
<
ty³Çme
 
	gt
>

60085 
	gCImgLi¡
<
	gT
> 
g‘_š£¹
(cÚ¡ 
n
, cÚ¡ 
CImgLi¡
<
t
>& 
li¡
, cÚ¡ 
pos
=~0U,

60086 cÚ¡ 
boŞ
 
is_sh¬ed
=
çl£
) const {

60087  (+*
this
).
š£¹
(
n
,
li¡
,
pos
,
is_sh¬ed
);

60095 
	gCImgLi¡
<
	gT
>& 
»move
(cÚ¡ 
pos1
, cÚ¡ 
pos2
) {

60097 
	gÅos1
 = 
pos1
<
pos2
?pos1:pos2,

60098 
	gos2
 = 
pos1
<
pos2
?pos2:pos1,

60099 
	gÅos2
 = 
os2
<
_width
?tpos2:_width - 1;

60100 ià(
	gÅos1
>=
_width
)

60101 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


60103 
cimgli¡_š¡ªû
,

60104 
Åos1
,
os2
);

60106 ià(
	gos2
>=
_width
)

60107 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


60109 
cimgli¡_š¡ªû
,

60110 
Åos1
,
os2
);

60112 
	gk
 = 
Åos1
; k<=
Åos2
; ++kè
	g_d©a
[
k
].
assign
();

60113 cÚ¡ 
	gnb
 = 1 + 
Åos2
 - 
Åos1
;

60114 ià(!(
	g_width
-=
nb
)è 
assign
();

60115 ià(
	g_width
>(
	g_®loÿ‹d_width
>>2) || _allocated_width<=16) {

60116 ià(
Åos1
!=
_width
)

60117 
¡d
::
memmove
((*)(
_d©a
 + 
Åos1
),(*)(_d©¨+ 
Åos2
 + 1),(
CImg
<
T
>)*(
_width
 -‚pos1));

60118 
	g¡d
::
mem£t
((*)(
_d©a
 + 
_width
),0,(
CImg
<
T
>)*
nb
);

60120 
	g_®loÿ‹d_width
>>=2;

60121 
	g_®loÿ‹d_width
>16 && 
	g_width
<(_allocated_width>>1)) _allocated_width>>=1;

60122 
	gCImg
<
	gT
> *cÚ¡ 
	gÃw_d©a
 = 
Ãw
 
CImg
<
T
>[
_®loÿ‹d_width
];

60123 ià(
	gÅos1
è
	g¡d
::
memıy
((*)
Ãw_d©a
,(*)
_d©a
,(
CImg
<
T
>)*
Åos1
);

60124 ià(
	gÅos1
!=
_width
)

60125 
¡d
::
memıy
((*)(
Ãw_d©a
 + 
Åos1
),(*)(
_d©a
 + 
Åos2
 + 1),(
CImg
<
T
>)*(
_width
 -‚pos1));

60126 ià(
	g_width
!=
_®loÿ‹d_width
)

60127 
¡d
::
mem£t
((*)(
Ãw_d©a
 + 
_width
),0,(
CImg
<
T
>)*(
_®loÿ‹d_width
 - _width));

60128 
	g¡d
::
mem£t
((*)
_d©a
,0,(
CImg
<
T
>)*(
_width
 + 
nb
));

60129 
	gd–‘e
[] 
	g_d©a
;

60130 
	g_d©a
 = 
Ãw_d©a
;

60133  *
	gthis
;

60137 
	gCImgLi¡
<
	gT
> 
g‘_»move
(cÚ¡ 
pos1
, cÚ¡ 
pos2
) const {

60138  (+*
	gthis
).
»move
(
pos1
,
pos2
);

60145 
	gCImgLi¡
<
	gT
>& 
»move
(cÚ¡ 
pos
) {

60146  
»move
(
pos
,pos);

60150 
	gCImgLi¡
<
	gT
> 
g‘_»move
(cÚ¡ 
pos
) const {

60151  (+*
	gthis
).
»move
(
pos
);

60157 
	gCImgLi¡
<
	gT
>& 
»move
() {

60158  
»move
(
_width
 - 1);

60162 
	gCImgLi¡
<
	gT
> 
g‘_»move
() const {

60163  (+*
	gthis
).
»move
();

60167 
	gCImgLi¡
<
	gT
>& 
»v”£
() {

60168 
	gl
 = 0;†<
	g_width
/2; ++lè(*
	gthis
)[
l
].
sw­
((*
this
)[
_width
 - 1 -†]);

60169  *
	gthis
;

60173 
	gCImgLi¡
<
	gT
> 
g‘_»v”£
() const {

60174  (+*
	gthis
).
»v”£
();

60182 
	gCImgLi¡
<
	gT
>& 
images
(cÚ¡ 
pos0
, cÚ¡ 
pos1
) {

60183  
g‘_images
(
pos0
,
pos1
).
move_to
(*
this
);

60187 
	gCImgLi¡
<
	gT
> 
g‘_images
(cÚ¡ 
pos0
, cÚ¡ 
pos1
) const {

60188 ià(
	gpos0
>
	gpos1
 ||…os1>=
_width
)

60189 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


60191 
cimgli¡_š¡ªû
,

60192 
pos0
,
pos1
);

60193 
	gCImgLi¡
<
	gT
> 
»s
(
pos1
 - 
pos0
 + 1);

60194 
cimgli¡_fÜ
(
»s
,
l
è
	g»s
[l].
assign
(
_d©a
[
pos0
 +†]);

60195  
	g»s
;

60203 
	gCImgLi¡
<
	gT
> 
g‘_sh¬ed_images
(cÚ¡ 
pos0
, cÚ¡ 
pos1
) {

60204 ià(
	gpos0
>
	gpos1
 ||…os1>=
_width
)

60205 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


60207 
cimgli¡_š¡ªû
,

60208 
pos0
,
pos1
);

60209 
	gCImgLi¡
<
	gT
> 
»s
(
pos1
 - 
pos0
 + 1);

60210 
cimgli¡_fÜ
(
»s
,
l
è
	g»s
[l].
assign
(
_d©a
[
pos0
 +†],_d©a[pos0 +†]?
Œue
:
çl£
);

60211  
	g»s
;

60215 cÚ¡ 
	gCImgLi¡
<
	gT
> 
g‘_sh¬ed_images
(cÚ¡ 
pos0
, cÚ¡ 
pos1
) const {

60216 ià(
	gpos0
>
	gpos1
 ||…os1>=
_width
)

60217 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


60219 
cimgli¡_š¡ªû
,

60220 
pos0
,
pos1
);

60221 
	gCImgLi¡
<
	gT
> 
»s
(
pos1
 - 
pos0
 + 1);

60222 
cimgli¡_fÜ
(
»s
,
l
è
	g»s
[l].
assign
(
_d©a
[
pos0
 +†],_d©a[pos0 +†]?
Œue
:
çl£
);

60223  
	g»s
;

60231 
	gCImg
<
	gT
> 
g‘_­³nd
(cÚ¡ 
axis
, cÚ¡ 
®ign
=0) const {

60232 ià(
is_em±y
()è 
CImg
<
T
>();

60233 ià(
	g_width
==1è +((*
this
)[0]);

60234 
	gdx
 = 0, 
	gdy
 = 0, 
	gdz
 = 0, 
	gdc
 = 0, 
	gpos
 = 0;

60235 
	gCImg
<
	gT
> 
	g»s
;

60236 
	gcimg
::
low”ÿ£
(
axis
)) {

60238 
cimgli¡_fÜ
(*
this
,
l
) {

60239 cÚ¡ 
	gCImg
<
	gT
>& 
	gimg
 = (*
this
)[
l
];

60240 ià(
	gimg
) {

60241 
	gdx
+=
img
.
_width
;

60242 
	gdy
 = 
¡d
::
max
(
dy
,
img
.
_height
);

60243 
	gdz
 = 
¡d
::
max
(
dz
,
img
.
_d•th
);

60244 
	gdc
 = 
¡d
::
max
(
dc
,
img
.
_¥eùrum
);

60247 
	g»s
.
assign
(
dx
,
dy
,
dz
,
dc
,(
T
)0);

60248 ià(
	g»s
è
cimgli¡_fÜ
(*
this
,
l
) {

60249 cÚ¡ 
	gCImg
<
	gT
>& 
	gimg
 = (*
this
)[
l
];

60250 ià(
	gimg
) {

60251 ià(
	gimg
.
	g_height
==1 && 
img
.
_d•th
==1 && img.
_¥eùrum
==1 &&

60252 
»s
.
_height
==1 &&„es.
_d•th
==1 &&„es.
_¥eùrum
==1)

60253 
¡d
::
memıy
(&
»s
[
pos
],
img
.
_d©a
,(
T
)*img.
_width
);

60255 
	g»s
.
d¿w_image
(
pos
,

60256 ()(
®ign
*(
dy
 - 
img
.
_height
)),

60257 ()(
®ign
*(
dz
 - 
img
.
_d•th
)),

60258 ()(
®ign
*(
dc
 - 
img
.
_¥eùrum
)),

60259 
img
);

60261 
	gpos
+=
img
.
_width
;

60265 
cimgli¡_fÜ
(*
this
,
l
) {

60266 cÚ¡ 
	gCImg
<
	gT
>& 
	gimg
 = (*
this
)[
l
];

60267 ià(
	gimg
) {

60268 
	gdx
 = 
¡d
::
max
(
dx
,
img
.
_width
);

60269 
	gdy
+=
img
.
_height
;

60270 
	gdz
 = 
¡d
::
max
(
dz
,
img
.
_d•th
);

60271 
	gdc
 = 
¡d
::
max
(
dc
,
img
.
_¥eùrum
);

60274 
	g»s
.
assign
(
dx
,
dy
,
dz
,
dc
,(
T
)0);

60275 ià(
	g»s
è
cimgli¡_fÜ
(*
this
,
l
) {

60276 cÚ¡ 
	gCImg
<
	gT
>& 
	gimg
 = (*
this
)[
l
];

60277 ià(
	gimg
) {

60278 ià(
	gimg
.
	g_width
==1 && 
img
.
_d•th
==1 && img.
_¥eùrum
==1 &&

60279 
»s
.
_width
==1 &&„es.
_d•th
==1 &&„es.
_¥eùrum
==1)

60280 
¡d
::
memıy
(&
»s
[
pos
],
img
.
_d©a
,(
T
)*img.
_height
);

60282 
	g»s
.
d¿w_image
(()(
®ign
*(
dx
 - 
img
.
_width
)),

60283 
pos
,

60284 ()(
®ign
*(
dz
 - 
img
.
_d•th
)),

60285 ()(
®ign
*(
dc
 - 
img
.
_¥eùrum
)),

60286 
img
);

60288 
	gpos
+=
img
.
_height
;

60292 
cimgli¡_fÜ
(*
this
,
l
) {

60293 cÚ¡ 
	gCImg
<
	gT
>& 
	gimg
 = (*
this
)[
l
];

60294 ià(
	gimg
) {

60295 
	gdx
 = 
¡d
::
max
(
dx
,
img
.
_width
);

60296 
	gdy
 = 
¡d
::
max
(
dy
,
img
.
_height
);

60297 
	gdz
+=
img
.
_d•th
;

60298 
	gdc
 = 
¡d
::
max
(
dc
,
img
.
_¥eùrum
);

60301 
	g»s
.
assign
(
dx
,
dy
,
dz
,
dc
,(
T
)0);

60302 ià(
	g»s
è
cimgli¡_fÜ
(*
this
,
l
) {

60303 cÚ¡ 
	gCImg
<
	gT
>& 
	gimg
 = (*
this
)[
l
];

60304 ià(
	gimg
) {

60305 ià(
	gimg
.
	g_width
==1 && 
img
.
_height
==1 && img.
_¥eùrum
==1 &&

60306 
»s
.
_width
==1 &&„es.
_height
==1 &&„es.
_¥eùrum
==1)

60307 
¡d
::
memıy
(&
»s
[
pos
],
img
.
_d©a
,(
T
)*img.
_d•th
);

60309 
	g»s
.
d¿w_image
(()(
®ign
*(
dx
 - 
img
.
_width
)),

60310 ()(
®ign
*(
dy
 - 
img
.
_height
)),

60311 
pos
,

60312 ()(
®ign
*(
dc
 - 
img
.
_¥eùrum
)),

60313 
img
);

60315 
	gpos
+=
img
.
_d•th
;

60319 
cimgli¡_fÜ
(*
this
,
l
) {

60320 cÚ¡ 
	gCImg
<
	gT
>& 
	gimg
 = (*
this
)[
l
];

60321 ià(
	gimg
) {

60322 
	gdx
 = 
¡d
::
max
(
dx
,
img
.
_width
);

60323 
	gdy
 = 
¡d
::
max
(
dy
,
img
.
_height
);

60324 
	gdz
 = 
¡d
::
max
(
dz
,
img
.
_d•th
);

60325 
	gdc
+=
img
.
_¥eùrum
;

60328 
	g»s
.
assign
(
dx
,
dy
,
dz
,
dc
,(
T
)0);

60329 ià(
	g»s
è
cimgli¡_fÜ
(*
this
,
l
) {

60330 cÚ¡ 
	gCImg
<
	gT
>& 
	gimg
 = (*
this
)[
l
];

60331 ià(
	gimg
) {

60332 ià(
	gimg
.
	g_width
==1 && 
img
.
_height
==1 && img.
_d•th
==1 &&

60333 
»s
.
_width
==1 &&„es.
_height
==1 &&„es.
_d•th
==1)

60334 
¡d
::
memıy
(&
»s
[
pos
],
img
.
_d©a
,(
T
)*img.
_¥eùrum
);

60336 
	g»s
.
d¿w_image
(()(
®ign
*(
dx
 - 
img
.
_width
)),

60337 ()(
®ign
*(
dy
 - 
img
.
_height
)),

60338 ()(
®ign
*(
dz
 - 
img
.
_d•th
)),

60339 
pos
,

60340 
img
);

60342 
	gpos
+=
img
.
_¥eùrum
;

60346  
	g»s
;

60354 
	gCImgLi¡
<
	gT
>& 
¥l™
(cÚ¡ 
axis
, cÚ¡ 
nb
=-1) {

60355  
g‘_¥l™
(
axis
,
nb
).
move_to
(*
this
);

60359 
	gCImgLi¡
<
	gT
> 
g‘_¥l™
(cÚ¡ 
axis
, cÚ¡ 
nb
=-1) const {

60360 
CImgLi¡
<
T
> 
»s
;

60361 
cimgli¡_fÜ
(*
this
,
l
è
	g_d©a
[l].
g‘_¥l™
(
axis
,
nb
).
move_to
(
»s
,~0U);

60362  
	g»s
;

60369 
	g‹m¶©e
<
ty³Çme
 
	gt
>

60370 
	gCImgLi¡
<
	gT
>& 
push_back
(cÚ¡ 
CImg
<
t
>& 
img
) {

60371  
š£¹
(
img
);

60378 
	g‹m¶©e
<
ty³Çme
 
	gt
>

60379 
	gCImgLi¡
<
	gT
>& 
push_äÚt
(cÚ¡ 
CImg
<
t
>& 
img
) {

60380  
š£¹
(
img
,0);

60387 
	g‹m¶©e
<
ty³Çme
 
	gt
>

60388 
	gCImgLi¡
<
	gT
>& 
push_back
(cÚ¡ 
CImgLi¡
<
t
>& 
li¡
) {

60389  
š£¹
(
li¡
);

60396 
	g‹m¶©e
<
ty³Çme
 
	gt
>

60397 
	gCImgLi¡
<
	gT
>& 
push_äÚt
(cÚ¡ 
CImgLi¡
<
t
>& 
li¡
) {

60398  
š£¹
(
li¡
,0);

60404 
	gCImgLi¡
<
	gT
>& 
pİ_back
() {

60405  
»move
(
_width
 - 1);

60411 
	gCImgLi¡
<
	gT
>& 
pİ_äÚt
() {

60412  
»move
(0);

60419 
	gCImgLi¡
<
	gT
>& 
”a£
(cÚ¡ 
™”©Ü
 
™”
) {

60420  
»move
(
™”
 - 
_d©a
);

60439 
	gCImg
<
	gštT
> 
g‘_£Ëù
(
CImgDi¥Ïy
 &
di¥
, cÚ¡ 
boŞ
 
ã©u»_ty³
=
Œue
,

60440 cÚ¡ 
axis
='x', cÚ¡ 
®ign
=0,

60441 cÚ¡ 
boŞ
 
ex™_Ú_ªykey
=
çl£
) const {

60442  
_£Ëù
(
di¥
,0,
ã©u»_ty³
,
axis
,
®ign
,
ex™_Ú_ªykey
,0,
çl£
,false,false);

60454 
	gCImg
<
	gštT
> 
g‘_£Ëù
(cÚ¡ *cÚ¡ 
t™Ë
, cÚ¡ 
boŞ
 
ã©u»_ty³
=
Œue
,

60455 cÚ¡ 
axis
='x', cÚ¡ 
®ign
=0,

60456 cÚ¡ 
boŞ
 
ex™_Ú_ªykey
=
çl£
) const {

60457 
CImgDi¥Ïy
 
di¥
;

60458  
_£Ëù
(
di¥
,
t™Ë
,
ã©u»_ty³
,
axis
,
®ign
,
ex™_Ú_ªykey
,0,
çl£
,false,false);

60461 
	gCImg
<
	gštT
> 
_£Ëù
(
CImgDi¥Ïy
 &
di¥
, cÚ¡ *cÚ¡ 
t™Ë
, cÚ¡ 
boŞ
 
ã©u»_ty³
,

60462 cÚ¡ 
axis
, cÚ¡ 
®ign
, cÚ¡ 
boŞ
 
ex™_Ú_ªykey
,

60463 cÚ¡ 
Üig
, cÚ¡ 
boŞ
 
»size_di¥
,

60464 cÚ¡ 
boŞ
 
ex™_Ú_rightbu‰Ú
, cÚ¡ boŞ 
ex™_Ú_wh“l
) const {

60465 ià(
is_em±y
())

60466 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimgli¡_š¡ªû


60468 
cimgli¡_š¡ªû
);

60471 
	gCImgLi¡
<
	guštT
> 
	g_šdiûs
;

60472 
	gmax_width
 = 0, 
	gmax_height
 = 0, 
	gsum_width
 = 0, 
	gsum_height
 = 0;

60473 
cimgli¡_fÜ
(*
this
,
l
) {

60474 cÚ¡ 
	gCImg
<
	gT
>& 
	gimg
 = 
_d©a
[
l
];

60476 
	gw
 = 
CImgDi¥Ïy
::
_f™sü“n
(
img
.
_width
,img.
_height
,img.
_d•th
,128,-85,
çl£
),

60477 
	gh
 = 
CImgDi¥Ïy
::
_f™sü“n
(
img
.
_width
,img.
_height
,img.
_d•th
,128,-85,
Œue
);

60478 ià(
	gw
>
	gmax_width
èmax_width = 
w
;

60479 ià(
	gh
>
	gmax_height
èmax_heighˆğ
h
;

60480 
	gsum_width
+=
w
; 
	gsum_height
+=
h
;

60481 ià(
	gaxis
=='x'è
CImg
<
uštT
>(
w
,1,1,1,()
	gl
).
move_to
(
_šdiûs
);

60482 
	gCImg
<
	guštT
>(
	gh
,1,1,1,()
	gl
).
move_to
(
_šdiûs
);

60484 cÚ¡ 
	gCImg
<
	guštT
> 
	gšdiûs0
 = 
_šdiûs
>'x';

60487 ià(!
	gdi¥
) {

60488 ià(
	gaxis
=='x'è
di¥
.
assign
(
cimg_f™sü“n
(
sum_width
,
max_height
,1),
t™Ë
?title:0,1);

60489 
	gdi¥
.
assign
(
cimg_f™sü“n
(
max_width
,
sum_height
,1),
t™Ë
?title:0,1);

60490 ià(!
	gt™Ë
è
	gdi¥
.
£t_t™Ë
("CImgLi¡<%s> (%u)",
pix–_ty³
(),
_width
);

60492 ià(
	gt™Ë
è
	gdi¥
.
£t_t™Ë
("%s",
t™Ë
);

60493 
	gdi¥
.
move_šside_sü“n
();

60495 ià(
	g»size_di¥
) {

60496 ià(
	gaxis
=='x'è
di¥
.
»size
(
cimg_f™sü“n
(
sum_width
,
max_height
,1),
çl£
);

60497 
	gdi¥
.
»size
(
cimg_f™sü“n
(
max_width
,
sum_height
,1),
çl£
);

60500 cÚ¡ 
	gŞd_nÜm®iz©iÚ
 = 
di¥
.
nÜm®iz©iÚ
();

60501 
boŞ
 
	gŞd_is_»sized
 = 
di¥
.
is_»sized
();

60502 
	gdi¥
.
	g_nÜm®iz©iÚ
 = 0;

60503 
	gdi¥
.
show
().
£t_key
(0).
show_mou£
();

60504 cÚ¡ 
	gfÜeground_cŞÜ
[] = { 255,255,255 }, 
	gbackground_cŞÜ
[] = { 0,0,0 };

60507 
	gCImg
<
	guch¬T
> 
	gvisu0
, 
	gvisu
;

60508 
	gCImg
<
	guštT
> 
	gšdiûs
;

60509 
	gCImg
<
	gštT
> 
pos™iÚs
(
_width
,4,1,1,-1);

60510 
	gošdex0
 = -1, 
	gošdex1
 = -1, 
	gšdex0
 = -1, 
	gšdex1
 = -1;

60511 
boŞ
 
	gis_şicked
 = 
çl£
, 
	gis_£Ëùed
 = f®£, 
	g‹xt_down
 = f®£, 
	gupd©e_di¥Ïy
 = 
Œue
;

60512 
	gkey
 = 0, 
	gfÚt_size
 = 32;

60514 !
	gis_£Ëùed
 && !
	gdi¥
.
is_şo£d
(è&& !
	gkey
) {

60517 ià(!
	gvisu0
) {

60518 
	gvisu0
.
assign
(
di¥
.
_width
,di¥.
_height
,1,3,0); 
	gvisu
.assign();

60519 (
	gšdiûs0
.
g‘_»size
(
axis
=='x'?
visu0
.
_width
:visu0.
_height
,1)).
move_to
(
šdiûs
);

60520 
	g_šd
 = 0;

60521 cÚ¡ 
	gCImg
<
	gT
> 
ÚexÚe
(1,1,1,1,(
T
)0);

60522 ià(
	gaxis
=='x')

60523 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
_width
,4))

60524 
cimgli¡_fÜ
(*
this
,
šd
) {

60525 
	gx0
 = 0;

60526 
	gx0
<
	gvisu0
.
	g_width
 && 
	gšdiûs
[
x0
++]!=()
šd
) {}

60527 
x1
 = 
x0
;

60528 
	gx1
<
	gvisu0
.
	g_width
 && 
	gšdiûs
[
x1
++]==()
šd
) {}

60529 cÚ¡ 
CImg
<
T
> &
¤c
 = 
_d©a
[
šd
]?_d©a[šd]:
ÚexÚe
;

60530 
	gCImg
<
	guch¬T
> 
	g»s
;

60531 
	g¤c
.
_g‘_£Ëù
(
di¥
,
Şd_nÜm®iz©iÚ
,
¤c
.
_width
/2,¤c.
_height
/2,¤c.
_d•th
/2).

60532 
move_to
(
»s
);

60533 cÚ¡ 
	gh
 = 
CImgDi¥Ïy
::
_f™sü“n
(
»s
.
_width
,»s.
_height
,1,128,-85,
Œue
);

60534 
	g»s
.
»size
(
x1
 - 
x0
,
¡d
::
max
(32U,
h
*
di¥
.
_height
/
max_height
),1,
»s
.
_¥eùrum
==1?3:-100);

60535 
pos™iÚs
(
šd
,0èğpos™iÚs(šd,2èğ()
x0
;

60536 
pos™iÚs
(
šd
,1èğpos™iÚs(šd,3èğ()(
®ign
*(
visu0
.
height
(è- 
»s
.height()));

60537 
pos™iÚs
(
šd
,2)+=
»s
.
_width
;

60538 
pos™iÚs
(
šd
,3)+=
»s
.
_height
 - 1;

60539 
	gvisu0
.
d¿w_image
(
pos™iÚs
(
šd
,0),pos™iÚs(šd,1),
»s
);

60542 
cimg_´agma_İ’mp
(
·¿Î–
 
cimg_İ’mp_if_size
(
_width
,4))

60543 
cimgli¡_fÜ
(*
this
,
šd
) {

60544 
	gy0
 = 0;

60545 
	gy0
<
	gvisu0
.
	g_height
 && 
	gšdiûs
[
y0
++]!=()
šd
) {}

60546 
y1
 = 
y0
;

60547 
	gy1
<
	gvisu0
.
	g_height
 && 
	gšdiûs
[
y1
++]==()
šd
) {}

60548 cÚ¡ 
CImg
<
T
> &
¤c
 = 
_d©a
[
šd
]?_d©a[šd]:
ÚexÚe
;

60549 
	gCImg
<
	guch¬T
> 
	g»s
;

60550 
	g¤c
.
_g‘_£Ëù
(
di¥
,
Şd_nÜm®iz©iÚ
,(
¤c
.
_width
 - 1)/2,(¤c.
_height
 - 1)/2,(¤c.
_d•th
 - 1)/2).

60551 
move_to
(
»s
);

60552 cÚ¡ 
	gw
 = 
CImgDi¥Ïy
::
_f™sü“n
(
»s
.
_width
,»s.
_height
,1,128,-85,
çl£
);

60553 
	g»s
.
»size
(
¡d
::
max
(32U,
w
*
di¥
.
_width
/
max_width
),
y1
 - 
y0
,1,
»s
.
_¥eùrum
==1?3:-100);

60554 
pos™iÚs
(
šd
,0èğpos™iÚs(šd,2èğ()(
®ign
*(
visu0
.
width
(è- 
»s
.width()));

60555 
pos™iÚs
(
šd
,1èğpos™iÚs(šd,3èğ()
y0
;

60556 
pos™iÚs
(
šd
,2)+=
»s
.
_width
 - 1;

60557 
pos™iÚs
(
šd
,3)+=
»s
.
_height
;

60558 
	gvisu0
.
d¿w_image
(
pos™iÚs
(
šd
,0),pos™iÚs(šd,1),
»s
);

60560 ià(
	gaxis
=='x'è--
pos™iÚs
(
_šd
,2); --positions(_ind,3);

60561 
	gupd©e_di¥Ïy
 = 
Œue
;

60564 ià(!
	gvisu
 || 
	gošdex0
!=
šdex0
 || 
ošdex1
!=
šdex1
) {

60565 ià(
šdex0
>=0 && 
šdex1
>=0) {

60566 
visu
.
assign
(
visu0
,
çl£
);

60567 cÚ¡ 
	gšdm
 = 
¡d
::
mš
(
šdex0
,
šdex1
), 
	gšdM
 = std::
max
(index0,index1);

60568 
	gšd
 = 
šdm
; ind<=
šdM
; ++šdèià(
pos™iÚs
(
šd
,0)>=0) {

60569 
visu
.
d¿w_»ùªgË
(
pos™iÚs
(
šd
,0),positions(ind,1),positions(ind,2),positions(ind,3),

60570 
background_cŞÜ
,0.2f);

60571 ià((
	gaxis
=='x' && 
pos™iÚs
(
šd
,2) -…ositions(ind,0)>=8) ||

60572 (
axis
!='x' && 
pos™iÚs
(
šd
,3) -…ositions(ind,1)>=8))

60573 
visu
.
d¿w_»ùªgË
(
pos™iÚs
(
šd
,0),positions(ind,1),positions(ind,2),positions(ind,3),

60574 
fÜeground_cŞÜ
,0.9f,0xAAAAAAAA);

60576 ià(
	gis_şicked
è
	gvisu
.
__d¿w_‹xt
(" Image #%u - #%u, Sizğ%u ",
fÚt_size
,()
‹xt_down
,

60577 
Üig
 + 
šdm
,Üig + 
šdM
,indM - indm + 1);

60578 
	gvisu
.
__d¿w_‹xt
(" Imag#%u (%u,%u,%u,%uè",
fÚt_size
,()
‹xt_down
,

60579 
Üig
 + 
šdex0
,

60580 
_d©a
[
šdex0
].
_width
,

60581 
_d©a
[
šdex0
].
_height
,

60582 
_d©a
[
šdex0
].
_d•th
,

60583 
_d©a
[
šdex0
].
_¥eùrum
);

60584 
	gupd©e_di¥Ïy
 = 
Œue
;

60585 } 
	gvisu
.
assign
();

60587 ià(!
	gvisu
è{ visu.
assign
(
visu0
,
Œue
); 
	gupd©e_di¥Ïy
 =rue; }

60588 ià(
	gupd©e_di¥Ïy
è{ 
	gvisu
.
di¥Ïy
(
di¥
); upd©e_di¥Ïy = 
çl£
; }

60589 
	gdi¥
.
wa™
();

60592 cÚ¡ 
	gxm
 = 
di¥
.
mou£_x
(), 
	gym
 = di¥.
mou£_y
();

60593 
	gšdex
 = -1;

60595 ià(
	gxm
>=0) {

60596 
šdex
 = ()
šdiûs
(
axis
=='x'?
xm
:
ym
);

60597 ià(
	gdi¥
.
bu‰Ú
()&1) {

60598 ià(!
	gis_şicked
è{ is_şicked = 
Œue
; 
	gošdex0
 = 
šdex0
; 
	gšdex0
 = 
šdex
; }

60599 
	gošdex1
 = 
šdex1
; 
	gšdex1
 = 
šdex
;

60600 ià(!
	gã©u»_ty³
è
	gis_£Ëùed
 = 
Œue
;

60602 ià(!
	gis_şicked
è{ 
	gošdex0
 = 
ošdex1
 = 
šdex0
; 
	gšdex0
 = 
šdex1
 = 
šdex
; }

60603 
	gis_£Ëùed
 = 
Œue
;

60606 ià(
	gis_şicked
) {

60607 ià(!(
	gdi¥
.
bu‰Ú
()&1)è{ 
	gis_şicked
 = 
is_£Ëùed
 = 
çl£
; 
	gšdex0
 = 
šdex1
 = -1; }

60608 
	gšdex1
 = -1;

60609 } 
	gšdex0
 = 
šdex1
 = -1;

60612 ià(
	gdi¥
.
bu‰Ú
()&4è{ 
	gis_şicked
 = 
is_£Ëùed
 = 
çl£
; 
	gšdex0
 = 
šdex1
 = -1; }

60613 ià(
	gdi¥
.
bu‰Ú
()&2 && 
	gex™_Ú_rightbu‰Ú
è{ 
	gis_£Ëùed
 = 
Œue
; 
	gšdex1
 = 
šdex0
 = -1; }

60614 ià(
	gdi¥
.
wh“l
(è&& 
	gex™_Ú_wh“l
è
	gis_£Ëùed
 = 
Œue
;

60616 
	gCImg
<
	gch¬T
> 
f’ame
(32);

60617 
	gkey
 = 
di¥
.
key
()) {

60618 #ià
cimg_OS
!=2

60619 
cimg
::
keyCTRLRIGHT
 :

60621 0 : 
cimg
::
keyCTRLLEFT
 : 
key
 = 0; ;

60622 
	gcimg
::
keyD
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

60623 
di¥
.
£t_fuÎsü“n
(
çl£
).

60624 
»size
(
CImgDi¥Ïy
::
_f™sü“n
(3*
di¥
.
width
()/2,3*di¥.
height
()/2,1,128,-100,
çl£
),

60625 
CImgDi¥Ïy
::
_f™sü“n
(3*
di¥
.
width
()/2,3*di¥.
height
()/2,1,128,-100,
Œue
),
çl£
).

60626 
	g_is_»sized
 = 
Œue
;

60627 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0; 
	gvisu0
.
assign
();

60629 
	gcimg
::
keyC
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

60630 
di¥
.
£t_fuÎsü“n
(
çl£
).

60631 
»size
(
cimg_f™sü“n
(2*
di¥
.
width
()/3,2*di¥.
height
()/3,1),
çl£
).
	g_is_»sized
 = 
Œue
;

60632 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0; 
	gvisu0
.
assign
();

60634 
	gcimg
::
keyR
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

60635 
di¥
.
£t_fuÎsü“n
(
çl£
).

60636 
»size
(
cimg_f™sü“n
(
axis
=='x'?
sum_width
:
max_width
,axis=='x'?
max_height
:
sum_height
,1),
çl£
).

60637 
	g_is_»sized
 = 
Œue
;

60638 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0; 
	gvisu0
.
assign
();

60640 
	gcimg
::
keyF
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

60641 
di¥
.
»size
(di¥.
sü“n_width
(),di¥.
sü“n_height
(),
çl£
).
toggË_fuÎsü“n
().
	g_is_»sized
 = 
Œue
;

60642 
	gdi¥
.
£t_key
(
key
,
çl£
); 
	gkey
 = 0; 
	gvisu0
.
assign
();

60644 
	gcimg
::
keyS
 : ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

60645 
¢­_numb”
 = 0;

60646 
	g¡d
::
FILE
 *
fe
;

60648 
cimg_¢´štf
(
f’ame
,f’ame.
_width
,
cimg_­²ame
 "_%.4u.bmp",
¢­_numb”
++);

60649 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame
,"r"))!=0ècimg::
fşo£
(
fe
);

60650 } 
	gfe
);

60651 ià(
	gvisu0
) {

60652 (+
	gvisu0
).
__d¿w_‹xt
(" Savšg sÇpshÙ... ",
fÚt_size
,()
‹xt_down
).
di¥Ïy
(
di¥
);

60653 
	gvisu0
.
§ve
(
f’ame
);

60654 (+
	gvisu0
).
__d¿w_‹xt
(" SÇpshÙ '%s' saved. ",
fÚt_size
,()
‹xt_down
,
f’ame
.
_d©a
).
di¥Ïy
(
di¥
);

60656 
	gdi¥
.
£t_key
(
key
,
çl£
).
wa™
(); 
	gkey
 = 0;

60658 
	gcimg
::
keyO
 :

60659 ià(
di¥
.
is_keyCTRLLEFT
(è|| di¥.
is_keyCTRLRIGHT
()) {

60660 
¢­_numb”
 = 0;

60661 
	g¡d
::
FILE
 *
fe
;

60663 #ifdeà
cimg_u£_zlib


60664 
cimg_¢´štf
(
f’ame
,f’ame.
_width
,
cimg_­²ame
 "_%.4u.cimgz",
¢­_numb”
++);

60666 
cimg_¢´štf
(
f’ame
,f’ame.
_width
,
cimg_­²ame
 "_%.4u.cimg",
¢­_numb”
++);

60668 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame
,"r"))!=0ècimg::
fşo£
(
fe
);

60669 } 
	gfe
);

60670 (+
	gvisu0
).
__d¿w_‹xt
(" Savšg in¡ªû... ",
fÚt_size
,()
‹xt_down
).
di¥Ïy
(
di¥
);

60671 
§ve
(
f’ame
);

60672 (+
	gvisu0
).
__d¿w_‹xt
(" In¡ªû '%s' saved. ",
fÚt_size
,()
‹xt_down
,
f’ame
.
_d©a
).
di¥Ïy
(
di¥
);

60673 
	gdi¥
.
£t_key
(
key
,
çl£
).
wa™
(); 
	gkey
 = 0;

60676 ià(
	gdi¥
.
is_»sized
()è{ di¥.
»size
(
çl£
); 
	gvisu0
.
assign
(); }

60677 ià(
	gym
>=0 && 
ym
<13è{ ià(!
‹xt_down
è{ 
visu
.
assign
(); 
	g‹xt_down
 = 
Œue
; }}

60678 ià(
	gym
>=
visu
.
height
(è- 13è{ ià(
‹xt_down
è{ visu.
assign
(); 
	g‹xt_down
 = 
çl£
; }}

60679 ià(!
	gex™_Ú_ªykey
 && 
	gkey
 && key!=
cimg
::
keyESC
 &&

60680 (
key
!=
cimg
::
keyW
 || (!
di¥
.
is_keyCTRLLEFT
(è&& !di¥.
is_keyCTRLRIGHT
()))) {

60681 
key
 = 0;

60684 
	gCImg
<
	gštT
> 
»s
(1,2,1,1,-1);

60685 ià(
	gis_£Ëùed
) {

60686 ià(
	gã©u»_ty³
è
	g»s
.
fl
(
¡d
::
mš
(
šdex0
,
šdex1
),¡d::
max
(index0,index1));

60687 
	g»s
.
fl
(
šdex0
);

60689 ià(!(
	gdi¥
.
bu‰Ú
()&2)èdi¥.
£t_bu‰Ú
();

60690 
	gdi¥
.
	g_nÜm®iz©iÚ
 = 
Şd_nÜm®iz©iÚ
;

60691 
	gdi¥
.
	g_is_»sized
 = 
Şd_is_»sized
;

60692 
	gdi¥
.
£t_key
(
key
);

60693  
	g»s
;

60700 
	gCImgLi¡
<
	gT
>& 
lßd
(cÚ¡ *cÚ¡ 
f’ame
) {

60701 ià(!
	gf’ame
)

60702 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


60704 
cimgli¡_š¡ªû
);

60706 ià(!
	gcimg
::
¡ºÿ£cmp
(
f’ame
,"http://",7) || !cimg::strncasecmp(filename,"https://",8)) {

60707 
	gCImg
<
	gch¬T
> 
f’ame_loÿl
(256);

60708 
lßd
(
cimg
::
lßd_ÃtwÜk
(
f’ame
,
f’ame_loÿl
));

60709 
	g¡d
::
»move
(
f’ame_loÿl
);

60710  *
	gthis
;

60713 cÚ¡ 
boŞ
 
	gis_¡dš
 = *
f’ame
=='-' && (!filename[1] || filename[1]=='.');

60714 cÚ¡ *cÚ¡ 
	gext
 = 
cimg
::
¥l™_f’ame
(
f’ame
);

60715 cÚ¡ 
	gomode
 = 
cimg
::
exû±iÚ_mode
();

60716 
	gcimg
::
exû±iÚ_mode
(0);

60717 
boŞ
 
	gis_lßded
 = 
Œue
;

60718 
	gŒy
 {

60719 #ifdeà
cimgli¡_lßd_¶ugš


60720 
cimgli¡_lßd_¶ugš
(
f’ame
);

60722 #ifdeà
cimgli¡_lßd_¶ugš1


60723 
cimgli¡_lßd_¶ugš1
(
f’ame
);

60725 #ifdeà
cimgli¡_lßd_¶ugš2


60726 
cimgli¡_lßd_¶ugš2
(
f’ame
);

60728 #ifdeà
cimgli¡_lßd_¶ugš3


60729 
cimgli¡_lßd_¶ugš3
(
f’ame
);

60731 #ifdeà
cimgli¡_lßd_¶ugš4


60732 
cimgli¡_lßd_¶ugš4
(
f’ame
);

60734 #ifdeà
cimgli¡_lßd_¶ugš5


60735 
cimgli¡_lßd_¶ugš5
(
f’ame
);

60737 #ifdeà
cimgli¡_lßd_¶ugš6


60738 
cimgli¡_lßd_¶ugš6
(
f’ame
);

60740 #ifdeà
cimgli¡_lßd_¶ugš7


60741 
cimgli¡_lßd_¶ugš7
(
f’ame
);

60743 #ifdeà
cimgli¡_lßd_¶ugš8


60744 
cimgli¡_lßd_¶ugš8
(
f’ame
);

60746 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"tif") ||

60747 !
	gcimg
::
¡rÿ£cmp
(
ext
,"tiff")è
lßd_tiff
(
f’ame
);

60748 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"gif")è
lßd_gif_ex‹º®
(
f’ame
);

60749 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"cimg") ||

60750 !
	gcimg
::
¡rÿ£cmp
(
ext
,"cimgz") ||

60751 !*
	gext
è
lßd_cimg
(
f’ame
);

60752 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"rec") ||

60753 !
	gcimg
::
¡rÿ£cmp
(
ext
,"·r")è
lßd_·¼ec
(
f’ame
);

60754 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"avi") ||

60755 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mov") ||

60756 !
	gcimg
::
¡rÿ£cmp
(
ext
,"asf") ||

60757 !
	gcimg
::
¡rÿ£cmp
(
ext
,"divx") ||

60758 !
	gcimg
::
¡rÿ£cmp
(
ext
,"flv") ||

60759 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mpg") ||

60760 !
	gcimg
::
¡rÿ£cmp
(
ext
,"m1v") ||

60761 !
	gcimg
::
¡rÿ£cmp
(
ext
,"m2v") ||

60762 !
	gcimg
::
¡rÿ£cmp
(
ext
,"m4v") ||

60763 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mjp") ||

60764 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mp4") ||

60765 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mkv") ||

60766 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mpe") ||

60767 !
	gcimg
::
¡rÿ£cmp
(
ext
,"movie") ||

60768 !
	gcimg
::
¡rÿ£cmp
(
ext
,"ogm") ||

60769 !
	gcimg
::
¡rÿ£cmp
(
ext
,"ogg") ||

60770 !
	gcimg
::
¡rÿ£cmp
(
ext
,"ogv") ||

60771 !
	gcimg
::
¡rÿ£cmp
(
ext
,"qt") ||

60772 !
	gcimg
::
¡rÿ£cmp
(
ext
,"rm") ||

60773 !
	gcimg
::
¡rÿ£cmp
(
ext
,"vob") ||

60774 !
	gcimg
::
¡rÿ£cmp
(
ext
,"wmv") ||

60775 !
	gcimg
::
¡rÿ£cmp
(
ext
,"xvid") ||

60776 !
	gcimg
::
¡rÿ£cmp
(
ext
,"m³g")è
lßd_video
(
f’ame
);

60777 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"gz")è
lßd_gz_ex‹º®
(
f’ame
);

60778 
	gis_lßded
 = 
çl£
;

60779 } 
ÿtch
 (
CImgIOExû±iÚ
&è{ 
	gis_lßded
 = 
çl£
; }

60782 ià(!
	gis_lßded
 && !
	gis_¡dš
) {

60783 
	g¡d
::
FILE
 *cÚ¡ 
fe
 = 
cimg
::
¡d_fİ’
(
f’ame
,"rb");

60784 ià(!
	gfe
) {

60785 
	gcimg
::
exû±iÚ_mode
(
omode
);

60786 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


60788 
cimgli¡_š¡ªû
,

60789 
f’ame
);

60792 cÚ¡ *cÚ¡ 
	gf_ty³
 = 
cimg
::
áy³
(
fe
,
f’ame
);

60793 
	gcimg
::
fşo£
(
fe
);

60794 
	gis_lßded
 = 
Œue
;

60795 
	gŒy
 {

60796 ià(!
	gcimg
::
¡rÿ£cmp
(
f_ty³
,"gif")è
lßd_gif_ex‹º®
(
f’ame
);

60797 ià(!
	gcimg
::
¡rÿ£cmp
(
f_ty³
,"tif")è
lßd_tiff
(
f’ame
);

60798 
	gis_lßded
 = 
çl£
;

60799 } 
ÿtch
 (
CImgIOExû±iÚ
&è{ 
	gis_lßded
 = 
çl£
; }

60803 ià(!
	gis_lßded
) {

60804 
assign
(1);

60805 
	gŒy
 {

60806 
	g_d©a
->
lßd
(
f’ame
);

60807 } 
ÿtch
 (
CImgIOExû±iÚ
&) {

60808 
	gcimg
::
exû±iÚ_mode
(
omode
);

60809 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


60811 
cimgli¡_š¡ªû
,

60812 
f’ame
);

60815 
	gcimg
::
exû±iÚ_mode
(
omode
);

60816  *
	gthis
;

60820 
	gCImgLi¡
<
	gT
> 
g‘_lßd
(cÚ¡ *cÚ¡ 
f’ame
) {

60821  
	gCImgLi¡
<
	gT
>().
lßd
(
f’ame
);

60828 
	gCImgLi¡
<
	gT
>& 
lßd_cimg
(cÚ¡ *cÚ¡ 
f’ame
) {

60829  
_lßd_cimg
(0,
f’ame
);

60833 
	gCImgLi¡
<
	gT
> 
g‘_lßd_cimg
(cÚ¡ *cÚ¡ 
f’ame
) {

60834  
	gCImgLi¡
<
	gT
>().
lßd_cimg
(
f’ame
);

60841 
	gCImgLi¡
<
	gT
>& 
lßd_cimg
(
¡d
::
FILE
 *cÚ¡ 
fe
) {

60842  
_lßd_cimg
(
fe
,0);

60846 
	gCImgLi¡
<
	gT
> 
g‘_lßd_cimg
(
¡d
::
FILE
 *cÚ¡ 
fe
) {

60847  
CImgLi¡
<
T
>().
lßd_cimg
(
fe
);

60850 
	gCImgLi¡
<
	gT
>& 
_lßd_cimg
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
) {

60851 #ifdeà
cimg_u£_zlib


60852 
	#_cimgz_lßd_cimg_ÿ£
(
Tss
) { \

60853 
By‹f
 *cÚ¡ 
cbuf
 = 
Ãw
 By‹f[
csiz
]; \

60854 
cimg
::
	`ä—d
(
cbuf
,
csiz
,
nfe
); \

60855 
¿w
.
	`assign
(
W
,
H
,
D
,
C
); \

60856 
uLÚgf
 
de¡Ën
 = (
ulÚgT
)
¿w
.
	`size
()*(
Tss
); \

60857 
	`uncom´ess
((
By‹f
*)
¿w
.
_d©a
,&
de¡Ën
,
cbuf
,
csiz
); \

60858 
d–‘e
[] 
cbuf
; \

60859 ià(
’dŸn
!=
cimg
::
	`’dŸÂess
()ècimg::
	`šv”t_’dŸÂess
(
¿w
.
_d©a
,¿w.
	`size
()); \

60860 
¿w
.
	`move_to
(
img
); \

60861 }

	)

60863 
	#_cimgz_lßd_cimg_ÿ£
(
Tss
) \

60864 
throw
 
	`CImgIOExû±iÚ
(
_cimgli¡_š¡ªû
 \

60866 
cimgli¡_š¡ªû
, \

60867 
f’ame
?f’ame:"(FILE*)");

	)

60870 
	#_cimg_lßd_cimg_ÿ£
(
Ts
,
Tss
) \

60871 ià(!
lßded
 && !
cimg
::
	`¡rÿ£cmp
(
Ts
,
¡r_pix–ty³
)) { \

60872 
l
 = 0;†<
N
; ++l) { \

60873 
j
 = 0; (
i
=
¡d
::
	`fg‘c
(
nfe
))!='\n' && i>=0 && j<255è
tmp
[j++] = ()i;mp[j] = 0; \

60874 
W
 = 
H
 = 
D
 = 
C
 = 0; 
csiz
 = 0; \

60875 ià((
”r
 = 
	`cimg_ssÿnf
(
tmp
,"%u %u %u %u #%lu",&
W
,&
H
,&
D
,&
C
,&
csiz
))<4) \

60876 
throw
 
	`CImgIOExû±iÚ
(
_cimgli¡_š¡ªû
 \

60878 
cimgli¡_š¡ªû
, \

60879 
W
,
H
,
D
,
C
,
l
,
f’ame
?filename:("(FILE*)")); \

60880 ià(
W
*
H
*
D
*
C
>0) { \

60881 
CImg
<
Tss
> 
¿w
; \

60882 
CImg
<
T
> &
img
 = 
_d©a
[
l
]; \

60883 ià(
”r
==5è
	`_cimgz_lßd_cimg_ÿ£
(
Tss
) \

60885 
img
.
	`assign
(
W
,
H
,
D
,
C
); \

60886 
T
 *
±rd
 = 
img
.
_d©a
; \

60887 
ulÚgT
 
to_»ad
 = 
img
.
	`size
();o_read; ) { \

60888 
¿w
.
	`assign
(()
¡d
::
	`mš
(
to_»ad
,
cimg_iobufãr
)); \

60889 
cimg
::
	`ä—d
(
¿w
.
_d©a
,¿w.
_width
,
nfe
); \

60890 ià(
’dŸn
!=
cimg
::
	`’dŸÂess
()ècimg::
	`šv”t_’dŸÂess
(
¿w
.
_d©a
,¿w.
	`size
()); \

60891 cÚ¡ 
Tss
 *
±rs
 = 
¿w
.
_d©a
; \

60892 
ulÚgT
 
off
 = (ulÚgT)
¿w
.
_width
; off; --offè*(
±rd
++èğ(
T
)*(
±rs
++); \

60893 
to_»ad
-=
¿w
.
_width
; \

60898 
lßded
 = 
Œue
; \

60899 }

	)

60901 ià(!
	gf’ame
 && !
	gfe
)

60902 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


60904 
cimgli¡_š¡ªû
);

60906 cÚ¡ 
ulÚgT
 
	gcimg_iobufãr
 = (ulongT)24*1024*1024;

60907 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"rb");

60908 
boŞ
 
	glßded
 = 
çl£
, 
	g’dŸn
 = 
cimg
::
’dŸÂess
();

60909 
	gCImg
<
	gch¬T
> 
tmp
(256), 
¡r_pix–ty³
(256), 
¡r_’dŸn
(256);

60910 *
	gtmp
 = *
¡r_pix–ty³
 = *
¡r_’dŸn
 = 0;

60911 
	gj
, 
	gN
 = 0, 
	gW
, 
	gH
, 
	gD
, 
	gC
;

60912 
	gcsiz
;

60913 
	gi
, 
	g”r
;

60915 
	gj
 = 0; (
	gi
=
¡d
::
fg‘c
(
nfe
))!='\n' && 
i
>=0 && 
j
<255è
tmp
[j++] = ()i; 
	gtmp
[j] = 0;

60916 } *
	gtmp
=='#' && 
i
>=0);

60917 
	g”r
 = 
cimg_ssÿnf
(
tmp
,"%u%*c%255[A-Za-z64_]%*c%255[sA-Za-z_ ]",

60918 &
N
,
¡r_pix–ty³
.
_d©a
,
¡r_’dŸn
._data);

60919 ià(
	g”r
<2) {

60920 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

60921 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


60923 
cimgli¡_š¡ªû
,

60924 
f’ame
?filename:"(FILE*)");

60926 ià(!
	gcimg
::
¡ºÿ£cmp
("l™e",
¡r_’dŸn
,6)è
	g’dŸn
 = 
çl£
;

60927 ià(!
	gcimg
::
¡ºÿ£cmp
("big",
¡r_’dŸn
,3)è
	g’dŸn
 = 
Œue
;

60928 
assign
(
N
);

60929 
_cimg_lßd_cimg_ÿ£
("boŞ",
boŞ
);

60930 
_cimg_lßd_cimg_ÿ£
("unsigned_char",);

60931 
_cimg_lßd_cimg_ÿ£
("uchar",);

60932 
_cimg_lßd_cimg_ÿ£
("char",);

60933 
_cimg_lßd_cimg_ÿ£
("unsigned_short",);

60934 
_cimg_lßd_cimg_ÿ£
("ushort",);

60935 
_cimg_lßd_cimg_ÿ£
("short",);

60936 
_cimg_lßd_cimg_ÿ£
("unsigned_int",);

60937 
_cimg_lßd_cimg_ÿ£
("uint",);

60938 
_cimg_lßd_cimg_ÿ£
("int",);

60939 
_cimg_lßd_cimg_ÿ£
("unsigÃd_lÚg",
ulÚgT
);

60940 
_cimg_lßd_cimg_ÿ£
("ulÚg",
ulÚgT
);

60941 
_cimg_lßd_cimg_ÿ£
("lÚg",
lÚgT
);

60942 
_cimg_lßd_cimg_ÿ£
("unsigÃd_št64",
ušt64T
);

60943 
_cimg_lßd_cimg_ÿ£
("ušt64",
ušt64T
);

60944 
_cimg_lßd_cimg_ÿ£
("št64",
št64T
);

60945 
_cimg_lßd_cimg_ÿ£
("float",);

60946 
_cimg_lßd_cimg_ÿ£
("double",);

60948 ià(!
	glßded
) {

60949 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

60950 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


60952 
cimgli¡_š¡ªû
,

60953 
¡r_pix–ty³
.
_d©a
,
f’ame
?filename:"(FILE*)");

60955 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

60956  *
	gthis
;

60973 
	gCImgLi¡
<
	gT
>& 
lßd_cimg
(cÚ¡ *cÚ¡ 
f’ame
,

60974 cÚ¡ 
n0
, cÚ¡ 
n1
,

60975 cÚ¡ 
x0
, cÚ¡ 
y0
,

60976 cÚ¡ 
z0
, cÚ¡ 
c0
,

60977 cÚ¡ 
x1
, cÚ¡ 
y1
,

60978 cÚ¡ 
z1
, cÚ¡ 
c1
) {

60979  
_lßd_cimg
(0,
f’ame
,
n0
,
n1
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
);

60983 
	gCImgLi¡
<
	gT
> 
g‘_lßd_cimg
(cÚ¡ *cÚ¡ 
f’ame
,

60984 cÚ¡ 
n0
, cÚ¡ 
n1
,

60985 cÚ¡ 
x0
, cÚ¡ 
y0
,

60986 cÚ¡ 
z0
, cÚ¡ 
c0
,

60987 cÚ¡ 
x1
, cÚ¡ 
y1
,

60988 cÚ¡ 
z1
, cÚ¡ 
c1
) {

60989  
	gCImgLi¡
<
	gT
>().
lßd_cimg
(
f’ame
,
n0
,
n1
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
);

60993 
	gCImgLi¡
<
	gT
>& 
lßd_cimg
(
¡d
::
FILE
 *cÚ¡ 
fe
,

60994 cÚ¡ 
n0
, cÚ¡ 
n1
,

60995 cÚ¡ 
x0
, cÚ¡ 
y0
,

60996 cÚ¡ 
z0
, cÚ¡ 
c0
,

60997 cÚ¡ 
x1
, cÚ¡ 
y1
,

60998 cÚ¡ 
z1
, cÚ¡ 
c1
) {

60999  
_lßd_cimg
(
fe
,0,
n0
,
n1
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
);

61003 
	gCImgLi¡
<
	gT
> 
g‘_lßd_cimg
(
¡d
::
FILE
 *cÚ¡ 
fe
,

61004 cÚ¡ 
n0
, cÚ¡ 
n1
,

61005 cÚ¡ 
x0
, cÚ¡ 
y0
,

61006 cÚ¡ 
z0
, cÚ¡ 
c0
,

61007 cÚ¡ 
x1
, cÚ¡ 
y1
,

61008 cÚ¡ 
z1
, cÚ¡ 
c1
) {

61009  
	gCImgLi¡
<
	gT
>().
lßd_cimg
(
fe
,
n0
,
n1
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
);

61012 
	gCImgLi¡
<
	gT
>& 
_lßd_cimg
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
,

61013 cÚ¡ 
n0
, cÚ¡ 
n1
,

61014 cÚ¡ 
x0
, cÚ¡ 
y0
,

61015 cÚ¡ 
z0
, cÚ¡ 
c0
,

61016 cÚ¡ 
x1
, cÚ¡ 
y1
,

61017 cÚ¡ 
z1
, cÚ¡ 
c1
) {

61018 
	#_cimg_lßd_cimg_ÿ£2
(
Ts
,
Tss
) \

61019 ià(!
lßded
 && !
cimg
::
	`¡rÿ£cmp
(
Ts
,
¡r_pix–ty³
)) { \

61020 
l
 = 0;†<=
Â1
; ++l) { \

61021 
j
 = 0; (
i
=
¡d
::
	`fg‘c
(
nfe
))!='\n' && i>=0è
tmp
[j++] = ()i;mp[j] = 0; \

61022 
W
 = 
H
 = 
D
 = 
C
 = 0; \

61023 ià(
	`cimg_ssÿnf
(
tmp
,"%u %u %u %u",&
W
,&
H
,&
D
,&
C
)!=4) \

61024 
throw
 
	`CImgIOExû±iÚ
(
_cimgli¡_š¡ªû
 \

61026 
cimgli¡_š¡ªû
, \

61027 
W
,
H
,
D
,
C
,
l
,
f’ame
?filename:"(FILE*)"); \

61028 ià(
W
*
H
*
D
*
C
>0) { \

61029 ià(
l
<
Â0
 || 
nx0
>=
W
 || 
ny0
>=
H
 || 
nz0
>=
D
 || 
nc0
>=
C
è
cimg
::
	`f£ek
(
nfe
,W*H*D*C*(
Tss
),
SEEK_CUR
); \

61032 
_nx1
 = 
nx1
==~0U?
W
 - 1:nx1, \

61033 
_ny1
 = 
ny1
==~0U?
H
 - 1:ny1, \

61034 
_nz1
 = 
nz1
==~0U?
D
 - 1:nz1, \

61035 
_nc1
 = 
nc1
==~0U?
C
 - 1:nc1; \

61036 ià(
_nx1
>=
W
 || 
_ny1
>=
H
 || 
_nz1
>=
D
 || 
_nc1
>=
C
) \

61037 
throw
 
	`CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû
 \

61041 
cimgli¡_š¡ªû
, \

61042 
n0
,
x0
,
y0
,
z0
,
c0
,
n1
,
x1
,
y1
,
z1
,
c1
,
l
,
f’ame
?f’ame:"(FILE*)",
W
,
H
,
D
,
C
); \

61043 
CImg
<
Tss
> 
	`¿w
(1 + 
_nx1
 - 
nx0
); \

61044 
CImg
<
T
> &
img
 = 
_d©a
[
l
 - 
Â0
]; \

61045 
img
.
	`assign
(1 + 
_nx1
 - 
nx0
,1 + 
_ny1
 - 
ny0
,1 + 
_nz1
 - 
nz0
,1 + 
_nc1
 - 
nc0
); \

61046 
T
 *
±rd
 = 
img
.
_d©a
; \

61047 
ulÚgT
 
skvb
 = 
nc0
*
W
*
H
*
D
*(
Tss
); \

61048 ià(
skvb
è
cimg
::
	`f£ek
(
nfe
,skvb,
SEEK_CUR
); \

61049 
c
 = 1 + 
_nc1
 - 
nc0
; c; --c) { \

61050 cÚ¡ 
ulÚgT
 
skzb
 = 
nz0
*
W
*
H
*(
Tss
); \

61051 ià(
skzb
è
cimg
::
	`f£ek
(
nfe
,skzb,
SEEK_CUR
); \

61052 
z
 = 1 + 
_nz1
 - 
nz0
; z; --z) { \

61053 cÚ¡ 
ulÚgT
 
skyb
 = 
ny0
*
W
*(
Tss
); \

61054 ià(
skyb
è
cimg
::
	`f£ek
(
nfe
,skyb,
SEEK_CUR
); \

61055 
y
 = 1 + 
_ny1
 - 
ny0
; y; --y) { \

61056 cÚ¡ 
ulÚgT
 
skxb
 = 
nx0
*(
Tss
); \

61057 ià(
skxb
è
cimg
::
	`f£ek
(
nfe
,skxb,
SEEK_CUR
); \

61058 
cimg
::
	`ä—d
(
¿w
.
_d©a
,¿w.
_width
,
nfe
); \

61059 ià(
’dŸn
!=
cimg
::
	`’dŸÂess
()ècimg::
	`šv”t_’dŸÂess
(
¿w
.
_d©a
,¿w.
_width
); \

61060 cÚ¡ 
Tss
 *
±rs
 = 
¿w
.
_d©a
; \

61061 
off
 = 
¿w
.
_width
; off; --offè*(
±rd
++èğ(
T
)*(
±rs
++); \

61062 cÚ¡ 
ulÚgT
 
skxe
 = (
W
 - 1 - 
_nx1
)*(
Tss
); \

61063 ià(
skxe
è
cimg
::
	`f£ek
(
nfe
,skxe,
SEEK_CUR
); \

61065 cÚ¡ 
ulÚgT
 
skye
 = (
H
 - 1 - 
_ny1
)*
W
*(
Tss
); \

61066 ià(
skye
è
cimg
::
	`f£ek
(
nfe
,skye,
SEEK_CUR
); \

61068 cÚ¡ 
ulÚgT
 
skze
 = (
D
 - 1 - 
_nz1
)*
W
*
H
*(
Tss
); \

61069 ià(
skze
è
cimg
::
	`f£ek
(
nfe
,skze,
SEEK_CUR
); \

61071 cÚ¡ 
ulÚgT
 
skve
 = (
C
 - 1 - 
_nc1
)*
W
*
H
*
D
*(
Tss
); \

61072 ià(
skve
è
cimg
::
	`f£ek
(
nfe
,skve,
SEEK_CUR
); \

61076 
lßded
 = 
Œue
; \

61077 }

	)

61079 ià(!
	gf’ame
 && !
	gfe
)

61080 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


61082 
cimgli¡_š¡ªû
);

61084 
	gÂ0
 = 
¡d
::
mš
(
n0
,
n1
), 
	gÂ1
 = std::
max
(n0,n1),

61085 
	gnx0
 = 
¡d
::
mš
(
x0
,
x1
), 
	gnx1
 = std::
max
(x0,x1),

61086 
	gny0
 = 
¡d
::
mš
(
y0
,
y1
), 
	gny1
 = std::
max
(y0,y1),

61087 
	gnz0
 = 
¡d
::
mš
(
z0
,
z1
), 
	gnz1
 = std::
max
(z0,z1),

61088 
	gnc0
 = 
¡d
::
mš
(
c0
,
c1
), 
	gnc1
 = std::
max
(c0,c1);

61090 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"rb");

61091 
boŞ
 
	glßded
 = 
çl£
, 
	g’dŸn
 = 
cimg
::
’dŸÂess
();

61092 
	gCImg
<
	gch¬T
> 
tmp
(256), 
¡r_pix–ty³
(256), 
¡r_’dŸn
(256);

61093 *
	gtmp
 = *
¡r_pix–ty³
 = *
¡r_’dŸn
 = 0;

61094 
	gj
, 
	gN
, 
	gW
, 
	gH
, 
	gD
, 
	gC
;

61095 
	gi
, 
	g”r
;

61096 
	gj
 = 0; (
	gi
=
¡d
::
fg‘c
(
nfe
))!='\n' && 
i
!=
EOF
 && 
j
<256è
tmp
[j++] = ()i; 
	gtmp
[j] = 0;

61097 
	g”r
 = 
cimg_ssÿnf
(
tmp
,"%u%*c%255[A-Za-z64_]%*c%255[sA-Za-z_ ]",

61098 &
N
,
¡r_pix–ty³
.
_d©a
,
¡r_’dŸn
._data);

61099 ià(
	g”r
<2) {

61100 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

61101 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


61103 
cimgli¡_š¡ªû
,

61104 
f’ame
?filename:"(FILE*)");

61106 ià(!
	gcimg
::
¡ºÿ£cmp
("l™e",
¡r_’dŸn
,6)è
	g’dŸn
 = 
çl£
;

61107 ià(!
	gcimg
::
¡ºÿ£cmp
("big",
¡r_’dŸn
,3)è
	g’dŸn
 = 
Œue
;

61108 
	gÂ1
 = 
n1
==~0U?
N
 - 1:n1;

61109 ià(
	gÂ1
>=
N
)

61110 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


61113 
cimgli¡_š¡ªû
,

61114 
n0
,
x0
,
y0
,
z0
,
c0
,
n1
,
x1
,
y1
,
z1
,
c1
,
f’ame
?f’ame:"(FILE*)",
N
);

61115 
assign
(1 + 
Â1
 - 
n0
);

61116 
_cimg_lßd_cimg_ÿ£2
("boŞ",
boŞ
);

61117 
_cimg_lßd_cimg_ÿ£2
("unsigned_char",);

61118 
_cimg_lßd_cimg_ÿ£2
("uchar",);

61119 
_cimg_lßd_cimg_ÿ£2
("char",);

61120 
_cimg_lßd_cimg_ÿ£2
("unsigned_short",);

61121 
_cimg_lßd_cimg_ÿ£2
("ushort",);

61122 
_cimg_lßd_cimg_ÿ£2
("short",);

61123 
_cimg_lßd_cimg_ÿ£2
("unsigned_int",);

61124 
_cimg_lßd_cimg_ÿ£2
("uint",);

61125 
_cimg_lßd_cimg_ÿ£2
("int",);

61126 
_cimg_lßd_cimg_ÿ£2
("unsigÃd_lÚg",
ulÚgT
);

61127 
_cimg_lßd_cimg_ÿ£2
("ulÚg",
ulÚgT
);

61128 
_cimg_lßd_cimg_ÿ£2
("lÚg",
lÚgT
);

61129 
_cimg_lßd_cimg_ÿ£2
("unsigÃd_št64",
ušt64T
);

61130 
_cimg_lßd_cimg_ÿ£2
("ušt64",
ušt64T
);

61131 
_cimg_lßd_cimg_ÿ£2
("št64",
št64T
);

61132 
_cimg_lßd_cimg_ÿ£2
("float",);

61133 
_cimg_lßd_cimg_ÿ£2
("double",);

61134 ià(!
	glßded
) {

61135 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

61136 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


61138 
cimgli¡_š¡ªû
,

61139 
¡r_pix–ty³
.
_d©a
,
f’ame
?filename:"(FILE*)");

61141 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

61142  *
	gthis
;

61149 
	gCImgLi¡
<
	gT
>& 
lßd_·¼ec
(cÚ¡ *cÚ¡ 
f’ame
) {

61150 ià(!
	gf’ame
)

61151 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


61153 
cimgli¡_š¡ªû
);

61155 
	gCImg
<
	gch¬T
> 
body
(1024), 
f’am•¬
(1024), 
f’am”ec
(1024);

61156 *
	gbody
 = *
f’am•¬
 = *
f’am”ec
 = 0;

61157 cÚ¡ *cÚ¡ 
	gext
 = 
cimg
::
¥l™_f’ame
(
f’ame
,
body
);

61158 ià(!
	g¡d
::
¡rcmp
(
ext
,"par")) {

61159 
	g¡d
::
¡ºıy
(
f’am•¬
,
f’ame
,f’am•¬.
_width
 - 1);

61160 
cimg_¢´štf
(
f’am”ec
,f’am”ec.
_width
,"%s.»c",
body
.
_d©a
);

61162 ià(!
	g¡d
::
¡rcmp
(
ext
,"PAR")) {

61163 
	g¡d
::
¡ºıy
(
f’am•¬
,
f’ame
,f’am•¬.
_width
 - 1);

61164 
cimg_¢´štf
(
f’am”ec
,f’am”ec.
_width
,"%s.REC",
body
.
_d©a
);

61166 ià(!
	g¡d
::
¡rcmp
(
ext
,"rec")) {

61167 
	g¡d
::
¡ºıy
(
f’am”ec
,
f’ame
,f’am”ec.
_width
 - 1);

61168 
cimg_¢´štf
(
f’am•¬
,f’am•¬.
_width
,"%s.·r",
body
.
_d©a
);

61170 ià(!
	g¡d
::
¡rcmp
(
ext
,"REC")) {

61171 
	g¡d
::
¡ºıy
(
f’am”ec
,
f’ame
,f’am”ec.
_width
 - 1);

61172 
cimg_¢´štf
(
f’am•¬
,f’am•¬.
_width
,"%s.PAR",
body
.
_d©a
);

61174 
	g¡d
::
FILE
 *
fe
 = 
cimg
::
fİ’
(
f’am•¬
,"r");

61177 
	gCImgLi¡
<
	gæßtT
> 
	g¡_¦iûs
;

61178 
	gCImgLi¡
<
	guštT
> 
	g¡_glob®
;

61179 
	gCImg
<
	gch¬T
> 
lše
(256); *
	glše
 = 0;

61180 
	g”r
;

61181 dØ{ 
	g”r
 = 
¡d
::
fsÿnf
(
fe
,"%255[^\n]%*c",
lše
.
_d©a
); } ”r!=
EOF
 && (*line=='#' || *line=='.'));

61183 
	g¢
,
	gsize_x
,
	gsize_y
,
	gpixsize
;

61184 
	grs
,
	gri
,
	gss
;

61185 
	g”r
 = 
¡d
::
fsÿnf
(
fe
,"%u%*u%*u%*u%*u%*u%*u%u%*u%u%u%g%g%g%*[^\n]",&
¢
,&
pixsize
,&
size_x
,&
size_y
,&
ri
,&
rs
,&
ss
);

61186 ià(
	g”r
==7) {

61187 
CImg
<
æßtT
>::
veùÜ
(()
¢
,()
pixsize
,()
size_x
,()
size_y
,
ri
,
rs
,
ss
,0).
move_to
(
¡_¦iûs
);

61188 
	gi
; ˜ğ0; i<
	g¡_glob®
.
	g_width
 && 
	g¢
<=
¡_glob®
[
i
][2]; ++i) {}

61189 ià(
	gi
==
¡_glob®
.
_width
è
CImg
<
uštT
>::
veùÜ
(
size_x
,
size_y
,
¢
).
move_to
(st_global);

61191 
	gCImg
<
	guštT
> &
	gvec
 = 
¡_glob®
[
i
];

61192 ià(
	gsize_x
>
	gvec
[0]èvec[0] = 
size_x
;

61193 ià(
	gsize_y
>
	gvec
[1]èvec[1] = 
size_y
;

61194 
	gvec
[2] = 
¢
;

61196 
	g¡_¦iûs
[
¡_¦iûs
.
_width
 - 1][7] = ()
i
;

61198 } 
	g”r
==7);

61201 
	g¡d
::
FILE
 *
fe2
 = 
cimg
::
fİ’
(
f’am”ec
,"rb");

61202 
cimgli¡_fÜ
(
¡_glob®
,
l
) {

61203 cÚ¡ 
	gCImg
<
	guštT
>& 
	gvec
 = 
¡_glob®
[
l
];

61204 
	gCImg
<
	gT
>(
	gvec
[0],vec[1],vec[2]).
move_to
(*
this
);

61207 
cimgli¡_fÜ
(
¡_¦iûs
,
l
) {

61208 cÚ¡ 
	gCImg
<
	gæßtT
>& 
	gvec
 = 
¡_¦iûs
[
l
];

61210 
	g¢
 = ()
vec
[0] - 1,

61211 
	gpixsize
 = ()
vec
[1],

61212 
	gsize_x
 = ()
vec
[2],

61213 
	gsize_y
 = ()
vec
[3],

61214 
	gimn
 = ()
vec
[7];

61215 cÚ¡ 
	gri
 = 
vec
[4], 
	grs
 = vec[5], 
	gss
 = vec[6];

61216 
	gpixsize
) {

61218 
CImg
<
uch¬T
> 
buf
(
size_x
,
size_y
);

61219 
	gcimg
::
ä—d
(
buf
.
_d©a
,
size_x
*
size_y
,
fe2
);

61220 ià(
	gcimg
::
’dŸÂess
()è
cimg
::
šv”t_’dŸÂess
(
buf
.
_d©a
,
size_x
*
size_y
);

61221 
	gCImg
<
	gT
>& 
	gimg
 = (*
this
)[
imn
];

61222 
cimg_fÜXY
(
img
,
x
,
y
èimg(x,y,
¢
èğ(
T
)(Ğ
buf
(x,y)*
	grs
 + 
	gri
 )/(
rs
*
	gss
));

61225 
CImg
<
ushÜtT
> 
buf
(
size_x
,
size_y
);

61226 
	gcimg
::
ä—d
(
buf
.
_d©a
,
size_x
*
size_y
,
fe2
);

61227 ià(
	gcimg
::
’dŸÂess
()è
cimg
::
šv”t_’dŸÂess
(
buf
.
_d©a
,
size_x
*
size_y
);

61228 
	gCImg
<
	gT
>& 
	gimg
 = (*
this
)[
imn
];

61229 
cimg_fÜXY
(
img
,
x
,
y
èimg(x,y,
¢
èğ(
T
)(Ğ
buf
(x,y)*
	grs
 + 
	gri
 )/(
rs
*
	gss
));

61232 
CImg
<
uštT
> 
buf
(
size_x
,
size_y
);

61233 
	gcimg
::
ä—d
(
buf
.
_d©a
,
size_x
*
size_y
,
fe2
);

61234 ià(
	gcimg
::
’dŸÂess
()è
cimg
::
šv”t_’dŸÂess
(
buf
.
_d©a
,
size_x
*
size_y
);

61235 
	gCImg
<
	gT
>& 
	gimg
 = (*
this
)[
imn
];

61236 
cimg_fÜXY
(
img
,
x
,
y
èimg(x,y,
¢
èğ(
T
)(Ğ
buf
(x,y)*
	grs
 + 
	gri
 )/(
rs
*
	gss
));

61239 
cimg
::
fşo£
(
fe
);

61240 
	gcimg
::
fşo£
(
fe2
);

61241 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


61243 
cimgli¡_š¡ªû
,

61244 
pixsize
,
f’ame
);

61247 
	gcimg
::
fşo£
(
fe
);

61248 
	gcimg
::
fşo£
(
fe2
);

61249 ià(!
	g_width
)

61250 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


61252 
cimgli¡_š¡ªû
,

61253 
f’ame
);

61254  *
	gthis
;

61258 
	gCImgLi¡
<
	gT
> 
g‘_lßd_·¼ec
(cÚ¡ *cÚ¡ 
f’ame
) {

61259  
	gCImgLi¡
<
	gT
>().
lßd_·¼ec
(
f’ame
);

61273 
	gCImgLi¡
<
	gT
>& 
lßd_yuv
(cÚ¡ *cÚ¡ 
f’ame
,

61274 cÚ¡ 
size_x
, cÚ¡ 
size_y
,

61275 cÚ¡ 
chroma_sub§m¶šg
=444,

61276 cÚ¡ 
fœ¡_äame
=0, cÚ¡ 
Ï¡_äame
=~0U,

61277 cÚ¡ 
¡•_äame
=1, cÚ¡ 
boŞ
 
yuv2rgb
=
Œue
) {

61278  
_lßd_yuv
(0,
f’ame
,
size_x
,
size_y
,
chroma_sub§m¶šg
,

61279 
fœ¡_äame
,
Ï¡_äame
,
¡•_äame
,
yuv2rgb
);

61283 
	gCImgLi¡
<
	gT
> 
g‘_lßd_yuv
(cÚ¡ *cÚ¡ 
f’ame
,

61284 cÚ¡ 
size_x
, cÚ¡ 
size_y
=1,

61285 cÚ¡ 
chroma_sub§m¶šg
=444,

61286 cÚ¡ 
fœ¡_äame
=0, cÚ¡ 
Ï¡_äame
=~0U,

61287 cÚ¡ 
¡•_äame
=1, cÚ¡ 
boŞ
 
yuv2rgb
=
Œue
) {

61288  
CImgLi¡
<
T
>().
lßd_yuv
(
f’ame
,
size_x
,
size_y
,
chroma_sub§m¶šg
,

61289 
fœ¡_äame
,
Ï¡_äame
,
¡•_äame
,
yuv2rgb
);

61293 
	gCImgLi¡
<
	gT
>& 
lßd_yuv
(
¡d
::
FILE
 *cÚ¡ 
fe
,

61294 cÚ¡ 
size_x
, cÚ¡ 
size_y
,

61295 cÚ¡ 
chroma_sub§m¶šg
=444,

61296 cÚ¡ 
fœ¡_äame
=0, cÚ¡ 
Ï¡_äame
=~0U,

61297 cÚ¡ 
¡•_äame
=1, cÚ¡ 
boŞ
 
yuv2rgb
=
Œue
) {

61298  
_lßd_yuv
(
fe
,0,
size_x
,
size_y
,
chroma_sub§m¶šg
,

61299 
fœ¡_äame
,
Ï¡_äame
,
¡•_äame
,
yuv2rgb
);

61303 
	gCImgLi¡
<
	gT
> 
g‘_lßd_yuv
(
¡d
::
FILE
 *cÚ¡ 
fe
,

61304 cÚ¡ 
size_x
, cÚ¡ 
size_y
=1,

61305 cÚ¡ 
chroma_sub§m¶šg
=444,

61306 cÚ¡ 
fœ¡_äame
=0, cÚ¡ 
Ï¡_äame
=~0U,

61307 cÚ¡ 
¡•_äame
=1, cÚ¡ 
boŞ
 
yuv2rgb
=
Œue
) {

61308  
CImgLi¡
<
T
>().
lßd_yuv
(
fe
,
size_x
,
size_y
,
chroma_sub§m¶šg
,

61309 
fœ¡_äame
,
Ï¡_äame
,
¡•_äame
,
yuv2rgb
);

61312 
	gCImgLi¡
<
	gT
>& 
_lßd_yuv
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
,

61313 cÚ¡ 
size_x
, cÚ¡ 
size_y
,

61314 cÚ¡ 
chroma_sub§m¶šg
,

61315 cÚ¡ 
fœ¡_äame
, cÚ¡ 
Ï¡_äame
,

61316 cÚ¡ 
¡•_äame
, cÚ¡ 
boŞ
 
yuv2rgb
) {

61317 ià(!
	gf’ame
 && !
	gfe
)

61318 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


61320 
cimgli¡_š¡ªû
);

61321 ià(
	gchroma_sub§m¶šg
!=420 && 
chroma_sub§m¶šg
!=422 && chroma_subsampling!=444)

61322 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


61324 
cimgli¡_š¡ªû
,

61325 
chroma_sub§m¶šg
,
f’ame
?filename:"(FILE*)");

61327 
	gcfx
 = 
chroma_sub§m¶šg
==420 || chroma_subsampling==422?2:1,

61328 
	gcfy
 = 
chroma_sub§m¶šg
==420?2:1,

61329 
	gnfœ¡_äame
 = 
fœ¡_äame
<
Ï¡_äame
?first_frame:last_frame,

61330 
	gÆa¡_äame
 = 
fœ¡_äame
<
Ï¡_äame
?last_frame:first_frame,

61331 
	gn¡•_äame
 = 
¡•_äame
?step_frame:1;

61333 ià(!
	gsize_x
 || !
	gsize_y
 || size_x%
	gcfx
 || size_y%
	gcfy
)

61334 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


61336 
cimgli¡_š¡ªû
,

61337 
size_x
,
size_y
,
f’ame
?filename:"(FILE*)");

61339 
	gCImg
<
	guch¬T
> 
YUV
(
size_x
,
size_y
,1,3), 
UV
(size_x/
cfx
,size_y/
cfy
,1,2);

61340 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"rb");

61341 
boŞ
 
	g¡İ_æag
 = 
çl£
;

61342 
	g”r
;

61343 ià(
	gnfœ¡_äame
) {

61344 
	g”r
 = 
cimg
::
f£ek
(
nfe
,(
ušt64T
)
nfœ¡_äame
*(
YUV
.
_width
*YUV.
_height
 + 2*
UV
._width*UV._height),
SEEK_CUR
);

61345 ià(
	g”r
) {

61346 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

61347 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


61349 
cimgli¡_š¡ªû
,

61350 
f’ame
?f’ame:"(FILE*)",
nfœ¡_äame
);

61353 
	gäame
;

61354 
	gäame
 = 
nfœ¡_äame
; !
	g¡İ_æag
 && f¿me<=
Æa¡_äame
; f¿me+=
n¡•_äame
) {

61355 
YUV
.
g‘_sh¬ed_chªÃl
(0).
fl
(0);

61357 
	g”r
 = ()
¡d
::
ä—d
((*)(
YUV
.
_d©a
),1,(
size_t
)YUV.
_width
*YUV.
_height
,
nfe
);

61358 ià(
	g”r
!=()(
YUV
.
_width
*YUV.
_height
)) {

61359 
¡İ_æag
 = 
Œue
;

61360 ià(
	g”r
>0)

61361 
	gcimg
::
w¬n
(
_cimgli¡_š¡ªû


61364 
cimgli¡_š¡ªû
,

61365 
f’ame
?f’ame:"(FILE*)",
size_x
,
size_y
);

61367 
	gUV
.
fl
(0);

61369 
	g”r
 = ()
¡d
::
ä—d
((*)(
UV
.
_d©a
),1,(
size_t
)UV.
size
(),
nfe
);

61370 ià(
	g”r
!=()(
UV
.
size
())) {

61371 
¡İ_æag
 = 
Œue
;

61372 ià(
	g”r
>0)

61373 
	gcimg
::
w¬n
(
_cimgli¡_š¡ªû


61376 
cimgli¡_š¡ªû
,

61377 
f’ame
?f’ame:"(FILE*)",
size_x
,
size_y
);

61379 cÚ¡ 
uch¬T
 *
	g±rs1
 = 
UV
.
_d©a
, *
	g±rs2
 = UV.
d©a
(0,0,0,1);

61380 
uch¬T
 *
	g±rd1
 = 
YUV
.
d©a
(0,0,0,1), *
	g±rd2
 = YUV.data(0,0,0,2);

61381 cÚ¡ 
	gwd
 = 
YUV
.
_width
;

61382 
	gchroma_sub§m¶šg
) {

61384 
cimg_fÜY
(
UV
,
y
) {

61385 
cimg_fÜX
(
UV
,
x
) {

61386 cÚ¡ 
uch¬T
 
	gU
 = *(
±rs1
++), 
	gV
 = *(
±rs2
++);

61387 
	g±rd1
[
wd
] = 
U
; *(ptrd1)++ = U;

61388 
	g±rd1
[
wd
] = 
U
; *(ptrd1)++ = U;

61389 
	g±rd2
[
wd
] = 
V
; *(ptrd2)++ = V;

61390 
	g±rd2
[
wd
] = 
V
; *(ptrd2)++ = V;

61392 
	g±rd1
+=
wd
; 
	g±rd2
+=wd;

61396 
cimg_fÜXY
(
UV
,
x
,
y
) {

61397 cÚ¡ 
uch¬T
 
	gU
 = *(
±rs1
++), 
	gV
 = *(
±rs2
++);

61398 *(
	g±rd1
++èğ
U
; *(ptrd1++) = U;

61399 *(
	g±rd2
++èğ
V
; *(ptrd2++) = V;

61403 
YUV
.
d¿w_image
(0,0,0,1,
UV
);

61405 ià(
	gyuv2rgb
è
	gYUV
.
YCbC¹oRGB
();

61406 
š£¹
(
YUV
);

61407 ià(
	gn¡•_äame
>1è
	gcimg
::
f£ek
(
nfe
,(
ušt64T
)(
n¡•_äame
 - 1)*(
size_x
*
size_y
 + size_x*size_y/2),
SEEK_CUR
);

61411 ià(
is_em±y
())

61412 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


61414 
cimgli¡_š¡ªû
,

61415 
f’ame
?filename:"(FILE*)");

61416 ià(
	g¡İ_æag
 && 
	gÆa¡_äame
!=~0U && 
äame
!=
Æa¡_äame
)

61417 
cimg
::
w¬n
(
_cimgli¡_š¡ªû


61419 
cimgli¡_š¡ªû
,

61420 
Æa¡_äame
,
äame
 - 1,
f’ame
?filename:"(FILE*)");

61422 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

61423  *
	gthis
;

61434 
	gCImgLi¡
<
	gT
>& 
lßd_video
(cÚ¡ *cÚ¡ 
f’ame
,

61435 cÚ¡ 
fœ¡_äame
=0, cÚ¡ 
Ï¡_äame
=~0U,

61436 cÚ¡ 
¡•_äame
=1) {

61437 #iâdeà
cimg_u£_İ’cv


61438 ià(
fœ¡_äame
 || 
Ï¡_äame
!=~0U || 
¡•_äame
>1)

61439 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


61443 
cimgli¡_š¡ªû
,
f’ame
);

61444  
lßd_ffm³g_ex‹º®
(
f’ame
);

61446 
	gcv
::
VideoC­tu»
 *
ÿ±u»s
[32] = { 0 };

61447 
	gCImgLi¡
<
	gch¬T
> 
f’ames
(32);

61448 
	gCImg
<
	guštT
> 
pos™iÚs
(32,1,1,1,0);

61449 
	gÏ¡_u£d_šdex
 = -1;

61452 
	gcimg
::
mu‹x
(9);

61453 
	gšdex
 = -1;

61454 ià(
	gf’ame
) {

61455 ià(
	gÏ¡_u£d_šdex
>=0 && !
¡d
::
¡rcmp
(
f’ame
,
f’ames
[
Ï¡_u£d_šdex
])) {

61456 
	gšdex
 = 
Ï¡_u£d_šdex
;

61457 } 
cimgli¡_fÜ
(
f’ames
,
l
èià(
	gf’ames
[l] && !
	g¡d
::
¡rcmp
(
f’ame
,filenames[l])) {

61458 
	gšdex
 = 
l
; ;

61460 } 
	gšdex
 = 
Ï¡_u£d_šdex
;

61461 
	gcimg
::
mu‹x
(9,0);

61464 ià(!
	g¡•_äame
 || (
	gšdex
>=0 && 
pos™iÚs
[
šdex
]>
fœ¡_äame
)) {

61465 ià(
šdex
>=0) {

61466 
cimg
::
mu‹x
(9);

61467 
	gÿ±u»s
[
šdex
]->
»Ëa£
();

61468 
d–‘e
 
	gÿ±u»s
[
šdex
];

61469 
	gÿ±u»s
[
šdex
] = 0;

61470 
	gpos™iÚs
[
šdex
] = 0;

61471 
	gf’ames
[
šdex
].
assign
();

61472 ià(
	gÏ¡_u£d_šdex
==
šdex
è
Ï¡_u£d_šdex
 = -1;

61473 
	gšdex
 = -1;

61474 
	gcimg
::
mu‹x
(9,0);

61476 ià(
	gf’ame
)

61477 
	gcimg
::
w¬n
(
_cimgli¡_š¡ªû


61479 
cimgli¡_š¡ªû
,
f’ame
);

61481 
	gcimg
::
w¬n
(
_cimgli¡_š¡ªû


61483 
cimgli¡_š¡ªû
,
f’ame
);

61484 ià(!
	g¡•_äame
è *
	gthis
;

61488 ià(
	gšdex
<0) {

61489 ià(!
	gf’ame
)

61490 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


61493 
cimgli¡_š¡ªû
);

61494 { 
	gcimg
::
mu‹x
(9); 
cimgli¡_fÜ
(
f’ames
,
l
èià(!
	gf’ames
[l]è{ 
	gšdex
 =†; ; } cimg::mutex(9,0); }

61495 ià(
	gšdex
<0)

61496 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


61499 
cimgli¡_š¡ªû
,
f’ame
);

61500 
	gcimg
::
mu‹x
(9);

61501 
	gÿ±u»s
[
šdex
] = 
Ãw
 
cv
::
VideoC­tu»
(
f’ame
);

61502 
	gpos™iÚs
[
šdex
] = 0;

61503 ià(!
	gÿ±u»s
[
šdex
]->
isO³Ãd
()) {

61504 
d–‘e
 
	gÿ±u»s
[
šdex
];

61505 
	gÿ±u»s
[
šdex
] = 0;

61506 
	gcimg
::
mu‹x
(9,0);

61507 
	gcimg
::
fşo£
(
cimg
::
fİ’
(
f’ame
,"rb"));

61508 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


61510 
cimgli¡_š¡ªû
,
f’ame
);

61512 
	gCImg
<
	gch¬T
>::
¡ršg
(
f’ame
).
move_to
(
f’ames
[
šdex
]);

61513 
	gcimg
::
mu‹x
(9,0);

61516 
	gcimg
::
mu‹x
(9);

61517 cÚ¡ 
	gnb_äames
 = ()
¡d
::
max
(0.,
ÿ±u»s
[
šdex
]->
g‘
(
_cimg_ÿp_´İ_äame_couÁ
));

61518 
	gcimg
::
mu‹x
(9,0);

61519 
assign
();

61522 
boŞ
 
	ggo_Ú
 = 
Œue
;

61523 &
	gpos
 = 
pos™iÚs
[
šdex
];

61524 
	gpos
<
	gfœ¡_äame
) {

61525 
	gcimg
::
mu‹x
(9);

61526 ià(!
	gÿ±u»s
[
šdex
]->
g¿b
()è{ 
	gcimg
::
mu‹x
(9,0); 
	ggo_Ú
 = 
çl£
; ; }

61527 
	gcimg
::
mu‹x
(9,0);

61528 ++
	gpos
;

61532 cÚ¡ 
	g_Ï¡_äame
 = 
¡d
::
mš
(
nb_äames
?nb_äame - 1:~0U,
Ï¡_äame
);

61533 
	ggo_Ú
 && 
	gpos
<=
_Ï¡_äame
) {

61534 
cv
::
M©
 
cvimg
;

61535 
	gcimg
::
mu‹x
(9);

61536 ià(
	gÿ±u»s
[
šdex
]->
»ad
(
cvimg
)è{ 
	gCImg
<
	gT
>::
_cvm©2cimg
(cvimg).
move_to
(*
this
); ++
	gpos
; }

61537 
	ggo_Ú
 = 
çl£
;

61538 
	gcimg
::
mu‹x
(9,0);

61539 ià(
	ggo_Ú
)

61540 
	gi
 = 1; 
	ggo_Ú
 && i<
	g¡•_äame
 && 
	gpos
<=
_Ï¡_äame
; ++i, ++pos) {

61541 
	gcimg
::
mu‹x
(9);

61542 ià(!
	gÿ±u»s
[
šdex
]->
g¿b
()è
	ggo_Ú
 = 
çl£
;

61543 
	gcimg
::
mu‹x
(9,0);

61547 ià(!
	ggo_Ú
 || (
	gnb_äames
 && 
	gpos
>=
nb_äames
)) {

61548 
cimg
::
mu‹x
(9);

61549 
	gÿ±u»s
[
šdex
]->
»Ëa£
();

61550 
d–‘e
 
	gÿ±u»s
[
šdex
];

61551 
	gÿ±u»s
[
šdex
] = 0;

61552 
	gf’ames
[
šdex
].
assign
();

61553 
	gpos™iÚs
[
šdex
] = 0;

61554 
	gšdex
 = -1;

61555 
	gcimg
::
mu‹x
(9,0);

61558 
	gcimg
::
mu‹x
(9);

61559 
	gÏ¡_u£d_šdex
 = 
šdex
;

61560 
	gcimg
::
mu‹x
(9,0);

61562 ià(
is_em±y
())

61563 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


61565 
cimgli¡_š¡ªû
,
f’ame
,
fœ¡_äame
);

61566  *
	gthis
;

61571 
	gCImgLi¡
<
	gT
> 
g‘_lßd_video
(cÚ¡ *cÚ¡ 
f’ame
,

61572 cÚ¡ 
fœ¡_äame
=0, cÚ¡ 
Ï¡_äame
=~0U,

61573 cÚ¡ 
¡•_äame
=1) {

61574  
CImgLi¡
<
T
>().
lßd_video
(
f’ame
,
fœ¡_äame
,
Ï¡_äame
,
¡•_äame
);

61581 
	gCImgLi¡
<
	gT
>& 
lßd_ffm³g_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
) {

61582 ià(!
	gf’ame
)

61583 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


61585 
cimgli¡_š¡ªû
);

61586 
	gcimg
::
fşo£
(
cimg
::
fİ’
(
f’ame
,"rb"));

61587 
	gCImg
<
	gch¬T
> 
commªd
(1024), 
f’ame_tmp
(256), 
f’ame_tmp2
(256);

61588 
	g¡d
::
FILE
 *
fe
 = 0;

61590 
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s%c%s",

61591 
cimg
::
‹mpÜ¬y_·th
(),
cimg_fe_£·¿tÜ
,cimg::
f’am”ªd
());

61592 
cimg_¢´štf
(
f’ame_tmp2
,f’ame_tmp2.
_width
,"%s_000001.µm",
f’ame_tmp
.
_d©a
);

61593 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame_tmp2
,"rb"))!=0ècimg::
fşo£
(
fe
);

61594 } 
	gfe
);

61595 
cimg_¢´štf
(
f’ame_tmp2
,f’ame_tmp2.
_width
,"%s_%%6d.µm",
f’ame_tmp
.
_d©a
);

61596 
cimg_¢´štf
(
commªd
,commªd.
_width
,"\"%s\" -i \"%s\" \"%s\"",

61597 
cimg
::
ffm³g_·th
(),

61598 
CImg
<
ch¬T
>::
¡ršg
(
f’ame
).
_sy¡em_¡»sÿ³
().
d©a
(),

61599 
CImg
<
ch¬T
>::
¡ršg
(
f’ame_tmp2
).
_sy¡em_¡»sÿ³
().
d©a
());

61600 
	gcimg
::
sy¡em
(
commªd
, 
cimg
::
ffm³g_·th
());

61601 cÚ¡ 
	gomode
 = 
cimg
::
exû±iÚ_mode
();

61602 
	gcimg
::
exû±iÚ_mode
(0);

61603 
assign
();

61604 
	gi
 = 1;

61605 
boŞ
 
	g¡İ_æag
 = 
çl£
; !¡İ_æag; ++
	gi
) {

61606 
cimg_¢´štf
(
f’ame_tmp2
,f’ame_tmp2.
_width
,"%s_%.6u.µm",
f’ame_tmp
.
_d©a
,
i
);

61607 
	gCImg
<
	gT
> 
	gimg
;

61608 
	gŒy
 { 
	gimg
.
lßd_²m
(
f’ame_tmp2
); }

61609 
ÿtch
 (
CImgExû±iÚ
&è{ 
	g¡İ_æag
 = 
Œue
; }

61610 ià(
	gimg
è{ img.
move_to
(*
this
); 
	g¡d
::
»move
(
f’ame_tmp2
); }

61612 
	gcimg
::
exû±iÚ_mode
(
omode
);

61613 ià(
is_em±y
())

61614 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


61616 
cimgli¡_š¡ªû
,

61617 
f’ame
);

61618  *
	gthis
;

61622 
	gCImgLi¡
<
	gT
> 
g‘_lßd_ffm³g_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
) {

61623  
	gCImgLi¡
<
	gT
>().
lßd_ffm³g_ex‹º®
(
f’ame
);

61630 
	gCImgLi¡
<
	gT
>& 
lßd_gif_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
) {

61631 ià(!
	gf’ame
)

61632 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


61634 
cimgli¡_š¡ªû
);

61635 
	gcimg
::
fşo£
(
cimg
::
fİ’
(
f’ame
,"rb"));

61636 ià(!
_lßd_gif_ex‹º®
(
f’ame
,
çl£
))

61637 ià(!
_lßd_gif_ex‹º®
(
f’ame
,
Œue
))

61638 
	gŒy
 { 
assign
(
CImg
<
T
>().
lßd_Ùh”
(
f’ame
)); } 
ÿtch
 (
CImgExû±iÚ
&) {‡ssign(); }

61639 ià(
is_em±y
())

61640 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


61642 
cimgli¡_š¡ªû
,
f’ame
);

61643  *
	gthis
;

61646 
	gCImgLi¡
<
	gT
>& 
_lßd_gif_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
boŞ
 
u£_g¿phicsmagick
=
çl£
) {

61647 
CImg
<
ch¬T
> 
commªd
(1024), 
f’ame_tmp
(256), 
f’ame_tmp2
(256);

61648 
	g¡d
::
FILE
 *
fe
 = 0;

61650 
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s%c%s",

61651 
cimg
::
‹mpÜ¬y_·th
(),
cimg_fe_£·¿tÜ
,cimg::
f’am”ªd
());

61652 ià(
	gu£_g¿phicsmagick
è
cimg_¢´štf
(
f’ame_tmp2
,f’ame_tmp2.
_width
,"%s.²g.0",
f’ame_tmp
.
_d©a
);

61653 
cimg_¢´štf
(
f’ame_tmp2
,f’ame_tmp2.
_width
,"%s-0.²g",
f’ame_tmp
.
_d©a
);

61654 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame_tmp2
,"rb"))!=0ècimg::
fşo£
(
fe
);

61655 } 
	gfe
);

61656 ià(
	gu£_g¿phicsmagick
è
cimg_¢´štf
(
commªd
,commªd.
_width
,"%s convert \"%s\" \"%s.png\"",

61657 
cimg
::
g¿phicsmagick_·th
(),

61658 
CImg
<
ch¬T
>::
¡ršg
(
f’ame
).
_sy¡em_¡»sÿ³
().
d©a
(),

61659 
CImg
<
ch¬T
>::
¡ršg
(
f’ame_tmp
).
_sy¡em_¡»sÿ³
().
d©a
());

61660 
cimg_¢´štf
(
commªd
,commªd.
_width
,"\"%s\" -coalesce \"%s\" \"%s.png\"",

61661 
cimg
::
imagemagick_·th
(),

61662 
CImg
<
ch¬T
>::
¡ršg
(
f’ame
).
_sy¡em_¡»sÿ³
().
d©a
(),

61663 
CImg
<
ch¬T
>::
¡ršg
(
f’ame_tmp
).
_sy¡em_¡»sÿ³
().
d©a
());

61664 
	gcimg
::
sy¡em
(
commªd
, 
cimg
::
imagemagick_·th
());

61665 cÚ¡ 
	gomode
 = 
cimg
::
exû±iÚ_mode
();

61666 
	gcimg
::
exû±iÚ_mode
(0);

61667 
assign
();

61670 
cimg_¢´štf
(
f’ame_tmp2
,f’ame_tmp2.
_width
,"%s.²g",
f’ame_tmp
.
_d©a
);

61671 
	gCImg
<
	gT
> 
	gimg
;

61672 
	gŒy
 { 
	gimg
.
lßd_²g
(
f’ame_tmp2
); }

61673 
ÿtch
 (
CImgExû±iÚ
&) { }

61674 ià(
	gimg
è{ img.
move_to
(*
this
); 
	g¡d
::
»move
(
f’ame_tmp2
); }

61676 
	gi
 = 0;

61677 
boŞ
 
	g¡İ_æag
 = 
çl£
; !¡İ_æag; ++
	gi
) {

61678 ià(
	gu£_g¿phicsmagick
è
cimg_¢´štf
(
f’ame_tmp2
,f’ame_tmp2.
_width
,"%s.²g.%u",
f’ame_tmp
.
_d©a
,
i
);

61679 
cimg_¢´štf
(
f’ame_tmp2
,f’ame_tmp2.
_width
,"%s-%u.²g",
f’ame_tmp
.
_d©a
,
i
);

61680 
	gŒy
 { 
	gimg
.
lßd_²g
(
f’ame_tmp2
); }

61681 
ÿtch
 (
CImgExû±iÚ
&è{ 
	g¡İ_æag
 = 
Œue
; }

61682 ià(
	gimg
è{ img.
move_to
(*
this
); 
	g¡d
::
»move
(
f’ame_tmp2
); }

61685 
	gcimg
::
exû±iÚ_mode
(
omode
);

61686  *
	gthis
;

61690 
	gCImgLi¡
<
	gT
> 
g‘_lßd_gif_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
) {

61691  
	gCImgLi¡
<
	gT
>().
lßd_gif_ex‹º®
(
f’ame
);

61698 
	gCImgLi¡
<
	gT
>& 
lßd_gz_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
) {

61699 ià(!
	gf’ame
)

61700 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


61702 
cimgli¡_š¡ªû
);

61703 
	gcimg
::
fşo£
(
cimg
::
fİ’
(
f’ame
,"rb"));

61704 
	gCImg
<
	gch¬T
> 
commªd
(1024), 
f’ame_tmp
(256), 
body
(256);

61706 *
	gext
 = 
cimg
::
¥l™_f’ame
(
f’ame
,
body
),

61707 *
	gext2
 = 
cimg
::
¥l™_f’ame
(
body
,0);

61708 
	g¡d
::
FILE
 *
fe
 = 0;

61710 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"gz")) {

61711 ià(*
	gext2
è
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s%c%s.%s",

61712 
cimg
::
‹mpÜ¬y_·th
(),
cimg_fe_£·¿tÜ
,cimg::
f’am”ªd
(),
ext2
);

61713 
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s%c%s",

61714 
cimg
::
‹mpÜ¬y_·th
(),
cimg_fe_£·¿tÜ
,cimg::
f’am”ªd
());

61716 ià(*
	gext
è
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s%c%s.%s",

61717 
cimg
::
‹mpÜ¬y_·th
(),
cimg_fe_£·¿tÜ
,cimg::
f’am”ªd
(),
ext
);

61718 
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s%c%s",

61719 
cimg
::
‹mpÜ¬y_·th
(),
cimg_fe_£·¿tÜ
,cimg::
f’am”ªd
());

61721 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame_tmp
,"rb"))!=0ècimg::
fşo£
(
fe
);

61722 } 
	gfe
);

61723 
cimg_¢´štf
(
commªd
,commªd.
_width
,"\"%s\" -c \"%s\" > \"%s\"",

61724 
cimg
::
gunz_·th
(),

61725 
CImg
<
ch¬T
>::
¡ršg
(
f’ame
).
_sy¡em_¡»sÿ³
().
d©a
(),

61726 
CImg
<
ch¬T
>::
¡ršg
(
f’ame_tmp
).
_sy¡em_¡»sÿ³
().
d©a
());

61727 
	gcimg
::
sy¡em
(
commªd
, 
cimg
::
gunz_·th
());

61728 ià(!(
	gfe
=
cimg
::
¡d_fİ’
(
f’ame_tmp
,"rb"))) {

61729 
	gcimg
::
fşo£
(
cimg
::
fİ’
(
f’ame
,"r"));

61730 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


61732 
cimgli¡_š¡ªû
,

61733 
f’ame
);

61735 } 
	gcimg
::
fşo£
(
fe
);

61736 
lßd
(
f’ame_tmp
);

61737 
	g¡d
::
»move
(
f’ame_tmp
);

61738  *
	gthis
;

61742 
	gCImgLi¡
<
	gT
> 
g‘_lßd_gz_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
) {

61743  
	gCImgLi¡
<
	gT
>().
lßd_gz_ex‹º®
(
f’ame
);

61755 
	gCImgLi¡
<
	gT
>& 
lßd_tiff
(cÚ¡ *cÚ¡ 
f’ame
,

61756 cÚ¡ 
fœ¡_äame
=0, cÚ¡ 
Ï¡_äame
=~0U,

61757 cÚ¡ 
¡•_äame
=1,

61758 *cÚ¡ 
vox–_size
=0,

61759 
CImg
<
ch¬T
> *cÚ¡ 
desütiÚ
=0) {

61761 
nfœ¡_äame
 = 
fœ¡_äame
<
Ï¡_äame
?first_frame:last_frame,

61762 
	gn¡•_äame
 = 
¡•_äame
?step_frame:1;

61763 
	gÆa¡_äame
 = 
fœ¡_äame
<
Ï¡_äame
?last_frame:first_frame;

61764 #iâdeà
cimg_u£_tiff


61765 
	gcimg
::
unu£d
(
vox–_size
,
desütiÚ
);

61766 ià(
	gnfœ¡_äame
 || 
	gÆa¡_äame
!=~0U || 
n¡•_äame
!=1)

61767 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


61769 
cimgli¡_š¡ªû
,

61770 
f’ame
);

61772  
assign
(
CImg
<
T
>::
g‘_lßd_tiff
(
f’ame
));

61774 #ià
cimg_v”bos™y
<3

61775 
TIFFS‘W¬nšgHªdËr
(0);

61776 
TIFFS‘E¼ÜHªdËr
(0);

61778 
TIFF
 *
	gtif
 = 
TIFFO³n
(
f’ame
,"r");

61779 ià(
	gtif
) {

61780 
	gnb_images
 = 0;

61781 dØ++
	gnb_images
; 
TIFFR—dDœeùÜy
(
tif
));

61782 ià(
	gnfœ¡_äame
>=
nb_images
 || (
Æa¡_äame
!=~0U &&‚last_frame>=nb_images))

61783 
cimg
::
w¬n
(
_cimgli¡_š¡ªû


61786 
cimgli¡_š¡ªû
,

61787 
nfœ¡_äame
,
Æa¡_äame
,
n¡•_äame
,
f’ame
,
nb_images
);

61789 ià(
	gnfœ¡_äame
>=
nb_images
è 
assign
();

61790 ià(
	gÆa¡_äame
>=
nb_images
è
Æa¡_äame
 =‚b_images - 1;

61791 
assign
(1 + (
Æa¡_äame
 - 
nfœ¡_äame
)/
n¡•_äame
);

61792 
TIFFS‘DœeùÜy
(
tif
,0);

61793 
cimgli¡_fÜ
(*
this
,
l
è
	g_d©a
[l].
_lßd_tiff
(
tif
,
nfœ¡_äame
 +†*
n¡•_äame
,
vox–_size
,
desütiÚ
);

61794 
TIFFClo£
(
tif
);

61795 } 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


61797 
cimgli¡_š¡ªû
,

61798 
f’ame
);

61799  *
	gthis
;

61804 
	gCImgLi¡
<
	gT
> 
g‘_lßd_tiff
(cÚ¡ *cÚ¡ 
f’ame
,

61805 cÚ¡ 
fœ¡_äame
=0, cÚ¡ 
Ï¡_äame
=~0U,

61806 cÚ¡ 
¡•_äame
=1,

61807 *cÚ¡ 
vox–_size
=0,

61808 
CImg
<
ch¬T
> *cÚ¡ 
desütiÚ
=0) {

61809  
CImgLi¡
<
T
>().
lßd_tiff
(
f’ame
,
fœ¡_äame
,
Ï¡_äame
,
¡•_äame
,
vox–_size
,
desütiÚ
);

61824 cÚ¡ 
	gCImgLi¡
<
	gT
>& 
´št
(cÚ¡ *cÚ¡ 
t™Ë
=0, cÚ¡ 
boŞ
 
di¥Ïy_¡©s
=
Œue
) const {

61825 
msiz
 = 0;

61826 
cimgli¡_fÜ
(*
this
,
l
è
	gmsiz
+=
_d©a
[l].
size
();

61827 
	gmsiz
*=(
T
);

61828 cÚ¡ 
	gmdi¥
 = 
msiz
<8*1024?0U:msiz<8*1024*1024?1U:2U;

61829 
	gCImg
<
	gch¬T
> 
_t™Ë
(64);

61830 ià(!
	gt™Ë
è
cimg_¢´štf
(
_t™Ë
,_t™Ë.
_width
,"CImgLi¡<%s>",
pix–_ty³
());

61831 
	g¡d
::
årštf
(
cimg
::
ouut
(),"%s%s%s%s: %sthis%s = %p, %ssize%s = %u/%u [%u %s], %sdata%s = (CImg<%s>*)%p",

61832 
cimg
::
t_mag’
,cimg::
t_bŞd
,
t™Ë
?t™Ë:
_t™Ë
.
_d©a
,cimg::
t_nÜm®
,

61833 
cimg
::
t_bŞd
,cimg::
t_nÜm®
,(*)
this
,

61834 
cimg
::
t_bŞd
,cimg::
t_nÜm®
,
_width
,
_®loÿ‹d_width
,

61835 
mdi¥
==0?
msiz
:(mdisp==1?(msiz>>10):(msiz>>20)),

61836 
mdi¥
==0?"b":(mdisp==1?"Kio":"Mio"),

61837 
cimg
::
t_bŞd
,cimg::
t_nÜm®
,
pix–_ty³
(),(*)
begš
());

61838 ià(
	g_d©a
è
	g¡d
::
årštf
(
cimg
::
ouut
(),"..%p.\n",(*)((*)
’d
() - 1));

61839 
	g¡d
::
årštf
(
cimg
::
ouut
(),".\n");

61841 
	gtmp
[16] = { 0 };

61842 
cimgli¡_fÜ
(*
this
,
Î
) {

61843 
cimg_¢´štf
(
tmp
,Ñmp),"[%d]",
Î
);

61844 
	g¡d
::
årštf
(
cimg
::
ouut
()," ");

61845 
	g_d©a
[
Î
].
´št
(
tmp
,
di¥Ïy_¡©s
);

61846 ià(
	gÎ
==3 && 
width
()>8è{ 
Î
 = width(è- 5; 
	g¡d
::
årštf
(
cimg
::
ouut
()," ...\n"); }

61848 
	g¡d
::
fæush
(
cimg
::
ouut
());

61849  *
	gthis
;

61862 cÚ¡ 
	gCImgLi¡
<
	gT
>& 
di¥Ïy
(
CImgDi¥Ïy
 &
di¥
, cÚ¡ 
axis
='x', cÚ¡ 
®ign
=0) const {

61863 
di¥
.
di¥Ïy
(*
this
,
axis
,
®ign
);

61864  *
	gthis
;

61880 cÚ¡ 
	gCImgLi¡
<
	gT
>& 
di¥Ïy
(
CImgDi¥Ïy
 &
di¥
, cÚ¡ 
boŞ
 
di¥Ïy_šfo
,

61881 cÚ¡ 
axis
='x', cÚ¡ 
®ign
=0,

61882 *cÚ¡ 
XYZ
=0, cÚ¡ 
boŞ
 
ex™_Ú_ªykey
=
çl£
) const {

61883 
boŞ
 
is_ex™
 = 
çl£
;

61884  
_di¥Ïy
(
di¥
,0,0,
di¥Ïy_šfo
,
axis
,
®ign
,
XYZ
,
ex™_Ú_ªykey
,0,
Œue
,
is_ex™
);

61896 cÚ¡ 
	gCImgLi¡
<
	gT
>& 
di¥Ïy
(cÚ¡ *cÚ¡ 
t™Ë
=0, cÚ¡ 
boŞ
 
di¥Ïy_šfo
=
Œue
,

61897 cÚ¡ 
axis
='x', cÚ¡ 
®ign
=0,

61898 *cÚ¡ 
XYZ
=0, cÚ¡ 
boŞ
 
ex™_Ú_ªykey
=
çl£
) const {

61899 
CImgDi¥Ïy
 
di¥
;

61900 
boŞ
 
	gis_ex™
 = 
çl£
;

61901  
_di¥Ïy
(
di¥
,
t™Ë
,0,
di¥Ïy_šfo
,
axis
,
®ign
,
XYZ
,
ex™_Ú_ªykey
,0,
Œue
,
is_ex™
);

61904 cÚ¡ 
	gCImgLi¡
<
	gT
>& 
_di¥Ïy
(
CImgDi¥Ïy
 &
di¥
, cÚ¡ *cÚ¡ 
t™Ë
, cÚ¡ 
CImgLi¡
<
ch¬T
> *cÚ¡ 
t™Ës
,

61905 cÚ¡ 
boŞ
 
di¥Ïy_šfo
, cÚ¡ 
axis
, cÚ¡ 
®ign
, *cÚ¡ 
XYZ
,

61906 cÚ¡ 
boŞ
 
ex™_Ú_ªykey
, cÚ¡ 
Üig
, cÚ¡ boŞ 
is_fœ¡_ÿÎ
,

61907 
boŞ
 &
is_ex™
) const {

61908 ià(
is_em±y
())

61909 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimgli¡_š¡ªû


61911 
cimgli¡_š¡ªû
);

61912 ià(!
	gdi¥
) {

61913 ià(
	gaxis
=='x') {

61914 
sum_width
 = 0, 
	gmax_height
 = 0;

61915 
cimgli¡_fÜ
(*
this
,
l
) {

61916 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
_d©a
[
l
];

61918 
	gw
 = 
CImgDi¥Ïy
::
_f™sü“n
(
img
.
_width
,img.
_height
,img.
_d•th
,128,-85,
çl£
),

61919 
	gh
 = 
CImgDi¥Ïy
::
_f™sü“n
(
img
.
_width
,img.
_height
,img.
_d•th
,128,-85,
Œue
);

61920 
	gsum_width
+=
w
;

61921 ià(
	gh
>
	gmax_height
èmax_heighˆğ
h
;

61923 
	gdi¥
.
assign
(
cimg_f™sü“n
(
sum_width
,
max_height
,1),
t™Ë
?t™Ë:
t™Ës
?t™Ës->
__di¥Ïy
().
_d©a
:0,1);

61925 
	gmax_width
 = 0, 
	gsum_height
 = 0;

61926 
cimgli¡_fÜ
(*
this
,
l
) {

61927 cÚ¡ 
	gCImg
<
	gT
> &
	gimg
 = 
_d©a
[
l
];

61929 
	gw
 = 
CImgDi¥Ïy
::
_f™sü“n
(
img
.
_width
,img.
_height
,img.
_d•th
,128,-85,
çl£
),

61930 
	gh
 = 
CImgDi¥Ïy
::
_f™sü“n
(
img
.
_width
,img.
_height
,img.
_d•th
,128,-85,
Œue
);

61931 ià(
	gw
>
	gmax_width
èmax_width = 
w
;

61932 
	gsum_height
+=
h
;

61934 
	gdi¥
.
assign
(
cimg_f™sü“n
(
max_width
,
sum_height
,1),
t™Ë
?t™Ë:
t™Ës
?t™Ës->
__di¥Ïy
().
_d©a
:0,1);

61936 ià(!
	gt™Ë
 && !
	gt™Ës
è
	gdi¥
.
£t_t™Ë
("CImgLi¡<%s> (%u)",
pix–_ty³
(),
_width
);

61937 } ià(
	gt™Ë
è
	gdi¥
.
£t_t™Ë
("%s",
t™Ë
);

61938 ià(
	gt™Ës
è
	gdi¥
.
£t_t™Ë
("%s",
t™Ës
->
__di¥Ïy
().
_d©a
);

61939 cÚ¡ 
	gCImg
<> 
	gdt™Ë
 = 
CImg
<>::
¡ršg
(
di¥
.
t™Ë
());

61940 ià(
	gdi¥Ïy_šfo
è
´št
(
di¥
.
t™Ë
());

61941 
	gdi¥
.
show
().
æush
();

61943 ià(
	g_width
==1) {

61944 cÚ¡ 
dw
 = 
di¥
.
_width
, 
	gdh
 = di¥.
_height
;

61945 ià(!
	gis_fœ¡_ÿÎ
)

61946 
	gdi¥
.
»size
(
cimg_f™sü“n
(
_d©a
[0].
_width
,_d©a[0].
_height
,_d©a[0].
_d•th
),
çl£
);

61947 
	gdi¥
.
£t_t™Ë
("%s (%ux%ux%ux%u)",

61948 
dt™Ë
.
d©a
(),
_d©a
[0].
_width
,_d©a[0].
_height
,_d©a[0].
_d•th
,_d©a[0].
_¥eùrum
);

61949 
	g_d©a
[0].
_di¥Ïy
(
di¥
,0,
çl£
,
XYZ
,
ex™_Ú_ªykey
,!
is_fœ¡_ÿÎ
);

61950 ià(
	gdi¥
.
key
()è
	gis_ex™
 = 
Œue
;

61951 
	gdi¥
.
»size
(
cimg_f™sü“n
(
dw
,
dh
,1),
çl£
).
£t_t™Ë
("%s",
dt™Ë
.
d©a
());

61953 
boŞ
 
	gdi¥_»size
 = !
is_fœ¡_ÿÎ
;

61954 !
	gdi¥
.
is_şo£d
(è&& !
	gis_ex™
) {

61955 cÚ¡ 
	gCImg
<
	gštT
> 
	gs
 = 
_£Ëù
(
di¥
,0,
Œue
,
axis
,
®ign
,
ex™_Ú_ªykey
,
Üig
,
di¥_»size
,!
is_fœ¡_ÿÎ
,true);

61956 
	gdi¥_»size
 = 
Œue
;

61957 ià(
	gs
[0]<0 && !
	gdi¥
.
wh“l
()) {

61958 ià(
	gdi¥
.
bu‰Ú
()&2è{ di¥.
æush
(); ; }

61959 
	gis_ex™
 = 
Œue
;

61960 } ià(
	gdi¥
.
wh“l
()) {

61961 cÚ¡ 
	gwh“l
 = 
di¥
.
wh“l
();

61962 
	gdi¥
.
£t_wh“l
();

61963 ià(!
	gis_fœ¡_ÿÎ
 && 
	gwh“l
<0) ;

61964 ià(
	gwh“l
>0 && 
	g_width
>=4) {

61966 
d–
 = 
¡d
::
max
(1U,()
cimg
::
round
(0.3*
_width
)),

61967 
	gšd0
 = ()
¡d
::
max
(0,
s
[0] - ()
d–
),

61968 
	gšd1
 = ()
¡d
::
mš
(
width
(è- 1,
s
[0] + ()
d–
);

61969 ià((
	gšd0
!=0 || 
šd1
!=
_width
 - 1è&& ind1 - 
šd0
>=3) {

61970 cÚ¡ 
CImgLi¡
<
T
> 
subli¡
 = 
g‘_sh¬ed_images
(
šd0
,
šd1
);

61971 
	gCImgLi¡
<
	gch¬T
> 
	gt_subli¡
;

61972 ià(
	gt™Ës
è
	gt_subli¡
 = 
t™Ës
->
g‘_sh¬ed_images
(
šd0
,
šd1
);

61973 
	gsubli¡
.
_di¥Ïy
(
di¥
,0,
t™Ës
?&
t_subli¡
:0,
çl£
,
axis
,
®ign
,
XYZ
,
ex™_Ú_ªykey
,

61974 
Üig
 + 
šd0
,
çl£
,
is_ex™
);

61977 } ià(
	gs
[0]!=0 || 
s
[1]!=
width
() - 1) {

61978 cÚ¡ 
CImgLi¡
<
T
> 
subli¡
 = 
g‘_sh¬ed_images
(
s
[0],s[1]);

61979 
	gCImgLi¡
<
	gch¬T
> 
	gt_subli¡
;

61980 ià(
	gt™Ës
è
	gt_subli¡
 = 
t™Ës
->
g‘_sh¬ed_images
(
s
[0],s[1]);

61981 
	gsubli¡
.
_di¥Ïy
(
di¥
,0,
t™Ës
?&
t_subli¡
:0,
çl£
,
axis
,
®ign
,
XYZ
,
ex™_Ú_ªykey
,

61982 
Üig
 + 
s
[0],
çl£
,
is_ex™
);

61984 
	gdi¥
.
£t_t™Ë
("%s",
dt™Ë
.
d©a
());

61987  *
	gthis
;

61991 
	gCImg
<
	gch¬T
> 
__di¥Ïy
() const {

61992 
	gCImg
<
	gch¬T
> 
	g»s
, 
	g¡r
;

61993 
cimgli¡_fÜ
(*
this
,
l
) {

61994 
	gCImg
<
	gch¬T
>::
¡ršg
((*)
_d©a
[
l
]).
move_to
(
¡r
);

61995 ià(
	gl
!=
width
() - 1) {

61996 
¡r
.
»size
(¡r.
_width
 + 1,1,1,1,0);

61997 
	g¡r
[
¡r
.
_width
 - 2] = ',';

61998 
	g¡r
[
¡r
.
_width
 - 1] = ' ';

62000 
	g»s
.
­³nd
(
¡r
,'x');

62002 ià(!
	g»s
è 
	gCImg
<
	gch¬T
>(1,1,1,1,0).
move_to
(
»s
);

62003 
	gcimg
::
¡»Îsize
(
»s
,128,
çl£
);

62004 ià(
	g_width
>1) {

62005 cÚ¡ 
	gl
 = ()
¡d
::
¡¾’
(
»s
);

62006 ià(
	g»s
.
	g_width
<=
l
 + 16è
»s
.
»size
(l + 16,1,1,1,0);

62007 
cimg_¢´štf
(
»s
.
_d©a
 + 
l
,16," (#%u)",
_width
);

62009  
	g»s
;

62018 cÚ¡ 
	gCImgLi¡
<
	gT
>& 
§ve
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
numb”
=-1, cÚ¡ 
dig™s
=6) const {

62019 ià(!
f’ame
)

62020 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


62022 
cimgli¡_š¡ªû
);

62024 cÚ¡ 
boŞ
 
	gis_¡dout
 = *
f’ame
=='-' && (!filename[1] || filename[1]=='.');

62025 cÚ¡ *cÚ¡ 
	gext
 = 
cimg
::
¥l™_f’ame
(
f’ame
);

62026 
	gCImg
<
	gch¬T
> 
nf’ame
(1024);

62027 cÚ¡ *cÚ¡ 
	gâ
 = 
is_¡dout
?
f’ame
:
numb”
>=0?
cimg
::
numb”_f’ame
(f’ame,numb”,
dig™s
,
nf’ame
):

62028 
f’ame
;

62030 #ifdeà
cimgli¡_§ve_¶ugš


62031 
cimgli¡_§ve_¶ugš
(
â
);

62033 #ifdeà
cimgli¡_§ve_¶ugš1


62034 
cimgli¡_§ve_¶ugš1
(
â
);

62036 #ifdeà
cimgli¡_§ve_¶ugš2


62037 
cimgli¡_§ve_¶ugš2
(
â
);

62039 #ifdeà
cimgli¡_§ve_¶ugš3


62040 
cimgli¡_§ve_¶ugš3
(
â
);

62042 #ifdeà
cimgli¡_§ve_¶ugš4


62043 
cimgli¡_§ve_¶ugš4
(
â
);

62045 #ifdeà
cimgli¡_§ve_¶ugš5


62046 
cimgli¡_§ve_¶ugš5
(
â
);

62048 #ifdeà
cimgli¡_§ve_¶ugš6


62049 
cimgli¡_§ve_¶ugš6
(
â
);

62051 #ifdeà
cimgli¡_§ve_¶ugš7


62052 
cimgli¡_§ve_¶ugš7
(
â
);

62054 #ifdeà
cimgli¡_§ve_¶ugš8


62055 
cimgli¡_§ve_¶ugš8
(
â
);

62057 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"cimgz")è 
§ve_cimg
(
â
,
Œue
);

62058 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"cimg"è|| !*
	gext
è 
§ve_cimg
(
â
,
çl£
);

62059 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"yuv")è 
§ve_yuv
(
â
,444,
Œue
);

62060 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"avi") ||

62061 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mov") ||

62062 !
	gcimg
::
¡rÿ£cmp
(
ext
,"asf") ||

62063 !
	gcimg
::
¡rÿ£cmp
(
ext
,"divx") ||

62064 !
	gcimg
::
¡rÿ£cmp
(
ext
,"flv") ||

62065 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mpg") ||

62066 !
	gcimg
::
¡rÿ£cmp
(
ext
,"m1v") ||

62067 !
	gcimg
::
¡rÿ£cmp
(
ext
,"m2v") ||

62068 !
	gcimg
::
¡rÿ£cmp
(
ext
,"m4v") ||

62069 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mjp") ||

62070 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mp4") ||

62071 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mkv") ||

62072 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mpe") ||

62073 !
	gcimg
::
¡rÿ£cmp
(
ext
,"movie") ||

62074 !
	gcimg
::
¡rÿ£cmp
(
ext
,"ogm") ||

62075 !
	gcimg
::
¡rÿ£cmp
(
ext
,"ogg") ||

62076 !
	gcimg
::
¡rÿ£cmp
(
ext
,"ogv") ||

62077 !
	gcimg
::
¡rÿ£cmp
(
ext
,"qt") ||

62078 !
	gcimg
::
¡rÿ£cmp
(
ext
,"rm") ||

62079 !
	gcimg
::
¡rÿ£cmp
(
ext
,"vob") ||

62080 !
	gcimg
::
¡rÿ£cmp
(
ext
,"wmv") ||

62081 !
	gcimg
::
¡rÿ£cmp
(
ext
,"xvid") ||

62082 !
	gcimg
::
¡rÿ£cmp
(
ext
,"m³g")è 
§ve_video
(
â
);

62083 #ifdeà
cimg_u£_tiff


62084 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"tif") ||

62085 !
	gcimg
::
¡rÿ£cmp
(
ext
,"tiff")è 
§ve_tiff
(
â
);

62087 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"gz")è 
§ve_gz_ex‹º®
(
â
);

62089 ià(
	g_width
==1è
_d©a
[0].
§ve
(
â
,-1);

62090 
cimgli¡_fÜ
(*
this
,
l
è{ 
	g_d©a
[l].
§ve
(
â
,
is_¡dout
?-1:l); ià(
	gis_¡dout
è
	g¡d
::
åutc
(
EOF
,
cimg
::
_¡dout
()); }

62092  *
	gthis
;

62100 
boŞ
 
is_§v—bË
(cÚ¡ *cÚ¡ 
f’ame
) {

62101 cÚ¡ *cÚ¡ 
	gext
 = 
cimg
::
¥l™_f’ame
(
f’ame
);

62102 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"cimgz") ||

62103 #ifdeà
cimg_u£_tiff


62104 !
	gcimg
::
¡rÿ£cmp
(
ext
,"tif") ||

62105 !
	gcimg
::
¡rÿ£cmp
(
ext
,"tiff") ||

62107 !
	gcimg
::
¡rÿ£cmp
(
ext
,"yuv") ||

62108 !
	gcimg
::
¡rÿ£cmp
(
ext
,"avi") ||

62109 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mov") ||

62110 !
	gcimg
::
¡rÿ£cmp
(
ext
,"asf") ||

62111 !
	gcimg
::
¡rÿ£cmp
(
ext
,"divx") ||

62112 !
	gcimg
::
¡rÿ£cmp
(
ext
,"flv") ||

62113 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mpg") ||

62114 !
	gcimg
::
¡rÿ£cmp
(
ext
,"m1v") ||

62115 !
	gcimg
::
¡rÿ£cmp
(
ext
,"m2v") ||

62116 !
	gcimg
::
¡rÿ£cmp
(
ext
,"m4v") ||

62117 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mjp") ||

62118 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mp4") ||

62119 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mkv") ||

62120 !
	gcimg
::
¡rÿ£cmp
(
ext
,"mpe") ||

62121 !
	gcimg
::
¡rÿ£cmp
(
ext
,"movie") ||

62122 !
	gcimg
::
¡rÿ£cmp
(
ext
,"ogm") ||

62123 !
	gcimg
::
¡rÿ£cmp
(
ext
,"ogg") ||

62124 !
	gcimg
::
¡rÿ£cmp
(
ext
,"ogv") ||

62125 !
	gcimg
::
¡rÿ£cmp
(
ext
,"qt") ||

62126 !
	gcimg
::
¡rÿ£cmp
(
ext
,"rm") ||

62127 !
	gcimg
::
¡rÿ£cmp
(
ext
,"vob") ||

62128 !
	gcimg
::
¡rÿ£cmp
(
ext
,"wmv") ||

62129 !
	gcimg
::
¡rÿ£cmp
(
ext
,"xvid") ||

62130 !
	gcimg
::
¡rÿ£cmp
(
ext
,"m³g")è 
	gŒue
;

62131  
	gçl£
;

62140 cÚ¡ 
	gCImgLi¡
<
	gT
>& 
§ve_gif_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
ås
=25,

62141 cÚ¡ 
nb_loİs
=0) {

62142 
CImg
<
ch¬T
> 
commªd
(1024), 
f’ame_tmp
(256), 
f’ame_tmp2
(256);

62143 
	gCImgLi¡
<
	gch¬T
> 
	gf’ames
;

62144 
	g¡d
::
FILE
 *
fe
 = 0;

62146 #ifdeà
cimg_u£_²g


62147 
	#_cimg_§ve_gif_ex‹nsiÚ
 "²g"

	)

62149 
	#_cimg_§ve_gif_ex‹nsiÚ
 "µm"

	)

62153 
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s%c%s",

62154 
cimg
::
‹mpÜ¬y_·th
(),
cimg_fe_£·¿tÜ
,cimg::
f’am”ªd
());

62155 
cimg_¢´štf
(
f’ame_tmp2
,f’ame_tmp2.
_width
,"%s_000001." 
_cimg_§ve_gif_ex‹nsiÚ
,
f’ame_tmp
.
_d©a
);

62156 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame_tmp2
,"rb"))!=0ècimg::
fşo£
(
fe
);

62157 } 
	gfe
);

62158 
cimgli¡_fÜ
(*
this
,
l
) {

62159 
cimg_¢´štf
(
f’ame_tmp2
,f’ame_tmp2.
_width
,"%s_%.6u." 
_cimg_§ve_gif_ex‹nsiÚ
,
f’ame_tmp
.
_d©a
,
l
 + 1);

62160 
	gCImg
<
	gch¬T
>::
¡ršg
(
f’ame_tmp2
).
move_to
(
f’ames
);

62161 ià(
	g_d©a
[
l
].
	g_d•th
>1 || _d©a[l].
	g_¥eùrum
!=3è
_d©a
[l].
g‘_»size
(-100,-100,1,3).
§ve
(
f’ame_tmp2
);

62162 
	g_d©a
[
l
].
§ve
(
f’ame_tmp2
);

62164 
cimg_¢´štf
(
commªd
,commªd.
_width
,"\"%s\" -delay %u -loop %u",

62165 
cimg
::
imagemagick_·th
(),()
¡d
::
max
(0.f,cimg::
round
(100/
ås
)),
nb_loİs
);

62166 
	gCImg
<
	guch¬T
>::
¡ršg
(
commªd
).
move_to
(
f’ames
,0);

62167 
cimg_¢´štf
(
commªd
,commªd.
_width
,"\"%s\"",

62168 
CImg
<
ch¬T
>::
¡ršg
(
f’ame
).
_sy¡em_¡»sÿ³
().
d©a
());

62169 
	gCImg
<
	guch¬T
>::
¡ršg
(
commªd
).
move_to
(
f’ames
);

62170 
	gCImg
<
	gch¬T
> 
	g_commªd
 = 
f’ames
>'x';

62171 
cimg_fÜ
(
_commªd
,
p
,èià(!*
	gp
) *p = ' ';

62172 
	g_commªd
.
back
() = 0;

62174 
	gcimg
::
sy¡em
(
_commªd
, 
cimg
::
imagemagick_·th
());

62175 
	gfe
 = 
cimg
::
¡d_fİ’
(
f’ame
,"rb");

62176 ià(!
	gfe
)

62177 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


62179 
cimgli¡_š¡ªû
,

62180 
f’ame
);

62181 
	gcimg
::
fşo£
(
fe
);

62182 
cimgli¡_fÜ_š
(*
this
,1,
f’ames
.
_width
 - 1,
l
è
	g¡d
::
»move
(filenames[l]);

62183  *
	gthis
;

62192 cÚ¡ 
	gCImgLi¡
<
	gT
>& 
§ve_yuv
(cÚ¡ *cÚ¡ 
f’ame
=0,

62193 cÚ¡ 
chroma_sub§m¶šg
=444,

62194 cÚ¡ 
boŞ
 
is_rgb
=
Œue
) const {

62195  
_§ve_yuv
(0,
f’ame
,
chroma_sub§m¶šg
,
is_rgb
);

62204 cÚ¡ 
	gCImgLi¡
<
	gT
>& 
§ve_yuv
(
¡d
::
FILE
 *cÚ¡ 
fe
,

62205 cÚ¡ 
chroma_sub§m¶šg
=444,

62206 cÚ¡ 
boŞ
 
is_rgb
=
Œue
) const {

62207  
_§ve_yuv
(
fe
,0,
chroma_sub§m¶šg
,
is_rgb
);

62210 cÚ¡ 
	gCImgLi¡
<
	gT
>& 
_§ve_yuv
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
,

62211 cÚ¡ 
chroma_sub§m¶šg
,

62212 cÚ¡ 
boŞ
 
is_rgb
) const {

62213 ià(!
	gfe
 && !
	gf’ame
)

62214 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


62216 
cimgli¡_š¡ªû
);

62217 ià(
	gchroma_sub§m¶šg
!=420 && 
chroma_sub§m¶šg
!=422 && chroma_subsampling!=444)

62218 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


62220 
cimgli¡_š¡ªû
,

62221 
chroma_sub§m¶šg
,
f’ame
?filename:"(FILE*)");

62222 ià(
is_em±y
()è{ 
	gcimg
::
ãm±y
(
fe
,
f’ame
);  *
	gthis
; }

62224 
	gcfx
 = 
chroma_sub§m¶šg
==420 || chroma_subsampling==422?2:1,

62225 
	gcfy
 = 
chroma_sub§m¶šg
==420?2:1,

62226 
	gw0
 = (*
this
)[0].
_width
, 
	gh0
 = (*this)[0].
_height
,

62227 
	gwidth0
 = 
w0
 + (w0%
cfx
), 
	gheight0
 = 
h0
 + (h0%
cfy
);

62228 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"wb");

62229 
cimgli¡_fÜ
(*
this
,
l
) {

62230 cÚ¡ 
	gCImg
<
	gT
> &
	gäame
 = (*
this
)[
l
];

62231 
cimg_fÜZ
(
äame
,
z
) {

62232 
	gCImg
<
	guch¬T
> 
	gYUV
;

62233 ià((
	gT
)==1 && !
is_rgb
 &&

62234 
äame
.
_width
==
width0
 && f¿me.
_height
==
height0
 && f¿me.
_d•th
==1 && f¿me.
_¥eùrum
==3)

62235 
YUV
.
assign
((*)
äame
.
_d©a
,
width0
,
height0
,1,3,
Œue
);

62237 
	gYUV
 = 
äame
.
g‘_¦iû
(
z
);

62238 ià(
	gYUV
.
	g_width
!=
width0
 || 
YUV
.
_height
!=
height0
èYUV.
»size
(width0,height0,1,-100,0);

62239 ià(
	gYUV
.
	g_¥eùrum
!=3è
YUV
.
»size
(-100,-100,1,3,YUV.
_¥eùrum
==1?1:0);

62240 ià(
	gis_rgb
è
	gYUV
.
RGBtoYCbCr
();

62242 ià(
	gchroma_sub§m¶šg
==444)

62243 
cimg
::
fwr™e
(
YUV
.
_d©a
,(
size_t
)YUV.
_width
*YUV.
_height
*3,
nfe
);

62245 
	gcimg
::
fwr™e
(
YUV
.
_d©a
,(
size_t
)YUV.
_width
*YUV.
_height
,
nfe
);

62246 
	gCImg
<
	guch¬T
> 
	gUV
 = 
YUV
.
g‘_chªÃls
(1,2);

62247 
	gUV
.
»size
(
UV
.
_width
/
cfx
,UV.
_height
/
cfy
,1,2,2);

62248 
	gcimg
::
fwr™e
(
UV
.
_d©a
,(
size_t
)UV.
_width
*UV.
_height
*2,
nfe
);

62252 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

62253  *
	gthis
;

62261 cÚ¡ 
	gCImgLi¡
<
	gT
>& 
§ve_cimg
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
boŞ
 
is_com´es£d
=
çl£
) const {

62262  
_§ve_cimg
(0,
f’ame
,
is_com´es£d
);

62265 cÚ¡ 
	gCImgLi¡
<
	gT
>& 
_§ve_cimg
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
boŞ
 
is_com´es£d
) const {

62266 ià(!
	gfe
 && !
	gf’ame
)

62267 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


62269 
cimgli¡_š¡ªû
);

62270 #iâdeà
cimg_u£_zlib


62271 ià(
	gis_com´es£d
)

62272 
	gcimg
::
w¬n
(
_cimgli¡_š¡ªû


62275 
cimgli¡_š¡ªû
,

62276 
f’ame
?filename:"(FILE*)");

62278 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"wb");

62279 cÚ¡ *cÚ¡ 
	g±y³
 = 
pix–_ty³
(), *cÚ¡ 
	g‘y³
 = 
cimg
::
’dŸÂess
()?"big":"little";

62280 ià(
	g¡d
::
¡r¡r
(
±y³
,"unsigÃd")=õty³è
¡d
::
årštf
(
nfe
,"%u unsigÃd_% %s_’dŸn\n",
_width
,±y³ + 9,
‘y³
);

62281 
	g¡d
::
årštf
(
nfe
,"%u % %s_’dŸn\n",
_width
,
±y³
,
‘y³
);

62282 
cimgli¡_fÜ
(*
this
,
l
) {

62283 cÚ¡ 
	gCImg
<
	gT
>& 
	gimg
 = 
_d©a
[
l
];

62284 
	g¡d
::
årštf
(
nfe
,"%u %u %u %u",
img
.
_width
,img.
_height
,img.
_d•th
,img.
_¥eùrum
);

62285 ià(
	gimg
.
	g_d©a
) {

62286 
	gCImg
<
	gT
> 
	gtmp
;

62287 ià(
	gcimg
::
’dŸÂess
()è{ 
tmp
 = 
img
; cimg::
šv”t_’dŸÂess
Ñmp.
_d©a
,tmp.
size
()); }

62288 cÚ¡ 
	gCImg
<
	gT
>& 
	g»f
 = 
cimg
::
’dŸÂess
()?
tmp
:
img
;

62289 
boŞ
 
	gçed_to_com´ess
 = 
Œue
;

62290 ià(
	gis_com´es£d
) {

62291 #ifdeà
cimg_u£_zlib


62292 cÚ¡ 
ulÚgT
 
	gsiz
 = (
T
)*
»f
.
size
();

62293 
uLÚgf
 
	gcsiz
 = 
siz
 + siz/100 + 16;

62294 
By‹f
 *cÚ¡ 
	gcbuf
 = 
Ãw
 By‹f[
csiz
];

62295 ià(
com´ess
(
cbuf
,&
csiz
,(
By‹f
*)
»f
.
_d©a
,
siz
))

62296 
	gcimg
::
w¬n
(
_cimgli¡_š¡ªû


62298 
cimgli¡_š¡ªû
,

62299 
f’ame
?filename:"(FILE*)");

62301 
	g¡d
::
årštf
(
nfe
," #%lu\n",
csiz
);

62302 
	gcimg
::
fwr™e
(
cbuf
,
csiz
,
nfe
);

62303 
	gd–‘e
[] 
	gcbuf
;

62304 
	gçed_to_com´ess
 = 
çl£
;

62308 ià(
	gçed_to_com´ess
) {

62309 
	g¡d
::
åutc
('\n',
nfe
);

62310 
	gcimg
::
fwr™e
(
»f
.
_d©a
,»f.
size
(),
nfe
);

62312 } 
	g¡d
::
åutc
('\n',
nfe
);

62314 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

62315  *
	gthis
;

62323 cÚ¡ 
	gCImgLi¡
<
	gT
>& 
§ve_cimg
(
¡d
::
FILE
 *
fe
, cÚ¡ 
boŞ
 
is_com´es£d
=
çl£
) const {

62324  
_§ve_cimg
(
fe
,0,
is_com´es£d
);

62327 cÚ¡ 
	gCImgLi¡
<
	gT
>& 
_§ve_cimg
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
,

62328 cÚ¡ 
n0
,

62329 cÚ¡ 
x0
, cÚ¡ 
y0
,

62330 cÚ¡ 
z0
, cÚ¡ 
c0
) const {

62331 
	#_cimg_§ve_cimg_ÿ£
(
Ts
,
Tss
) \

62332 ià(!
§ved
 && !
cimg
::
	`¡rÿ£cmp
(
Ts
,
¡r_pix–ty³
)) { \

62333 
l
 = 0;†<
lmax
; ++l) { \

62334 
j
 = 0; (
i
=
¡d
::
	`fg‘c
(
nfe
))!='\n'è
tmp
[j++]=()i;mp[j] = 0; \

62335 
W
 = 
H
 = 
D
 = 
C
 = 0; \

62336 ià(
	`cimg_ssÿnf
(
tmp
,"%u %u %u %u",&
W
,&
H
,&
D
,&
C
)!=4) \

62337 
throw
 
	`CImgIOExû±iÚ
(
_cimgli¡_š¡ªû
 \

62339 
cimgli¡_š¡ªû
, \

62340 
W
,
H
,
D
,
C
,
l
,
f’ame
?filename:"(FILE*)"); \

62341 ià(
W
*
H
*
D
*
C
>0) { \

62342 ià(
l
<
n0
 || 
x0
>=
W
 || 
y0
>=
H
 || 
z0
>=
D
 || 
c0
>=Dè
cimg
::
	`f£ek
(
nfe
,W*H*D*
C
*(
Tss
),
SEEK_CUR
); \

62344 cÚ¡ 
CImg
<
T
>& 
img
 = (*
this
)[
l
 - 
n0
]; \

62345 cÚ¡ 
T
 *
±rs
 = 
img
.
_d©a
; \

62347 
x1
 = 
x0
 + 
img
.
_width
 - 1, \

62348 
y1
 = 
y0
 + 
img
.
_height
 - 1, \

62349 
z1
 = 
z0
 + 
img
.
_d•th
 - 1, \

62350 
c1
 = 
c0
 + 
img
.
_¥eùrum
 - 1, \

62351 
nx1
 = 
x1
>=
W
?W - 1:x1, \

62352 
ny1
 = 
y1
>=
H
?H - 1:y1, \

62353 
nz1
 = 
z1
>=
D
?D - 1:z1, \

62354 
nc1
 = 
c1
>=
C
?C - 1:c1; \

62355 
CImg
<
Tss
> 
	`¿w
(1 + 
nx1
 - 
x0
); \

62356 cÚ¡ 
skvb
 = 
c0
*
W
*
H
*
D
*(
Tss
); \

62357 ià(
skvb
è
cimg
::
	`f£ek
(
nfe
,skvb,
SEEK_CUR
); \

62358 
v
 = 1 + 
nc1
 - 
c0
; v; --v) { \

62359 cÚ¡ 
skzb
 = 
z0
*
W
*
H
*(
Tss
); \

62360 ià(
skzb
è
cimg
::
	`f£ek
(
nfe
,skzb,
SEEK_CUR
); \

62361 
z
 = 1 + 
nz1
 - 
z0
; z; --z) { \

62362 cÚ¡ 
skyb
 = 
y0
*
W
*(
Tss
); \

62363 ià(
skyb
è
cimg
::
	`f£ek
(
nfe
,skyb,
SEEK_CUR
); \

62364 
y
 = 1 + 
ny1
 - 
y0
; y; --y) { \

62365 cÚ¡ 
skxb
 = 
x0
*(
Tss
); \

62366 ià(
skxb
è
cimg
::
	`f£ek
(
nfe
,skxb,
SEEK_CUR
); \

62367 
¿w
.
	`assign
(
±rs
,„aw.
_width
); \

62368 
±rs
+=
img
.
_width
; \

62369 ià(
’dŸn
è
cimg
::
	`šv”t_’dŸÂess
(
¿w
.
_d©a
,¿w.
_width
); \

62370 
cimg
::
	`fwr™e
(
¿w
.
_d©a
,¿w.
_width
,
nfe
); \

62371 cÚ¡ 
skxe
 = (
W
 - 1 - 
nx1
)*(
Tss
); \

62372 ià(
skxe
è
cimg
::
	`f£ek
(
nfe
,skxe,
SEEK_CUR
); \

62374 cÚ¡ 
skye
 = (
H
 - 1 - 
ny1
)*
W
*(
Tss
); \

62375 ià(
skye
è
cimg
::
	`f£ek
(
nfe
,skye,
SEEK_CUR
); \

62377 cÚ¡ 
skze
 = (
D
 - 1 - 
nz1
)*
W
*
H
*(
Tss
); \

62378 ià(
skze
è
cimg
::
	`f£ek
(
nfe
,skze,
SEEK_CUR
); \

62380 cÚ¡ 
skve
 = (
C
 - 1 - 
nc1
)*
W
*
H
*
D
*(
Tss
); \

62381 ià(
skve
è
cimg
::
	`f£ek
(
nfe
,skve,
SEEK_CUR
); \

62385 
§ved
 = 
Œue
; \

62386 }

	)

62388 ià(!
	gfe
 && !
	gf’ame
)

62389 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


62391 
cimgli¡_š¡ªû
);

62392 ià(
is_em±y
())

62393 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimgli¡_š¡ªû


62395 
cimgli¡_š¡ªû
,

62396 
f’ame
?filename:"(FILE*)");

62398 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"rb+");

62399 
boŞ
 
	g§ved
 = 
çl£
, 
	g’dŸn
 = 
cimg
::
’dŸÂess
();

62400 
	gCImg
<
	gch¬T
> 
tmp
(256), 
¡r_pix–ty³
(256), 
¡r_’dŸn
(256);

62401 *
	gtmp
 = *
¡r_pix–ty³
 = *
¡r_’dŸn
 = 0;

62402 
	gj
, 
	gN
, 
	gW
, 
	gH
, 
	gD
, 
	gC
;

62403 
	gi
, 
	g”r
;

62404 
	gj
 = 0; (
	gi
=
¡d
::
fg‘c
(
nfe
))!='\n' && 
i
!=
EOF
 && 
j
<256è
tmp
[j++] = ()i; 
	gtmp
[j] = 0;

62405 
	g”r
 = 
cimg_ssÿnf
(
tmp
,"%u%*c%255[A-Za-z64_]%*c%255[sA-Za-z_ ]",&
N
,
¡r_pix–ty³
.
_d©a
,
¡r_’dŸn
._data);

62406 ià(
	g”r
<2) {

62407 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

62408 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


62410 
cimgli¡_š¡ªû
,

62411 
f’ame
?filename:"(FILE*)");

62413 ià(!
	gcimg
::
¡ºÿ£cmp
("l™e",
¡r_’dŸn
,6)è
	g’dŸn
 = 
çl£
;

62414 ià(!
	gcimg
::
¡ºÿ£cmp
("big",
¡r_’dŸn
,3)è
	g’dŸn
 = 
Œue
;

62415 cÚ¡ 
	glmax
 = 
¡d
::
mš
(
N
,
n0
 + 
_width
);

62416 
_cimg_§ve_cimg_ÿ£
("boŞ",
boŞ
);

62417 
_cimg_§ve_cimg_ÿ£
("unsigned_char",);

62418 
_cimg_§ve_cimg_ÿ£
("uchar",);

62419 
_cimg_§ve_cimg_ÿ£
("char",);

62420 
_cimg_§ve_cimg_ÿ£
("unsigned_short",);

62421 
_cimg_§ve_cimg_ÿ£
("ushort",);

62422 
_cimg_§ve_cimg_ÿ£
("short",);

62423 
_cimg_§ve_cimg_ÿ£
("unsigned_int",);

62424 
_cimg_§ve_cimg_ÿ£
("uint",);

62425 
_cimg_§ve_cimg_ÿ£
("int",);

62426 
_cimg_§ve_cimg_ÿ£
("unsigÃd_št64",
ušt64T
);

62427 
_cimg_§ve_cimg_ÿ£
("ušt64",
ušt64T
);

62428 
_cimg_§ve_cimg_ÿ£
("št64",
št64T
);

62429 
_cimg_§ve_cimg_ÿ£
("float",);

62430 
_cimg_§ve_cimg_ÿ£
("double",);

62431 ià(!
	g§ved
) {

62432 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

62433 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


62435 
cimgli¡_š¡ªû
,

62436 
f’ame
?f’ame:"(FILE*)",
¡r_pix–ty³
.
_d©a
);

62438 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

62439  *
	gthis
;

62451 cÚ¡ 
	gCImgLi¡
<
	gT
>& 
§ve_cimg
(cÚ¡ *cÚ¡ 
f’ame
,

62452 cÚ¡ 
n0
,

62453 cÚ¡ 
x0
, cÚ¡ 
y0
,

62454 cÚ¡ 
z0
, cÚ¡ 
c0
) const {

62455  
_§ve_cimg
(0,
f’ame
,
n0
,
x0
,
y0
,
z0
,
c0
);

62467 cÚ¡ 
	gCImgLi¡
<
	gT
>& 
§ve_cimg
(
¡d
::
FILE
 *cÚ¡ 
fe
,

62468 cÚ¡ 
n0
,

62469 cÚ¡ 
x0
, cÚ¡ 
y0
,

62470 cÚ¡ 
z0
, cÚ¡ 
c0
) const {

62471  
_§ve_cimg
(
fe
,0,
n0
,
x0
,
y0
,
z0
,
c0
);

62474 
_§ve_em±y_cimg
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
,

62475 cÚ¡ 
nb
,

62476 cÚ¡ 
dx
, cÚ¡ 
dy
,

62477 cÚ¡ 
dz
, cÚ¡ 
dc
) {

62478 
	g¡d
::
FILE
 *cÚ¡ 
nfe
 = 
fe
?fe:
cimg
::
fİ’
(
f’ame
,"wb");

62479 cÚ¡ 
ulÚgT
 
	gsiz
 = (ulÚgT)
dx
*
dy
*
dz
*
dc
*(
T
);

62480 
	g¡d
::
årštf
(
nfe
,"%u %s\n",
nb
,
pix–_ty³
());

62481 
	gi
=
nb
; i; --i) {

62482 
	g¡d
::
årštf
(
nfe
,"%u %u %u %u\n",
dx
,
dy
,
dz
,
dc
);

62483 
ulÚgT
 
	goff
 = 
siz
; off; --offè
	g¡d
::
åutc
(0,
nfe
);

62485 ià(!
	gfe
è
	gcimg
::
fşo£
(
nfe
);

62497 
§ve_em±y_cimg
(cÚ¡ *cÚ¡ 
f’ame
,

62498 cÚ¡ 
nb
,

62499 cÚ¡ 
dx
, cÚ¡ 
dy
=1,

62500 cÚ¡ 
dz
=1, cÚ¡ 
dc
=1) {

62501  
_§ve_em±y_cimg
(0,
f’ame
,
nb
,
dx
,
dy
,
dz
,
dc
);

62513 
§ve_em±y_cimg
(
¡d
::
FILE
 *cÚ¡ 
fe
,

62514 cÚ¡ 
nb
,

62515 cÚ¡ 
dx
, cÚ¡ 
dy
=1,

62516 cÚ¡ 
dz
=1, cÚ¡ 
dc
=1) {

62517  
_§ve_em±y_cimg
(
fe
,0,
nb
,
dx
,
dy
,
dz
,
dc
);

62528 cÚ¡ 
	gCImgLi¡
<
	gT
>& 
§ve_tiff
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
com´essiÚ_ty³
=0,

62529 cÚ¡ *cÚ¡ 
vox–_size
=0, cÚ¡ *cÚ¡ 
desütiÚ
=0,

62530 cÚ¡ 
boŞ
 
u£_bigtiff
=
Œue
) const {

62531 ià(!
f’ame
)

62532 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


62534 
cimgli¡_š¡ªû
);

62535 ià(
is_em±y
()è{ 
	gcimg
::
ãm±y
(0,
f’ame
);  *
	gthis
; }

62537 #iâdeà
cimg_u£_tiff


62538 ià(
	g_width
==1è
_d©a
[0].
§ve_tiff
(
f’ame
,
com´essiÚ_ty³
,
vox–_size
,
desütiÚ
,
u£_bigtiff
);

62539 
cimgli¡_fÜ
(*
this
,
l
) {

62540 
	gCImg
<
	gch¬T
> 
nf’ame
(1024);

62541 
	gcimg
::
numb”_f’ame
(
f’ame
,
l
,6,
nf’ame
);

62542 
	g_d©a
[
l
].
§ve_tiff
(
nf’ame
,
com´essiÚ_ty³
,
vox–_size
,
desütiÚ
,
u£_bigtiff
);

62545 
ulÚgT
 
	gsiz
 = 0;

62546 
cimgli¡_fÜ
(*
this
,
l
è
	gsiz
+=
_d©a
[l].
size
();

62547 cÚ¡ 
boŞ
 
	g_u£_bigtiff
 = 
u£_bigtiff
 && (
siz
)>=8 && siz*(
T
)>=1UL<<31;

62548 
TIFF
 *
	gtif
 = 
TIFFO³n
(
f’ame
,
_u£_bigtiff
?"w8":"w4");

62549 ià(
	gtif
) {

62550 
	gdœ
 = 0, 
	gl
 = 0;†<
	g_width
; ++l) {

62551 cÚ¡ 
	gCImg
<
	gT
>& 
	gimg
 = (*
this
)[
l
];

62552 
cimg_fÜZ
(
img
,
z
è
	gimg
.
_§ve_tiff
(
tif
,
dœ
++,z,
com´essiÚ_ty³
,
vox–_size
,
desütiÚ
);

62554 
TIFFClo£
(
tif
);

62556 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


62558 
cimgli¡_š¡ªû
,

62559 
f’ame
);

62561  *
	gthis
;

62568 cÚ¡ 
	gCImgLi¡
<
	gT
>& 
§ve_gz_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
) const {

62569 ià(!
	gf’ame
)

62570 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


62572 
cimgli¡_š¡ªû
);

62573 
	gCImg
<
	gch¬T
> 
commªd
(1024), 
f’ame_tmp
(256), 
body
(256);

62575 *
	gext
 = 
cimg
::
¥l™_f’ame
(
f’ame
,
body
),

62576 *
	gext2
 = 
cimg
::
¥l™_f’ame
(
body
,0);

62577 
	g¡d
::
FILE
 *
fe
;

62579 ià(!
	gcimg
::
¡rÿ£cmp
(
ext
,"gz")) {

62580 ià(*
	gext2
è
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s%c%s.%s",

62581 
cimg
::
‹mpÜ¬y_·th
(),
cimg_fe_£·¿tÜ
,cimg::
f’am”ªd
(),
ext2
);

62582 
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s%c%s.cimg",

62583 
cimg
::
‹mpÜ¬y_·th
(),
cimg_fe_£·¿tÜ
,cimg::
f’am”ªd
());

62585 ià(*
	gext
è
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s%c%s.%s",

62586 
cimg
::
‹mpÜ¬y_·th
(),
cimg_fe_£·¿tÜ
,cimg::
f’am”ªd
(),
ext
);

62587 
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s%c%s.cimg",

62588 
cimg
::
‹mpÜ¬y_·th
(),
cimg_fe_£·¿tÜ
,cimg::
f’am”ªd
());

62590 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame_tmp
,"rb"))!=0ècimg::
fşo£
(
fe
);

62591 } 
	gfe
);

62593 ià(
is_§v—bË
(
body
)) {

62594 
§ve
(
f’ame_tmp
);

62595 
cimg_¢´štf
(
commªd
,commªd.
_width
,"\"%s\" -c \"%s\" > \"%s\"",

62596 
cimg
::
gz_·th
(),

62597 
CImg
<
ch¬T
>::
¡ršg
(
f’ame_tmp
).
_sy¡em_¡»sÿ³
().
d©a
(),

62598 
CImg
<
ch¬T
>::
¡ršg
(
f’ame
).
_sy¡em_¡»sÿ³
().
d©a
());

62599 
	gcimg
::
sy¡em
(
commªd
, 
cimg
::
gz_·th
());

62600 
	gfe
 = 
cimg
::
¡d_fİ’
(
f’ame
,"rb");

62601 ià(!
	gfe
)

62602 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


62604 
cimgli¡_š¡ªû
,

62605 
f’ame
);

62606 
	gcimg
::
fşo£
(
fe
);

62607 
	g¡d
::
»move
(
f’ame_tmp
);

62609 
	gCImg
<
	gch¬T
> 
nf’ame
(1024);

62610 
cimgli¡_fÜ
(*
this
,
l
) {

62611 
	gcimg
::
numb”_f’ame
(
body
,
l
,6,
nf’ame
);

62612 ià(*
	gext
è
cimg_¥rštf
(
nf’ame
.
_d©a
 + 
¡d
::
¡¾’
Òf’ame),".%s",
ext
);

62613 
	g_d©a
[
l
].
§ve_gz_ex‹º®
(
nf’ame
);

62616  *
	gthis
;

62627 cÚ¡ 
	gCImgLi¡
<
	gT
>& 
§ve_video
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
ås
=25,

62628 cÚ¡ *
codec
=0, cÚ¡ 
boŞ
 
k“p_İ’
=
çl£
) const {

62629 #iâdeà
cimg_u£_İ’cv


62630 
cimg
::
unu£d
(
codec
,
k“p_İ’
);

62631  
§ve_ffm³g_ex‹º®
(
f’ame
,
ås
);

62633 
	gcv
::
VideoWr™”
 *
wr™”s
[32] = { 0 };

62634 
	gCImgLi¡
<
	gch¬T
> 
f’ames
(32);

62635 
	gCImg
<
	gštT
> 
sizes
(32,2,1,1,0);

62636 
	gÏ¡_u£d_šdex
 = -1;

62639 
	gcimg
::
mu‹x
(9);

62640 
	gšdex
 = -1;

62641 ià(
	gf’ame
) {

62642 ià(
	gÏ¡_u£d_šdex
>=0 && !
¡d
::
¡rcmp
(
f’ame
,
f’ames
[
Ï¡_u£d_šdex
])) {

62643 
	gšdex
 = 
Ï¡_u£d_šdex
;

62644 } 
cimgli¡_fÜ
(
f’ames
,
l
èià(
	gf’ames
[l] && !
	g¡d
::
¡rcmp
(
f’ame
,filenames[l])) {

62645 
	gšdex
 = 
l
; ;

62647 } 
	gšdex
 = 
Ï¡_u£d_šdex
;

62648 
	gcimg
::
mu‹x
(9,0);

62651 ià(
	gšdex
<0) {

62652 ià(!
	gf’ame
)

62653 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


62656 
cimgli¡_š¡ªû
);

62657 { 
	gcimg
::
mu‹x
(9); 
cimgli¡_fÜ
(
f’ames
,
l
èià(!
	gf’ames
[l]è{ 
	gšdex
 =†; ; } cimg::mutex(9,0); }

62658 ià(
	gšdex
<0)

62659 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


62662 
cimgli¡_š¡ªû
,
f’ame
);

62663 ià(
is_em±y
())

62664 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimgli¡_š¡ªû


62666 
cimgli¡_š¡ªû
);

62667 cÚ¡ 
	gW
 = 
_d©a
?_d©a[0].
_width
:0, 
	gH
 = _d©a?_d©a[0].
_height
:0;

62668 ià(!
	gW
 || !
	gH
)

62669 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimgli¡_š¡ªû


62671 
cimgli¡_š¡ªû
);

62673 *cÚ¡ 
	g_codec
 = 
codec
 && *codec?codec:
cimg_OS
==2?"mpeg":"fmp4",

62674 
	gcodec0
 = 
cimg
::
uµ”ÿ£
(
_codec
[0]),

62675 
	gcodec1
 = 
_codec
[0]?
cimg
::
uµ”ÿ£
(_codec[1]):0,

62676 
	gcodec2
 = 
_codec
[1]?
cimg
::
uµ”ÿ£
(_codec[2]):0,

62677 
	gcodec3
 = 
_codec
[2]?
cimg
::
uµ”ÿ£
(_codec[3]):0;

62678 
	gcimg
::
mu‹x
(9);

62679 
	gwr™”s
[
šdex
] = 
Ãw
 
cv
::
VideoWr™”
(
f’ame
,
_cimg_fourcc
(
codec0
,
codec1
,
codec2
,
codec3
),
ås
,cv::
Size
(
W
,
H
));

62680 ià(!
	gwr™”s
[
šdex
]->
isO³Ãd
()) {

62681 
d–‘e
 
	gwr™”s
[
šdex
];

62682 
	gwr™”s
[
šdex
] = 0;

62683 
	gcimg
::
mu‹x
(9,0);

62684 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


62686 
cimgli¡_š¡ªû
,
f’ame
,

62687 
codec0
,
codec1
,
codec2
,
codec3
);

62689 
	gCImg
<
	gch¬T
>::
¡ršg
(
f’ame
).
move_to
(
f’ames
[
šdex
]);

62690 
sizes
(
šdex
,0èğ
W
;

62691 
sizes
(
šdex
,1èğ
H
;

62692 
	gcimg
::
mu‹x
(9,0);

62695 ià(!
is_em±y
()) {

62696 cÚ¡ 
	gW
 = 
sizes
(
šdex
,0), 
	gH
 = sizes(index,1);

62697 
	gcimg
::
mu‹x
(9);

62698 
cimgli¡_fÜ
(*
this
,
l
) {

62699 
	gCImg
<
	gT
> &
	g¤c
 = 
_d©a
[
l
];

62700 ià(
	g¤c
.
is_em±y
())

62701 
	gcimg
::
w¬n
(
_cimgli¡_š¡ªû


62703 
cimgli¡_š¡ªû
,
l
,
f’ame
);

62704 ià(
	g¤c
.
	g_d•th
>1 || src.
	g_¥eùrum
>3)

62705 
	gcimg
::
w¬n
(
_cimgli¡_š¡ªû


62708 
cimgli¡_š¡ªû
,
l
,
¤c
.
_width
,¤c.
_height
,¤c.
_d•th
,¤c.
_¥eùrum
,
f’ame
);

62709 ià(
	g¤c
.
	g_width
==
W
 && 
¤c
.
_height
==
H
 && src.
_¥eùrum
==3)

62710 
wr™”s
[
šdex
]->
wr™e
(
CImg
<
uch¬T
>(
¤c
).
_cimg2cvm©
());

62712 
	gCImg
<
	guch¬T
> 
_¤c
(
¤c
,
çl£
);

62713 
	g_¤c
.
chªÃls
(0,
¡d
::
mš
(
_¤c
.
_¥eùrum
 - 1,2U)).
»size
(
W
,
H
);

62714 
	g_¤c
.
»size
(
W
,
H
,1,3,
_¤c
.
_¥eùrum
==1);

62715 
	gwr™”s
[
šdex
]->
wr™e
(
_¤c
.
_cimg2cvm©
());

62718 
	gcimg
::
mu‹x
(9,0);

62721 
	gcimg
::
mu‹x
(9);

62722 ià(!
	gk“p_İ’
) {

62723 
d–‘e
 
	gwr™”s
[
šdex
];

62724 
	gwr™”s
[
šdex
] = 0;

62725 
	gf’ames
[
šdex
].
assign
();

62726 
sizes
(
šdex
,0) = sizes(index,1) = 0;

62727 
	gÏ¡_u£d_šdex
 = -1;

62728 } 
	gÏ¡_u£d_šdex
 = 
šdex
;

62729 
	gcimg
::
mu‹x
(9,0);

62731  *
	gthis
;

62742 cÚ¡ 
	gCImgLi¡
<
	gT
>& 
§ve_ffm³g_ex‹º®
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
ås
=25,

62743 cÚ¡ *cÚ¡ 
codec
=0, cÚ¡ 
b™¿‹
=2048) const {

62744 ià(!
f’ame
)

62745 
throw
 
CImgArgum’tExû±iÚ
(
_cimgli¡_š¡ªû


62747 
cimgli¡_š¡ªû
);

62748 ià(
is_em±y
()è{ 
	gcimg
::
ãm±y
(0,
f’ame
);  *
	gthis
; }

62751 *cÚ¡ 
	gext
 = 
cimg
::
¥l™_f’ame
(
f’ame
),

62752 *cÚ¡ 
	g_codec
 = 
codec
?codec:!
cimg
::
¡rÿ£cmp
(
ext
,"flv")?"flv":"mpeg2video";

62754 
	gCImg
<
	gch¬T
> 
commªd
(1024), 
f’ame_tmp
(256), 
f’ame_tmp2
(256);

62755 
	gCImgLi¡
<
	gch¬T
> 
	gf’ames
;

62756 
	g¡d
::
FILE
 *
fe
 = 0;

62757 
cimgli¡_fÜ
(*
this
,
l
èià(!
	g_d©a
[l].
is_§meXYZ
(
_d©a
[0]))

62758 
throw
 
CImgIn¡ªûExû±iÚ
(
_cimgli¡_š¡ªû


62760 
cimgli¡_š¡ªû
,

62761 
f’ame
);

62763 
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s%c%s",

62764 
cimg
::
‹mpÜ¬y_·th
(),
cimg_fe_£·¿tÜ
,cimg::
f’am”ªd
());

62765 
cimg_¢´štf
(
f’ame_tmp2
,f’ame_tmp2.
_width
,"%s_000001.µm",
f’ame_tmp
.
_d©a
);

62766 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame_tmp2
,"rb"))!=0ècimg::
fşo£
(
fe
);

62767 } 
	gfe
);

62768 
cimgli¡_fÜ
(*
this
,
l
) {

62769 
cimg_¢´štf
(
f’ame_tmp2
,f’ame_tmp2.
_width
,"%s_%.6u.µm",
f’ame_tmp
.
_d©a
,
l
 + 1);

62770 
	gCImg
<
	gch¬T
>::
¡ršg
(
f’ame_tmp2
).
move_to
(
f’ames
);

62771 ià(
	g_d©a
[
l
].
	g_d•th
>1 || _d©a[l].
	g_¥eùrum
!=3è
_d©a
[l].
g‘_»size
(-100,-100,1,3).
§ve_²m
(
f’ame_tmp2
);

62772 
	g_d©a
[
l
].
§ve_²m
(
f’ame_tmp2
);

62774 
cimg_¢´štf
(
commªd
,commªd.
_width
,"\"%s\" -i \"%s_%%6d.ppm\" -vcodec %s -b %uk -r %u -y \"%s\"",

62775 
cimg
::
ffm³g_·th
(),

62776 
CImg
<
ch¬T
>::
¡ršg
(
f’ame_tmp
).
_sy¡em_¡»sÿ³
().
d©a
(),

62777 
_codec
,
b™¿‹
,
ås
,

62778 
CImg
<
ch¬T
>::
¡ršg
(
f’ame
).
_sy¡em_¡»sÿ³
().
d©a
());

62779 
	gcimg
::
sy¡em
(
commªd
, 
cimg
::
ffm³g_·th
());

62780 
	gfe
 = 
cimg
::
¡d_fİ’
(
f’ame
,"rb");

62781 ià(!
	gfe
)

62782 
throw
 
CImgIOExû±iÚ
(
_cimgli¡_š¡ªû


62784 
cimgli¡_š¡ªû
,

62785 
f’ame
);

62786 
	gcimg
::
fşo£
(
fe
);

62787 
cimgli¡_fÜ
(*
this
,
l
è
	g¡d
::
»move
(
f’ames
[l]);

62788  *
	gthis
;

62796 
	gCImg
<
	guch¬T
> 
g‘_£rŸlize
(cÚ¡ 
boŞ
 
is_com´es£d
=
çl£
) const {

62797 #iâdeà
cimg_u£_zlib


62798 ià(
is_com´es£d
)

62799 
cimg
::
w¬n
(
_cimgli¡_š¡ªû


62802 
cimgli¡_š¡ªû
);

62804 
	gCImgLi¡
<
	guch¬T
> 
	g¡»am
;

62805 
	gCImg
<
	gch¬T
> 
tmp¡r
(128);

62806 cÚ¡ *cÚ¡ 
	g±y³
 = 
pix–_ty³
(), *cÚ¡ 
	g‘y³
 = 
cimg
::
’dŸÂess
()?"big":"little";

62807 ià(
	g¡d
::
¡r¡r
(
±y³
,"unsigned")==ptype)

62808 
cimg_¢´štf
(
tmp¡r
,tmp¡r.
_width
,"%u unsigÃd_% %s_’dŸn\n",_width,
±y³
 + 9,
‘y³
);

62810 
cimg_¢´štf
(
tmp¡r
,tmp¡r.
_width
,"%u % %s_’dŸn\n",_width,
±y³
,
‘y³
);

62811 
	gCImg
<
	guch¬T
>::
¡ršg
(
tmp¡r
,
çl£
).
move_to
(
¡»am
);

62812 
cimgli¡_fÜ
(*
this
,
l
) {

62813 cÚ¡ 
	gCImg
<
	gT
>& 
	gimg
 = 
_d©a
[
l
];

62814 
cimg_¢´štf
(
tmp¡r
,tmp¡r.
_width
,"%u %u %u %u",
img
._width,img.
_height
,img.
_d•th
,img.
_¥eùrum
);

62815 
	gCImg
<
	guch¬T
>::
¡ršg
(
tmp¡r
,
çl£
).
move_to
(
¡»am
);

62816 ià(
	gimg
.
	g_d©a
) {

62817 
	gCImg
<
	gT
> 
	gtmp
;

62818 ià(
	gcimg
::
’dŸÂess
()è{ 
tmp
 = 
img
; cimg::
šv”t_’dŸÂess
Ñmp.
_d©a
,tmp.
size
()); }

62819 cÚ¡ 
	gCImg
<
	gT
>& 
	g»f
 = 
cimg
::
’dŸÂess
()?
tmp
:
img
;

62820 
boŞ
 
	gçed_to_com´ess
 = 
Œue
;

62821 ià(
	gis_com´es£d
) {

62822 #ifdeà
cimg_u£_zlib


62823 cÚ¡ 
ulÚgT
 
	gsiz
 = (
T
)*
»f
.
size
();

62824 
uLÚgf
 
	gcsiz
 = (
ulÚgT
)
com´essBound
(
siz
);

62825 
By‹f
 *cÚ¡ 
	gcbuf
 = 
Ãw
 By‹f[
csiz
];

62826 ià(
com´ess
(
cbuf
,&
csiz
,(
By‹f
*)
»f
.
_d©a
,
siz
))

62827 
	gcimg
::
w¬n
(
_cimgli¡_š¡ªû


62829 
cimgli¡_š¡ªû
);

62831 
cimg_¢´štf
(
tmp¡r
,tmp¡r.
_width
," #%lu\n",
csiz
);

62832 
	gCImg
<
	guch¬T
>::
¡ršg
(
tmp¡r
,
çl£
).
move_to
(
¡»am
);

62833 
	gCImg
<
	guch¬T
>(
	gcbuf
,
	gcsiz
).
move_to
(
¡»am
);

62834 
	gd–‘e
[] 
	gcbuf
;

62835 
	gçed_to_com´ess
 = 
çl£
;

62839 ià(
	gçed_to_com´ess
) {

62840 
	gCImg
<
	gch¬T
>::
¡ršg
("\n",
çl£
).
move_to
(
¡»am
);

62841 
	g¡»am
.
š£¹
(1);

62842 
	g¡»am
.
back
().
assign
((*)
»f
.
_d©a
,»f.
size
()*(
T
),1,1,1,
Œue
);

62844 } 
	gCImg
<
	gch¬T
>::
¡ršg
("\n",
çl£
).
move_to
(
¡»am
);

62846 
cimgli¡_­¶y
(
¡»am
,
uÄŞl
)('y');

62847  
	g¡»am
>'y';

62851 
	g‹m¶©e
<
ty³Çme
 
	gt
>

62852 
	gCImgLi¡
<
	gT
> 
g‘_un£rŸlize
(cÚ¡ 
CImg
<
t
>& 
bufãr
) {

62853 #ifdeà
cimg_u£_zlib


62854 
	#_cimgz_un£rŸlize_ÿ£
(
Tss
) { \

62855 
By‹f
 *
cbuf
 = 0; \

62856 ià((
t
)!=1 || 
cimg
::
ty³
<t>::
	`¡ršg
()==cimg::ty³<
boŞ
>::string()) { \

62857 
cbuf
 = 
Ãw
 
By‹f
[
csiz
]; By‹à*
_cbuf
 = cbuf; \

62858 
ulÚgT
 
k
 = 0; k<
csiz
; ++kè*(
_cbuf
++èğ(
By‹f
)*(
¡»am
++); \

62859 
is_by‹f
 = 
çl£
; \

62860 } { 
cbuf
 = (
By‹f
*)
¡»am
; sŒ—m+=
csiz
; 
is_by‹f
 = 
Œue
; } \

62861 
¿w
.
	`assign
(
W
,
H
,
D
,
C
); \

62862 
uLÚgf
 
de¡Ën
 = 
¿w
.
	`size
()*(
Tss
); \

62863 
	`uncom´ess
((
By‹f
*)
¿w
.
_d©a
,&
de¡Ën
,
cbuf
,
csiz
); \

62864 ià(!
is_by‹f
è
d–‘e
[] 
cbuf
; \

62865 }

	)

62867 
	#_cimgz_un£rŸlize_ÿ£
(
Tss
) \

62868 
throw
 
	`CImgArgum’tExû±iÚ
("CImgList<%s>::get_unserialize(): Unableo unserialize compressed data " \

62870 
	`pix–_ty³
());

	)

62873 
	#_cimg_un£rŸlize_ÿ£
(
Ts
,
Tss
) \

62874 ià(!
lßded
 && !
cimg
::
	`¡rÿ£cmp
(
Ts
,
¡r_pix–ty³
)) { \

62875 
l
 = 0;†<
N
; ++l) { \

62876 
j
 = 0; (
i
=()*
¡»am
)!='\n' && sŒ—m<
e¡»am
 && j<255è{ ++¡»am; 
tmp
[j++] = ()i; } \

62877 ++
¡»am
; 
tmp
[
j
] = 0; \

62878 
W
 = 
H
 = 
D
 = 
C
 = 0; 
csiz
 = 0; \

62879 ià((
”r
 = 
	`cimg_ssÿnf
(
tmp
,"%u %u %u %u #" 
cimg_fušt64
,&
W
,&
H
,&
D
,&
C
,&
csiz
))<4) \

62880 
throw
 
	`CImgArgum’tExû±iÚ
("CImgList<%s>::unserialize(): Invalid specified size (%u,%u,%u,%u) for " \

62882 
	`pix–_ty³
(),
W
,
H
,
D
,
C
,
l
); \

62883 ià(
W
*
H
*
D
*
C
>0) { \

62884 
CImg
<
Tss
> 
¿w
; \

62885 
CImg
<
T
> &
img
 = 
»s
.
_d©a
[
l
]; \

62886 ià(
”r
==5è
	`_cimgz_un£rŸlize_ÿ£
(
Tss
) \

62888 
¿w
.
	`assign
(
W
,
H
,
D
,
C
); \

62889 
CImg
<
uch¬T
> 
	`_¿w
((*)
¿w
.
_d©a
,
W
*(
Tss
),
H
,
D
,
C
,
Œue
); \

62890 ià((
t
)==1è{ 
¡d
::
	`memıy
(
_¿w
,
¡»am
,_¿w.
	`size
()); stream+=_raw.size(); } \

62891 
	`cimg_fÜ
(
_¿w
,
p
,è*°ğ()*(
¡»am
++); \

62893 ià(
’dŸn
!=
cimg
::
	`’dŸÂess
()ècimg::
	`šv”t_’dŸÂess
(
¿w
.
_d©a
,¿w.
	`size
()); \

62894 
¿w
.
	`move_to
(
img
); \

62897 
lßded
 = 
Œue
; \

62898 }

	)

62900 ià(
	gbufãr
.
is_em±y
())

62901 
throw
 
CImgArgum’tExû±iÚ
("CImgList<%s>::get_unserialize(): Specified serialized buffer is (null).",

62902 
pix–_ty³
());

62903 
	gCImgLi¡
<
	gT
> 
	g»s
;

62904 cÚ¡ 
t
 *
	g¡»am
 = 
bufãr
.
_d©a
, *cÚ¡ 
	ge¡»am
 = bufãr._d©¨+ bufãr.
size
();

62905 
boŞ
 
	glßded
 = 
çl£
, 
	g’dŸn
 = 
cimg
::
’dŸÂess
(), 
	gis_by‹f
 = false;

62906 
	gCImg
<
	gch¬T
> 
tmp
(256), 
¡r_pix–ty³
(256), 
¡r_’dŸn
(256);

62907 *
	gtmp
 = *
¡r_pix–ty³
 = *
¡r_’dŸn
 = 0;

62908 
	gj
, 
	gN
 = 0, 
	gW
, 
	gH
, 
	gD
, 
	gC
;

62909 
ušt64T
 
	gcsiz
;

62910 
	gi
, 
	g”r
;

62911 
	gcimg
::
unu£d
(
is_by‹f
);

62913 
	gj
 = 0; (
	gi
=()*
¡»am
)!='\n' && sŒ—m<
e¡»am
 && 
j
<255è{ ++¡»am; 
	gtmp
[j++] = ()
i
; }

62914 ++
	g¡»am
; 
	gtmp
[
j
] = 0;

62915 } *
	gtmp
=='#' && 
¡»am
<
e¡»am
);

62916 
	g”r
 = 
cimg_ssÿnf
(
tmp
,"%u%*c%255[A-Za-z64_]%*c%255[sA-Za-z_ ]",

62917 &
N
,
¡r_pix–ty³
.
_d©a
,
¡r_’dŸn
._data);

62918 ià(
	g”r
<2)

62919 
throw
 
CImgArgum’tExû±iÚ
("CImgList<%s>::get_unserialize(): CImg header‚ot found in serialized buffer.",

62920 
pix–_ty³
());

62921 ià(!
	gcimg
::
¡ºÿ£cmp
("l™e",
¡r_’dŸn
,6)è
	g’dŸn
 = 
çl£
;

62922 ià(!
	gcimg
::
¡ºÿ£cmp
("big",
¡r_’dŸn
,3)è
	g’dŸn
 = 
Œue
;

62923 
	g»s
.
assign
(
N
);

62924 
_cimg_un£rŸlize_ÿ£
("boŞ",
boŞ
);

62925 
_cimg_un£rŸlize_ÿ£
("unsigned_char",);

62926 
_cimg_un£rŸlize_ÿ£
("uchar",);

62927 
_cimg_un£rŸlize_ÿ£
("char",);

62928 
_cimg_un£rŸlize_ÿ£
("unsigned_short",);

62929 
_cimg_un£rŸlize_ÿ£
("ushort",);

62930 
_cimg_un£rŸlize_ÿ£
("short",);

62931 
_cimg_un£rŸlize_ÿ£
("unsigned_int",);

62932 
_cimg_un£rŸlize_ÿ£
("uint",);

62933 
_cimg_un£rŸlize_ÿ£
("int",);

62934 
_cimg_un£rŸlize_ÿ£
("unsigÃd_št64",
ušt64T
);

62935 
_cimg_un£rŸlize_ÿ£
("ušt64",
ušt64T
);

62936 
_cimg_un£rŸlize_ÿ£
("št64",
št64T
);

62937 
_cimg_un£rŸlize_ÿ£
("float",);

62938 
_cimg_un£rŸlize_ÿ£
("double",);

62939 ià(!
	glßded
)

62940 
throw
 
CImgArgum’tExû±iÚ
("CImgList<%s>::get_unserialize(): Unsupported…ixelype '%s' defined "

62942 
pix–_ty³
(),
¡r_pix–ty³
.
_d©a
);

62943  
	g»s
;

62958 cÚ¡ 
	gCImgLi¡
<
	guch¬T
>& 
fÚt
(cÚ¡ 
»que¡ed_height
, cÚ¡ 
boŞ
 
is_v¬ŸbË_width
=
Œue
) {

62959 ià(!
»que¡ed_height
è 
CImgLi¡
<
uch¬T
>::
cÚ¡_em±y
();

62960 
	gcimg
::
mu‹x
(11);

62961 cÚ¡ 
	gfÚt_»sizem­
[] = {

62978 cÚ¡ *cÚ¡ *
	gfÚt_d©a
[] = {

62979 
cimg
::
d©a_fÚt_sm®l
,

62980 
cimg
::
d©a_fÚt_nÜm®
,

62981 
cimg
::
d©a_fÚt_Ïrge
,

62982 
cimg
::
d©a_fÚt_huge
 };

62984 
	gfÚt_width
[] = { 10,26,52,104 },

62985 
	gfÚt_height
[] = { 13,32,64,128 },

62986 
	gfÚt_M
[] = { 86,91,91,47 },

62987 
	gfÚt_chunk
[] = { (
cimg
::
d©a_fÚt_sm®l
)/(*),

62988 (
cimg
::
d©a_fÚt_nÜm®
)/(*),

62989 (
cimg
::
d©a_fÚt_Ïrge
)/(*),

62990 (
cimg
::
d©a_fÚt_huge
)/(*) };

62991 cÚ¡ 
	gfÚt_is_bš¬y
[] = { 1,0,0,1 };

62992 
	gCImg
<
	guch¬T
> 
	gfÚt_ba£
[4];

62994 
	gšd
 =

62995 
»que¡ed_height
<=
fÚt_height
[0]?0U:

62996 
»que¡ed_height
<=
fÚt_height
[1]?1U:

62997 
»que¡ed_height
<=
fÚt_height
[2]?2U:3U;

63000 
	gCImg
<
	guch¬T
> &
	gba£f
 = 
fÚt_ba£
[
šd
];

63001 ià(!
	gba£f
) {

63002 
	gba£f
.
assign
(256*
fÚt_width
[
šd
],
fÚt_height
[ind]);

63004 *
	g±rd
 = 
ba£f
;

63005 cÚ¡ *cÚ¡ 
	g±rde
 = 
ba£f
.
’d
();

63008 
	gCImg
<> 
	gd©af
;

63009 
	gk
 = 0; k<
	gfÚt_chunk
[
šd
]; ++k)

63010 
	gd©af
.
­³nd
(
CImg
<>::
¡ršg
(
fÚt_d©a
[
šd
][
k
],k==
fÚt_chunk
[šd] - 1,
Œue
),'x');

63013 cÚ¡ 
	gM
 = 
fÚt_M
[
šd
];

63014 ià(
	gfÚt_is_bš¬y
[
šd
])

63015 cÚ¡ *
	g±rs
 = 
d©af
; *ptrs; ++ptrs) {

63016 cÚ¡ 
	g_n
 = ()(*
±rs
 - 
M
 - 32), 
	gv
 = 
_n
>=0?255:0, 
	gn
 = _n>=0?_n:-_n;

63017 ià(
	g±rd
 + 
	gn
<=
±rde
è{ 
¡d
::
mem£t
(
±rd
,
v
,
n
);…trd+=n; }

63018 { 
	g¡d
::
mem£t
(
±rd
,
v
,
±rde
 -…trd); ; }

63021 cÚ¡ *
	g±rs
 = 
d©af
; *ptrs; ++ptrs) {

63022 
	gn
 = ()*
±rs
 - 
M
 - 32, 
	gv
 = 0;

63023 ià(
	gn
>=0è{ 
v
 = 85*
n
;‚ = 1; }

63025 
	gn
 = -
n
;

63026 
	gv
 = ()*(++
±rs
è- 
M
 - 32;

63027 ià(
	gv
<0è{ v = 0; --
	g±rs
; } v*=85;

63029 ià(
	g±rd
 + 
	gn
<=
±rde
è{ 
¡d
::
mem£t
(
±rd
,
v
,
n
);…trd+=n; }

63030 { 
	g¡d
::
mem£t
(
±rd
,
v
,
±rde
 -…trd); ; }

63035 
	gCImgLi¡
<
	guch¬T
> 
	gfÚts
[16];

63036 
boŞ
 
	gis_v¬ŸbË_widths
[16] = { 0 };

63037 
	gšd
 = ~0U;

63038 
	gi
 = 0; i<16; ++i)

63039 ià(!
	gfÚts
[
i
] || (
	gis_v¬ŸbË_widths
[i]==
is_v¬ŸbË_width
 && 
»que¡ed_height
==
fÚts
[i][0].
_height
)) {

63040 
šd
 = ()
i
; ;

63042 ià(
	gšd
==~0U) {

63043 
fÚts
->
assign
();

63044 
	g¡d
::
memmove
((*)
fÚts
,(*)(fÚt + 1),15*(
CImgLi¡
<
uch¬T
>));

63045 
	g¡d
::
memmove
(
is_v¬ŸbË_widths
,is_v¬ŸbË_width + 1,15*(
boŞ
));

63046 
	g¡d
::
mem£t
((*)(
fÚts
 + (
šd
=15)),0,(
CImgLi¡
<
uch¬T
>));

63048 
	gCImgLi¡
<
	guch¬T
> &
	gfÚt
 = 
fÚts
[
šd
];

63051 ià(!
	gfÚt
) {

63052 
	gis_v¬ŸbË_widths
[
šd
] = 
is_v¬ŸbË_width
;

63053 
	gba£f
.
g‘_¥l™
('x',256).
move_to
(
fÚt
);

63054 ià(
	g»que¡ed_height
!=
fÚt
[0].
_height
)

63055 
cimgli¡_fÜ
(
fÚt
,
l
) {

63056 
	gfÚt
[
l
].
»size
(
¡d
::
max
(1U,
fÚt
[l].
_width
*
»que¡ed_height
/fÚt[l].
_height
),requested_height,-100,-100,

63057 
fÚt
[0].
_height
>
»que¡ed_height
?2:5);

63058 
cimg_fÜ
(
fÚt
[
l
],
±r
,
uch¬T
è*
	g±r
 = 
fÚt_»sizem­
[*ptr];

63060 ià(
	gis_v¬ŸbË_width
) {

63061 
cimgli¡_fÜ
(
fÚt
,
l
) {

63062 
	gCImg
<
	guch¬T
>& 
	gË‰”
 = 
fÚt
[
l
];

63063 
	gxmš
 = 
Ë‰”
.
width
(), 
	gxmax
 = 0;

63064 
cimg_fÜX
(
Ë‰”
,
x
) {

63065 
cimg_fÜY
(
Ë‰”
,
y
èiàÖ‘‹r(
x
,y)è{ 
	gxmš
 = x; ; }

63066 ià(
	gxmš
!=
Ë‰”
.
width
()) ;

63068 
cimg_rofX
(
Ë‰”
,
x
) {

63069 
cimg_fÜY
(
Ë‰”
,
y
èiàÖ‘‹r(
x
,y)è{ 
	gxmax
 = x; ; }

63070 ià(
	gxmax
) ;

63072 ià(
	gxmš
<=
xmax
è
Ë‰”
.
üİ
(
xmš
,0,xmax,Ë‰”.
_height
 - 1);

63074 
	gfÚt
[()' '].
»size
(
fÚt
[()'f'].
_width
,-100,-100,-100,0);

63075 ià(' ' + 256<
	gfÚt
.
size
()èfÚt[' ' + 256].
»size
(
fÚt
[()'f'].
_width
,-100,-100,-100,0);

63077 
	gfÚt
.
š£¹
(256,0);

63078 
cimgli¡_fÜ_š
(
fÚt
,0,255,
l
è
	gfÚt
[l].
assign
(fÚt[È+ 256].
_width
,fÚt[È+ 256].
_height
,1,3,1);

63080 
	gcimg
::
mu‹x
(11,0);

63081  
	gfÚt
;

63089 
	gCImgLi¡
<
	gT
>& 
FFT
(cÚ¡ 
axis
, cÚ¡ 
boŞ
 
šv”t
=
çl£
) {

63090 ià(
is_em±y
()è *
this
;

63091 ià(
	g_width
==1è
š£¹
(1);

63092 ià(
	g_width
>2)

63093 
	gcimg
::
w¬n
(
_cimgli¡_š¡ªû


63095 
cimgli¡_š¡ªû
);

63096 
	gCImg
<
	gT
>::
FFT
(
_d©a
[0],_d©a[1],
axis
,
šv”t
);

63097  *
	gthis
;

63101 
	gCImgLi¡
<
	gTæßt
> 
g‘_FFT
(cÚ¡ 
axis
, cÚ¡ 
boŞ
 
šv”t
=
çl£
) const {

63102  
CImgLi¡
<
Tæßt
>(*
this
,
çl£
).
FFT
(
axis
,
šv”t
);

63109 
	gCImgLi¡
<
	gT
>& 
FFT
(cÚ¡ 
boŞ
 
šv”t
=
çl£
) {

63110 ià(
is_em±y
()è *
this
;

63111 ià(
	g_width
==1è
š£¹
(1);

63112 ià(
	g_width
>2)

63113 
	gcimg
::
w¬n
(
_cimgli¡_š¡ªû


63115 
cimgli¡_š¡ªû
);

63117 
	gCImg
<
	gT
>::
FFT
(
_d©a
[0],_d©a[1],
šv”t
);

63118  *
	gthis
;

63122 
	gCImgLi¡
<
	gTæßt
> 
g‘_FFT
(cÚ¡ 
boŞ
 
šv”t
=
çl£
) const {

63123  
CImgLi¡
<
Tæßt
>(*
this
,
çl£
).
FFT
(
šv”t
);

63129 
	gCImgLi¡
<
	gT
>& 
»v”£_objeù3d
() {

63130 
cimgli¡_fÜ
(*
this
,
l
) {

63131 
	gCImg
<
	gT
>& 
	gp
 = 
_d©a
[
l
];

63132 
	gp
.
size
()) {

63133 2 : 3: 
cimg
::
sw­
(
p
[0],p[1]); ;

63134 6 : 
cimg
::
sw­
(
p
[0],p[1],p[2],p[4],p[3],p[5]); ;

63135 9 : 
cimg
::
sw­
(
p
[0],p[1],p[3],p[5],p[4],p[6]); ;

63136 4 : 
cimg
::
sw­
(
p
[0],p[1],p[2],p[3]); ;

63137 12 : 
cimg
::
sw­
(
p
[0],p[1],p[2],p[3],p[4],p[6],p[5],p[7],p[8],p[10],p[9],p[11]); ;

63140  *
	gthis
;

63144 
	gCImgLi¡
<
	gT
> 
g‘_»v”£_objeù3d
() const {

63145  (+*
	gthis
).
»v”£_objeù3d
();

63153 
Çme¥aû
 
	gcimg
 {

63157 
šlše
 
FILE
* 
_¡dš
(cÚ¡ 
boŞ
 
throw_exû±iÚ
) {

63158 #iâdeà
cimg_u£_r


63159 
	gcimg
::
unu£d
(
throw_exû±iÚ
);

63160  
	g¡dš
;

63162 ià(
	gthrow_exû±iÚ
) {

63163 
	gcimg
::
exû±iÚ_mode
(0);

63164 
throw
 
CImgIOExû±iÚ
("cimg::stdin(): Referenceo 'stdin' stream‚ot‡llowed in R mode "

63171 
šlše
 
FILE
* 
_¡dout
(cÚ¡ 
boŞ
 
throw_exû±iÚ
) {

63172 #iâdeà
cimg_u£_r


63173 
	gcimg
::
unu£d
(
throw_exû±iÚ
);

63174  
	g¡dout
;

63176 ià(
	gthrow_exû±iÚ
) {

63177 
	gcimg
::
exû±iÚ_mode
(0);

63178 
throw
 
CImgIOExû±iÚ
("cimg::stdout(): Referenceo 'stdout' stream‚ot‡llowed in R mode "

63185 
šlše
 
FILE
* 
_¡d”r
(cÚ¡ 
boŞ
 
throw_exû±iÚ
) {

63186 #iâdeà
cimg_u£_r


63187 
	gcimg
::
unu£d
(
throw_exû±iÚ
);

63188  
	g¡d”r
;

63190 ià(
	gthrow_exû±iÚ
) {

63191 
	gcimg
::
exû±iÚ_mode
(0);

63192 
throw
 
CImgIOExû±iÚ
("cimg::stderr(): Referenceo 'stderr' stream‚ot‡llowed in R mode "

63200 
šlše
 
	g¡d
::
FILE
 *
¡d_fİ’
(cÚ¡ *cÚ¡ 
·th
, cÚ¡ *cÚ¡ 
mode
) {

63201 
	g¡d
::
FILE
 *cÚ¡ 
»s
 = 
¡d
::
fİ’
(
·th
,
mode
);

63202 ià(
	g»s
) „es;

63203 #ià
cimg_OS
==2

63205 
	g”r
 = 
MuÉiBy‹ToWideCh¬
(
CP_UTF8
,0,
·th
,-1,0,0);

63206 ià(
	g”r
) {

63207 
	gCImg
<
	gwch¬_t
> 
w·th
(
”r
);

63208 
	g”r
 = 
MuÉiBy‹ToWideCh¬
(
CP_UTF8
,0,
·th
,-1,
w·th
,
”r
);

63209 ià(
	g”r
) {

63210 
	g”r
 = 
MuÉiBy‹ToWideCh¬
(
CP_UTF8
,0,
mode
,-1,0,0);

63211 ià(
	g”r
) {

63212 
	gCImg
<
	gwch¬_t
> 
wmode
(
”r
);

63213 ià(
MuÉiBy‹ToWideCh¬
(
CP_UTF8
,0,
mode
,-1,
wmode
,
”r
))

63214  
_wfİ’
(
w·th
,
wmode
);

63223 #ià
cimg_OS
==2

63224 
šlše
 
DWORD
 
wš_g‘f—‰ribu‹s
(cÚ¡ *cÚ¡ 
·th
) {

63225 
DWORD
 
	g»s
 = 
G‘FeA‰ribu‹sA
(
·th
);

63226 ià(
	g»s
==
INVALID_FILE_ATTRIBUTES
) {

63228 
”r
 = 
MuÉiBy‹ToWideCh¬
(
CP_UTF8
,0,
·th
,-1,0,0);

63229 ià(
	g”r
) {

63230 
	gCImg
<
	gwch¬_t
> 
w·th
(
”r
);

63231 ià(
MuÉiBy‹ToWideCh¬
(
CP_UTF8
,0,
·th
,-1,
w·th
,
”r
)è
	g»s
 = 
G‘FeA‰ribu‹sW
(wpath);

63234  
	g»s
;

63244 
šlše
 cÚ¡ * 
‹mpÜ¬y_·th
(cÚ¡ *cÚ¡ 
u£r_·th
, cÚ¡ 
boŞ
 
»š™_·th
) {

63245 
	#_cimg_‹¡_‹mpÜ¬y_·th
(
p
) \

63246 ià(!
·th_found
) { \

63247 
	`cimg_¢´štf
(
s_·th
,s_·th.
	`width
(),"%s",
p
); \

63248 
	`cimg_¢´štf
(
tmp
,tmp.
_width
,"%s%c%s",
s_·th
.
	`d©a
(),
cimg_fe_£·¿tÜ
,
f’ame_tmp
.
_d©a
); \

63249 ià((
fe
=
cimg
::
	`¡d_fİ’
(
tmp
,"wb"))!=0è{ cimg::
	`fşo£
(fe); 
¡d
::
	`»move
Ñmp); 
·th_found
 = 
Œue
; } \

63250 }

	)

63251 
	gCImg
<> 
	gs_·th
;

63252 
	gcimg
::
mu‹x
(7);

63253 ià(
	g»š™_·th
è
	gs_·th
.
assign
();

63254 ià(
	gu£r_·th
) {

63255 ià(!
	gs_·th
ès_·th.
assign
(1024);

63256 
	g¡d
::
¡ºıy
(
s_·th
,
u£r_·th
,1023);

63257 } ià(!
	gs_·th
) {

63258 
	gs_·th
.
assign
(1024);

63259 
boŞ
 
	g·th_found
 = 
çl£
;

63260 
	gCImg
<> 
tmp
(1024), 
f’ame_tmp
(256);

63261 
	g¡d
::
FILE
 *
fe
 = 0;

63262 
cimg_¢´štf
(
f’ame_tmp
,f’ame_tmp.
_width
,"%s.tmp",
cimg
::
f’am”ªd
());

63263 *
	gtmpP©h
 = 
¡d
::
g‘’v
("TMP");

63264 ià(!
	gtmpP©h
è{mpP©h = 
¡d
::
g‘’v
("TEMP"); 
wšfÜm©_¡ršg
(
tmpP©h
); }

63265 ià(
	gtmpP©h
è
_cimg_‹¡_‹mpÜ¬y_·th
(
tmpP©h
);

63266 #ià
cimg_OS
==2

63267 
_cimg_‹¡_‹mpÜ¬y_·th
("C:\\WINNT\\Temp");

63268 
_cimg_‹¡_‹mpÜ¬y_·th
("C:\\WINDOWS\\Temp");

63269 
_cimg_‹¡_‹mpÜ¬y_·th
("C:\\Temp");

63270 
_cimg_‹¡_‹mpÜ¬y_·th
("C:");

63271 
_cimg_‹¡_‹mpÜ¬y_·th
("D:\\WINNT\\Temp");

63272 
_cimg_‹¡_‹mpÜ¬y_·th
("D:\\WINDOWS\\Temp");

63273 
_cimg_‹¡_‹mpÜ¬y_·th
("D:\\Temp");

63274 
_cimg_‹¡_‹mpÜ¬y_·th
("D:");

63276 
_cimg_‹¡_‹mpÜ¬y_·th
("/tmp");

63277 
_cimg_‹¡_‹mpÜ¬y_·th
("/var/tmp");

63279 ià(!
	g·th_found
) {

63280 *
	gs_·th
 = 0;

63281 
	g¡d
::
¡ºıy
(
tmp
,
f’ame_tmp
,tmp.
_width
 - 1);

63282 ià((
	gfe
=
cimg
::
¡d_fİ’
(
tmp
,"wb"))!=0è{ cimg::
fşo£
(
fe
); 
	g¡d
::
»move
Ñmp); 
	g·th_found
 = 
Œue
; }

63284 ià(!
	g·th_found
) {

63285 
	gcimg
::
mu‹x
(7,0);

63286 
throw
 
CImgIOExû±iÚ
("cimg::temporary_path(): Failedo†ocate…ath for writingemporary files.\n");

63289 
	gcimg
::
mu‹x
(7,0);

63290  
	gs_·th
;

63299 #ià
cimg_OS
==2

63300 
šlše
 cÚ¡ * 
´og¿mfes_·th
(cÚ¡ *cÚ¡ 
u£r_·th
, cÚ¡ 
boŞ
 
»š™_·th
) {

63301 
	gCImg
<> 
	gs_·th
;

63302 
	gcimg
::
mu‹x
(7);

63303 ià(
	g»š™_·th
è
	gs_·th
.
assign
();

63304 ià(
	gu£r_·th
) {

63305 ià(!
	gs_·th
ès_·th.
assign
(1024);

63306 
	g¡d
::
¡ºıy
(
s_·th
,
u£r_·th
,1023);

63307 } ià(!
	gs_·th
) {

63308 
	gs_·th
.
assign
(
MAX_PATH
);

63309 *
	gs_·th
 = 0;

63311 #ià!
defšed
(
__INTEL_COMPILER
)

63312 ià(!
SHG‘S³cŸlFŞd”P©hA
(0,
s_·th
,0x0026,
çl£
)) {

63313 cÚ¡ *cÚ¡ 
	gpfP©h
 = 
¡d
::
g‘’v
("PROGRAMFILES");

63314 ià(
	gpfP©h
è
	g¡d
::
¡ºıy
(
s_·th
,
pfP©h
,
MAX_PATH
 - 1);

63315 
	g¡d
::
¡rıy
(
s_·th
,"C:\\PROGRA~1");

63318 
	g¡d
::
¡rıy
(
s_·th
,"C:\\PROGRA~1");

63321 
	gcimg
::
mu‹x
(7,0);

63322  
	gs_·th
;

63332 
šlše
 cÚ¡ * 
imagemagick_·th
(cÚ¡ *cÚ¡ 
u£r_·th
, cÚ¡ 
boŞ
 
»š™_·th
) {

63333 
	gCImg
<> 
	gs_·th
;

63334 
	gcimg
::
mu‹x
(7);

63335 ià(
	g»š™_·th
è
	gs_·th
.
assign
();

63336 ià(
	gu£r_·th
) {

63337 ià(!
	gs_·th
ès_·th.
assign
(1024);

63338 
	g¡d
::
¡ºıy
(
s_·th
,
u£r_·th
,1023);

63339 } ià(!
	gs_·th
) {

63340 
	gs_·th
.
assign
(1024);

63341 
boŞ
 
	g·th_found
 = 
çl£
;

63342 
	g¡d
::
FILE
 *
fe
 = 0;

63343 #ià
cimg_OS
==2

63344 cÚ¡ *cÚ¡ 
	gpf_·th
 = 
´og¿mfes_·th
();

63345 
	gl
 = 0;†<2 && !
	g·th_found
; ++l) {

63346 cÚ¡ *cÚ¡ 
	gs_exe
 = 
l
?"convert":"magick";

63347 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,".\\%s.exe",
s_exe
);

63348 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63349 
	gk
 = 32; k>=10 && !
·th_found
; --k) {

63350 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"%s\\IMAGEM~1.%.2d-\\%s.exe",
pf_·th
,
k
,
s_exe
);

63351 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63353 
	gk
 = 9; k>=0 && !
·th_found
; --k) {

63354 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"%s\\IMAGEM~1.%d-Q\\%s.exe",
pf_·th
,
k
,
s_exe
);

63355 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63357 
	gk
 = 32; k>=0 && !
·th_found
; --k) {

63358 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"%s\\IMAGEM~1.%d\\%s.exe",
pf_·th
,
k
,
s_exe
);

63359 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63361 
	gk
 = 32; k>=10 && !
·th_found
; --k) {

63362 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"%s\\IMAGEM~1.%.2d-\\VISUA~1\\BIN\\%s.exe",
pf_·th
,
k
,
s_exe
);

63363 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63365 
	gk
 = 9; k>=0 && !
·th_found
; --k) {

63366 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"%s\\IMAGEM~1.%d-Q\\VISUA~1\\BIN\\%s.exe",
pf_·th
,
k
,
s_exe
);

63367 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63369 
	gk
 = 32; k>=0 && !
·th_found
; --k) {

63370 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"%s\\IMAGEM~1.%d\\VISUA~1\\BIN\\%s.exe",
pf_·th
,
k
,
s_exe
);

63371 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63373 
	gk
 = 32; k>=10 && !
·th_found
; --k) {

63374 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"C:\\IMAGEM~1.%.2d-\\%s.exe",
k
,
s_exe
);

63375 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63377 
	gk
 = 9; k>=0 && !
·th_found
; --k) {

63378 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"C:\\IMAGEM~1.%d-Q\\%s.exe",
k
,
s_exe
);

63379 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63381 
	gk
 = 32; k>=0 && !
·th_found
; --k) {

63382 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"C:\\IMAGEM~1.%d\\%s.exe",
k
,
s_exe
);

63383 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63385 
	gk
 = 32; k>=10 && !
·th_found
; --k) {

63386 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"C:\\IMAGEM~1.%.2d-\\VISUA~1\\BIN\\%s.exe",
k
,
s_exe
);

63387 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63389 
	gk
 = 9; k>=0 && !
·th_found
; --k) {

63390 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"C:\\IMAGEM~1.%d-Q\\VISUA~1\\BIN\\%s.exe",
k
,
s_exe
);

63391 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63393 
	gk
 = 32; k>=0 && !
·th_found
; --k) {

63394 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"C:\\IMAGEM~1.%d\\VISUA~1\\BIN\\%s.exe",
k
,
s_exe
);

63395 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63397 
	gk
 = 32; k>=10 && !
·th_found
; --k) {

63398 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"D:\\IMAGEM~1.%.2d-\\%s.exe",
k
,
s_exe
);

63399 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63401 
	gk
 = 9; k>=0 && !
·th_found
; --k) {

63402 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"D:\\IMAGEM~1.%d-Q\\%s.exe",
k
,
s_exe
);

63403 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63405 
	gk
 = 32; k>=0 && !
·th_found
; --k) {

63406 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"D:\\IMAGEM~1.%d\\%s.exe",
k
,
s_exe
);

63407 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63409 
	gk
 = 32; k>=10 && !
·th_found
; --k) {

63410 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"D:\\IMAGEM~1.%.2d-\\VISUA~1\\BIN\\%s.exe",
k
,
s_exe
);

63411 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63413 
	gk
 = 9; k>=0 && !
·th_found
; --k) {

63414 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"D:\\IMAGEM~1.%d-Q\\VISUA~1\\BIN\\%s.exe",
k
,
s_exe
);

63415 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63417 
	gk
 = 32; k>=0 && !
·th_found
; --k) {

63418 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"D:\\IMAGEM~1.%d\\VISUA~1\\BIN\\%s.exe",
k
,
s_exe
);

63419 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63421 ià(!
	g·th_found
è
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"%s.exe",
s_exe
);

63424 
	g¡d
::
¡rıy
(
s_·th
,"./magick");

63425 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63426 ià(!
	g·th_found
) {

63427 
	g¡d
::
¡rıy
(
s_·th
,"./convert");

63428 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63430 ià(!
	g·th_found
è
	g¡d
::
¡rıy
(
s_·th
,"convert");

63432 
wšfÜm©_¡ršg
(
s_·th
);

63434 
	gcimg
::
mu‹x
(7,0);

63435  
	gs_·th
;

63444 
šlše
 cÚ¡ * 
g¿phicsmagick_·th
(cÚ¡ *cÚ¡ 
u£r_·th
, cÚ¡ 
boŞ
 
»š™_·th
) {

63445 
	gCImg
<> 
	gs_·th
;

63446 
	gcimg
::
mu‹x
(7);

63447 ià(
	g»š™_·th
è
	gs_·th
.
assign
();

63448 ià(
	gu£r_·th
) {

63449 ià(!
	gs_·th
ès_·th.
assign
(1024);

63450 
	g¡d
::
¡ºıy
(
s_·th
,
u£r_·th
,1023);

63451 } ià(!
	gs_·th
) {

63452 
	gs_·th
.
assign
(1024);

63453 
boŞ
 
	g·th_found
 = 
çl£
;

63454 
	g¡d
::
FILE
 *
fe
 = 0;

63455 #ià
cimg_OS
==2

63456 cÚ¡ *cÚ¡ 
	gpf_·th
 = 
´og¿mfes_·th
();

63457 ià(!
	g·th_found
) {

63458 
	g¡d
::
¡rıy
(
s_·th
,".\\gm.exe");

63459 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63461 
	gk
 = 32; k>=10 && !
·th_found
; --k) {

63462 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"%s\\GRAPHI~1.%.2d-\\gm.exe",
pf_·th
,
k
);

63463 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63465 
	gk
 = 9; k>=0 && !
·th_found
; --k) {

63466 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"%s\\GRAPHI~1.%d-Q\\gm.exe",
pf_·th
,
k
);

63467 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63469 
	gk
 = 32; k>=0 && !
·th_found
; --k) {

63470 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"%s\\GRAPHI~1.%d\\gm.exe",
pf_·th
,
k
);

63471 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63473 
	gk
 = 32; k>=10 && !
·th_found
; --k) {

63474 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"%s\\GRAPHI~1.%.2d-\\VISUA~1\\BIN\\gm.exe",
pf_·th
,
k
);

63475 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63477 
	gk
 = 9; k>=0 && !
·th_found
; --k) {

63478 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"%s\\GRAPHI~1.%d-Q\\VISUA~1\\BIN\\gm.exe",
pf_·th
,
k
);

63479 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63481 
	gk
 = 32; k>=0 && !
·th_found
; --k) {

63482 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"%s\\GRAPHI~1.%d\\VISUA~1\\BIN\\gm.exe",
pf_·th
,
k
);

63483 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63485 
	gk
 = 32; k>=10 && !
·th_found
; --k) {

63486 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"C:\\GRAPHI~1.%.2d-\\gm.exe",
k
);

63487 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63489 
	gk
 = 9; k>=0 && !
·th_found
; --k) {

63490 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"C:\\GRAPHI~1.%d-Q\\gm.exe",
k
);

63491 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63493 
	gk
 = 32; k>=0 && !
·th_found
; --k) {

63494 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"C:\\GRAPHI~1.%d\\gm.exe",
k
);

63495 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63497 
	gk
 = 32; k>=10 && !
·th_found
; --k) {

63498 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"C:\\GRAPHI~1.%.2d-\\VISUA~1\\BIN\\gm.exe",
k
);

63499 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63501 
	gk
 = 9; k>=0 && !
·th_found
; --k) {

63502 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"C:\\GRAPHI~1.%d-Q\\VISUA~1\\BIN\\gm.exe",
k
);

63503 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63505 
	gk
 = 32; k>=0 && !
·th_found
; --k) {

63506 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"C:\\GRAPHI~1.%d\\VISUA~1\\BIN\\gm.exe",
k
);

63507 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63509 
	gk
 = 32; k>=10 && !
·th_found
; --k) {

63510 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"D:\\GRAPHI~1.%.2d-\\gm.exe",
k
);

63511 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63513 
	gk
 = 9; k>=0 && !
·th_found
; --k) {

63514 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"D:\\GRAPHI~1.%d-Q\\gm.exe",
k
);

63515 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63517 
	gk
 = 32; k>=0 && !
·th_found
; --k) {

63518 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"D:\\GRAPHI~1.%d\\gm.exe",
k
);

63519 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63521 
	gk
 = 32; k>=10 && !
·th_found
; --k) {

63522 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"D:\\GRAPHI~1.%.2d-\\VISUA~1\\BIN\\gm.exe",
k
);

63523 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63525 
	gk
 = 9; k>=0 && !
·th_found
; --k) {

63526 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"D:\\GRAPHI~1.%d-Q\\VISUA~1\\BIN\\gm.exe",
k
);

63527 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63529 
	gk
 = 32; k>=0 && !
·th_found
; --k) {

63530 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"D:\\GRAPHI~1.%d\\VISUA~1\\BIN\\gm.exe",
k
);

63531 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63533 ià(!
	g·th_found
è
	g¡d
::
¡rıy
(
s_·th
,"gm.exe");

63535 ià(!
	g·th_found
) {

63536 
	g¡d
::
¡rıy
(
s_·th
,"./gm");

63537 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63539 ià(!
	g·th_found
è
	g¡d
::
¡rıy
(
s_·th
,"gm");

63541 
wšfÜm©_¡ršg
(
s_·th
);

63543 
	gcimg
::
mu‹x
(7,0);

63544  
	gs_·th
;

63553 
šlše
 cÚ¡ * 
medcÚ_·th
(cÚ¡ *cÚ¡ 
u£r_·th
, cÚ¡ 
boŞ
 
»š™_·th
) {

63554 
	gCImg
<> 
	gs_·th
;

63555 
	gcimg
::
mu‹x
(7);

63556 ià(
	g»š™_·th
è
	gs_·th
.
assign
();

63557 ià(
	gu£r_·th
) {

63558 ià(!
	gs_·th
ès_·th.
assign
(1024);

63559 
	g¡d
::
¡ºıy
(
s_·th
,
u£r_·th
,1023);

63560 } ià(!
	gs_·th
) {

63561 
	gs_·th
.
assign
(1024);

63562 
boŞ
 
	g·th_found
 = 
çl£
;

63563 
	g¡d
::
FILE
 *
fe
 = 0;

63564 #ià
cimg_OS
==2

63565 cÚ¡ *cÚ¡ 
	gpf_·th
 = 
´og¿mfes_·th
();

63566 ià(!
	g·th_found
) {

63567 
	g¡d
::
¡rıy
(
s_·th
,".\\medcon.exe");

63568 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63570 ià(!
	g·th_found
) {

63571 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"%s\\XMedCÚ\\bš\\medcÚ.b©",
pf_·th
);

63572 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63574 ià(!
	g·th_found
) {

63575 
cimg_¢´štf
(
s_·th
,s_·th.
_width
,"%s\\XMedCÚ\\bš\\medcÚ.exe",
pf_·th
);

63576 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63578 ià(!
	g·th_found
) {

63579 
	g¡d
::
¡rıy
(
s_·th
,"C:\\XMedCon\\bin\\medcon.exe");

63580 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63582 ià(!
	g·th_found
è
	g¡d
::
¡rıy
(
s_·th
,"medcon.exe");

63584 ià(!
	g·th_found
) {

63585 
	g¡d
::
¡rıy
(
s_·th
,"./medcon");

63586 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63588 ià(!
	g·th_found
è
	g¡d
::
¡rıy
(
s_·th
,"medcon");

63590 
wšfÜm©_¡ršg
(
s_·th
);

63592 
	gcimg
::
mu‹x
(7,0);

63593  
	gs_·th
;

63602 
šlše
 cÚ¡ *
ffm³g_·th
(cÚ¡ *cÚ¡ 
u£r_·th
, cÚ¡ 
boŞ
 
»š™_·th
) {

63603 
	gCImg
<> 
	gs_·th
;

63604 
	gcimg
::
mu‹x
(7);

63605 ià(
	g»š™_·th
è
	gs_·th
.
assign
();

63606 ià(
	gu£r_·th
) {

63607 ià(!
	gs_·th
ès_·th.
assign
(1024);

63608 
	g¡d
::
¡ºıy
(
s_·th
,
u£r_·th
,1023);

63609 } ià(!
	gs_·th
) {

63610 
	gs_·th
.
assign
(1024);

63611 
boŞ
 
	g·th_found
 = 
çl£
;

63612 
	g¡d
::
FILE
 *
fe
 = 0;

63613 #ià
cimg_OS
==2

63614 ià(!
	g·th_found
) {

63615 
	g¡d
::
¡rıy
(
s_·th
,".\\ffmpeg.exe");

63616 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63618 ià(!
	g·th_found
è
	g¡d
::
¡rıy
(
s_·th
,"ffmpeg.exe");

63620 ià(!
	g·th_found
) {

63621 
	g¡d
::
¡rıy
(
s_·th
,"./ffmpeg");

63622 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63624 ià(!
	g·th_found
è
	g¡d
::
¡rıy
(
s_·th
,"ffmpeg");

63626 
wšfÜm©_¡ršg
(
s_·th
);

63628 
	gcimg
::
mu‹x
(7,0);

63629  
	gs_·th
;

63638 
šlše
 cÚ¡ *
gz_·th
(cÚ¡ *cÚ¡ 
u£r_·th
, cÚ¡ 
boŞ
 
»š™_·th
) {

63639 
	gCImg
<> 
	gs_·th
;

63640 
	gcimg
::
mu‹x
(7);

63641 ià(
	g»š™_·th
è
	gs_·th
.
assign
();

63642 ià(
	gu£r_·th
) {

63643 ià(!
	gs_·th
ès_·th.
assign
(1024);

63644 
	g¡d
::
¡ºıy
(
s_·th
,
u£r_·th
,1023);

63645 } ià(!
	gs_·th
) {

63646 
	gs_·th
.
assign
(1024);

63647 
boŞ
 
	g·th_found
 = 
çl£
;

63648 
	g¡d
::
FILE
 *
fe
 = 0;

63649 #ià
cimg_OS
==2

63650 ià(!
	g·th_found
) {

63651 
	g¡d
::
¡rıy
(
s_·th
,".\\gzip.exe");

63652 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63654 ià(!
	g·th_found
è
	g¡d
::
¡rıy
(
s_·th
,"gzip.exe");

63656 ià(!
	g·th_found
) {

63657 
	g¡d
::
¡rıy
(
s_·th
,"./gzip");

63658 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63660 ià(!
	g·th_found
è
	g¡d
::
¡rıy
(
s_·th
,"gzip");

63662 
wšfÜm©_¡ršg
(
s_·th
);

63664 
	gcimg
::
mu‹x
(7,0);

63665  
	gs_·th
;

63674 
šlše
 cÚ¡ *
gunz_·th
(cÚ¡ *cÚ¡ 
u£r_·th
, cÚ¡ 
boŞ
 
»š™_·th
) {

63675 
	gCImg
<> 
	gs_·th
;

63676 
	gcimg
::
mu‹x
(7);

63677 ià(
	g»š™_·th
è
	gs_·th
.
assign
();

63678 ià(
	gu£r_·th
) {

63679 ià(!
	gs_·th
ès_·th.
assign
(1024);

63680 
	g¡d
::
¡ºıy
(
s_·th
,
u£r_·th
,1023);

63681 } ià(!
	gs_·th
) {

63682 
	gs_·th
.
assign
(1024);

63683 
boŞ
 
	g·th_found
 = 
çl£
;

63684 
	g¡d
::
FILE
 *
fe
 = 0;

63685 #ià
cimg_OS
==2

63686 ià(!
	g·th_found
) {

63687 
	g¡d
::
¡rıy
(
s_·th
,".\\gunzip.exe");

63688 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63690 ià(!
	g·th_found
è
	g¡d
::
¡rıy
(
s_·th
,"gunzip.exe");

63692 ià(!
	g·th_found
) {

63693 
	g¡d
::
¡rıy
(
s_·th
,"./gunzip");

63694 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63696 ià(!
	g·th_found
è
	g¡d
::
¡rıy
(
s_·th
,"gunzip");

63698 
wšfÜm©_¡ršg
(
s_·th
);

63700 
	gcimg
::
mu‹x
(7,0);

63701  
	gs_·th
;

63710 
šlše
 cÚ¡ *
düaw_·th
(cÚ¡ *cÚ¡ 
u£r_·th
, cÚ¡ 
boŞ
 
»š™_·th
) {

63711 
	gCImg
<> 
	gs_·th
;

63712 
	gcimg
::
mu‹x
(7);

63713 ià(
	g»š™_·th
è
	gs_·th
.
assign
();

63714 ià(
	gu£r_·th
) {

63715 ià(!
	gs_·th
ès_·th.
assign
(1024);

63716 
	g¡d
::
¡ºıy
(
s_·th
,
u£r_·th
,1023);

63717 } ià(!
	gs_·th
) {

63718 
	gs_·th
.
assign
(1024);

63719 
boŞ
 
	g·th_found
 = 
çl£
;

63720 
	g¡d
::
FILE
 *
fe
 = 0;

63721 #ià
cimg_OS
==2

63722 ià(!
	g·th_found
) {

63723 
	g¡d
::
¡rıy
(
s_·th
,".\\dcraw.exe");

63724 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63726 ià(!
	g·th_found
è
	g¡d
::
¡rıy
(
s_·th
,"dcraw.exe");

63728 ià(!
	g·th_found
) {

63729 
	g¡d
::
¡rıy
(
s_·th
,"./dcraw");

63730 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63732 ià(!
	g·th_found
è
	g¡d
::
¡rıy
(
s_·th
,"dcraw");

63734 
wšfÜm©_¡ršg
(
s_·th
);

63736 
	gcimg
::
mu‹x
(7,0);

63737  
	gs_·th
;

63746 
šlše
 cÚ¡ *
wg‘_·th
(cÚ¡ *cÚ¡ 
u£r_·th
, cÚ¡ 
boŞ
 
»š™_·th
) {

63747 
	gCImg
<> 
	gs_·th
;

63748 
	gcimg
::
mu‹x
(7);

63749 ià(
	g»š™_·th
è
	gs_·th
.
assign
();

63750 ià(
	gu£r_·th
) {

63751 ià(!
	gs_·th
ès_·th.
assign
(1024);

63752 
	g¡d
::
¡ºıy
(
s_·th
,
u£r_·th
,1023);

63753 } ià(!
	gs_·th
) {

63754 
	gs_·th
.
assign
(1024);

63755 
boŞ
 
	g·th_found
 = 
çl£
;

63756 
	g¡d
::
FILE
 *
fe
 = 0;

63757 #ià
cimg_OS
==2

63758 ià(!
	g·th_found
) {

63759 
	g¡d
::
¡rıy
(
s_·th
,".\\wget.exe");

63760 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63762 ià(!
	g·th_found
è
	g¡d
::
¡rıy
(
s_·th
,"wget.exe");

63764 ià(!
	g·th_found
) {

63765 
	g¡d
::
¡rıy
(
s_·th
,"./wget");

63766 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63768 ià(!
	g·th_found
è
	g¡d
::
¡rıy
(
s_·th
,"wget");

63770 
wšfÜm©_¡ršg
(
s_·th
);

63772 
	gcimg
::
mu‹x
(7,0);

63773  
	gs_·th
;

63782 
šlše
 cÚ¡ *
cu¾_·th
(cÚ¡ *cÚ¡ 
u£r_·th
, cÚ¡ 
boŞ
 
»š™_·th
) {

63783 
	gCImg
<> 
	gs_·th
;

63784 
	gcimg
::
mu‹x
(7);

63785 ià(
	g»š™_·th
è
	gs_·th
.
assign
();

63786 ià(
	gu£r_·th
) {

63787 ià(!
	gs_·th
ès_·th.
assign
(1024);

63788 
	g¡d
::
¡ºıy
(
s_·th
,
u£r_·th
,1023);

63789 } ià(!
	gs_·th
) {

63790 
	gs_·th
.
assign
(1024);

63791 
boŞ
 
	g·th_found
 = 
çl£
;

63792 
	g¡d
::
FILE
 *
fe
 = 0;

63793 #ià
cimg_OS
==2

63794 ià(!
	g·th_found
) {

63795 
	g¡d
::
¡rıy
(
s_·th
,".\\curl.exe");

63796 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63798 ià(!
	g·th_found
è
	g¡d
::
¡rıy
(
s_·th
,"curl.exe");

63800 ià(!
	g·th_found
) {

63801 
	g¡d
::
¡rıy
(
s_·th
,"./curl");

63802 ià((
	gfe
=
cimg
::
¡d_fİ’
(
s_·th
,"r"))!=0è{ cimg::
fşo£
(
fe
); 
	g·th_found
 = 
Œue
; }

63804 ià(!
	g·th_found
è
	g¡d
::
¡rıy
(
s_·th
,"curl");

63806 
wšfÜm©_¡ršg
(
s_·th
);

63808 
	gcimg
::
mu‹x
(7,0);

63809  
	gs_·th
;

63813 
šlše
 
_sÜt_fes
(cÚ¡ * 
a
, cÚ¡ * 
b
) {

63814 cÚ¡ 
	gCImg
<> &
	g§
 = *(
CImg
<>*)
a
, &
	gsb
 = *(CImg<>*)
b
;

63815  
	g¡d
::
¡rcmp
(
§
.
_d©a
,
sb
._data);

63819 
šlše
 * 
numb”_f’ame
(cÚ¡ *cÚ¡ 
f’ame
, cÚ¡ 
numb”
,

63820 cÚ¡ 
dig™s
, *cÚ¡ 
¡r
) {

63821 ià(!
	gf’ame
è{ ià(
	g¡r
) *str = 0;  0; }

63822 cÚ¡ 
	gsiz
 = ()
¡d
::
¡¾’
(
f’ame
);

63823 
	gCImg
<> 
fÜm©
(16), 
body
(
siz
 + 32);

63824 cÚ¡ *cÚ¡ 
	gext
 = 
cimg
::
¥l™_f’ame
(
f’ame
,
body
);

63825 ià(*
	gext
è
cimg_¢´štf
(
fÜm©
,fÜm©.
width
(),"%%s_%%.%ud.%%s",
dig™s
);

63826 
cimg_¢´štf
(
fÜm©
,fÜm©.
width
(),"%%s_%%.%ud",
dig™s
);

63827 
cimg_¢´štf
(
¡r
,1024,
fÜm©
.
_d©a
,
body
._d©a,
numb”
,
ext
);

63828  
	g¡r
;

63839 
šlše
 
	gCImgLi¡
<> 
fes
(cÚ¡ *cÚ¡ 
·th
, cÚ¡ 
boŞ
 
is_·‰”n
=
çl£
,

63840 cÚ¡ 
mode
=2, cÚ¡ 
boŞ
 
šşude_·th
=
çl£
) {

63841 ià(!
·th
 || !*·thè 
fes
("*",
Œue
,
mode
,
šşude_·th
);

63842 
	gCImgLi¡
<> 
	g»s
;

63845 cÚ¡ 
boŞ
 
	g_is_·‰”n
 = 
is_·‰”n
 && !
cimg
::
is_dœeùÜy
(
·th
);

63846 
boŞ
 
	gis_roÙ
 = 
çl£
, 
	gis_cu¼’t
 = false;

63847 
	gcimg
::
unu£d
(
is_roÙ
,
is_cu¼’t
);

63850 
	gCImg
<> 
	g·‰”n
, 
	g_·th
 = 
CImg
<>::
¡ršg
(
·th
);

63851 #ià
cimg_OS
==2

63852 *
	gps
 = 
_·th
; *ps; ++psèià(*ps=='\\'è*
ps
='/';

63854 *
	gpd
 = 
_·th
;

63855 *
	gps
 = 
pd
; *ps; ++psè{ ià(*ps!='/' || *
ps
!=*(ps+1)) *(pd++) = *ps; }

63856 *
	gpd
 = 0;

63857 
	gÍ
 = ()
¡d
::
¡¾’
(
_·th
);

63858 ià(!
	g_is_·‰”n
 && 
	gÍ
 && 
	g_·th
[
Í
 - 1]=='/') {

63859 
_·th
[
Í
 - 1] = 0; --
	gÍ
;

63860 #ià
cimg_OS
!=2

63861 
	gis_roÙ
 = !*
_·th
;

63866 ià(
	g_is_·‰”n
) {

63867 cÚ¡ 
	gbpos
 = ()(
cimg
::
ba£Çme
(
_·th
,'/'è- 
	g_·th
.
d©a
());

63868 
	gCImg
<>::
¡ršg
(
_·th
).
move_to
(
·‰”n
);

63869 ià(
	gbpos
) {

63870 
	g_·th
[
bpos
 - 1] = 0;

63871 #ià
cimg_OS
!=2

63872 
	gis_roÙ
 = !*
_·th
;

63875 
	gis_cu¼’t
 = 
Œue
; *
	g_·th
 = 0;

63877 
	gÍ
 = ()
¡d
::
¡¾’
(
_·th
);

63881 #ià
cimg_OS
==2

63882 ià(!
	g_is_·‰”n
) {

63883 
	g·‰”n
.
assign
(
Í
 + 3);

63884 
	g¡d
::
memıy
(
·‰”n
,
_·th
,
Í
);

63885 
	g·‰”n
[
Í
] = '/';…attern[lp + 1] = '*';…attern[lp + 2] = 0;

63887 
WIN32_FIND_DATAA
 
	gfe_d©a
;

63888 cÚ¡ 
HANDLE
 
	gdœ
 = 
FšdFœ¡FeA
(
·‰”n
.
d©a
(),&
fe_d©a
);

63889 ià(
	gdœ
==
INVALID_HANDLE_VALUE
è 
CImgLi¡
<>::
cÚ¡_em±y
();

63891 cÚ¡ *cÚ¡ 
	gf’ame
 = 
fe_d©a
.
cFeName
;

63892 ià(*
	gf’ame
!='.' || (
f’ame
[1] && (filename[1]!='.' || filename[2]))) {

63893 cÚ¡ 
lf
 = ()
¡d
::
¡¾’
(
f’ame
);

63894 cÚ¡ 
boŞ
 
	gis_dœeùÜy
 = (
fe_d©a
.
dwFeA‰ribu‹s
 & 
FILE_ATTRIBUTE_DIRECTORY
)!=0;

63895 ià((!
	gmode
 && !
	gis_dœeùÜy
è|| (mode==1 && 
is_dœeùÜy
è|| 
mode
>=2) {

63896 ià(
šşude_·th
) {

63897 
CImg
<> 
fuÎ_f’ame
((
Í
?Í+1:0è+ 
lf
 + 1);

63898 ià(
	gÍ
è{ 
	g¡d
::
memıy
(
fuÎ_f’ame
,
_·th
,
Í
); 
	gfuÎ_f’ame
[lp] = '/'; }

63899 
	g¡d
::
memıy
(
fuÎ_f’ame
.
_d©a
 + (
Í
?Í + 1:0),
f’ame
,
lf
 + 1);

63900 
	gfuÎ_f’ame
.
move_to
(
»s
);

63901 } 
	gCImg
<>(
	gf’ame
,
	glf
 + 1).
move_to
(
»s
);

63904 } 
FšdNextFeA
(
dœ
,&
fe_d©a
));

63905 
FšdClo£
(
dœ
);

63908 #–ià
cimg_OS
 == 1

63909 
DIR
 *cÚ¡ 
	gdœ
 = 
İ’dœ
(
is_roÙ
?"/":
is_cu¼’t
?".":
_·th
.
d©a
());

63910 ià(!
	gdœ
è 
	gCImgLi¡
<>::
cÚ¡_em±y
();

63911 
dœ’t
 *
	g’t
;

63912 (
	g’t
=
»addœ
(
dœ
))!=0) {

63913 cÚ¡ *cÚ¡ 
f’ame
 = 
’t
->
d_Çme
;

63914 ià(*
	gf’ame
!='.' || (
f’ame
[1] && (filename[1]!='.' || filename[2]))) {

63915 cÚ¡ 
lf
 = ()
¡d
::
¡¾’
(
f’ame
);

63916 
	gCImg
<> 
fuÎ_f’ame
(
Í
 + 
lf
 + 2);

63918 ià(!
	gis_cu¼’t
) {

63919 
	gfuÎ_f’ame
.
assign
(
Í
 + 
lf
 + 2);

63920 ià(
	gÍ
è
	g¡d
::
memıy
(
fuÎ_f’ame
,
_·th
,
Í
);

63921 
	gfuÎ_f’ame
[
Í
] = '/';

63922 
	g¡d
::
memıy
(
fuÎ_f’ame
.
_d©a
 + 
Í
 + 1,
f’ame
,
lf
 + 1);

63923 } 
	gfuÎ_f’ame
.
assign
(
f’ame
,
lf
 + 1);

63925 
¡©
 
	g¡
;

63926 ià(
¡©
(
fuÎ_f’ame
,&
¡
)==-1) ;

63927 cÚ¡ 
boŞ
 
	gis_dœeùÜy
 = (
¡
.
¡_mode
 & 
S_IFDIR
)!=0;

63928 ià((!
	gmode
 && !
	gis_dœeùÜy
è|| (mode==1 && 
is_dœeùÜy
è|| 
mode
==2) {

63929 ià(
šşude_·th
) {

63930 ià(!
_is_·‰”n
 || (_is_·‰”À&& !
âm©ch
(
·‰”n
,
fuÎ_f’ame
,0)))

63931 
fuÎ_f’ame
.
move_to
(
»s
);

63933 ià(!
	g_is_·‰”n
 || (_is_·‰”À&& !
âm©ch
(
·‰”n
,
fuÎ_f’ame
,0)))

63934 
	gCImg
<>(
	gf’ame
,
	glf
 + 1).
move_to
(
»s
);

63939 
şo£dœ
(
dœ
);

63943 ià(
	g»s
.
	g_width
>=2è
¡d
::
qsÜt
(
»s
.
_d©a
,»s.
_width
,(
CImg
<>),
_sÜt_fes
);

63945  
	g»s
;

63954 
šlše
 cÚ¡ *
áy³
(
¡d
::
FILE
 *cÚ¡ 
fe
, cÚ¡ *cÚ¡ 
f’ame
) {

63955 ià(!
	gfe
 && !
	gf’ame
)

63956 
throw
 
CImgArgum’tExû±iÚ
("cimg::ftype(): Specified filename is (null).");

63958 *cÚ¡ 
	g_²m
 = "pnm",

63959 *cÚ¡ 
	g_pfm
 = "pfm",

63960 *cÚ¡ 
	g_bmp
 = "bmp",

63961 *cÚ¡ 
	g_gif
 = "gif",

63962 *cÚ¡ 
	g_jpg
 = "jpg",

63963 *cÚ¡ 
	g_off
 = "off",

63964 *cÚ¡ 
	g_·n
 = "pan",

63965 *cÚ¡ 
	g_²g
 = "png",

63966 *cÚ¡ 
	g_tif
 = "tif",

63967 *cÚ¡ 
	g_šr
 = "inr",

63968 *cÚ¡ 
	g_dcm
 = "dcm";

63969 cÚ¡ *
	gf_ty³
 = 0;

63970 
	gCImg
<> 
	gh—d”
;

63971 cÚ¡ 
	gomode
 = 
cimg
::
exû±iÚ_mode
();

63972 
	gcimg
::
exû±iÚ_mode
(0);

63973 
	gŒy
 {

63974 
	gh—d”
.
_lßd_¿w
(
fe
,
f’ame
,512,1,1,1,
çl£
,false,0);

63975 cÚ¡ *cÚ¡ 
	guh—d”
 = (*)
h—d”
.
_d©a
;

63976 ià(!
	g¡d
::
¡ºcmp
(
h—d”
,"OFF\n",4)è
	gf_ty³
 = 
_off
;

63977 ià(!
	g¡d
::
¡ºcmp
(
h—d”
,"#INRIMAGE",9))

63978 
	gf_ty³
 = 
_šr
;

63979 ià(!
	g¡d
::
¡ºcmp
(
h—d”
,"PANDORE",7))

63980 
	gf_ty³
 = 
_·n
;

63981 ià(!
	g¡d
::
¡ºcmp
(
h—d”
.
d©a
() + 128,"DICM",4))

63982 
	gf_ty³
 = 
_dcm
;

63983 ià(
	guh—d”
[0]==0xFF && 
uh—d”
[1]==0xD8 && uheader[2]==0xFF)

63984 
f_ty³
 = 
_jpg
;

63985 ià(
	gh—d”
[0]=='B' && 
h—d”
[1]=='M')

63986 
f_ty³
 = 
_bmp
;

63987 ià(
	gh—d”
[0]=='G' && 
h—d”
[1]=='I' && header[2]=='F' && header[3]=='8' && header[5]=='a' &&

63988 (
h—d”
[4]=='7' || header[4]=='9'))

63989 
f_ty³
 = 
_gif
;

63990 ià(
	guh—d”
[0]==0x89 && 
uh—d”
[1]==0x50 && uheader[2]==0x4E && uheader[3]==0x47 &&

63991 
uh—d”
[4]==0x0D && uheader[5]==0x0A && uheader[6]==0x1A && uheader[7]==0x0A)

63992 
f_ty³
 = 
_²g
;

63993 ià((
	guh—d”
[0]==0x49 && 
uh—d”
[1]==0x49) || (uheader[0]==0x4D && uheader[1]==0x4D))

63994 
f_ty³
 = 
_tif
;

63996 
	gCImgLi¡
<> 
	g_h—d”
 = 
h—d”
.
g‘_¥l™
(
CImg
<>::
veùÜ
('\n'),0,
çl£
);

63997 
cimgli¡_fÜ
(
_h—d”
,
l
) {

63998 ià(
_h—d”
(
l
,0)=='#') ;

63999 ià(
	g_h—d”
[
l
].
	g_width
==2 && 
_h—d”
(l,0)=='P') {

64000 cÚ¡ 
c
 = 
_h—d”
(
l
,1);

64001 ià(
	gc
=='f' || 
c
=='F'è{ 
f_ty³
 = 
_pfm
; ; }

64002 ià(
	gc
>='1' && 
c
<='9'è{ 
f_ty³
 = 
_²m
; ; }

64004 
	gf_ty³
 = 0; ;

64007 } 
ÿtch
 (
CImgIOExû±iÚ
&) { }

64008 
	gcimg
::
exû±iÚ_mode
(
omode
);

64009  
	gf_ty³
;

64022 
šlše
 *
lßd_ÃtwÜk
(cÚ¡ *cÚ¡ 
u¾
, *cÚ¡ 
f’ame_loÿl
,

64023 cÚ¡ 
timeout
, cÚ¡ 
boŞ
 
Œy_çÎback
,

64024 cÚ¡ *cÚ¡ 
»ã»r
) {

64025 ià(!
	gu¾
)

64026 
throw
 
CImgArgum’tExû±iÚ
("cimg::load_network(): Specified URL is (null).");

64027 ià(!
	gf’ame_loÿl
)

64028 
throw
 
CImgArgum’tExû±iÚ
("cimg::load_network(): Specified destination string is (null).");

64029 ià(!
ÃtwÜk_mode
())

64030 
throw
 
CImgIOExû±iÚ
("cimg::load_network(): Loading files from‚etwork is disabled.");

64032 cÚ¡ *cÚ¡ 
	g__ext
 = 
cimg
::
¥l™_f’ame
(
u¾
), *cÚ¡ 
	g_ext
 = (*
__ext
 && __ext>url)?__ext - 1:__ext;

64033 
	gCImg
<> 
	gext
 = 
CImg
<>::
¡ršg
(
_ext
);

64034 
	g¡d
::
FILE
 *
fe
 = 0;

64035 *
	gf’ame_loÿl
 = 0;

64036 ià(
	gext
.
	g_width
>16 || !
	gcimg
::
¡ºÿ£cmp
(
ext
,"cgi",3)) *ext = 0;

64037 
	gcimg
::
¡rwšdows_»£rved
(
ext
);

64039 
cimg_¢´štf
(
f’ame_loÿl
,256,"%s%c%s%s",

64040 
cimg
::
‹mpÜ¬y_·th
(),
cimg_fe_£·¿tÜ
,cimg::
f’am”ªd
(),
ext
.
_d©a
);

64041 ià((
	gfe
=
cimg
::
¡d_fİ’
(
f’ame_loÿl
,"rb"))!=0ècimg::
fşo£
(
fe
);

64042 } 
	gfe
);

64044 #ifdeà
cimg_u£_cu¾


64045 cÚ¡ 
	gomode
 = 
cimg
::
exû±iÚ_mode
();

64046 
	gcimg
::
exû±iÚ_mode
(0);

64047 
	gŒy
 {

64048 
CURL
 *
	gcu¾
 = 0;

64049 
CURLcode
 
	g»s
;

64050 
	gcu¾
 = 
cu¾_—sy_š™
();

64051 ià(
	gcu¾
) {

64052 
	gfe
 = 
cimg
::
fİ’
(
f’ame_loÿl
,"wb");

64053 
cu¾_—sy_£tİt
(
cu¾
,
CURLOPT_URL
,
u¾
);

64054 
cu¾_—sy_£tİt
(
cu¾
,
CURLOPT_WRITEFUNCTION
,0);

64055 
cu¾_—sy_£tİt
(
cu¾
,
CURLOPT_WRITEDATA
,
fe
);

64056 
cu¾_—sy_£tİt
(
cu¾
,
CURLOPT_SSL_VERIFYPEER
,0L);

64057 
cu¾_—sy_£tİt
(
cu¾
,
CURLOPT_SSL_VERIFYHOST
,0L);

64058 
cu¾_—sy_£tİt
(
cu¾
,
CURLOPT_FOLLOWLOCATION
,1L);

64059 ià(
	gtimeout
è
cu¾_—sy_£tİt
(
cu¾
,
CURLOPT_TIMEOUT
,()
timeout
);

64060 ià(
	g¡d
::
¡rchr
(
u¾
,'?')è
cu¾_—sy_£tİt
(
cu¾
,
CURLOPT_HTTPGET
,1L);

64061 ià(
	g»ã»r
è
cu¾_—sy_£tİt
(
cu¾
,
CURLOPT_REFERER
,
»ã»r
);

64062 
	g»s
 = 
cu¾_—sy_³rfÜm
(
cu¾
);

64063 
cu¾_—sy_ş—nup
(
cu¾
);

64064 
	gcimg
::
f£ek
(
fe
,0,
SEEK_END
);

64065 cÚ¡ 
cimg_ulÚg
 
	gsiz
 = 
cimg
::
á–l
(
fe
);

64066 
	gcimg
::
fşo£
(
fe
);

64067 ià(
	gsiz
>0 && 
	g»s
==
CURLE_OK
) {

64068 
cimg
::
exû±iÚ_mode
(
omode
);

64069  
	gf’ame_loÿl
;

64070 } 
	g¡d
::
»move
(
f’ame_loÿl
);

64072 } 
ÿtch
 (...) { }

64073 
	gcimg
::
exû±iÚ_mode
(
omode
);

64074 ià(!
	gŒy_çÎback
è
throw
 
CImgIOExû±iÚ
("cimg::lßd_ÃtwÜk(): FaedØlßd f'%s' w™h†ibcu¾.",
u¾
);

64077 
	gCImg
<> 
commªd
(()
¡d
::
¡¾’
(
u¾
) + 64);

64078 
	gcimg
::
unu£d
(
Œy_çÎback
);

64081 ià(
	gtimeout
) {

64082 ià(
	g»ã»r
)

64083 
cimg_¢´štf
(
commªd
,commªd.
_width
,"\"%s\" -e %s -m %u -f --silent --compressed -o \"%s\" \"%s\"",

64084 
cimg
::
cu¾_·th
(),
»ã»r
,
timeout
,
f’ame_loÿl
,

64085 
CImg
<>::
¡ršg
(
u¾
).
_sy¡em_¡»sÿ³
().
d©a
());

64087 
cimg_¢´štf
(
commªd
,commªd.
_width
,"\"%s\" -m %u -f --silent --compressed -o \"%s\" \"%s\"",

64088 
cimg
::
cu¾_·th
(),
timeout
,
f’ame_loÿl
,

64089 
CImg
<>::
¡ršg
(
u¾
).
_sy¡em_¡»sÿ³
().
d©a
());

64091 ià(
	g»ã»r
)

64092 
cimg_¢´štf
(
commªd
,commªd.
_width
,"\"%s\" -e %s -f --silent --compressed -o \"%s\" \"%s\"",

64093 
cimg
::
cu¾_·th
(),
»ã»r
,
f’ame_loÿl
,

64094 
CImg
<>::
¡ršg
(
u¾
).
_sy¡em_¡»sÿ³
().
d©a
());

64096 
cimg_¢´štf
(
commªd
,commªd.
_width
,"\"%s\" -f --silent --compressed -o \"%s\" \"%s\"",

64097 
cimg
::
cu¾_·th
(),
f’ame_loÿl
,

64098 
CImg
<>::
¡ršg
(
u¾
).
_sy¡em_¡»sÿ³
().
d©a
());

64100 
	gcimg
::
sy¡em
(
commªd
, 
cimg
::
cu¾_·th
());

64102 ià(!(
	gfe
=
cimg
::
¡d_fİ’
(
f’ame_loÿl
,"rb"))) {

64105 ià(
	gtimeout
) {

64106 ià(
	g»ã»r
)

64107 
cimg_¢´štf
(
commªd
,commªd.
_width
,"\"%s\" --referer=%s -T %u -q -r -l 0 --no-cache -O \"%s\" \"%s\"",

64108 
cimg
::
wg‘_·th
(),
»ã»r
,
timeout
,
f’ame_loÿl
,

64109 
CImg
<>::
¡ršg
(
u¾
).
_sy¡em_¡»sÿ³
().
d©a
());

64111 
cimg_¢´štf
(
commªd
,commªd.
_width
,"\"%s\" -T %u -q -r -l 0 --no-cache -O \"%s\" \"%s\"",

64112 
cimg
::
wg‘_·th
(),
timeout
,
f’ame_loÿl
,

64113 
CImg
<>::
¡ršg
(
u¾
).
_sy¡em_¡»sÿ³
().
d©a
());

64115 ià(
	g»ã»r
)

64116 
cimg_¢´štf
(
commªd
,commªd.
_width
,"\"%s\" --referer=%s -q -r -l 0 --no-cache -O \"%s\" \"%s\"",

64117 
cimg
::
wg‘_·th
(),
»ã»r
,
f’ame_loÿl
,

64118 
CImg
<>::
¡ršg
(
u¾
).
_sy¡em_¡»sÿ³
().
d©a
());

64120 
cimg_¢´štf
(
commªd
,commªd.
_width
,"\"%s\" -q -r -l 0 --no-cache -O \"%s\" \"%s\"",

64121 
cimg
::
wg‘_·th
(),
f’ame_loÿl
,

64122 
CImg
<>::
¡ršg
(
u¾
).
_sy¡em_¡»sÿ³
().
d©a
());

64124 
	gcimg
::
sy¡em
(
commªd
, 
cimg
::
wg‘_·th
());

64126 ià(!(
	gfe
=
cimg
::
¡d_fİ’
(
f’ame_loÿl
,"rb")))

64127 
throw
 
CImgIOExû±iÚ
("cimg::load_network(): Failedo†oad file '%s' withƒxternal commands "

64128 "'wg‘' o¸'cu¾'.",
u¾
);

64129 
	gcimg
::
fşo£
(
fe
);

64132 
cimg_¢´štf
(
commªd
,commªd.
_width
,"%s.gz",
f’ame_loÿl
);

64133 
	g¡d
::
»Çme
(
f’ame_loÿl
,
commªd
);

64134 
cimg_¢´štf
(
commªd
,commªd.
_width
,"\"%s\" --quiet \"%s.gz\"",

64135 
gunz_·th
(),
f’ame_loÿl
);

64136 
	gcimg
::
sy¡em
(
commªd
, 
gunz_·th
());

64137 
	gfe
 = 
cimg
::
¡d_fİ’
(
f’ame_loÿl
,"rb");

64138 ià(!
	gfe
) {

64139 
cimg_¢´štf
(
commªd
,commªd.
_width
,"%s.gz",
f’ame_loÿl
);

64140 
	g¡d
::
»Çme
(
commªd
,
f’ame_loÿl
);

64141 
	gfe
 = 
cimg
::
¡d_fİ’
(
f’ame_loÿl
,"rb");

64144 
	gcimg
::
f£ek
(
fe
,0,
SEEK_END
);

64145 ià(
	g¡d
::
á–l
(
fe
)<=0)

64146 
throw
 
CImgIOExû±iÚ
("cimg::load_network(): Failedo†oad URL '%s' withƒxternal commands "

64147 "'wg‘' o¸'cu¾'.",
u¾
);

64148 
	gcimg
::
fşo£
(
fe
);

64149  
	gf’ame_loÿl
;

64153 
šlše
 
cimg_ušt64
 
tiùoc
(cÚ¡ 
boŞ
 
is_tic
) {

64154 
	gcimg
::
mu‹x
(2);

64155 
	gCImg
<
	gcimg_ušt64
> 
times
(64);

64156 
	gpos
 = 0;

64157 cÚ¡ 
cimg_ušt64
 
	gt1
 = 
cimg
::
time
();

64158 ià(
	gis_tic
) {

64160 
	gtimes
[
pos
++] = 
t1
;

64161 ià(
	gpos
>=
times
.
_width
)

64162 
throw
 
CImgArgum’tExû±iÚ
("cimg::tic(): Too much callso 'cimg::tic()' without callso 'cimg::toc()'.");

64163 
	gcimg
::
mu‹x
(2,0);

64164  
	gt1
;

64168 ià(!
	gpos
)

64169 
throw
 
CImgArgum’tExû±iÚ
("cimg::toc(): No…revious callo 'cimg::tic()' has been made.");

64170 cÚ¡ 
cimg_ušt64


64171 
	gt0
 = 
times
[--
pos
],

64172 
	gdt
 = 
t1
>=
t0
?Ñ1 -0):
cimg
::
ty³
<
cimg_ušt64
>::
max
();

64174 
	gedays
 = ()(
dt
/86400000.),

64175 
	gehours
 = ()((
dt
 - 
edays
*86400000.)/3600000.),

64176 
	gemš
 = ()((
dt
 - 
edays
*86400000. - 
ehours
*3600000.)/60000.),

64177 
	ge£c
 = ()((
dt
 - 
edays
*86400000. - 
ehours
*3600000. - 
emš
*60000.)/1000.),

64178 
	gems
 = ()(
dt
 - 
edays
*86400000. - 
ehours
*3600000. - 
emš
*60000. - 
e£c
*1000.);

64179 ià(!
	gedays
 && !
	gehours
 && !
	gemš
 && !
	ge£c
)

64180 
	g¡d
::
årštf
(
cimg
::
ouut
(),"%s[CImg]%*sElapsedime: %u ms%s\n",

64181 
cimg
::
t_»d
,1 + 2*
pos
,"",
ems
,cimg::
t_nÜm®
);

64183 ià(!
	gedays
 && !
	gehours
 && !
	gemš
)

64184 
	g¡d
::
årštf
(
cimg
::
ouut
(),"%s[CImg]%*sElapsedime: %u sec %u ms%s\n",

64185 
cimg
::
t_»d
,1 + 2*
pos
,"",
e£c
,
ems
,cimg::
t_nÜm®
);

64187 ià(!
	gedays
 && !
	gehours
)

64188 
	g¡d
::
årštf
(
cimg
::
ouut
(),"%s[CImg]%*sElapsedime: %u min %u sec %u ms%s\n",

64189 
cimg
::
t_»d
,1 + 2*
pos
,"",
emš
,
e£c
,
ems
,cimg::
t_nÜm®
);

64191 ià(!
	gedays
)

64192 
	g¡d
::
årštf
(
cimg
::
ouut
(),"%s[CImg]%*sElapsedime: %u hours %u min %u sec %u ms%s\n",

64193 
cimg
::
t_»d
,1 + 2*
pos
,"",
ehours
,
emš
,
e£c
,
ems
,cimg::
t_nÜm®
);

64195 
	g¡d
::
årštf
(
cimg
::
ouut
(),"%s[CImg]%*sElapsedime: %u days %u hours %u min %u sec %u ms%s\n",

64196 
cimg
::
t_»d
,1 + 2*
pos
,"",
edays
,
ehours
,
emš
,
e£c
,
ems
,cimg::
t_nÜm®
);

64201 
	gcimg
::
mu‹x
(2,0);

64202  
	gdt
;

64206 
šlše
 cÚ¡ *
¡rbufãrsize
(cÚ¡ 
cimg_ulÚg
 
size
) {

64207 
	gCImg
<> 
»s
(256);

64208 
	gcimg
::
mu‹x
(5);

64209 ià(
	gsize
<1024LUè
cimg_¢´štf
(
»s
,»s.
_width
,"%lu by‹%s",()
size
,size>1?"s":"");

64210 ià(
	gsize
<1024*1024LUè{ cÚ¡ 
	gnsize
 = 
size
/1024.f; 
cimg_¢´štf
(
»s
,»s.
_width
,"%.1àKio",
nsize
); }

64211 ià(
	gsize
<1024*1024*1024LU) {

64212 cÚ¡ 
	gnsize
 = 
size
/(1024*1024.f); 
cimg_¢´štf
(
»s
,»s.
_width
,"%.1àMio",
nsize
);

64213 } { cÚ¡ 
	gnsize
 = 
size
/(1024*1024*1024.f); 
cimg_¢´štf
(
»s
,»s.
_width
,"%.1àGio",
nsize
); }

64214 
	gcimg
::
mu‹x
(5,0);

64215  
	g»s
;

64237 
	g‹m¶©e
<
ty³Çme
 
	gt
>

64238 
šlše
 
dŸlog
(cÚ¡ *cÚ¡ 
t™Ë
, cÚ¡ *cÚ¡ 
msg
,

64239 cÚ¡ *cÚ¡ 
bu‰Ú1_Ïb–
, cÚ¡ *cÚ¡ 
bu‰Ú2_Ïb–
,

64240 cÚ¡ *cÚ¡ 
bu‰Ú3_Ïb–
, cÚ¡ *cÚ¡ 
bu‰Ú4_Ïb–
,

64241 cÚ¡ *cÚ¡ 
bu‰Ú5_Ïb–
, cÚ¡ *cÚ¡ 
bu‰Ú6_Ïb–
,

64242 cÚ¡ 
CImg
<
t
>& 
logo
, cÚ¡ 
boŞ
 
is_ûÁ”ed
=
çl£
) {

64243 #ià
cimg_di¥Ïy
==0

64244 
cimg
::
unu£d
(
t™Ë
,
msg
,
bu‰Ú1_Ïb–
,
bu‰Ú2_Ïb–
,
bu‰Ú3_Ïb–
,
bu‰Ú4_Ïb–
,
bu‰Ú5_Ïb–
,
bu‰Ú6_Ïb–
,

64245 
logo
.
_d©a
,
is_ûÁ”ed
);

64246 
throw
 
CImgIOExû±iÚ
("cimg::dialog(): No display‡vailable.");

64249 
	gbÏck
[] = { 0,0,0 }, 
	gwh™e
[] = { 255,255,255 }, 
	gg¿y
[] = { 200,200,200 }, 
	gg¿y2
[] = { 150,150,150 };

64252 
	gCImgLi¡
<> 
	gbu‰Ús
, 
	gcbu‰Ús
, 
	gsbu‰Ús
;

64253 ià(
	gbu‰Ú1_Ïb–
) {

64254 
	gCImg
<>().
d¿w_‹xt
(0,0,
bu‰Ú1_Ïb–
,
bÏck
,
g¿y
,1,13).
move_to
(
bu‰Ús
);

64255 ià(
	gbu‰Ú2_Ïb–
) {

64256 
	gCImg
<>().
d¿w_‹xt
(0,0,
bu‰Ú2_Ïb–
,
bÏck
,
g¿y
,1,13).
move_to
(
bu‰Ús
);

64257 ià(
	gbu‰Ú3_Ïb–
) {

64258 
	gCImg
<>().
d¿w_‹xt
(0,0,
bu‰Ú3_Ïb–
,
bÏck
,
g¿y
,1,13).
move_to
(
bu‰Ús
);

64259 ià(
	gbu‰Ú4_Ïb–
) {

64260 
	gCImg
<>().
d¿w_‹xt
(0,0,
bu‰Ú4_Ïb–
,
bÏck
,
g¿y
,1,13).
move_to
(
bu‰Ús
);

64261 ià(
	gbu‰Ú5_Ïb–
) {

64262 
	gCImg
<>().
d¿w_‹xt
(0,0,
bu‰Ú5_Ïb–
,
bÏck
,
g¿y
,1,13).
move_to
(
bu‰Ús
);

64263 ià(
	gbu‰Ú6_Ïb–
) {

64264 
	gCImg
<>().
d¿w_‹xt
(0,0,
bu‰Ú6_Ïb–
,
bÏck
,
g¿y
,1,13).
move_to
(
bu‰Ús
);

64266 ià(!
	gbu‰Ús
.
	g_width
)

64267 
throw
 
CImgArgum’tExû±iÚ
("cimg::dialog(): No buttons have been defined.");

64268 
cimgli¡_fÜ
(
bu‰Ús
,
l
è
	gbu‰Ús
[l].
»size
(-100,-100,1,3);

64270 
	gbw
 = 0, 
	gbh
 = 0;

64271 
cimgli¡_fÜ
(
bu‰Ús
,
l
è{ 
	gbw
 = 
¡d
::
max
(
bw
,bu‰Ús[l].
_width
); 
	gbh
 = std::max(
bh
,bu‰Ús[l].
_height
); }

64272 
	gbw
+=8; 
	gbh
+=8;

64273 ià(
	gbw
<64) bw = 64;

64274 ià(
	gbw
>128) bw = 128;

64275 ià(
	gbh
<24) bh = 24;

64276 ià(
	gbh
>48) bh = 48;

64278 
	gCImg
<> 
bu‰Ú
(
bw
,
bh
,1,3);

64279 
	gbu‰Ú
.
d¿w_»ùªgË
(0,0,
bw
 - 1,
bh
 - 1,
g¿y
);

64280 
	gbu‰Ú
.
d¿w_lše
(0,0,
bw
 - 1,0,
wh™e
).d¿w_lše(0,
bh
 - 1,0,0,white);

64281 
	gbu‰Ú
.
d¿w_lše
(
bw
 - 1,0,bw - 1,
bh
 - 1,
bÏck
).draw_line(bw - 1,bh - 1,0,bh - 1,black);

64282 
	gbu‰Ú
.
d¿w_lše
(1,
bh
 - 2,
bw
 - 2,bh - 2,
g¿y2
).draw_line(bw - 2,bh - 2,bw - 2,1,gray2);

64283 
	gCImg
<> 
sbu‰Ú
(
bw
,
bh
,1,3);

64284 
	gsbu‰Ú
.
d¿w_»ùªgË
(0,0,
bw
 - 1,
bh
 - 1,
g¿y
);

64285 
	gsbu‰Ú
.
d¿w_lše
(0,0,
bw
 - 1,0,
bÏck
).d¿w_lše(bw - 1,0,bw - 1,
bh
 - 1,black);

64286 
	gsbu‰Ú
.
d¿w_lše
(
bw
 - 1,
bh
 - 1,0,bh - 1,
bÏck
).draw_line(0,bh - 1,0,0,black);

64287 
	gsbu‰Ú
.
d¿w_lše
(1,1,
bw
 - 2,1,
wh™e
).d¿w_lše(1,
bh
 - 2,1,1,white);

64288 
	gsbu‰Ú
.
d¿w_lše
(
bw
 - 2,1,bw - 2,
bh
 - 2,
bÏck
).draw_line(bw - 2,bh - 2,1,bh - 2,black);

64289 
	gsbu‰Ú
.
d¿w_lše
(2,
bh
 - 3,
bw
 - 3,bh - 3,
g¿y2
).draw_line(bw - 3,bh - 3,bw - 3,2,gray2);

64290 
	gsbu‰Ú
.
d¿w_lše
(4,4,
bw
 - 5,4,
bÏck
,1,0xAAAAAAAA,
Œue
).

64291 
d¿w_lše
(
bw
 - 5,4,bw - 5,
bh
 - 5,
bÏck
,1,0xAAAAAAAA,
çl£
);

64292 
	gsbu‰Ú
.
d¿w_lše
(
bw
 - 5,
bh
 - 5,4,bh - 5,
bÏck
,1,0xAAAAAAAA,
çl£
).

64293 
d¿w_lše
(4,
bh
 - 5,4,4,
bÏck
,1,0xAAAAAAAA,
çl£
);

64294 
	gCImg
<> 
cbu‰Ú
(
bw
,
bh
,1,3);

64295 
	gcbu‰Ú
.
d¿w_»ùªgË
(0,0,
bw
 - 1,
bh
 - 1,
bÏck
).d¿w_»ùªgË(1,1,bw - 2,bh - 2,
g¿y2
).

64296 
d¿w_»ùªgË
(2,2,
bw
 - 3,
bh
 - 3,
g¿y
);

64297 
	gcbu‰Ú
.
d¿w_lše
(4,4,
bw
 - 5,4,
bÏck
,1,0xAAAAAAAA,
Œue
).

64298 
d¿w_lše
(
bw
 - 5,4,bw - 5,
bh
 - 5,
bÏck
,1,0xAAAAAAAA,
çl£
);

64299 
	gcbu‰Ú
.
d¿w_lše
(
bw
 - 5,
bh
 - 5,4,bh - 5,
bÏck
,1,0xAAAAAAAA,
çl£
).

64300 
d¿w_lše
(4,
bh
 - 5,4,4,
bÏck
,1,0xAAAAAAAA,
çl£
);

64302 
cimgli¡_fÜ
(
bu‰Ús
,
Î
) {

64303 
	gCImg
<>(
	gcbu‰Ú
).

64304 
d¿w_image
(1 + (
bw
 -
bu‰Ús
[
Î
].
width
())/2,1 + (
bh
 - bu‰Ús[Î].
height
())/2,buttons[ll]).

64305 
move_to
(
cbu‰Ús
);

64306 
	gCImg
<>(
	gsbu‰Ú
).

64307 
d¿w_image
((
bw
 - 
bu‰Ús
[
Î
].
width
())/2,(
bh
 - bu‰Ús[Î].
height
())/2,buttons[ll]).

64308 
move_to
(
sbu‰Ús
);

64309 
	gCImg
<>(
	gbu‰Ú
).

64310 
d¿w_image
((
bw
 - 
bu‰Ús
[
Î
].
width
())/2,(
bh
 - bu‰Ús[Î].
height
())/2,buttons[ll]).

64311 
move_to
(
bu‰Ús
[
Î
]);

64314 
	gCImg
<> 
	gÿnvas
;

64315 ià(
	gmsg
)

64316 ((
	gCImg
<>().
d¿w_‹xt
(0,0,"%s",
g¿y
,0,1,13,
msg
)*=-1)+=200).
»size
(-100,-100,1,3).
move_to
(
ÿnvas
);

64319 
	gbw®l
 = (
bu‰Ús
.
_width
 - 1)*(12 + 
bw
) + bw,

64320 
	gw
 = 
cimg
::
max
(196U,36 + 
logo
.
_width
 + 
ÿnvas
._width,24 + 
bw®l
),

64321 
	gh
 = 
cimg
::
max
(96U,36 + 
ÿnvas
.
_height
 + 
bh
,36 + 
logo
._height + bh),

64322 
	glx
 = 12 + (
ÿnvas
.
_d©a
?0:((
w
 - 24 - 
logo
.
_width
)/2)),

64323 
	gly
 = (
h
 - 12 - 
bh
 - 
logo
.
_height
)/2,

64324 
	gtx
 = 
lx
 + 
logo
.
_width
 + 12,

64325 
	gty
 = (
h
 - 12 - 
bh
 - 
ÿnvas
.
_height
)/2,

64326 
	gbx
 = (
w
 - 
bw®l
)/2,

64327 
	gby
 = 
h
 - 12 - 
bh
;

64329 ià(
	gÿnvas
.
	g_d©a
)

64330 
	gÿnvas
 = 
CImg
<>(
w
,
	gh
,1,3).

64331 
d¿w_»ùªgË
(0,0,
w
 - 1,
h
 - 1,
g¿y
).

64332 
d¿w_lše
(0,0,
w
 - 1,0,
wh™e
).d¿w_lše(0,
h
 - 1,0,0,white).

64333 
d¿w_lše
(
w
 - 1,0,w - 1,
h
 - 1,
bÏck
).draw_line(w - 1,h - 1,0,h - 1,black).

64334 
d¿w_image
(
tx
,
ty
,
ÿnvas
);

64336 
	gÿnvas
 = 
CImg
<>(
w
,
	gh
,1,3).

64337 
d¿w_»ùªgË
(0,0,
w
 - 1,
h
 - 1,
g¿y
).

64338 
d¿w_lše
(0,0,
w
 - 1,0,
wh™e
).d¿w_lše(0,
h
 - 1,0,0,white).

64339 
d¿w_lše
(
w
 - 1,0,w - 1,
h
 - 1,
bÏck
).draw_line(w - 1,h - 1,0,h - 1,black);

64340 ià(
	glogo
.
	g_d©a
è
	gÿnvas
.
d¿w_image
(
lx
,
ly
,
logo
);

64342 
	gxbu‰Ús
[6] = { 0 };

64343 
cimgli¡_fÜ
(
bu‰Ús
,
Îl
) {

64344 
	gxbu‰Ús
[
Îl
] = 
bx
 + (
bw
 + 12)*lll;

64345 
	gÿnvas
.
d¿w_image
(
xbu‰Ús
[
Îl
],
by
,
bu‰Ús
[lll]);

64349 
CImgDi¥Ïy
 
di¥
(
ÿnvas
,
t™Ë
?t™Ë:" ",0,
çl£
,
is_ûÁ”ed
?
Œue
:false);

64350 ià(
	gis_ûÁ”ed
è
	gdi¥
.
move
((
CImgDi¥Ïy
::
sü“n_width
(è- 
di¥
.
width
())/2,

64351 (
CImgDi¥Ïy
::
sü“n_height
(è- 
di¥
.
height
())/2);

64352 
boŞ
 
	g¡İ_æag
 = 
çl£
, 
	g»äesh
 = false;

64353 
	go£Ëùed
 = -1, 
	goşicked
 = -1, 
	g£Ëùed
 = -1, 
	gşicked
 = -1;

64354 !
	gdi¥
.
is_şo£d
(è&& !
	g¡İ_æag
) {

64355 ià(
	g»äesh
) {

64356 ià(
	gşicked
>=0)

64357 
CImg
<>(
ÿnvas
).
d¿w_image
(
xbu‰Ús
[
şicked
],
by
,
cbu‰Ús
[şicked]).
di¥Ïy
(
di¥
);

64359 ià(
	g£Ëùed
>=0)

64360 
CImg
<>(
ÿnvas
).
d¿w_image
(
xbu‰Ús
[
£Ëùed
],
by
,
sbu‰Ús
[£Ëùed]).
di¥Ïy
(
di¥
);

64361 
	gÿnvas
.
di¥Ïy
(
di¥
);

64363 
	g»äesh
 = 
çl£
;

64365 
	gdi¥
.
wa™
(15);

64366 ià(
	gdi¥
.
is_»sized
()èdi¥.
»size
(
di¥
,
çl£
);

64368 ià(
	gdi¥
.
bu‰Ú
()&1) {

64369 
	goşicked
 = 
şicked
;

64370 
	gşicked
 = -1;

64371 
cimgli¡_fÜ
(
bu‰Ús
,
l
)

64372 ià(
	gdi¥
.
mou£_y
()>=()
by
 && 
di¥
.mou£_y()<()(by + 
bh
) &&

64373 
di¥
.
mou£_x
()>=()
xbu‰Ús
[
l
] && di¥.mou£_x()<()(xbu‰Ús[l] + 
bw
)) {

64374 
şicked
 = 
£Ëùed
 = 
l
;

64375 
	g»äesh
 = 
Œue
;

64377 ià(
	gşicked
!=
oşicked
è
»äesh
 = 
Œue
;

64378 } ià(
	gşicked
>=0è
¡İ_æag
 = 
Œue
;

64380 ià(
	gdi¥
.
key
()) {

64381 
	go£Ëùed
 = 
£Ëùed
;

64382 
	gdi¥
.
key
()) {

64383 
	gcimg
::
keyESC
 : 
£Ëùed
 = -1; 
	g¡İ_æag
 = 
Œue
; ;

64384 
	gcimg
::
keyENTER
 : ià(
£Ëùed
<0è£Ëùed = 0; 
	g¡İ_æag
 = 
Œue
; ;

64385 
	gcimg
::
keyTAB
 :

64386 
cimg
::
keyARROWRIGHT
 :

64387 
cimg
::
keyARROWDOWN
 : 
£Ëùed
 = (£Ëùed + 1)%
bu‰Ús
.
width
(); ;

64388 
	gcimg
::
keyARROWLEFT
 :

64389 
cimg
::
keyARROWUP
 : 
£Ëùed
 = (£Ëùed + 
bu‰Ús
.
width
() - 1)%buttons.width(); ;

64391 
	gdi¥
.
£t_key
();

64392 ià(
	g£Ëùed
!=
o£Ëùed
è
»äesh
 = 
Œue
;

64395 ià(!
	gdi¥
è
	g£Ëùed
 = -1;

64396  
	g£Ëùed
;

64401 
šlše
 
dŸlog
(cÚ¡ *cÚ¡ 
t™Ë
, cÚ¡ *cÚ¡ 
msg
,

64402 cÚ¡ *cÚ¡ 
bu‰Ú1_Ïb–
, cÚ¡ *cÚ¡ 
bu‰Ú2_Ïb–
,

64403 cÚ¡ *cÚ¡ 
bu‰Ú3_Ïb–
, cÚ¡ *cÚ¡ 
bu‰Ú4_Ïb–
,

64404 cÚ¡ *cÚ¡ 
bu‰Ú5_Ïb–
, cÚ¡ *cÚ¡ 
bu‰Ú6_Ïb–
,

64405 cÚ¡ 
boŞ
 
is_ûÁ”ed
) {

64406  
dŸlog
(
t™Ë
,
msg
,
bu‰Ú1_Ïb–
,
bu‰Ú2_Ïb–
,
bu‰Ú3_Ïb–
,
bu‰Ú4_Ïb–
,
bu‰Ú5_Ïb–
,
bu‰Ú6_Ïb–
,

64407 
CImg
<>::
_logo40x38
(),
is_ûÁ”ed
);

64426 
šlše
 
ev®
(cÚ¡ *cÚ¡ 
ex´essiÚ
, cÚ¡ 
x
, cÚ¡ 
y
, cÚ¡ 
z
, cÚ¡ 
c
) {

64427 cÚ¡ 
	gCImg
<> 
	gem±y
;

64428  
	gem±y
.
ev®
(
ex´essiÚ
,
x
,
y
,
z
,
c
);

64431 
	g‹m¶©e
<
ty³Çme
 
	gt
>

64432 
šlše
 
	gCImg
<
ty³Çme
 
	gcimg
::
su³r£t
<,
	gt
>::
ty³
> 
ev®
(cÚ¡ *cÚ¡ 
ex´essiÚ
, cÚ¡ 
CImg
<
t
>& 
xyzc
) {

64433 cÚ¡ 
	gCImg
<> 
	gem±y
;

64434  
	gem±y
.
ev®
(
ex´essiÚ
,
xyzc
);

64441 
Çme¥aû
 
	gc
 = 
cimg_lib¿ry_suffixed
;

64443 #ifdeà
_cimg_»defše_F®£


64444 
	#F®£
 0

	)

64446 #ifdeà
_cimg_»defše_True


64447 
	#True
 1

	)

64449 #ifdeà
_cimg_»defše_Stus


64450 
	#Stus
 

	)

64452 #ifdeà
_cimg_»defše_Sucûss


64453 
	#Sucûss
 0

	)

64455 #ifdeà
_cimg_»defše_mš


64456 
	#mš
(
a
,
b
è((×)<(b))?×):(b))

	)

64458 #ifdeà
_cimg_»defše_max


64459 
	#max
(
a
,
b
è((×)>(b))?×):(b))

	)

64461 #ifdeà
_cimg_»defše_PI


64462 
	#PI
 3.141592653589793238462643383

	)

64464 #ifdeà
_MSC_VER


64465 #´agm¨
w¬nšg
(
pİ
)

	@/usr/include/X11/Xlib.h

33 #iâdeà
_X11_XLIB_H_


34 
	#_X11_XLIB_H_


	)

36 
	#XlibS³cifiÿtiÚR–—£
 6

	)

38 
	~<sys/ty³s.h
>

40 #ià
defšed
(
__SCO__
è|| defšed(
__UNIXWARE__
)

41 
	~<¡dšt.h
>

44 
	~<X11/X.h
>

47 
	~<X11/XfunırÙo.h
>

48 
	~<X11/Xosdefs.h
>

50 #iâdeà
X_WCHAR


51 
	~<¡ddef.h
>

53 #ifdeà
__UNIXOS2__


54 
	~<¡dlib.h
>

57 
	twch¬_t
;

63 
_XmbËn
(

64 *
¡r
,

65 
Ën


70 
	#X_HAVE_UTF8_STRING
 1

	)

75 #ifdeà
__şªg__


76 #´agm¨
şªg
 
dŸgno¡ic
 
push


77 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wpadded"

80 *
	tXPoš‹r
;

82 
	#BoŞ
 

	)

83 
	#Stus
 

	)

84 
	#True
 1

	)

85 
	#F®£
 0

	)

87 
	#QueuedAÌ—dy
 0

	)

88 
	#QueuedAá”R—dšg
 1

	)

89 
	#QueuedAá”Flush
 2

	)

91 
	#CÚÃùiÚNumb”
(
dpy
è(((
_XPrivDi¥Ïy
)(dpy))->
fd
)

	)

92 
	#RoÙWšdow
(
dpy
, 
sü
è(
	`Sü“nOfDi¥Ïy
(dpy,sü)->
roÙ
)

	)

93 
	#DeçuÉSü“n
(
dpy
è(((
_XPrivDi¥Ïy
)(dpy))->
deçuÉ_sü“n
)

	)

94 
	#DeçuÉRoÙWšdow
(
dpy
è(
	`Sü“nOfDi¥Ïy
(dpy,
	`DeçuÉSü“n
(dpy))->
roÙ
)

	)

95 
	#DeçuÉVisu®
(
dpy
, 
sü
è(
	`Sü“nOfDi¥Ïy
(dpy,sü)->
roÙ_visu®
)

	)

96 
	#DeçuÉGC
(
dpy
, 
sü
è(
	`Sü“nOfDi¥Ïy
(dpy,sü)->
deçuÉ_gc
)

	)

97 
	#BÏckPix–
(
dpy
, 
sü
è(
	`Sü“nOfDi¥Ïy
(dpy,sü)->
bÏck_pix–
)

	)

98 
	#Wh™ePix–
(
dpy
, 
sü
è(
	`Sü“nOfDi¥Ïy
(dpy,sü)->
wh™e_pix–
)

	)

99 
	#AÎPÏÃs
 (()~0L)

	)

100 
	#QL’gth
(
dpy
è(((
_XPrivDi¥Ïy
)(dpy))->
qËn
)

	)

101 
	#Di¥ÏyWidth
(
dpy
, 
sü
è(
	`Sü“nOfDi¥Ïy
(dpy,sü)->
width
)

	)

102 
	#Di¥ÏyHeight
(
dpy
, 
sü
è(
	`Sü“nOfDi¥Ïy
(dpy,sü)->
height
)

	)

103 
	#Di¥ÏyWidthMM
(
dpy
, 
sü
)(
	`Sü“nOfDi¥Ïy
(dpy,sü)->
mwidth
)

	)

104 
	#Di¥ÏyHeightMM
(
dpy
, 
sü
)(
	`Sü“nOfDi¥Ïy
(dpy,sü)->
mheight
)

	)

105 
	#Di¥ÏyPÏÃs
(
dpy
, 
sü
è(
	`Sü“nOfDi¥Ïy
(dpy,sü)->
roÙ_d•th
)

	)

106 
	#Di¥ÏyC–ls
(
dpy
, 
sü
è(
	`DeçuÉVisu®
(dpy,sü)->
m­_’Œ›s
)

	)

107 
	#Sü“nCouÁ
(
dpy
è(((
_XPrivDi¥Ïy
)(dpy))->
nsü“ns
)

	)

108 
	#S”v”V’dÜ
(
dpy
è(((
_XPrivDi¥Ïy
)(dpy))->
v’dÜ
)

	)

109 
	#PrÙocŞV”siÚ
(
dpy
è(((
_XPrivDi¥Ïy
)(dpy))->
´Ùo_majÜ_v”siÚ
)

	)

110 
	#PrÙocŞRevisiÚ
(
dpy
è(((
_XPrivDi¥Ïy
)(dpy))->
´Ùo_mšÜ_v”siÚ
)

	)

111 
	#V’dÜR–—£
(
dpy
è(((
_XPrivDi¥Ïy
)(dpy))->
»Ëa£
)

	)

112 
	#Di¥ÏySŒšg
(
dpy
è(((
_XPrivDi¥Ïy
)(dpy))->
di¥Ïy_Çme
)

	)

113 
	#DeçuÉD•th
(
dpy
, 
sü
è(
	`Sü“nOfDi¥Ïy
(dpy,sü)->
roÙ_d•th
)

	)

114 
	#DeçuÉCŞÜm­
(
dpy
, 
sü
)(
	`Sü“nOfDi¥Ïy
(dpy,sü)->
cm­
)

	)

115 
	#B™m­Un™
(
dpy
è(((
_XPrivDi¥Ïy
)(dpy))->
b™m­_un™
)

	)

116 
	#B™m­B™Ord”
(
dpy
è(((
_XPrivDi¥Ïy
)(dpy))->
b™m­_b™_Üd”
)

	)

117 
	#B™m­Pad
(
dpy
è(((
_XPrivDi¥Ïy
)(dpy))->
b™m­_·d
)

	)

118 
	#ImageBy‹Ord”
(
dpy
è(((
_XPrivDi¥Ïy
)(dpy))->
by‹_Üd”
)

	)

119 
	#NextReque¡
(
dpy
è(((
_XPrivDi¥Ïy
)(dpy))->
»que¡
 + 1)

	)

120 
	#La¡KnownReque¡Proûs£d
(
dpy
è(((
_XPrivDi¥Ïy
)(dpy))->
Ï¡_»que¡_»ad
)

	)

123 
	#Sü“nOfDi¥Ïy
(
dpy
, 
sü
)(&((
_XPrivDi¥Ïy
)(dpy))->
sü“ns
[sü])

	)

124 
	#DeçuÉSü“nOfDi¥Ïy
(
dpy
è
	`Sü“nOfDi¥Ïy
(dpy,
	`DeçuÉSü“n
(dpy))

	)

125 
	#Di¥ÏyOfSü“n
(
s
è((s)->
di¥Ïy
)

	)

126 
	#RoÙWšdowOfSü“n
(
s
è((s)->
roÙ
)

	)

127 
	#BÏckPix–OfSü“n
(
s
è((s)->
bÏck_pix–
)

	)

128 
	#Wh™ePix–OfSü“n
(
s
è((s)->
wh™e_pix–
)

	)

129 
	#DeçuÉCŞÜm­OfSü“n
(
s
)((s)->
cm­
)

	)

130 
	#DeçuÉD•thOfSü“n
(
s
è((s)->
roÙ_d•th
)

	)

131 
	#DeçuÉGCOfSü“n
(
s
è((s)->
deçuÉ_gc
)

	)

132 
	#DeçuÉVisu®OfSü“n
(
s
)((s)->
roÙ_visu®
)

	)

133 
	#WidthOfSü“n
(
s
è((s)->
width
)

	)

134 
	#HeightOfSü“n
(
s
è((s)->
height
)

	)

135 
	#WidthMMOfSü“n
(
s
è((s)->
mwidth
)

	)

136 
	#HeightMMOfSü“n
(
s
è((s)->
mheight
)

	)

137 
	#PÏÃsOfSü“n
(
s
è((s)->
roÙ_d•th
)

	)

138 
	#C–lsOfSü“n
(
s
è(
	`DeçuÉVisu®OfSü“n
((s))->
m­_’Œ›s
)

	)

139 
	#MšCm­sOfSü“n
(
s
è((s)->
mš_m­s
)

	)

140 
	#MaxCm­sOfSü“n
(
s
è((s)->
max_m­s
)

	)

141 
	#DÛsSaveUnd”s
(
s
è((s)->
§ve_und”s
)

	)

142 
	#DÛsBackšgStÜe
(
s
è((s)->
backšg_¡Üe
)

	)

143 
	#Ev’tMaskOfSü“n
(
s
è((s)->
roÙ_šput_mask
)

	)

148 
	s_XExtD©a
 {

149 
	mnumb”
;

150 
_XExtD©a
 *
	mÃxt
;

151 (*
	mä“_´iv©e
)(

152 
_XExtD©a
 *
	mex‹nsiÚ


154 
XPoš‹r
 
	m´iv©e_d©a
;

155 } 
	tXExtD©a
;

161 
	mex‹nsiÚ
;

162 
	mmajÜ_İcode
;

163 
	mfœ¡_ev’t
;

164 
	mfœ¡_”rÜ
;

165 } 
	tXExtCodes
;

172 
	md•th
;

173 
	mb™s_³r_pix–
;

174 
	msÿÆše_·d
;

175 } 
	tXPixm­FÜm©V®ues
;

182 
	mfunùiÚ
;

183 
	m¶ªe_mask
;

184 
	mfÜeground
;

185 
	mbackground
;

186 
	mlše_width
;

187 
	mlše_¡yË
;

188 
	mÿp_¡yË
;

190 
	mjoš_¡yË
;

191 
	mfl_¡yË
;

193 
	mfl_ruË
;

194 
	m¬c_mode
;

195 
Pixm­
 
	mte
;

196 
Pixm­
 
	m¡¶e
;

197 
	mts_x_Üigš
;

198 
	mts_y_Üigš
;

199 
FÚt
 
	mfÚt
;

200 
	msubwšdow_mode
;

201 
BoŞ
 
	mg¿phics_exposu»s
;

202 
	mş_x_Üigš
;

203 
	mş_y_Üigš
;

204 
Pixm­
 
	mş_mask
;

205 
	mdash_off£t
;

206 
	mdashes
;

207 } 
	tXGCV®ues
;

214 
	g_XGC


215 #ifdeà
	tXLIB_ILLEGAL_ACCESS


217 
XExtD©a
 *
	gext_d©a
;

218 
GCÚ‹xt
 
	ggid
;

222 *
	tGC
;

228 
XExtD©a
 *
	mext_d©a
;

229 
Visu®ID
 
	mvisu®id
;

230 #ià
defšed
(
__ılu¥lus
è|| defšed(
c_¶u¥lus
)

231 
	mc_şass
;

233 
	mşass
;

235 
	m»d_mask
, 
	mg»’_mask
, 
	mblue_mask
;

236 
	mb™s_³r_rgb
;

237 
	mm­_’Œ›s
;

238 } 
	tVisu®
;

244 
	md•th
;

245 
	mnvisu®s
;

246 
Visu®
 *
	mvisu®s
;

247 } 
	tD•th
;

255 
	g_XDi¥Ïy
;

258 
XExtD©a
 *
	mext_d©a
;

259 
_XDi¥Ïy
 *
	mdi¥Ïy
;

260 
Wšdow
 
	mroÙ
;

261 
	mwidth
, 
	mheight
;

262 
	mmwidth
, 
	mmheight
;

263 
	mnd•ths
;

264 
D•th
 *
	md•ths
;

265 
	mroÙ_d•th
;

266 
Visu®
 *
	mroÙ_visu®
;

267 
GC
 
	mdeçuÉ_gc
;

268 
CŞÜm­
 
	mcm­
;

269 
	mwh™e_pix–
;

270 
	mbÏck_pix–
;

271 
	mmax_m­s
, 
	mmš_m­s
;

272 
	mbackšg_¡Üe
;

273 
BoŞ
 
	m§ve_und”s
;

274 
	mroÙ_šput_mask
;

275 } 
	tSü“n
;

281 
XExtD©a
 *
	mext_d©a
;

282 
	md•th
;

283 
	mb™s_³r_pix–
;

284 
	msÿÆše_·d
;

285 } 
	tSü“nFÜm©
;

291 
Pixm­
 
	mbackground_pixm­
;

292 
	mbackground_pix–
;

293 
Pixm­
 
	mbÜd”_pixm­
;

294 
	mbÜd”_pix–
;

295 
	mb™_g¿v™y
;

296 
	mwš_g¿v™y
;

297 
	mbackšg_¡Üe
;

298 
	mbackšg_¶ªes
;

299 
	mbackšg_pix–
;

300 
BoŞ
 
	m§ve_und”
;

301 
	mev’t_mask
;

302 
	mdo_nÙ_´İag©e_mask
;

303 
BoŞ
 
	mov”ride_»dœeù
;

304 
CŞÜm­
 
	mcŞÜm­
;

305 
CursÜ
 
	mcursÜ
;

306 } 
	tXS‘WšdowA‰ribu‹s
;

309 
	mx
, 
	my
;

310 
	mwidth
, 
	mheight
;

311 
	mbÜd”_width
;

312 
	md•th
;

313 
Visu®
 *
	mvisu®
;

314 
Wšdow
 
	mroÙ
;

315 #ià
defšed
(
__ılu¥lus
è|| defšed(
c_¶u¥lus
)

316 
	mc_şass
;

318 
	mşass
;

320 
	mb™_g¿v™y
;

321 
	mwš_g¿v™y
;

322 
	mbackšg_¡Üe
;

323 
	mbackšg_¶ªes
;

324 
	mbackšg_pix–
;

325 
BoŞ
 
	m§ve_und”
;

326 
CŞÜm­
 
	mcŞÜm­
;

327 
BoŞ
 
	mm­_š¡®Ëd
;

328 
	mm­_¡©e
;

329 
	m®l_ev’t_masks
;

330 
	myour_ev’t_mask
;

331 
	mdo_nÙ_´İag©e_mask
;

332 
BoŞ
 
	mov”ride_»dœeù
;

333 
Sü“n
 *
	msü“n
;

334 } 
	tXWšdowA‰ribu‹s
;

342 
	mçmy
;

343 
	mËngth
;

344 *
	madd»ss
;

345 } 
	tXHo¡Add»ss
;

351 
	mty³Ëngth
;

352 
	mv®u–’gth
;

353 *
	mty³
;

354 *
	mv®ue
;

355 } 
	tXS”v”IÁ”´‘edAdd»ss
;

360 
	s_XImage
 {

361 
	mwidth
, 
	mheight
;

362 
	mxoff£t
;

363 
	mfÜm©
;

364 *
	md©a
;

365 
	mby‹_Üd”
;

366 
	mb™m­_un™
;

367 
	mb™m­_b™_Üd”
;

368 
	mb™m­_·d
;

369 
	md•th
;

370 
	mby‹s_³r_lše
;

371 
	mb™s_³r_pix–
;

372 
	m»d_mask
;

373 
	mg»’_mask
;

374 
	mblue_mask
;

375 
XPoš‹r
 
	mobd©a
;

376 
	sfuncs
 {

377 
	m_XImage
 *(*
	mü—‹_image
)(

378 
	m_XDi¥Ïy
* ,

379 
	mVisu®
* ,

388 (*
	mde¡roy_image
è(
	m_XImage
 *);

389 (*
	mg‘_pix–
è(
	m_XImage
 *, , );

390 (*
	mput_pix–
è(
	m_XImage
 *, , , );

391 
	m_XImage
 *(*
	msub_image
)(_XImage *, , , , );

392 (*
	madd_pix–
è(
	m_XImage
 *, );

393 } 
	mf
;

394 } 
	tXImage
;

400 
	mx
, 
	my
;

401 
	mwidth
, 
	mheight
;

402 
	mbÜd”_width
;

403 
Wšdow
 
	msiblšg
;

404 
	m¡ack_mode
;

405 } 
	tXWšdowChªges
;

411 
	mpix–
;

412 
	m»d
, 
	mg»’
, 
	mblue
;

413 
	mæags
;

414 
	m·d
;

415 } 
	tXCŞÜ
;

423 
	mx1
, 
	my1
, 
	mx2
, 
	my2
;

424 } 
	tXSegm’t
;

427 
	mx
, 
	my
;

428 } 
	tXPošt
;

431 
	mx
, 
	my
;

432 
	mwidth
, 
	mheight
;

433 } 
	tXReùªgË
;

436 
	mx
, 
	my
;

437 
	mwidth
, 
	mheight
;

438 
	mªgË1
, 
	mªgË2
;

439 } 
	tXArc
;

445 
	mkey_şick_³rûÁ
;

446 
	mb–l_³rûÁ
;

447 
	mb–l_p™ch
;

448 
	mb–l_du¿tiÚ
;

449 
	mËd
;

450 
	mËd_mode
;

451 
	mkey
;

452 
	mauto_»³©_mode
;

453 } 
	tXKeybßrdCÚŒŞ
;

458 
	mkey_şick_³rûÁ
;

459 
	mb–l_³rûÁ
;

460 
	mb–l_p™ch
, 
	mb–l_du¿tiÚ
;

461 
	mËd_mask
;

462 
	mglob®_auto_»³©
;

463 
	mauto_»³©s
[32];

464 } 
	tXKeybßrdS‹
;

469 
Time
 
	mtime
;

470 
	mx
, 
	my
;

471 } 
	tXTimeCoÜd
;

476 
	mmax_key³rmod
;

477 
KeyCode
 *
	mmodif›rm­
;

478 } 
	tXModif›rKeym­
;

486 #iâdeà
XLIB_ILLEGAL_ACCESS


487 
_XDi¥Ïy
 
	tDi¥Ïy
;

490 
	g_XPriv©e
;

491 
	g_XrmHashBuck‘Rec
;

494 #ifdeà
XLIB_ILLEGAL_ACCESS


495 
	t_XDi¥Ïy


498 
XExtD©a
 *
	gext_d©a
;

499 
_XPriv©e
 *
	g´iv©e1
;

500 
	gfd
;

501 
	g´iv©e2
;

502 
	g´Ùo_majÜ_v”siÚ
;

503 
	g´Ùo_mšÜ_v”siÚ
;

504 *
	gv’dÜ
;

505 
XID
 
	g´iv©e3
;

506 
XID
 
	g´iv©e4
;

507 
XID
 
	g´iv©e5
;

508 
	g´iv©e6
;

509 
XID
 (*
»sourû_®loc
)(

510 
	g_XDi¥Ïy
*

512 
	gby‹_Üd”
;

513 
	gb™m­_un™
;

514 
	gb™m­_·d
;

515 
	gb™m­_b™_Üd”
;

516 
	gnfÜm©s
;

517 
Sü“nFÜm©
 *
	gpixm­_fÜm©
;

518 
	g´iv©e8
;

519 
	g»Ëa£
;

520 
_XPriv©e
 *
	g´iv©e9
, *
	g´iv©e10
;

521 
	gqËn
;

522 
	gÏ¡_»que¡_»ad
;

523 
	g»que¡
;

524 
XPoš‹r
 
	g´iv©e11
;

525 
XPoš‹r
 
	g´iv©e12
;

526 
XPoš‹r
 
	g´iv©e13
;

527 
XPoš‹r
 
	g´iv©e14
;

528 
	gmax_»que¡_size
;

529 
_XrmHashBuck‘Rec
 *
	gdb
;

530 (*
	g´iv©e15
)(

531 
	g_XDi¥Ïy
*

533 *
	gdi¥Ïy_Çme
;

534 
	gdeçuÉ_sü“n
;

535 
	gnsü“ns
;

536 
Sü“n
 *
	gsü“ns
;

537 
	gmÙiÚ_bufãr
;

538 
	g´iv©e16
;

539 
	gmš_keycode
;

540 
	gmax_keycode
;

541 
XPoš‹r
 
	g´iv©e17
;

542 
XPoš‹r
 
	g´iv©e18
;

543 
	g´iv©e19
;

544 *
	gxdeçuÉs
;

547 #ifdeà
	tXLIB_ILLEGAL_ACCESS


548 
	tDi¥Ïy
,

550 *
	t_XPrivDi¥Ïy
;

552 #undeà
_XEVENT_


553 #iâdeà
_XEVENT_


558 
	mty³
;

559 
	m£rŸl
;

560 
BoŞ
 
	m£nd_ev’t
;

561 
Di¥Ïy
 *
	mdi¥Ïy
;

562 
Wšdow
 
	mwšdow
;

563 
Wšdow
 
	mroÙ
;

564 
Wšdow
 
	msubwšdow
;

565 
Time
 
	mtime
;

566 
	mx
, 
	my
;

567 
	mx_roÙ
, 
	my_roÙ
;

568 
	m¡©e
;

569 
	mkeycode
;

570 
BoŞ
 
	m§me_sü“n
;

571 } 
	tXKeyEv’t
;

572 
XKeyEv’t
 
	tXKeyP»s£dEv’t
;

573 
XKeyEv’t
 
	tXKeyR–—£dEv’t
;

576 
	mty³
;

577 
	m£rŸl
;

578 
BoŞ
 
	m£nd_ev’t
;

579 
Di¥Ïy
 *
	mdi¥Ïy
;

580 
Wšdow
 
	mwšdow
;

581 
Wšdow
 
	mroÙ
;

582 
Wšdow
 
	msubwšdow
;

583 
Time
 
	mtime
;

584 
	mx
, 
	my
;

585 
	mx_roÙ
, 
	my_roÙ
;

586 
	m¡©e
;

587 
	mbu‰Ú
;

588 
BoŞ
 
	m§me_sü“n
;

589 } 
	tXBu‰ÚEv’t
;

590 
XBu‰ÚEv’t
 
	tXBu‰ÚP»s£dEv’t
;

591 
XBu‰ÚEv’t
 
	tXBu‰ÚR–—£dEv’t
;

594 
	mty³
;

595 
	m£rŸl
;

596 
BoŞ
 
	m£nd_ev’t
;

597 
Di¥Ïy
 *
	mdi¥Ïy
;

598 
Wšdow
 
	mwšdow
;

599 
Wšdow
 
	mroÙ
;

600 
Wšdow
 
	msubwšdow
;

601 
Time
 
	mtime
;

602 
	mx
, 
	my
;

603 
	mx_roÙ
, 
	my_roÙ
;

604 
	m¡©e
;

605 
	mis_hšt
;

606 
BoŞ
 
	m§me_sü“n
;

607 } 
	tXMÙiÚEv’t
;

608 
XMÙiÚEv’t
 
	tXPoš‹rMovedEv’t
;

611 
	mty³
;

612 
	m£rŸl
;

613 
BoŞ
 
	m£nd_ev’t
;

614 
Di¥Ïy
 *
	mdi¥Ïy
;

615 
Wšdow
 
	mwšdow
;

616 
Wšdow
 
	mroÙ
;

617 
Wšdow
 
	msubwšdow
;

618 
Time
 
	mtime
;

619 
	mx
, 
	my
;

620 
	mx_roÙ
, 
	my_roÙ
;

621 
	mmode
;

622 
	md‘a
;

627 
BoŞ
 
	m§me_sü“n
;

628 
BoŞ
 
	mfocus
;

629 
	m¡©e
;

630 } 
	tXCrossšgEv’t
;

631 
XCrossšgEv’t
 
	tXEÁ”WšdowEv’t
;

632 
XCrossšgEv’t
 
	tXL—veWšdowEv’t
;

635 
	mty³
;

636 
	m£rŸl
;

637 
BoŞ
 
	m£nd_ev’t
;

638 
Di¥Ïy
 *
	mdi¥Ïy
;

639 
Wšdow
 
	mwšdow
;

640 
	mmode
;

642 
	md‘a
;

648 } 
	tXFocusChªgeEv’t
;

649 
XFocusChªgeEv’t
 
	tXFocusInEv’t
;

650 
XFocusChªgeEv’t
 
	tXFocusOutEv’t
;

654 
	mty³
;

655 
	m£rŸl
;

656 
BoŞ
 
	m£nd_ev’t
;

657 
Di¥Ïy
 *
	mdi¥Ïy
;

658 
Wšdow
 
	mwšdow
;

659 
	mkey_veùÜ
[32];

660 } 
	tXKeym­Ev’t
;

663 
	mty³
;

664 
	m£rŸl
;

665 
BoŞ
 
	m£nd_ev’t
;

666 
Di¥Ïy
 *
	mdi¥Ïy
;

667 
Wšdow
 
	mwšdow
;

668 
	mx
, 
	my
;

669 
	mwidth
, 
	mheight
;

670 
	mcouÁ
;

671 } 
	tXExpo£Ev’t
;

674 
	mty³
;

675 
	m£rŸl
;

676 
BoŞ
 
	m£nd_ev’t
;

677 
Di¥Ïy
 *
	mdi¥Ïy
;

678 
D¿wabË
 
	md¿wabË
;

679 
	mx
, 
	my
;

680 
	mwidth
, 
	mheight
;

681 
	mcouÁ
;

682 
	mmajÜ_code
;

683 
	mmšÜ_code
;

684 } 
	tXG¿phicsExpo£Ev’t
;

687 
	mty³
;

688 
	m£rŸl
;

689 
BoŞ
 
	m£nd_ev’t
;

690 
Di¥Ïy
 *
	mdi¥Ïy
;

691 
D¿wabË
 
	md¿wabË
;

692 
	mmajÜ_code
;

693 
	mmšÜ_code
;

694 } 
	tXNoExpo£Ev’t
;

697 
	mty³
;

698 
	m£rŸl
;

699 
BoŞ
 
	m£nd_ev’t
;

700 
Di¥Ïy
 *
	mdi¥Ïy
;

701 
Wšdow
 
	mwšdow
;

702 
	m¡©e
;

703 } 
	tXVisib™yEv’t
;

706 
	mty³
;

707 
	m£rŸl
;

708 
BoŞ
 
	m£nd_ev’t
;

709 
Di¥Ïy
 *
	mdi¥Ïy
;

710 
Wšdow
 
	m·»Á
;

711 
Wšdow
 
	mwšdow
;

712 
	mx
, 
	my
;

713 
	mwidth
, 
	mheight
;

714 
	mbÜd”_width
;

715 
BoŞ
 
	mov”ride_»dœeù
;

716 } 
	tXC»©eWšdowEv’t
;

719 
	mty³
;

720 
	m£rŸl
;

721 
BoŞ
 
	m£nd_ev’t
;

722 
Di¥Ïy
 *
	mdi¥Ïy
;

723 
Wšdow
 
	mev’t
;

724 
Wšdow
 
	mwšdow
;

725 } 
	tXDe¡royWšdowEv’t
;

728 
	mty³
;

729 
	m£rŸl
;

730 
BoŞ
 
	m£nd_ev’t
;

731 
Di¥Ïy
 *
	mdi¥Ïy
;

732 
Wšdow
 
	mev’t
;

733 
Wšdow
 
	mwšdow
;

734 
BoŞ
 
	mäom_cÚfigu»
;

735 } 
	tXUnm­Ev’t
;

738 
	mty³
;

739 
	m£rŸl
;

740 
BoŞ
 
	m£nd_ev’t
;

741 
Di¥Ïy
 *
	mdi¥Ïy
;

742 
Wšdow
 
	mev’t
;

743 
Wšdow
 
	mwšdow
;

744 
BoŞ
 
	mov”ride_»dœeù
;

745 } 
	tXM­Ev’t
;

748 
	mty³
;

749 
	m£rŸl
;

750 
BoŞ
 
	m£nd_ev’t
;

751 
Di¥Ïy
 *
	mdi¥Ïy
;

752 
Wšdow
 
	m·»Á
;

753 
Wšdow
 
	mwšdow
;

754 } 
	tXM­Reque¡Ev’t
;

757 
	mty³
;

758 
	m£rŸl
;

759 
BoŞ
 
	m£nd_ev’t
;

760 
Di¥Ïy
 *
	mdi¥Ïy
;

761 
Wšdow
 
	mev’t
;

762 
Wšdow
 
	mwšdow
;

763 
Wšdow
 
	m·»Á
;

764 
	mx
, 
	my
;

765 
BoŞ
 
	mov”ride_»dœeù
;

766 } 
	tXR•¬’tEv’t
;

769 
	mty³
;

770 
	m£rŸl
;

771 
BoŞ
 
	m£nd_ev’t
;

772 
Di¥Ïy
 *
	mdi¥Ïy
;

773 
Wšdow
 
	mev’t
;

774 
Wšdow
 
	mwšdow
;

775 
	mx
, 
	my
;

776 
	mwidth
, 
	mheight
;

777 
	mbÜd”_width
;

778 
Wšdow
 
	mabove
;

779 
BoŞ
 
	mov”ride_»dœeù
;

780 } 
	tXCÚfigu»Ev’t
;

783 
	mty³
;

784 
	m£rŸl
;

785 
BoŞ
 
	m£nd_ev’t
;

786 
Di¥Ïy
 *
	mdi¥Ïy
;

787 
Wšdow
 
	mev’t
;

788 
Wšdow
 
	mwšdow
;

789 
	mx
, 
	my
;

790 } 
	tXG¿v™yEv’t
;

793 
	mty³
;

794 
	m£rŸl
;

795 
BoŞ
 
	m£nd_ev’t
;

796 
Di¥Ïy
 *
	mdi¥Ïy
;

797 
Wšdow
 
	mwšdow
;

798 
	mwidth
, 
	mheight
;

799 } 
	tXResizeReque¡Ev’t
;

802 
	mty³
;

803 
	m£rŸl
;

804 
BoŞ
 
	m£nd_ev’t
;

805 
Di¥Ïy
 *
	mdi¥Ïy
;

806 
Wšdow
 
	m·»Á
;

807 
Wšdow
 
	mwšdow
;

808 
	mx
, 
	my
;

809 
	mwidth
, 
	mheight
;

810 
	mbÜd”_width
;

811 
Wšdow
 
	mabove
;

812 
	md‘a
;

813 
	mv®ue_mask
;

814 } 
	tXCÚfigu»Reque¡Ev’t
;

817 
	mty³
;

818 
	m£rŸl
;

819 
BoŞ
 
	m£nd_ev’t
;

820 
Di¥Ïy
 *
	mdi¥Ïy
;

821 
Wšdow
 
	mev’t
;

822 
Wšdow
 
	mwšdow
;

823 
	m¶aû
;

824 } 
	tXCœcuÏ‹Ev’t
;

827 
	mty³
;

828 
	m£rŸl
;

829 
BoŞ
 
	m£nd_ev’t
;

830 
Di¥Ïy
 *
	mdi¥Ïy
;

831 
Wšdow
 
	m·»Á
;

832 
Wšdow
 
	mwšdow
;

833 
	m¶aû
;

834 } 
	tXCœcuÏ‹Reque¡Ev’t
;

837 
	mty³
;

838 
	m£rŸl
;

839 
BoŞ
 
	m£nd_ev’t
;

840 
Di¥Ïy
 *
	mdi¥Ïy
;

841 
Wšdow
 
	mwšdow
;

842 
Atom
 
	m©om
;

843 
Time
 
	mtime
;

844 
	m¡©e
;

845 } 
	tXPrİ”tyEv’t
;

848 
	mty³
;

849 
	m£rŸl
;

850 
BoŞ
 
	m£nd_ev’t
;

851 
Di¥Ïy
 *
	mdi¥Ïy
;

852 
Wšdow
 
	mwšdow
;

853 
Atom
 
	m£ËùiÚ
;

854 
Time
 
	mtime
;

855 } 
	tXS–eùiÚCË¬Ev’t
;

858 
	mty³
;

859 
	m£rŸl
;

860 
BoŞ
 
	m£nd_ev’t
;

861 
Di¥Ïy
 *
	mdi¥Ïy
;

862 
Wšdow
 
	mowÃr
;

863 
Wšdow
 
	m»que¡Ü
;

864 
Atom
 
	m£ËùiÚ
;

865 
Atom
 
	mrg‘
;

866 
Atom
 
	m´İ”ty
;

867 
Time
 
	mtime
;

868 } 
	tXS–eùiÚReque¡Ev’t
;

871 
	mty³
;

872 
	m£rŸl
;

873 
BoŞ
 
	m£nd_ev’t
;

874 
Di¥Ïy
 *
	mdi¥Ïy
;

875 
Wšdow
 
	m»que¡Ü
;

876 
Atom
 
	m£ËùiÚ
;

877 
Atom
 
	mrg‘
;

878 
Atom
 
	m´İ”ty
;

879 
Time
 
	mtime
;

880 } 
	tXS–eùiÚEv’t
;

883 
	mty³
;

884 
	m£rŸl
;

885 
BoŞ
 
	m£nd_ev’t
;

886 
Di¥Ïy
 *
	mdi¥Ïy
;

887 
Wšdow
 
	mwšdow
;

888 
CŞÜm­
 
	mcŞÜm­
;

889 #ià
defšed
(
__ılu¥lus
è|| defšed(
c_¶u¥lus
)

890 
BoŞ
 
	mc_Ãw
;

892 
BoŞ
 
	mÃw
;

894 
	m¡©e
;

895 } 
	tXCŞÜm­Ev’t
;

898 
	mty³
;

899 
	m£rŸl
;

900 
BoŞ
 
	m£nd_ev’t
;

901 
Di¥Ïy
 *
	mdi¥Ïy
;

902 
Wšdow
 
	mwšdow
;

903 
Atom
 
	mmes§ge_ty³
;

904 
	mfÜm©
;

906 
	mb
[20];

907 
	ms
[10];

908 
	ml
[5];

909 } 
	md©a
;

910 } 
	tXCl›ÁMes§geEv’t
;

913 
	mty³
;

914 
	m£rŸl
;

915 
BoŞ
 
	m£nd_ev’t
;

916 
Di¥Ïy
 *
	mdi¥Ïy
;

917 
Wšdow
 
	mwšdow
;

918 
	m»que¡
;

920 
	mfœ¡_keycode
;

921 
	mcouÁ
;

922 } 
	tXM­pšgEv’t
;

925 
	mty³
;

926 
Di¥Ïy
 *
	mdi¥Ïy
;

927 
XID
 
	m»sourûid
;

928 
	m£rŸl
;

929 
	m”rÜ_code
;

930 
	m»que¡_code
;

931 
	mmšÜ_code
;

932 } 
	tXE¼ÜEv’t
;

935 
	mty³
;

936 
	m£rŸl
;

937 
BoŞ
 
	m£nd_ev’t
;

938 
Di¥Ïy
 *
	mdi¥Ïy
;

939 
Wšdow
 
	mwšdow
;

940 } 
	tXAnyEv’t
;

950 
	mty³
;

951 
	m£rŸl
;

952 
BoŞ
 
	m£nd_ev’t
;

953 
Di¥Ïy
 *
	mdi¥Ïy
;

954 
	mex‹nsiÚ
;

955 
	mevty³
;

956 } 
	tXG’”icEv’t
;

959 
	mty³
;

960 
	m£rŸl
;

961 
BoŞ
 
	m£nd_ev’t
;

962 
Di¥Ïy
 *
	mdi¥Ïy
;

963 
	mex‹nsiÚ
;

964 
	mevty³
;

965 
	mcook›
;

966 *
	md©a
;

967 } 
	tXG’”icEv’tCook›
;

973 
	u_XEv’t
 {

974 
	mty³
;

975 
XAnyEv’t
 
	mxªy
;

976 
XKeyEv’t
 
	mxkey
;

977 
XBu‰ÚEv’t
 
	mxbu‰Ú
;

978 
XMÙiÚEv’t
 
	mxmÙiÚ
;

979 
XCrossšgEv’t
 
	mxüossšg
;

980 
XFocusChªgeEv’t
 
	mxfocus
;

981 
XExpo£Ev’t
 
	mxexpo£
;

982 
XG¿phicsExpo£Ev’t
 
	mxg¿phic£xpo£
;

983 
XNoExpo£Ev’t
 
	mxnÛxpo£
;

984 
XVisib™yEv’t
 
	mxvisib™y
;

985 
XC»©eWšdowEv’t
 
	mxü—‹wšdow
;

986 
XDe¡royWšdowEv’t
 
	mxde¡roywšdow
;

987 
XUnm­Ev’t
 
	mxunm­
;

988 
XM­Ev’t
 
	mxm­
;

989 
XM­Reque¡Ev’t
 
	mxm­»que¡
;

990 
XR•¬’tEv’t
 
	mx»·»Á
;

991 
XCÚfigu»Ev’t
 
	mxcÚfigu»
;

992 
XG¿v™yEv’t
 
	mxg¿v™y
;

993 
XResizeReque¡Ev’t
 
	mx»siz”eque¡
;

994 
XCÚfigu»Reque¡Ev’t
 
	mxcÚfigu»»que¡
;

995 
XCœcuÏ‹Ev’t
 
	mxcœcuÏ‹
;

996 
XCœcuÏ‹Reque¡Ev’t
 
	mxcœcuÏ‹»que¡
;

997 
XPrİ”tyEv’t
 
	mx´İ”ty
;

998 
XS–eùiÚCË¬Ev’t
 
	mx£ËùiÚş—r
;

999 
XS–eùiÚReque¡Ev’t
 
	mx£ËùiÚ»que¡
;

1000 
XS–eùiÚEv’t
 
	mx£ËùiÚ
;

1001 
XCŞÜm­Ev’t
 
	mxcŞÜm­
;

1002 
XCl›ÁMes§geEv’t
 
	mxş›Á
;

1003 
XM­pšgEv’t
 
	mxm­pšg
;

1004 
XE¼ÜEv’t
 
	mx”rÜ
;

1005 
XKeym­Ev’t
 
	mxkeym­
;

1006 
XG’”icEv’t
 
	mxg’”ic
;

1007 
XG’”icEv’tCook›
 
	mxcook›
;

1008 
	m·d
[24];

1009 } 
	tXEv’t
;

1012 
	#XAÎocID
(
dpy
è((*((
_XPrivDi¥Ïy
)(dpy))->
»sourû_®loc
)((dpy)))

	)

1018 
	mlb—ršg
;

1019 
	mrb—ršg
;

1020 
	mwidth
;

1021 
	masûÁ
;

1022 
	mdesûÁ
;

1023 
	m©Œibu‹s
;

1024 } 
	tXCh¬SŒuù
;

1031 
Atom
 
	mÇme
;

1032 
	mÿrd32
;

1033 } 
	tXFÚtPrİ
;

1036 
XExtD©a
 *
	mext_d©a
;

1037 
FÚt
 
	mfid
;

1038 
	mdœeùiÚ
;

1039 
	mmš_ch¬_Ü_by‹2
;

1040 
	mmax_ch¬_Ü_by‹2
;

1041 
	mmš_by‹1
;

1042 
	mmax_by‹1
;

1043 
BoŞ
 
	m®l_ch¬s_exi¡
;

1044 
	mdeçuÉ_ch¬
;

1045 
	mn_´İ”t›s
;

1046 
XFÚtPrİ
 *
	m´İ”t›s
;

1047 
XCh¬SŒuù
 
	mmš_bounds
;

1048 
XCh¬SŒuù
 
	mmax_bounds
;

1049 
XCh¬SŒuù
 *
	m³r_ch¬
;

1050 
	masûÁ
;

1051 
	mdesûÁ
;

1052 } 
	tXFÚtSŒuù
;

1058 *
	mch¬s
;

1059 
	mnch¬s
;

1060 
	md–
;

1061 
FÚt
 
	mfÚt
;

1062 } 
	tXTextI‹m
;

1065 
	mby‹1
;

1066 
	mby‹2
;

1067 } 
	tXCh¬2b
;

1070 
XCh¬2b
 *
	mch¬s
;

1071 
	mnch¬s
;

1072 
	md–
;

1073 
FÚt
 
	mfÚt
;

1074 } 
	tXTextI‹m16
;

1077 uniÚ { 
Di¥Ïy
 *
	mdi¥Ïy
;

1078 
GC
 
	mgc
;

1079 
Visu®
 *
	mvisu®
;

1080 
Sü“n
 *
	msü“n
;

1081 
Sü“nFÜm©
 *
	mpixm­_fÜm©
;

1082 
XFÚtSŒuù
 *
	mfÚt
; } 
	tXED©aObjeù
;

1085 
XReùªgË
 
	mmax_šk_ex‹Á
;

1086 
XReùªgË
 
	mmax_logiÿl_ex‹Á
;

1087 } 
	tXFÚtS‘Ex‹Ás
;

1093 
_XOM
 *
	tXOM
;

1094 
_XOC
 *
	tXOC
, *
	tXFÚtS‘
;

1097 *
	mch¬s
;

1098 
	mnch¬s
;

1099 
	md–
;

1100 
XFÚtS‘
 
	mfÚt_£t
;

1101 } 
	tXmbTextI‹m
;

1104 
wch¬_t
 *
	mch¬s
;

1105 
	mnch¬s
;

1106 
	md–
;

1107 
XFÚtS‘
 
	mfÚt_£t
;

1108 } 
	tXwcTextI‹m
;

1110 
	#XNRequœedCh¬S‘
 "»quœedCh¬S‘"

	)

1111 
	#XNQu”yOr›Á©iÚ
 "qu”yOr›Á©iÚ"

	)

1112 
	#XNBa£FÚtName
 "ba£FÚtName"

	)

1113 
	#XNOMAutom©ic
 "omAutom©ic"

	)

1114 
	#XNMissšgCh¬S‘
 "missšgCh¬S‘"

	)

1115 
	#XNDeçuÉSŒšg
 "deçuÉSŒšg"

	)

1116 
	#XNOr›Á©iÚ
 "Ü›Á©iÚ"

	)

1117 
	#XNDœeùiÚ®D•’d’tD¿wšg
 "dœeùiÚ®D•’d’tD¿wšg"

	)

1118 
	#XNCÚ‹xtu®D¿wšg
 "cÚ‹xtu®D¿wšg"

	)

1119 
	#XNFÚtInfo
 "fÚtInfo"

	)

1122 
	mch¬£t_couÁ
;

1123 **
	mch¬£t_li¡
;

1124 } 
	tXOMCh¬S‘Li¡
;

1127 
	mXOMOr›Á©iÚ_LTR_TTB
,

1128 
	mXOMOr›Á©iÚ_RTL_TTB
,

1129 
	mXOMOr›Á©iÚ_TTB_LTR
,

1130 
	mXOMOr›Á©iÚ_TTB_RTL
,

1131 
	mXOMOr›Á©iÚ_CÚ‹xt


1132 } 
	tXOr›Á©iÚ
;

1135 
	mnum_Ü›Á©iÚ
;

1136 
XOr›Á©iÚ
 *
	mÜ›Á©iÚ
;

1137 } 
	tXOMOr›Á©iÚ
;

1140 
	mnum_fÚt
;

1141 
XFÚtSŒuù
 **
	mfÚt_¡ruù_li¡
;

1142 **
	mfÚt_Çme_li¡
;

1143 } 
	tXOMFÚtInfo
;

1145 
_XIM
 *
	tXIM
;

1146 
_XIC
 *
	tXIC
;

1148 (*
	tXIMProc
)(

1149 
	tXIM
,

1150 
	tXPoš‹r
,

1151 
	tXPoš‹r


1154 
	$BoŞ
 (*
	tXICProc
)(

1155 
	tXIC
,

1156 
	tXPoš‹r
,

1157 
	tXPoš‹r


1160 (*
	tXIDProc
)(

1161 
	tDi¥Ïy
*,

1162 
	tXPoš‹r
,

1163 
	tXPoš‹r


1166 
	tXIMStyË
;

1169 
couÁ_¡yËs
;

1170 
XIMStyË
 *
suµÜ‹d_¡yËs
;

1171 } 
	tXIMStyËs
;

1173 
	#XIMP»ed™A»a
 0x0001L

	)

1174 
	#XIMP»ed™C®lbacks
 0x0002L

	)

1175 
	#XIMP»ed™Pos™iÚ
 0x0004L

	)

1176 
	#XIMP»ed™NÙhšg
 0x0008L

	)

1177 
	#XIMP»ed™NÚe
 0x0010L

	)

1178 
	#XIMStusA»a
 0x0100L

	)

1179 
	#XIMStusC®lbacks
 0x0200L

	)

1180 
	#XIMStusNÙhšg
 0x0400L

	)

1181 
	#XIMStusNÚe
 0x0800L

	)

1183 
	#XNVaNe¡edLi¡
 "XNVaNe¡edLi¡"

	)

1184 
	#XNQu”yIÅutStyË
 "qu”yIÅutStyË"

	)

1185 
	#XNCl›ÁWšdow
 "ş›ÁWšdow"

	)

1186 
	#XNIÅutStyË
 "šputStyË"

	)

1187 
	#XNFocusWšdow
 "focusWšdow"

	)

1188 
	#XNResourûName
 "»sourûName"

	)

1189 
	#XNResourûCÏss
 "»sourûCÏss"

	)

1190 
	#XNGeom‘ryC®lback
 "geom‘ryC®lback"

	)

1191 
	#XNDe¡royC®lback
 "de¡royC®lback"

	)

1192 
	#XNF‹rEv’ts
 "f‹rEv’ts"

	)

1193 
	#XNP»ed™S¹C®lback
 "´“d™S¹C®lback"

	)

1194 
	#XNP»ed™DÚeC®lback
 "´“d™DÚeC®lback"

	)

1195 
	#XNP»ed™D¿wC®lback
 "´“d™D¿wC®lback"

	)

1196 
	#XNP»ed™C¬‘C®lback
 "´“d™C¬‘C®lback"

	)

1197 
	#XNP»ed™S‹NÙifyC®lback
 "´“d™S‹NÙifyC®lback"

	)

1198 
	#XNP»ed™A‰ribu‹s
 "´“d™A‰ribu‹s"

	)

1199 
	#XNStusS¹C®lback
 "¡©usS¹C®lback"

	)

1200 
	#XNStusDÚeC®lback
 "¡©usDÚeC®lback"

	)

1201 
	#XNStusD¿wC®lback
 "¡©usD¿wC®lback"

	)

1202 
	#XNStusA‰ribu‹s
 "¡©usA‰ribu‹s"

	)

1203 
	#XNA»a
 "¬—"

	)

1204 
	#XNA»aN“ded
 "¬—N“ded"

	)

1205 
	#XNSpÙLoÿtiÚ
 "¥ÙLoÿtiÚ"

	)

1206 
	#XNCŞÜm­
 "cŞÜM­"

	)

1207 
	#XNStdCŞÜm­
 "¡dCŞÜM­"

	)

1208 
	#XNFÜeground
 "fÜeground"

	)

1209 
	#XNBackground
 "background"

	)

1210 
	#XNBackgroundPixm­
 "backgroundPixm­"

	)

1211 
	#XNFÚtS‘
 "fÚtS‘"

	)

1212 
	#XNLšeS·û
 "lšeS·û"

	)

1213 
	#XNCursÜ
 "cursÜ"

	)

1215 
	#XNQu”yIMV®uesLi¡
 "qu”yIMV®uesLi¡"

	)

1216 
	#XNQu”yICV®uesLi¡
 "qu”yICV®uesLi¡"

	)

1217 
	#XNVisibËPos™iÚ
 "visibËPos™iÚ"

	)

1218 
	#XNR6P»ed™C®lback
 "r6P»ed™C®lback"

	)

1219 
	#XNSŒšgCÚv”siÚC®lback
 "¡ršgCÚv”siÚC®lback"

	)

1220 
	#XNSŒšgCÚv”siÚ
 "¡ršgCÚv”siÚ"

	)

1221 
	#XNRe£tS‹
 "»£tS‹"

	)

1222 
	#XNHÙKey
 "hÙKey"

	)

1223 
	#XNHÙKeyS‹
 "hÙKeyS‹"

	)

1224 
	#XNP»ed™S‹
 "´“d™S‹"

	)

1225 
	#XNS•¬©ÜofNe¡edLi¡
 "£·¿tÜofNe¡edLi¡"

	)

1227 
	#XBufãrOv”æow
 -1

	)

1228 
	#XLookupNÚe
 1

	)

1229 
	#XLookupCh¬s
 2

	)

1230 
	#XLookupKeySym
 3

	)

1231 
	#XLookupBÙh
 4

	)

1233 *
	tXVaNe¡edLi¡
;

1236 
XPoš‹r
 
ş›Á_d©a
;

1237 
XIMProc
 
ÿÎback
;

1238 } 
	tXIMC®lback
;

1241 
XPoš‹r
 
ş›Á_d©a
;

1242 
XICProc
 
ÿÎback
;

1243 } 
	tXICC®lback
;

1245 
	tXIMF“dback
;

1247 
	#XIMRev”£
 1L

	)

1248 
	#XIMUnd”lše
 (1L<<1)

	)

1249 
	#XIMHighlight
 (1L<<2)

	)

1250 
	#XIMPrim¬y
 (1L<<5)

	)

1251 
	#XIMSecÚd¬y
 (1L<<6)

	)

1252 
	#XIMT”tŸry
 (1L<<7)

	)

1253 
	#XIMVisibËToFÜw¬d
 (1L<<8)

	)

1254 
	#XIMVisibËToBackwÜd
 (1L<<9)

	)

1255 
	#XIMVisibËToC’‹r
 (1L<<10)

	)

1257 
	s_XIMText
 {

1258 
Ëngth
;

1259 
XIMF“dback
 *
ãedback
;

1260 
BoŞ
 
’codšg_is_wch¬
;

1262 *
muÉi_by‹
;

1263 
wch¬_t
 *
wide_ch¬
;

1264 } 
¡ršg
;

1265 } 
	tXIMText
;

1267 
	tXIMP»ed™S‹
;

1269 
	#XIMP»ed™UnKnown
 0L

	)

1270 
	#XIMP»ed™EÇbË
 1L

	)

1271 
	#XIMP»ed™Di§bË
 (1L<<1)

	)

1273 
	s_XIMP»ed™S‹NÙifyC®lbackSŒuù
 {

1274 
XIMP»ed™S‹
 
¡©e
;

1275 } 
	tXIMP»ed™S‹NÙifyC®lbackSŒuù
;

1277 
	tXIMRe£tS‹
;

1279 
	#XIMIn™ŸlS‹
 1L

	)

1280 
	#XIMP»£rveS‹
 (1L<<1)

	)

1282 
	tXIMSŒšgCÚv”siÚF“dback
;

1284 
	#XIMSŒšgCÚv”siÚLeáEdge
 (0x00000001)

	)

1285 
	#XIMSŒšgCÚv”siÚRightEdge
 (0x00000002)

	)

1286 
	#XIMSŒšgCÚv”siÚTİEdge
 (0x00000004)

	)

1287 
	#XIMSŒšgCÚv”siÚBÙtomEdge
 (0x00000008)

	)

1288 
	#XIMSŒšgCÚv”siÚCÚû®ed
 (0x00000010)

	)

1289 
	#XIMSŒšgCÚv”siÚW¿µed
 (0x00000020)

	)

1291 
	s_XIMSŒšgCÚv”siÚText
 {

1292 
Ëngth
;

1293 
XIMSŒšgCÚv”siÚF“dback
 *
ãedback
;

1294 
BoŞ
 
’codšg_is_wch¬
;

1296 *
mbs
;

1297 
wch¬_t
 *
wcs
;

1298 } 
¡ršg
;

1299 } 
	tXIMSŒšgCÚv”siÚText
;

1301 
	tXIMSŒšgCÚv”siÚPos™iÚ
;

1303 
	tXIMSŒšgCÚv”siÚTy³
;

1305 
	#XIMSŒšgCÚv”siÚBufãr
 (0x0001)

	)

1306 
	#XIMSŒšgCÚv”siÚLše
 (0x0002)

	)

1307 
	#XIMSŒšgCÚv”siÚWÜd
 (0x0003)

	)

1308 
	#XIMSŒšgCÚv”siÚCh¬
 (0x0004)

	)

1310 
	tXIMSŒšgCÚv”siÚO³¿tiÚ
;

1312 
	#XIMSŒšgCÚv”siÚSub¡™utiÚ
 (0x0001)

	)

1313 
	#XIMSŒšgCÚv”siÚR‘r›v®
 (0x0002)

	)

1316 
XIMFÜw¬dCh¬
, 
XIMBackw¬dCh¬
,

1317 
XIMFÜw¬dWÜd
, 
XIMBackw¬dWÜd
,

1318 
XIMC¬‘Up
, 
XIMC¬‘Down
,

1319 
XIMNextLše
, 
XIMP»viousLše
,

1320 
XIMLšeS¹
, 
XIMLšeEnd
,

1321 
XIMAbsŞu‹Pos™iÚ
,

1322 
XIMDÚtChªge


1323 } 
	tXIMC¬‘DœeùiÚ
;

1325 
	s_XIMSŒšgCÚv”siÚC®lbackSŒuù
 {

1326 
XIMSŒšgCÚv”siÚPos™iÚ
 
pos™iÚ
;

1327 
XIMC¬‘DœeùiÚ
 
dœeùiÚ
;

1328 
XIMSŒšgCÚv”siÚO³¿tiÚ
 
İ”©iÚ
;

1329 
çùÜ
;

1330 
XIMSŒšgCÚv”siÚText
 *
‹xt
;

1331 } 
	tXIMSŒšgCÚv”siÚC®lbackSŒuù
;

1333 
	s_XIMP»ed™D¿wC®lbackSŒuù
 {

1334 
ÿ»t
;

1335 
chg_fœ¡
;

1336 
chg_Ëngth
;

1337 
XIMText
 *
‹xt
;

1338 } 
	tXIMP»ed™D¿wC®lbackSŒuù
;

1341 
XIMIsInvisibË
,

1342 
XIMIsPrim¬y
,

1343 
XIMIsSecÚd¬y


1344 } 
	tXIMC¬‘StyË
;

1346 
	s_XIMP»ed™C¬‘C®lbackSŒuù
 {

1347 
pos™iÚ
;

1348 
XIMC¬‘DœeùiÚ
 
dœeùiÚ
;

1349 
XIMC¬‘StyË
 
¡yË
;

1350 } 
	tXIMP»ed™C¬‘C®lbackSŒuù
;

1353 
XIMTextTy³
,

1354 
XIMB™m­Ty³


1355 } 
	tXIMStusD©aTy³
;

1357 
	s_XIMStusD¿wC®lbackSŒuù
 {

1358 
XIMStusD©aTy³
 
ty³
;

1360 
XIMText
 *
‹xt
;

1361 
Pixm­
 
b™m­
;

1362 } 
d©a
;

1363 } 
	tXIMStusD¿wC®lbackSŒuù
;

1365 
	s_XIMHÙKeyTrigg”
 {

1366 
KeySym
 
keysym
;

1367 
modif›r
;

1368 
modif›r_mask
;

1369 } 
	tXIMHÙKeyTrigg”
;

1371 
	s_XIMHÙKeyTrigg”s
 {

1372 
num_hÙ_key
;

1373 
XIMHÙKeyTrigg”
 *
key
;

1374 } 
	tXIMHÙKeyTrigg”s
;

1376 
	tXIMHÙKeyS‹
;

1378 
	#XIMHÙKeyS‹ON
 (0x0001L)

	)

1379 
	#XIMHÙKeyS‹OFF
 (0x0002L)

	)

1382 
couÁ_v®ues
;

1383 **
suµÜ‹d_v®ues
;

1384 } 
	tXIMV®uesLi¡
;

1386 
_XFUNCPROTOBEGIN


1388 #ià
	`defšed
(
WIN32
è&& !defšed(
_XLIBINT_
)

1389 
	#_Xdebug
 (*
_Xdebug_p
)

	)

1392 
_Xdebug
;

1394 
XFÚtSŒuù
 *
	`XLßdQu”yFÚt
(

1395 
Di¥Ïy
* ,

1396 
_XcÚ¡
 *

1399 
XFÚtSŒuù
 *
	`XQu”yFÚt
(

1400 
Di¥Ïy
* ,

1401 
XID


1405 
XTimeCoÜd
 *
	`XG‘MÙiÚEv’ts
(

1406 
Di¥Ïy
* ,

1407 
Wšdow
 ,

1408 
Time
 ,

1409 
Time
 ,

1413 
XModif›rKeym­
 *
	`XD–‘eModif›rm­EÁry
(

1414 
XModif›rKeym­
* ,

1415 #ià
N“dWidePrÙÙy³s


1418 
KeyCode
 ,

1423 
XModif›rKeym­
 *
	`XG‘Modif›rM­pšg
(

1424 
Di¥Ïy
*

1427 
XModif›rKeym­
 *
	`XIn£¹Modif›rm­EÁry
(

1428 
XModif›rKeym­
* ,

1429 #ià
N“dWidePrÙÙy³s


1432 
KeyCode
 ,

1437 
XModif›rKeym­
 *
	`XNewModif›rm­
(

1441 
XImage
 *
	`XC»©eImage
(

1442 
Di¥Ïy
* ,

1443 
Visu®
* ,

1453 
Stus
 
	`XIn™Image
(

1454 
XImage
*

1456 
XImage
 *
	`XG‘Image
(

1457 
Di¥Ïy
* ,

1458 
D¿wabË
 ,

1466 
XImage
 *
	`XG‘SubImage
(

1467 
Di¥Ïy
* ,

1468 
D¿wabË
 ,

1475 
XImage
* ,

1483 
Di¥Ïy
 *
	`XO³nDi¥Ïy
(

1484 
_XcÚ¡
 *

1487 
	`XrmIn™Ÿlize
(

1491 *
	`XF‘chBy‹s
(

1492 
Di¥Ïy
* ,

1495 *
	`XF‘chBufãr
(

1496 
Di¥Ïy
* ,

1500 *
	`XG‘AtomName
(

1501 
Di¥Ïy
* ,

1502 
Atom


1504 
Stus
 
	`XG‘AtomNames
(

1505 
Di¥Ïy
* ,

1506 
Atom
* ,

1510 *
	`XG‘DeçuÉ
(

1511 
Di¥Ïy
* ,

1512 
_XcÚ¡
 * ,

1513 
_XcÚ¡
 *

1515 *
	`XDi¥ÏyName
(

1516 
_XcÚ¡
 *

1518 *
	`XKeysymToSŒšg
(

1519 
KeySym


1522 (*
	$XSynchrÚize
(

1523 
Di¥Ïy
* ,

1524 
BoŞ


1526 
Di¥Ïy
*

1528 (*
	`XS‘Aá”FunùiÚ
(

1529 
Di¥Ïy
* ,

1531 
Di¥Ïy
*

1534 
Di¥Ïy
*

1536 
Atom
 
	`XIÁ”nAtom
(

1537 
Di¥Ïy
* ,

1538 
_XcÚ¡
 * ,

1539 
BoŞ


1541 
Stus
 
	`XIÁ”nAtoms
(

1542 
Di¥Ïy
* ,

1545 
BoŞ
 ,

1546 
Atom
*

1548 
CŞÜm­
 
	`XCİyCŞÜm­AndF»e
(

1549 
Di¥Ïy
* ,

1550 
CŞÜm­


1552 
CŞÜm­
 
	`XC»©eCŞÜm­
(

1553 
Di¥Ïy
* ,

1554 
Wšdow
 ,

1555 
Visu®
* ,

1558 
CursÜ
 
	`XC»©ePixm­CursÜ
(

1559 
Di¥Ïy
* ,

1560 
Pixm­
 ,

1561 
Pixm­
 ,

1562 
XCŞÜ
* ,

1563 
XCŞÜ
* ,

1567 
CursÜ
 
	`XC»©eGlyphCursÜ
(

1568 
Di¥Ïy
* ,

1569 
FÚt
 ,

1570 
FÚt
 ,

1573 
XCŞÜ
 
_XcÚ¡
 * ,

1574 
XCŞÜ
 
_XcÚ¡
 *

1576 
CursÜ
 
	`XC»©eFÚtCursÜ
(

1577 
Di¥Ïy
* ,

1580 
FÚt
 
	`XLßdFÚt
(

1581 
Di¥Ïy
* ,

1582 
_XcÚ¡
 *

1584 
GC
 
	`XC»©eGC
(

1585 
Di¥Ïy
* ,

1586 
D¿wabË
 ,

1588 
XGCV®ues
*

1590 
GCÚ‹xt
 
	`XGCÚ‹xtFromGC
(

1591 
GC


1593 
	`XFlushGC
(

1594 
Di¥Ïy
* ,

1595 
GC


1597 
Pixm­
 
	`XC»©ePixm­
(

1598 
Di¥Ïy
* ,

1599 
D¿wabË
 ,

1604 
Pixm­
 
	`XC»©eB™m­FromD©a
(

1605 
Di¥Ïy
* ,

1606 
D¿wabË
 ,

1607 
_XcÚ¡
 * ,

1611 
Pixm­
 
	`XC»©ePixm­FromB™m­D©a
(

1612 
Di¥Ïy
* ,

1613 
D¿wabË
 ,

1621 
Wšdow
 
	`XC»©eSim¶eWšdow
(

1622 
Di¥Ïy
* ,

1623 
Wšdow
 ,

1632 
Wšdow
 
	`XG‘S–eùiÚOwÃr
(

1633 
Di¥Ïy
* ,

1634 
Atom


1636 
Wšdow
 
	`XC»©eWšdow
(

1637 
Di¥Ïy
* ,

1638 
Wšdow
 ,

1646 
Visu®
* ,

1648 
XS‘WšdowA‰ribu‹s
*

1650 
CŞÜm­
 *
	`XLi¡In¡®ËdCŞÜm­s
(

1651 
Di¥Ïy
* ,

1652 
Wšdow
 ,

1655 **
	`XLi¡FÚts
(

1656 
Di¥Ïy
* ,

1657 
_XcÚ¡
 * ,

1661 **
	`XLi¡FÚtsW™hInfo
(

1662 
Di¥Ïy
* ,

1663 
_XcÚ¡
 * ,

1666 
XFÚtSŒuù
**

1668 **
	`XG‘FÚtP©h
(

1669 
Di¥Ïy
* ,

1672 **
	`XLi¡Ex‹nsiÚs
(

1673 
Di¥Ïy
* ,

1676 
Atom
 *
	`XLi¡Prİ”t›s
(

1677 
Di¥Ïy
* ,

1678 
Wšdow
 ,

1681 
XHo¡Add»ss
 *
	`XLi¡Ho¡s
(

1682 
Di¥Ïy
* ,

1684 
BoŞ
*

1686 
_X_DEPRECATED


1687 
KeySym
 
	`XKeycodeToKeysym
(

1688 
Di¥Ïy
* ,

1689 #ià
N“dWidePrÙÙy³s


1692 
KeyCode
 ,

1696 
KeySym
 
	`XLookupKeysym
(

1697 
XKeyEv’t
* ,

1700 
KeySym
 *
	`XG‘KeybßrdM­pšg
(

1701 
Di¥Ïy
* ,

1702 #ià
N“dWidePrÙÙy³s


1705 
KeyCode
 ,

1710 
KeySym
 
	`XSŒšgToKeysym
(

1711 
_XcÚ¡
 *

1713 
	`XMaxReque¡Size
(

1714 
Di¥Ïy
*

1716 
	`XEx‹ndedMaxReque¡Size
(

1717 
Di¥Ïy
*

1719 *
	`XResourûMªag”SŒšg
(

1720 
Di¥Ïy
*

1722 *
	`XSü“nResourûSŒšg
(

1723 
Sü“n
*

1725 
	`XDi¥ÏyMÙiÚBufãrSize
(

1726 
Di¥Ïy
*

1728 
Visu®ID
 
	`XVisu®IDFromVisu®
(

1729 
Visu®
*

1734 
Stus
 
	`XIn™Th»ads
(

1738 
	`XLockDi¥Ïy
(

1739 
Di¥Ïy
*

1742 
	`XUÆockDi¥Ïy
(

1743 
Di¥Ïy
*

1748 
XExtCodes
 *
	`XIn™Ex‹nsiÚ
(

1749 
Di¥Ïy
* ,

1750 
_XcÚ¡
 *

1753 
XExtCodes
 *
	`XAddEx‹nsiÚ
(

1754 
Di¥Ïy
*

1756 
XExtD©a
 *
	`XFšdOnEx‹nsiÚLi¡
(

1757 
XExtD©a
** ,

1760 
XExtD©a
 **
	`XEH—dOfEx‹nsiÚLi¡
(

1761 
XED©aObjeù


1765 
Wšdow
 
	`XRoÙWšdow
(

1766 
Di¥Ïy
* ,

1769 
Wšdow
 
	`XDeçuÉRoÙWšdow
(

1770 
Di¥Ïy
*

1772 
Wšdow
 
	`XRoÙWšdowOfSü“n
(

1773 
Sü“n
*

1775 
Visu®
 *
	`XDeçuÉVisu®
(

1776 
Di¥Ïy
* ,

1779 
Visu®
 *
	`XDeçuÉVisu®OfSü“n
(

1780 
Sü“n
*

1782 
GC
 
	`XDeçuÉGC
(

1783 
Di¥Ïy
* ,

1786 
GC
 
	`XDeçuÉGCOfSü“n
(

1787 
Sü“n
*

1789 
	`XBÏckPix–
(

1790 
Di¥Ïy
* ,

1793 
	`XWh™ePix–
(

1794 
Di¥Ïy
* ,

1797 
	`XAÎPÏÃs
(

1800 
	`XBÏckPix–OfSü“n
(

1801 
Sü“n
*

1803 
	`XWh™ePix–OfSü“n
(

1804 
Sü“n
*

1806 
	`XNextReque¡
(

1807 
Di¥Ïy
*

1809 
	`XLa¡KnownReque¡Proûs£d
(

1810 
Di¥Ïy
*

1812 *
	`XS”v”V’dÜ
(

1813 
Di¥Ïy
*

1815 *
	`XDi¥ÏySŒšg
(

1816 
Di¥Ïy
*

1818 
CŞÜm­
 
	`XDeçuÉCŞÜm­
(

1819 
Di¥Ïy
* ,

1822 
CŞÜm­
 
	`XDeçuÉCŞÜm­OfSü“n
(

1823 
Sü“n
*

1825 
Di¥Ïy
 *
	`XDi¥ÏyOfSü“n
(

1826 
Sü“n
*

1828 
Sü“n
 *
	`XSü“nOfDi¥Ïy
(

1829 
Di¥Ïy
* ,

1832 
Sü“n
 *
	`XDeçuÉSü“nOfDi¥Ïy
(

1833 
Di¥Ïy
*

1835 
	`XEv’tMaskOfSü“n
(

1836 
Sü“n
*

1839 
	`XSü“nNumb”OfSü“n
(

1840 
Sü“n
*

1843 (*
	tXE¼ÜHªdËr
) (

1844 
	tDi¥Ïy
* ,

1845 
	tXE¼ÜEv’t
*

1848 
XE¼ÜHªdËr
 
	`XS‘E¼ÜHªdËr
 (

1849 
XE¼ÜHªdËr


1853 (*
	tXIOE¼ÜHªdËr
) (

1854 
	tDi¥Ïy
*

1857 
XIOE¼ÜHªdËr
 
	`XS‘IOE¼ÜHªdËr
 (

1858 
XIOE¼ÜHªdËr


1861 (*
	tXIOE¼ÜEx™HªdËr
) (

1862 
	tDi¥Ïy
*,

1866 
	`XS‘IOE¼ÜEx™HªdËr
 (

1867 
Di¥Ïy
*,

1868 
XIOE¼ÜEx™HªdËr
,

1872 
XPixm­FÜm©V®ues
 *
	`XLi¡Pixm­FÜm©s
(

1873 
Di¥Ïy
* ,

1876 *
	`XLi¡D•ths
(

1877 
Di¥Ïy
* ,

1884 
Stus
 
	`XRecÚfigu»WMWšdow
(

1885 
Di¥Ïy
* ,

1886 
Wšdow
 ,

1889 
XWšdowChªges
*

1892 
Stus
 
	`XG‘WMPrÙocŞs
(

1893 
Di¥Ïy
* ,

1894 
Wšdow
 ,

1895 
Atom
** ,

1898 
Stus
 
	`XS‘WMPrÙocŞs
(

1899 
Di¥Ïy
* ,

1900 
Wšdow
 ,

1901 
Atom
* ,

1904 
Stus
 
	`XIcÚifyWšdow
(

1905 
Di¥Ïy
* ,

1906 
Wšdow
 ,

1909 
Stus
 
	`XW™hd¿wWšdow
(

1910 
Di¥Ïy
* ,

1911 
Wšdow
 ,

1914 
Stus
 
	`XG‘Commªd
(

1915 
Di¥Ïy
* ,

1916 
Wšdow
 ,

1920 
Stus
 
	`XG‘WMCŞÜm­Wšdows
(

1921 
Di¥Ïy
* ,

1922 
Wšdow
 ,

1923 
Wšdow
** ,

1926 
Stus
 
	`XS‘WMCŞÜm­Wšdows
(

1927 
Di¥Ïy
* ,

1928 
Wšdow
 ,

1929 
Wšdow
* ,

1932 
	`XF»eSŒšgLi¡
(

1935 
	`XS‘T¿ns›ÁFÜHšt
(

1936 
Di¥Ïy
* ,

1937 
Wšdow
 ,

1938 
Wšdow


1943 
	`XAùiv©eSü“nSav”
(

1944 
Di¥Ïy
*

1947 
	`XAddHo¡
(

1948 
Di¥Ïy
* ,

1949 
XHo¡Add»ss
*

1952 
	`XAddHo¡s
(

1953 
Di¥Ïy
* ,

1954 
XHo¡Add»ss
* ,

1958 
	`XAddToEx‹nsiÚLi¡
(

1959 
_XExtD©a
** ,

1960 
XExtD©a
*

1963 
	`XAddToSaveS‘
(

1964 
Di¥Ïy
* ,

1965 
Wšdow


1968 
Stus
 
	`XAÎocCŞÜ
(

1969 
Di¥Ïy
* ,

1970 
CŞÜm­
 ,

1971 
XCŞÜ
*

1974 
Stus
 
	`XAÎocCŞÜC–ls
(

1975 
Di¥Ïy
* ,

1976 
CŞÜm­
 ,

1977 
BoŞ
 ,

1984 
Stus
 
	`XAÎocCŞÜPÏÃs
(

1985 
Di¥Ïy
* ,

1986 
CŞÜm­
 ,

1987 
BoŞ
 ,

1998 
Stus
 
	`XAÎocNamedCŞÜ
(

1999 
Di¥Ïy
* ,

2000 
CŞÜm­
 ,

2001 
_XcÚ¡
 * ,

2002 
XCŞÜ
* ,

2003 
XCŞÜ
*

2006 
	`XAÎowEv’ts
(

2007 
Di¥Ïy
* ,

2009 
Time


2012 
	`XAutoR•—tOff
(

2013 
Di¥Ïy
*

2016 
	`XAutoR•—tOn
(

2017 
Di¥Ïy
*

2020 
	`XB–l
(

2021 
Di¥Ïy
* ,

2025 
	`XB™m­B™Ord”
(

2026 
Di¥Ïy
*

2029 
	`XB™m­Pad
(

2030 
Di¥Ïy
*

2033 
	`XB™m­Un™
(

2034 
Di¥Ïy
*

2037 
	`XC–lsOfSü“n
(

2038 
Sü“n
*

2041 
	`XChªgeAùivePoš‹rG¿b
(

2042 
Di¥Ïy
* ,

2044 
CursÜ
 ,

2045 
Time


2048 
	`XChªgeGC
(

2049 
Di¥Ïy
* ,

2050 
GC
 ,

2052 
XGCV®ues
*

2055 
	`XChªgeKeybßrdCÚŒŞ
(

2056 
Di¥Ïy
* ,

2058 
XKeybßrdCÚŒŞ
*

2061 
	`XChªgeKeybßrdM­pšg
(

2062 
Di¥Ïy
* ,

2065 
KeySym
* ,

2069 
	`XChªgePoš‹rCÚŒŞ
(

2070 
Di¥Ïy
* ,

2071 
BoŞ
 ,

2072 
BoŞ
 ,

2078 
	`XChªgePrİ”ty
(

2079 
Di¥Ïy
* ,

2080 
Wšdow
 ,

2081 
Atom
 ,

2082 
Atom
 ,

2085 
_XcÚ¡
 * ,

2089 
	`XChªgeSaveS‘
(

2090 
Di¥Ïy
* ,

2091 
Wšdow
 ,

2095 
	`XChªgeWšdowA‰ribu‹s
(

2096 
Di¥Ïy
* ,

2097 
Wšdow
 ,

2099 
XS‘WšdowA‰ribu‹s
*

2102 
BoŞ
 
	`XCheckIfEv’t
(

2103 
Di¥Ïy
* ,

2104 
XEv’t
* ,

2105 
	$BoŞ
 (*) (

2106 
Di¥Ïy
* ,

2107 
XEv’t
* ,

2108 
XPoš‹r


2110 
XPoš‹r


2113 
BoŞ
 
	`XCheckMaskEv’t
(

2114 
Di¥Ïy
* ,

2116 
XEv’t
*

2119 
BoŞ
 
	`XCheckTy³dEv’t
(

2120 
Di¥Ïy
* ,

2122 
XEv’t
*

2125 
BoŞ
 
	`XCheckTy³dWšdowEv’t
(

2126 
Di¥Ïy
* ,

2127 
Wšdow
 ,

2129 
XEv’t
*

2132 
BoŞ
 
	`XCheckWšdowEv’t
(

2133 
Di¥Ïy
* ,

2134 
Wšdow
 ,

2136 
XEv’t
*

2139 
	`XCœcuÏ‹Subwšdows
(

2140 
Di¥Ïy
* ,

2141 
Wšdow
 ,

2145 
	`XCœcuÏ‹SubwšdowsDown
(

2146 
Di¥Ïy
* ,

2147 
Wšdow


2150 
	`XCœcuÏ‹SubwšdowsUp
(

2151 
Di¥Ïy
* ,

2152 
Wšdow


2155 
	`XCË¬A»a
(

2156 
Di¥Ïy
* ,

2157 
Wšdow
 ,

2162 
BoŞ


2165 
	`XCË¬Wšdow
(

2166 
Di¥Ïy
* ,

2167 
Wšdow


2170 
	`XClo£Di¥Ïy
(

2171 
Di¥Ïy
*

2174 
	`XCÚfigu»Wšdow
(

2175 
Di¥Ïy
* ,

2176 
Wšdow
 ,

2178 
XWšdowChªges
*

2181 
	`XCÚÃùiÚNumb”
(

2182 
Di¥Ïy
*

2185 
	`XCÚv”tS–eùiÚ
(

2186 
Di¥Ïy
* ,

2187 
Atom
 ,

2188 
Atom
 ,

2189 
Atom
 ,

2190 
Wšdow
 ,

2191 
Time


2194 
	`XCİyA»a
(

2195 
Di¥Ïy
* ,

2196 
D¿wabË
 ,

2197 
D¿wabË
 ,

2198 
GC
 ,

2207 
	`XCİyGC
(

2208 
Di¥Ïy
* ,

2209 
GC
 ,

2211 
GC


2214 
	`XCİyPÏÃ
(

2215 
Di¥Ïy
* ,

2216 
D¿wabË
 ,

2217 
D¿wabË
 ,

2218 
GC
 ,

2228 
	`XDeçuÉD•th
(

2229 
Di¥Ïy
* ,

2233 
	`XDeçuÉD•thOfSü“n
(

2234 
Sü“n
*

2237 
	`XDeçuÉSü“n
(

2238 
Di¥Ïy
*

2241 
	`XDefšeCursÜ
(

2242 
Di¥Ïy
* ,

2243 
Wšdow
 ,

2244 
CursÜ


2247 
	`XD–‘ePrİ”ty
(

2248 
Di¥Ïy
* ,

2249 
Wšdow
 ,

2250 
Atom


2253 
	`XDe¡royWšdow
(

2254 
Di¥Ïy
* ,

2255 
Wšdow


2258 
	`XDe¡roySubwšdows
(

2259 
Di¥Ïy
* ,

2260 
Wšdow


2263 
	`XDÛsBackšgStÜe
(

2264 
Sü“n
*

2267 
BoŞ
 
	`XDÛsSaveUnd”s
(

2268 
Sü“n
*

2271 
	`XDi§bËAcûssCÚŒŞ
(

2272 
Di¥Ïy
*

2276 
	`XDi¥ÏyC–ls
(

2277 
Di¥Ïy
* ,

2281 
	`XDi¥ÏyHeight
(

2282 
Di¥Ïy
* ,

2286 
	`XDi¥ÏyHeightMM
(

2287 
Di¥Ïy
* ,

2291 
	`XDi¥ÏyKeycodes
(

2292 
Di¥Ïy
* ,

2297 
	`XDi¥ÏyPÏÃs
(

2298 
Di¥Ïy
* ,

2302 
	`XDi¥ÏyWidth
(

2303 
Di¥Ïy
* ,

2307 
	`XDi¥ÏyWidthMM
(

2308 
Di¥Ïy
* ,

2312 
	`XD¿wArc
(

2313 
Di¥Ïy
* ,

2314 
D¿wabË
 ,

2315 
GC
 ,

2324 
	`XD¿wArcs
(

2325 
Di¥Ïy
* ,

2326 
D¿wabË
 ,

2327 
GC
 ,

2328 
XArc
* ,

2332 
	`XD¿wImageSŒšg
(

2333 
Di¥Ïy
* ,

2334 
D¿wabË
 ,

2335 
GC
 ,

2338 
_XcÚ¡
 * ,

2342 
	`XD¿wImageSŒšg16
(

2343 
Di¥Ïy
* ,

2344 
D¿wabË
 ,

2345 
GC
 ,

2348 
_XcÚ¡
 
XCh¬2b
* ,

2352 
	`XD¿wLše
(

2353 
Di¥Ïy
* ,

2354 
D¿wabË
 ,

2355 
GC
 ,

2362 
	`XD¿wLšes
(

2363 
Di¥Ïy
* ,

2364 
D¿wabË
 ,

2365 
GC
 ,

2366 
XPošt
* ,

2371 
	`XD¿wPošt
(

2372 
Di¥Ïy
* ,

2373 
D¿wabË
 ,

2374 
GC
 ,

2379 
	`XD¿wPošts
(

2380 
Di¥Ïy
* ,

2381 
D¿wabË
 ,

2382 
GC
 ,

2383 
XPošt
* ,

2388 
	`XD¿wReùªgË
(

2389 
Di¥Ïy
* ,

2390 
D¿wabË
 ,

2391 
GC
 ,

2398 
	`XD¿wReùªgËs
(

2399 
Di¥Ïy
* ,

2400 
D¿wabË
 ,

2401 
GC
 ,

2402 
XReùªgË
* ,

2406 
	`XD¿wSegm’ts
(

2407 
Di¥Ïy
* ,

2408 
D¿wabË
 ,

2409 
GC
 ,

2410 
XSegm’t
* ,

2414 
	`XD¿wSŒšg
(

2415 
Di¥Ïy
* ,

2416 
D¿wabË
 ,

2417 
GC
 ,

2420 
_XcÚ¡
 * ,

2424 
	`XD¿wSŒšg16
(

2425 
Di¥Ïy
* ,

2426 
D¿wabË
 ,

2427 
GC
 ,

2430 
_XcÚ¡
 
XCh¬2b
* ,

2434 
	`XD¿wText
(

2435 
Di¥Ïy
* ,

2436 
D¿wabË
 ,

2437 
GC
 ,

2440 
XTextI‹m
* ,

2444 
	`XD¿wText16
(

2445 
Di¥Ïy
* ,

2446 
D¿wabË
 ,

2447 
GC
 ,

2450 
XTextI‹m16
* ,

2454 
	`XEÇbËAcûssCÚŒŞ
(

2455 
Di¥Ïy
*

2458 
	`XEv’tsQueued
(

2459 
Di¥Ïy
* ,

2463 
Stus
 
	`XF‘chName
(

2464 
Di¥Ïy
* ,

2465 
Wšdow
 ,

2469 
	`XFlArc
(

2470 
Di¥Ïy
* ,

2471 
D¿wabË
 ,

2472 
GC
 ,

2481 
	`XFlArcs
(

2482 
Di¥Ïy
* ,

2483 
D¿wabË
 ,

2484 
GC
 ,

2485 
XArc
* ,

2489 
	`XFlPŞygÚ
(

2490 
Di¥Ïy
* ,

2491 
D¿wabË
 ,

2492 
GC
 ,

2493 
XPošt
* ,

2499 
	`XFlReùªgË
(

2500 
Di¥Ïy
* ,

2501 
D¿wabË
 ,

2502 
GC
 ,

2509 
	`XFlReùªgËs
(

2510 
Di¥Ïy
* ,

2511 
D¿wabË
 ,

2512 
GC
 ,

2513 
XReùªgË
* ,

2517 
	`XFlush
(

2518 
Di¥Ïy
*

2521 
	`XFÜûSü“nSav”
(

2522 
Di¥Ïy
* ,

2526 
	`XF»e
(

2530 
	`XF»eCŞÜm­
(

2531 
Di¥Ïy
* ,

2532 
CŞÜm­


2535 
	`XF»eCŞÜs
(

2536 
Di¥Ïy
* ,

2537 
CŞÜm­
 ,

2543 
	`XF»eCursÜ
(

2544 
Di¥Ïy
* ,

2545 
CursÜ


2548 
	`XF»eEx‹nsiÚLi¡
(

2552 
	`XF»eFÚt
(

2553 
Di¥Ïy
* ,

2554 
XFÚtSŒuù
*

2557 
	`XF»eFÚtInfo
(

2559 
XFÚtSŒuù
* ,

2563 
	`XF»eFÚtNames
(

2567 
	`XF»eFÚtP©h
(

2571 
	`XF»eGC
(

2572 
Di¥Ïy
* ,

2573 
GC


2576 
	`XF»eModif›rm­
(

2577 
XModif›rKeym­
*

2580 
	`XF»ePixm­
(

2581 
Di¥Ïy
* ,

2582 
Pixm­


2585 
	`XGeom‘ry
(

2586 
Di¥Ïy
* ,

2588 
_XcÚ¡
 * ,

2589 
_XcÚ¡
 * ,

2601 
	`XG‘E¼ÜD©aba£Text
(

2602 
Di¥Ïy
* ,

2603 
_XcÚ¡
 * ,

2604 
_XcÚ¡
 * ,

2605 
_XcÚ¡
 * ,

2610 
	`XG‘E¼ÜText
(

2611 
Di¥Ïy
* ,

2617 
BoŞ
 
	`XG‘FÚtPrİ”ty
(

2618 
XFÚtSŒuù
* ,

2619 
Atom
 ,

2623 
Stus
 
	`XG‘GCV®ues
(

2624 
Di¥Ïy
* ,

2625 
GC
 ,

2627 
XGCV®ues
*

2630 
Stus
 
	`XG‘Geom‘ry
(

2631 
Di¥Ïy
* ,

2632 
D¿wabË
 ,

2633 
Wšdow
* ,

2642 
Stus
 
	`XG‘IcÚName
(

2643 
Di¥Ïy
* ,

2644 
Wšdow
 ,

2648 
	`XG‘IÅutFocus
(

2649 
Di¥Ïy
* ,

2650 
Wšdow
* ,

2654 
	`XG‘KeybßrdCÚŒŞ
(

2655 
Di¥Ïy
* ,

2656 
XKeybßrdS‹
*

2659 
	`XG‘Poš‹rCÚŒŞ
(

2660 
Di¥Ïy
* ,

2666 
	`XG‘Poš‹rM­pšg
(

2667 
Di¥Ïy
* ,

2672 
	`XG‘Sü“nSav”
(

2673 
Di¥Ïy
* ,

2680 
Stus
 
	`XG‘T¿ns›ÁFÜHšt
(

2681 
Di¥Ïy
* ,

2682 
Wšdow
 ,

2683 
Wšdow
*

2686 
	`XG‘WšdowPrİ”ty
(

2687 
Di¥Ïy
* ,

2688 
Wšdow
 ,

2689 
Atom
 ,

2692 
BoŞ
 ,

2693 
Atom
 ,

2694 
Atom
* ,

2701 
Stus
 
	`XG‘WšdowA‰ribu‹s
(

2702 
Di¥Ïy
* ,

2703 
Wšdow
 ,

2704 
XWšdowA‰ribu‹s
*

2707 
	`XG¿bBu‰Ú
(

2708 
Di¥Ïy
* ,

2711 
Wšdow
 ,

2712 
BoŞ
 ,

2716 
Wšdow
 ,

2717 
CursÜ


2720 
	`XG¿bKey
(

2721 
Di¥Ïy
* ,

2724 
Wšdow
 ,

2725 
BoŞ
 ,

2730 
	`XG¿bKeybßrd
(

2731 
Di¥Ïy
* ,

2732 
Wšdow
 ,

2733 
BoŞ
 ,

2736 
Time


2739 
	`XG¿bPoš‹r
(

2740 
Di¥Ïy
* ,

2741 
Wšdow
 ,

2742 
BoŞ
 ,

2746 
Wšdow
 ,

2747 
CursÜ
 ,

2748 
Time


2751 
	`XG¿bS”v”
(

2752 
Di¥Ïy
*

2755 
	`XHeightMMOfSü“n
(

2756 
Sü“n
*

2759 
	`XHeightOfSü“n
(

2760 
Sü“n
*

2763 
	`XIfEv’t
(

2764 
Di¥Ïy
* ,

2765 
XEv’t
* ,

2766 
	$BoŞ
 (*) (

2767 
Di¥Ïy
* ,

2768 
XEv’t
* ,

2769 
XPoš‹r


2771 
XPoš‹r


2774 
	`XImageBy‹Ord”
(

2775 
Di¥Ïy
*

2778 
	`XIn¡®lCŞÜm­
(

2779 
Di¥Ïy
* ,

2780 
CŞÜm­


2783 
KeyCode
 
	`XKeysymToKeycode
(

2784 
Di¥Ïy
* ,

2785 
KeySym


2788 
	`XKlCl›Á
(

2789 
Di¥Ïy
* ,

2790 
XID


2793 
Stus
 
	`XLookupCŞÜ
(

2794 
Di¥Ïy
* ,

2795 
CŞÜm­
 ,

2796 
_XcÚ¡
 * ,

2797 
XCŞÜ
* ,

2798 
XCŞÜ
*

2801 
	`XLow”Wšdow
(

2802 
Di¥Ïy
* ,

2803 
Wšdow


2806 
	`XM­Rai£d
(

2807 
Di¥Ïy
* ,

2808 
Wšdow


2811 
	`XM­Subwšdows
(

2812 
Di¥Ïy
* ,

2813 
Wšdow


2816 
	`XM­Wšdow
(

2817 
Di¥Ïy
* ,

2818 
Wšdow


2821 
	`XMaskEv’t
(

2822 
Di¥Ïy
* ,

2824 
XEv’t
*

2827 
	`XMaxCm­sOfSü“n
(

2828 
Sü“n
*

2831 
	`XMšCm­sOfSü“n
(

2832 
Sü“n
*

2835 
	`XMoveResizeWšdow
(

2836 
Di¥Ïy
* ,

2837 
Wšdow
 ,

2844 
	`XMoveWšdow
(

2845 
Di¥Ïy
* ,

2846 
Wšdow
 ,

2851 
	`XNextEv’t
(

2852 
Di¥Ïy
* ,

2853 
XEv’t
*

2856 
	`XNoOp
(

2857 
Di¥Ïy
*

2860 
Stus
 
	`XP¬£CŞÜ
(

2861 
Di¥Ïy
* ,

2862 
CŞÜm­
 ,

2863 
_XcÚ¡
 * ,

2864 
XCŞÜ
*

2867 
	`XP¬£Geom‘ry
(

2868 
_XcÚ¡
 * ,

2875 
	`XP“kEv’t
(

2876 
Di¥Ïy
* ,

2877 
XEv’t
*

2880 
	`XP“kIfEv’t
(

2881 
Di¥Ïy
* ,

2882 
XEv’t
* ,

2883 
	$BoŞ
 (*) (

2884 
Di¥Ïy
* ,

2885 
XEv’t
* ,

2886 
XPoš‹r


2888 
XPoš‹r


2891 
	`XP’dšg
(

2892 
Di¥Ïy
*

2895 
	`XPÏÃsOfSü“n
(

2896 
Sü“n
*

2899 
	`XPrÙocŞRevisiÚ
(

2900 
Di¥Ïy
*

2903 
	`XPrÙocŞV”siÚ
(

2904 
Di¥Ïy
*

2908 
	`XPutBackEv’t
(

2909 
Di¥Ïy
* ,

2910 
XEv’t
*

2913 
	`XPutImage
(

2914 
Di¥Ïy
* ,

2915 
D¿wabË
 ,

2916 
GC
 ,

2917 
XImage
* ,

2926 
	`XQL’gth
(

2927 
Di¥Ïy
*

2930 
Stus
 
	`XQu”yBe¡CursÜ
(

2931 
Di¥Ïy
* ,

2932 
D¿wabË
 ,

2939 
Stus
 
	`XQu”yBe¡Size
(

2940 
Di¥Ïy
* ,

2942 
D¿wabË
 ,

2949 
Stus
 
	`XQu”yBe¡St¶e
(

2950 
Di¥Ïy
* ,

2951 
D¿wabË
 ,

2958 
Stus
 
	`XQu”yBe¡Te
(

2959 
Di¥Ïy
* ,

2960 
D¿wabË
 ,

2967 
	`XQu”yCŞÜ
(

2968 
Di¥Ïy
* ,

2969 
CŞÜm­
 ,

2970 
XCŞÜ
*

2973 
	`XQu”yCŞÜs
(

2974 
Di¥Ïy
* ,

2975 
CŞÜm­
 ,

2976 
XCŞÜ
* ,

2980 
BoŞ
 
	`XQu”yEx‹nsiÚ
(

2981 
Di¥Ïy
* ,

2982 
_XcÚ¡
 * ,

2988 
	`XQu”yKeym­
(

2989 
Di¥Ïy
* ,

2993 
BoŞ
 
	`XQu”yPoš‹r
(

2994 
Di¥Ïy
* ,

2995 
Wšdow
 ,

2996 
Wšdow
* ,

2997 
Wšdow
* ,

3005 
	`XQu”yTextEx‹Ás
(

3006 
Di¥Ïy
* ,

3007 
XID
 ,

3008 
_XcÚ¡
 * ,

3013 
XCh¬SŒuù
*

3016 
	`XQu”yTextEx‹Ás16
(

3017 
Di¥Ïy
* ,

3018 
XID
 ,

3019 
_XcÚ¡
 
XCh¬2b
* ,

3024 
XCh¬SŒuù
*

3027 
Stus
 
	`XQu”yT»e
(

3028 
Di¥Ïy
* ,

3029 
Wšdow
 ,

3030 
Wšdow
* ,

3031 
Wšdow
* ,

3032 
Wšdow
** ,

3036 
	`XRai£Wšdow
(

3037 
Di¥Ïy
* ,

3038 
Wšdow


3041 
	`XR—dB™m­Fe
(

3042 
Di¥Ïy
* ,

3043 
D¿wabË
 ,

3044 
_XcÚ¡
 * ,

3047 
Pixm­
* ,

3052 
	`XR—dB™m­FeD©a
(

3053 
_XcÚ¡
 * ,

3061 
	`XRebšdKeysym
(

3062 
Di¥Ïy
* ,

3063 
KeySym
 ,

3064 
KeySym
* ,

3066 
_XcÚ¡
 * ,

3070 
	`XRecŞÜCursÜ
(

3071 
Di¥Ïy
* ,

3072 
CursÜ
 ,

3073 
XCŞÜ
* ,

3074 
XCŞÜ
*

3077 
	`XReäeshKeybßrdM­pšg
(

3078 
XM­pšgEv’t
*

3081 
	`XRemoveFromSaveS‘
(

3082 
Di¥Ïy
* ,

3083 
Wšdow


3086 
	`XRemoveHo¡
(

3087 
Di¥Ïy
* ,

3088 
XHo¡Add»ss
*

3091 
	`XRemoveHo¡s
(

3092 
Di¥Ïy
* ,

3093 
XHo¡Add»ss
* ,

3097 
	`XR•¬’tWšdow
(

3098 
Di¥Ïy
* ,

3099 
Wšdow
 ,

3100 
Wšdow
 ,

3105 
	`XRe£tSü“nSav”
(

3106 
Di¥Ïy
*

3109 
	`XResizeWšdow
(

3110 
Di¥Ïy
* ,

3111 
Wšdow
 ,

3116 
	`XRe¡ackWšdows
(

3117 
Di¥Ïy
* ,

3118 
Wšdow
* ,

3122 
	`XRÙ©eBufãrs
(

3123 
Di¥Ïy
* ,

3127 
	`XRÙ©eWšdowPrİ”t›s
(

3128 
Di¥Ïy
* ,

3129 
Wšdow
 ,

3130 
Atom
* ,

3135 
	`XSü“nCouÁ
(

3136 
Di¥Ïy
*

3139 
	`XS–eùIÅut
(

3140 
Di¥Ïy
* ,

3141 
Wšdow
 ,

3145 
Stus
 
	`XS’dEv’t
(

3146 
Di¥Ïy
* ,

3147 
Wšdow
 ,

3148 
BoŞ
 ,

3150 
XEv’t
*

3153 
	`XS‘AcûssCÚŒŞ
(

3154 
Di¥Ïy
* ,

3158 
	`XS‘ArcMode
(

3159 
Di¥Ïy
* ,

3160 
GC
 ,

3164 
	`XS‘Background
(

3165 
Di¥Ïy
* ,

3166 
GC
 ,

3170 
	`XS‘ClMask
(

3171 
Di¥Ïy
* ,

3172 
GC
 ,

3173 
Pixm­


3176 
	`XS‘ClOrigš
(

3177 
Di¥Ïy
* ,

3178 
GC
 ,

3183 
	`XS‘ClReùªgËs
(

3184 
Di¥Ïy
* ,

3185 
GC
 ,

3188 
XReùªgË
* ,

3193 
	`XS‘Clo£DownMode
(

3194 
Di¥Ïy
* ,

3198 
	`XS‘Commªd
(

3199 
Di¥Ïy
* ,

3200 
Wšdow
 ,

3205 
	`XS‘Dashes
(

3206 
Di¥Ïy
* ,

3207 
GC
 ,

3209 
_XcÚ¡
 * ,

3213 
	`XS‘FlRuË
(

3214 
Di¥Ïy
* ,

3215 
GC
 ,

3219 
	`XS‘FlStyË
(

3220 
Di¥Ïy
* ,

3221 
GC
 ,

3225 
	`XS‘FÚt
(

3226 
Di¥Ïy
* ,

3227 
GC
 ,

3228 
FÚt


3231 
	`XS‘FÚtP©h
(

3232 
Di¥Ïy
* ,

3237 
	`XS‘FÜeground
(

3238 
Di¥Ïy
* ,

3239 
GC
 ,

3243 
	`XS‘FunùiÚ
(

3244 
Di¥Ïy
* ,

3245 
GC
 ,

3249 
	`XS‘G¿phicsExposu»s
(

3250 
Di¥Ïy
* ,

3251 
GC
 ,

3252 
BoŞ


3255 
	`XS‘IcÚName
(

3256 
Di¥Ïy
* ,

3257 
Wšdow
 ,

3258 
_XcÚ¡
 *

3261 
	`XS‘IÅutFocus
(

3262 
Di¥Ïy
* ,

3263 
Wšdow
 ,

3265 
Time


3268 
	`XS‘LšeA‰ribu‹s
(

3269 
Di¥Ïy
* ,

3270 
GC
 ,

3277 
	`XS‘Modif›rM­pšg
(

3278 
Di¥Ïy
* ,

3279 
XModif›rKeym­
*

3282 
	`XS‘PÏÃMask
(

3283 
Di¥Ïy
* ,

3284 
GC
 ,

3288 
	`XS‘Poš‹rM­pšg
(

3289 
Di¥Ïy
* ,

3290 
_XcÚ¡
 * ,

3294 
	`XS‘Sü“nSav”
(

3295 
Di¥Ïy
* ,

3302 
	`XS‘S–eùiÚOwÃr
(

3303 
Di¥Ïy
* ,

3304 
Atom
 ,

3305 
Wšdow
 ,

3306 
Time


3309 
	`XS‘S‹
(

3310 
Di¥Ïy
* ,

3311 
GC
 ,

3318 
	`XS‘St¶e
(

3319 
Di¥Ïy
* ,

3320 
GC
 ,

3321 
Pixm­


3324 
	`XS‘SubwšdowMode
(

3325 
Di¥Ïy
* ,

3326 
GC
 ,

3330 
	`XS‘TSOrigš
(

3331 
Di¥Ïy
* ,

3332 
GC
 ,

3337 
	`XS‘Te
(

3338 
Di¥Ïy
* ,

3339 
GC
 ,

3340 
Pixm­


3343 
	`XS‘WšdowBackground
(

3344 
Di¥Ïy
* ,

3345 
Wšdow
 ,

3349 
	`XS‘WšdowBackgroundPixm­
(

3350 
Di¥Ïy
* ,

3351 
Wšdow
 ,

3352 
Pixm­


3355 
	`XS‘WšdowBÜd”
(

3356 
Di¥Ïy
* ,

3357 
Wšdow
 ,

3361 
	`XS‘WšdowBÜd”Pixm­
(

3362 
Di¥Ïy
* ,

3363 
Wšdow
 ,

3364 
Pixm­


3367 
	`XS‘WšdowBÜd”Width
(

3368 
Di¥Ïy
* ,

3369 
Wšdow
 ,

3373 
	`XS‘WšdowCŞÜm­
(

3374 
Di¥Ïy
* ,

3375 
Wšdow
 ,

3376 
CŞÜm­


3379 
	`XStÜeBufãr
(

3380 
Di¥Ïy
* ,

3381 
_XcÚ¡
 * ,

3386 
	`XStÜeBy‹s
(

3387 
Di¥Ïy
* ,

3388 
_XcÚ¡
 * ,

3392 
	`XStÜeCŞÜ
(

3393 
Di¥Ïy
* ,

3394 
CŞÜm­
 ,

3395 
XCŞÜ
*

3398 
	`XStÜeCŞÜs
(

3399 
Di¥Ïy
* ,

3400 
CŞÜm­
 ,

3401 
XCŞÜ
* ,

3405 
	`XStÜeName
(

3406 
Di¥Ïy
* ,

3407 
Wšdow
 ,

3408 
_XcÚ¡
 *

3411 
	`XStÜeNamedCŞÜ
(

3412 
Di¥Ïy
* ,

3413 
CŞÜm­
 ,

3414 
_XcÚ¡
 * ,

3419 
	`XSync
(

3420 
Di¥Ïy
* ,

3421 
BoŞ


3424 
	`XTextEx‹Ás
(

3425 
XFÚtSŒuù
* ,

3426 
_XcÚ¡
 * ,

3431 
XCh¬SŒuù
*

3434 
	`XTextEx‹Ás16
(

3435 
XFÚtSŒuù
* ,

3436 
_XcÚ¡
 
XCh¬2b
* ,

3441 
XCh¬SŒuù
*

3444 
	`XTextWidth
(

3445 
XFÚtSŒuù
* ,

3446 
_XcÚ¡
 * ,

3450 
	`XTextWidth16
(

3451 
XFÚtSŒuù
* ,

3452 
_XcÚ¡
 
XCh¬2b
* ,

3456 
BoŞ
 
	`XT¿n¦©eCoÜdš©es
(

3457 
Di¥Ïy
* ,

3458 
Wšdow
 ,

3459 
Wšdow
 ,

3464 
Wšdow
*

3467 
	`XUndefšeCursÜ
(

3468 
Di¥Ïy
* ,

3469 
Wšdow


3472 
	`XUng¿bBu‰Ú
(

3473 
Di¥Ïy
* ,

3476 
Wšdow


3479 
	`XUng¿bKey
(

3480 
Di¥Ïy
* ,

3483 
Wšdow


3486 
	`XUng¿bKeybßrd
(

3487 
Di¥Ïy
* ,

3488 
Time


3491 
	`XUng¿bPoš‹r
(

3492 
Di¥Ïy
* ,

3493 
Time


3496 
	`XUng¿bS”v”
(

3497 
Di¥Ïy
*

3500 
	`XUnš¡®lCŞÜm­
(

3501 
Di¥Ïy
* ,

3502 
CŞÜm­


3505 
	`XUÆßdFÚt
(

3506 
Di¥Ïy
* ,

3507 
FÚt


3510 
	`XUnm­Subwšdows
(

3511 
Di¥Ïy
* ,

3512 
Wšdow


3515 
	`XUnm­Wšdow
(

3516 
Di¥Ïy
* ,

3517 
Wšdow


3520 
	`XV’dÜR–—£
(

3521 
Di¥Ïy
*

3524 
	`XW¬pPoš‹r
(

3525 
Di¥Ïy
* ,

3526 
Wšdow
 ,

3527 
Wšdow
 ,

3536 
	`XWidthMMOfSü“n
(

3537 
Sü“n
*

3540 
	`XWidthOfSü“n
(

3541 
Sü“n
*

3544 
	`XWšdowEv’t
(

3545 
Di¥Ïy
* ,

3546 
Wšdow
 ,

3548 
XEv’t
*

3551 
	`XWr™eB™m­Fe
(

3552 
Di¥Ïy
* ,

3553 
_XcÚ¡
 * ,

3554 
Pixm­
 ,

3561 
BoŞ
 
	`XSuµÜtsLoÿË
 ();

3563 *
	`XS‘LoÿËModif›rs
(

3567 
XOM
 
	`XO³nOM
(

3568 
Di¥Ïy
* ,

3569 
_XrmHashBuck‘Rec
* ,

3570 
_XcÚ¡
 * ,

3571 
_XcÚ¡
 *

3574 
Stus
 
	`XClo£OM
(

3575 
XOM


3578 *
	$XS‘OMV®ues
(

3579 
XOM
 ,

3581 è
	`_X_SENTINEL
(0);

3583 *
	$XG‘OMV®ues
(

3584 
XOM
 ,

3586 è
	`_X_SENTINEL
(0);

3588 
Di¥Ïy
 *
	`XDi¥ÏyOfOM
(

3589 
XOM


3592 *
	`XLoÿËOfOM
(

3593 
XOM


3596 
XOC
 
	$XC»©eOC
(

3597 
XOM
 ,

3599 è
	`_X_SENTINEL
(0);

3601 
	`XDe¡royOC
(

3602 
XOC


3605 
XOM
 
	`XOMOfOC
(

3606 
XOC


3609 *
	$XS‘OCV®ues
(

3610 
XOC
 ,

3612 è
	`_X_SENTINEL
(0);

3614 *
	$XG‘OCV®ues
(

3615 
XOC
 ,

3617 è
	`_X_SENTINEL
(0);

3619 
XFÚtS‘
 
	`XC»©eFÚtS‘
(

3620 
Di¥Ïy
* ,

3621 
_XcÚ¡
 * ,

3627 
	`XF»eFÚtS‘
(

3628 
Di¥Ïy
* ,

3629 
XFÚtS‘


3632 
	`XFÚtsOfFÚtS‘
(

3633 
XFÚtS‘
 ,

3634 
XFÚtSŒuù
*** ,

3638 *
	`XBa£FÚtNameLi¡OfFÚtS‘
(

3639 
XFÚtS‘


3642 *
	`XLoÿËOfFÚtS‘
(

3643 
XFÚtS‘


3646 
BoŞ
 
	`XCÚ‹xtD•’d’tD¿wšg
(

3647 
XFÚtS‘


3650 
BoŞ
 
	`XDœeùiÚ®D•’d’tD¿wšg
(

3651 
XFÚtS‘


3654 
BoŞ
 
	`XCÚ‹xtu®D¿wšg
(

3655 
XFÚtS‘


3658 
XFÚtS‘Ex‹Ás
 *
	`XEx‹ÁsOfFÚtS‘
(

3659 
XFÚtS‘


3662 
	`XmbTextEsÿ³m’t
(

3663 
XFÚtS‘
 ,

3664 
_XcÚ¡
 * ,

3668 
	`XwcTextEsÿ³m’t
(

3669 
XFÚtS‘
 ,

3670 
_XcÚ¡
 
wch¬_t
* ,

3674 
	`Xutf8TextEsÿ³m’t
(

3675 
XFÚtS‘
 ,

3676 
_XcÚ¡
 * ,

3680 
	`XmbTextEx‹Ás
(

3681 
XFÚtS‘
 ,

3682 
_XcÚ¡
 * ,

3684 
XReùªgË
* ,

3685 
XReùªgË
*

3688 
	`XwcTextEx‹Ás
(

3689 
XFÚtS‘
 ,

3690 
_XcÚ¡
 
wch¬_t
* ,

3692 
XReùªgË
* ,

3693 
XReùªgË
*

3696 
	`Xutf8TextEx‹Ás
(

3697 
XFÚtS‘
 ,

3698 
_XcÚ¡
 * ,

3700 
XReùªgË
* ,

3701 
XReùªgË
*

3704 
Stus
 
	`XmbTextP”Ch¬Ex‹Ás
(

3705 
XFÚtS‘
 ,

3706 
_XcÚ¡
 * ,

3708 
XReùªgË
* ,

3709 
XReùªgË
* ,

3712 
XReùªgË
* ,

3713 
XReùªgË
*

3716 
Stus
 
	`XwcTextP”Ch¬Ex‹Ás
(

3717 
XFÚtS‘
 ,

3718 
_XcÚ¡
 
wch¬_t
* ,

3720 
XReùªgË
* ,

3721 
XReùªgË
* ,

3724 
XReùªgË
* ,

3725 
XReùªgË
*

3728 
Stus
 
	`Xutf8TextP”Ch¬Ex‹Ás
(

3729 
XFÚtS‘
 ,

3730 
_XcÚ¡
 * ,

3732 
XReùªgË
* ,

3733 
XReùªgË
* ,

3736 
XReùªgË
* ,

3737 
XReùªgË
*

3740 
	`XmbD¿wText
(

3741 
Di¥Ïy
* ,

3742 
D¿wabË
 ,

3743 
GC
 ,

3746 
XmbTextI‹m
* ,

3750 
	`XwcD¿wText
(

3751 
Di¥Ïy
* ,

3752 
D¿wabË
 ,

3753 
GC
 ,

3756 
XwcTextI‹m
* ,

3760 
	`Xutf8D¿wText
(

3761 
Di¥Ïy
* ,

3762 
D¿wabË
 ,

3763 
GC
 ,

3766 
XmbTextI‹m
* ,

3770 
	`XmbD¿wSŒšg
(

3771 
Di¥Ïy
* ,

3772 
D¿wabË
 ,

3773 
XFÚtS‘
 ,

3774 
GC
 ,

3777 
_XcÚ¡
 * ,

3781 
	`XwcD¿wSŒšg
(

3782 
Di¥Ïy
* ,

3783 
D¿wabË
 ,

3784 
XFÚtS‘
 ,

3785 
GC
 ,

3788 
_XcÚ¡
 
wch¬_t
* ,

3792 
	`Xutf8D¿wSŒšg
(

3793 
Di¥Ïy
* ,

3794 
D¿wabË
 ,

3795 
XFÚtS‘
 ,

3796 
GC
 ,

3799 
_XcÚ¡
 * ,

3803 
	`XmbD¿wImageSŒšg
(

3804 
Di¥Ïy
* ,

3805 
D¿wabË
 ,

3806 
XFÚtS‘
 ,

3807 
GC
 ,

3810 
_XcÚ¡
 * ,

3814 
	`XwcD¿wImageSŒšg
(

3815 
Di¥Ïy
* ,

3816 
D¿wabË
 ,

3817 
XFÚtS‘
 ,

3818 
GC
 ,

3821 
_XcÚ¡
 
wch¬_t
* ,

3825 
	`Xutf8D¿wImageSŒšg
(

3826 
Di¥Ïy
* ,

3827 
D¿wabË
 ,

3828 
XFÚtS‘
 ,

3829 
GC
 ,

3832 
_XcÚ¡
 * ,

3836 
XIM
 
	`XO³nIM
(

3837 
Di¥Ïy
* ,

3838 
_XrmHashBuck‘Rec
* ,

3843 
Stus
 
	`XClo£IM
(

3844 
XIM


3847 *
	$XG‘IMV®ues
(

3848 
XIM
 , ...

3849 è
	`_X_SENTINEL
(0);

3851 *
	$XS‘IMV®ues
(

3852 
XIM
 , ...

3853 è
	`_X_SENTINEL
(0);

3855 
Di¥Ïy
 *
	`XDi¥ÏyOfIM
(

3856 
XIM


3859 *
	`XLoÿËOfIM
(

3860 
XIM


3863 
XIC
 
	$XC»©eIC
(

3864 
XIM
 , ...

3865 è
	`_X_SENTINEL
(0);

3867 
	`XDe¡royIC
(

3868 
XIC


3871 
	`XS‘ICFocus
(

3872 
XIC


3875 
	`XUn£tICFocus
(

3876 
XIC


3879 
wch¬_t
 *
	`XwcRe£tIC
(

3880 
XIC


3883 *
	`XmbRe£tIC
(

3884 
XIC


3887 *
	`Xutf8Re£tIC
(

3888 
XIC


3891 *
	$XS‘ICV®ues
(

3892 
XIC
 , ...

3893 è
	`_X_SENTINEL
(0);

3895 *
	$XG‘ICV®ues
(

3896 
XIC
 , ...

3897 è
	`_X_SENTINEL
(0);

3899 
XIM
 
	`XIMOfIC
(

3900 
XIC


3903 
BoŞ
 
	`XF‹rEv’t
(

3904 
XEv’t
* ,

3905 
Wšdow


3908 
	`XmbLookupSŒšg
(

3909 
XIC
 ,

3910 
XKeyP»s£dEv’t
* ,

3913 
KeySym
* ,

3914 
Stus
*

3917 
	`XwcLookupSŒšg
(

3918 
XIC
 ,

3919 
XKeyP»s£dEv’t
* ,

3920 
wch¬_t
* ,

3922 
KeySym
* ,

3923 
Stus
*

3926 
	`Xutf8LookupSŒšg
(

3927 
XIC
 ,

3928 
XKeyP»s£dEv’t
* ,

3931 
KeySym
* ,

3932 
Stus
*

3935 
XVaNe¡edLi¡
 
	$XVaC»©eNe¡edLi¡
(

3937 è
	`_X_SENTINEL
(0);

3941 
BoŞ
 
	`XRegi¡”IMIn¡ªtŸ‹C®lback
(

3942 
Di¥Ïy
* ,

3943 
_XrmHashBuck‘Rec
* ,

3946 
XIDProc
 ,

3947 
XPoš‹r


3950 
BoŞ
 
	`XUÄegi¡”IMIn¡ªtŸ‹C®lback
(

3951 
Di¥Ïy
* ,

3952 
_XrmHashBuck‘Rec
* ,

3955 
XIDProc
 ,

3956 
XPoš‹r


3959 (*
	tXCÚÃùiÚW©chProc
)(

3960 
	tDi¥Ïy
* ,

3961 
	tXPoš‹r
 ,

3963 
	tBoŞ
 ,

3964 
	tXPoš‹r
*

3968 
Stus
 
	`XIÁ”ÇlCÚÃùiÚNumb”s
(

3969 
Di¥Ïy
* ,

3974 
	`XProûssIÁ”ÇlCÚÃùiÚ
(

3975 
Di¥Ïy
* ,

3979 
Stus
 
	`XAddCÚÃùiÚW©ch
(

3980 
Di¥Ïy
* ,

3981 
XCÚÃùiÚW©chProc
 ,

3982 
XPoš‹r


3985 
	`XRemoveCÚÃùiÚW©ch
(

3986 
Di¥Ïy
* ,

3987 
XCÚÃùiÚW©chProc
 ,

3988 
XPoš‹r


3991 
	`XS‘AuthÜiz©iÚ
(

3998 
	`_Xmbtowc
(

3999 
wch¬_t
 * ,

4004 
	`_Xwùomb
(

4006 
wch¬_t


4009 
BoŞ
 
	`XG‘Ev’tD©a
(

4010 
Di¥Ïy
* ,

4011 
XG’”icEv’tCook›
*

4014 
	`XF»eEv’tD©a
(

4015 
Di¥Ïy
* ,

4016 
XG’”icEv’tCook›
*

4019 #ifdeà
__şªg__


4020 #´agm¨
şªg
 
dŸgno¡ic
 
pİ


4023 
_XFUNCPROTOEND


	@/usr/include/X11/Xutil.h

49 #iâdeà
_X11_XUTIL_H_


50 
	#_X11_XUTIL_H_


	)

53 
	~<X11/Xlib.h
>

54 
	~<X11/keysym.h
>

59 #ifdeà
__şªg__


60 #´agm¨
şªg
 
dŸgno¡ic
 
push


61 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wpadded"

68 
	#NoV®ue
 0x0000

	)

69 
	#XV®ue
 0x0001

	)

70 
	#YV®ue
 0x0002

	)

71 
	#WidthV®ue
 0x0004

	)

72 
	#HeightV®ue
 0x0008

	)

73 
	#AÎV®ues
 0x000F

	)

74 
	#XNeg©ive
 0x0010

	)

75 
	#YNeg©ive
 0x0020

	)

82 
	mæags
;

83 
	mx
, 
	my
;

84 
	mwidth
, 
	mheight
;

85 
	mmš_width
, 
	mmš_height
;

86 
	mmax_width
, 
	mmax_height
;

87 
	mwidth_šc
, 
	mheight_šc
;

89 
	mx
;

90 
	my
;

91 } 
	mmš_a¥eù
, 
	mmax_a¥eù
;

92 
	mba£_width
, 
	mba£_height
;

93 
	mwš_g¿v™y
;

94 } 
	tXSizeHšts
;

102 
	#USPos™iÚ
 (1L << 0è

	)

103 
	#USSize
 (1L << 1è

	)

105 
	#PPos™iÚ
 (1L << 2è

	)

106 
	#PSize
 (1L << 3è

	)

107 
	#PMšSize
 (1L << 4è

	)

108 
	#PMaxSize
 (1L << 5è

	)

109 
	#PResizeInc
 (1L << 6è

	)

110 
	#PA¥eù
 (1L << 7è

	)

111 
	#PBa£Size
 (1L << 8è

	)

112 
	#PWšG¿v™y
 (1L << 9è

	)

115 
	#PAÎHšts
 (
PPos™iÚ
|
PSize
|
PMšSize
|
PMaxSize
|
PResizeInc
|
PA¥eù
)

	)

120 
	mæags
;

121 
BoŞ
 
	mšput
;

123 
	mš™Ÿl_¡©e
;

124 
Pixm­
 
	micÚ_pixm­
;

125 
Wšdow
 
	micÚ_wšdow
;

126 
	micÚ_x
, 
	micÚ_y
;

127 
Pixm­
 
	micÚ_mask
;

128 
XID
 
	mwšdow_group
;

130 } 
	tXWMHšts
;

134 
	#IÅutHšt
 (1L << 0)

	)

135 
	#S‹Hšt
 (1L << 1)

	)

136 
	#IcÚPixm­Hšt
 (1L << 2)

	)

137 
	#IcÚWšdowHšt
 (1L << 3)

	)

138 
	#IcÚPos™iÚHšt
 (1L << 4)

	)

139 
	#IcÚMaskHšt
 (1L << 5)

	)

140 
	#WšdowGroupHšt
 (1L << 6)

	)

141 
	#AÎHšts
 (
IÅutHšt
|
S‹Hšt
|
IcÚPixm­Hšt
|
IcÚWšdowHšt
| \

142 
IcÚPos™iÚHšt
|
IcÚMaskHšt
|
WšdowGroupHšt
)

	)

143 
	#XUrg’cyHšt
 (1L << 8)

	)

146 
	#W™hd¿wnS‹
 0

	)

147 
	#NÜm®S‹
 1

	)

148 
	#IcÚicS‹
 3

	)

153 
	#DÚtC¬eS‹
 0

	)

154 
	#ZoomS‹
 2

	)

155 
	#IÇùiveS‹
 4

	)

164 *
	mv®ue
;

165 
Atom
 
	m’codšg
;

166 
	mfÜm©
;

167 
	mn™ems
;

168 } 
	tXTextPrİ”ty
;

170 
	#XNoMemÜy
 -1

	)

171 
	#XLoÿËNÙSuµÜ‹d
 -2

	)

172 
	#XCÚv”‹rNÙFound
 -3

	)

175 
	mXSŒšgStyË
,

176 
	mXCompoundTextStyË
,

177 
	mXTextStyË
,

178 
	mXStdICCTextStyË
,

180 
	mXUTF8SŒšgStyË


181 } 
	tXICCEncodšgStyË
;

184 
	mmš_width
, 
	mmš_height
;

185 
	mmax_width
, 
	mmax_height
;

186 
	mwidth_šc
, 
	mheight_šc
;

187 } 
	tXIcÚSize
;

190 *
	m»s_Çme
;

191 *
	m»s_şass
;

192 } 
	tXCÏssHšt
;

194 #ifdeà
XUTIL_DEFINE_FUNCTIONS


195 
XDe¡royImage
(

196 
XImage
 *
ximage
);

197 
XG‘Pix–
(

198 
XImage
 *
ximage
,

199 
x
, 
y
);

200 
XPutPix–
(

201 
XImage
 *
ximage
,

202 
x
, 
y
,

203 
pix–
);

204 
XImage
 *
XSubImage
(

205 
XImage
 *
ximage
,

206 
x
, 
y
,

207 
width
, 
height
);

208 
XAddPix–
(

209 
XImage
 *
ximage
,

210 
v®ue
);

216 
	#XDe¡royImage
(
ximage
) \

217 ((*((
ximage
)->
f
.
de¡roy_image
))((ximage)))

	)

218 
	#XG‘Pix–
(
ximage
, 
x
, 
y
) \

219 ((*((
ximage
)->
f
.
g‘_pix–
))((ximage), (
x
), (
y
)))

	)

220 
	#XPutPix–
(
ximage
, 
x
, 
y
, 
pix–
) \

221 ((*((
ximage
)->
f
.
put_pix–
))((ximage), (
x
), (
y
), (
pix–
)))

	)

222 
	#XSubImage
(
ximage
, 
x
, 
y
, 
width
, 
height
) \

223 ((*((
ximage
)->
f
.
sub_image
))((ximage), (
x
), (
y
), (
width
), (
height
)))

	)

224 
	#XAddPix–
(
ximage
, 
v®ue
) \

225 ((*((
ximage
)->
f
.
add_pix–
))((ximage), (
v®ue
)))

	)

231 
	s_XCompo£Stus
 {

232 
XPoš‹r
 
	mcompo£_±r
;

233 
	mch¬s_m©ched
;

234 } 
	tXCompo£Stus
;

239 
	#IsKey·dKey
(
keysym
) \

240 (((
KeySym
)(
keysym
è>ğ
XK_KP_S·û
è&& ((KeySym)(keysymè<ğ
XK_KP_Equ®
))

	)

242 
	#IsPriv©eKey·dKey
(
keysym
) \

243 (((
KeySym
)(
keysym
è>ğ0x11000000è&& ((KeySym)(keysymè<ğ0x1100FFFF))

	)

245 
	#IsCursÜKey
(
keysym
) \

246 (((
KeySym
)(
keysym
è>ğ
XK_Home
è&& ((KeySym)(keysymè< 
XK_S–eù
))

	)

248 
	#IsPFKey
(
keysym
) \

249 (((
KeySym
)(
keysym
è>ğ
XK_KP_F1
è&& ((KeySym)(keysymè<ğ
XK_KP_F4
))

	)

251 
	#IsFunùiÚKey
(
keysym
) \

252 (((
KeySym
)(
keysym
è>ğ
XK_F1
è&& ((KeySym)(keysymè<ğ
XK_F35
))

	)

254 
	#IsMiscFunùiÚKey
(
keysym
) \

255 (((
KeySym
)(
keysym
è>ğ
XK_S–eù
è&& ((KeySym)(keysymè<ğ
XK_B»ak
))

	)

257 #ifdeà
XK_XKB_KEYS


258 
	#IsModif›rKey
(
keysym
) \

259 ((((
KeySym
)(
keysym
è>ğ
XK_Shiá_L
è&& ((KeySym)(keysymè<ğ
XK_Hy³r_R
)) \

260 || (((
KeySym
)(
keysym
è>ğ
XK_ISO_Lock
) && \

261 ((
KeySym
)(
keysym
è<ğ
XK_ISO_Lev–5_Lock
)) \

262 || ((
KeySym
)(
keysym
è=ğ
XK_Mode_sw™ch
) \

263 || ((
KeySym
)(
keysym
è=ğ
XK_Num_Lock
))

	)

265 
	#IsModif›rKey
(
keysym
) \

266 ((((
KeySym
)(
keysym
è>ğ
XK_Shiá_L
è&& ((KeySym)(keysymè<ğ
XK_Hy³r_R
)) \

267 || ((
KeySym
)(
keysym
è=ğ
XK_Mode_sw™ch
) \

268 || ((
KeySym
)(
keysym
è=ğ
XK_Num_Lock
))

	)

273 
_XRegiÚ
 *
	tRegiÚ
;

277 
	#ReùªgËOut
 0

	)

278 
	#ReùªgËIn
 1

	)

279 
	#ReùªgËP¬t
 2

	)

288 
Visu®
 *
	mvisu®
;

289 
Visu®ID
 
	mvisu®id
;

290 
	msü“n
;

291 
	md•th
;

292 #ià
defšed
(
__ılu¥lus
è|| defšed(
c_¶u¥lus
)

293 
	mc_şass
;

295 
	mşass
;

297 
	m»d_mask
;

298 
	mg»’_mask
;

299 
	mblue_mask
;

300 
	mcŞÜm­_size
;

301 
	mb™s_³r_rgb
;

302 } 
	tXVisu®Info
;

304 
	#Visu®NoMask
 0x0

	)

305 
	#Visu®IDMask
 0x1

	)

306 
	#Visu®Sü“nMask
 0x2

	)

307 
	#Visu®D•thMask
 0x4

	)

308 
	#Visu®CÏssMask
 0x8

	)

309 
	#Visu®RedMaskMask
 0x10

	)

310 
	#Visu®G»’MaskMask
 0x20

	)

311 
	#Visu®BlueMaskMask
 0x40

	)

312 
	#Visu®CŞÜm­SizeMask
 0x80

	)

313 
	#Visu®B™sP”RGBMask
 0x100

	)

314 
	#Visu®AÎMask
 0x1FF

	)

321 
CŞÜm­
 
	mcŞÜm­
;

322 
	m»d_max
;

323 
	m»d_muÉ
;

324 
	mg»’_max
;

325 
	mg»’_muÉ
;

326 
	mblue_max
;

327 
	mblue_muÉ
;

328 
	mba£_pix–
;

329 
Visu®ID
 
	mvisu®id
;

330 
XID
 
	mklid
;

331 } 
	tXSnd¬dCŞÜm­
;

333 
	#R–—£ByF»ešgCŞÜm­
 ((
XID
è1Lè

	)

339 
	#B™m­Sucûss
 0

	)

340 
	#B™m­O³nFaed
 1

	)

341 
	#B™m­FeInv®id
 2

	)

342 
	#B™m­NoMemÜy
 3

	)

353 
	#XCSUCCESS
 0

	)

354 
	#XCNOMEM
 1

	)

355 
	#XCNOENT
 2

	)

357 
	tXCÚ‹xt
;

359 
	#XUniqueCÚ‹xt
(è((
XCÚ‹xt
è
	`XrmUniqueQu¬k
())

	)

360 
	#XSŒšgToCÚ‹xt
(
¡ršg
è((
XCÚ‹xt
è
	`XrmSŒšgToQu¬k
(¡ršg))

	)

362 
_XFUNCPROTOBEGIN


366 
XCÏssHšt
 *
XAÎocCÏssHšt
 (

370 
XIcÚSize
 *
XAÎocIcÚSize
 (

374 
XSizeHšts
 *
XAÎocSizeHšts
 (

378 
XSnd¬dCŞÜm­
 *
XAÎocSnd¬dCŞÜm­
 (

382 
XWMHšts
 *
XAÎocWMHšts
 (

386 
XClBox
(

387 
RegiÚ
 ,

388 
XReùªgË
*

391 
RegiÚ
 
XC»©eRegiÚ
(

395 cÚ¡ *
XDeçuÉSŒšg
 ();

397 
XD–‘eCÚ‹xt
(

398 
Di¥Ïy
* ,

399 
XID
 ,

400 
XCÚ‹xt


403 
XDe¡royRegiÚ
(

404 
RegiÚ


407 
XEm±yRegiÚ
(

408 
RegiÚ


411 
XEqu®RegiÚ
(

412 
RegiÚ
 ,

413 
RegiÚ


416 
XFšdCÚ‹xt
(

417 
Di¥Ïy
* ,

418 
XID
 ,

419 
XCÚ‹xt
 ,

420 
XPoš‹r
*

423 
Stus
 
XG‘CÏssHšt
(

424 
Di¥Ïy
* ,

425 
Wšdow
 ,

426 
XCÏssHšt
*

429 
Stus
 
XG‘IcÚSizes
(

430 
Di¥Ïy
* ,

431 
Wšdow
 ,

432 
XIcÚSize
** ,

436 
Stus
 
XG‘NÜm®Hšts
(

437 
Di¥Ïy
* ,

438 
Wšdow
 ,

439 
XSizeHšts
*

442 
Stus
 
XG‘RGBCŞÜm­s
(

443 
Di¥Ïy
* ,

444 
Wšdow
 ,

445 
XSnd¬dCŞÜm­
** ,

447 
Atom


450 
Stus
 
XG‘SizeHšts
(

451 
Di¥Ïy
* ,

452 
Wšdow
 ,

453 
XSizeHšts
* ,

454 
Atom


457 
Stus
 
XG‘Snd¬dCŞÜm­
(

458 
Di¥Ïy
* ,

459 
Wšdow
 ,

460 
XSnd¬dCŞÜm­
* ,

461 
Atom


464 
Stus
 
XG‘TextPrİ”ty
(

465 
Di¥Ïy
* ,

466 
Wšdow
 ,

467 
XTextPrİ”ty
* ,

468 
Atom


471 
XVisu®Info
 *
XG‘Visu®Info
(

472 
Di¥Ïy
* ,

474 
XVisu®Info
* ,

478 
Stus
 
XG‘WMCl›ÁMachše
(

479 
Di¥Ïy
* ,

480 
Wšdow
 ,

481 
XTextPrİ”ty
*

484 
XWMHšts
 *
XG‘WMHšts
(

485 
Di¥Ïy
* ,

486 
Wšdow


489 
Stus
 
XG‘WMIcÚName
(

490 
Di¥Ïy
* ,

491 
Wšdow
 ,

492 
XTextPrİ”ty
*

495 
Stus
 
XG‘WMName
(

496 
Di¥Ïy
* ,

497 
Wšdow
 ,

498 
XTextPrİ”ty
*

501 
Stus
 
XG‘WMNÜm®Hšts
(

502 
Di¥Ïy
* ,

503 
Wšdow
 ,

504 
XSizeHšts
* ,

508 
Stus
 
XG‘WMSizeHšts
(

509 
Di¥Ïy
* ,

510 
Wšdow
 ,

511 
XSizeHšts
* ,

513 
Atom


516 
Stus
 
XG‘ZoomHšts
(

517 
Di¥Ïy
* ,

518 
Wšdow
 ,

519 
XSizeHšts
*

522 
XIÁ”£ùRegiÚ
(

523 
RegiÚ
 ,

524 
RegiÚ
 ,

525 
RegiÚ


528 
XCÚv”tCa£
(

529 
KeySym
 ,

530 
KeySym
* ,

531 
KeySym
*

534 
XLookupSŒšg
(

535 
XKeyEv’t
* ,

538 
KeySym
* ,

539 
XCompo£Stus
*

542 
Stus
 
XM©chVisu®Info
(

543 
Di¥Ïy
* ,

547 
XVisu®Info
*

550 
XOff£tRegiÚ
(

551 
RegiÚ
 ,

556 
BoŞ
 
XPoštInRegiÚ
(

557 
RegiÚ
 ,

562 
RegiÚ
 
XPŞygÚRegiÚ
(

563 
XPošt
* ,

568 
XReùInRegiÚ
(

569 
RegiÚ
 ,

576 
XSaveCÚ‹xt
(

577 
Di¥Ïy
* ,

578 
XID
 ,

579 
XCÚ‹xt
 ,

580 
_XcÚ¡
 *

583 
XS‘CÏssHšt
(

584 
Di¥Ïy
* ,

585 
Wšdow
 ,

586 
XCÏssHšt
*

589 
XS‘IcÚSizes
(

590 
Di¥Ïy
* ,

591 
Wšdow
 ,

592 
XIcÚSize
* ,

596 
XS‘NÜm®Hšts
(

597 
Di¥Ïy
* ,

598 
Wšdow
 ,

599 
XSizeHšts
*

602 
XS‘RGBCŞÜm­s
(

603 
Di¥Ïy
* ,

604 
Wšdow
 ,

605 
XSnd¬dCŞÜm­
* ,

607 
Atom


610 
XS‘SizeHšts
(

611 
Di¥Ïy
* ,

612 
Wšdow
 ,

613 
XSizeHšts
* ,

614 
Atom


617 
XS‘Snd¬dPrİ”t›s
(

618 
Di¥Ïy
* ,

619 
Wšdow
 ,

620 
_XcÚ¡
 * ,

621 
_XcÚ¡
 * ,

622 
Pixm­
 ,

625 
XSizeHšts
*

628 
XS‘TextPrİ”ty
(

629 
Di¥Ïy
* ,

630 
Wšdow
 ,

631 
XTextPrİ”ty
* ,

632 
Atom


635 
XS‘WMCl›ÁMachše
(

636 
Di¥Ïy
* ,

637 
Wšdow
 ,

638 
XTextPrİ”ty
*

641 
XS‘WMHšts
(

642 
Di¥Ïy
* ,

643 
Wšdow
 ,

644 
XWMHšts
*

647 
XS‘WMIcÚName
(

648 
Di¥Ïy
* ,

649 
Wšdow
 ,

650 
XTextPrİ”ty
*

653 
XS‘WMName
(

654 
Di¥Ïy
* ,

655 
Wšdow
 ,

656 
XTextPrİ”ty
*

659 
XS‘WMNÜm®Hšts
(

660 
Di¥Ïy
* ,

661 
Wšdow
 ,

662 
XSizeHšts
*

665 
XS‘WMPrİ”t›s
(

666 
Di¥Ïy
* ,

667 
Wšdow
 ,

668 
XTextPrİ”ty
* ,

669 
XTextPrİ”ty
* ,

672 
XSizeHšts
* ,

673 
XWMHšts
* ,

674 
XCÏssHšt
*

677 
XmbS‘WMPrİ”t›s
(

678 
Di¥Ïy
* ,

679 
Wšdow
 ,

680 
_XcÚ¡
 * ,

681 
_XcÚ¡
 * ,

684 
XSizeHšts
* ,

685 
XWMHšts
* ,

686 
XCÏssHšt
*

689 
Xutf8S‘WMPrİ”t›s
(

690 
Di¥Ïy
* ,

691 
Wšdow
 ,

692 
_XcÚ¡
 * ,

693 
_XcÚ¡
 * ,

696 
XSizeHšts
* ,

697 
XWMHšts
* ,

698 
XCÏssHšt
*

701 
XS‘WMSizeHšts
(

702 
Di¥Ïy
* ,

703 
Wšdow
 ,

704 
XSizeHšts
* ,

705 
Atom


708 
XS‘RegiÚ
(

709 
Di¥Ïy
* ,

710 
GC
 ,

711 
RegiÚ


714 
XS‘Snd¬dCŞÜm­
(

715 
Di¥Ïy
* ,

716 
Wšdow
 ,

717 
XSnd¬dCŞÜm­
* ,

718 
Atom


721 
XS‘ZoomHšts
(

722 
Di¥Ïy
* ,

723 
Wšdow
 ,

724 
XSizeHšts
*

727 
XShrškRegiÚ
(

728 
RegiÚ
 ,

733 
Stus
 
XSŒšgLi¡ToTextPrİ”ty
(

736 
XTextPrİ”ty
*

739 
XSubŒaùRegiÚ
(

740 
RegiÚ
 ,

741 
RegiÚ
 ,

742 
RegiÚ


745 
XmbTextLi¡ToTextPrİ”ty
(

746 
Di¥Ïy
* 
di¥Ïy
,

747 ** 
li¡
,

748 
couÁ
,

749 
XICCEncodšgStyË
 
¡yË
,

750 
XTextPrİ”ty
* 
‹xt_´İ_»tuº


753 
XwcTextLi¡ToTextPrİ”ty
(

754 
Di¥Ïy
* 
di¥Ïy
,

755 
wch¬_t
** 
li¡
,

756 
couÁ
,

757 
XICCEncodšgStyË
 
¡yË
,

758 
XTextPrİ”ty
* 
‹xt_´İ_»tuº


761 
Xutf8TextLi¡ToTextPrİ”ty
(

762 
Di¥Ïy
* 
di¥Ïy
,

763 ** 
li¡
,

764 
couÁ
,

765 
XICCEncodšgStyË
 
¡yË
,

766 
XTextPrİ”ty
* 
‹xt_´İ_»tuº


769 
XwcF»eSŒšgLi¡
(

770 
wch¬_t
** 
li¡


773 
Stus
 
XTextPrİ”tyToSŒšgLi¡
(

774 
XTextPrİ”ty
* ,

779 
XmbTextPrİ”tyToTextLi¡
(

780 
Di¥Ïy
* 
di¥Ïy
,

781 cÚ¡ 
XTextPrİ”ty
* 
‹xt_´İ
,

782 *** 
li¡_»tuº
,

783 * 
couÁ_»tuº


786 
XwcTextPrİ”tyToTextLi¡
(

787 
Di¥Ïy
* 
di¥Ïy
,

788 cÚ¡ 
XTextPrİ”ty
* 
‹xt_´İ
,

789 
wch¬_t
*** 
li¡_»tuº
,

790 * 
couÁ_»tuº


793 
Xutf8TextPrİ”tyToTextLi¡
(

794 
Di¥Ïy
* 
di¥Ïy
,

795 cÚ¡ 
XTextPrİ”ty
* 
‹xt_´İ
,

796 *** 
li¡_»tuº
,

797 * 
couÁ_»tuº


800 
XUniÚReùW™hRegiÚ
(

801 
XReùªgË
* ,

802 
RegiÚ
 ,

803 
RegiÚ


806 
XUniÚRegiÚ
(

807 
RegiÚ
 ,

808 
RegiÚ
 ,

809 
RegiÚ


812 
XWMGeom‘ry
(

813 
Di¥Ïy
* ,

815 
_XcÚ¡
 * ,

816 
_XcÚ¡
 * ,

818 
XSizeHšts
* ,

826 
XXÜRegiÚ
(

827 
RegiÚ
 ,

828 
RegiÚ
 ,

829 
RegiÚ


832 #ifdeà
__şªg__


833 #´agm¨
şªg
 
dŸgno¡ic
 
pİ


836 
	g_XFUNCPROTOEND


	@/usr/include/X11/extensions/XShm.h

29 #iâdeà
_XSHM_H_


30 
	#_XSHM_H_


	)

32 
	~<X11/XfunırÙo.h
>

33 
	~<X11/ex‹nsiÚs/shm.h
>

35 #iâdeà
_XSHM_SERVER_


36 
	tShmSeg
;

39 
	mty³
;

40 
	m£rŸl
;

41 
BoŞ
 
	m£nd_ev’t
;

42 
Di¥Ïy
 *
	mdi¥Ïy
;

43 
D¿wabË
 
	md¿wabË
;

44 
	mmajÜ_code
;

45 
	mmšÜ_code
;

46 
ShmSeg
 
	mshm£g
;

47 
	moff£t
;

48 } 
	tXShmCom¶‘iÚEv’t
;

51 
ShmSeg
 
	mshm£g
;

52 
	mshmid
;

53 *
	mshmaddr
;

54 
BoŞ
 
	m»adOÆy
;

55 } 
	tXShmSegm’tInfo
;

57 
_XFUNCPROTOBEGIN


59 
BoŞ
 
XShmQu”yEx‹nsiÚ
(

60 
Di¥Ïy
*

63 
XShmG‘Ev’tBa£
(

64 
Di¥Ïy
*

67 
BoŞ
 
XShmQu”yV”siÚ
(

68 
Di¥Ïy
* ,

71 
BoŞ
*

74 
XShmPixm­FÜm©
(

75 
Di¥Ïy
*

78 
BoŞ
 
XShmA‰ach
(

79 
Di¥Ïy
* ,

80 
XShmSegm’tInfo
*

83 
BoŞ
 
XShmD‘ach
(

84 
Di¥Ïy
* ,

85 
XShmSegm’tInfo
*

88 
BoŞ
 
XShmPutImage
(

89 
Di¥Ïy
* ,

90 
D¿wabË
 ,

91 
GC
 ,

92 
XImage
* ,

99 
BoŞ


102 
BoŞ
 
XShmG‘Image
(

103 
Di¥Ïy
* ,

104 
D¿wabË
 ,

105 
XImage
* ,

111 
XImage
 *
XShmC»©eImage
(

112 
Di¥Ïy
* ,

113 
Visu®
* ,

117 
XShmSegm’tInfo
* ,

122 
Pixm­
 
XShmC»©ePixm­
(

123 
Di¥Ïy
* ,

124 
D¿wabË
 ,

126 
XShmSegm’tInfo
* ,

132 
	g_XFUNCPROTOEND


	@/usr/include/X11/extensions/Xrandr.h

29 #iâdeà
_XRANDR_H_


30 
	#_XRANDR_H_


	)

32 
	~<X11/ex‹nsiÚs/¿ndr.h
>

33 
	~<X11/ex‹nsiÚs/X»nd”.h
>

35 
	~<X11/XfunırÙo.h
>

37 
_XFUNCPROTOBEGIN


39 
XID
 
	tRROuut
;

40 
XID
 
	tRRC¹c
;

41 
XID
 
	tRRMode
;

42 
XID
 
	tRRProvid”
;

45 
	mwidth
, 
	mheight
;

46 
	mmwidth
, 
	mmheight
;

47 } 
	tXRRSü“nSize
;

54 
	mty³
;

55 
	m£rŸl
;

56 
BoŞ
 
	m£nd_ev’t
;

57 
Di¥Ïy
 *
	mdi¥Ïy
;

58 
Wšdow
 
	mwšdow
;

59 
Wšdow
 
	mroÙ
;

60 
Time
 
	mtime¡amp
;

61 
Time
 
	mcÚfig_time¡amp
;

62 
SizeID
 
	msize_šdex
;

63 
Subpix–Ord”
 
	msubpix–_Üd”
;

64 
RÙ©iÚ
 
	mrÙ©iÚ
;

65 
	mwidth
;

66 
	mheight
;

67 
	mmwidth
;

68 
	mmheight
;

69 } 
	tXRRSü“nChªgeNÙifyEv’t
;

72 
	mty³
;

73 
	m£rŸl
;

74 
BoŞ
 
	m£nd_ev’t
;

75 
Di¥Ïy
 *
	mdi¥Ïy
;

76 
Wšdow
 
	mwšdow
;

77 
	msubty³
;

78 } 
	tXRRNÙifyEv’t
;

81 
	mty³
;

82 
	m£rŸl
;

83 
BoŞ
 
	m£nd_ev’t
;

84 
Di¥Ïy
 *
	mdi¥Ïy
;

85 
Wšdow
 
	mwšdow
;

86 
	msubty³
;

87 
RROuut
 
	mouut
;

88 
RRC¹c
 
	mütc
;

89 
RRMode
 
	mmode
;

90 
RÙ©iÚ
 
	mrÙ©iÚ
;

91 
CÚÃùiÚ
 
	mcÚÃùiÚ
;

92 
Subpix–Ord”
 
	msubpix–_Üd”
;

93 } 
	tXRROuutChªgeNÙifyEv’t
;

96 
	mty³
;

97 
	m£rŸl
;

98 
BoŞ
 
	m£nd_ev’t
;

99 
Di¥Ïy
 *
	mdi¥Ïy
;

100 
Wšdow
 
	mwšdow
;

101 
	msubty³
;

102 
RRC¹c
 
	mütc
;

103 
RRMode
 
	mmode
;

104 
RÙ©iÚ
 
	mrÙ©iÚ
;

105 
	mx
, 
	my
;

106 
	mwidth
, 
	mheight
;

107 } 
	tXRRC¹cChªgeNÙifyEv’t
;

110 
	mty³
;

111 
	m£rŸl
;

112 
BoŞ
 
	m£nd_ev’t
;

113 
Di¥Ïy
 *
	mdi¥Ïy
;

114 
Wšdow
 
	mwšdow
;

115 
	msubty³
;

116 
RROuut
 
	mouut
;

117 
Atom
 
	m´İ”ty
;

118 
Time
 
	mtime¡amp
;

119 
	m¡©e
;

120 } 
	tXRROuutPrİ”tyNÙifyEv’t
;

123 
	mty³
;

124 
	m£rŸl
;

125 
BoŞ
 
	m£nd_ev’t
;

126 
Di¥Ïy
 *
	mdi¥Ïy
;

127 
Wšdow
 
	mwšdow
;

128 
	msubty³
;

129 
RRProvid”
 
	m´ovid”
;

130 
Time
 
	mtime¡amp
;

131 
	mcu¼’t_rŞe
;

132 } 
	tXRRProvid”ChªgeNÙifyEv’t
;

135 
	mty³
;

136 
	m£rŸl
;

137 
BoŞ
 
	m£nd_ev’t
;

138 
Di¥Ïy
 *
	mdi¥Ïy
;

139 
Wšdow
 
	mwšdow
;

140 
	msubty³
;

141 
RRProvid”
 
	m´ovid”
;

142 
Atom
 
	m´İ”ty
;

143 
Time
 
	mtime¡amp
;

144 
	m¡©e
;

145 } 
	tXRRProvid”Prİ”tyNÙifyEv’t
;

148 
	mty³
;

149 
	m£rŸl
;

150 
BoŞ
 
	m£nd_ev’t
;

151 
Di¥Ïy
 *
	mdi¥Ïy
;

152 
Wšdow
 
	mwšdow
;

153 
	msubty³
;

154 
Time
 
	mtime¡amp
;

155 } 
	tXRRResourûChªgeNÙifyEv’t
;

158 
_XRRSü“nCÚfigu¿tiÚ
 
	tXRRSü“nCÚfigu¿tiÚ
;

160 
BoŞ
 
XRRQu”yEx‹nsiÚ
 (
Di¥Ïy
 *
dpy
,

161 *
ev’t_ba£_»tuº
,

162 *
”rÜ_ba£_»tuº
);

163 
Stus
 
XRRQu”yV”siÚ
 (
Di¥Ïy
 *
dpy
,

164 *
majÜ_v”siÚ_»tuº
,

165 *
mšÜ_v”siÚ_»tuº
);

167 
XRRSü“nCÚfigu¿tiÚ
 *
XRRG‘Sü“nInfo
 (
Di¥Ïy
 *
dpy
,

168 
Wšdow
 
wšdow
);

170 
XRRF»eSü“nCÚfigInfo
 (
XRRSü“nCÚfigu¿tiÚ
 *
cÚfig
);

179 
Stus
 
XRRS‘Sü“nCÚfig
 (
Di¥Ïy
 *
dpy
,

180 
XRRSü“nCÚfigu¿tiÚ
 *
cÚfig
,

181 
D¿wabË
 
d¿w
,

182 
size_šdex
,

183 
RÙ©iÚ
 
rÙ©iÚ
,

184 
Time
 
time¡amp
);

187 
Stus
 
XRRS‘Sü“nCÚfigAndR©e
 (
Di¥Ïy
 *
dpy
,

188 
XRRSü“nCÚfigu¿tiÚ
 *
cÚfig
,

189 
D¿wabË
 
d¿w
,

190 
size_šdex
,

191 
RÙ©iÚ
 
rÙ©iÚ
,

192 
¿‹
,

193 
Time
 
time¡amp
);

196 
RÙ©iÚ
 
XRRCÚfigRÙ©iÚs
(
XRRSü“nCÚfigu¿tiÚ
 *
cÚfig
, RÙ©iÚ *
cu¼’t_rÙ©iÚ
);

198 
Time
 
XRRCÚfigTimes
 (
XRRSü“nCÚfigu¿tiÚ
 *
cÚfig
, Tim*
cÚfig_time¡amp
);

200 
XRRSü“nSize
 *
XRRCÚfigSizes
(
XRRSü“nCÚfigu¿tiÚ
 *
cÚfig
, *
nsizes
);

202 *
XRRCÚfigR©es
 (
XRRSü“nCÚfigu¿tiÚ
 *
cÚfig
, 
sizeID
, *
Ä©es
);

204 
SizeID
 
XRRCÚfigCu¼’tCÚfigu¿tiÚ
 (
XRRSü“nCÚfigu¿tiÚ
 *
cÚfig
,

205 
RÙ©iÚ
 *
rÙ©iÚ
);

207 
XRRCÚfigCu¼’tR©e
 (
XRRSü“nCÚfigu¿tiÚ
 *
cÚfig
);

209 
XRRRoÙToSü“n
(
Di¥Ïy
 *
dpy
, 
Wšdow
 
roÙ
);

220 
XRRS–eùIÅut
(
Di¥Ïy
 *
dpy
, 
Wšdow
 
wšdow
, 
mask
);

228 
RÙ©iÚ
 
XRRRÙ©iÚs
(
Di¥Ïy
 *
dpy
, 
sü“n
, RÙ©iÚ *
cu¼’t_rÙ©iÚ
);

229 
XRRSü“nSize
 *
XRRSizes
(
Di¥Ïy
 *
dpy
, 
sü“n
, *
nsizes
);

230 *
XRRR©es
 (
Di¥Ïy
 *
dpy
, 
sü“n
, 
sizeID
, *
Ä©es
);

231 
Time
 
XRRTimes
 (
Di¥Ïy
 *
dpy
, 
sü“n
, Tim*
cÚfig_time¡amp
);

237 
Stus


238 
XRRG‘Sü“nSizeRªge
 (
Di¥Ïy
 *
dpy
, 
Wšdow
 
wšdow
,

239 *
mšWidth
, *
mšHeight
,

240 *
maxWidth
, *
maxHeight
);

243 
XRRS‘Sü“nSize
 (
Di¥Ïy
 *
dpy
, 
Wšdow
 
wšdow
,

244 
width
, 
height
,

245 
mmWidth
, 
mmHeight
);

247 
	tXRRModeFÏgs
;

249 
	s_XRRModeInfo
 {

250 
RRMode
 
	mid
;

251 
	mwidth
;

252 
	mheight
;

253 
	mdÙClock
;

254 
	mhSyncS¹
;

255 
	mhSyncEnd
;

256 
	mhTÙ®
;

257 
	mhSkew
;

258 
	mvSyncS¹
;

259 
	mvSyncEnd
;

260 
	mvTÙ®
;

261 *
	mÇme
;

262 
	mÇmeL’gth
;

263 
XRRModeFÏgs
 
	mmodeFÏgs
;

264 } 
	tXRRModeInfo
;

266 
	s_XRRSü“nResourûs
 {

267 
Time
 
	mtime¡amp
;

268 
Time
 
	mcÚfigTime¡amp
;

269 
	mnütc
;

270 
RRC¹c
 *
	mütcs
;

271 
	mnouut
;

272 
RROuut
 *
	mouuts
;

273 
	mnmode
;

274 
XRRModeInfo
 *
	mmodes
;

275 } 
	tXRRSü“nResourûs
;

277 
XRRSü“nResourûs
 *

278 
XRRG‘Sü“nResourûs
 (
Di¥Ïy
 *
dpy
, 
Wšdow
 
wšdow
);

281 
XRRF»eSü“nResourûs
 (
XRRSü“nResourûs
 *
»sourûs
);

283 
	s_XRROuutInfo
 {

284 
Time
 
	mtime¡amp
;

285 
RRC¹c
 
	mütc
;

286 *
	mÇme
;

287 
	mÇmeL’
;

288 
	mmm_width
;

289 
	mmm_height
;

290 
CÚÃùiÚ
 
	mcÚÃùiÚ
;

291 
Subpix–Ord”
 
	msubpix–_Üd”
;

292 
	mnütc
;

293 
RRC¹c
 *
	mütcs
;

294 
	mnşÚe
;

295 
RROuut
 *
	mşÚes
;

296 
	mnmode
;

297 
	mÅ»ã¼ed
;

298 
RRMode
 *
	mmodes
;

299 } 
	tXRROuutInfo
;

301 
XRROuutInfo
 *

302 
XRRG‘OuutInfo
 (
Di¥Ïy
 *
dpy
, 
XRRSü“nResourûs
 *
»sourûs
, 
RROuut
 
ouut
);

305 
XRRF»eOuutInfo
 (
XRROuutInfo
 *
ouutInfo
);

307 
Atom
 *

308 
XRRLi¡OuutPrİ”t›s
 (
Di¥Ïy
 *
dpy
, 
RROuut
 
ouut
, *
Årİ
);

311 
BoŞ
 
	m³ndšg
;

312 
BoŞ
 
	m¿nge
;

313 
BoŞ
 
	mimmubË
;

314 
	mnum_v®ues
;

315 *
	mv®ues
;

316 } 
	tXRRPrİ”tyInfo
;

318 
XRRPrİ”tyInfo
 *

319 
XRRQu”yOuutPrİ”ty
 (
Di¥Ïy
 *
dpy
, 
RROuut
 
ouut
, 
Atom
 
´İ”ty
);

322 
XRRCÚfigu»OuutPrİ”ty
 (
Di¥Ïy
 *
dpy
, 
RROuut
 
ouut
, 
Atom
 
´İ”ty
,

323 
BoŞ
 
³ndšg
, BoŞ 
¿nge
, 
num_v®ues
,

324 *
v®ues
);

327 
XRRChªgeOuutPrİ”ty
 (
Di¥Ïy
 *
dpy
, 
RROuut
 
ouut
,

328 
Atom
 
´İ”ty
, Atom 
ty³
,

329 
fÜm©
, 
mode
,

330 
_XcÚ¡
 *
d©a
, 
ÃËm’ts
);

333 
XRRD–‘eOuutPrİ”ty
 (
Di¥Ïy
 *
dpy
, 
RROuut
 
ouut
, 
Atom
 
´İ”ty
);

336 
XRRG‘OuutPrİ”ty
 (
Di¥Ïy
 *
dpy
, 
RROuut
 
ouut
,

337 
Atom
 
´İ”ty
, 
off£t
, 
Ëngth
,

338 
BoŞ
 
_d–‘e
, BoŞ 
³ndšg
, 
Atom
 
»q_ty³
,

339 
Atom
 *
aùu®_ty³
, *
aùu®_fÜm©
,

340 *
n™ems
, *
by‹s_aá”
,

341 **
´İ
);

343 
XRRModeInfo
 *

344 
XRRAÎocModeInfo
 (
_XcÚ¡
 *
Çme
, 
ÇmeL’gth
);

346 
RRMode


347 
XRRC»©eMode
 (
Di¥Ïy
 *
dpy
, 
Wšdow
 
wšdow
, 
XRRModeInfo
 *
modeInfo
);

350 
XRRDe¡royMode
 (
Di¥Ïy
 *
dpy
, 
RRMode
 
mode
);

353 
XRRAddOuutMode
 (
Di¥Ïy
 *
dpy
, 
RROuut
 
ouut
, 
RRMode
 
mode
);

356 
XRRD–‘eOuutMode
 (
Di¥Ïy
 *
dpy
, 
RROuut
 
ouut
, 
RRMode
 
mode
);

359 
XRRF»eModeInfo
 (
XRRModeInfo
 *
modeInfo
);

361 
	s_XRRC¹cInfo
 {

362 
Time
 
	mtime¡amp
;

363 
	mx
, 
	my
;

364 
	mwidth
, 
	mheight
;

365 
RRMode
 
	mmode
;

366 
RÙ©iÚ
 
	mrÙ©iÚ
;

367 
	mnouut
;

368 
RROuut
 *
	mouuts
;

369 
RÙ©iÚ
 
	mrÙ©iÚs
;

370 
	mÅossibË
;

371 
RROuut
 *
	mpossibË
;

372 } 
	tXRRC¹cInfo
;

374 
XRRC¹cInfo
 *

375 
XRRG‘C¹cInfo
 (
Di¥Ïy
 *
dpy
, 
XRRSü“nResourûs
 *
»sourûs
, 
RRC¹c
 
ütc
);

378 
XRRF»eC¹cInfo
 (
XRRC¹cInfo
 *
ütcInfo
);

380 
Stus


381 
XRRS‘C¹cCÚfig
 (
Di¥Ïy
 *
dpy
,

382 
XRRSü“nResourûs
 *
»sourûs
,

383 
RRC¹c
 
ütc
,

384 
Time
 
time¡amp
,

385 
x
, 
y
,

386 
RRMode
 
mode
,

387 
RÙ©iÚ
 
rÙ©iÚ
,

388 
RROuut
 *
ouuts
,

389 
nouuts
);

392 
XRRG‘C¹cGammaSize
 (
Di¥Ïy
 *
dpy
, 
RRC¹c
 
ütc
);

394 
	s_XRRC¹cGamma
 {

395 
	msize
;

396 *
	m»d
;

397 *
	mg»’
;

398 *
	mblue
;

399 } 
	tXRRC¹cGamma
;

401 
XRRC¹cGamma
 *

402 
XRRG‘C¹cGamma
 (
Di¥Ïy
 *
dpy
, 
RRC¹c
 
ütc
);

404 
XRRC¹cGamma
 *

405 
XRRAÎocGamma
 (
size
);

408 
XRRS‘C¹cGamma
 (
Di¥Ïy
 *
dpy
, 
RRC¹c
 
ütc
, 
XRRC¹cGamma
 *
gamma
);

411 
XRRF»eGamma
 (
XRRC¹cGamma
 *
gamma
);

415 
XRRSü“nResourûs
 *

416 
XRRG‘Sü“nResourûsCu¼’t
 (
Di¥Ïy
 *
dpy
, 
Wšdow
 
wšdow
);

419 
XRRS‘C¹cT¿nsfÜm
 (
Di¥Ïy
 *
dpy
,

420 
RRC¹c
 
ütc
,

421 
XT¿nsfÜm
 *
ŒªsfÜm
,

422 
_XcÚ¡
 *
f‹r
,

423 
XFixed
 *
·¿ms
,

424 
Å¬ams
);

426 
	s_XRRC¹cT¿nsfÜmA‰ribu‹s
 {

427 
XT¿nsfÜm
 
	m³ndšgT¿nsfÜm
;

428 *
	m³ndšgF‹r
;

429 
	m³ndšgN·¿ms
;

430 
XFixed
 *
	m³ndšgP¬ams
;

431 
XT¿nsfÜm
 
	mcu¼’tT¿nsfÜm
;

432 *
	mcu¼’tF‹r
;

433 
	mcu¼’tN·¿ms
;

434 
XFixed
 *
	mcu¼’tP¬ams
;

435 } 
	tXRRC¹cT¿nsfÜmA‰ribu‹s
;

441 
Stus


442 
XRRG‘C¹cT¿nsfÜm
 (
Di¥Ïy
 *
dpy
,

443 
RRC¹c
 
ütc
,

444 
XRRC¹cT¿nsfÜmA‰ribu‹s
 **
©Œibu‹s
);

451 
XRRUpd©eCÚfigu¿tiÚ
(
XEv’t
 *
ev’t
);

453 
	s_XRRPªnšg
 {

454 
Time
 
	mtime¡amp
;

455 
	mËá
;

456 
	mtİ
;

457 
	mwidth
;

458 
	mheight
;

459 
	mŒack_Ëá
;

460 
	mŒack_tİ
;

461 
	mŒack_width
;

462 
	mŒack_height
;

463 
	mbÜd”_Ëá
;

464 
	mbÜd”_tİ
;

465 
	mbÜd”_right
;

466 
	mbÜd”_bÙtom
;

467 } 
	tXRRPªnšg
;

469 
XRRPªnšg
 *

470 
XRRG‘Pªnšg
 (
Di¥Ïy
 *
dpy
, 
XRRSü“nResourûs
 *
»sourûs
, 
RRC¹c
 
ütc
);

473 
XRRF»ePªnšg
 (
XRRPªnšg
 *
·Âšg
);

475 
Stus


476 
XRRS‘Pªnšg
 (
Di¥Ïy
 *
dpy
,

477 
XRRSü“nResourûs
 *
»sourûs
,

478 
RRC¹c
 
ütc
,

479 
XRRPªnšg
 *
·Âšg
);

482 
XRRS‘OuutPrim¬y
(
Di¥Ïy
 *
dpy
,

483 
Wšdow
 
wšdow
,

484 
RROuut
 
ouut
);

486 
RROuut


487 
XRRG‘OuutPrim¬y
(
Di¥Ïy
 *
dpy
,

488 
Wšdow
 
wšdow
);

490 
	s_XRRProvid”Resourûs
 {

491 
Time
 
	mtime¡amp
;

492 
	mÅrovid”s
;

493 
RRProvid”
 *
	m´ovid”s
;

494 } 
	tXRRProvid”Resourûs
;

496 
XRRProvid”Resourûs
 *

497 
XRRG‘Provid”Resourûs
(
Di¥Ïy
 *
dpy
, 
Wšdow
 
wšdow
);

500 
XRRF»eProvid”Resourûs
(
XRRProvid”Resourûs
 *
»sourûs
);

502 
	s_XRRProvid”Info
 {

503 
	mÿ·b™›s
;

504 
	mnütcs
;

505 
RRC¹c
 *
	mütcs
;

506 
	mnouuts
;

507 
RROuut
 *
	mouuts
;

508 *
	mÇme
;

509 
	mÇssocŸ‹d´ovid”s
;

510 
RRProvid”
 *
	massocŸ‹d_´ovid”s
;

511 *
	massocŸ‹d_ÿ·b™y
;

512 
	mÇmeL’
;

513 } 
	tXRRProvid”Info
;

515 
XRRProvid”Info
 *

516 
XRRG‘Provid”Info
(
Di¥Ïy
 *
dpy
, 
XRRSü“nResourûs
 *
»sourûs
, 
RRProvid”
 
´ovid”
);

519 
XRRF»eProvid”Info
(
XRRProvid”Info
 *
´ovid”
);

522 
XRRS‘Provid”OuutSourû
(
Di¥Ïy
 *
dpy
, 
XID
 
´ovid”
, XID 
sourû_´ovid”
);

525 
XRRS‘Provid”OfæßdSšk
(
Di¥Ïy
 *
dpy
, 
XID
 
´ovid”
, XID 
sšk_´ovid”
);

527 
Atom
 *

528 
XRRLi¡Provid”Prİ”t›s
 (
Di¥Ïy
 *
dpy
, 
RRProvid”
 
´ovid”
, *
Årİ
);

530 
XRRPrİ”tyInfo
 *

531 
XRRQu”yProvid”Prİ”ty
 (
Di¥Ïy
 *
dpy
, 
RRProvid”
 
´ovid”
, 
Atom
 
´İ”ty
);

534 
XRRCÚfigu»Provid”Prİ”ty
 (
Di¥Ïy
 *
dpy
, 
RRProvid”
 
´ovid”
, 
Atom
 
´İ”ty
,

535 
BoŞ
 
³ndšg
, BoŞ 
¿nge
, 
num_v®ues
,

536 *
v®ues
);

539 
XRRChªgeProvid”Prİ”ty
 (
Di¥Ïy
 *
dpy
, 
RRProvid”
 
´ovid”
,

540 
Atom
 
´İ”ty
, Atom 
ty³
,

541 
fÜm©
, 
mode
,

542 
_XcÚ¡
 *
d©a
, 
ÃËm’ts
);

545 
XRRD–‘eProvid”Prİ”ty
 (
Di¥Ïy
 *
dpy
, 
RRProvid”
 
´ovid”
, 
Atom
 
´İ”ty
);

548 
XRRG‘Provid”Prİ”ty
 (
Di¥Ïy
 *
dpy
, 
RRProvid”
 
´ovid”
,

549 
Atom
 
´İ”ty
, 
off£t
, 
Ëngth
,

550 
BoŞ
 
_d–‘e
, BoŞ 
³ndšg
, 
Atom
 
»q_ty³
,

551 
Atom
 *
aùu®_ty³
, *
aùu®_fÜm©
,

552 *
n™ems
, *
by‹s_aá”
,

553 **
´İ
);

556 
	s_XRRMÚ™ÜInfo
 {

557 
Atom
 
	mÇme
;

558 
BoŞ
 
	m´im¬y
;

559 
BoŞ
 
	mautom©ic
;

560 
	mnouut
;

561 
	mx
;

562 
	my
;

563 
	mwidth
;

564 
	mheight
;

565 
	mmwidth
;

566 
	mmheight
;

567 
RROuut
 *
	mouuts
;

568 } 
	tXRRMÚ™ÜInfo
;

570 
XRRMÚ™ÜInfo
 *

571 
XRRAÎoÿ‹MÚ™Ü
(
Di¥Ïy
 *
dpy
, 
nouut
);

573 
XRRMÚ™ÜInfo
 *

574 
XRRG‘MÚ™Üs
(
Di¥Ïy
 *
dpy
, 
Wšdow
 
wšdow
, 
BoŞ
 
g‘_aùive
, *
nmÚ™Üs
);

577 
XRRS‘MÚ™Ü
(
Di¥Ïy
 *
dpy
, 
Wšdow
 
wšdow
, 
XRRMÚ™ÜInfo
 *
mÚ™Ü
);

580 
XRRD–‘eMÚ™Ü
(
Di¥Ïy
 *
dpy
, 
Wšdow
 
wšdow
, 
Atom
 
Çme
);

583 
XRRF»eMÚ™Üs
(
XRRMÚ™ÜInfo
 *
mÚ™Üs
);

585 
	g_XFUNCPROTOEND


	@/usr/include/X11/keysym.h

49 
	#XK_MISCELLANY


	)

50 
	#XK_XKB_KEYS


	)

51 
	#XK_LATIN1


	)

52 
	#XK_LATIN2


	)

53 
	#XK_LATIN3


	)

54 
	#XK_LATIN4


	)

55 
	#XK_LATIN8


	)

56 
	#XK_LATIN9


	)

57 
	#XK_CAUCASUS


	)

58 
	#XK_GREEK


	)

59 
	#XK_KATAKANA


	)

60 
	#XK_ARABIC


	)

61 
	#XK_CYRILLIC


	)

62 
	#XK_HEBREW


	)

63 
	#XK_THAI


	)

64 
	#XK_KOREAN


	)

65 
	#XK_ARMENIAN


	)

66 
	#XK_GEORGIAN


	)

67 
	#XK_VIETNAMESE


	)

68 
	#XK_CURRENCY


	)

69 
	#XK_MATHEMATICAL


	)

70 
	#XK_BRAILLE


	)

71 
	#XK_SINHALA


	)

73 
	~<X11/keysymdef.h
>

	@/usr/include/dirent.h

22 #iâdef 
_DIRENT_H


23 
	#_DIRENT_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


29 
	~<b™s/ty³s.h
>

31 #ifdeà
__USE_XOPEN


32 #iâdeà
__šo_t_defšed


33 #iâdeà
__USE_FILE_OFFSET64


34 
__šo_t
 
	tšo_t
;

36 
__šo64_t
 
	tšo_t
;

38 
	#__šo_t_defšed


	)

40 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__šo64_t_defšed


41 
__šo64_t
 
	tšo64_t
;

42 
	#__šo64_t_defšed


	)

61 
	~<b™s/dœ’t.h
>

63 #ià
defšed
 
__USE_MISC
 && !defšed 
d_f’o


64 
	#d_šo
 
d_f’o


	)

81 #ifdeà
_DIRENT_HAVE_D_NAMLEN


82 
	#_D_EXACT_NAMLEN
(
d
è((d)->
d_ÇmËn
)

	)

83 
	#_D_ALLOC_NAMLEN
(
d
è(
	`_D_EXACT_NAMLEN
 (dè+ 1)

	)

85 
	#_D_EXACT_NAMLEN
(
d
è(
	`¡¾’
 ((d)->
d_Çme
))

	)

86 #ifdeà
_DIRENT_HAVE_D_RECLEN


87 
	#_D_ALLOC_NAMLEN
(
d
è(((*è(dè+ (d)->
d_»ş’
è- &(d)->
d_Çme
[0])

	)

89 
	#_D_ALLOC_NAMLEN
(
d
è( (d)->
d_Çme
 > 1 ?  (d)->d_name \

90 : 
	`_D_EXACT_NAMLEN
 (
d
è+ 1)

	)

95 #ifdeà
__USE_MISC


99 
	mDT_UNKNOWN
 = 0,

100 
	#DT_UNKNOWN
 
DT_UNKNOWN


	)

101 
	mDT_FIFO
 = 1,

102 
	#DT_FIFO
 
DT_FIFO


	)

103 
	mDT_CHR
 = 2,

104 
	#DT_CHR
 
DT_CHR


	)

105 
	mDT_DIR
 = 4,

106 
	#DT_DIR
 
DT_DIR


	)

107 
	mDT_BLK
 = 6,

108 
	#DT_BLK
 
DT_BLK


	)

109 
	mDT_REG
 = 8,

110 
	#DT_REG
 
DT_REG


	)

111 
	mDT_LNK
 = 10,

112 
	#DT_LNK
 
DT_LNK


	)

113 
	mDT_SOCK
 = 12,

114 
	#DT_SOCK
 
DT_SOCK


	)

115 
	mDT_WHT
 = 14

116 
	#DT_WHT
 
DT_WHT


	)

120 
	#IFTODT
(
mode
è(((modeè& 0170000è>> 12)

	)

121 
	#DTTOIF
(
dœty³
è((dœty³è<< 12)

	)

127 
__dœ¡»am
 
	tDIR
;

134 
DIR
 *
	$İ’dœ
 (cÚ¡ *
__Çme
è
	`__nÚnuÎ
 ((1));

136 #ifdeà
__USE_XOPEN2K8


141 
DIR
 *
	`fdİ’dœ
 (
__fd
);

149 
	$şo£dœ
 (
DIR
 *
__dœp
è
	`__nÚnuÎ
 ((1));

161 #iâdeà
__USE_FILE_OFFSET64


162 
dœ’t
 *
	$»addœ
 (
DIR
 *
__dœp
è
	`__nÚnuÎ
 ((1));

164 #ifdeà
__REDIRECT


165 
dœ’t
 *
	`__REDIRECT
 (
»addœ
, (
DIR
 *
__dœp
), 
»addœ64
)

166 
	`__nÚnuÎ
 ((1));

168 
	#»addœ
 
»addœ64


	)

172 #ifdeà
__USE_LARGEFILE64


173 
dœ’t64
 *
	$»addœ64
 (
DIR
 *
__dœp
è
	`__nÚnuÎ
 ((1));

176 #ifdeà
__USE_POSIX


182 #iâdeà
__USE_FILE_OFFSET64


183 
	$»addœ_r
 (
DIR
 *
__»¡riù
 
__dœp
,

184 
dœ’t
 *
__»¡riù
 
__’Œy
,

185 
dœ’t
 **
__»¡riù
 
__»suÉ
)

186 
	`__nÚnuÎ
 ((1, 2, 3)è
__©Œibu‹_d•»ÿ‹d__
;

188 #ifdeà
__REDIRECT


189 
	`__REDIRECT
 (
»addœ_r
,

190 (
DIR
 *
__»¡riù
 
__dœp
,

191 
dœ’t
 *
__»¡riù
 
__’Œy
,

192 
dœ’t
 **
__»¡riù
 
__»suÉ
),

193 
»addœ64_r
)

194 
	`__nÚnuÎ
 ((1, 2, 3)è
__©Œibu‹_d•»ÿ‹d__
;

196 
	#»addœ_r
 
»addœ64_r


	)

200 #ifdeà
__USE_LARGEFILE64


201 
	$»addœ64_r
 (
DIR
 *
__»¡riù
 
__dœp
,

202 
dœ’t64
 *
__»¡riù
 
__’Œy
,

203 
dœ’t64
 **
__»¡riù
 
__»suÉ
)

204 
	`__nÚnuÎ
 ((1, 2, 3)è
__©Œibu‹_d•»ÿ‹d__
;

209 
	$»wšddœ
 (
DIR
 *
__dœp
è
__THROW
 
	`__nÚnuÎ
 ((1));

211 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


212 
	~<b™s/ty³s.h
>

215 
	$£ekdœ
 (
DIR
 *
__dœp
, 
__pos
è
__THROW
 
	`__nÚnuÎ
 ((1));

218 
	$‹Îdœ
 (
DIR
 *
__dœp
è
__THROW
 
	`__nÚnuÎ
 ((1));

221 #ifdeà
__USE_XOPEN2K8


224 
	$dœfd
 (
DIR
 *
__dœp
è
__THROW
 
	`__nÚnuÎ
 ((1));

226 #ià
defšed
 
__OPTIMIZE__
 && defšed 
_DIR_dœfd


227 
	#dœfd
(
dœp
è
	`_DIR_dœfd
 (dœp)

	)

230 #ifdeà
__USE_MISC


231 #iâdeà
MAXNAMLEN


233 
	~<b™s/posix1_lim.h
>

236 #ifdeà
NAME_MAX


237 
	#MAXNAMLEN
 
NAME_MAX


	)

239 
	#MAXNAMLEN
 255

	)

244 
	#__Ãed_size_t


	)

245 
	~<¡ddef.h
>

254 #iâdeà
__USE_FILE_OFFSET64


255 
	$sÿndœ
 (cÚ¡ *
__»¡riù
 
__dœ
,

256 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

257 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

258 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

259 cÚ¡ 
dœ’t
 **))

260 
	`__nÚnuÎ
 ((1, 2));

262 #ifdeà
__REDIRECT


263 
	`__REDIRECT
 (
sÿndœ
,

264 (cÚ¡ *
__»¡riù
 
__dœ
,

265 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

266 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

267 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

268 cÚ¡ 
dœ’t
 **)),

269 
sÿndœ64
è
	`__nÚnuÎ
 ((1, 2));

271 
	#sÿndœ
 
sÿndœ64


	)

275 #ià
defšed
 
__USE_GNU
 && defšed 
__USE_LARGEFILE64


278 
	$sÿndœ64
 (cÚ¡ *
__»¡riù
 
__dœ
,

279 
dœ’t64
 ***
__»¡riù
 
__Çm–i¡
,

280 (*
__£ËùÜ
è(cÚ¡ 
dœ’t64
 *),

281 (*
__cmp
è(cÚ¡ 
dœ’t64
 **,

282 cÚ¡ 
dœ’t64
 **))

283 
	`__nÚnuÎ
 ((1, 2));

286 #ifdeà
__USE_GNU


292 #iâdeà
__USE_FILE_OFFSET64


293 
	$sÿndœ©
 (
__dfd
, cÚ¡ *
__»¡riù
 
__dœ
,

294 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

295 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

296 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

297 cÚ¡ 
dœ’t
 **))

298 
	`__nÚnuÎ
 ((2, 3));

300 #ifdeà
__REDIRECT


301 
	`__REDIRECT
 (
sÿndœ©
,

302 (
__dfd
, cÚ¡ *
__»¡riù
 
__dœ
,

303 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

304 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

305 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

306 cÚ¡ 
dœ’t
 **)),

307 
sÿndœ©64
è
	`__nÚnuÎ
 ((2, 3));

309 
	#sÿndœ©
 
sÿndœ©64


	)

315 
	$sÿndœ©64
 (
__dfd
, cÚ¡ *
__»¡riù
 
__dœ
,

316 
dœ’t64
 ***
__»¡riù
 
__Çm–i¡
,

317 (*
__£ËùÜ
è(cÚ¡ 
dœ’t64
 *),

318 (*
__cmp
è(cÚ¡ 
dœ’t64
 **,

319 cÚ¡ 
dœ’t64
 **))

320 
	`__nÚnuÎ
 ((2, 3));

324 #iâdeà
__USE_FILE_OFFSET64


325 
	$®phasÜt
 (cÚ¡ 
dœ’t
 **
__e1
,

326 cÚ¡ 
dœ’t
 **
__e2
)

327 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

329 #ifdeà
__REDIRECT


330 
	`__REDIRECT_NTH
 (
®phasÜt
,

331 (cÚ¡ 
dœ’t
 **
__e1
,

332 cÚ¡ 
dœ’t
 **
__e2
),

333 
®phasÜt64
è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

335 
	#®phasÜt
 
®phasÜt64


	)

339 #ià
defšed
 
__USE_GNU
 && defšed 
__USE_LARGEFILE64


340 
	$®phasÜt64
 (cÚ¡ 
dœ’t64
 **
__e1
,

341 cÚ¡ 
dœ’t64
 **
__e2
)

342 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

347 #ifdeà
__USE_MISC


352 #iâdeà
__USE_FILE_OFFSET64


353 
__ssize_t
 
	$g‘dœ’Œ›s
 (
__fd
, *
__»¡riù
 
__buf
,

354 
size_t
 
__nby‹s
,

355 
__off_t
 *
__»¡riù
 
__ba£p
)

356 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

358 #ifdeà
__REDIRECT


359 
__ssize_t
 
	`__REDIRECT_NTH
 (
g‘dœ’Œ›s
,

360 (
__fd
, *
__»¡riù
 
__buf
,

361 
size_t
 
__nby‹s
,

362 
__off64_t
 *
__»¡riù
 
__ba£p
),

363 
g‘dœ’Œ›s64
è
	`__nÚnuÎ
 ((2, 4));

365 
	#g‘dœ’Œ›s
 
g‘dœ’Œ›s64


	)

369 #ifdeà
__USE_LARGEFILE64


370 
__ssize_t
 
	$g‘dœ’Œ›s64
 (
__fd
, *
__»¡riù
 
__buf
,

371 
size_t
 
__nby‹s
,

372 
__off64_t
 *
__»¡riù
 
__ba£p
)

373 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

377 #ifdeà
__USE_GNU


379 #iâdeà
__USE_FILE_OFFSET64


380 
	$v”siÚsÜt
 (cÚ¡ 
dœ’t
 **
__e1
,

381 cÚ¡ 
dœ’t
 **
__e2
)

382 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

384 #ifdeà
__REDIRECT


385 
	`__REDIRECT_NTH
 (
v”siÚsÜt
,

386 (cÚ¡ 
dœ’t
 **
__e1
,

387 cÚ¡ 
dœ’t
 **
__e2
),

388 
v”siÚsÜt64
)

389 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

391 
	#v”siÚsÜt
 
v”siÚsÜt64


	)

395 #ifdeà
__USE_LARGEFILE64


396 
	$v”siÚsÜt64
 (cÚ¡ 
dœ’t64
 **
__e1
,

397 cÚ¡ 
dœ’t64
 **
__e2
)

398 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

402 
__END_DECLS


404 
	~<b™s/dœ’t_ext.h
>

	@/usr/include/fnmatch.h

18 #iâdef 
_FNMATCH_H


19 
	#_FNMATCH_H
 1

	)

21 #ifdef 
__ılu¥lus


27 #undeà
FNM_PATHNAME


28 #undeà
FNM_NOESCAPE


29 #undeà
FNM_PERIOD


32 
	#FNM_PATHNAME
 (1 << 0è

	)

33 
	#FNM_NOESCAPE
 (1 << 1è

	)

34 
	#FNM_PERIOD
 (1 << 2è

	)

36 #ià!
defšed
 
_POSIX_C_SOURCE
 || _POSIX_C_SOURCE < 2 || defšed 
_GNU_SOURCE


37 
	#FNM_FILE_NAME
 
FNM_PATHNAME


	)

38 
	#FNM_LEADING_DIR
 (1 << 3è

	)

39 
	#FNM_CASEFOLD
 (1 << 4è

	)

40 
	#FNM_EXTMATCH
 (1 << 5è

	)

44 
	#FNM_NOMATCH
 1

	)

50 #ifdeà
_XOPEN_SOURCE


51 
	#FNM_NOSYS
 (-1)

	)

56 
âm©ch
 (cÚ¡ *
__·‰”n
, cÚ¡ *
__Çme
, 
__æags
);

58 #ifdef 
__ılu¥lus


	@/usr/include/jpeglib.h

18 #iâdeà
JPEGLIB_H


19 
	#JPEGLIB_H


	)

28 #iâdeà
JCONFIG_INCLUDED


29 
	~"jcÚfig.h
"

31 
	~"jmÜecfg.h
"

34 #ifdeà
__ılu¥lus


35 #iâdeà
DONT_USE_EXTERN_C


46 
	#DCTSIZE
 8

	)

47 
	#DCTSIZE2
 64

	)

48 
	#NUM_QUANT_TBLS
 4

	)

49 
	#NUM_HUFF_TBLS
 4

	)

50 
	#NUM_ARITH_TBLS
 16

	)

51 
	#MAX_COMPS_IN_SCAN
 4

	)

52 
	#MAX_SAMP_FACTOR
 4

	)

60 
	#C_MAX_BLOCKS_IN_MCU
 10

	)

61 #iâdeà
D_MAX_BLOCKS_IN_MCU


62 
	#D_MAX_BLOCKS_IN_MCU
 10

	)

69 
JSAMPLE
 *
	tJSAMPROW
;

70 
JSAMPROW
 *
	tJSAMPARRAY
;

71 
JSAMPARRAY
 *
	tJSAMPIMAGE
;

73 
JCOEF
 
	tJBLOCK
[
DCTSIZE2
];

74 
JBLOCK
 *
	tJBLOCKROW
;

75 
JBLOCKROW
 *
	tJBLOCKARRAY
;

76 
JBLOCKARRAY
 *
	tJBLOCKIMAGE
;

78 
JCOEF
 *
	tJCOEFPTR
;

91 
UINT16
 
quªtv®
[
DCTSIZE2
];

97 
boŞ—n
 
£Á_bË
;

98 } 
	tJQUANT_TBL
;

105 
UINT8
 
b™s
[17];

107 
UINT8
 
huffv®
[256];

113 
boŞ—n
 
£Á_bË
;

114 } 
	tJHUFF_TBL
;

123 
compÚ’t_id
;

124 
compÚ’t_šdex
;

125 
h_§mp_çùÜ
;

126 
v_§mp_çùÜ
;

127 
quªt_tbl_no
;

132 
dc_tbl_no
;

133 
ac_tbl_no
;

142 
JDIMENSION
 
width_š_blocks
;

143 
JDIMENSION
 
height_š_blocks
;

150 #ià
JPEG_LIB_VERSION
 >= 70

151 
DCT_h_sÿËd_size
;

152 
DCT_v_sÿËd_size
;

154 
DCT_sÿËd_size
;

162 
JDIMENSION
 
down§m¶ed_width
;

163 
JDIMENSION
 
down§m¶ed_height
;

168 
boŞ—n
 
compÚ’t_Ãeded
;

172 
MCU_width
;

173 
MCU_height
;

174 
MCU_blocks
;

175 
MCU_§m¶e_width
;

176 
Ï¡_cŞ_width
;

177 
Ï¡_row_height
;

183 
JQUANT_TBL
 *
quªt_bË
;

186 *
dù_bË
;

187 } 
	tj³g_compÚ’t_šfo
;

193 
comps_š_sÿn
;

194 
compÚ’t_šdex
[
MAX_COMPS_IN_SCAN
];

195 
Ss
, 
Se
;

196 
Ah
, 
Al
;

197 } 
	tj³g_sÿn_šfo
;

201 
j³g_m¬k”_¡ruù
 *
	tj³g_§ved_m¬k”_±r
;

203 
	sj³g_m¬k”_¡ruù
 {

204 
j³g_§ved_m¬k”_±r
 
Ãxt
;

205 
UINT8
 
m¬k”
;

206 
Üigš®_Ëngth
;

207 
d©a_Ëngth
;

208 
JOCTET
 *
d©a
;

214 
	#JCS_EXTENSIONS
 1

	)

215 
	#JCS_ALPHA_EXTENSIONS
 1

	)

218 
JCS_UNKNOWN
,

219 
JCS_GRAYSCALE
,

220 
JCS_RGB
,

222 
JCS_YCbCr
,

223 
JCS_CMYK
,

224 
JCS_YCCK
,

225 
JCS_EXT_RGB
,

226 
JCS_EXT_RGBX
,

227 
JCS_EXT_BGR
,

228 
JCS_EXT_BGRX
,

229 
JCS_EXT_XBGR
,

230 
JCS_EXT_XRGB
,

237 
JCS_EXT_RGBA
,

238 
JCS_EXT_BGRA
,

239 
JCS_EXT_ABGR
,

240 
JCS_EXT_ARGB
,

241 
JCS_RGB565


242 } 
	tJ_COLOR_SPACE
;

247 
JDCT_ISLOW
,

248 
JDCT_IFAST
,

249 
JDCT_FLOAT


250 } 
	tJ_DCT_METHOD
;

252 #iâdeà
JDCT_DEFAULT


253 
	#JDCT_DEFAULT
 
JDCT_ISLOW


	)

255 #iâdeà
JDCT_FASTEST


256 
	#JDCT_FASTEST
 
JDCT_IFAST


	)

262 
JDITHER_NONE
,

263 
JDITHER_ORDERED
,

264 
JDITHER_FS


265 } 
	tJ_DITHER_MODE
;

270 
	#j³g_commÚ_f›lds
 \

271 
j³g_”rÜ_mgr
 *
”r
; \

272 
j³g_memÜy_mgr
 *
mem
; \

273 
j³g_´og»ss_mgr
 *
´og»ss
; \

274 *
ş›Á_d©a
; \

275 
boŞ—n
 
is_decom´essÜ
; \

276 
glob®_¡©e


	)

282 
	sj³g_commÚ_¡ruù
 {

283 
j³g_commÚ_f›lds
;

290 
j³g_commÚ_¡ruù
 *
	tj_commÚ_±r
;

291 
j³g_com´ess_¡ruù
 *
	tj_com´ess_±r
;

292 
j³g_decom´ess_¡ruù
 *
	tj_decom´ess_±r
;

297 
	sj³g_com´ess_¡ruù
 {

298 
j³g_commÚ_f›lds
;

301 
j³g_de¡š©iÚ_mgr
 *
de¡
;

308 
JDIMENSION
 
image_width
;

309 
JDIMENSION
 
image_height
;

310 
šput_compÚ’ts
;

311 
J_COLOR_SPACE
 
š_cŞÜ_¥aû
;

313 
šput_gamma
;

323 #ià
JPEG_LIB_VERSION
 >= 70

324 
sÿË_num
, 
sÿË_d’om
;

326 
JDIMENSION
 
j³g_width
;

327 
JDIMENSION
 
j³g_height
;

336 
d©a_´ecisiÚ
;

338 
num_compÚ’ts
;

339 
J_COLOR_SPACE
 
j³g_cŞÜ_¥aû
;

341 
j³g_compÚ’t_šfo
 *
comp_šfo
;

344 
JQUANT_TBL
 *
quªt_tbl_±rs
[
NUM_QUANT_TBLS
];

345 #ià
JPEG_LIB_VERSION
 >= 70

346 
q_sÿË_çùÜ
[
NUM_QUANT_TBLS
];

352 
JHUFF_TBL
 *
dc_huff_tbl_±rs
[
NUM_HUFF_TBLS
];

353 
JHUFF_TBL
 *
ac_huff_tbl_±rs
[
NUM_HUFF_TBLS
];

356 
UINT8
 
¬™h_dc_L
[
NUM_ARITH_TBLS
];

357 
UINT8
 
¬™h_dc_U
[
NUM_ARITH_TBLS
];

358 
UINT8
 
¬™h_ac_K
[
NUM_ARITH_TBLS
];

360 
num_sÿns
;

361 cÚ¡ 
j³g_sÿn_šfo
 *
sÿn_šfo
;

367 
boŞ—n
 
¿w_d©a_š
;

368 
boŞ—n
 
¬™h_code
;

369 
boŞ—n
 
İtimize_codšg
;

370 
boŞ—n
 
CCIR601_§m¶šg
;

371 #ià
JPEG_LIB_VERSION
 >= 70

372 
boŞ—n
 
do_çncy_down§m¶šg
;

374 
smoÙhšg_çùÜ
;

375 
J_DCT_METHOD
 
dù_m‘hod
;

382 
»¡¬t_š‹rv®
;

383 
»¡¬t_š_rows
;

387 
boŞ—n
 
wr™e_JFIF_h—d”
;

388 
UINT8
 
JFIF_majÜ_v”siÚ
;

389 
UINT8
 
JFIF_mšÜ_v”siÚ
;

394 
UINT8
 
d’s™y_un™
;

395 
UINT16
 
X_d’s™y
;

396 
UINT16
 
Y_d’s™y
;

397 
boŞ—n
 
wr™e_Adobe_m¬k”
;

404 
JDIMENSION
 
Ãxt_sÿÆše
;

413 
boŞ—n
 
´og»ssive_mode
;

414 
max_h_§mp_çùÜ
;

415 
max_v_§mp_çùÜ
;

417 #ià
JPEG_LIB_VERSION
 >= 70

418 
mš_DCT_h_sÿËd_size
;

419 
mš_DCT_v_sÿËd_size
;

422 
JDIMENSION
 
tÙ®_iMCU_rows
;

433 
comps_š_sÿn
;

434 
j³g_compÚ’t_šfo
 *
cur_comp_šfo
[
MAX_COMPS_IN_SCAN
];

437 
JDIMENSION
 
MCUs_³r_row
;

438 
JDIMENSION
 
MCU_rows_š_sÿn
;

440 
blocks_š_MCU
;

441 
MCU_memb”sh
[
C_MAX_BLOCKS_IN_MCU
];

445 
Ss
, 
Se
, 
Ah
, 
Al
;

447 #ià
JPEG_LIB_VERSION
 >= 80

448 
block_size
;

449 cÚ¡ *
Çtu¿l_Üd”
;

450 
lim_Se
;

456 
j³g_comp_ma¡”
 *
ma¡”
;

457 
j³g_c_maš_cÚŒŞËr
 *
maš
;

458 
j³g_c_´•_cÚŒŞËr
 *
´•
;

459 
j³g_c_cÛf_cÚŒŞËr
 *
cÛf
;

460 
j³g_m¬k”_wr™”
 *
m¬k”
;

461 
j³g_cŞÜ_cÚv”‹r
 *
ccÚv”t
;

462 
j³g_down§m¶”
 *
down§m¶e
;

463 
j³g_fÜw¬d_dù
 *
fdù
;

464 
j³g_’Œİy_’cod”
 *
’Œİy
;

465 
j³g_sÿn_šfo
 *
süt_¥aû
;

466 
süt_¥aû_size
;

472 
	sj³g_decom´ess_¡ruù
 {

473 
j³g_commÚ_f›lds
;

476 
j³g_sourû_mgr
 *
¤c
;

481 
JDIMENSION
 
image_width
;

482 
JDIMENSION
 
image_height
;

483 
num_compÚ’ts
;

484 
J_COLOR_SPACE
 
j³g_cŞÜ_¥aû
;

491 
J_COLOR_SPACE
 
out_cŞÜ_¥aû
;

493 
sÿË_num
, 
sÿË_d’om
;

495 
ouut_gamma
;

497 
boŞ—n
 
bufã»d_image
;

498 
boŞ—n
 
¿w_d©a_out
;

500 
J_DCT_METHOD
 
dù_m‘hod
;

501 
boŞ—n
 
do_çncy_up§m¶šg
;

502 
boŞ—n
 
do_block_smoÙhšg
;

504 
boŞ—n
 
quªtize_cŞÜs
;

506 
J_DITHER_MODE
 
d™h”_mode
;

507 
boŞ—n
 
two_·ss_quªtize
;

508 
desœed_numb”_of_cŞÜs
;

510 
boŞ—n
 
’abË_1·ss_quªt
;

511 
boŞ—n
 
’abË_ex‹º®_quªt
;

512 
boŞ—n
 
’abË_2·ss_quªt
;

520 
JDIMENSION
 
ouut_width
;

521 
JDIMENSION
 
ouut_height
;

522 
out_cŞÜ_compÚ’ts
;

523 
ouut_compÚ’ts
;

527 
»c_outbuf_height
;

539 
aùu®_numb”_of_cŞÜs
;

540 
JSAMPARRAY
 
cŞÜm­
;

550 
JDIMENSION
 
ouut_sÿÆše
;

555 
šput_sÿn_numb”
;

556 
JDIMENSION
 
šput_iMCU_row
;

562 
ouut_sÿn_numb”
;

563 
JDIMENSION
 
ouut_iMCU_row
;

572 (*
cÛf_b™s
)[
DCTSIZE2
];

583 
JQUANT_TBL
 *
quªt_tbl_±rs
[
NUM_QUANT_TBLS
];

586 
JHUFF_TBL
 *
dc_huff_tbl_±rs
[
NUM_HUFF_TBLS
];

587 
JHUFF_TBL
 *
ac_huff_tbl_±rs
[
NUM_HUFF_TBLS
];

594 
d©a_´ecisiÚ
;

596 
j³g_compÚ’t_šfo
 *
comp_šfo
;

599 #ià
JPEG_LIB_VERSION
 >= 80

600 
boŞ—n
 
is_ba£lše
;

602 
boŞ—n
 
´og»ssive_mode
;

603 
boŞ—n
 
¬™h_code
;

605 
UINT8
 
¬™h_dc_L
[
NUM_ARITH_TBLS
];

606 
UINT8
 
¬™h_dc_U
[
NUM_ARITH_TBLS
];

607 
UINT8
 
¬™h_ac_K
[
NUM_ARITH_TBLS
];

609 
»¡¬t_š‹rv®
;

614 
boŞ—n
 
§w_JFIF_m¬k”
;

616 
UINT8
 
JFIF_majÜ_v”siÚ
;

617 
UINT8
 
JFIF_mšÜ_v”siÚ
;

618 
UINT8
 
d’s™y_un™
;

619 
UINT16
 
X_d’s™y
;

620 
UINT16
 
Y_d’s™y
;

621 
boŞ—n
 
§w_Adobe_m¬k”
;

622 
UINT8
 
Adobe_ŒªsfÜm
;

624 
boŞ—n
 
CCIR601_§m¶šg
;

630 
j³g_§ved_m¬k”_±r
 
m¬k”_li¡
;

639 
max_h_§mp_çùÜ
;

640 
max_v_§mp_çùÜ
;

642 #ià
JPEG_LIB_VERSION
 >= 70

643 
mš_DCT_h_sÿËd_size
;

644 
mš_DCT_v_sÿËd_size
;

646 
mš_DCT_sÿËd_size
;

649 
JDIMENSION
 
tÙ®_iMCU_rows
;

658 
JSAMPLE
 *
§m¶e_¿nge_lim™
;

665 
comps_š_sÿn
;

666 
j³g_compÚ’t_šfo
 *
cur_comp_šfo
[
MAX_COMPS_IN_SCAN
];

669 
JDIMENSION
 
MCUs_³r_row
;

670 
JDIMENSION
 
MCU_rows_š_sÿn
;

672 
blocks_š_MCU
;

673 
MCU_memb”sh
[
D_MAX_BLOCKS_IN_MCU
];

677 
Ss
, 
Se
, 
Ah
, 
Al
;

679 #ià
JPEG_LIB_VERSION
 >= 80

682 
block_size
;

683 cÚ¡ *
Çtu¿l_Üd”
;

684 
lim_Se
;

691 
uÄ—d_m¬k”
;

696 
j³g_decomp_ma¡”
 *
ma¡”
;

697 
j³g_d_maš_cÚŒŞËr
 *
maš
;

698 
j³g_d_cÛf_cÚŒŞËr
 *
cÛf
;

699 
j³g_d_po¡_cÚŒŞËr
 *
po¡
;

700 
j³g_šput_cÚŒŞËr
 *
šputùl
;

701 
j³g_m¬k”_»ad”
 *
m¬k”
;

702 
j³g_’Œİy_decod”
 *
’Œİy
;

703 
j³g_šv”£_dù
 *
idù
;

704 
j³g_up§m¶”
 *
up§m¶e
;

705 
j³g_cŞÜ_decÚv”‹r
 *
ccÚv”t
;

706 
j³g_cŞÜ_quªtiz”
 *
cquªtize
;

720 
	sj³g_”rÜ_mgr
 {

722 (*
”rÜ_ex™
è(
j_commÚ_±r
 
cšfo
);

724 (*
em™_mes§ge
è(
j_commÚ_±r
 
cšfo
, 
msg_Ëv–
);

726 (*
ouut_mes§ge
è(
j_commÚ_±r
 
cšfo
);

728 (*
fÜm©_mes§ge
è(
j_commÚ_±r
 
cšfo
, *
bufãr
);

729 
	#JMSG_LENGTH_MAX
 200

	)

731 (*
»£t_”rÜ_mgr
è(
j_commÚ_±r
 
cšfo
);

736 
msg_code
;

737 
	#JMSG_STR_PARM_MAX
 80

	)

739 
i
[8];

740 
s
[
JMSG_STR_PARM_MAX
];

741 } 
msg_·rm
;

745 
Œaû_Ëv–
;

753 
num_w¬nšgs
;

765 cÚ¡ * cÚ¡ *
j³g_mes§ge_bË
;

766 
Ï¡_j³g_mes§ge
;

770 cÚ¡ * cÚ¡ *
addÚ_mes§ge_bË
;

771 
fœ¡_addÚ_mes§ge
;

772 
Ï¡_addÚ_mes§ge
;

778 
	sj³g_´og»ss_mgr
 {

779 (*
´og»ss_mÚ™Ü
è(
j_commÚ_±r
 
cšfo
);

781 
·ss_couÁ”
;

782 
·ss_lim™
;

783 
com¶‘ed_·s£s
;

784 
tÙ®_·s£s
;

790 
	sj³g_de¡š©iÚ_mgr
 {

791 
JOCTET
 *
Ãxt_ouut_by‹
;

792 
size_t
 
ä“_š_bufãr
;

794 (*
š™_de¡š©iÚ
è(
j_com´ess_±r
 
cšfo
);

795 
boŞ—n
 (*
em±y_ouut_bufãr
è(
j_com´ess_±r
 
cšfo
);

796 (*
‹rm_de¡š©iÚ
è(
j_com´ess_±r
 
cšfo
);

802 
	sj³g_sourû_mgr
 {

803 cÚ¡ 
JOCTET
 *
Ãxt_šput_by‹
;

804 
size_t
 
by‹s_š_bufãr
;

806 (*
š™_sourû
è(
j_decom´ess_±r
 
cšfo
);

807 
boŞ—n
 (*
fl_šput_bufãr
è(
j_decom´ess_±r
 
cšfo
);

808 (*
sk_šput_d©a
è(
j_decom´ess_±r
 
cšfo
, 
num_by‹s
);

809 
boŞ—n
 (*
»sync_to_»¡¬t
è(
j_decom´ess_±r
 
cšfo
, 
desœed
);

810 (*
‹rm_sourû
è(
j_decom´ess_±r
 
cšfo
);

825 
	#JPOOL_PERMANENT
 0

	)

826 
	#JPOOL_IMAGE
 1

	)

827 
	#JPOOL_NUMPOOLS
 2

	)

829 
jvœt_§¼ay_cÚŒŞ
 *
	tjvœt_§¼ay_±r
;

830 
jvœt_b¬¿y_cÚŒŞ
 *
	tjvœt_b¬¿y_±r
;

833 
	sj³g_memÜy_mgr
 {

835 *(*
®loc_sm®l
è(
j_commÚ_±r
 
cšfo
, 
poŞ_id
, 
size_t
 
sizeofobjeù
);

836 *(*
®loc_Ïrge
è(
j_commÚ_±r
 
cšfo
, 
poŞ_id
,

837 
size_t
 
sizeofobjeù
);

838 
JSAMPARRAY
 (*
®loc_§¼ay
è(
j_commÚ_±r
 
cšfo
, 
poŞ_id
,

839 
JDIMENSION
 
§m¶e¥”row
, JDIMENSION 
numrows
);

840 
JBLOCKARRAY
 (*
®loc_b¬¿y
è(
j_commÚ_±r
 
cšfo
, 
poŞ_id
,

841 
JDIMENSION
 
block¥”row
, JDIMENSION 
numrows
);

842 
jvœt_§¼ay_±r
 (*
»que¡_vœt_§¼ay
è(
j_commÚ_±r
 
cšfo
, 
poŞ_id
,

843 
boŞ—n
 
´e_z”o
,

844 
JDIMENSION
 
§m¶e¥”row
,

845 
JDIMENSION
 
numrows
,

846 
JDIMENSION
 
maxacûss
);

847 
jvœt_b¬¿y_±r
 (*
»que¡_vœt_b¬¿y
è(
j_commÚ_±r
 
cšfo
, 
poŞ_id
,

848 
boŞ—n
 
´e_z”o
,

849 
JDIMENSION
 
block¥”row
,

850 
JDIMENSION
 
numrows
,

851 
JDIMENSION
 
maxacûss
);

852 (*
»®ize_vœt_¬¿ys
è(
j_commÚ_±r
 
cšfo
);

853 
JSAMPARRAY
 (*
acûss_vœt_§¼ay
è(
j_commÚ_±r
 
cšfo
, 
jvœt_§¼ay_±r
 
±r
,

854 
JDIMENSION
 
¡¬t_row
, JDIMENSION 
num_rows
,

855 
boŞ—n
 
wr™abË
);

856 
JBLOCKARRAY
 (*
acûss_vœt_b¬¿y
è(
j_commÚ_±r
 
cšfo
, 
jvœt_b¬¿y_±r
 
±r
,

857 
JDIMENSION
 
¡¬t_row
, JDIMENSION 
num_rows
,

858 
boŞ—n
 
wr™abË
);

859 (*
ä“_poŞ
è(
j_commÚ_±r
 
cšfo
, 
poŞ_id
);

860 (*
£lf_de¡ruù
è(
j_commÚ_±r
 
cšfo
);

867 
max_memÜy_to_u£
;

870 
max_®loc_chunk
;

877 
boŞ—n
 (*
	tj³g_m¬k”_·r£r_m‘hod
è(
	tj_decom´ess_±r
 
	tcšfo
);

887 
	#JPP
(
¬gli¡
è
	)
arglist

891 
EXTERN
(
j³g_”rÜ_mgr
 *è
j³g_¡d_”rÜ
(j³g_”rÜ_mg¸*
”r
);

900 
	#j³g_ü—‹_com´ess
(
cšfo
) \

901 
	`j³g_C»©eCom´ess
((
cšfo
), 
JPEG_LIB_VERSION
, \

902 (
size_t
)(
j³g_com´ess_¡ruù
))

	)

903 
	#j³g_ü—‹_decom´ess
(
cšfo
) \

904 
	`j³g_C»©eDecom´ess
((
cšfo
), 
JPEG_LIB_VERSION
, \

905 (
size_t
)(
j³g_decom´ess_¡ruù
))

	)

906 
EXTERN
(è
j³g_C»©eCom´ess
(
j_com´ess_±r
 
cšfo
, 
v”siÚ
,

907 
size_t
 
¡ruùsize
);

908 
EXTERN
(è
j³g_C»©eDecom´ess
(
j_decom´ess_±r
 
cšfo
, 
v”siÚ
,

909 
size_t
 
¡ruùsize
);

911 
EXTERN
(è
j³g_de¡roy_com´ess
(
j_com´ess_±r
 
cšfo
);

912 
EXTERN
(è
j³g_de¡roy_decom´ess
(
j_decom´ess_±r
 
cšfo
);

916 
EXTERN
(è
j³g_¡dio_de¡
(
j_com´ess_±r
 
cšfo
, 
FILE
 *
outfe
);

917 
EXTERN
(è
j³g_¡dio_¤c
(
j_decom´ess_±r
 
cšfo
, 
FILE
 *
šfe
);

919 #ià
JPEG_LIB_VERSION
 >ğ80 || 
defšed
(
MEM_SRCDST_SUPPORTED
)

921 
EXTERN
(è
j³g_mem_de¡
(
j_com´ess_±r
 
cšfo
, **
outbufãr
,

922 *
outsize
);

923 
EXTERN
(è
j³g_mem_¤c
(
j_decom´ess_±r
 
cšfo
,

924 cÚ¡ *
šbufãr
, 
šsize
);

928 
EXTERN
(è
j³g_£t_deçuÉs
(
j_com´ess_±r
 
cšfo
);

930 
EXTERN
(è
j³g_£t_cŞÜ¥aû
(
j_com´ess_±r
 
cšfo
,

931 
J_COLOR_SPACE
 
cŞÜ¥aû
);

932 
EXTERN
(è
j³g_deçuÉ_cŞÜ¥aû
(
j_com´ess_±r
 
cšfo
);

933 
EXTERN
(è
j³g_£t_qu®™y
(
j_com´ess_±r
 
cšfo
, 
qu®™y
,

934 
boŞ—n
 
fÜû_ba£lše
);

935 
EXTERN
(è
j³g_£t_lš—r_qu®™y
(
j_com´ess_±r
 
cšfo
, 
sÿË_çùÜ
,

936 
boŞ—n
 
fÜû_ba£lše
);

937 #ià
JPEG_LIB_VERSION
 >= 70

938 
EXTERN
(è
j³g_deçuÉ_qbËs
(
j_com´ess_±r
 
cšfo
,

939 
boŞ—n
 
fÜû_ba£lše
);

941 
EXTERN
(è
j³g_add_quªt_bË
(
j_com´ess_±r
 
cšfo
, 
which_tbl
,

942 cÚ¡ *
basic_bË
,

943 
sÿË_çùÜ
, 
boŞ—n
 
fÜû_ba£lše
);

944 
EXTERN
(è
j³g_qu®™y_sÿlšg
(
qu®™y
);

945 
EXTERN
(è
j³g_sim¶e_´og»ssiÚ
(
j_com´ess_±r
 
cšfo
);

946 
EXTERN
(è
j³g_suµ»ss_bËs
(
j_com´ess_±r
 
cšfo
, 
boŞ—n
 
suµ»ss
);

947 
EXTERN
(
JQUANT_TBL
 *è
j³g_®loc_quªt_bË
(
j_commÚ_±r
 
cšfo
);

948 
EXTERN
(
JHUFF_TBL
 *è
j³g_®loc_huff_bË
(
j_commÚ_±r
 
cšfo
);

951 
EXTERN
(è
j³g_¡¬t_com´ess
(
j_com´ess_±r
 
cšfo
,

952 
boŞ—n
 
wr™e_®l_bËs
);

953 
EXTERN
(
JDIMENSION
è
j³g_wr™e_sÿÆšes
(
j_com´ess_±r
 
cšfo
,

954 
JSAMPARRAY
 
sÿÆšes
,

955 
JDIMENSION
 
num_lšes
);

956 
EXTERN
(è
j³g_fšish_com´ess
(
j_com´ess_±r
 
cšfo
);

958 #ià
JPEG_LIB_VERSION
 >= 70

960 
EXTERN
(è
j³g_ÿlc_j³g_dim’siÚs
(
j_com´ess_±r
 
cšfo
);

964 
EXTERN
(
JDIMENSION
è
j³g_wr™e_¿w_d©a
(
j_com´ess_±r
 
cšfo
, 
JSAMPIMAGE
 
d©a
,

965 
JDIMENSION
 
num_lšes
);

968 
EXTERN
(è
j³g_wr™e_m¬k”
(
j_com´ess_±r
 
cšfo
, 
m¬k”
,

969 cÚ¡ 
JOCTET
 *
d©­Œ
, 
d©®’
);

971 
EXTERN
(è
j³g_wr™e_m_h—d”
(
j_com´ess_±r
 
cšfo
, 
m¬k”
,

972 
d©®’
);

973 
EXTERN
(è
j³g_wr™e_m_by‹
(
j_com´ess_±r
 
cšfo
, 
v®
);

976 
EXTERN
(è
j³g_wr™e_bËs
(
j_com´ess_±r
 
cšfo
);

979 
EXTERN
(è
j³g_wr™e_icc_´ofe
(
j_com´ess_±r
 
cšfo
,

980 cÚ¡ 
JOCTET
 *
icc_d©a_±r
,

981 
icc_d©a_Ën
);

985 
EXTERN
(è
j³g_»ad_h—d”
(
j_decom´ess_±r
 
cšfo
, 
boŞ—n
 
»quœe_image
);

987 
	#JPEG_SUSPENDED
 0

	)

988 
	#JPEG_HEADER_OK
 1

	)

989 
	#JPEG_HEADER_TABLES_ONLY
 2

	)

997 
EXTERN
(
boŞ—n
è
j³g_¡¬t_decom´ess
(
j_decom´ess_±r
 
cšfo
);

998 
EXTERN
(
JDIMENSION
è
j³g_»ad_sÿÆšes
(
j_decom´ess_±r
 
cšfo
,

999 
JSAMPARRAY
 
sÿÆšes
,

1000 
JDIMENSION
 
max_lšes
);

1001 
EXTERN
(
JDIMENSION
è
j³g_sk_sÿÆšes
(
j_decom´ess_±r
 
cšfo
,

1002 
JDIMENSION
 
num_lšes
);

1003 
EXTERN
(è
j³g_üİ_sÿÆše
(
j_decom´ess_±r
 
cšfo
, 
JDIMENSION
 *
xoff£t
,

1004 
JDIMENSION
 *
width
);

1005 
EXTERN
(
boŞ—n
è
j³g_fšish_decom´ess
(
j_decom´ess_±r
 
cšfo
);

1008 
EXTERN
(
JDIMENSION
è
j³g_»ad_¿w_d©a
(
j_decom´ess_±r
 
cšfo
, 
JSAMPIMAGE
 
d©a
,

1009 
JDIMENSION
 
max_lšes
);

1012 
EXTERN
(
boŞ—n
è
j³g_has_muÉË_sÿns
(
j_decom´ess_±r
 
cšfo
);

1013 
EXTERN
(
boŞ—n
è
j³g_¡¬t_ouut
(
j_decom´ess_±r
 
cšfo
, 
sÿn_numb”
);

1014 
EXTERN
(
boŞ—n
è
j³g_fšish_ouut
(
j_decom´ess_±r
 
cšfo
);

1015 
EXTERN
(
boŞ—n
è
j³g_šput_com¶‘e
(
j_decom´ess_±r
 
cšfo
);

1016 
EXTERN
(è
j³g_Ãw_cŞÜm­
(
j_decom´ess_±r
 
cšfo
);

1017 
EXTERN
(è
j³g_cÚsume_šput
(
j_decom´ess_±r
 
cšfo
);

1020 
	#JPEG_REACHED_SOS
 1

	)

1021 
	#JPEG_REACHED_EOI
 2

	)

1022 
	#JPEG_ROW_COMPLETED
 3

	)

1023 
	#JPEG_SCAN_COMPLETED
 4

	)

1026 #ià
JPEG_LIB_VERSION
 >= 80

1027 
EXTERN
(è
j³g_cÜe_ouut_dim’siÚs
(
j_decom´ess_±r
 
cšfo
);

1029 
EXTERN
(è
j³g_ÿlc_ouut_dim’siÚs
(
j_decom´ess_±r
 
cšfo
);

1032 
EXTERN
(è
j³g_§ve_m¬k”s
(
j_decom´ess_±r
 
cšfo
, 
m¬k”_code
,

1033 
Ëngth_lim™
);

1036 
EXTERN
(è
j³g_£t_m¬k”_´oûssÜ
(
j_decom´ess_±r
 
cšfo
,

1037 
m¬k”_code
,

1038 
j³g_m¬k”_·r£r_m‘hod
 
routše
);

1041 
EXTERN
(
jvœt_b¬¿y_±r
 *è
j³g_»ad_cÛffic›Ás
(
j_decom´ess_±r
 
cšfo
);

1042 
EXTERN
(è
j³g_wr™e_cÛffic›Ás
(
j_com´ess_±r
 
cšfo
,

1043 
jvœt_b¬¿y_±r
 *
cÛf_¬¿ys
);

1044 
EXTERN
(è
j³g_cİy_ü™iÿl_·¿m‘”s
(
j_decom´ess_±r
 
¤cšfo
,

1045 
j_com´ess_±r
 
d¡šfo
);

1053 
EXTERN
(è
j³g_abÜt_com´ess
(
j_com´ess_±r
 
cšfo
);

1054 
EXTERN
(è
j³g_abÜt_decom´ess
(
j_decom´ess_±r
 
cšfo
);

1059 
EXTERN
(è
j³g_abÜt
(
j_commÚ_±r
 
cšfo
);

1060 
EXTERN
(è
j³g_de¡roy
(
j_commÚ_±r
 
cšfo
);

1063 
EXTERN
(
boŞ—n
è
j³g_»sync_to_»¡¬t
(
j_decom´ess_±r
 
cšfo
, 
desœed
);

1066 
EXTERN
(
boŞ—n
è
j³g_»ad_icc_´ofe
(
j_decom´ess_±r
 
cšfo
,

1067 
JOCTET
 **
icc_d©a_±r
,

1068 *
icc_d©a_Ën
);

1075 
	#JPEG_RST0
 0xD0

	)

1076 
	#JPEG_EOI
 0xD9

	)

1077 
	#JPEG_APP0
 0xE0

	)

1078 
	#JPEG_COM
 0xFE

	)

1086 #ifdeà
INCOMPLETE_TYPES_BROKEN


1087 #iâdeà
JPEG_INTERNALS


1088 
	sjvœt_§¼ay_cÚŒŞ
 { 
dummy
; };

1089 
	sjvœt_b¬¿y_cÚŒŞ
 { 
dummy
; };

1090 
	sj³g_comp_ma¡”
 { 
dummy
; };

1091 
	sj³g_c_maš_cÚŒŞËr
 { 
dummy
; };

1092 
	sj³g_c_´•_cÚŒŞËr
 { 
dummy
; };

1093 
	sj³g_c_cÛf_cÚŒŞËr
 { 
dummy
; };

1094 
	sj³g_m¬k”_wr™”
 { 
dummy
; };

1095 
	sj³g_cŞÜ_cÚv”‹r
 { 
dummy
; };

1096 
	sj³g_down§m¶”
 { 
dummy
; };

1097 
	sj³g_fÜw¬d_dù
 { 
dummy
; };

1098 
	sj³g_’Œİy_’cod”
 { 
dummy
; };

1099 
	sj³g_decomp_ma¡”
 { 
dummy
; };

1100 
	sj³g_d_maš_cÚŒŞËr
 { 
dummy
; };

1101 
	sj³g_d_cÛf_cÚŒŞËr
 { 
dummy
; };

1102 
	sj³g_d_po¡_cÚŒŞËr
 { 
dummy
; };

1103 
	sj³g_šput_cÚŒŞËr
 { 
dummy
; };

1104 
	sj³g_m¬k”_»ad”
 { 
dummy
; };

1105 
	sj³g_’Œİy_decod”
 { 
dummy
; };

1106 
	sj³g_šv”£_dù
 { 
dummy
; };

1107 
	sj³g_up§m¶”
 { 
dummy
; };

1108 
	sj³g_cŞÜ_decÚv”‹r
 { 
dummy
; };

1109 
	sj³g_cŞÜ_quªtiz”
 { 
dummy
; };

1121 #ifdeà
JPEG_INTERNALS


1122 
	~"j³gšt.h
"

1123 
	~"j”rÜ.h
"

1126 #ifdeà
__ılu¥lus


1127 #iâdeà
DONT_USE_EXTERN_C


	@/usr/include/png.h

266 #iâdeà
PNG_H


267 
	#PNG_H


	)

281 
	#PNG_LIBPNG_VER_STRING
 "1.6.37"

	)

282 
	#PNG_HEADER_VERSION_STRING
 "†ib²g v”siÚ 1.6.37 - A´ 14, 2019\n"

	)

284 
	#PNG_LIBPNG_VER_SONUM
 16

	)

285 
	#PNG_LIBPNG_VER_DLLNUM
 16

	)

288 
	#PNG_LIBPNG_VER_MAJOR
 1

	)

289 
	#PNG_LIBPNG_VER_MINOR
 6

	)

290 
	#PNG_LIBPNG_VER_RELEASE
 37

	)

295 
	#PNG_LIBPNG_VER_BUILD
 0

	)

298 
	#PNG_LIBPNG_BUILD_ALPHA
 1

	)

299 
	#PNG_LIBPNG_BUILD_BETA
 2

	)

300 
	#PNG_LIBPNG_BUILD_RC
 3

	)

301 
	#PNG_LIBPNG_BUILD_STABLE
 4

	)

302 
	#PNG_LIBPNG_BUILD_RELEASE_STATUS_MASK
 7

	)

305 
	#PNG_LIBPNG_BUILD_PATCH
 8

	)

307 
	#PNG_LIBPNG_BUILD_PRIVATE
 16

	)

309 
	#PNG_LIBPNG_BUILD_SPECIAL
 32

	)

312 
	#PNG_LIBPNG_BUILD_BASE_TYPE
 
PNG_LIBPNG_BUILD_STABLE


	)

321 
	#PNG_LIBPNG_VER
 10637

	)

326 #iâdeà
PNGLCONF_H


330 
	~"²glibcÚf.h
"

333 
	#PNG_APNG_SUPPORTED


	)

334 
	#PNG_READ_APNG_SUPPORTED


	)

335 
	#PNG_WRITE_APNG_SUPPORTED


	)

337 #iâdeà
PNG_VERSION_INFO_ONLY


339 
	~"²gcÚf.h
"

356 #ifdeà
PNG_USER_PRIVATEBUILD


357 
	#PNG_LIBPNG_BUILD_TYPE
 \

358 (
PNG_LIBPNG_BUILD_BASE_TYPE
 | 
PNG_LIBPNG_BUILD_PRIVATE
)

	)

360 #ifdeà
PNG_LIBPNG_SPECIALBUILD


361 
	#PNG_LIBPNG_BUILD_TYPE
 \

362 (
PNG_LIBPNG_BUILD_BASE_TYPE
 | 
PNG_LIBPNG_BUILD_SPECIAL
)

	)

364 
	#PNG_LIBPNG_BUILD_TYPE
 (
PNG_LIBPNG_BUILD_BASE_TYPE
)

	)

368 #iâdeà
PNG_VERSION_INFO_ONLY


371 #ifdeà
__ılu¥lus


378 
	#²g_lib²g_v”
 
	`²g_g‘_h—d”_v”
(
NULL
)

	)

432 #ifdeà
PNG_APNG_SUPPORTED


434 
	#PNG_DISPOSE_OP_NONE
 0x00U

	)

435 
	#PNG_DISPOSE_OP_BACKGROUND
 0x01U

	)

436 
	#PNG_DISPOSE_OP_PREVIOUS
 0x02U

	)

439 
	#PNG_BLEND_OP_SOURCE
 0x00U

	)

440 
	#PNG_BLEND_OP_OVER
 0x01U

	)

446 * 
	t²g_lib²g_v”siÚ_1_6_37
;

454 
²g_¡ruù_def
 
	t²g_¡ruù
;

455 cÚ¡ 
	t²g_¡ruù
 * 
	t²g_cÚ¡_¡ruùp
;

456 
²g_¡ruù
 * 
	t²g_¡ruùp
;

457 
²g_¡ruù
 * * 
	t²g_¡ruùµ
;

468 
²g_šfo_def
 
	t²g_šfo
;

469 
²g_šfo
 * 
	t²g_šfİ
;

470 cÚ¡ 
	t²g_šfo
 * 
	t²g_cÚ¡_šfİ
;

471 
²g_šfo
 * * 
	t²g_šfİp
;

484 
²g_¡ruù
 * 
	tPNG_RESTRICT
 
	t²g_¡ruù½
;

485 cÚ¡ 
	t²g_¡ruù
 * 
	tPNG_RESTRICT
 
	t²g_cÚ¡_¡ruù½
;

486 
²g_šfo
 * 
	tPNG_RESTRICT
 
	t²g_šfÜp
;

487 cÚ¡ 
	t²g_šfo
 * 
	tPNG_RESTRICT
 
	t²g_cÚ¡_šfÜp
;

493 
	s²g_cŞÜ_¡ruù


495 
²g_by‹
 
»d
;

496 
²g_by‹
 
g»’
;

497 
²g_by‹
 
blue
;

498 } 
	t²g_cŞÜ
;

499 
²g_cŞÜ
 * 
	t²g_cŞÜp
;

500 cÚ¡ 
	t²g_cŞÜ
 * 
	t²g_cÚ¡_cŞÜp
;

501 
²g_cŞÜ
 * * 
	t²g_cŞÜµ
;

503 
	s²g_cŞÜ_16_¡ruù


505 
²g_by‹
 
šdex
;

506 
²g_ušt_16
 
»d
;

507 
²g_ušt_16
 
g»’
;

508 
²g_ušt_16
 
blue
;

509 
²g_ušt_16
 
g¿y
;

510 } 
	t²g_cŞÜ_16
;

511 
²g_cŞÜ_16
 * 
	t²g_cŞÜ_16p
;

512 cÚ¡ 
	t²g_cŞÜ_16
 * 
	t²g_cÚ¡_cŞÜ_16p
;

513 
²g_cŞÜ_16
 * * 
	t²g_cŞÜ_16µ
;

515 
	s²g_cŞÜ_8_¡ruù


517 
²g_by‹
 
»d
;

518 
²g_by‹
 
g»’
;

519 
²g_by‹
 
blue
;

520 
²g_by‹
 
g¿y
;

521 
²g_by‹
 
®pha
;

522 } 
	t²g_cŞÜ_8
;

523 
²g_cŞÜ_8
 * 
	t²g_cŞÜ_8p
;

524 cÚ¡ 
	t²g_cŞÜ_8
 * 
	t²g_cÚ¡_cŞÜ_8p
;

525 
²g_cŞÜ_8
 * * 
	t²g_cŞÜ_8µ
;

531 
	s²g_sPLT_’Œy_¡ruù


533 
²g_ušt_16
 
»d
;

534 
²g_ušt_16
 
g»’
;

535 
²g_ušt_16
 
blue
;

536 
²g_ušt_16
 
®pha
;

537 
²g_ušt_16
 
äequ’cy
;

538 } 
	t²g_sPLT_’Œy
;

539 
²g_sPLT_’Œy
 * 
	t²g_sPLT_’Œyp
;

540 cÚ¡ 
	t²g_sPLT_’Œy
 * 
	t²g_cÚ¡_sPLT_’Œyp
;

541 
²g_sPLT_’Œy
 * * 
	t²g_sPLT_’Œyµ
;

548 
	s²g_sPLT_¡ruù


550 
²g_ch¬p
 
Çme
;

551 
²g_by‹
 
d•th
;

552 
²g_sPLT_’Œyp
 
’Œ›s
;

553 
²g_št_32
 
ÃÁr›s
;

554 } 
	t²g_sPLT_t
;

555 
²g_sPLT_t
 * 
	t²g_sPLT_
;

556 cÚ¡ 
	t²g_sPLT_t
 * 
	t²g_cÚ¡_sPLT_
;

557 
²g_sPLT_t
 * * 
	t²g_sPLT_p
;

559 #ifdeà
PNG_TEXT_SUPPORTED


577 
	s²g_‹xt_¡ruù


579 
com´essiÚ
;

584 
²g_ch¬p
 
key
;

585 
²g_ch¬p
 
‹xt
;

587 
size_t
 
‹xt_Ëngth
;

588 
size_t
 
™xt_Ëngth
;

589 
²g_ch¬p
 
Ïng
;

591 
²g_ch¬p
 
Ïng_key
;

593 } 
	t²g_‹xt
;

594 
²g_‹xt
 * 
	t²g_‹x
;

595 cÚ¡ 
	t²g_‹xt
 * 
	t²g_cÚ¡_‹x
;

596 
²g_‹xt
 * * 
	t²g_‹xp
;

601 
	#PNG_TEXT_COMPRESSION_NONE_WR
 -3

	)

602 
	#PNG_TEXT_COMPRESSION_zTXt_WR
 -2

	)

603 
	#PNG_TEXT_COMPRESSION_NONE
 -1

	)

604 
	#PNG_TEXT_COMPRESSION_zTXt
 0

	)

605 
	#PNG_ITXT_COMPRESSION_NONE
 1

	)

606 
	#PNG_ITXT_COMPRESSION_zTXt
 2

	)

607 
	#PNG_TEXT_COMPRESSION_LAST
 3

	)

615 
	s²g_time_¡ruù


617 
²g_ušt_16
 
y—r
;

618 
²g_by‹
 
mÚth
;

619 
²g_by‹
 
day
;

620 
²g_by‹
 
hour
;

621 
²g_by‹
 
mšu‹
;

622 
²g_by‹
 
£cÚd
;

623 } 
	t²g_time
;

624 
²g_time
 * 
	t²g_tim•
;

625 cÚ¡ 
	t²g_time
 * 
	t²g_cÚ¡_tim•
;

626 
²g_time
 * * 
	t²g_tim•p
;

628 #ià
defšed
(
PNG_STORE_UNKNOWN_CHUNKS_SUPPORTED
) ||\

629 
defšed
(
PNG_USER_CHUNKS_SUPPORTED
)

637 
	s²g_unknown_chunk_t


639 
²g_by‹
 
Çme
[5];

640 
²g_by‹
 *
d©a
;

641 
size_t
 
size
;

649 
²g_by‹
 
loÿtiÚ
;

651 
	t²g_unknown_chunk
;

653 
²g_unknown_chunk
 * 
	t²g_unknown_chunkp
;

654 cÚ¡ 
	t²g_unknown_chunk
 * 
	t²g_cÚ¡_unknown_chunkp
;

655 
²g_unknown_chunk
 * * 
	t²g_unknown_chunkµ
;

659 
	#PNG_HAVE_IHDR
 0x01

	)

660 
	#PNG_HAVE_PLTE
 0x02

	)

661 
	#PNG_AFTER_IDAT
 0x08

	)

664 
	#PNG_UINT_31_MAX
 ((
²g_ušt_32
)0x7fffffffL)

	)

665 
	#PNG_UINT_32_MAX
 ((
²g_ušt_32
)(-1))

	)

666 
	#PNG_SIZE_MAX
 ((
size_t
)(-1))

	)

671 
	#PNG_FP_1
 100000

	)

672 
	#PNG_FP_HALF
 50000

	)

673 
	#PNG_FP_MAX
 ((
²g_fixed_pošt
)0x7fffffffL)

	)

674 
	#PNG_FP_MIN
 (-
PNG_FP_MAX
)

	)

678 
	#PNG_COLOR_MASK_PALETTE
 1

	)

679 
	#PNG_COLOR_MASK_COLOR
 2

	)

680 
	#PNG_COLOR_MASK_ALPHA
 4

	)

683 
	#PNG_COLOR_TYPE_GRAY
 0

	)

684 
	#PNG_COLOR_TYPE_PALETTE
 (
PNG_COLOR_MASK_COLOR
 | 
PNG_COLOR_MASK_PALETTE
)

	)

685 
	#PNG_COLOR_TYPE_RGB
 (
PNG_COLOR_MASK_COLOR
)

	)

686 
	#PNG_COLOR_TYPE_RGB_ALPHA
 (
PNG_COLOR_MASK_COLOR
 | 
PNG_COLOR_MASK_ALPHA
)

	)

687 
	#PNG_COLOR_TYPE_GRAY_ALPHA
 (
PNG_COLOR_MASK_ALPHA
)

	)

689 
	#PNG_COLOR_TYPE_RGBA
 
PNG_COLOR_TYPE_RGB_ALPHA


	)

690 
	#PNG_COLOR_TYPE_GA
 
PNG_COLOR_TYPE_GRAY_ALPHA


	)

693 
	#PNG_COMPRESSION_TYPE_BASE
 0

	)

694 
	#PNG_COMPRESSION_TYPE_DEFAULT
 
PNG_COMPRESSION_TYPE_BASE


	)

697 
	#PNG_FILTER_TYPE_BASE
 0

	)

698 
	#PNG_INTRAPIXEL_DIFFERENCING
 64

	)

699 
	#PNG_FILTER_TYPE_DEFAULT
 
PNG_FILTER_TYPE_BASE


	)

702 
	#PNG_INTERLACE_NONE
 0

	)

703 
	#PNG_INTERLACE_ADAM7
 1

	)

704 
	#PNG_INTERLACE_LAST
 2

	)

707 
	#PNG_OFFSET_PIXEL
 0

	)

708 
	#PNG_OFFSET_MICROMETER
 1

	)

709 
	#PNG_OFFSET_LAST
 2

	)

712 
	#PNG_EQUATION_LINEAR
 0

	)

713 
	#PNG_EQUATION_BASE_E
 1

	)

714 
	#PNG_EQUATION_ARBITRARY
 2

	)

715 
	#PNG_EQUATION_HYPERBOLIC
 3

	)

716 
	#PNG_EQUATION_LAST
 4

	)

719 
	#PNG_SCALE_UNKNOWN
 0

	)

720 
	#PNG_SCALE_METER
 1

	)

721 
	#PNG_SCALE_RADIAN
 2

	)

722 
	#PNG_SCALE_LAST
 3

	)

725 
	#PNG_RESOLUTION_UNKNOWN
 0

	)

726 
	#PNG_RESOLUTION_METER
 1

	)

727 
	#PNG_RESOLUTION_LAST
 2

	)

730 
	#PNG_sRGB_INTENT_PERCEPTUAL
 0

	)

731 
	#PNG_sRGB_INTENT_RELATIVE
 1

	)

732 
	#PNG_sRGB_INTENT_SATURATION
 2

	)

733 
	#PNG_sRGB_INTENT_ABSOLUTE
 3

	)

734 
	#PNG_sRGB_INTENT_LAST
 4

	)

737 
	#PNG_KEYWORD_MAX_LENGTH
 79

	)

740 
	#PNG_MAX_PALETTE_LENGTH
 256

	)

747 
	#PNG_INFO_gAMA
 0x0001U

	)

748 
	#PNG_INFO_sBIT
 0x0002U

	)

749 
	#PNG_INFO_cHRM
 0x0004U

	)

750 
	#PNG_INFO_PLTE
 0x0008U

	)

751 
	#PNG_INFO_tRNS
 0x0010U

	)

752 
	#PNG_INFO_bKGD
 0x0020U

	)

753 
	#PNG_INFO_hIST
 0x0040U

	)

754 
	#PNG_INFO_pHYs
 0x0080U

	)

755 
	#PNG_INFO_oFFs
 0x0100U

	)

756 
	#PNG_INFO_tIME
 0x0200U

	)

757 
	#PNG_INFO_pCAL
 0x0400U

	)

758 
	#PNG_INFO_sRGB
 0x0800U

	)

759 
	#PNG_INFO_iCCP
 0x1000U

	)

760 
	#PNG_INFO_sPLT
 0x2000U

	)

761 
	#PNG_INFO_sCAL
 0x4000U

	)

762 
	#PNG_INFO_IDAT
 0x8000U

	)

763 
	#PNG_INFO_eXIf
 0x10000U

	)

764 #ifdeà
PNG_APNG_SUPPORTED


765 
	#PNG_INFO_acTL
 0x20000U

	)

766 
	#PNG_INFO_fcTL
 0x40000U

	)

773 
	s²g_row_šfo_¡ruù


775 
²g_ušt_32
 
width
;

776 
size_t
 
rowby‹s
;

777 
²g_by‹
 
cŞÜ_ty³
;

778 
²g_by‹
 
b™_d•th
;

779 
²g_by‹
 
chªÃls
;

780 
²g_by‹
 
pix–_d•th
;

781 } 
	t²g_row_šfo
;

783 
²g_row_šfo
 * 
	t²g_row_šfİ
;

784 
²g_row_šfo
 * * 
	t²g_row_šfİp
;

794 
PNG_CALLBACK
(, *
	t²g_”rÜ_±r
, (
	t²g_¡ruùp
, 
	t²g_cÚ¡_ch¬p
));

795 
PNG_CALLBACK
(, *
	t²g_rw_±r
, (
	t²g_¡ruùp
, 
	t²g_by‹p
, 
	tsize_t
));

796 
PNG_CALLBACK
(, *
	t²g_æush_±r
, (
	t²g_¡ruùp
));

797 
PNG_CALLBACK
(, *
	t²g_»ad_¡©us_±r
, (
	t²g_¡ruùp
, 
	t²g_ušt_32
,

799 
PNG_CALLBACK
(, *
	t²g_wr™e_¡©us_±r
, (
	t²g_¡ruùp
, 
	t²g_ušt_32
,

802 #ifdeà
PNG_PROGRESSIVE_READ_SUPPORTED


803 
PNG_CALLBACK
(, *
	t²g_´og»ssive_šfo_±r
, (
	t²g_¡ruùp
, 
	t²g_šfİ
));

804 
PNG_CALLBACK
(, *
	t²g_´og»ssive_’d_±r
, (
	t²g_¡ruùp
, 
	t²g_šfİ
));

805 #ifdeà
PNG_APNG_SUPPORTED


806 
PNG_CALLBACK
(, *
	t²g_´og»ssive_äame_±r
, (
	t²g_¡ruùp
,

807 
	t²g_ušt_32
));

820 
PNG_CALLBACK
(, *
	t²g_´og»ssive_row_±r
, (
	t²g_¡ruùp
, 
	t²g_by‹p
,

821 
	t²g_ušt_32
, ));

824 #ià
defšed
(
PNG_READ_USER_TRANSFORM_SUPPORTED
) || \

825 
defšed
(
PNG_WRITE_USER_TRANSFORM_SUPPORTED
)

826 
PNG_CALLBACK
(, *
	t²g_u£r_ŒªsfÜm_±r
, (
	t²g_¡ruùp
, 
	t²g_row_šfİ
,

827 
	t²g_by‹p
));

830 #ifdeà
PNG_USER_CHUNKS_SUPPORTED


831 
PNG_CALLBACK
(, *
	t²g_u£r_chunk_±r
, (
	t²g_¡ruùp
,

832 
	t²g_unknown_chunkp
));

834 #ifdeà
PNG_UNKNOWN_CHUNKS_SUPPORTED


839 #ifdeà
PNG_SETJMP_SUPPORTED


851 
PNG_FUNCTION
(, (
PNGCAPI
 *
²g_lÚgjmp_±r
), 
PNGARG
((
jmp_buf
, )), );

855 
	#PNG_TRANSFORM_IDENTITY
 0x0000

	)

856 
	#PNG_TRANSFORM_STRIP_16
 0x0001

	)

857 
	#PNG_TRANSFORM_STRIP_ALPHA
 0x0002

	)

858 
	#PNG_TRANSFORM_PACKING
 0x0004

	)

859 
	#PNG_TRANSFORM_PACKSWAP
 0x0008

	)

860 
	#PNG_TRANSFORM_EXPAND
 0x0010

	)

861 
	#PNG_TRANSFORM_INVERT_MONO
 0x0020

	)

862 
	#PNG_TRANSFORM_SHIFT
 0x0040

	)

863 
	#PNG_TRANSFORM_BGR
 0x0080

	)

864 
	#PNG_TRANSFORM_SWAP_ALPHA
 0x0100

	)

865 
	#PNG_TRANSFORM_SWAP_ENDIAN
 0x0200

	)

866 
	#PNG_TRANSFORM_INVERT_ALPHA
 0x0400

	)

867 
	#PNG_TRANSFORM_STRIP_FILLER
 0x0800

	)

869 
	#PNG_TRANSFORM_STRIP_FILLER_BEFORE
 
PNG_TRANSFORM_STRIP_FILLER


	)

870 
	#PNG_TRANSFORM_STRIP_FILLER_AFTER
 0x1000

	)

872 
	#PNG_TRANSFORM_GRAY_TO_RGB
 0x2000

	)

874 
	#PNG_TRANSFORM_EXPAND_16
 0x4000

	)

875 #ià
INT_MAX
 >= 0x8000

876 
	#PNG_TRANSFORM_SCALE_16
 0x8000

	)

880 
	#PNG_FLAG_MNG_EMPTY_PLTE
 0x01

	)

881 
	#PNG_FLAG_MNG_FILTER_64
 0x04

	)

882 
	#PNG_ALL_MNG_FEATURES
 0x05

	)

890 
PNG_CALLBACK
(
	t²g_voidp
, *
	t²g_m®loc_±r
, (
	t²g_¡ruùp
,

891 
	t²g_®loc_size_t
));

892 
PNG_CALLBACK
(, *
	t²g_ä“_±r
, (
	t²g_¡ruùp
, 
	t²g_voidp
));

924 
PNG_EXPORT
(1, 
²g_ušt_32
, 
²g_acûss_v”siÚ_numb”
, ());

929 
PNG_EXPORT
(2, , 
²g_£t_sig_by‹s
, (
²g_¡ruù½
 
²g_±r
, 
num_by‹s
));

936 
PNG_EXPORT
(3, , 
²g_sig_cmp
, (
²g_cÚ¡_by‹p
 
sig
, 
size_t
 
¡¬t
,

937 
size_t
 
num_to_check
));

942 
	#²g_check_sig
(
sig
, 
n
è!
	`²g_sig_cmp
((sig), 0, (n))

	)

945 
PNG_EXPORTA
(4, 
²g_¡ruùp
, 
²g_ü—‹_»ad_¡ruù
,

946 (
²g_cÚ¡_ch¬p
 
u£r_²g_v”
, 
²g_voidp
 
”rÜ_±r
,

947 
²g_”rÜ_±r
 
”rÜ_â
,…ng_”rÜ_±¸
w¬n_â
),

948 
PNG_ALLOCATED
);

951 
PNG_EXPORTA
(5, 
²g_¡ruùp
, 
²g_ü—‹_wr™e_¡ruù
,

952 (
²g_cÚ¡_ch¬p
 
u£r_²g_v”
, 
²g_voidp
 
”rÜ_±r
, 
²g_”rÜ_±r
 
”rÜ_â
,

953 
²g_”rÜ_±r
 
w¬n_â
),

954 
PNG_ALLOCATED
);

956 
PNG_EXPORT
(6, 
size_t
, 
²g_g‘_com´essiÚ_bufãr_size
,

957 (
²g_cÚ¡_¡ruù½
 
²g_±r
));

959 
PNG_EXPORT
(7, , 
²g_£t_com´essiÚ_bufãr_size
, (
²g_¡ruù½
 
²g_±r
,

960 
size_t
 
size
));

965 #ifdeà
PNG_SETJMP_SUPPORTED


973 
PNG_EXPORT
(8, 
jmp_buf
*, 
²g_£t_lÚgjmp_â
, (
²g_¡ruù½
 
²g_±r
,

974 
²g_lÚgjmp_±r
 
lÚgjmp_â
, 
size_t
 
jmp_buf_size
));

975 
	#²g_jmpbuf
(
²g_±r
) \

976 (*
	`²g_£t_lÚgjmp_â
((
²g_±r
), 
lÚgjmp
, ( (
jmp_buf
))))

	)

978 
	#²g_jmpbuf
(
²g_±r
) \

979 (
LIBPNG_WAS_COMPILED_WITH__PNG_NO_SETJMP
)

	)

986 
PNG_EXPORTA
(9, , 
²g_lÚgjmp
, (
²g_cÚ¡_¡ruù½
 
²g_±r
, 
v®
),

987 
PNG_NORETURN
);

989 #ifdeà
PNG_READ_SUPPORTED


991 
PNG_EXPORTA
(10, , 
²g_»£t_z¡»am
, (
²g_¡ruù½
 
²g_±r
), 
PNG_DEPRECATED
);

995 #ifdeà
PNG_USER_MEM_SUPPORTED


996 
PNG_EXPORTA
(11, 
²g_¡ruùp
, 
²g_ü—‹_»ad_¡ruù_2
,

997 (
²g_cÚ¡_ch¬p
 
u£r_²g_v”
, 
²g_voidp
 
”rÜ_±r
, 
²g_”rÜ_±r
 
”rÜ_â
,

998 
²g_”rÜ_±r
 
w¬n_â
,

999 
²g_voidp
 
mem_±r
, 
²g_m®loc_±r
 
m®loc_â
, 
²g_ä“_±r
 
ä“_â
),

1000 
PNG_ALLOCATED
);

1001 
PNG_EXPORTA
(12, 
²g_¡ruùp
, 
²g_ü—‹_wr™e_¡ruù_2
,

1002 (
²g_cÚ¡_ch¬p
 
u£r_²g_v”
, 
²g_voidp
 
”rÜ_±r
, 
²g_”rÜ_±r
 
”rÜ_â
,

1003 
²g_”rÜ_±r
 
w¬n_â
,

1004 
²g_voidp
 
mem_±r
, 
²g_m®loc_±r
 
m®loc_â
, 
²g_ä“_±r
 
ä“_â
),

1005 
PNG_ALLOCATED
);

1009 
PNG_EXPORT
(13, , 
²g_wr™e_sig
, (
²g_¡ruù½
 
²g_±r
));

1012 
PNG_EXPORT
(14, , 
²g_wr™e_chunk
, (
²g_¡ruù½
 
²g_±r
, 
²g_cÚ¡_by‹p


1013 
chunk_Çme
, 
²g_cÚ¡_by‹p
 
d©a
, 
size_t
 
Ëngth
));

1016 
PNG_EXPORT
(15, , 
²g_wr™e_chunk_¡¬t
, (
²g_¡ruù½
 
²g_±r
,

1017 
²g_cÚ¡_by‹p
 
chunk_Çme
, 
²g_ušt_32
 
Ëngth
));

1020 
PNG_EXPORT
(16, , 
²g_wr™e_chunk_d©a
, (
²g_¡ruù½
 
²g_±r
,

1021 
²g_cÚ¡_by‹p
 
d©a
, 
size_t
 
Ëngth
));

1024 
PNG_EXPORT
(17, , 
²g_wr™e_chunk_’d
, (
²g_¡ruù½
 
²g_±r
));

1027 
PNG_EXPORTA
(18, 
²g_šfİ
, 
²g_ü—‹_šfo_¡ruù
, (
²g_cÚ¡_¡ruù½
 
²g_±r
),

1028 
PNG_ALLOCATED
);

1034 
PNG_EXPORTA
(19, , 
²g_šfo_š™_3
, (
²g_šfİp
 
šfo_±r
,

1035 
size_t
 
²g_šfo_¡ruù_size
), 
PNG_DEPRECATED
);

1038 
PNG_EXPORT
(20, , 
²g_wr™e_šfo_befÜe_PLTE
,

1039 (
²g_¡ruù½
 
²g_±r
, 
²g_cÚ¡_šfÜp
 
šfo_±r
));

1040 
PNG_EXPORT
(21, , 
²g_wr™e_šfo
,

1041 (
²g_¡ruù½
 
²g_±r
, 
²g_cÚ¡_šfÜp
 
šfo_±r
));

1043 #ifdeà
PNG_SEQUENTIAL_READ_SUPPORTED


1045 
PNG_EXPORT
(22, , 
²g_»ad_šfo
,

1046 (
²g_¡ruù½
 
²g_±r
, 
²g_šfÜp
 
šfo_±r
));

1049 #ifdeà
PNG_TIME_RFC1123_SUPPORTED


1054 #ià
PNG_LIBPNG_VER
 < 10700

1056 
PNG_EXPORTA
(23, 
²g_cÚ¡_ch¬p
, 
²g_cÚv”t_to_rfc1123
, (
²g_¡ruù½
 
²g_±r
,

1057 
²g_cÚ¡_tim•
 
±ime
),
PNG_DEPRECATED
);

1059 
PNG_EXPORT
(241, , 
²g_cÚv”t_to_rfc1123_bufãr
, (
out
[29],

1060 
²g_cÚ¡_tim•
 
±ime
));

1063 #ifdeà
PNG_CONVERT_tIME_SUPPORTED


1065 
PNG_EXPORT
(24, , 
²g_cÚv”t_äom_¡ruù_tm
, (
²g_tim•
 
±ime
,

1066 cÚ¡ 
tm
 * 
‰ime
));

1069 
PNG_EXPORT
(25, , 
²g_cÚv”t_äom_time_t
, (
²g_tim•
 
±ime
, 
time_t
 
‰ime
));

1072 #ifdeà
PNG_READ_EXPAND_SUPPORTED


1074 
PNG_EXPORT
(26, , 
²g_£t_ex·nd
, (
²g_¡ruù½
 
²g_±r
));

1075 
PNG_EXPORT
(27, , 
²g_£t_ex·nd_g¿y_1_2_4_to_8
, (
²g_¡ruù½
 
²g_±r
));

1076 
PNG_EXPORT
(28, , 
²g_£t_·Ë‰e_to_rgb
, (
²g_¡ruù½
 
²g_±r
));

1077 
PNG_EXPORT
(29, , 
²g_£t_tRNS_to_®pha
, (
²g_¡ruù½
 
²g_±r
));

1080 #ifdeà
PNG_READ_EXPAND_16_SUPPORTED


1084 
PNG_EXPORT
(221, , 
²g_£t_ex·nd_16
, (
²g_¡ruù½
 
²g_±r
));

1087 #ià
defšed
(
PNG_READ_BGR_SUPPORTED
è|| defšed(
PNG_WRITE_BGR_SUPPORTED
)

1089 
PNG_EXPORT
(30, , 
²g_£t_bgr
, (
²g_¡ruù½
 
²g_±r
));

1092 #ifdeà
PNG_READ_GRAY_TO_RGB_SUPPORTED


1094 
PNG_EXPORT
(31, , 
²g_£t_g¿y_to_rgb
, (
²g_¡ruù½
 
²g_±r
));

1097 #ifdeà
PNG_READ_RGB_TO_GRAY_SUPPORTED


1099 
	#PNG_ERROR_ACTION_NONE
 1

	)

1100 
	#PNG_ERROR_ACTION_WARN
 2

	)

1101 
	#PNG_ERROR_ACTION_ERROR
 3

	)

1102 
	#PNG_RGB_TO_GRAY_DEFAULT
 (-1)

	)

1104 
PNG_FP_EXPORT
(32, , 
²g_£t_rgb_to_g¿y
, (
²g_¡ruù½
 
²g_±r
,

1105 
”rÜ_aùiÚ
, 
»d
, 
g»’
))

1106 
PNG_FIXED_EXPORT
(33, , 
²g_£t_rgb_to_g¿y_fixed
, (
²g_¡ruù½
 
²g_±r
,

1107 
”rÜ_aùiÚ
, 
²g_fixed_pošt
 
»d
,…ng_fixed_pošˆ
g»’
))

1109 
PNG_EXPORT
(34, 
²g_by‹
, 
²g_g‘_rgb_to_g¿y_¡©us
, (
²g_cÚ¡_¡ruù½


1110 
²g_±r
));

1113 #ifdeà
PNG_BUILD_GRAYSCALE_PALETTE_SUPPORTED


1114 
PNG_EXPORT
(35, , 
²g_bud_g¿ysÿË_·Ë‰e
, (
b™_d•th
,

1115 
²g_cŞÜp
 
·Ë‰e
));

1118 #ifdeà
PNG_READ_ALPHA_MODE_SUPPORTED


1153 
	#PNG_ALPHA_PNG
 0

	)

1154 
	#PNG_ALPHA_STANDARD
 1

	)

1155 
	#PNG_ALPHA_ASSOCIATED
 1

	)

1156 
	#PNG_ALPHA_PREMULTIPLIED
 1

	)

1157 
	#PNG_ALPHA_OPTIMIZED
 2

	)

1158 
	#PNG_ALPHA_BROKEN
 3

	)

1160 
PNG_FP_EXPORT
(227, , 
²g_£t_®pha_mode
, (
²g_¡ruù½
 
²g_±r
, 
mode
,

1161 
ouut_gamma
))

1162 
PNG_FIXED_EXPORT
(228, , 
²g_£t_®pha_mode_fixed
, (
²g_¡ruù½
 
²g_±r
,

1163 
mode
, 
²g_fixed_pošt
 
ouut_gamma
))

1166 #ià
defšed
(
PNG_GAMMA_SUPPORTED
è|| defšed(
PNG_READ_ALPHA_MODE_SUPPORTED
)

1170 
	#PNG_DEFAULT_sRGB
 -1

	)

1171 
	#PNG_GAMMA_MAC_18
 -2

	)

1172 
	#PNG_GAMMA_sRGB
 220000

	)

1173 
	#PNG_GAMMA_LINEAR
 
PNG_FP_1


	)

1252 #ifdeà
PNG_READ_STRIP_ALPHA_SUPPORTED


1253 
PNG_EXPORT
(36, , 
²g_£t_¡r_®pha
, (
²g_¡ruù½
 
²g_±r
));

1256 #ià
defšed
(
PNG_READ_SWAP_ALPHA_SUPPORTED
) || \

1257 
defšed
(
PNG_WRITE_SWAP_ALPHA_SUPPORTED
)

1258 
PNG_EXPORT
(37, , 
²g_£t_sw­_®pha
, (
²g_¡ruù½
 
²g_±r
));

1261 #ià
defšed
(
PNG_READ_INVERT_ALPHA_SUPPORTED
) || \

1262 
defšed
(
PNG_WRITE_INVERT_ALPHA_SUPPORTED
)

1263 
PNG_EXPORT
(38, , 
²g_£t_šv”t_®pha
, (
²g_¡ruù½
 
²g_±r
));

1266 #ià
defšed
(
PNG_READ_FILLER_SUPPORTED
è|| defšed(
PNG_WRITE_FILLER_SUPPORTED
)

1268 
PNG_EXPORT
(39, , 
²g_£t_fËr
, (
²g_¡ruù½
 
²g_±r
, 
²g_ušt_32
 
fËr
,

1269 
æags
));

1271 
	#PNG_FILLER_BEFORE
 0

	)

1272 
	#PNG_FILLER_AFTER
 1

	)

1274 
PNG_EXPORT
(40, , 
²g_£t_add_®pha
, (
²g_¡ruù½
 
²g_±r
,

1275 
²g_ušt_32
 
fËr
, 
æags
));

1278 #ià
defšed
(
PNG_READ_SWAP_SUPPORTED
è|| defšed(
PNG_WRITE_SWAP_SUPPORTED
)

1280 
PNG_EXPORT
(41, , 
²g_£t_sw­
, (
²g_¡ruù½
 
²g_±r
));

1283 #ià
defšed
(
PNG_READ_PACK_SUPPORTED
è|| defšed(
PNG_WRITE_PACK_SUPPORTED
)

1285 
PNG_EXPORT
(42, , 
²g_£t_·ckšg
, (
²g_¡ruù½
 
²g_±r
));

1288 #ià
defšed
(
PNG_READ_PACKSWAP_SUPPORTED
) || \

1289 
defšed
(
PNG_WRITE_PACKSWAP_SUPPORTED
)

1291 
PNG_EXPORT
(43, , 
²g_£t_·cksw­
, (
²g_¡ruù½
 
²g_±r
));

1294 #ià
defšed
(
PNG_READ_SHIFT_SUPPORTED
è|| defšed(
PNG_WRITE_SHIFT_SUPPORTED
)

1296 
PNG_EXPORT
(44, , 
²g_£t_shiá
, (
²g_¡ruù½
 
²g_±r
, 
²g_cÚ¡_cŞÜ_8p


1297 
Œue_b™s
));

1300 #ià
defšed
(
PNG_READ_INTERLACING_SUPPORTED
) || \

1301 
defšed
(
PNG_WRITE_INTERLACING_SUPPORTED
)

1308 
PNG_EXPORT
(45, , 
²g_£t_š‹¾aû_hªdlšg
, (
²g_¡ruù½
 
²g_±r
));

1311 #ià
defšed
(
PNG_READ_INVERT_SUPPORTED
è|| defšed(
PNG_WRITE_INVERT_SUPPORTED
)

1313 
PNG_EXPORT
(46, , 
²g_£t_šv”t_mÚo
, (
²g_¡ruù½
 
²g_±r
));

1316 #ifdeà
PNG_READ_BACKGROUND_SUPPORTED


1322 
PNG_FP_EXPORT
(47, , 
²g_£t_background
, (
²g_¡ruù½
 
²g_±r
,

1323 
²g_cÚ¡_cŞÜ_16p
 
background_cŞÜ
, 
background_gamma_code
,

1324 
Ãed_ex·nd
, 
background_gamma
))

1325 
PNG_FIXED_EXPORT
(215, , 
²g_£t_background_fixed
, (
²g_¡ruù½
 
²g_±r
,

1326 
²g_cÚ¡_cŞÜ_16p
 
background_cŞÜ
, 
background_gamma_code
,

1327 
Ãed_ex·nd
, 
²g_fixed_pošt
 
background_gamma
))

1329 #ifdeà
PNG_READ_BACKGROUND_SUPPORTED


1330 
	#PNG_BACKGROUND_GAMMA_UNKNOWN
 0

	)

1331 
	#PNG_BACKGROUND_GAMMA_SCREEN
 1

	)

1332 
	#PNG_BACKGROUND_GAMMA_FILE
 2

	)

1333 
	#PNG_BACKGROUND_GAMMA_UNIQUE
 3

	)

1336 #ifdeà
PNG_READ_SCALE_16_TO_8_SUPPORTED


1338 
PNG_EXPORT
(229, , 
²g_£t_sÿË_16
, (
²g_¡ruù½
 
²g_±r
));

1341 #ifdeà
PNG_READ_STRIP_16_TO_8_SUPPORTED


1342 
	#PNG_READ_16_TO_8_SUPPORTED


	)

1344 
PNG_EXPORT
(48, , 
²g_£t_¡r_16
, (
²g_¡ruù½
 
²g_±r
));

1347 #ifdeà
PNG_READ_QUANTIZE_SUPPORTED


1351 
PNG_EXPORT
(49, , 
²g_£t_quªtize
, (
²g_¡ruù½
 
²g_±r
,

1352 
²g_cŞÜp
 
·Ë‰e
, 
num_·Ë‰e
, 
maximum_cŞÜs
,

1353 
²g_cÚ¡_ušt_16p
 
hi¡og¿m
, 
fuÎ_quªtize
));

1356 #ifdeà
PNG_READ_GAMMA_SUPPORTED


1360 
	#PNG_GAMMA_THRESHOLD
 (
PNG_GAMMA_THRESHOLD_FIXED
*.00001)

	)

1373 
PNG_FP_EXPORT
(50, , 
²g_£t_gamma
, (
²g_¡ruù½
 
²g_±r
,

1374 
sü“n_gamma
, 
ov”ride_fe_gamma
))

1375 
PNG_FIXED_EXPORT
(208, , 
²g_£t_gamma_fixed
, (
²g_¡ruù½
 
²g_±r
,

1376 
²g_fixed_pošt
 
sü“n_gamma
,…ng_fixed_pošˆ
ov”ride_fe_gamma
))

1379 #ifdeà
PNG_WRITE_FLUSH_SUPPORTED


1381 
PNG_EXPORT
(51, , 
²g_£t_æush
, (
²g_¡ruù½
 
²g_±r
, 
Äows
));

1383 
PNG_EXPORT
(52, , 
²g_wr™e_æush
, (
²g_¡ruù½
 
²g_±r
));

1387 
PNG_EXPORT
(53, , 
²g_¡¬t_»ad_image
, (
²g_¡ruù½
 
²g_±r
));

1390 
PNG_EXPORT
(54, , 
²g_»ad_upd©e_šfo
, (
²g_¡ruù½
 
²g_±r
,

1391 
²g_šfÜp
 
šfo_±r
));

1393 #ifdeà
PNG_SEQUENTIAL_READ_SUPPORTED


1395 
PNG_EXPORT
(55, , 
²g_»ad_rows
, (
²g_¡ruù½
 
²g_±r
, 
²g_by‹µ
 
row
,

1396 
²g_by‹µ
 
di¥Ïy_row
, 
²g_ušt_32
 
num_rows
));

1399 #ifdeà
PNG_SEQUENTIAL_READ_SUPPORTED


1401 
PNG_EXPORT
(56, , 
²g_»ad_row
, (
²g_¡ruù½
 
²g_±r
, 
²g_by‹p
 
row
,

1402 
²g_by‹p
 
di¥Ïy_row
));

1405 #ifdeà
PNG_SEQUENTIAL_READ_SUPPORTED


1407 
PNG_EXPORT
(57, , 
²g_»ad_image
, (
²g_¡ruù½
 
²g_±r
, 
²g_by‹µ
 
image
));

1411 
PNG_EXPORT
(58, , 
²g_wr™e_row
, (
²g_¡ruù½
 
²g_±r
,

1412 
²g_cÚ¡_by‹p
 
row
));

1419 
PNG_EXPORT
(59, , 
²g_wr™e_rows
, (
²g_¡ruù½
 
²g_±r
, 
²g_by‹µ
 
row
,

1420 
²g_ušt_32
 
num_rows
));

1423 
PNG_EXPORT
(60, , 
²g_wr™e_image
, (
²g_¡ruù½
 
²g_±r
, 
²g_by‹µ
 
image
));

1426 
PNG_EXPORT
(61, , 
²g_wr™e_’d
, (
²g_¡ruù½
 
²g_±r
,

1427 
²g_šfÜp
 
šfo_±r
));

1429 #ifdeà
PNG_SEQUENTIAL_READ_SUPPORTED


1431 
PNG_EXPORT
(62, , 
²g_»ad_’d
, (
²g_¡ruù½
 
²g_±r
, 
²g_šfÜp
 
šfo_±r
));

1435 
PNG_EXPORT
(63, , 
²g_de¡roy_šfo_¡ruù
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1436 
²g_šfİp
 
šfo_±r_±r
));

1439 
PNG_EXPORT
(64, , 
²g_de¡roy_»ad_¡ruù
, (
²g_¡ruùµ
 
²g_±r_±r
,

1440 
²g_šfİp
 
šfo_±r_±r
,…ng_šfİ°
’d_šfo_±r_±r
));

1443 
PNG_EXPORT
(65, , 
²g_de¡roy_wr™e_¡ruù
, (
²g_¡ruùµ
 
²g_±r_±r
,

1444 
²g_šfİp
 
šfo_±r_±r
));

1447 
PNG_EXPORT
(66, , 
²g_£t_üc_aùiÚ
, (
²g_¡ruù½
 
²g_±r
, 
ü™_aùiÚ
,

1448 
ªc_aùiÚ
));

1459 
	#PNG_CRC_DEFAULT
 0

	)

1460 
	#PNG_CRC_ERROR_QUIT
 1

	)

1461 
	#PNG_CRC_WARN_DISCARD
 2

	)

1462 
	#PNG_CRC_WARN_USE
 3

	)

1463 
	#PNG_CRC_QUIET_USE
 4

	)

1464 
	#PNG_CRC_NO_CHANGE
 5

	)

1466 #ifdeà
PNG_WRITE_SUPPORTED


1478 
PNG_EXPORT
(67, , 
²g_£t_f‹r
, (
²g_¡ruù½
 
²g_±r
, 
m‘hod
,

1479 
f‹rs
));

1487 
	#PNG_NO_FILTERS
 0x00

	)

1488 
	#PNG_FILTER_NONE
 0x08

	)

1489 
	#PNG_FILTER_SUB
 0x10

	)

1490 
	#PNG_FILTER_UP
 0x20

	)

1491 
	#PNG_FILTER_AVG
 0x40

	)

1492 
	#PNG_FILTER_PAETH
 0x80

	)

1493 
	#PNG_FAST_FILTERS
 (
PNG_FILTER_NONE
 | 
PNG_FILTER_SUB
 | 
PNG_FILTER_UP
)

	)

1494 
	#PNG_ALL_FILTERS
 (
PNG_FAST_FILTERS
 | 
PNG_FILTER_AVG
 | 
PNG_FILTER_PAETH
)

	)

1499 
	#PNG_FILTER_VALUE_NONE
 0

	)

1500 
	#PNG_FILTER_VALUE_SUB
 1

	)

1501 
	#PNG_FILTER_VALUE_UP
 2

	)

1502 
	#PNG_FILTER_VALUE_AVG
 3

	)

1503 
	#PNG_FILTER_VALUE_PAETH
 4

	)

1504 
	#PNG_FILTER_VALUE_LAST
 5

	)

1506 #ifdeà
PNG_WRITE_SUPPORTED


1507 #ifdeà
PNG_WRITE_WEIGHTED_FILTER_SUPPORTED


1508 
PNG_FP_EXPORT
(68, , 
²g_£t_f‹r_heuri¡ics
, (
²g_¡ruù½
 
²g_±r
,

1509 
heuri¡ic_m‘hod
, 
num_weights
, 
²g_cÚ¡_doubËp
 
f‹r_weights
,

1510 
²g_cÚ¡_doubËp
 
f‹r_co¡s
))

1511 
PNG_FIXED_EXPORT
(209, , 
²g_£t_f‹r_heuri¡ics_fixed
,

1512 (
²g_¡ruù½
 
²g_±r
, 
heuri¡ic_m‘hod
, 
num_weights
,

1513 
²g_cÚ¡_fixed_pošt_p
 
f‹r_weights
,

1514 
²g_cÚ¡_fixed_pošt_p
 
f‹r_co¡s
))

1518 
	#PNG_FILTER_HEURISTIC_DEFAULT
 0

	)

1519 
	#PNG_FILTER_HEURISTIC_UNWEIGHTED
 1

	)

1520 
	#PNG_FILTER_HEURISTIC_WEIGHTED
 2

	)

1521 
	#PNG_FILTER_HEURISTIC_LAST
 3

	)

1530 #ifdeà
PNG_WRITE_CUSTOMIZE_COMPRESSION_SUPPORTED


1531 
PNG_EXPORT
(69, , 
²g_£t_com´essiÚ_Ëv–
, (
²g_¡ruù½
 
²g_±r
,

1532 
Ëv–
));

1534 
PNG_EXPORT
(70, , 
²g_£t_com´essiÚ_mem_Ëv–
, (
²g_¡ruù½
 
²g_±r
,

1535 
mem_Ëv–
));

1537 
PNG_EXPORT
(71, , 
²g_£t_com´essiÚ_¡¿‹gy
, (
²g_¡ruù½
 
²g_±r
,

1538 
¡¿‹gy
));

1543 
PNG_EXPORT
(72, , 
²g_£t_com´essiÚ_wšdow_b™s
, (
²g_¡ruù½
 
²g_±r
,

1544 
wšdow_b™s
));

1546 
PNG_EXPORT
(73, , 
²g_£t_com´essiÚ_m‘hod
, (
²g_¡ruù½
 
²g_±r
,

1547 
m‘hod
));

1550 #ifdeà
PNG_WRITE_CUSTOMIZE_ZTXT_COMPRESSION_SUPPORTED


1552 
PNG_EXPORT
(222, , 
²g_£t_‹xt_com´essiÚ_Ëv–
, (
²g_¡ruù½
 
²g_±r
,

1553 
Ëv–
));

1555 
PNG_EXPORT
(223, , 
²g_£t_‹xt_com´essiÚ_mem_Ëv–
, (
²g_¡ruù½
 
²g_±r
,

1556 
mem_Ëv–
));

1558 
PNG_EXPORT
(224, , 
²g_£t_‹xt_com´essiÚ_¡¿‹gy
, (
²g_¡ruù½
 
²g_±r
,

1559 
¡¿‹gy
));

1564 
PNG_EXPORT
(225, , 
²g_£t_‹xt_com´essiÚ_wšdow_b™s
,

1565 (
²g_¡ruù½
 
²g_±r
, 
wšdow_b™s
));

1567 
PNG_EXPORT
(226, , 
²g_£t_‹xt_com´essiÚ_m‘hod
, (
²g_¡ruù½
 
²g_±r
,

1568 
m‘hod
));

1581 #ifdeà
PNG_STDIO_SUPPORTED


1583 
PNG_EXPORT
(74, , 
²g_š™_io
, (
²g_¡ruù½
 
²g_±r
, 
²g_FILE_p
 
å
));

1594 
PNG_EXPORT
(75, , 
²g_£t_”rÜ_â
, (
²g_¡ruù½
 
²g_±r
,

1595 
²g_voidp
 
”rÜ_±r
, 
²g_”rÜ_±r
 
”rÜ_â
,…ng_”rÜ_±¸
w¬nšg_â
));

1598 
PNG_EXPORT
(76, 
²g_voidp
, 
²g_g‘_”rÜ_±r
, (
²g_cÚ¡_¡ruù½
 
²g_±r
));

1610 
PNG_EXPORT
(77, , 
²g_£t_wr™e_â
, (
²g_¡ruù½
 
²g_±r
, 
²g_voidp
 
io_±r
,

1611 
²g_rw_±r
 
wr™e_d©a_â
, 
²g_æush_±r
 
ouut_æush_â
));

1614 
PNG_EXPORT
(78, , 
²g_£t_»ad_â
, (
²g_¡ruù½
 
²g_±r
, 
²g_voidp
 
io_±r
,

1615 
²g_rw_±r
 
»ad_d©a_â
));

1618 
PNG_EXPORT
(79, 
²g_voidp
, 
²g_g‘_io_±r
, (
²g_cÚ¡_¡ruù½
 
²g_±r
));

1620 
PNG_EXPORT
(80, , 
²g_£t_»ad_¡©us_â
, (
²g_¡ruù½
 
²g_±r
,

1621 
²g_»ad_¡©us_±r
 
»ad_row_â
));

1623 
PNG_EXPORT
(81, , 
²g_£t_wr™e_¡©us_â
, (
²g_¡ruù½
 
²g_±r
,

1624 
²g_wr™e_¡©us_±r
 
wr™e_row_â
));

1626 #ifdeà
PNG_USER_MEM_SUPPORTED


1628 
PNG_EXPORT
(82, , 
²g_£t_mem_â
, (
²g_¡ruù½
 
²g_±r
, 
²g_voidp
 
mem_±r
,

1629 
²g_m®loc_±r
 
m®loc_â
, 
²g_ä“_±r
 
ä“_â
));

1631 
PNG_EXPORT
(83, 
²g_voidp
, 
²g_g‘_mem_±r
, (
²g_cÚ¡_¡ruù½
 
²g_±r
));

1634 #ifdeà
PNG_READ_USER_TRANSFORM_SUPPORTED


1635 
PNG_EXPORT
(84, , 
²g_£t_»ad_u£r_ŒªsfÜm_â
, (
²g_¡ruù½
 
²g_±r
,

1636 
²g_u£r_ŒªsfÜm_±r
 
»ad_u£r_ŒªsfÜm_â
));

1639 #ifdeà
PNG_WRITE_USER_TRANSFORM_SUPPORTED


1640 
PNG_EXPORT
(85, , 
²g_£t_wr™e_u£r_ŒªsfÜm_â
, (
²g_¡ruù½
 
²g_±r
,

1641 
²g_u£r_ŒªsfÜm_±r
 
wr™e_u£r_ŒªsfÜm_â
));

1644 #ifdeà
PNG_USER_TRANSFORM_PTR_SUPPORTED


1645 
PNG_EXPORT
(86, , 
²g_£t_u£r_ŒªsfÜm_šfo
, (
²g_¡ruù½
 
²g_±r
,

1646 
²g_voidp
 
u£r_ŒªsfÜm_±r
, 
u£r_ŒªsfÜm_d•th
,

1647 
u£r_ŒªsfÜm_chªÃls
));

1649 
PNG_EXPORT
(87, 
²g_voidp
, 
²g_g‘_u£r_ŒªsfÜm_±r
,

1650 (
²g_cÚ¡_¡ruù½
 
²g_±r
));

1653 #ifdeà
PNG_USER_TRANSFORM_INFO_SUPPORTED


1665 
PNG_EXPORT
(217, 
²g_ušt_32
, 
²g_g‘_cu¼’t_row_numb”
, (
²g_cÚ¡_¡ruù½
));

1666 
PNG_EXPORT
(218, 
²g_by‹
, 
²g_g‘_cu¼’t_·ss_numb”
, (
²g_cÚ¡_¡ruù½
));

1669 #ifdeà
PNG_READ_USER_CHUNKS_SUPPORTED


1689 
PNG_EXPORT
(88, , 
²g_£t_»ad_u£r_chunk_â
, (
²g_¡ruù½
 
²g_±r
,

1690 
²g_voidp
 
u£r_chunk_±r
, 
²g_u£r_chunk_±r
 
»ad_u£r_chunk_â
));

1693 #ifdeà
PNG_USER_CHUNKS_SUPPORTED


1694 
PNG_EXPORT
(89, 
²g_voidp
, 
²g_g‘_u£r_chunk_±r
, (
²g_cÚ¡_¡ruù½
 
²g_±r
));

1697 #ifdeà
PNG_PROGRESSIVE_READ_SUPPORTED


1701 
PNG_EXPORT
(90, , 
²g_£t_´og»ssive_»ad_â
, (
²g_¡ruù½
 
²g_±r
,

1702 
²g_voidp
 
´og»ssive_±r
, 
²g_´og»ssive_šfo_±r
 
šfo_â
,

1703 
²g_´og»ssive_row_±r
 
row_â
, 
²g_´og»ssive_’d_±r
 
’d_â
));

1706 
PNG_EXPORT
(91, 
²g_voidp
, 
²g_g‘_´og»ssive_±r
,

1707 (
²g_cÚ¡_¡ruù½
 
²g_±r
));

1710 
PNG_EXPORT
(92, , 
²g_´oûss_d©a
, (
²g_¡ruù½
 
²g_±r
,

1711 
²g_šfÜp
 
šfo_±r
, 
²g_by‹p
 
bufãr
, 
size_t
 
bufãr_size
));

1720 
PNG_EXPORT
(219, 
size_t
, 
²g_´oûss_d©a_·u£
, (
²g_¡ruù½
, 
§ve
));

1728 
PNG_EXPORT
(220, 
²g_ušt_32
, 
²g_´oûss_d©a_sk
, (
²g_¡ruù½
));

1735 
PNG_EXPORT
(93, , 
²g_´og»ssive_combše_row
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1736 
²g_by‹p
 
Şd_row
, 
²g_cÚ¡_by‹p
 
Ãw_row
));

1739 
PNG_EXPORTA
(94, 
²g_voidp
, 
²g_m®loc
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1740 
²g_®loc_size_t
 
size
), 
PNG_ALLOCATED
);

1742 
PNG_EXPORTA
(95, 
²g_voidp
, 
²g_ÿÎoc
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1743 
²g_®loc_size_t
 
size
), 
PNG_ALLOCATED
);

1746 
PNG_EXPORTA
(96, 
²g_voidp
, 
²g_m®loc_w¬n
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1747 
²g_®loc_size_t
 
size
), 
PNG_ALLOCATED
);

1750 
PNG_EXPORT
(97, , 
²g_ä“
, (
²g_cÚ¡_¡ruù½
 
²g_±r
, 
²g_voidp
 
±r
));

1753 
PNG_EXPORT
(98, , 
²g_ä“_d©a
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1754 
²g_šfÜp
 
šfo_±r
, 
²g_ušt_32
 
ä“_me
, 
num
));

1763 
PNG_EXPORT
(99, , 
²g_d©a_ä“r
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1764 
²g_šfÜp
 
šfo_±r
, 
ä“r
, 
²g_ušt_32
 
mask
));

1767 
	#PNG_DESTROY_WILL_FREE_DATA
 1

	)

1768 
	#PNG_SET_WILL_FREE_DATA
 1

	)

1769 
	#PNG_USER_WILL_FREE_DATA
 2

	)

1771 
	#PNG_FREE_HIST
 0x0008U

	)

1772 
	#PNG_FREE_ICCP
 0x0010U

	)

1773 
	#PNG_FREE_SPLT
 0x0020U

	)

1774 
	#PNG_FREE_ROWS
 0x0040U

	)

1775 
	#PNG_FREE_PCAL
 0x0080U

	)

1776 
	#PNG_FREE_SCAL
 0x0100U

	)

1777 #ifdeà
PNG_STORE_UNKNOWN_CHUNKS_SUPPORTED


1778 
	#PNG_FREE_UNKN
 0x0200U

	)

1781 
	#PNG_FREE_PLTE
 0x1000U

	)

1782 
	#PNG_FREE_TRNS
 0x2000U

	)

1783 
	#PNG_FREE_TEXT
 0x4000U

	)

1784 
	#PNG_FREE_EXIF
 0x8000U

	)

1785 
	#PNG_FREE_ALL
 0xffffU

	)

1786 
	#PNG_FREE_MUL
 0x4220U

	)

1788 #ifdeà
PNG_USER_MEM_SUPPORTED


1789 
PNG_EXPORTA
(100, 
²g_voidp
, 
²g_m®loc_deçuÉ
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1790 
²g_®loc_size_t
 
size
), 
PNG_ALLOCATED
 
PNG_DEPRECATED
);

1791 
PNG_EXPORTA
(101, , 
²g_ä“_deçuÉ
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1792 
²g_voidp
 
±r
), 
PNG_DEPRECATED
);

1795 #ifdeà
PNG_ERROR_TEXT_SUPPORTED


1797 
PNG_EXPORTA
(102, , 
²g_”rÜ
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1798 
²g_cÚ¡_ch¬p
 
”rÜ_mes§ge
), 
PNG_NORETURN
);

1801 
PNG_EXPORTA
(103, , 
²g_chunk_”rÜ
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1802 
²g_cÚ¡_ch¬p
 
”rÜ_mes§ge
), 
PNG_NORETURN
);

1806 
PNG_EXPORTA
(104, , 
²g_”r
, (
²g_cÚ¡_¡ruù½
 
²g_±r
), 
PNG_NORETURN
);

1807 
	#²g_”rÜ
(
s1
,
s2
è
	`²g_”r
(s1)

	)

1808 
	#²g_chunk_”rÜ
(
s1
,
s2
è
	`²g_”r
(s1)

	)

1811 #ifdeà
PNG_WARNINGS_SUPPORTED


1813 
PNG_EXPORT
(105, , 
²g_w¬nšg
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1814 
²g_cÚ¡_ch¬p
 
w¬nšg_mes§ge
));

1817 
PNG_EXPORT
(106, , 
²g_chunk_w¬nšg
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1818 
²g_cÚ¡_ch¬p
 
w¬nšg_mes§ge
));

1820 
	#²g_w¬nšg
(
s1
,
s2
è(()(s1))

	)

1821 
	#²g_chunk_w¬nšg
(
s1
,
s2
è(()(s1))

	)

1824 #ifdeà
PNG_BENIGN_ERRORS_SUPPORTED


1827 
PNG_EXPORT
(107, , 
²g_b’ign_”rÜ
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1828 
²g_cÚ¡_ch¬p
 
w¬nšg_mes§ge
));

1830 #ifdeà
PNG_READ_SUPPORTED


1832 
PNG_EXPORT
(108, , 
²g_chunk_b’ign_”rÜ
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1833 
²g_cÚ¡_ch¬p
 
w¬nšg_mes§ge
));

1836 
PNG_EXPORT
(109, , 
²g_£t_b’ign_”rÜs
,

1837 (
²g_¡ruù½
 
²g_±r
, 
®lowed
));

1839 #ifdeà
PNG_ALLOW_BENIGN_ERRORS


1840 
	#²g_b’ign_”rÜ
 
²g_w¬nšg


	)

1841 
	#²g_chunk_b’ign_”rÜ
 
²g_chunk_w¬nšg


	)

1843 
	#²g_b’ign_”rÜ
 
²g_”rÜ


	)

1844 
	#²g_chunk_b’ign_”rÜ
 
²g_chunk_”rÜ


	)

1861 
PNG_EXPORT
(110, 
²g_ušt_32
, 
²g_g‘_v®id
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1862 
²g_cÚ¡_šfÜp
 
šfo_±r
, 
²g_ušt_32
 
æag
));

1865 
PNG_EXPORT
(111, 
size_t
, 
²g_g‘_rowby‹s
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1866 
²g_cÚ¡_šfÜp
 
šfo_±r
));

1868 #ifdeà
PNG_INFO_IMAGE_SUPPORTED


1872 
PNG_EXPORT
(112, 
²g_by‹µ
, 
²g_g‘_rows
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1873 
²g_cÚ¡_šfÜp
 
šfo_±r
));

1878 
PNG_EXPORT
(113, , 
²g_£t_rows
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1879 
²g_šfÜp
 
šfo_±r
, 
²g_by‹µ
 
row_poš‹rs
));

1883 
PNG_EXPORT
(114, 
²g_by‹
, 
²g_g‘_chªÃls
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1884 
²g_cÚ¡_šfÜp
 
šfo_±r
));

1886 #ifdeà
PNG_EASY_ACCESS_SUPPORTED


1888 
PNG_EXPORT
(115, 
²g_ušt_32
, 
²g_g‘_image_width
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1889 
²g_cÚ¡_šfÜp
 
šfo_±r
));

1892 
PNG_EXPORT
(116, 
²g_ušt_32
, 
²g_g‘_image_height
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1893 
²g_cÚ¡_šfÜp
 
šfo_±r
));

1896 
PNG_EXPORT
(117, 
²g_by‹
, 
²g_g‘_b™_d•th
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1897 
²g_cÚ¡_šfÜp
 
šfo_±r
));

1900 
PNG_EXPORT
(118, 
²g_by‹
, 
²g_g‘_cŞÜ_ty³
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1901 
²g_cÚ¡_šfÜp
 
šfo_±r
));

1904 
PNG_EXPORT
(119, 
²g_by‹
, 
²g_g‘_f‹r_ty³
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1905 
²g_cÚ¡_šfÜp
 
šfo_±r
));

1908 
PNG_EXPORT
(120, 
²g_by‹
, 
²g_g‘_š‹¾aû_ty³
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1909 
²g_cÚ¡_šfÜp
 
šfo_±r
));

1912 
PNG_EXPORT
(121, 
²g_by‹
, 
²g_g‘_com´essiÚ_ty³
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1913 
²g_cÚ¡_šfÜp
 
šfo_±r
));

1916 
PNG_EXPORT
(122, 
²g_ušt_32
, 
²g_g‘_pix–s_³r_m‘”
,

1917 (
²g_cÚ¡_¡ruù½
 
²g_±r
, 
²g_cÚ¡_šfÜp
 
šfo_±r
));

1918 
PNG_EXPORT
(123, 
²g_ušt_32
, 
²g_g‘_x_pix–s_³r_m‘”
,

1919 (
²g_cÚ¡_¡ruù½
 
²g_±r
, 
²g_cÚ¡_šfÜp
 
šfo_±r
));

1920 
PNG_EXPORT
(124, 
²g_ušt_32
, 
²g_g‘_y_pix–s_³r_m‘”
,

1921 (
²g_cÚ¡_¡ruù½
 
²g_±r
, 
²g_cÚ¡_šfÜp
 
šfo_±r
));

1924 
PNG_FP_EXPORT
(125, , 
²g_g‘_pix–_a¥eù_¿tio
,

1925 (
²g_cÚ¡_¡ruù½
 
²g_±r
, 
²g_cÚ¡_šfÜp
 
šfo_±r
))

1926 
PNG_FIXED_EXPORT
(210, 
²g_fixed_pošt
, 
²g_g‘_pix–_a¥eù_¿tio_fixed
,

1927 (
²g_cÚ¡_¡ruù½
 
²g_±r
, 
²g_cÚ¡_šfÜp
 
šfo_±r
))

1930 
PNG_EXPORT
(126, 
²g_št_32
, 
²g_g‘_x_off£t_pix–s
,

1931 (
²g_cÚ¡_¡ruù½
 
²g_±r
, 
²g_cÚ¡_šfÜp
 
šfo_±r
));

1932 
PNG_EXPORT
(127, 
²g_št_32
, 
²g_g‘_y_off£t_pix–s
,

1933 (
²g_cÚ¡_¡ruù½
 
²g_±r
, 
²g_cÚ¡_šfÜp
 
šfo_±r
));

1934 
PNG_EXPORT
(128, 
²g_št_32
, 
²g_g‘_x_off£t_miüÚs
,

1935 (
²g_cÚ¡_¡ruù½
 
²g_±r
, 
²g_cÚ¡_šfÜp
 
šfo_±r
));

1936 
PNG_EXPORT
(129, 
²g_št_32
, 
²g_g‘_y_off£t_miüÚs
,

1937 (
²g_cÚ¡_¡ruù½
 
²g_±r
, 
²g_cÚ¡_šfÜp
 
šfo_±r
));

1941 #ifdeà
PNG_READ_SUPPORTED


1943 
PNG_EXPORT
(130, 
²g_cÚ¡_by‹p
, 
²g_g‘_sigÇtu»
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1944 
²g_cÚ¡_šfÜp
 
šfo_±r
));

1947 #ifdeà
PNG_bKGD_SUPPORTED


1948 
PNG_EXPORT
(131, 
²g_ušt_32
, 
²g_g‘_bKGD
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1949 
²g_šfÜp
 
šfo_±r
, 
²g_cŞÜ_16p
 *
background
));

1952 #ifdeà
PNG_bKGD_SUPPORTED


1953 
PNG_EXPORT
(132, , 
²g_£t_bKGD
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1954 
²g_šfÜp
 
šfo_±r
, 
²g_cÚ¡_cŞÜ_16p
 
background
));

1957 #ifdeà
PNG_cHRM_SUPPORTED


1958 
PNG_FP_EXPORT
(133, 
²g_ušt_32
, 
²g_g‘_cHRM
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1959 
²g_cÚ¡_šfÜp
 
šfo_±r
, *
wh™e_x
, *
wh™e_y
, *
»d_x
,

1960 *
»d_y
, *
g»’_x
, *
g»’_y
, *
blue_x
,

1961 *
blue_y
))

1962 
PNG_FP_EXPORT
(230, 
²g_ušt_32
, 
²g_g‘_cHRM_XYZ
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1963 
²g_cÚ¡_šfÜp
 
šfo_±r
, *
»d_X
, *
»d_Y
, *
»d_Z
,

1964 *
g»’_X
, *
g»’_Y
, *
g»’_Z
, *
blue_X
,

1965 *
blue_Y
, *
blue_Z
))

1966 
PNG_FIXED_EXPORT
(134, 
²g_ušt_32
, 
²g_g‘_cHRM_fixed
,

1967 (
²g_cÚ¡_¡ruù½
 
²g_±r
, 
²g_cÚ¡_šfÜp
 
šfo_±r
,

1968 
²g_fixed_pošt
 *
št_wh™e_x
,…ng_fixed_pošˆ*
št_wh™e_y
,

1969 
²g_fixed_pošt
 *
št_»d_x
,…ng_fixed_pošˆ*
št_»d_y
,

1970 
²g_fixed_pošt
 *
št_g»’_x
,…ng_fixed_pošˆ*
št_g»’_y
,

1971 
²g_fixed_pošt
 *
št_blue_x
,…ng_fixed_pošˆ*
št_blue_y
))

1972 
PNG_FIXED_EXPORT
(231, 
²g_ušt_32
, 
²g_g‘_cHRM_XYZ_fixed
,

1973 (
²g_cÚ¡_¡ruù½
 
²g_±r
, 
²g_cÚ¡_šfÜp
 
šfo_±r
,

1974 
²g_fixed_pošt
 *
št_»d_X
,…ng_fixed_pošˆ*
št_»d_Y
,

1975 
²g_fixed_pošt
 *
št_»d_Z
,…ng_fixed_pošˆ*
št_g»’_X
,

1976 
²g_fixed_pošt
 *
št_g»’_Y
,…ng_fixed_pošˆ*
št_g»’_Z
,

1977 
²g_fixed_pošt
 *
št_blue_X
,…ng_fixed_pošˆ*
št_blue_Y
,

1978 
²g_fixed_pošt
 *
št_blue_Z
))

1981 #ifdeà
PNG_cHRM_SUPPORTED


1982 
PNG_FP_EXPORT
(135, , 
²g_£t_cHRM
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1983 
²g_šfÜp
 
šfo_±r
,

1984 
wh™e_x
, 
wh™e_y
, 
»d_x
, 
»d_y
, 
g»’_x
,

1985 
g»’_y
, 
blue_x
, 
blue_y
))

1986 
PNG_FP_EXPORT
(232, , 
²g_£t_cHRM_XYZ
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1987 
²g_šfÜp
 
šfo_±r
, 
»d_X
, 
»d_Y
, 
»d_Z
,

1988 
g»’_X
, 
g»’_Y
, 
g»’_Z
, 
blue_X
,

1989 
blue_Y
, 
blue_Z
))

1990 
PNG_FIXED_EXPORT
(136, , 
²g_£t_cHRM_fixed
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1991 
²g_šfÜp
 
šfo_±r
, 
²g_fixed_pošt
 
št_wh™e_x
,

1992 
²g_fixed_pošt
 
št_wh™e_y
,…ng_fixed_pošˆ
št_»d_x
,

1993 
²g_fixed_pošt
 
št_»d_y
,…ng_fixed_pošˆ
št_g»’_x
,

1994 
²g_fixed_pošt
 
št_g»’_y
,…ng_fixed_pošˆ
št_blue_x
,

1995 
²g_fixed_pošt
 
št_blue_y
))

1996 
PNG_FIXED_EXPORT
(233, , 
²g_£t_cHRM_XYZ_fixed
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

1997 
²g_šfÜp
 
šfo_±r
, 
²g_fixed_pošt
 
št_»d_X
,…ng_fixed_pošˆ
št_»d_Y
,

1998 
²g_fixed_pošt
 
št_»d_Z
,…ng_fixed_pošˆ
št_g»’_X
,

1999 
²g_fixed_pošt
 
št_g»’_Y
,…ng_fixed_pošˆ
št_g»’_Z
,

2000 
²g_fixed_pošt
 
št_blue_X
,…ng_fixed_pošˆ
št_blue_Y
,

2001 
²g_fixed_pošt
 
št_blue_Z
))

2004 #ifdeà
PNG_eXIf_SUPPORTED


2005 
PNG_EXPORT
(246, 
²g_ušt_32
, 
²g_g‘_eXIf
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2006 
²g_šfÜp
 
šfo_±r
, 
²g_by‹p
 *
exif
));

2007 
PNG_EXPORT
(247, , 
²g_£t_eXIf
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2008 
²g_šfÜp
 
šfo_±r
, 
²g_by‹p
 
exif
));

2010 
PNG_EXPORT
(248, 
²g_ušt_32
, 
²g_g‘_eXIf_1
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2011 
²g_cÚ¡_šfÜp
 
šfo_±r
, 
²g_ušt_32
 *
num_exif
, 
²g_by‹p
 *
exif
));

2012 
PNG_EXPORT
(249, , 
²g_£t_eXIf_1
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2013 
²g_šfÜp
 
šfo_±r
, 
²g_ušt_32
 
num_exif
, 
²g_by‹p
 
exif
));

2016 #ifdeà
PNG_gAMA_SUPPORTED


2017 
PNG_FP_EXPORT
(137, 
²g_ušt_32
, 
²g_g‘_gAMA
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2018 
²g_cÚ¡_šfÜp
 
šfo_±r
, *
fe_gamma
))

2019 
PNG_FIXED_EXPORT
(138, 
²g_ušt_32
, 
²g_g‘_gAMA_fixed
,

2020 (
²g_cÚ¡_¡ruù½
 
²g_±r
, 
²g_cÚ¡_šfÜp
 
šfo_±r
,

2021 
²g_fixed_pošt
 *
št_fe_gamma
))

2024 #ifdeà
PNG_gAMA_SUPPORTED


2025 
PNG_FP_EXPORT
(139, , 
²g_£t_gAMA
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2026 
²g_šfÜp
 
šfo_±r
, 
fe_gamma
))

2027 
PNG_FIXED_EXPORT
(140, , 
²g_£t_gAMA_fixed
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2028 
²g_šfÜp
 
šfo_±r
, 
²g_fixed_pošt
 
št_fe_gamma
))

2031 #ifdeà
PNG_hIST_SUPPORTED


2032 
PNG_EXPORT
(141, 
²g_ušt_32
, 
²g_g‘_hIST
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2033 
²g_šfÜp
 
šfo_±r
, 
²g_ušt_16p
 *
hi¡
));

2034 
PNG_EXPORT
(142, , 
²g_£t_hIST
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2035 
²g_šfÜp
 
šfo_±r
, 
²g_cÚ¡_ušt_16p
 
hi¡
));

2038 
PNG_EXPORT
(143, 
²g_ušt_32
, 
²g_g‘_IHDR
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2039 
²g_cÚ¡_šfÜp
 
šfo_±r
, 
²g_ušt_32
 *
width
,…ng_ušt_32 *
height
,

2040 *
b™_d•th
, *
cŞÜ_ty³
, *
š‹¾aû_m‘hod
,

2041 *
com´essiÚ_m‘hod
, *
f‹r_m‘hod
));

2043 
PNG_EXPORT
(144, , 
²g_£t_IHDR
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2044 
²g_šfÜp
 
šfo_±r
, 
²g_ušt_32
 
width
,…ng_ušt_32 
height
, 
b™_d•th
,

2045 
cŞÜ_ty³
, 
š‹¾aû_m‘hod
, 
com´essiÚ_m‘hod
,

2046 
f‹r_m‘hod
));

2048 #ifdeà
PNG_oFFs_SUPPORTED


2049 
PNG_EXPORT
(145, 
²g_ušt_32
, 
²g_g‘_oFFs
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2050 
²g_cÚ¡_šfÜp
 
šfo_±r
, 
²g_št_32
 *
off£t_x
,…ng_št_32 *
off£t_y
,

2051 *
un™_ty³
));

2054 #ifdeà
PNG_oFFs_SUPPORTED


2055 
PNG_EXPORT
(146, , 
²g_£t_oFFs
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2056 
²g_šfÜp
 
šfo_±r
, 
²g_št_32
 
off£t_x
,…ng_št_32 
off£t_y
,

2057 
un™_ty³
));

2060 #ifdeà
PNG_pCAL_SUPPORTED


2061 
PNG_EXPORT
(147, 
²g_ušt_32
, 
²g_g‘_pCAL
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2062 
²g_šfÜp
 
šfo_±r
, 
²g_ch¬p
 *
pu½o£
, 
²g_št_32
 *
X0
,

2063 
²g_št_32
 *
X1
, *
ty³
, *
Å¬ams
, 
²g_ch¬p
 *
un™s
,

2064 
²g_ch¬µ
 *
·¿ms
));

2067 #ifdeà
PNG_pCAL_SUPPORTED


2068 
PNG_EXPORT
(148, , 
²g_£t_pCAL
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2069 
²g_šfÜp
 
šfo_±r
, 
²g_cÚ¡_ch¬p
 
pu½o£
, 
²g_št_32
 
X0
,…ng_št_32 
X1
,

2070 
ty³
, 
Å¬ams
, 
²g_cÚ¡_ch¬p
 
un™s
, 
²g_ch¬µ
 
·¿ms
));

2073 #ifdeà
PNG_pHYs_SUPPORTED


2074 
PNG_EXPORT
(149, 
²g_ušt_32
, 
²g_g‘_pHYs
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2075 
²g_cÚ¡_šfÜp
 
šfo_±r
, 
²g_ušt_32
 *
»s_x
,…ng_ušt_32 *
»s_y
,

2076 *
un™_ty³
));

2079 #ifdeà
PNG_pHYs_SUPPORTED


2080 
PNG_EXPORT
(150, , 
²g_£t_pHYs
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2081 
²g_šfÜp
 
šfo_±r
, 
²g_ušt_32
 
»s_x
,…ng_ušt_32 
»s_y
, 
un™_ty³
));

2084 
PNG_EXPORT
(151, 
²g_ušt_32
, 
²g_g‘_PLTE
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2085 
²g_šfÜp
 
šfo_±r
, 
²g_cŞÜp
 *
·Ë‰e
, *
num_·Ë‰e
));

2087 
PNG_EXPORT
(152, , 
²g_£t_PLTE
, (
²g_¡ruù½
 
²g_±r
,

2088 
²g_šfÜp
 
šfo_±r
, 
²g_cÚ¡_cŞÜp
 
·Ë‰e
, 
num_·Ë‰e
));

2090 #ifdeà
PNG_sBIT_SUPPORTED


2091 
PNG_EXPORT
(153, 
²g_ušt_32
, 
²g_g‘_sBIT
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2092 
²g_šfÜp
 
šfo_±r
, 
²g_cŞÜ_8p
 *
sig_b™
));

2095 #ifdeà
PNG_sBIT_SUPPORTED


2096 
PNG_EXPORT
(154, , 
²g_£t_sBIT
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2097 
²g_šfÜp
 
šfo_±r
, 
²g_cÚ¡_cŞÜ_8p
 
sig_b™
));

2100 #ifdeà
PNG_sRGB_SUPPORTED


2101 
PNG_EXPORT
(155, 
²g_ušt_32
, 
²g_g‘_sRGB
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2102 
²g_cÚ¡_šfÜp
 
šfo_±r
, *
fe_¤gb_š‹Á
));

2105 #ifdeà
PNG_sRGB_SUPPORTED


2106 
PNG_EXPORT
(156, , 
²g_£t_sRGB
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2107 
²g_šfÜp
 
šfo_±r
, 
¤gb_š‹Á
));

2108 
PNG_EXPORT
(157, , 
²g_£t_sRGB_gAMA_ªd_cHRM
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2109 
²g_šfÜp
 
šfo_±r
, 
¤gb_š‹Á
));

2112 #ifdeà
PNG_iCCP_SUPPORTED


2113 
PNG_EXPORT
(158, 
²g_ušt_32
, 
²g_g‘_iCCP
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2114 
²g_šfÜp
 
šfo_±r
, 
²g_ch¬µ
 
Çme
, *
com´essiÚ_ty³
,

2115 
²g_by‹µ
 
´ofe
, 
²g_ušt_32
 *
´oæ’
));

2118 #ifdeà
PNG_iCCP_SUPPORTED


2119 
PNG_EXPORT
(159, , 
²g_£t_iCCP
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2120 
²g_šfÜp
 
šfo_±r
, 
²g_cÚ¡_ch¬p
 
Çme
, 
com´essiÚ_ty³
,

2121 
²g_cÚ¡_by‹p
 
´ofe
, 
²g_ušt_32
 
´oæ’
));

2124 #ifdeà
PNG_sPLT_SUPPORTED


2125 
PNG_EXPORT
(160, , 
²g_g‘_sPLT
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2126 
²g_šfÜp
 
šfo_±r
, 
²g_sPLT_p
 
’Œ›s
));

2129 #ifdeà
PNG_sPLT_SUPPORTED


2130 
PNG_EXPORT
(161, , 
²g_£t_sPLT
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2131 
²g_šfÜp
 
šfo_±r
, 
²g_cÚ¡_sPLT_
 
’Œ›s
, 
ÃÁr›s
));

2134 #ifdeà
PNG_TEXT_SUPPORTED


2136 
PNG_EXPORT
(162, , 
²g_g‘_‹xt
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2137 
²g_šfÜp
 
šfo_±r
, 
²g_‹x
 *
‹xt_±r
, *
num_‹xt
));

2147 #ifdeà
PNG_TEXT_SUPPORTED


2148 
PNG_EXPORT
(163, , 
²g_£t_‹xt
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2149 
²g_šfÜp
 
šfo_±r
, 
²g_cÚ¡_‹x
 
‹xt_±r
, 
num_‹xt
));

2152 #ifdeà
PNG_tIME_SUPPORTED


2153 
PNG_EXPORT
(164, 
²g_ušt_32
, 
²g_g‘_tIME
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2154 
²g_šfÜp
 
šfo_±r
, 
²g_tim•
 *
mod_time
));

2157 #ifdeà
PNG_tIME_SUPPORTED


2158 
PNG_EXPORT
(165, , 
²g_£t_tIME
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2159 
²g_šfÜp
 
šfo_±r
, 
²g_cÚ¡_tim•
 
mod_time
));

2162 #ifdeà
PNG_tRNS_SUPPORTED


2163 
PNG_EXPORT
(166, 
²g_ušt_32
, 
²g_g‘_tRNS
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2164 
²g_šfÜp
 
šfo_±r
, 
²g_by‹p
 *
Œªs_®pha
, *
num_Œªs
,

2165 
²g_cŞÜ_16p
 *
Œªs_cŞÜ
));

2168 #ifdeà
PNG_tRNS_SUPPORTED


2169 
PNG_EXPORT
(167, , 
²g_£t_tRNS
, (
²g_¡ruù½
 
²g_±r
,

2170 
²g_šfÜp
 
šfo_±r
, 
²g_cÚ¡_by‹p
 
Œªs_®pha
, 
num_Œªs
,

2171 
²g_cÚ¡_cŞÜ_16p
 
Œªs_cŞÜ
));

2174 #ifdeà
PNG_sCAL_SUPPORTED


2175 
PNG_FP_EXPORT
(168, 
²g_ušt_32
, 
²g_g‘_sCAL
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2176 
²g_cÚ¡_šfÜp
 
šfo_±r
, *
un™
, *
width
, *
height
))

2177 #ià
defšed
(
PNG_FLOATING_ARITHMETIC_SUPPORTED
) || \

2178 
defšed
(
PNG_FLOATING_POINT_SUPPORTED
)

2184 
PNG_FIXED_EXPORT
(214, 
²g_ušt_32
, 
²g_g‘_sCAL_fixed
,

2185 (
²g_cÚ¡_¡ruù½
 
²g_±r
, 
²g_cÚ¡_šfÜp
 
šfo_±r
, *
un™
,

2186 
²g_fixed_pošt
 *
width
,…ng_fixed_pošˆ*
height
))

2188 
PNG_EXPORT
(169, 
²g_ušt_32
, 
²g_g‘_sCAL_s
,

2189 (
²g_cÚ¡_¡ruù½
 
²g_±r
, 
²g_cÚ¡_šfÜp
 
šfo_±r
, *
un™
,

2190 
²g_ch¬µ
 
swidth
,…ng_ch¬µ 
sheight
));

2192 
PNG_FP_EXPORT
(170, , 
²g_£t_sCAL
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2193 
²g_šfÜp
 
šfo_±r
, 
un™
, 
width
, 
height
))

2194 
PNG_FIXED_EXPORT
(213, , 
²g_£t_sCAL_fixed
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2195 
²g_šfÜp
 
šfo_±r
, 
un™
, 
²g_fixed_pošt
 
width
,

2196 
²g_fixed_pošt
 
height
))

2197 
PNG_EXPORT
(171, , 
²g_£t_sCAL_s
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2198 
²g_šfÜp
 
šfo_±r
, 
un™
,

2199 
²g_cÚ¡_ch¬p
 
swidth
,…ng_cÚ¡_ch¬°
sheight
));

2202 #ifdeà
PNG_SET_UNKNOWN_CHUNKS_SUPPORTED


2301 #ifdeà
PNG_HANDLE_AS_UNKNOWN_SUPPORTED


2302 
PNG_EXPORT
(172, , 
²g_£t_k“p_unknown_chunks
, (
²g_¡ruù½
 
²g_±r
,

2303 
k“p
, 
²g_cÚ¡_by‹p
 
chunk_li¡
, 
num_chunks
));

2310 
PNG_EXPORT
(173, , 
²g_hªdË_as_unknown
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2311 
²g_cÚ¡_by‹p
 
chunk_Çme
));

2314 #ifdeà
PNG_STORE_UNKNOWN_CHUNKS_SUPPORTED


2315 
PNG_EXPORT
(174, , 
²g_£t_unknown_chunks
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2316 
²g_šfÜp
 
šfo_±r
, 
²g_cÚ¡_unknown_chunkp
 
unknowns
,

2317 
num_unknowns
));

2327 
PNG_EXPORT
(175, , 
²g_£t_unknown_chunk_loÿtiÚ
,

2328 (
²g_cÚ¡_¡ruù½
 
²g_±r
, 
²g_šfÜp
 
šfo_±r
, 
chunk
, 
loÿtiÚ
));

2330 
PNG_EXPORT
(176, , 
²g_g‘_unknown_chunks
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2331 
²g_šfÜp
 
šfo_±r
, 
²g_unknown_chunkµ
 
’Œ›s
));

2338 
PNG_EXPORT
(177, , 
²g_£t_šv®id
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2339 
²g_šfÜp
 
šfo_±r
, 
mask
));

2341 #ifdeà
PNG_INFO_IMAGE_SUPPORTED


2343 #ifdeà
PNG_SEQUENTIAL_READ_SUPPORTED


2344 
PNG_EXPORT
(178, , 
²g_»ad_²g
, (
²g_¡ruù½
 
²g_±r
, 
²g_šfÜp
 
šfo_±r
,

2345 
ŒªsfÜms
, 
²g_voidp
 
·¿ms
));

2347 #ifdeà
PNG_WRITE_SUPPORTED


2348 
PNG_EXPORT
(179, , 
²g_wr™e_²g
, (
²g_¡ruù½
 
²g_±r
, 
²g_šfÜp
 
šfo_±r
,

2349 
ŒªsfÜms
, 
²g_voidp
 
·¿ms
));

2353 
PNG_EXPORT
(180, 
²g_cÚ¡_ch¬p
, 
²g_g‘_cİyright
,

2354 (
²g_cÚ¡_¡ruù½
 
²g_±r
));

2355 
PNG_EXPORT
(181, 
²g_cÚ¡_ch¬p
, 
²g_g‘_h—d”_v”
,

2356 (
²g_cÚ¡_¡ruù½
 
²g_±r
));

2357 
PNG_EXPORT
(182, 
²g_cÚ¡_ch¬p
, 
²g_g‘_h—d”_v”siÚ
,

2358 (
²g_cÚ¡_¡ruù½
 
²g_±r
));

2359 
PNG_EXPORT
(183, 
²g_cÚ¡_ch¬p
, 
²g_g‘_lib²g_v”
,

2360 (
²g_cÚ¡_¡ruù½
 
²g_±r
));

2362 #ifdeà
PNG_MNG_FEATURES_SUPPORTED


2363 
PNG_EXPORT
(184, 
²g_ušt_32
, 
²g_³rm™_mng_ã©u»s
, (
²g_¡ruù½
 
²g_±r
,

2364 
²g_ušt_32
 
mng_ã©u»s_³rm™‹d
));

2368 
	#PNG_HANDLE_CHUNK_AS_DEFAULT
 0

	)

2369 
	#PNG_HANDLE_CHUNK_NEVER
 1

	)

2370 
	#PNG_HANDLE_CHUNK_IF_SAFE
 2

	)

2371 
	#PNG_HANDLE_CHUNK_ALWAYS
 3

	)

2372 
	#PNG_HANDLE_CHUNK_LAST
 4

	)

2377 #ifdeà
PNG_ERROR_NUMBERS_SUPPORTED


2378 
PNG_EXPORT
(185, , 
²g_£t_¡r_”rÜ_numb”s
, (
²g_¡ruù½
 
²g_±r
,

2379 
²g_ušt_32
 
¡r_mode
));

2383 #ifdeà
PNG_SET_USER_LIMITS_SUPPORTED


2384 
PNG_EXPORT
(186, , 
²g_£t_u£r_lim™s
, (
²g_¡ruù½
 
²g_±r
,

2385 
²g_ušt_32
 
u£r_width_max
,…ng_ušt_32 
u£r_height_max
));

2386 
PNG_EXPORT
(187, 
²g_ušt_32
, 
²g_g‘_u£r_width_max
,

2387 (
²g_cÚ¡_¡ruù½
 
²g_±r
));

2388 
PNG_EXPORT
(188, 
²g_ušt_32
, 
²g_g‘_u£r_height_max
,

2389 (
²g_cÚ¡_¡ruù½
 
²g_±r
));

2391 
PNG_EXPORT
(189, , 
²g_£t_chunk_ÿche_max
, (
²g_¡ruù½
 
²g_±r
,

2392 
²g_ušt_32
 
u£r_chunk_ÿche_max
));

2393 
PNG_EXPORT
(190, 
²g_ušt_32
, 
²g_g‘_chunk_ÿche_max
,

2394 (
²g_cÚ¡_¡ruù½
 
²g_±r
));

2396 
PNG_EXPORT
(191, , 
²g_£t_chunk_m®loc_max
, (
²g_¡ruù½
 
²g_±r
,

2397 
²g_®loc_size_t
 
u£r_chunk_ÿche_max
));

2398 
PNG_EXPORT
(192, 
²g_®loc_size_t
, 
²g_g‘_chunk_m®loc_max
,

2399 (
²g_cÚ¡_¡ruù½
 
²g_±r
));

2402 #ià
defšed
(
PNG_INCH_CONVERSIONS_SUPPORTED
)

2403 
PNG_EXPORT
(193, 
²g_ušt_32
, 
²g_g‘_pix–s_³r_šch
,

2404 (
²g_cÚ¡_¡ruù½
 
²g_±r
, 
²g_cÚ¡_šfÜp
 
šfo_±r
));

2406 
PNG_EXPORT
(194, 
²g_ušt_32
, 
²g_g‘_x_pix–s_³r_šch
,

2407 (
²g_cÚ¡_¡ruù½
 
²g_±r
, 
²g_cÚ¡_šfÜp
 
šfo_±r
));

2409 
PNG_EXPORT
(195, 
²g_ušt_32
, 
²g_g‘_y_pix–s_³r_šch
,

2410 (
²g_cÚ¡_¡ruù½
 
²g_±r
, 
²g_cÚ¡_šfÜp
 
šfo_±r
));

2412 
PNG_FP_EXPORT
(196, , 
²g_g‘_x_off£t_šches
,

2413 (
²g_cÚ¡_¡ruù½
 
²g_±r
, 
²g_cÚ¡_šfÜp
 
šfo_±r
))

2414 #ifdeà
PNG_FIXED_POINT_SUPPORTED


2415 
PNG_FIXED_EXPORT
(211, 
²g_fixed_pošt
, 
²g_g‘_x_off£t_šches_fixed
,

2416 (
²g_cÚ¡_¡ruù½
 
²g_±r
, 
²g_cÚ¡_šfÜp
 
šfo_±r
))

2419 
PNG_FP_EXPORT
(197, , 
²g_g‘_y_off£t_šches
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2420 
²g_cÚ¡_šfÜp
 
šfo_±r
))

2421 #ifdeà
PNG_FIXED_POINT_SUPPORTED


2422 
PNG_FIXED_EXPORT
(212, 
²g_fixed_pošt
, 
²g_g‘_y_off£t_šches_fixed
,

2423 (
²g_cÚ¡_¡ruù½
 
²g_±r
, 
²g_cÚ¡_šfÜp
 
šfo_±r
))

2426 #ifdeà
PNG_pHYs_SUPPORTED


2427 
PNG_EXPORT
(198, 
²g_ušt_32
, 
²g_g‘_pHYs_dpi
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2428 
²g_cÚ¡_šfÜp
 
šfo_±r
, 
²g_ušt_32
 *
»s_x
,…ng_ušt_32 *
»s_y
,

2429 *
un™_ty³
));

2434 #ifdeà
PNG_IO_STATE_SUPPORTED


2435 
PNG_EXPORT
(199, 
²g_ušt_32
, 
²g_g‘_io_¡©e
, (
²g_cÚ¡_¡ruù½
 
²g_±r
));

2438 
PNG_REMOVED
(200, 
²g_cÚ¡_by‹p
, 
²g_g‘_io_chunk_Çme
, (
²g_¡ruù½
 
²g_±r
),

2439 
PNG_DEPRECATED
)

2441 
PNG_EXPORT
(216, 
²g_ušt_32
, 
²g_g‘_io_chunk_ty³
,

2442 (
²g_cÚ¡_¡ruù½
 
²g_±r
));

2445 
	#PNG_IO_NONE
 0x0000

	)

2446 
	#PNG_IO_READING
 0x0001

	)

2447 
	#PNG_IO_WRITING
 0x0002

	)

2448 
	#PNG_IO_SIGNATURE
 0x0010

	)

2449 
	#PNG_IO_CHUNK_HDR
 0x0020

	)

2450 
	#PNG_IO_CHUNK_DATA
 0x0040

	)

2451 
	#PNG_IO_CHUNK_CRC
 0x0080

	)

2452 
	#PNG_IO_MASK_OP
 0x000à

	)

2453 
	#PNG_IO_MASK_LOC
 0x00f0

	)

2460 
	#PNG_INTERLACE_ADAM7_PASSES
 7

	)

2466 
	#PNG_PASS_START_ROW
(
·ss
è(((1&~Õass))<<(3-(Õass)>>1)))&7)

	)

2467 
	#PNG_PASS_START_COL
(
·ss
è(((1& (·ss))<<(3-((Õass)+1)>>1)))&7)

	)

2474 
	#PNG_PASS_ROW_OFFSET
(
·ss
è(Õass)>2?(8>>((Õass)-1)>>1)):8)

	)

2475 
	#PNG_PASS_COL_OFFSET
(
·ss
è(1<<((7-Õass))>>1))

	)

2481 
	#PNG_PASS_ROW_SHIFT
(
·ss
è(Õass)>2?(8-Õass))>>1:3)

	)

2482 
	#PNG_PASS_COL_SHIFT
(
·ss
è(Õass)>1?(7-Õass))>>1:3)

	)

2489 
	#PNG_PASS_ROWS
(
height
, 
·ss
è(((height)+(((1<<
	`PNG_PASS_ROW_SHIFT
(pass))\

2490 -1)-
	`PNG_PASS_START_ROW
(
·ss
)))>>
	`PNG_PASS_ROW_SHIFT
Õass))

	)

2491 
	#PNG_PASS_COLS
(
width
, 
·ss
è(((width)+(((1<<
	`PNG_PASS_COL_SHIFT
(pass))\

2492 -1)-
	`PNG_PASS_START_COL
(
·ss
)))>>
	`PNG_PASS_COL_SHIFT
Õass))

	)

2498 
	#PNG_ROW_FROM_PASS_ROW
(
y_š
, 
·ss
) \

2499 (((
y_š
)<<
	`PNG_PASS_ROW_SHIFT
(
·ss
))+
	`PNG_PASS_START_ROW
Õass))

	)

2500 
	#PNG_COL_FROM_PASS_COL
(
x_š
, 
·ss
) \

2501 (((
x_š
)<<
	`PNG_PASS_COL_SHIFT
(
·ss
))+
	`PNG_PASS_START_COL
Õass))

	)

2509 
	#PNG_PASS_MASK
(
·ss
,
off
) ( \

2510 ((0x110145AF>>(((7-(
off
))-(
·ss
))<<2)) & 0xF) | \

2511 ((0x01145AF0>>(((7-(
off
))-(
·ss
))<<2)è& 0xF0))

	)

2513 
	#PNG_ROW_IN_INTERLACE_PASS
(
y
, 
·ss
) \

2514 ((
	`PNG_PASS_MASK
(
·ss
,0è>> ((
y
)&7)è& 1)

	)

2515 
	#PNG_COL_IN_INTERLACE_PASS
(
x
, 
·ss
) \

2516 ((
	`PNG_PASS_MASK
(
·ss
,1è>> ((
x
)&7)è& 1)

	)

2518 #ifdeà
PNG_READ_COMPOSITE_NODIV_SUPPORTED


2533 
	#²g_compos™e
(
compos™e
, 
fg
, 
®pha
, 
bg
) \

2535 
²g_ušt_16
 
‹mp
 = (²g_ušt_16)(Õng_ušt_16)(
fg
) \

2536 * (
²g_ušt_16
)(
®pha
) \

2537 + (
²g_ušt_16
)(
bg
)*(png_uint_16)(255 \

2538 - (
²g_ušt_16
)(
®pha
)) + 128); \

2539 (
compos™e
èğ(
²g_by‹
)(((
‹mp
 + (temp >> 8)) >> 8) & 0xff); \

2540 }

	)

2542 
	#²g_compos™e_16
(
compos™e
, 
fg
, 
®pha
, 
bg
) \

2544 
²g_ušt_32
 
‹mp
 = (²g_ušt_32)(Õng_ušt_32)(
fg
) \

2545 * (
²g_ušt_32
)(
®pha
) \

2546 + (
²g_ušt_32
)(
bg
)*(65535 \

2547 - (
²g_ušt_32
)(
®pha
)) + 32768); \

2548 (
compos™e
èğ(
²g_ušt_16
)(0xfffà& ((
‹mp
 + (temp >> 16)) >> 16)); \

2549 }

	)

2553 
	#²g_compos™e
(
compos™e
, 
fg
, 
®pha
, 
bg
) \

2554 (
compos™e
) = \

2555 (
²g_by‹
)(0xfà& (((
²g_ušt_16
)(
fg
è* (²g_ušt_16)(
®pha
) + \

2556 (
²g_ušt_16
)(
bg
è* (²g_ušt_16)(255 - (²g_ušt_16)(
®pha
)) + \

2557 127è/ 255))

	)

2559 
	#²g_compos™e_16
(
compos™e
, 
fg
, 
®pha
, 
bg
) \

2560 (
compos™e
) = \

2561 (
²g_ušt_16
)(0xfffà& (((
²g_ušt_32
)(
fg
è* (²g_ušt_32)(
®pha
) + \

2562 (
²g_ušt_32
)(
bg
)*Õng_ušt_32)(65535 - (²g_ušt_32)(
®pha
)) + \

2563 32767è/ 65535))

	)

2566 #ifdeà
PNG_READ_INT_FUNCTIONS_SUPPORTED


2567 
PNG_EXPORT
(201, 
²g_ušt_32
, 
²g_g‘_ušt_32
, (
²g_cÚ¡_by‹p
 
buf
));

2568 
PNG_EXPORT
(202, 
²g_ušt_16
, 
²g_g‘_ušt_16
, (
²g_cÚ¡_by‹p
 
buf
));

2569 
PNG_EXPORT
(203, 
²g_št_32
, 
²g_g‘_št_32
, (
²g_cÚ¡_by‹p
 
buf
));

2572 
PNG_EXPORT
(204, 
²g_ušt_32
, 
²g_g‘_ušt_31
, (
²g_cÚ¡_¡ruù½
 
²g_±r
,

2573 
²g_cÚ¡_by‹p
 
buf
));

2577 #ifdeà
PNG_WRITE_INT_FUNCTIONS_SUPPORTED


2578 
PNG_EXPORT
(205, , 
²g_§ve_ušt_32
, (
²g_by‹p
 
buf
, 
²g_ušt_32
 
i
));

2580 #ifdeà
PNG_SAVE_INT_32_SUPPORTED


2581 
PNG_EXPORT
(206, , 
²g_§ve_št_32
, (
²g_by‹p
 
buf
, 
²g_št_32
 
i
));

2588 #ifdeà
PNG_WRITE_INT_FUNCTIONS_SUPPORTED


2589 
PNG_EXPORT
(207, , 
²g_§ve_ušt_16
, (
²g_by‹p
 
buf
, 
i
));

2593 #ifdeà
PNG_USE_READ_MACROS


2598 
	#PNG_g‘_ušt_32
(
buf
) \

2599 (((
²g_ušt_32
)(*(
buf
)) << 24) + \

2600 ((
²g_ušt_32
)(*((
buf
) + 1)) << 16) + \

2601 ((
²g_ušt_32
)(*((
buf
) + 2)) << 8) + \

2602 ((
²g_ušt_32
)(*((
buf
è+ 3))))

	)

2607 
	#PNG_g‘_ušt_16
(
buf
) \

2608 ((
²g_ušt_16
) \

2609 ((()(*(
buf
)) << 8) + \

2610 (()(*((
buf
è+ 1)))))

	)

2612 
	#PNG_g‘_št_32
(
buf
) \

2613 ((
²g_št_32
)((*(
buf
) & 0x80) \

2614 ? -((
²g_št_32
)(((
	`²g_g‘_ušt_32
(
buf
)^0xffffffffU)+1U)&0x7fffffffU)) \

2615 : (
²g_št_32
)
	`²g_g‘_ušt_32
(
buf
)))

	)

2620 #iâdeà
PNG_PREFIX


2621 
	#²g_g‘_ušt_32
(
buf
è
	`PNG_g‘_ušt_32
(buf)

	)

2622 
	#²g_g‘_ušt_16
(
buf
è
	`PNG_g‘_ušt_16
(buf)

	)

2623 
	#²g_g‘_št_32
(
buf
è
	`PNG_g‘_št_32
(buf)

	)

2626 #ifdeà
PNG_PREFIX


2628 
	#PNG_g‘_ušt_32
 (
²g_g‘_ušt_32
)

	)

2629 
	#PNG_g‘_ušt_16
 (
²g_g‘_ušt_16
)

	)

2630 
	#PNG_g‘_št_32
 (
²g_g‘_št_32
)

	)

2634 #ifdeà
PNG_CHECK_FOR_INVALID_INDEX_SUPPORTED


2635 
PNG_EXPORT
(242, , 
²g_£t_check_fÜ_šv®id_šdex
,

2636 (
²g_¡ruù½
 
²g_±r
, 
®lowed
));

2637 #ifdeà
PNG_GET_PALETTE_MAX_SUPPORTED


2638 
PNG_EXPORT
(243, , 
²g_g‘_·Ë‰e_max
, (
²g_cÚ¡_¡ruùp
 
²g_±r
,

2639 
²g_cÚ¡_šfİ
 
šfo_±r
));

2689 #ià
defšed
(
PNG_SIMPLIFIED_READ_SUPPORTED
) || \

2690 
defšed
(
PNG_SIMPLIFIED_WRITE_SUPPORTED
)

2692 
	#PNG_IMAGE_VERSION
 1

	)

2694 
²g_cÚŒŞ
 *
	t²g_cÚŒŞp
;

2697 
²g_cÚŒŞp
 
İaque
;

2698 
²g_ušt_32
 
v”siÚ
;

2699 
²g_ušt_32
 
width
;

2700 
²g_ušt_32
 
height
;

2701 
²g_ušt_32
 
fÜm©
;

2702 
²g_ušt_32
 
æags
;

2703 
²g_ušt_32
 
cŞÜm­_’Œ›s
;

2715 
	#PNG_IMAGE_WARNING
 1

	)

2716 
	#PNG_IMAGE_ERROR
 2

	)

2726 
	#PNG_IMAGE_FAILED
(
²g_úŒl
è(((Õng_úŒl).
w¬nšg_Ü_”rÜ
)&0x03)>1)

	)

2728 
²g_ušt_32
 
w¬nšg_Ü_”rÜ
;

2730 
mes§ge
[64];

2731 } 
	t²g_image
, *
	t²g_imag•
;

2801 
	#PNG_FORMAT_FLAG_ALPHA
 0x01U

	)

2802 
	#PNG_FORMAT_FLAG_COLOR
 0x02U

	)

2803 
	#PNG_FORMAT_FLAG_LINEAR
 0x04U

	)

2804 
	#PNG_FORMAT_FLAG_COLORMAP
 0x08U

	)

2806 #ifdeà
PNG_FORMAT_BGR_SUPPORTED


2807 
	#PNG_FORMAT_FLAG_BGR
 0x10U

	)

2810 #ifdeà
PNG_FORMAT_AFIRST_SUPPORTED


2811 
	#PNG_FORMAT_FLAG_AFIRST
 0x20U

	)

2814 
	#PNG_FORMAT_FLAG_ASSOCIATED_ALPHA
 0x40U

	)

2820 
	#PNG_FORMAT_GRAY
 0

	)

2821 
	#PNG_FORMAT_GA
 
PNG_FORMAT_FLAG_ALPHA


	)

2822 
	#PNG_FORMAT_AG
 (
PNG_FORMAT_GA
|
PNG_FORMAT_FLAG_AFIRST
)

	)

2823 
	#PNG_FORMAT_RGB
 
PNG_FORMAT_FLAG_COLOR


	)

2824 
	#PNG_FORMAT_BGR
 (
PNG_FORMAT_FLAG_COLOR
|
PNG_FORMAT_FLAG_BGR
)

	)

2825 
	#PNG_FORMAT_RGBA
 (
PNG_FORMAT_RGB
|
PNG_FORMAT_FLAG_ALPHA
)

	)

2826 
	#PNG_FORMAT_ARGB
 (
PNG_FORMAT_RGBA
|
PNG_FORMAT_FLAG_AFIRST
)

	)

2827 
	#PNG_FORMAT_BGRA
 (
PNG_FORMAT_BGR
|
PNG_FORMAT_FLAG_ALPHA
)

	)

2828 
	#PNG_FORMAT_ABGR
 (
PNG_FORMAT_BGRA
|
PNG_FORMAT_FLAG_AFIRST
)

	)

2833 
	#PNG_FORMAT_LINEAR_Y
 
PNG_FORMAT_FLAG_LINEAR


	)

2834 
	#PNG_FORMAT_LINEAR_Y_ALPHA
 (
PNG_FORMAT_FLAG_LINEAR
|
PNG_FORMAT_FLAG_ALPHA
)

	)

2835 
	#PNG_FORMAT_LINEAR_RGB
 (
PNG_FORMAT_FLAG_LINEAR
|
PNG_FORMAT_FLAG_COLOR
)

	)

2836 
	#PNG_FORMAT_LINEAR_RGB_ALPHA
 \

2837 (
PNG_FORMAT_FLAG_LINEAR
|
PNG_FORMAT_FLAG_COLOR
|
PNG_FORMAT_FLAG_ALPHA
)

	)

2844 
	#PNG_FORMAT_RGB_COLORMAP
 (
PNG_FORMAT_RGB
|
PNG_FORMAT_FLAG_COLORMAP
)

	)

2845 
	#PNG_FORMAT_BGR_COLORMAP
 (
PNG_FORMAT_BGR
|
PNG_FORMAT_FLAG_COLORMAP
)

	)

2846 
	#PNG_FORMAT_RGBA_COLORMAP
 (
PNG_FORMAT_RGBA
|
PNG_FORMAT_FLAG_COLORMAP
)

	)

2847 
	#PNG_FORMAT_ARGB_COLORMAP
 (
PNG_FORMAT_ARGB
|
PNG_FORMAT_FLAG_COLORMAP
)

	)

2848 
	#PNG_FORMAT_BGRA_COLORMAP
 (
PNG_FORMAT_BGRA
|
PNG_FORMAT_FLAG_COLORMAP
)

	)

2849 
	#PNG_FORMAT_ABGR_COLORMAP
 (
PNG_FORMAT_ABGR
|
PNG_FORMAT_FLAG_COLORMAP
)

	)

2869 
	#PNG_IMAGE_SAMPLE_CHANNELS
(
fmt
)\

2870 (((
fmt
)&(
PNG_FORMAT_FLAG_COLOR
|
PNG_FORMAT_FLAG_ALPHA
))+1)

	)

2873 
	#PNG_IMAGE_SAMPLE_COMPONENT_SIZE
(
fmt
)\

2874 ((((
fmt
è& 
PNG_FORMAT_FLAG_LINEAR
è>> 2)+1)

	)

2879 
	#PNG_IMAGE_SAMPLE_SIZE
(
fmt
)\

2880 (
	`PNG_IMAGE_SAMPLE_CHANNELS
(
fmt
è* 
	`PNG_IMAGE_SAMPLE_COMPONENT_SIZE
(fmt))

	)

2886 
	#PNG_IMAGE_MAXIMUM_COLORMAP_COMPONENTS
(
fmt
)\

2887 (
	`PNG_IMAGE_SAMPLE_CHANNELS
(
fmt
è* 256)

	)

2902 
	#PNG_IMAGE_PIXEL_
(
‹¡
,
fmt
)\

2903 (((
fmt
)&
PNG_FORMAT_FLAG_COLORMAP
)?1:
	`‹¡
(fmt))

	)

2905 
	#PNG_IMAGE_PIXEL_CHANNELS
(
fmt
)\

2906 
	`PNG_IMAGE_PIXEL_
(
PNG_IMAGE_SAMPLE_CHANNELS
,
fmt
)

	)

2911 
	#PNG_IMAGE_PIXEL_COMPONENT_SIZE
(
fmt
)\

2912 
	`PNG_IMAGE_PIXEL_
(
PNG_IMAGE_SAMPLE_COMPONENT_SIZE
,
fmt
)

	)

2917 
	#PNG_IMAGE_PIXEL_SIZE
(
fmt
è
	`PNG_IMAGE_PIXEL_
(
PNG_IMAGE_SAMPLE_SIZE
,fmt)

	)

2921 
	#PNG_IMAGE_ROW_STRIDE
(
image
)\

2922 (
	`PNG_IMAGE_PIXEL_CHANNELS
((
image
).
fÜm©
è* (image).
width
)

	)

2933 
	#PNG_IMAGE_BUFFER_SIZE
(
image
, 
row_¡ride
)\

2934 (
	`PNG_IMAGE_PIXEL_COMPONENT_SIZE
((
image
).
fÜm©
)*(image).
height
*(
row_¡ride
))

	)

2942 
	#PNG_IMAGE_SIZE
(
image
)\

2943 
	`PNG_IMAGE_BUFFER_SIZE
(
image
, 
	`PNG_IMAGE_ROW_STRIDE
(image))

	)

2948 
	#PNG_IMAGE_COLORMAP_SIZE
(
image
)\

2949 (
	`PNG_IMAGE_SAMPLE_SIZE
((
image
).
fÜm©
è* (image).
cŞÜm­_’Œ›s
)

	)

2961 
	#PNG_IMAGE_FLAG_COLORSPACE_NOT_sRGB
 0x01

	)

2966 
	#PNG_IMAGE_FLAG_FAST
 0x02

	)

2977 
	#PNG_IMAGE_FLAG_16BIT_sRGB
 0x04

	)

2995 #ifdeà
PNG_SIMPLIFIED_READ_SUPPORTED


3002 #ifdeà
PNG_STDIO_SUPPORTED


3003 
PNG_EXPORT
(234, , 
²g_image_begš_»ad_äom_fe
, (
²g_imag•
 
image
,

3004 cÚ¡ *
fe_Çme
));

3009 
PNG_EXPORT
(235, , 
²g_image_begš_»ad_äom_¡dio
, (
²g_imag•
 
image
,

3010 
FILE
* 
fe
));

3014 
PNG_EXPORT
(236, , 
²g_image_begš_»ad_äom_memÜy
, (
²g_imag•
 
image
,

3015 
²g_cÚ¡_voidp
 
memÜy
, 
size_t
 
size
));

3018 
PNG_EXPORT
(237, , 
²g_image_fšish_»ad
, (
²g_imag•
 
image
,

3019 
²g_cÚ¡_cŞÜp
 
background
, *
bufãr
, 
²g_št_32
 
row_¡ride
,

3020 *
cŞÜm­
));

3053 
PNG_EXPORT
(238, , 
²g_image_ä“
, (
²g_imag•
 
image
));

3059 #ifdeà
PNG_SIMPLIFIED_WRITE_SUPPORTED


3076 #ifdeà
PNG_SIMPLIFIED_WRITE_STDIO_SUPPORTED


3077 
PNG_EXPORT
(239, , 
²g_image_wr™e_to_fe
, (
²g_imag•
 
image
,

3078 cÚ¡ *
fe
, 
cÚv”t_to_8b™
, cÚ¡ *
bufãr
,

3079 
²g_št_32
 
row_¡ride
, cÚ¡ *
cŞÜm­
));

3082 
PNG_EXPORT
(240, , 
²g_image_wr™e_to_¡dio
, (
²g_imag•
 
image
, 
FILE
 *
fe
,

3083 
cÚv”t_to_8_b™
, cÚ¡ *
bufãr
, 
²g_št_32
 
row_¡ride
,

3084 cÚ¡ *
cŞÜm­
));

3109 
PNG_EXPORT
(245, , 
²g_image_wr™e_to_memÜy
, (
²g_imag•
 
image
, *
memÜy
,

3110 
²g_®loc_size_t
 * 
PNG_RESTRICT
 
memÜy_by‹s
, 
cÚv”t_to_8_b™
,

3111 cÚ¡ *
bufãr
, 
²g_št_32
 
row_¡ride
, cÚ¡ *
cŞÜm­
));

3134 
	#²g_image_wr™e_g‘_memÜy_size
(
image
, 
size
, 
cÚv”t_to_8_b™
, 
bufãr
,\

3135 
row_¡ride
, 
cŞÜm­
)\

3136 
	`²g_image_wr™e_to_memÜy
(&(
image
), 0, &(
size
), 
cÚv”t_to_8_b™
, 
bufãr
,\

3137 
row_¡ride
, 
cŞÜm­
)

	)

3153 
	#PNG_IMAGE_DATA_SIZE
(
image
è(
	`PNG_IMAGE_SIZE
(image)+(image).
height
)

	)

3163 #iâdeà
PNG_ZLIB_MAX_SIZE


3164 
	#PNG_ZLIB_MAX_SIZE
(
b
è((b)+(((b)+7U)>>3)+(((b)+63U)>>6)+11U)

	)

3173 
	#PNG_IMAGE_COMPRESSED_SIZE_MAX
(
image
)\

3174 
	`PNG_ZLIB_MAX_SIZE
((
²g_®loc_size_t
)
	`PNG_IMAGE_DATA_SIZE
(
image
))

	)

3177 
	#PNG_IMAGE_PNG_SIZE_MAX_
(
image
, 
image_size
)\

3179 (((
image
).
fÜm©
&
PNG_FORMAT_FLAG_COLORMAP
)? \

3180 12U+3U*(
image
).
cŞÜm­_’Œ›s
 +\

3181 (((
image
).
fÜm©
&
PNG_FORMAT_FLAG_ALPHA
)?\

3182 12U +(
image
).
cŞÜm­_’Œ›s
:0U):0U)+\

3183 12U)+(12U*((
image_size
)/
PNG_ZBUF_SIZE
)è+(image_size))

	)

3190 
	#PNG_IMAGE_PNG_SIZE_MAX
(
image
)\

3191 
	`PNG_IMAGE_PNG_SIZE_MAX_
(
image
, 
	`PNG_IMAGE_COMPRESSED_SIZE_MAX
(image))

	)

3224 #ifdeà
PNG_SET_OPTION_SUPPORTED


3225 #ifdeà
PNG_ARM_NEON_API_SUPPORTED


3226 
	#PNG_ARM_NEON
 0

	)

3228 
	#PNG_MAXIMUM_INFLATE_WINDOW
 2

	)

3229 
	#PNG_SKIP_sRGB_CHECK_PROFILE
 4

	)

3230 #ifdeà
PNG_MIPS_MSA_API_SUPPORTED


3231 
	#PNG_MIPS_MSA
 6

	)

3233 
	#PNG_IGNORE_ADLER32
 8

	)

3234 #ifdeà
PNG_POWERPC_VSX_API_SUPPORTED


3235 
	#PNG_POWERPC_VSX
 10

	)

3237 
	#PNG_OPTION_NEXT
 12

	)

3240 
	#PNG_OPTION_UNSET
 0

	)

3241 
	#PNG_OPTION_INVALID
 1

	)

3242 
	#PNG_OPTION_OFF
 2

	)

3243 
	#PNG_OPTION_ON
 3

	)

3245 
PNG_EXPORT
(244, , 
²g_£t_İtiÚ
, (
²g_¡ruù½
 
²g_±r
, 
İtiÚ
,

3246 
Úoff
));

3252 #ifdeà
PNG_APNG_SUPPORTED


3253 
PNG_EXPORT
(250, 
²g_ušt_32
, 
²g_g‘_acTL
, (
²g_¡ruùp
 
²g_±r
,

3254 
²g_šfİ
 
šfo_±r
, 
²g_ušt_32
 *
num_äames
,…ng_ušt_32 *
num_¶ays
));

3256 
PNG_EXPORT
(251, 
²g_ušt_32
, 
²g_£t_acTL
, (
²g_¡ruùp
 
²g_±r
,

3257 
²g_šfİ
 
šfo_±r
, 
²g_ušt_32
 
num_äames
,…ng_ušt_32 
num_¶ays
));

3259 
PNG_EXPORT
(252, 
²g_ušt_32
, 
²g_g‘_num_äames
, (
²g_¡ruùp
 
²g_±r
,

3260 
²g_šfİ
 
šfo_±r
));

3262 
PNG_EXPORT
(253, 
²g_ušt_32
, 
²g_g‘_num_¶ays
, (
²g_¡ruùp
 
²g_±r
,

3263 
²g_šfİ
 
šfo_±r
));

3265 
PNG_EXPORT
(254, 
²g_ušt_32
, 
²g_g‘_Ãxt_äame_fcTL
,

3266 (
²g_¡ruùp
 
²g_±r
, 
²g_šfİ
 
šfo_±r
, 
²g_ušt_32
 *
width
,

3267 
²g_ušt_32
 *
height
,…ng_ušt_32 *
x_off£t
,…ng_ušt_32 *
y_off£t
,

3268 
²g_ušt_16
 *
d–ay_num
,…ng_ušt_16 *
d–ay_d’
, 
²g_by‹
 *
di¥o£_İ
,

3269 
²g_by‹
 *
bËnd_İ
));

3271 
PNG_EXPORT
(255, 
²g_ušt_32
, 
²g_£t_Ãxt_äame_fcTL
,

3272 (
²g_¡ruùp
 
²g_±r
, 
²g_šfİ
 
šfo_±r
, 
²g_ušt_32
 
width
,

3273 
²g_ušt_32
 
height
,…ng_ušt_32 
x_off£t
,…ng_ušt_32 
y_off£t
,

3274 
²g_ušt_16
 
d–ay_num
,…ng_ušt_16 
d–ay_d’
, 
²g_by‹
 
di¥o£_İ
,

3275 
²g_by‹
 
bËnd_İ
));

3277 
PNG_EXPORT
(256, 
²g_ušt_32
, 
²g_g‘_Ãxt_äame_width
,

3278 (
²g_¡ruùp
 
²g_±r
, 
²g_šfİ
 
šfo_±r
));

3279 
PNG_EXPORT
(257, 
²g_ušt_32
, 
²g_g‘_Ãxt_äame_height
,

3280 (
²g_¡ruùp
 
²g_±r
, 
²g_šfİ
 
šfo_±r
));

3281 
PNG_EXPORT
(258, 
²g_ušt_32
, 
²g_g‘_Ãxt_äame_x_off£t
,

3282 (
²g_¡ruùp
 
²g_±r
, 
²g_šfİ
 
šfo_±r
));

3283 
PNG_EXPORT
(259, 
²g_ušt_32
, 
²g_g‘_Ãxt_äame_y_off£t
,

3284 (
²g_¡ruùp
 
²g_±r
, 
²g_šfİ
 
šfo_±r
));

3285 
PNG_EXPORT
(260, 
²g_ušt_16
, 
²g_g‘_Ãxt_äame_d–ay_num
,

3286 (
²g_¡ruùp
 
²g_±r
, 
²g_šfİ
 
šfo_±r
));

3287 
PNG_EXPORT
(261, 
²g_ušt_16
, 
²g_g‘_Ãxt_äame_d–ay_d’
,

3288 (
²g_¡ruùp
 
²g_±r
, 
²g_šfİ
 
šfo_±r
));

3289 
PNG_EXPORT
(262, 
²g_by‹
, 
²g_g‘_Ãxt_äame_di¥o£_İ
,

3290 (
²g_¡ruùp
 
²g_±r
, 
²g_šfİ
 
šfo_±r
));

3291 
PNG_EXPORT
(263, 
²g_by‹
, 
²g_g‘_Ãxt_äame_bËnd_İ
,

3292 (
²g_¡ruùp
 
²g_±r
, 
²g_šfİ
 
šfo_±r
));

3293 
PNG_EXPORT
(264, 
²g_by‹
, 
²g_g‘_fœ¡_äame_is_hidd’
,

3294 (
²g_¡ruùp
 
²g_±r
, 
²g_šfİ
 
šfo_±r
));

3295 
PNG_EXPORT
(265, 
²g_ušt_32
, 
²g_£t_fœ¡_äame_is_hidd’
,

3296 (
²g_¡ruùp
 
²g_±r
, 
²g_šfİ
 
šfo_±r
, 
²g_by‹
 
is_hidd’
));

3298 #ifdeà
PNG_READ_APNG_SUPPORTED


3299 
PNG_EXPORT
(266, , 
²g_»ad_äame_h—d
, (
²g_¡ruùp
 
²g_±r
,

3300 
²g_šfİ
 
šfo_±r
));

3301 #ifdeà
PNG_PROGRESSIVE_READ_SUPPORTED


3302 
PNG_EXPORT
(267, , 
²g_£t_´og»ssive_äame_â
, (
²g_¡ruùp
 
²g_±r
,

3303 
²g_´og»ssive_äame_±r
 
äame_šfo_â
,

3304 
²g_´og»ssive_äame_±r
 
äame_’d_â
));

3308 #ifdeà
PNG_WRITE_APNG_SUPPORTED


3309 
PNG_EXPORT
(268, , 
²g_wr™e_äame_h—d
, (
²g_¡ruùp
 
²g_±r
,

3310 
²g_šfİ
 
šfo_±r
, 
²g_by‹µ
 
row_poš‹rs
,

3311 
²g_ušt_32
 
width
,…ng_ušt_32 
height
,

3312 
²g_ušt_32
 
x_off£t
,…ng_ušt_32 
y_off£t
,

3313 
²g_ušt_16
 
d–ay_num
,…ng_ušt_16 
d–ay_d’
, 
²g_by‹
 
di¥o£_İ
,

3314 
²g_by‹
 
bËnd_İ
));

3316 
PNG_EXPORT
(269, , 
²g_wr™e_äame_
, (
²g_¡ruùp
 
²g_±r
,

3317 
²g_šfİ
 
šfo_±r
));

3328 #ifdeà
PNG_EXPORT_LAST_ORDINAL


3329 #ifdeà
PNG_APNG_SUPPORTED


3330 
PNG_EXPORT_LAST_ORDINAL
(269);

3332 
PNG_EXPORT_LAST_ORDINAL
(249);

3336 #ifdeà
__ılu¥lus


	@/usr/include/pthread.h

18 #iâdeà
_PTHREAD_H


19 
	#_PTHREAD_H
 1

	)

21 
	~<ã©u»s.h
>

22 
	~<sched.h
>

23 
	~<time.h
>

25 
	~<b™s/’dŸn.h
>

26 
	~<b™s/±h»adty³s.h
>

27 
	~<b™s/£tjmp.h
>

28 
	~<b™s/wÜdsize.h
>

29 
	~<b™s/ty³s/¡ruù_time¥ec.h
>

30 
	~<b™s/ty³s/__sig£t_t.h
>

31 
	~<b™s/ty³s/¡ruù___jmp_buf_g.h
>

32 #ifdeà
__USE_MISC


33 
	~<b™s/±h»ad_¡ack_mš-dyÇmic.h
>

39 
	mPTHREAD_CREATE_JOINABLE
,

40 
	#PTHREAD_CREATE_JOINABLE
 
PTHREAD_CREATE_JOINABLE


	)

41 
	mPTHREAD_CREATE_DETACHED


42 
	#PTHREAD_CREATE_DETACHED
 
PTHREAD_CREATE_DETACHED


	)

49 
	mPTHREAD_MUTEX_TIMED_NP
,

50 
	mPTHREAD_MUTEX_RECURSIVE_NP
,

51 
	mPTHREAD_MUTEX_ERRORCHECK_NP
,

52 
	mPTHREAD_MUTEX_ADAPTIVE_NP


53 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


55 
	mPTHREAD_MUTEX_NORMAL
 = 
PTHREAD_MUTEX_TIMED_NP
,

56 
	mPTHREAD_MUTEX_RECURSIVE
 = 
PTHREAD_MUTEX_RECURSIVE_NP
,

57 
	mPTHREAD_MUTEX_ERRORCHECK
 = 
PTHREAD_MUTEX_ERRORCHECK_NP
,

58 
	mPTHREAD_MUTEX_DEFAULT
 = 
PTHREAD_MUTEX_NORMAL


60 #ifdeà
__USE_GNU


62 , 
	mPTHREAD_MUTEX_FAST_NP
 = 
PTHREAD_MUTEX_TIMED_NP


67 #ifdeà
__USE_XOPEN2K


71 
	mPTHREAD_MUTEX_STALLED
,

72 
	mPTHREAD_MUTEX_STALLED_NP
 = 
PTHREAD_MUTEX_STALLED
,

73 
	mPTHREAD_MUTEX_ROBUST
,

74 
	mPTHREAD_MUTEX_ROBUST_NP
 = 
PTHREAD_MUTEX_ROBUST


79 #ià
defšed
 
__USE_POSIX199506
 || defšed 
__USE_UNIX98


83 
	mPTHREAD_PRIO_NONE
,

84 
	mPTHREAD_PRIO_INHERIT
,

85 
	mPTHREAD_PRIO_PROTECT


90 
	#PTHREAD_MUTEX_INITIALIZER
 \

91 { { 
	`__PTHREAD_MUTEX_INITIALIZER
 (
PTHREAD_MUTEX_TIMED_NP
è} }

	)

92 #ifdeà
__USE_GNU


93 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

94 { { 
	`__PTHREAD_MUTEX_INITIALIZER
 (
PTHREAD_MUTEX_RECURSIVE_NP
è} }

	)

95 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

96 { { 
	`__PTHREAD_MUTEX_INITIALIZER
 (
PTHREAD_MUTEX_ERRORCHECK_NP
è} }

	)

97 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

98 { { 
	`__PTHREAD_MUTEX_INITIALIZER
 (
PTHREAD_MUTEX_ADAPTIVE_NP
è} }

	)

103 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


106 
	mPTHREAD_RWLOCK_PREFER_READER_NP
,

107 
	mPTHREAD_RWLOCK_PREFER_WRITER_NP
,

108 
	mPTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,

109 
	mPTHREAD_RWLOCK_DEFAULT_NP
 = 
PTHREAD_RWLOCK_PREFER_READER_NP


114 
	#PTHREAD_RWLOCK_INITIALIZER
 \

115 { { 
	`__PTHREAD_RWLOCK_INITIALIZER
 (
PTHREAD_RWLOCK_DEFAULT_NP
è} }

	)

116 #ifdeà
__USE_GNU


117 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

118 { { 
	`__PTHREAD_RWLOCK_INITIALIZER
 (
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
è} }

	)

126 
	mPTHREAD_INHERIT_SCHED
,

127 
	#PTHREAD_INHERIT_SCHED
 
PTHREAD_INHERIT_SCHED


	)

128 
	mPTHREAD_EXPLICIT_SCHED


129 
	#PTHREAD_EXPLICIT_SCHED
 
PTHREAD_EXPLICIT_SCHED


	)

136 
	mPTHREAD_SCOPE_SYSTEM
,

137 
	#PTHREAD_SCOPE_SYSTEM
 
PTHREAD_SCOPE_SYSTEM


	)

138 
	mPTHREAD_SCOPE_PROCESS


139 
	#PTHREAD_SCOPE_PROCESS
 
PTHREAD_SCOPE_PROCESS


	)

146 
	mPTHREAD_PROCESS_PRIVATE
,

147 
	#PTHREAD_PROCESS_PRIVATE
 
PTHREAD_PROCESS_PRIVATE


	)

148 
	mPTHREAD_PROCESS_SHARED


149 
	#PTHREAD_PROCESS_SHARED
 
PTHREAD_PROCESS_SHARED


	)

155 
	#PTHREAD_COND_INITIALIZER
 { { {0}, {0}, {0, 0}, {0, 0}, 0, 0, {0, 0} } }

	)

159 
	s_±h»ad_ş—nup_bufãr


161 (*
	m__routše
) (*);

162 *
	m__¬g
;

163 
	m__ÿnûÉy³
;

164 
_±h»ad_ş—nup_bufãr
 *
	m__´ev
;

170 
	mPTHREAD_CANCEL_ENABLE
,

171 
	#PTHREAD_CANCEL_ENABLE
 
PTHREAD_CANCEL_ENABLE


	)

172 
	mPTHREAD_CANCEL_DISABLE


173 
	#PTHREAD_CANCEL_DISABLE
 
PTHREAD_CANCEL_DISABLE


	)

177 
	mPTHREAD_CANCEL_DEFERRED
,

178 
	#PTHREAD_CANCEL_DEFERRED
 
PTHREAD_CANCEL_DEFERRED


	)

179 
	mPTHREAD_CANCEL_ASYNCHRONOUS


180 
	#PTHREAD_CANCEL_ASYNCHRONOUS
 
PTHREAD_CANCEL_ASYNCHRONOUS


	)

182 
	#PTHREAD_CANCELED
 ((*è-1)

	)

186 
	#PTHREAD_ONCE_INIT
 0

	)

189 #ifdeà
__USE_XOPEN2K


193 
	#PTHREAD_BARRIER_SERIAL_THREAD
 -1

	)

197 
__BEGIN_DECLS


202 
	$±h»ad_ü—‹
 (
±h»ad_t
 *
__»¡riù
 
__Ãwth»ad
,

203 cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

204 *(*
__¡¬t_routše
) (*),

205 *
__»¡riù
 
__¬g
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 3));

211 
	$±h»ad_ex™
 (*
__»tv®
è
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

219 
	`±h»ad_još
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
);

221 #ifdeà
__USE_GNU


224 
	$±h»ad_Œyjoš_Å
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
è
__THROW
;

226 #iâdeà
__USE_TIME_BITS64


233 
	`±h»ad_timedjoš_Å
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
,

234 cÚ¡ 
time¥ec
 *
__ab¡ime
);

243 
	`±h»ad_şockjoš_Å
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
,

244 
şockid_t
 
__şockid
,

245 cÚ¡ 
time¥ec
 *
__ab¡ime
);

247 #ifdeà
__REDIRECT


248 
	`__REDIRECT
 (
±h»ad_timedjoš_Å
,

249 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
,

250 cÚ¡ 
time¥ec
 *
__ab¡ime
),

251 
__±h»ad_timedjoš_Å64
);

253 
	`__REDIRECT
 (
±h»ad_şockjoš_Å
,

254 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
,

255 
şockid_t
 
__şockid
,

256 cÚ¡ 
time¥ec
 *
__ab¡ime
),

257 
__±h»ad_şockjoš_Å64
);

259 
	#±h»ad_timedjoš_Å
 
__±h»ad_timedjoš_Å64


	)

260 
	#±h»ad_şockjoš_Å
 
__±h»ad_şockjoš_Å64


	)

269 
	$±h»ad_d‘ach
 (
±h»ad_t
 
__th
è
__THROW
;

273 
±h»ad_t
 
	$±h»ad_£lf
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

276 
	$±h»ad_equ®
 (
±h»ad_t
 
__th»ad1
,…th»ad_ˆ
__th»ad2
)

277 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

285 
	$±h»ad_©Œ_š™
 (
±h»ad_©Œ_t
 *
__©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

288 
	$±h»ad_©Œ_de¡roy
 (
±h»ad_©Œ_t
 *
__©Œ
)

289 
__THROW
 
	`__nÚnuÎ
 ((1));

292 
	$±h»ad_©Œ_g‘d‘ach¡©e
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

293 *
__d‘ach¡©e
)

294 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

297 
	$±h»ad_©Œ_£td‘ach¡©e
 (
±h»ad_©Œ_t
 *
__©Œ
,

298 
__d‘ach¡©e
)

299 
__THROW
 
	`__nÚnuÎ
 ((1));

303 
	$±h»ad_©Œ_g‘gu¬dsize
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

304 
size_t
 *
__gu¬dsize
)

305 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

308 
	$±h»ad_©Œ_£tgu¬dsize
 (
±h»ad_©Œ_t
 *
__©Œ
,

309 
size_t
 
__gu¬dsize
)

310 
__THROW
 
	`__nÚnuÎ
 ((1));

314 
	$±h»ad_©Œ_g‘sched·¿m
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

315 
sched_·¿m
 *
__»¡riù
 
__·¿m
)

316 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

319 
	$±h»ad_©Œ_£tsched·¿m
 (
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

320 cÚ¡ 
sched_·¿m
 *
__»¡riù


321 
__·¿m
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

324 
	$±h»ad_©Œ_g‘schedpŞicy
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


325 
__©Œ
, *
__»¡riù
 
__pŞicy
)

326 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

329 
	$±h»ad_©Œ_£tschedpŞicy
 (
±h»ad_©Œ_t
 *
__©Œ
, 
__pŞicy
)

330 
__THROW
 
	`__nÚnuÎ
 ((1));

333 
	$±h»ad_©Œ_g‘šh”™sched
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


334 
__©Œ
, *
__»¡riù
 
__šh”™
)

335 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

338 
	$±h»ad_©Œ_£tšh”™sched
 (
±h»ad_©Œ_t
 *
__©Œ
,

339 
__šh”™
)

340 
__THROW
 
	`__nÚnuÎ
 ((1));

344 
	$±h»ad_©Œ_g‘scİe
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

345 *
__»¡riù
 
__scİe
)

346 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

349 
	$±h»ad_©Œ_£tscİe
 (
±h»ad_©Œ_t
 *
__©Œ
, 
__scİe
)

350 
__THROW
 
	`__nÚnuÎ
 ((1));

353 
	$±h»ad_©Œ_g‘¡ackaddr
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


354 
__©Œ
, **
__»¡riù
 
__¡ackaddr
)

355 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__©Œibu‹_d•»ÿ‹d__
;

361 
	$±h»ad_©Œ_£t¡ackaddr
 (
±h»ad_©Œ_t
 *
__©Œ
,

362 *
__¡ackaddr
)

363 
__THROW
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
;

366 
	$±h»ad_©Œ_g‘¡acksize
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


367 
__©Œ
, 
size_t
 *
__»¡riù
 
__¡acksize
)

368 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

373 
	$±h»ad_©Œ_£t¡acksize
 (
±h»ad_©Œ_t
 *
__©Œ
,

374 
size_t
 
__¡acksize
)

375 
__THROW
 
	`__nÚnuÎ
 ((1));

377 #ifdeà
__USE_XOPEN2K


379 
	$±h»ad_©Œ_g‘¡ack
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

380 **
__»¡riù
 
__¡ackaddr
,

381 
size_t
 *
__»¡riù
 
__¡acksize
)

382 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

387 
	$±h»ad_©Œ_£t¡ack
 (
±h»ad_©Œ_t
 *
__©Œ
, *
__¡ackaddr
,

388 
size_t
 
__¡acksize
è
__THROW
 
	`__nÚnuÎ
 ((1));

391 #ifdeà
__USE_GNU


394 
	$±h»ad_©Œ_£ffš™y_Å
 (
±h»ad_©Œ_t
 *
__©Œ
,

395 
size_t
 
__ıu£tsize
,

396 cÚ¡ 
ıu_£t_t
 *
__ıu£t
)

397 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

401 
	$±h»ad_©Œ_g‘affš™y_Å
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

402 
size_t
 
__ıu£tsize
,

403 
ıu_£t_t
 *
__ıu£t
)

404 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

407 
	$±h»ad_g‘©Œ_deçuÉ_Å
 (
±h»ad_©Œ_t
 *
__©Œ
)

408 
__THROW
 
	`__nÚnuÎ
 ((1));

411 
	`±h»ad_©Œ_£tsigmask_Å
 (
±h»ad_©Œ_t
 *
__©Œ
,

412 cÚ¡ 
__sig£t_t
 *
sigmask
);

417 
	`±h»ad_©Œ_g‘sigmask_Å
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

418 
__sig£t_t
 *
sigmask
);

422 
	#PTHREAD_ATTR_NO_SIGMASK_NP
 (-1)

	)

426 
	$±h»ad_£‰r_deçuÉ_Å
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
)

427 
__THROW
 
	`__nÚnuÎ
 ((1));

432 
	$±h»ad_g‘©Œ_Å
 (
±h»ad_t
 
__th
, 
±h»ad_©Œ_t
 *
__©Œ
)

433 
__THROW
 
	`__nÚnuÎ
 ((2));

441 
	$±h»ad_£tsched·¿m
 (
±h»ad_t
 
__rg‘_th»ad
, 
__pŞicy
,

442 cÚ¡ 
sched_·¿m
 *
__·¿m
)

443 
__THROW
 
	`__nÚnuÎ
 ((3));

446 
	$±h»ad_g‘sched·¿m
 (
±h»ad_t
 
__rg‘_th»ad
,

447 *
__»¡riù
 
__pŞicy
,

448 
sched_·¿m
 *
__»¡riù
 
__·¿m
)

449 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

452 
	$±h»ad_£tsched´io
 (
±h»ad_t
 
__rg‘_th»ad
, 
__´io
)

453 
__THROW
;

456 #ifdeà
__USE_GNU


458 
	$±h»ad_g‘Çme_Å
 (
±h»ad_t
 
__rg‘_th»ad
, *
__buf
,

459 
size_t
 
__buæ’
)

460 
__THROW
 
	`__nÚnuÎ
 ((2));

463 
	$±h»ad_£Šame_Å
 (
±h»ad_t
 
__rg‘_th»ad
, cÚ¡ *
__Çme
)

464 
__THROW
 
	`__nÚnuÎ
 ((2));

468 #ifdeà
__USE_UNIX98


470 
	$±h»ad_g‘cÚcu¼’cy
 (è
__THROW
;

473 
	$±h»ad_£tcÚcu¼’cy
 (
__Ëv–
è
__THROW
;

476 #ifdeà
__USE_GNU


477 
	$±h»ad_y›ld
 (è
__THROW
;

478 #ifdeà
__REDIRECT_NTH


479 
	`__REDIRECT_NTH
 (
±h»ad_y›ld
, (), 
sched_y›ld
)

480 
	`__©Œibu‹_d•»ÿ‹d_msg__
 ("\
_yield is deprecated, use sched_yield instead");

483 
	#±h»ad_y›ld
 
sched_y›ld


	)

489 
	$±h»ad_£ffš™y_Å
 (
±h»ad_t
 
__th
, 
size_t
 
__ıu£tsize
,

490 cÚ¡ 
ıu_£t_t
 *
__ıu£t
)

491 
__THROW
 
	`__nÚnuÎ
 ((3));

494 
	$±h»ad_g‘affš™y_Å
 (
±h»ad_t
 
__th
, 
size_t
 
__ıu£tsize
,

495 
ıu_£t_t
 *
__ıu£t
)

496 
__THROW
 
	`__nÚnuÎ
 ((3));

509 
	$±h»ad_Úû
 (
±h»ad_Úû_t
 *
__Úû_cÚŒŞ
,

510 (*
__š™_routše
è()è
	`__nÚnuÎ
 ((1, 2));

521 
	`±h»ad_£tÿnûl¡©e
 (
__¡©e
, *
__Şd¡©e
);

525 
	`±h»ad_£tÿnûÉy³
 (
__ty³
, *
__Şdty³
);

528 
	`±h»ad_ÿnûl
 (
±h»ad_t
 
__th
);

533 
	`±h»ad_‹¡ÿnûl
 ();

538 
	s__ÿnûl_jmp_buf_g


540 
__jmp_buf
 
__ÿnûl_jmp_buf
;

541 
__mask_was_§ved
;

546 
__ÿnûl_jmp_buf_g
 
__ÿnûl_jmp_buf
[1];

547 *
__·d
[4];

548 } 
	t__±h»ad_unwšd_buf_t
 
	t__©Œibu‹__
 ((
	t__®igÃd__
));

551 #iâdeà
__ş—nup_fù_©Œibu‹


552 
	#__ş—nup_fù_©Œibu‹


	)

557 
	s__±h»ad_ş—nup_äame


559 (*
__ÿnûl_routše
) (*);

560 *
__ÿnûl_¬g
;

561 
__do_™
;

562 
__ÿnûl_ty³
;

565 #ià
defšed
 
__GNUC__
 && defšed 
__EXCEPTIONS


566 #ifdeà
__ılu¥lus


568 şas 
	c__±h»ad_ş—nup_şass


570 (*
__ÿnûl_routše
) (*);

571 *
__ÿnûl_¬g
;

572 
__do_™
;

573 
__ÿnûl_ty³
;

575 
public
:

576 
	$__±h»ad_ş—nup_şass
 ((*
__fù
è(*), *
__¬g
)

577 : 
	`__ÿnûl_routše
 (
__fù
), 
	`__ÿnûl_¬g
 (
__¬g
), 
	$__do_™
 (1) { }

578 ~
	$__±h»ad_ş—nup_şass
 (è{ ià(
__do_™
è
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); 
	}
}

579 
	$__£tdo™
 (
__Ãwv®
è{ 
__do_™
 = __Ãwv®; 
	}
}

580 
	$__deãr
 (è{ 
	`±h»ad_£tÿnûÉy³
 (
PTHREAD_CANCEL_DEFERRED
,

581 &
__ÿnûl_ty³
); 
	}
}

582 
	$__»¡Üe
 (ècÚ¡ { 
	`±h»ad_£tÿnûÉy³
 (
__ÿnûl_ty³
, 0); 
	}
}

592 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

594 
__±h»ad_ş—nup_şass
 
	`__şäame
 (
routše
, 
¬g
)

	)

598 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

599 
__şäame
.
	`__£tdo™
 (
execu‹
); \

600 } 0)

	)

602 #ifdeà
__USE_GNU


606 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

608 
__±h»ad_ş—nup_şass
 
	`__şäame
 (
routše
, 
¬g
); \

609 
__şäame
.
	`__deãr
 ()

	)

614 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

615 
__şäame
.
	`__»¡Üe
 (); \

616 
__şäame
.
	`__£tdo™
 (
execu‹
); \

617 } 0)

	)

624 
__ex‹º_šlše
 

625 
	$__±h»ad_ş—nup_routše
 (
__±h»ad_ş—nup_äame
 *
__äame
)

627 ià(
__äame
->
__do_™
)

628 
__äame
->
	`__ÿnûl_routše
 (__äame->
__ÿnûl_¬g
);

629 
	}
}

638 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

640 
__±h»ad_ş—nup_äame
 
__şäame
 \

641 
	`__©Œibu‹__
 ((
	`__ş—nup__
 (
__±h»ad_ş—nup_routše
))) \

642 ğ{ .
__ÿnûl_routše
 = (
routše
), .
__ÿnûl_¬g
 = (
¬g
), \

643 .
__do_™
 = 1 };

	)

647 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

648 
__şäame
.
__do_™
 = (
execu‹
); \

649 } 0)

	)

651 #ifdeà
__USE_GNU


655 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

657 
__±h»ad_ş—nup_äame
 
__şäame
 \

658 
	`__©Œibu‹__
 ((
	`__ş—nup__
 (
__±h»ad_ş—nup_routše
))) \

659 ğ{ .
__ÿnûl_routše
 = (
routše
), .
__ÿnûl_¬g
 = (
¬g
), \

660 .
__do_™
 = 1 }; \

661 (è
	`±h»ad_£tÿnûÉy³
 (
PTHREAD_CANCEL_DEFERRED
, \

662 &
__şäame
.
__ÿnûl_ty³
)

	)

667 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

668 (è
	`±h»ad_£tÿnûÉy³
 (
__şäame
.
__ÿnûl_ty³
, 
NULL
); \

669 
__şäame
.
__do_™
 = (
execu‹
); \

670 } 0)

	)

681 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

683 
__±h»ad_unwšd_buf_t
 
__ÿnûl_buf
; \

684 (*
__ÿnûl_routše
è(*èğ(
routše
); \

685 *
__ÿnûl_¬g
 = (
¬g
); \

686 
__nÙ_fœ¡_ÿÎ
 = 
	`__sig£tjmp_ÿnûl
 (
__ÿnûl_buf
.
__ÿnûl_jmp_buf
, \

688 ià(
	`__glibc_uÆik–y
 (
__nÙ_fœ¡_ÿÎ
)) \

690 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

691 
	`__±h»ad_unwšd_Ãxt
 (&
__ÿnûl_buf
); \

695 
	`__±h»ad_»gi¡”_ÿnûl
 (&
__ÿnûl_buf
); \

696 dØ{

	)

697 
__±h»ad_»gi¡”_ÿnûl
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

698 
__ş—nup_fù_©Œibu‹
;

702 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

705 
	`__±h»ad_uÄegi¡”_ÿnûl
 (&
__ÿnûl_buf
); \

706 ià(
execu‹
) \

707 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

708 } 0)

	)

709 
	$__±h»ad_uÄegi¡”_ÿnûl
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

710 
__ş—nup_fù_©Œibu‹
;

712 #ifdeà
__USE_GNU


716 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

718 
__±h»ad_unwšd_buf_t
 
__ÿnûl_buf
; \

719 (*
__ÿnûl_routše
è(*èğ(
routše
); \

720 *
__ÿnûl_¬g
 = (
¬g
); \

721 
__nÙ_fœ¡_ÿÎ
 = 
	`__sig£tjmp_ÿnûl
 (
__ÿnûl_buf
.
__ÿnûl_jmp_buf
, \

723 ià(
	`__glibc_uÆik–y
 (
__nÙ_fœ¡_ÿÎ
)) \

725 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

726 
	`__±h»ad_unwšd_Ãxt
 (&
__ÿnûl_buf
); \

730 
	`__±h»ad_»gi¡”_ÿnûl_deãr
 (&
__ÿnûl_buf
); \

731 dØ{

	)

732 
	`__±h»ad_»gi¡”_ÿnûl_deãr
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

733 
__ş—nup_fù_©Œibu‹
;

738 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

741 
	`__±h»ad_uÄegi¡”_ÿnûl_»¡Üe
 (&
__ÿnûl_buf
); \

742 ià(
execu‹
) \

743 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

744 
	}
} 0)

	)

745 
	$__±h»ad_uÄegi¡”_ÿnûl_»¡Üe
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

746 
__ş—nup_fù_©Œibu‹
;

750 
	$__±h»ad_unwšd_Ãxt
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

751 
__ş—nup_fù_©Œibu‹
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
))

752 #iâdeà
SHARED


753 
	`__©Œibu‹__
 ((
__w—k__
))

765 #ià
	`__GNUC_PREREQ
 (11, 0)

766 
	`__REDIRECT_NTHNL
 (
__sig£tjmp_ÿnûl
,

767 (
__ÿnûl_jmp_buf_g
 
__’v
[1],

768 
__§vemask
),

769 
__sig£tjmp
è
__©Œibu‹_»tuºs_twiû__
;

771 
	#__sig£tjmp_ÿnûl
(
’v
, 
§vemask
) \

772 
	`__sig£tjmp
 ((
__jmp_buf_g
 *è(*è(
’v
), (
§vemask
))

	)

773 
	$__sig£tjmp
 (
__jmp_buf_g
 
__’v
[1],

774 
__§vemask
è
__THROWNL
;

781 
	$±h»ad_mu‹x_š™
 (
±h»ad_mu‹x_t
 *
__mu‹x
,

782 cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__mu‹x©Œ
)

783 
__THROW
 
	`__nÚnuÎ
 ((1));

786 
	$±h»ad_mu‹x_de¡roy
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

787 
__THROW
 
	`__nÚnuÎ
 ((1));

790 
	$±h»ad_mu‹x_Œylock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

791 
__THROWNL
 
	`__nÚnuÎ
 ((1));

794 
	$±h»ad_mu‹x_lock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

795 
__THROWNL
 
	`__nÚnuÎ
 ((1));

797 #ifdeà
__USE_XOPEN2K


799 #iâdeà
__USE_TIME_BITS64


800 
	$±h»ad_mu‹x_timedlock
 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

801 cÚ¡ 
time¥ec
 *
__»¡riù


802 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

804 #ifdeà
__REDIRECT_NTHNL


805 
	`__REDIRECT_NTHNL
 (
±h»ad_mu‹x_timedlock
,

806 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

807 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
),

808 
__±h»ad_mu‹x_timedlock64
è
	`__nÚnuÎ
 ((1, 2));

810 
	#±h»ad_mu‹x_timedlock
 
__±h»ad_mu‹x_timedlock64


	)

815 #ifdeà
__USE_GNU


816 #iâdeà
__USE_TIME_BITS64


817 
	$±h»ad_mu‹x_şocklock
 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

818 
şockid_t
 
__şockid
,

819 cÚ¡ 
time¥ec
 *
__»¡riù


820 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 3));

822 #ifdeà
__REDIRECT_NTHNL


823 
	`__REDIRECT_NTHNL
 (
±h»ad_mu‹x_şocklock
,

824 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

825 
şockid_t
 
__şockid
,

826 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
),

827 
__±h»ad_mu‹x_şocklock64
è
	`__nÚnuÎ
 ((1, 3));

829 
	#±h»ad_mu‹x_şocklock
 
__±h»ad_mu‹x_şocklock64


	)

835 
	$±h»ad_mu‹x_uÆock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

836 
__THROWNL
 
	`__nÚnuÎ
 ((1));

840 
	$±h»ad_mu‹x_g‘´ioûšg
 (cÚ¡ 
±h»ad_mu‹x_t
 *

841 
__»¡riù
 
__mu‹x
,

842 *
__»¡riù
 
__´ioûšg
)

843 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

847 
	$±h»ad_mu‹x_£rioûšg
 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

848 
__´ioûšg
,

849 *
__»¡riù
 
__Şd_ûšg
)

850 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

853 #ifdeà
__USE_XOPEN2K8


855 
	$±h»ad_mu‹x_cÚsi¡’t
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

856 
__THROW
 
	`__nÚnuÎ
 ((1));

857 #ifdeà
__USE_GNU


858 #ifdeà
__REDIRECT_NTH


859 
	`__REDIRECT_NTH
 (
±h»ad_mu‹x_cÚsi¡’t_Å
, (
±h»ad_mu‹x_t
 *),

860 
±h»ad_mu‹x_cÚsi¡’t
è
	`__nÚnuÎ
 ((1))

861 
	`__©Œibu‹_d•»ÿ‹d_msg__
 ("\
_mutex_consistent_np is deprecated, use…thread_mutex_consistent");

864 
	#±h»ad_mu‹x_cÚsi¡’t_Å
 
±h»ad_mu‹x_cÚsi¡’t


	)

874 
	$±h»ad_mu‹x©Œ_š™
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
)

875 
__THROW
 
	`__nÚnuÎ
 ((1));

878 
	$±h»ad_mu‹x©Œ_de¡roy
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
)

879 
__THROW
 
	`__nÚnuÎ
 ((1));

882 
	$±h»ad_mu‹x©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

883 
__»¡riù
 
__©Œ
,

884 *
__»¡riù
 
__psh¬ed
)

885 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

888 
	$±h»ad_mu‹x©Œ_£sh¬ed
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

889 
__psh¬ed
)

890 
__THROW
 
	`__nÚnuÎ
 ((1));

892 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


894 
	$±h»ad_mu‹x©Œ_g‘ty³
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__»¡riù


895 
__©Œ
, *
__»¡riù
 
__kšd
)

896 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

901 
	$±h»ad_mu‹x©Œ_£‰y³
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
, 
__kšd
)

902 
__THROW
 
	`__nÚnuÎ
 ((1));

906 
	$±h»ad_mu‹x©Œ_g‘´ÙocŞ
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

907 
__»¡riù
 
__©Œ
,

908 *
__»¡riù
 
__´ÙocŞ
)

909 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

913 
	$±h»ad_mu‹x©Œ_£rÙocŞ
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

914 
__´ÙocŞ
)

915 
__THROW
 
	`__nÚnuÎ
 ((1));

918 
	$±h»ad_mu‹x©Œ_g‘´ioûšg
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

919 
__»¡riù
 
__©Œ
,

920 *
__»¡riù
 
__´ioûšg
)

921 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

924 
	$±h»ad_mu‹x©Œ_£rioûšg
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

925 
__´ioûšg
)

926 
__THROW
 
	`__nÚnuÎ
 ((1));

928 #ifdeà
__USE_XOPEN2K


930 
	$±h»ad_mu‹x©Œ_g‘robu¡
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

931 *
__robu¡Ãss
)

932 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

933 #ifdeà
__USE_GNU


934 #ifdeà
__REDIRECT_NTH


935 
	`__REDIRECT_NTH
 (
±h»ad_mu‹x©Œ_g‘robu¡_Å
,

936 (
±h»ad_mu‹x©Œ_t
 *, *),

937 
±h»ad_mu‹x©Œ_g‘robu¡
è
	`__nÚnuÎ
 ((1))

938 
	`__©Œibu‹_d•»ÿ‹d_msg__
 ("\
_mutexattr_getrobust_np is deprecated, use…thread_mutexattr_getrobust");

941 
	#±h»ad_mu‹x©Œ_g‘robu¡_Å
 
±h»ad_mu‹x©Œ_g‘robu¡


	)

946 
	$±h»ad_mu‹x©Œ_£Œobu¡
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

947 
__robu¡Ãss
)

948 
__THROW
 
	`__nÚnuÎ
 ((1));

949 #ifdeà
__USE_GNU


950 #ifdeà
__REDIRECT_NTH


951 
	`__REDIRECT_NTH
 (
±h»ad_mu‹x©Œ_£Œobu¡_Å
,

952 (
±h»ad_mu‹x©Œ_t
 *, ),

953 
±h»ad_mu‹x©Œ_£Œobu¡
è
	`__nÚnuÎ
 ((1))

954 
	`__©Œibu‹_d•»ÿ‹d_msg__
 ("\
_mutexattr_setrobust_np is deprecated, use…thread_mutexattr_setrobust");

957 
	#±h»ad_mu‹x©Œ_£Œobu¡_Å
 
±h»ad_mu‹x©Œ_£Œobu¡


	)

962 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


967 
	$±h»ad_rwlock_š™
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

968 cÚ¡ 
±h»ad_rwlock©Œ_t
 *
__»¡riù


969 
__©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

972 
	$±h»ad_rwlock_de¡roy
 (
±h»ad_rwlock_t
 *
__rwlock
)

973 
__THROW
 
	`__nÚnuÎ
 ((1));

976 
	$±h»ad_rwlock_rdlock
 (
±h»ad_rwlock_t
 *
__rwlock
)

977 
__THROWNL
 
	`__nÚnuÎ
 ((1));

980 
	$±h»ad_rwlock_Œyrdlock
 (
±h»ad_rwlock_t
 *
__rwlock
)

981 
__THROWNL
 
	`__nÚnuÎ
 ((1));

983 #ifdeà
__USE_XOPEN2K


985 #iâdeà
__USE_TIME_BITS64


986 
	$±h»ad_rwlock_timedrdlock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

987 cÚ¡ 
time¥ec
 *
__»¡riù


988 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

990 #ifdeà
__REDIRECT_NTHNL


991 
	`__REDIRECT_NTHNL
 (
±h»ad_rwlock_timedrdlock
,

992 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

993 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
),

994 
__±h»ad_rwlock_timedrdlock64
)

995 
	`__nÚnuÎ
 ((1, 2));

997 
	#±h»ad_rwlock_timedrdlock
 
__±h»ad_rwlock_timedrdlock64


	)

1002 #ifdeà
__USE_GNU


1003 #iâdeà
__USE_TIME_BITS64


1004 
	$±h»ad_rwlock_şockrdlock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

1005 
şockid_t
 
__şockid
,

1006 cÚ¡ 
time¥ec
 *
__»¡riù


1007 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 3));

1009 #ifdeà
__REDIRECT_NTHNL


1010 
	`__REDIRECT_NTHNL
 (
±h»ad_rwlock_şockrdlock
,

1011 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

1012 
şockid_t
 
__şockid
,

1013 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
),

1014 
__±h»ad_rwlock_şockrdlock64
)

1015 
	`__nÚnuÎ
 ((1, 3));

1017 
	#±h»ad_rwlock_şockrdlock
 
__±h»ad_rwlock_şockrdlock64


	)

1023 
	$±h»ad_rwlock_w¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
)

1024 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1027 
	$±h»ad_rwlock_Œyw¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
)

1028 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1030 #ifdeà
__USE_XOPEN2K


1032 #iâdeà
__USE_TIME_BITS64


1033 
	$±h»ad_rwlock_timedw¾ock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

1034 cÚ¡ 
time¥ec
 *
__»¡riù


1035 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

1037 #ifdeà
__REDIRECT_NTHNL


1038 
	`__REDIRECT_NTHNL
 (
±h»ad_rwlock_timedw¾ock
,

1039 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

1040 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
),

1041 
__±h»ad_rwlock_timedw¾ock64
)

1042 
	`__nÚnuÎ
 ((1, 2));

1044 
	#±h»ad_rwlock_timedw¾ock
 
__±h»ad_rwlock_timedw¾ock64


	)

1049 #ifdeà
__USE_GNU


1050 #iâdeà
__USE_TIME_BITS64


1051 
	$±h»ad_rwlock_şockw¾ock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

1052 
şockid_t
 
__şockid
,

1053 cÚ¡ 
time¥ec
 *
__»¡riù


1054 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 3));

1057 #ifdeà
__REDIRECT_NTHNL


1058 
	`__REDIRECT_NTHNL
 (
±h»ad_rwlock_şockw¾ock
,

1059 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

1060 
şockid_t
 
__şockid
,

1061 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
),

1062 
__±h»ad_rwlock_şockw¾ock64
)

1063 
	`__nÚnuÎ
 ((1, 3));

1065 
	#±h»ad_rwlock_şockw¾ock
 
__±h»ad_rwlock_şockw¾ock64


	)

1071 
	$±h»ad_rwlock_uÆock
 (
±h»ad_rwlock_t
 *
__rwlock
)

1072 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1078 
	$±h»ad_rwlock©Œ_š™
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
)

1079 
__THROW
 
	`__nÚnuÎ
 ((1));

1082 
	$±h»ad_rwlock©Œ_de¡roy
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
)

1083 
__THROW
 
	`__nÚnuÎ
 ((1));

1086 
	$±h»ad_rwlock©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_rwlock©Œ_t
 *

1087 
__»¡riù
 
__©Œ
,

1088 *
__»¡riù
 
__psh¬ed
)

1089 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1092 
	$±h»ad_rwlock©Œ_£sh¬ed
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
,

1093 
__psh¬ed
)

1094 
__THROW
 
	`__nÚnuÎ
 ((1));

1097 
	$±h»ad_rwlock©Œ_g‘kšd_Å
 (cÚ¡ 
±h»ad_rwlock©Œ_t
 *

1098 
__»¡riù
 
__©Œ
,

1099 *
__»¡riù
 
__´ef
)

1100 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1103 
	$±h»ad_rwlock©Œ_£tkšd_Å
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
,

1104 
__´ef
è
__THROW
 
	`__nÚnuÎ
 ((1));

1112 
	$±h»ad_cÚd_š™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

1113 cÚ¡ 
±h»ad_cÚd©Œ_t
 *
__»¡riù
 
__cÚd_©Œ
)

1114 
__THROW
 
	`__nÚnuÎ
 ((1));

1117 
	$±h»ad_cÚd_de¡roy
 (
±h»ad_cÚd_t
 *
__cÚd
)

1118 
__THROW
 
	`__nÚnuÎ
 ((1));

1121 
	$±h»ad_cÚd_sigÇl
 (
±h»ad_cÚd_t
 *
__cÚd
)

1122 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1125 
	$±h»ad_cÚd_brßdÿ¡
 (
±h»ad_cÚd_t
 *
__cÚd
)

1126 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1133 
	$±h»ad_cÚd_wa™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

1134 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
)

1135 
	`__nÚnuÎ
 ((1, 2));

1144 #iâdeà
__USE_TIME_BITS64


1145 
	$±h»ad_cÚd_timedwa™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

1146 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

1147 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
)

1148 
	`__nÚnuÎ
 ((1, 2, 3));

1150 #ifdeà
__REDIRECT


1151 
	`__REDIRECT
 (
±h»ad_cÚd_timedwa™
,

1152 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

1153 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

1154 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
),

1155 
__±h»ad_cÚd_timedwa™64
)

1156 
	`__nÚnuÎ
 ((1, 2, 3));

1158 
	#±h»ad_cÚd_timedwa™
 
__±h»ad_cÚd_timedwa™64


	)

1162 #ifdeà
__USE_GNU


1170 #iâdeà
__USE_TIME_BITS64


1171 
	$±h»ad_cÚd_şockwa™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

1172 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

1173 
__şockid_t
 
__şock_id
,

1174 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
)

1175 
	`__nÚnuÎ
 ((1, 2, 4));

1177 #ifdeà
__REDIRECT


1178 
	`__REDIRECT
 (
±h»ad_cÚd_şockwa™
,

1179 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

1180 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

1181 
__şockid_t
 
__şock_id
,

1182 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
),

1183 
__±h»ad_cÚd_şockwa™64
)

1184 
	`__nÚnuÎ
 ((1, 2, 4));

1186 
	#±h»ad_cÚd_şockwa™
 
__±h»ad_cÚd_şockwa™64


	)

1194 
	$±h»ad_cÚd©Œ_š™
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
)

1195 
__THROW
 
	`__nÚnuÎ
 ((1));

1198 
	$±h»ad_cÚd©Œ_de¡roy
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
)

1199 
__THROW
 
	`__nÚnuÎ
 ((1));

1202 
	$±h»ad_cÚd©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_cÚd©Œ_t
 *

1203 
__»¡riù
 
__©Œ
,

1204 *
__»¡riù
 
__psh¬ed
)

1205 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1208 
	$±h»ad_cÚd©Œ_£sh¬ed
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
,

1209 
__psh¬ed
è
__THROW
 
	`__nÚnuÎ
 ((1));

1211 #ifdeà
__USE_XOPEN2K


1213 
	$±h»ad_cÚd©Œ_g‘şock
 (cÚ¡ 
±h»ad_cÚd©Œ_t
 *

1214 
__»¡riù
 
__©Œ
,

1215 
__şockid_t
 *
__»¡riù
 
__şock_id
)

1216 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1219 
	$±h»ad_cÚd©Œ_£tşock
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
,

1220 
__şockid_t
 
__şock_id
)

1221 
__THROW
 
	`__nÚnuÎ
 ((1));

1225 #ifdeà
__USE_XOPEN2K


1230 
	$±h»ad_¥š_š™
 (
±h»ad_¥šlock_t
 *
__lock
, 
__psh¬ed
)

1231 
__THROW
 
	`__nÚnuÎ
 ((1));

1234 
	$±h»ad_¥š_de¡roy
 (
±h»ad_¥šlock_t
 *
__lock
)

1235 
__THROW
 
	`__nÚnuÎ
 ((1));

1238 
	$±h»ad_¥š_lock
 (
±h»ad_¥šlock_t
 *
__lock
)

1239 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1242 
	$±h»ad_¥š_Œylock
 (
±h»ad_¥šlock_t
 *
__lock
)

1243 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1246 
	$±h»ad_¥š_uÆock
 (
±h»ad_¥šlock_t
 *
__lock
)

1247 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1254 
	$±h»ad_b¬r›r_š™
 (
±h»ad_b¬r›r_t
 *
__»¡riù
 
__b¬r›r
,

1255 cÚ¡ 
±h»ad_b¬r›¿‰r_t
 *
__»¡riù


1256 
__©Œ
, 
__couÁ
)

1257 
__THROW
 
	`__nÚnuÎ
 ((1));

1260 
	$±h»ad_b¬r›r_de¡roy
 (
±h»ad_b¬r›r_t
 *
__b¬r›r
)

1261 
__THROW
 
	`__nÚnuÎ
 ((1));

1264 
	$±h»ad_b¬r›r_wa™
 (
±h»ad_b¬r›r_t
 *
__b¬r›r
)

1265 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1269 
	$±h»ad_b¬r›¿‰r_š™
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
)

1270 
__THROW
 
	`__nÚnuÎ
 ((1));

1273 
	$±h»ad_b¬r›¿‰r_de¡roy
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
)

1274 
__THROW
 
	`__nÚnuÎ
 ((1));

1277 
	$±h»ad_b¬r›¿‰r_g‘psh¬ed
 (cÚ¡ 
±h»ad_b¬r›¿‰r_t
 *

1278 
__»¡riù
 
__©Œ
,

1279 *
__»¡riù
 
__psh¬ed
)

1280 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1283 
	$±h»ad_b¬r›¿‰r_£sh¬ed
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
,

1284 
__psh¬ed
)

1285 
__THROW
 
	`__nÚnuÎ
 ((1));

1297 
	$±h»ad_key_ü—‹
 (
±h»ad_key_t
 *
__key
,

1298 (*
__de¡r_funùiÚ
) (*))

1299 
__THROW
 
	`__nÚnuÎ
 ((1));

1302 
	$±h»ad_key_d–‘e
 (
±h»ad_key_t
 
__key
è
__THROW
;

1305 *
	$±h»ad_g‘¥ecific
 (
±h»ad_key_t
 
__key
è
__THROW
;

1308 
	$±h»ad_£t¥ecific
 (
±h»ad_key_t
 
__key
,

1309 cÚ¡ *
__poš‹r
)

1310 
__THROW
 
	`__©Œ_acûss_nÚe
 (2);

1313 #ifdeà
__USE_XOPEN2K


1315 
	$±h»ad_g‘ıuşockid
 (
±h»ad_t
 
__th»ad_id
,

1316 
__şockid_t
 *
__şock_id
)

1317 
__THROW
 
	`__nÚnuÎ
 ((2));

1332 
	$±h»ad_©fÜk
 ((*
__´•¬e
) (),

1333 (*
__·»Á
) (),

1334 (*
__chd
è()è
__THROW
;

1337 #ifdeà
__USE_EXTERN_INLINES


1339 
__ex‹º_šlše
 

1340 
	`__NTH
 (
	$±h»ad_equ®
 (
±h»ad_t
 
__th»ad1
,…th»ad_ˆ
__th»ad2
))

1342  
__th»ad1
 =ğ
__th»ad2
;

1343 
	}
}

1346 
	g__END_DECLS


	@/usr/include/setjmp.h

22 #iâdef 
_SETJMP_H


23 
	#_SETJMP_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


29 
	~<b™s/£tjmp.h
>

30 
	~<b™s/ty³s/¡ruù___jmp_buf_g.h
>

32 
__jmp_buf_g
 
	tjmp_buf
[1];

36 
	$£tjmp
 (
jmp_buf
 
__’v
è
__THROWNL
;

41 
	$__sig£tjmp
 (
__jmp_buf_g
 
__’v
[1], 
__§vemask
è
__THROWNL
;

45 
	$_£tjmp
 (
__jmp_buf_g
 
__’v
[1]è
__THROWNL
;

49 
	#£tjmp
(
’v
è
	`_£tjmp
 (’v)

	)

54 
	$lÚgjmp
 (
__jmp_buf_g
 
__’v
[1], 
__v®
)

55 
__THROWNL
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

57 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


61 
	$_lÚgjmp
 (
__jmp_buf_g
 
__’v
[1], 
__v®
)

62 
__THROWNL
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

66 #ifdef 
__USE_POSIX


70 
__jmp_buf_g
 
	tsigjmp_buf
[1];

74 
	#sig£tjmp
(
’v
, 
§vemask
è
	`__sig£tjmp
 (’v, savemask)

	)

80 
	$siglÚgjmp
 (
sigjmp_buf
 
__’v
, 
__v®
)

81 
__THROWNL
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

86 #ià
__USE_FORTIFY_LEVEL
 > 0

87 
	~<b™s/£tjmp2.h
>

90 
__END_DECLS


	@/usr/include/stdio.h

23 #iâdeà
_STDIO_H


24 
	#_STDIO_H
 1

	)

26 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

27 
	~<b™s/libc-h—d”-¡¬t.h
>

29 
	g__BEGIN_DECLS


31 
	#__Ãed_size_t


	)

32 
	#__Ãed_NULL


	)

33 
	~<¡ddef.h
>

35 
	#__Ãed___va_li¡


	)

36 
	~<¡d¬g.h
>

38 
	~<b™s/ty³s.h
>

39 
	~<b™s/ty³s/__åos_t.h
>

40 
	~<b™s/ty³s/__åos64_t.h
>

41 
	~<b™s/ty³s/__FILE.h
>

42 
	~<b™s/ty³s/FILE.h
>

43 
	~<b™s/ty³s/¡ruù_FILE.h
>

45 #ifdeà
__USE_GNU


46 
	~<b™s/ty³s/cook›_io_funùiÚs_t.h
>

49 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


50 #ifdeà
__GNUC__


51 #iâdeà
_VA_LIST_DEFINED


52 
__gnuc_va_li¡
 
	tva_li¡
;

53 
	#_VA_LIST_DEFINED


	)

56 
	~<¡d¬g.h
>

60 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


61 #iâdeà
__off_t_defšed


62 #iâdeà
__USE_FILE_OFFSET64


63 
__off_t
 
	toff_t
;

65 
__off64_t
 
	toff_t
;

67 
	#__off_t_defšed


	)

69 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


70 
__off64_t
 
	toff64_t
;

71 
	#__off64_t_defšed


	)

75 #ifdeà
__USE_XOPEN2K8


76 #iâdeà
__ssize_t_defšed


77 
__ssize_t
 
	tssize_t
;

78 
	#__ssize_t_defšed


	)

83 #iâdeà
__USE_FILE_OFFSET64


84 
__åos_t
 
	tåos_t
;

86 
__åos64_t
 
	tåos_t
;

88 #ifdeà
__USE_LARGEFILE64


89 
__åos64_t
 
	tåos64_t
;

93 
	#_IOFBF
 0

	)

94 
	#_IOLBF
 1

	)

95 
	#_IONBF
 2

	)

99 
	#BUFSIZ
 8192

	)

104 
	#EOF
 (-1)

	)

109 
	#SEEK_SET
 0

	)

110 
	#SEEK_CUR
 1

	)

111 
	#SEEK_END
 2

	)

112 #ifdeà
__USE_GNU


113 
	#SEEK_DATA
 3

	)

114 
	#SEEK_HOLE
 4

	)

118 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


120 
	#P_tmpdœ
 "/tmp"

	)

133 
	~<b™s/¡dio_lim.h
>

137 
FILE
 *
¡dš
;

138 
FILE
 *
¡dout
;

139 
FILE
 *
¡d”r
;

141 
	#¡dš
 
¡dš


	)

142 
	#¡dout
 
¡dout


	)

143 
	#¡d”r
 
¡d”r


	)

146 
	$»move
 (cÚ¡ *
__f’ame
è
__THROW
;

148 
	$»Çme
 (cÚ¡ *
__Şd
, cÚ¡ *
__Ãw
è
__THROW
;

150 #ifdeà
__USE_ATFILE


152 
	$»Çm—t
 (
__Şdfd
, cÚ¡ *
__Şd
, 
__Ãwfd
,

153 cÚ¡ *
__Ãw
è
__THROW
;

156 #ifdeà
__USE_GNU


158 
	#RENAME_NOREPLACE
 (1 << 0)

	)

159 
	#RENAME_EXCHANGE
 (1 << 1)

	)

160 
	#RENAME_WHITEOUT
 (1 << 2)

	)

164 
	$»Çm—t2
 (
__Şdfd
, cÚ¡ *
__Şd
, 
__Ãwfd
,

165 cÚ¡ *
__Ãw
, 
__æags
è
__THROW
;

172 
	`fşo£
 (
FILE
 *
__¡»am
);

174 #undeà
__©Œ_d—Îoc_fşo£


175 
	#__©Œ_d—Îoc_fşo£
 
	`__©Œ_d—Îoc
 (
fşo£
, 1)

	)

181 #iâdeà
__USE_FILE_OFFSET64


182 
FILE
 *
	$tmpfe
 ()

183 
__©Œibu‹_m®loc__
 
__©Œ_d—Îoc_fşo£
 
__wur
;

185 #ifdeà
__REDIRECT


186 
FILE
 *
	`__REDIRECT
 (
tmpfe
, (), 
tmpfe64
)

187 
__©Œibu‹_m®loc__
 
__©Œ_d—Îoc_fşo£
 
__wur
;

189 
	#tmpfe
 
tmpfe64


	)

193 #ifdeà
__USE_LARGEFILE64


194 
FILE
 *
	$tmpfe64
 ()

195 
__©Œibu‹_m®loc__
 
__©Œ_d—Îoc_fşo£
 
__wur
;

199 *
	$tm²am
 ([
L_tm²am
]è
__THROW
 
__wur
;

201 #ifdeà
__USE_MISC


204 *
	$tm²am_r
 (
__s
[
L_tm²am
]è
__THROW
 
__wur
;

208 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


216 *
	$‹m²am
 (cÚ¡ *
__dœ
, cÚ¡ *
__pfx
)

217 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
 
__©Œ_d—Îoc_ä“
;

224 
	`fæush
 (
FILE
 *
__¡»am
);

226 #ifdeà
__USE_MISC


233 
	`fæush_uÆocked
 (
FILE
 *
__¡»am
);

236 #ifdeà
__USE_GNU


243 
	`fşo£®l
 ();

247 #iâdeà
__USE_FILE_OFFSET64


252 
FILE
 *
	$fİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

253 cÚ¡ *
__»¡riù
 
__modes
)

254 
__©Œibu‹_m®loc__
 
__©Œ_d—Îoc_fşo£
 
__wur
;

259 
FILE
 *
	$äeİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

260 cÚ¡ *
__»¡riù
 
__modes
,

261 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

263 #ifdeà
__REDIRECT


264 
FILE
 *
	`__REDIRECT
 (
fİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

265 cÚ¡ *
__»¡riù
 
__modes
), 
fİ’64
)

266 
__©Œibu‹_m®loc__
 
__©Œ_d—Îoc_fşo£
 
__wur
;

267 
FILE
 *
	`__REDIRECT
 (
äeİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

268 cÚ¡ *
__»¡riù
 
__modes
,

269 
FILE
 *
__»¡riù
 
__¡»am
), 
äeİ’64
)

270 
__wur
;

272 
	#fİ’
 
fİ’64


	)

273 
	#äeİ’
 
äeİ’64


	)

276 #ifdeà
__USE_LARGEFILE64


277 
FILE
 *
	$fİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

278 cÚ¡ *
__»¡riù
 
__modes
)

279 
__©Œibu‹_m®loc__
 
__©Œ_d—Îoc_fşo£
 
__wur
;

280 
FILE
 *
	$äeİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

281 cÚ¡ *
__»¡riù
 
__modes
,

282 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

285 #ifdef 
__USE_POSIX


287 
FILE
 *
	$fdİ’
 (
__fd
, cÚ¡ *
__modes
è
__THROW


288 
__©Œibu‹_m®loc__
 
__©Œ_d—Îoc_fşo£
 
__wur
;

291 #ifdef 
__USE_GNU


294 
FILE
 *
	$fİ’cook›
 (*
__»¡riù
 
__magic_cook›
,

295 cÚ¡ *
__»¡riù
 
__modes
,

296 
cook›_io_funùiÚs_t
 
__io_funcs
è
__THROW


297 
__©Œibu‹_m®loc__
 
__©Œ_d—Îoc_fşo£
 
__wur
;

300 #ià
defšed
 
__USE_XOPEN2K8
 || 
	`__GLIBC_USE
 (
LIB_EXT2
)

302 
FILE
 *
	$fmemİ’
 (*
__s
, 
size_t
 
__Ën
, cÚ¡ *
__modes
)

303 
__THROW
 
__©Œibu‹_m®loc__
 
__©Œ_d—Îoc_fşo£
 
__wur
;

308 
FILE
 *
	$İ’_mem¡»am
 (**
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW


309 
__©Œibu‹_m®loc__
 
__©Œ_d—Îoc_fşo£
 
__wur
;

311 #ifdeà
_WCHAR_H


315 
__FILE
 *
	$İ’_wmem¡»am
 (
wch¬_t
 **
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW


316 
__©Œibu‹_m®loc__
 
__©Œ_d—Îoc_fşo£
;

322 
	$£tbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
è
__THROW
;

326 
	$£tvbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

327 
__modes
, 
size_t
 
__n
è
__THROW
;

329 #ifdef 
__USE_MISC


332 
	$£tbufãr
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

333 
size_t
 
__size
è
__THROW
;

336 
	$£šebuf
 (
FILE
 *
__¡»am
è
__THROW
;

344 
	`årštf
 (
FILE
 *
__»¡riù
 
__¡»am
,

345 cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

350 
	`´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

352 
	$¥rštf
 (*
__»¡riù
 
__s
,

353 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROWNL
;

359 
	`vårštf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

360 
__gnuc_va_li¡
 
__¬g
);

365 
	`v´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
__gnuc_va_li¡
 
__¬g
);

367 
	$v¥rštf
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

368 
__gnuc_va_li¡
 
__¬g
è
__THROWNL
;

370 #ià
defšed
 
__USE_ISOC99
 || defšed 
__USE_UNIX98


372 
	$¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

373 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

374 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

376 
	$v¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

377 cÚ¡ *
__»¡riù
 
__fÜm©
, 
__gnuc_va_li¡
 
__¬g
)

378 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

381 #ià
	`__GLIBC_USE
 (
LIB_EXT2
)

384 
	$va¥rštf
 (**
__»¡riù
 
__±r
, cÚ¡ *__»¡riù 
__f
,

385 
__gnuc_va_li¡
 
__¬g
)

386 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 0))è
__wur
;

387 
	$__a¥rštf
 (**
__»¡riù
 
__±r
,

388 cÚ¡ *
__»¡riù
 
__fmt
, ...)

389 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

390 
	$a¥rštf
 (**
__»¡riù
 
__±r
,

391 cÚ¡ *
__»¡riù
 
__fmt
, ...)

392 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

395 #ifdeà
__USE_XOPEN2K8


397 
	$vd´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
,

398 
__gnuc_va_li¡
 
__¬g
)

399 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

400 
	$d´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
, ...)

401 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

409 
	$fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

410 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

415 
	$sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

417 
	$ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

418 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

424 
	~<b™s/æßŠ.h
>

425 #ià!
	`__GLIBC_USE
 (
DEPRECATED_SCANF
è&& !
defšed
 
__LDBL_COMPAT
 \

426 && 
__LDOUBLE_REDIRECTS_TO_FLOAT128_ABI
 == 0

427 #ifdeà
__REDIRECT


428 
	`__REDIRECT
 (
fsÿnf
, (
FILE
 *
__»¡riù
 
__¡»am
,

429 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

430 
__isoc99_fsÿnf
è
__wur
;

431 
	`__REDIRECT
 (
sÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

432 
__isoc99_sÿnf
è
__wur
;

433 
	`__REDIRECT_NTH
 (
ssÿnf
, (cÚ¡ *
__»¡riù
 
__s
,

434 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

435 
__isoc99_ssÿnf
);

437 
	$__isoc99_fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

438 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

439 
	$__isoc99_sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

440 
	$__isoc99_ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

441 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

442 
	#fsÿnf
 
__isoc99_fsÿnf


	)

443 
	#sÿnf
 
__isoc99_sÿnf


	)

444 
	#ssÿnf
 
__isoc99_ssÿnf


	)

448 #ifdef 
__USE_ISOC99


453 
	$vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

454 
__gnuc_va_li¡
 
__¬g
)

455 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

461 
	$vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
__gnuc_va_li¡
 
__¬g
)

462 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

465 
	$vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

466 cÚ¡ *
__»¡riù
 
__fÜm©
, 
__gnuc_va_li¡
 
__¬g
)

467 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

470 #ià!
	`__GLIBC_USE
 (
DEPRECATED_SCANF
)

471 #ià
defšed
 
__REDIRECT
 && !defšed 
__LDBL_COMPAT
 \

472 && 
__LDOUBLE_REDIRECTS_TO_FLOAT128_ABI
 == 0

473 
	`__REDIRECT
 (
vfsÿnf
,

474 (
FILE
 *
__»¡riù
 
__s
,

475 cÚ¡ *
__»¡riù
 
__fÜm©
, 
__gnuc_va_li¡
 
__¬g
),

476 
__isoc99_vfsÿnf
)

477 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

478 
	`__REDIRECT
 (
vsÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
,

479 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vsÿnf
)

480 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

481 
	`__REDIRECT_NTH
 (
vssÿnf
,

482 (cÚ¡ *
__»¡riù
 
__s
,

483 cÚ¡ *
__»¡riù
 
__fÜm©
,

484 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vssÿnf
)

485 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

486 #–ià!
defšed
 
__REDIRECT


487 
	$__isoc99_vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
,

488 cÚ¡ *
__»¡riù
 
__fÜm©
,

489 
__gnuc_va_li¡
 
__¬g
è
__wur
;

490 
	$__isoc99_vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
,

491 
__gnuc_va_li¡
 
__¬g
è
__wur
;

492 
	$__isoc99_vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

493 cÚ¡ *
__»¡riù
 
__fÜm©
,

494 
__gnuc_va_li¡
 
__¬g
è
__THROW
;

495 
	#vfsÿnf
 
__isoc99_vfsÿnf


	)

496 
	#vsÿnf
 
__isoc99_vsÿnf


	)

497 
	#vssÿnf
 
__isoc99_vssÿnf


	)

507 
	`fg‘c
 (
FILE
 *
__¡»am
);

508 
	`g‘c
 (
FILE
 *
__¡»am
);

514 
	`g‘ch¬
 ();

516 #ifdeà
__USE_POSIX199506


521 
	`g‘c_uÆocked
 (
FILE
 *
__¡»am
);

522 
	`g‘ch¬_uÆocked
 ();

525 #ifdeà
__USE_MISC


532 
	`fg‘c_uÆocked
 (
FILE
 *
__¡»am
);

543 
	`åutc
 (
__c
, 
FILE
 *
__¡»am
);

544 
	`putc
 (
__c
, 
FILE
 *
__¡»am
);

550 
	`putch¬
 (
__c
);

552 #ifdeà
__USE_MISC


559 
	`åutc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

562 #ifdeà
__USE_POSIX199506


567 
	`putc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

568 
	`putch¬_uÆocked
 (
__c
);

572 #ià
defšed
 
__USE_MISC
 \

573 || (
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

575 
	`g‘w
 (
FILE
 *
__¡»am
);

578 
	`putw
 (
__w
, 
FILE
 *
__¡»am
);

586 *
	$fg‘s
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

587 
__wur
 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 1, 2));

589 #ià
	`__GLIBC_USE
 (
DEPRECATED_GETS
)

599 *
	$g‘s
 (*
__s
è
__wur
 
__©Œibu‹_d•»ÿ‹d__
;

602 #ifdeà
__USE_GNU


609 *
	$fg‘s_uÆocked
 (*
__»¡riù
 
__s
, 
__n
,

610 
FILE
 *
__»¡riù
 
__¡»am
è
__wur


611 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 1, 2));

615 #ià
defšed
 
__USE_XOPEN2K8
 || 
	`__GLIBC_USE
 (
LIB_EXT2
)

626 
__ssize_t
 
	$__g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

627 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

628 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

629 
__ssize_t
 
	$g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

630 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

631 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

639 
__ssize_t
 
	$g‘lše
 (**
__»¡riù
 
__lš•Œ
,

640 
size_t
 *
__»¡riù
 
__n
,

641 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

649 
	`åuts
 (cÚ¡ *
__»¡riù
 
__s
, 
FILE
 *__»¡riù 
__¡»am
);

655 
	`puts
 (cÚ¡ *
__s
);

662 
	`ung‘c
 (
__c
, 
FILE
 *
__¡»am
);

669 
size_t
 
	$ä—d
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

670 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

675 
size_t
 
	`fwr™e
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

676 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__s
);

678 #ifdeà
__USE_GNU


685 
	`åuts_uÆocked
 (cÚ¡ *
__»¡riù
 
__s
,

686 
FILE
 *
__»¡riù
 
__¡»am
);

689 #ifdeà
__USE_MISC


696 
size_t
 
	$ä—d_uÆocked
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

697 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

698 
size_t
 
	`fwr™e_uÆocked
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

699 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
);

707 
	`f£ek
 (
FILE
 *
__¡»am
, 
__off
, 
__wh’û
);

712 
	$á–l
 (
FILE
 *
__¡»am
è
__wur
;

717 
	`»wšd
 (
FILE
 *
__¡»am
);

724 #ià
defšed
 
__USE_LARGEFILE
 || defšed 
__USE_XOPEN2K


725 #iâdeà
__USE_FILE_OFFSET64


730 
	`f£eko
 (
FILE
 *
__¡»am
, 
__off_t
 
__off
, 
__wh’û
);

735 
__off_t
 
	$á–lo
 (
FILE
 *
__¡»am
è
__wur
;

737 #ifdeà
__REDIRECT


738 
	`__REDIRECT
 (
f£eko
,

739 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
),

740 
f£eko64
);

741 
__off64_t
 
	`__REDIRECT
 (
á–lo
, (
FILE
 *
__¡»am
), 
á–lo64
);

743 
	#f£eko
 
f£eko64


	)

744 
	#á–lo
 
á–lo64


	)

749 #iâdeà
__USE_FILE_OFFSET64


754 
	`fg‘pos
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos_t
 *__»¡riù 
__pos
);

759 
	`f£os
 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
);

761 #ifdeà
__REDIRECT


762 
	`__REDIRECT
 (
fg‘pos
, (
FILE
 *
__»¡riù
 
__¡»am
,

763 
åos_t
 *
__»¡riù
 
__pos
), 
fg‘pos64
);

764 
	`__REDIRECT
 (
f£os
,

765 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
), 
f£os64
);

767 
	#fg‘pos
 
fg‘pos64


	)

768 
	#f£os
 
f£os64


	)

772 #ifdeà
__USE_LARGEFILE64


773 
	`f£eko64
 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
);

774 
__off64_t
 
	$á–lo64
 (
FILE
 *
__¡»am
è
__wur
;

775 
	`fg‘pos64
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos64_t
 *__»¡riù 
__pos
);

776 
	`f£os64
 (
FILE
 *
__¡»am
, cÚ¡ 
åos64_t
 *
__pos
);

780 
	$ş—»¼
 (
FILE
 *
__¡»am
è
__THROW
;

782 
	$ãof
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

784 
	$ã¼Ü
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

786 #ifdeà
__USE_MISC


788 
	$ş—»¼_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
;

789 
	$ãof_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

790 
	$ã¼Ü_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

798 
	`³¼Ü
 (cÚ¡ *
__s
);

801 #ifdef 
__USE_POSIX


803 
	$f’o
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

806 #ifdeà
__USE_MISC


808 
	$f’o_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

812 #ifdeà
__USE_POSIX2


817 
	`pşo£
 (
FILE
 *
__¡»am
);

823 
FILE
 *
	$pİ’
 (cÚ¡ *
__commªd
, cÚ¡ *
__modes
)

824 
__©Œibu‹_m®loc__
 
	$__©Œ_d—Îoc
 (
pşo£
, 1è
__wur
;

829 #ifdef 
__USE_POSIX


831 *
	$ù”mid
 (*
__s
è
__THROW


832 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 1));

836 #ià(
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
è|| defšed 
__USE_GNU


838 *
	$cu£rid
 (*
__s
)

839 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 1));

843 #ifdef 
__USE_GNU


844 
ob¡ack
;

847 
	$ob¡ack_´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

848 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

849 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

850 
	$ob¡ack_v´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

851 cÚ¡ *
__»¡riù
 
__fÜm©
,

852 
__gnuc_va_li¡
 
__¬gs
)

853 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

857 #ifdeà
__USE_POSIX199506


861 
	$æockfe
 (
FILE
 *
__¡»am
è
__THROW
;

865 
	$árylockfe
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

868 
	$fuÆockfe
 (
FILE
 *
__¡»am
è
__THROW
;

871 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


874 
	~<b™s/g‘İt_posix.h
>

879 
	`__uæow
 (
FILE
 *);

880 
	`__ov”æow
 (
FILE
 *, );

884 #ifdeà
__USE_EXTERN_INLINES


885 
	~<b™s/¡dio.h
>

887 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


888 
	~<b™s/¡dio2.h
>

891 
	~<b™s/æßŠ.h
>

892 #ià
defšed
 
__LDBL_COMPAT
 || 
__LDOUBLE_REDIRECTS_TO_FLOAT128_ABI
 == 1

893 
	~<b™s/¡dio-ldbl.h
>

896 
__END_DECLS


	@/usr/include/unistd.h

22 #iâdef 
_UNISTD_H


23 
	#_UNISTD_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


32 #ifdeà
__USE_XOPEN2K8


34 
	#_POSIX_VERSION
 200809L

	)

35 #–ià
defšed
 
__USE_XOPEN2K


37 
	#_POSIX_VERSION
 200112L

	)

38 #–ià
defšed
 
__USE_POSIX199506


40 
	#_POSIX_VERSION
 199506L

	)

41 #–ià
defšed
 
__USE_POSIX199309


43 
	#_POSIX_VERSION
 199309L

	)

46 
	#_POSIX_VERSION
 199009L

	)

52 #ifdeà
__USE_XOPEN2K8


53 
	#__POSIX2_THIS_VERSION
 200809L

	)

55 #–ià
defšed
 
__USE_XOPEN2K


57 
	#__POSIX2_THIS_VERSION
 200112L

	)

58 #–ià
defšed
 
__USE_POSIX199506


60 
	#__POSIX2_THIS_VERSION
 199506L

	)

63 
	#__POSIX2_THIS_VERSION
 199209L

	)

67 
	#_POSIX2_VERSION
 
__POSIX2_THIS_VERSION


	)

70 
	#_POSIX2_C_VERSION
 
__POSIX2_THIS_VERSION


	)

74 
	#_POSIX2_C_BIND
 
__POSIX2_THIS_VERSION


	)

78 
	#_POSIX2_C_DEV
 
__POSIX2_THIS_VERSION


	)

82 
	#_POSIX2_SW_DEV
 
__POSIX2_THIS_VERSION


	)

86 
	#_POSIX2_LOCALEDEF
 
__POSIX2_THIS_VERSION


	)

89 #ifdeà
__USE_XOPEN2K8


90 
	#_XOPEN_VERSION
 700

	)

91 #–ià
defšed
 
__USE_XOPEN2K


92 
	#_XOPEN_VERSION
 600

	)

93 #–ià
defšed
 
__USE_UNIX98


94 
	#_XOPEN_VERSION
 500

	)

96 
	#_XOPEN_VERSION
 4

	)

100 
	#_XOPEN_XCU_VERSION
 4

	)

103 
	#_XOPEN_XPG2
 1

	)

104 
	#_XOPEN_XPG3
 1

	)

105 
	#_XOPEN_XPG4
 1

	)

108 
	#_XOPEN_UNIX
 1

	)

112 
	#_XOPEN_ENH_I18N
 1

	)

115 
	#_XOPEN_LEGACY
 1

	)

202 
	~<b™s/posix_İt.h
>

205 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


206 
	~<b™s/’vœÚm’ts.h
>

210 
	#STDIN_FILENO
 0

	)

211 
	#STDOUT_FILENO
 1

	)

212 
	#STDERR_FILENO
 2

	)

217 
	~<b™s/ty³s.h
>

219 #iâdef 
__ssize_t_defšed


220 
__ssize_t
 
	tssize_t
;

221 
	#__ssize_t_defšed


	)

224 
	#__Ãed_size_t


	)

225 
	#__Ãed_NULL


	)

226 
	~<¡ddef.h
>

228 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K


231 #iâdeà
__gid_t_defšed


232 
__gid_t
 
	tgid_t
;

233 
	#__gid_t_defšed


	)

236 #iâdeà
__uid_t_defšed


237 
__uid_t
 
	tuid_t
;

238 
	#__uid_t_defšed


	)

241 #iâdeà
__off_t_defšed


242 #iâdeà
__USE_FILE_OFFSET64


243 
__off_t
 
	toff_t
;

245 
__off64_t
 
	toff_t
;

247 
	#__off_t_defšed


	)

249 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


250 
__off64_t
 
	toff64_t
;

251 
	#__off64_t_defšed


	)

254 #iâdeà
__u£cÚds_t_defšed


255 
__u£cÚds_t
 
	tu£cÚds_t
;

256 
	#__u£cÚds_t_defšed


	)

259 #iâdeà
__pid_t_defšed


260 
__pid_t
 
	tpid_t
;

261 
	#__pid_t_defšed


	)

265 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


266 #iâdeà
__šŒ_t_defšed


267 
__šŒ_t
 
	tšŒ_t
;

268 
	#__šŒ_t_defšed


	)

272 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


273 #iâdeà
__sockËn_t_defšed


274 
__sockËn_t
 
	tsockËn_t
;

275 
	#__sockËn_t_defšed


	)

281 
	#R_OK
 4

	)

282 
	#W_OK
 2

	)

283 
	#X_OK
 1

	)

284 
	#F_OK
 0

	)

287 
	$acûss
 (cÚ¡ *
__Çme
, 
__ty³
è
__THROW
 
	`__nÚnuÎ
 ((1));

289 #ifdeà
__USE_GNU


292 
	$euidacûss
 (cÚ¡ *
__Çme
, 
__ty³
)

293 
__THROW
 
	`__nÚnuÎ
 ((1));

296 
	$—cûss
 (cÚ¡ *
__Çme
, 
__ty³
)

297 
__THROW
 
	`__nÚnuÎ
 ((1));

300 
	$execv—t
 (
__fd
, cÚ¡ *
__·th
, *cÚ¡ 
__¬gv
[],

301 *cÚ¡ 
__’vp
[], 
__æags
)

302 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

305 #ifdeà
__USE_ATFILE


309 
	$çcûs§t
 (
__fd
, cÚ¡ *
__fe
, 
__ty³
, 
__æag
)

310 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

315 #iâdef 
_STDIO_H


316 
	#SEEK_SET
 0

	)

317 
	#SEEK_CUR
 1

	)

318 
	#SEEK_END
 2

	)

319 #ifdeà
__USE_GNU


320 
	#SEEK_DATA
 3

	)

321 
	#SEEK_HOLE
 4

	)

325 #ià
defšed
 
__USE_MISC
 && !defšed 
L_SET


327 
	#L_SET
 
SEEK_SET


	)

328 
	#L_INCR
 
SEEK_CUR


	)

329 
	#L_XTND
 
SEEK_END


	)

338 #iâdeà
__USE_FILE_OFFSET64


339 
__off_t
 
	$l£ek
 (
__fd
, 
__off_t
 
__off£t
, 
__wh’û
è
__THROW
;

341 #ifdeà
__REDIRECT_NTH


342 
__off64_t
 
	`__REDIRECT_NTH
 (
l£ek
,

343 (
__fd
, 
__off64_t
 
__off£t
, 
__wh’û
),

344 
l£ek64
);

346 
	#l£ek
 
l£ek64


	)

349 #ifdeà
__USE_LARGEFILE64


350 
__off64_t
 
	$l£ek64
 (
__fd
, 
__off64_t
 
__off£t
, 
__wh’û
)

351 
__THROW
;

358 
	`şo£
 (
__fd
);

360 #ifdeà
__USE_MISC


363 
	$şo£äom
 (
__lowfd
è
__THROW
;

371 
ssize_t
 
	$»ad
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
è
__wur


372 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 2, 3));

378 
ssize_t
 
	$wr™e
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
è
__wur


379 
	`__©Œ_acûss
 ((
__»ad_Úly__
, 2, 3));

381 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


382 #iâdeà
__USE_FILE_OFFSET64


389 
ssize_t
 
	$´—d
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

390 
__off_t
 
__off£t
è
__wur


391 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 2, 3));

398 
ssize_t
 
	$pwr™e
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
,

399 
__off_t
 
__off£t
è
__wur


400 
	`__©Œ_acûss
 ((
__»ad_Úly__
, 2, 3));

403 #ifdeà
__REDIRECT


404 
ssize_t
 
	`__REDIRECT
 (
´—d
, (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

405 
__off64_t
 
__off£t
),

406 
´—d64
è
__wur


407 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 2, 3));

408 
ssize_t
 
	`__REDIRECT
 (
pwr™e
, (
__fd
, cÚ¡ *
__buf
,

409 
size_t
 
__nby‹s
, 
__off64_t
 
__off£t
),

410 
pwr™e64
è
__wur


411 
	`__©Œ_acûss
 ((
__»ad_Úly__
, 2, 3));

413 
	#´—d
 
´—d64


	)

414 
	#pwr™e
 
pwr™e64


	)

418 #ifdeà
__USE_LARGEFILE64


422 
ssize_t
 
	$´—d64
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

423 
__off64_t
 
__off£t
è
__wur


424 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 2, 3));

427 
ssize_t
 
	$pwr™e64
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
,

428 
__off64_t
 
__off£t
è
__wur


429 
	`__©Œ_acûss
 ((
__»ad_Úly__
, 2, 3));

437 
	$pe
 (
__pedes
[2]è
__THROW
 
__wur
;

439 #ifdeà
__USE_GNU


442 
	$pe2
 (
__pedes
[2], 
__æags
è
__THROW
 
__wur
;

452 
	$®¬m
 (
__£cÚds
è
__THROW
;

464 
	`¦“p
 (
__£cÚds
);

466 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

467 || 
defšed
 
__USE_MISC


472 
__u£cÚds_t
 
	$u®¬m
 (
__u£cÚds_t
 
__v®ue
, __u£cÚds_ˆ
__š‹rv®
)

473 
__THROW
;

480 
	`u¦“p
 (
__u£cÚds_t
 
__u£cÚds
);

489 
	`·u£
 ();

493 
	$chown
 (cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
)

494 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

496 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


498 
	$fchown
 (
__fd
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
è
__THROW
 
__wur
;

503 
	$lchown
 (cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
)

504 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

508 #ifdeà
__USE_ATFILE


511 
	$fchowÇt
 (
__fd
, cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
,

512 
__gid_t
 
__group
, 
__æag
)

513 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

517 
	$chdœ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

519 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


521 
	$fchdœ
 (
__fd
è
__THROW
 
__wur
;

531 *
	$g‘cwd
 (*
__buf
, 
size_t
 
__size
è
__THROW
 
__wur
;

533 #ifdef 
__USE_GNU


537 *
	$g‘_cu¼’t_dœ_Çme
 (è
__THROW
;

540 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

541 || 
defšed
 
__USE_MISC


545 *
	$g‘wd
 (*
__buf
)

546 
__THROW
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
 
__wur


547 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 1));

552 
	$dup
 (
__fd
è
__THROW
 
__wur
;

555 
	$dup2
 (
__fd
, 
__fd2
è
__THROW
;

557 #ifdeà
__USE_GNU


560 
	$dup3
 (
__fd
, 
__fd2
, 
__æags
è
__THROW
;

564 **
__’vœÚ
;

565 #ifdeà
__USE_GNU


566 **
’vœÚ
;

572 
	$execve
 (cÚ¡ *
__·th
, *cÚ¡ 
__¬gv
[],

573 *cÚ¡ 
__’vp
[]è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

575 #ifdeà
__USE_XOPEN2K8


578 
	$ãxecve
 (
__fd
, *cÚ¡ 
__¬gv
[], *cÚ¡ 
__’vp
[])

579 
__THROW
 
	`__nÚnuÎ
 ((2));

584 
	$execv
 (cÚ¡ *
__·th
, *cÚ¡ 
__¬gv
[])

585 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

589 
	$exeşe
 (cÚ¡ *
__·th
, cÚ¡ *
__¬g
, ...)

590 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

594 
	$exeş
 (cÚ¡ *
__·th
, cÚ¡ *
__¬g
, ...)

595 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

599 
	$execvp
 (cÚ¡ *
__fe
, *cÚ¡ 
__¬gv
[])

600 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

605 
	$exeşp
 (cÚ¡ *
__fe
, cÚ¡ *
__¬g
, ...)

606 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

608 #ifdeà
__USE_GNU


611 
	$execv³
 (cÚ¡ *
__fe
, *cÚ¡ 
__¬gv
[],

612 *cÚ¡ 
__’vp
[])

613 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

617 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


619 
	$niû
 (
__šc
è
__THROW
 
__wur
;

624 
	$_ex™
 (
__¡©us
è
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

630 
	~<b™s/cÚâame.h
>

633 
	$·thcÚf
 (cÚ¡ *
__·th
, 
__Çme
)

634 
__THROW
 
	`__nÚnuÎ
 ((1));

637 
	$å©hcÚf
 (
__fd
, 
__Çme
è
__THROW
;

640 
	$syscÚf
 (
__Çme
è
__THROW
;

642 #ifdef 
__USE_POSIX2


644 
size_t
 
	$cÚf¡r
 (
__Çme
, *
__buf
, 
size_t
 
__Ën
è
__THROW


645 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 2, 3));

650 
__pid_t
 
	$g‘pid
 (è
__THROW
;

653 
__pid_t
 
	$g‘µid
 (è
__THROW
;

656 
__pid_t
 
	$g‘pg½
 (è
__THROW
;

659 
__pid_t
 
	$__g‘pgid
 (
__pid_t
 
__pid
è
__THROW
;

660 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


661 
__pid_t
 
	$g‘pgid
 (
__pid_t
 
__pid
è
__THROW
;

668 
	$£gid
 (
__pid_t
 
__pid
, __pid_ˆ
__pgid
è
__THROW
;

670 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


682 
	$£g½
 (è
__THROW
;

689 
__pid_t
 
	$£tsid
 (è
__THROW
;

691 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


693 
__pid_t
 
	$g‘sid
 (
__pid_t
 
__pid
è
__THROW
;

697 
__uid_t
 
	$g‘uid
 (è
__THROW
;

700 
__uid_t
 
	$g‘euid
 (è
__THROW
;

703 
__gid_t
 
	$g‘gid
 (è
__THROW
;

706 
__gid_t
 
	$g‘egid
 (è
__THROW
;

711 
	$g‘groups
 (
__size
, 
__gid_t
 
__li¡
[]è
__THROW
 
__wur


712 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 2, 1));

713 #ifdef 
__USE_GNU


715 
	$group_memb”
 (
__gid_t
 
__gid
è
__THROW
;

722 
	$£tuid
 (
__uid_t
 
__uid
è
__THROW
 
__wur
;

724 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


727 
	$£Œeuid
 (
__uid_t
 
__ruid
, __uid_ˆ
__euid
è
__THROW
 
__wur
;

730 #ifdeà
__USE_XOPEN2K


732 
	$£‹uid
 (
__uid_t
 
__uid
è
__THROW
 
__wur
;

739 
	$£tgid
 (
__gid_t
 
__gid
è
__THROW
 
__wur
;

741 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


744 
	$£Œegid
 (
__gid_t
 
__rgid
, __gid_ˆ
__egid
è
__THROW
 
__wur
;

747 #ifdeà
__USE_XOPEN2K


749 
	$£‹gid
 (
__gid_t
 
__gid
è
__THROW
 
__wur
;

752 #ifdeà
__USE_GNU


755 
	$g‘»suid
 (
__uid_t
 *
__ruid
, __uid_ˆ*
__euid
, __uid_ˆ*
__suid
)

756 
__THROW
;

760 
	$g‘»sgid
 (
__gid_t
 *
__rgid
, __gid_ˆ*
__egid
, __gid_ˆ*
__sgid
)

761 
__THROW
;

765 
	$£Œesuid
 (
__uid_t
 
__ruid
, __uid_ˆ
__euid
, __uid_ˆ
__suid
)

766 
__THROW
 
__wur
;

770 
	$£Œesgid
 (
__gid_t
 
__rgid
, __gid_ˆ
__egid
, __gid_ˆ
__sgid
)

771 
__THROW
 
__wur
;

778 
__pid_t
 
	$fÜk
 (è
__THROWNL
;

780 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

781 || 
defšed
 
__USE_MISC


786 
__pid_t
 
	$vfÜk
 (è
__THROW
;

789 #ifdeà
__USE_GNU


793 
__pid_t
 
	$_FÜk
 (è
__THROW
;

799 *
	$‰yÇme
 (
__fd
è
__THROW
;

803 
	$‰yÇme_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

804 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 2, 3));

808 
	$i§‰y
 (
__fd
è
__THROW
;

810 #ifdeà
__USE_MISC


813 
	$‰y¦Ù
 (è
__THROW
;

818 
	$lšk
 (cÚ¡ *
__äom
, cÚ¡ *
__to
)

819 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

821 #ifdeà
__USE_ATFILE


824 
	$lšk©
 (
__äomfd
, cÚ¡ *
__äom
, 
__tofd
,

825 cÚ¡ *
__to
, 
__æags
)

826 
__THROW
 
	`__nÚnuÎ
 ((2, 4)è
__wur
;

829 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


831 
	$symlšk
 (cÚ¡ *
__äom
, cÚ¡ *
__to
)

832 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

837 
ssize_t
 
	$»adlšk
 (cÚ¡ *
__»¡riù
 
__·th
,

838 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

839 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 2, 3));

843 #ifdeà
__USE_ATFILE


845 
	$symlšk©
 (cÚ¡ *
__äom
, 
__tofd
,

846 cÚ¡ *
__to
è
__THROW
 
	`__nÚnuÎ
 ((1, 3)è
__wur
;

849 
ssize_t
 
	$»adlšk©
 (
__fd
, cÚ¡ *
__»¡riù
 
__·th
,

850 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

851 
__THROW
 
	`__nÚnuÎ
 ((2, 3)è
__wur
 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 3, 4));

855 
	$uÆšk
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

857 #ifdeà
__USE_ATFILE


859 
	$uÆšk©
 (
__fd
, cÚ¡ *
__Çme
, 
__æag
)

860 
__THROW
 
	`__nÚnuÎ
 ((2));

864 
	$rmdœ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1));

868 
__pid_t
 
	$tcg‘pg½
 (
__fd
è
__THROW
;

871 
	$tc£g½
 (
__fd
, 
__pid_t
 
__pg½_id
è
__THROW
;

878 *
	`g‘logš
 ();

879 #ifdeà
__USE_POSIX199506


886 
	$g‘logš_r
 (*
__Çme
, 
size_t
 
__Çme_Ën
è
	`__nÚnuÎ
 ((1))

887 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 1, 2));

890 #ifdef 
__USE_MISC


892 
	$£ogš
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

896 #ifdef 
__USE_POSIX2


900 
	~<b™s/g‘İt_posix.h
>

904 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


908 
	$g‘ho¡Çme
 (*
__Çme
, 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((1))

909 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 1, 2));

913 #ià
defšed
 
__USE_MISC


916 
	$£tho¡Çme
 (cÚ¡ *
__Çme
, 
size_t
 
__Ën
)

917 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
 
	`__©Œ_acûss
 ((
__»ad_Úly__
, 1, 2));

921 
	$£tho¡id
 (
__id
è
__THROW
 
__wur
;

927 
	$g‘domašÇme
 (*
__Çme
, 
size_t
 
__Ën
)

928 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 1, 2));

929 
	$£tdomašÇme
 (cÚ¡ *
__Çme
, 
size_t
 
__Ën
)

930 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
 
	`__©Œ_acûss
 ((
__»ad_Úly__
, 1, 2));

935 
	$vhªgup
 (è
__THROW
;

938 
	$»voke
 (cÚ¡ *
__fe
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

946 
	$´of
 (*
__§m¶e_bufãr
, 
size_t
 
__size
,

947 
size_t
 
__off£t
, 
__sÿË
)

948 
__THROW
 
	`__nÚnuÎ
 ((1));

954 
	$acù
 (cÚ¡ *
__Çme
è
__THROW
;

958 *
	$g‘u£rsh–l
 (è
__THROW
;

959 
	$’du£rsh–l
 (è
__THROW
;

960 
	$£tu£rsh–l
 (è
__THROW
;

966 
	$d«mÚ
 (
__nochdœ
, 
__noşo£
è
__THROW
 
__wur
;

970 #ià
defšed
 
__USE_MISC
 || (defšed 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

973 
	$chroÙ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

977 *
	$g‘·ss
 (cÚ¡ *
__´om±
è
	`__nÚnuÎ
 ((1));

985 
	`fsync
 (
__fd
);

988 #ifdeà
__USE_GNU


991 
	$syncfs
 (
__fd
è
__THROW
;

995 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


998 
	`g‘ho¡id
 ();

1001 
	$sync
 (è
__THROW
;

1004 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K


1007 
	$g‘·gesize
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

1012 
	$g‘dbËsize
 (è
__THROW
;

1018 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


1021 #iâdeà
__USE_FILE_OFFSET64


1022 
	$Œunÿ‹
 (cÚ¡ *
__fe
, 
__off_t
 
__Ëngth
)

1023 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

1025 #ifdeà
__REDIRECT_NTH


1026 
	`__REDIRECT_NTH
 (
Œunÿ‹
,

1027 (cÚ¡ *
__fe
, 
__off64_t
 
__Ëngth
),

1028 
Œunÿ‹64
è
	`__nÚnuÎ
 ((1)è
__wur
;

1030 
	#Œunÿ‹
 
Œunÿ‹64


	)

1033 #ifdeà
__USE_LARGEFILE64


1034 
	$Œunÿ‹64
 (cÚ¡ *
__fe
, 
__off64_t
 
__Ëngth
)

1035 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

1040 #ià
defšed
 
__USE_POSIX199309
 \

1041 || 
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


1044 #iâdeà
__USE_FILE_OFFSET64


1045 
	$árunÿ‹
 (
__fd
, 
__off_t
 
__Ëngth
è
__THROW
 
__wur
;

1047 #ifdeà
__REDIRECT_NTH


1048 
	`__REDIRECT_NTH
 (
árunÿ‹
, (
__fd
, 
__off64_t
 
__Ëngth
),

1049 
árunÿ‹64
è
__wur
;

1051 
	#árunÿ‹
 
árunÿ‹64


	)

1054 #ifdeà
__USE_LARGEFILE64


1055 
	$árunÿ‹64
 (
__fd
, 
__off64_t
 
__Ëngth
è
__THROW
 
__wur
;

1061 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

1062 || 
defšed
 
__USE_MISC


1066 
	$brk
 (*
__addr
è
__THROW
 
__wur
;

1072 *
	$sbrk
 (
šŒ_t
 
__d–
è
__THROW
;

1076 #ifdeà
__USE_MISC


1087 
	$sysÿÎ
 (
__sy¢o
, ...è
__THROW
;

1092 #ià(
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
è&& !defšed 
F_LOCK


1104 
	#F_ULOCK
 0

	)

1105 
	#F_LOCK
 1

	)

1106 
	#F_TLOCK
 2

	)

1107 
	#F_TEST
 3

	)

1109 #iâdeà
__USE_FILE_OFFSET64


1110 
	$lockf
 (
__fd
, 
__cmd
, 
__off_t
 
__Ën
è
__wur
;

1112 #ifdeà
__REDIRECT


1113 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
),

1114 
lockf64
è
__wur
;

1116 
	#lockf
 
lockf64


	)

1119 #ifdeà
__USE_LARGEFILE64


1120 
	$lockf64
 (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
è
__wur
;

1125 #ifdeà
__USE_GNU


1130 
	#TEMP_FAILURE_RETRY
(
ex´essiÚ
) \

1131 (
__ex‹nsiÚ__
 \

1132 ({ 
__»suÉ
; \

1133 dØ
__»suÉ
 = (è(
ex´essiÚ
); \

1134 
__»suÉ
 =ğ-1L && 
”ºo
 =ğ
EINTR
); \

1135 
__»suÉ
; 
	}
}))

	)

1138 
ssize_t
 
cİy_fe_¿nge
 (
__šfd
, 
__off64_t
 *
__pšoff
,

1139 
__outfd
, 
__off64_t
 *
__poutoff
,

1140 
size_t
 
__Ëngth
, 
__æags
);

1143 #ià
defšed
 
__USE_POSIX199309
 || defšed 
__USE_UNIX98


1146 
fd©async
 (
__fdes
);

1149 #ifdeà
__USE_MISC


1155 *
	$üy±
 (cÚ¡ *
__key
, cÚ¡ *
__§É
)

1156 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1159 #ifdef 
__USE_XOPEN


1164 
	$swab
 (cÚ¡ *
__»¡riù
 
__äom
, *__»¡riù 
__to
,

1165 
ssize_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2))

1166 
	`__©Œ_acûss
 ((
__»ad_Úly__
, 1, 3))

1167 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 2, 3));

1174 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K


1176 *
	$ù”mid
 (*
__s
è
__THROW
;

1179 *
	`cu£rid
 (*
__s
);

1185 #ià
defšed
 
__USE_UNIX98
 && !defšed 
__USE_XOPEN2K


1186 
	$±h»ad_©fÜk
 ((*
__´•¬e
) (),

1187 (*
__·»Á
) (),

1188 (*
__chd
è()è
__THROW
;

1191 #ifdeà
__USE_MISC


1194 
	$g‘’Œİy
 (*
__bufãr
, 
size_t
 
__Ëngth
è
__wur


1195 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 1, 2));

1199 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


1200 
	~<b™s/uni¡d.h
>

1204 
	~<b™s/uni¡d_ext.h
>

1206 
__END_DECLS


	@/usr/include/zlib.h

31 #iâdeà
ZLIB_H


32 
	#ZLIB_H


	)

34 
	~"zcÚf.h
"

36 #ifdeà
__ılu¥lus


40 
	#ZLIB_VERSION
 "1.2.11"

	)

41 
	#ZLIB_VERNUM
 0x12b0

	)

42 
	#ZLIB_VER_MAJOR
 1

	)

43 
	#ZLIB_VER_MINOR
 2

	)

44 
	#ZLIB_VER_REVISION
 11

	)

45 
	#ZLIB_VER_SUBREVISION
 0

	)

81 
voidpf
 (*
	t®loc_func
è
	tOF
((
	tvoidpf
 
	tİaque
, 
	tuIÁ
 
	t™ems
, uIÁ 
	tsize
));

82 (*
ä“_func
è
	tOF
((
	tvoidpf
 
	tİaque
, voidpà
	tadd»ss
));

84 
š‹º®_¡©e
;

86 
	sz_¡»am_s
 {

87 
z_cÚ¡
 
By‹f
 *
Ãxt_š
;

88 
uIÁ
 
ava_š
;

89 
uLÚg
 
tÙ®_š
;

91 
By‹f
 *
Ãxt_out
;

92 
uIÁ
 
ava_out
;

93 
uLÚg
 
tÙ®_out
;

95 
z_cÚ¡
 *
msg
;

96 
š‹º®_¡©e
 
FAR
 *
¡©e
;

98 
®loc_func
 
z®loc
;

99 
ä“_func
 
zä“
;

100 
voidpf
 
İaque
;

102 
d©a_ty³
;

104 
uLÚg
 
adËr
;

105 
uLÚg
 
»£rved
;

106 } 
	tz_¡»am
;

108 
z_¡»am
 
	tFAR
 *
	tz_¡»amp
;

114 
	sgz_h—d”_s
 {

115 
‹xt
;

116 
uLÚg
 
time
;

117 
xæags
;

118 
os
;

119 
By‹f
 *
exŒa
;

120 
uIÁ
 
exŒa_Ën
;

121 
uIÁ
 
exŒa_max
;

122 
By‹f
 *
Çme
;

123 
uIÁ
 
Çme_max
;

124 
By‹f
 *
comm’t
;

125 
uIÁ
 
comm_max
;

126 
hüc
;

127 
dÚe
;

129 } 
	tgz_h—d”
;

131 
gz_h—d”
 
	tFAR
 *
	tgz_h—d”p
;

168 
	#Z_NO_FLUSH
 0

	)

169 
	#Z_PARTIAL_FLUSH
 1

	)

170 
	#Z_SYNC_FLUSH
 2

	)

171 
	#Z_FULL_FLUSH
 3

	)

172 
	#Z_FINISH
 4

	)

173 
	#Z_BLOCK
 5

	)

174 
	#Z_TREES
 6

	)

177 
	#Z_OK
 0

	)

178 
	#Z_STREAM_END
 1

	)

179 
	#Z_NEED_DICT
 2

	)

180 
	#Z_ERRNO
 (-1)

	)

181 
	#Z_STREAM_ERROR
 (-2)

	)

182 
	#Z_DATA_ERROR
 (-3)

	)

183 
	#Z_MEM_ERROR
 (-4)

	)

184 
	#Z_BUF_ERROR
 (-5)

	)

185 
	#Z_VERSION_ERROR
 (-6)

	)

190 
	#Z_NO_COMPRESSION
 0

	)

191 
	#Z_BEST_SPEED
 1

	)

192 
	#Z_BEST_COMPRESSION
 9

	)

193 
	#Z_DEFAULT_COMPRESSION
 (-1)

	)

196 
	#Z_FILTERED
 1

	)

197 
	#Z_HUFFMAN_ONLY
 2

	)

198 
	#Z_RLE
 3

	)

199 
	#Z_FIXED
 4

	)

200 
	#Z_DEFAULT_STRATEGY
 0

	)

203 
	#Z_BINARY
 0

	)

204 
	#Z_TEXT
 1

	)

205 
	#Z_ASCII
 
Z_TEXT


	)

206 
	#Z_UNKNOWN
 2

	)

209 
	#Z_DEFLATED
 8

	)

212 
	#Z_NULL
 0

	)

214 
	#zlib_v”siÚ
 
	`zlibV”siÚ
()

	)

220 
ZEXTERN
 cÚ¡ * 
ZEXPORT
 
zlibV”siÚ
 
OF
(());

250 
ZEXTERN
 
ZEXPORT
 
deæ©e
 
OF
((
z_¡»amp
 
¡rm
, 
æush
));

363 
ZEXTERN
 
ZEXPORT
 
deæ©eEnd
 
OF
((
z_¡»amp
 
¡rm
));

400 
ZEXTERN
 
ZEXPORT
 
šæ©e
 
OF
((
z_¡»amp
 
¡rm
, 
æush
));

520 
ZEXTERN
 
ZEXPORT
 
šæ©eEnd
 
OF
((
z_¡»amp
 
¡rm
));

611 
ZEXTERN
 
ZEXPORT
 
deæ©eS‘DiùiÚ¬y
 
OF
((
z_¡»amp
 
¡rm
,

612 cÚ¡ 
By‹f
 *
diùiÚ¬y
,

613 
uIÁ
 
diùL’gth
));

655 
ZEXTERN
 
ZEXPORT
 
deæ©eG‘DiùiÚ¬y
 
OF
((
z_¡»amp
 
¡rm
,

656 
By‹f
 *
diùiÚ¬y
,

657 
uIÁ
 *
diùL’gth
));

677 
ZEXTERN
 
ZEXPORT
 
deæ©eCİy
 
OF
((
z_¡»amp
 
de¡
,

678 
z_¡»amp
 
sourû
));

695 
ZEXTERN
 
ZEXPORT
 
deæ©eRe£t
 
OF
((
z_¡»amp
 
¡rm
));

706 
ZEXTERN
 
ZEXPORT
 
deæ©eP¬ams
 
OF
((
z_¡»amp
 
¡rm
,

707 
Ëv–
,

708 
¡¿‹gy
));

744 
ZEXTERN
 
ZEXPORT
 
deæ©eTuÃ
 
OF
((
z_¡»amp
 
¡rm
,

745 
good_Ëngth
,

746 
max_Ïzy
,

747 
niû_Ëngth
,

748 
max_chaš
));

761 
ZEXTERN
 
uLÚg
 
ZEXPORT
 
deæ©eBound
 
OF
((
z_¡»amp
 
¡rm
,

762 
uLÚg
 
sourûL’
));

776 
ZEXTERN
 
ZEXPORT
 
deæ©eP’dšg
 
OF
((
z_¡»amp
 
¡rm
,

777 *
³ndšg
,

778 *
b™s
));

791 
ZEXTERN
 
ZEXPORT
 
deæ©ePrime
 
OF
((
z_¡»amp
 
¡rm
,

792 
b™s
,

793 
v®ue
));

808 
ZEXTERN
 
ZEXPORT
 
deæ©eS‘H—d”
 
OF
((
z_¡»amp
 
¡rm
,

809 
gz_h—d”p
 
h—d
));

885 
ZEXTERN
 
ZEXPORT
 
šæ©eS‘DiùiÚ¬y
 
OF
((
z_¡»amp
 
¡rm
,

886 cÚ¡ 
By‹f
 *
diùiÚ¬y
,

887 
uIÁ
 
diùL’gth
));

908 
ZEXTERN
 
ZEXPORT
 
šæ©eG‘DiùiÚ¬y
 
OF
((
z_¡»amp
 
¡rm
,

909 
By‹f
 *
diùiÚ¬y
,

910 
uIÁ
 *
diùL’gth
));

923 
ZEXTERN
 
ZEXPORT
 
šæ©eSync
 
OF
((
z_¡»amp
 
¡rm
));

942 
ZEXTERN
 
ZEXPORT
 
šæ©eCİy
 
OF
((
z_¡»amp
 
de¡
,

943 
z_¡»amp
 
sourû
));

958 
ZEXTERN
 
ZEXPORT
 
šæ©eRe£t
 
OF
((
z_¡»amp
 
¡rm
));

968 
ZEXTERN
 
ZEXPORT
 
šæ©eRe£t2
 
OF
((
z_¡»amp
 
¡rm
,

969 
wšdowB™s
));

982 
ZEXTERN
 
ZEXPORT
 
šæ©ePrime
 
OF
((
z_¡»amp
 
¡rm
,

983 
b™s
,

984 
v®ue
));

1003 
ZEXTERN
 
ZEXPORT
 
šæ©eM¬k
 
OF
((
z_¡»amp
 
¡rm
));

1031 
ZEXTERN
 
ZEXPORT
 
šæ©eG‘H—d”
 
OF
((
z_¡»amp
 
¡rm
,

1032 
gz_h—d”p
 
h—d
));

1093 (*
š_func
è
	tOF
((
	tFAR
 *,

1094 
	tz_cÚ¡
 
	tFAR
 * FAR *));

1095 (*
out_func
è
	tOF
((
	tFAR
 *, FAR *, ));

1097 
ZEXTERN
 
ZEXPORT
 
šæ©eBack
 
OF
((
z_¡»amp
 
¡rm
,

1098 
š_func
 
š
, 
FAR
 *
š_desc
,

1099 
out_func
 
out
, 
FAR
 *
out_desc
));

1167 
ZEXTERN
 
ZEXPORT
 
šæ©eBackEnd
 
OF
((
z_¡»amp
 
¡rm
));

1175 
ZEXTERN
 
uLÚg
 
ZEXPORT
 
zlibCompeFÏgs
 
OF
(());

1216 #iâdeà
Z_SOLO


1228 
ZEXTERN
 
ZEXPORT
 
com´ess
 
OF
((
By‹f
 *
de¡
, 
uLÚgf
 *
de¡L’
,

1229 cÚ¡ 
By‹f
 *
sourû
, 
uLÚg
 
sourûL’
));

1243 
ZEXTERN
 
ZEXPORT
 
com´ess2
 
OF
((
By‹f
 *
de¡
, 
uLÚgf
 *
de¡L’
,

1244 cÚ¡ 
By‹f
 *
sourû
, 
uLÚg
 
sourûL’
,

1245 
Ëv–
));

1259 
ZEXTERN
 
uLÚg
 
ZEXPORT
 
com´essBound
 
OF
((uLÚg 
sourûL’
));

1266 
ZEXTERN
 
ZEXPORT
 
uncom´ess
 
OF
((
By‹f
 *
de¡
, 
uLÚgf
 *
de¡L’
,

1267 cÚ¡ 
By‹f
 *
sourû
, 
uLÚg
 
sourûL’
));

1284 
ZEXTERN
 
ZEXPORT
 
uncom´ess2
 
OF
((
By‹f
 *
de¡
, 
uLÚgf
 *
de¡L’
,

1285 cÚ¡ 
By‹f
 *
sourû
, 
uLÚg
 *
sourûL’
));

1301 
gzFe_s
 *
	tgzFe
;

1341 
ZEXTERN
 
gzFe
 
ZEXPORT
 
gzdİ’
 
OF
((
fd
, cÚ¡ *
mode
));

1364 
ZEXTERN
 
ZEXPORT
 
gzbufãr
 
OF
((
gzFe
 
fe
, 
size
));

1380 
ZEXTERN
 
ZEXPORT
 
gz£¬ams
 
OF
((
gzFe
 
fe
, 
Ëv–
, 
¡¿‹gy
));

1391 
ZEXTERN
 
ZEXPORT
 
gz»ad
 
OF
((
gzFe
 
fe
, 
voidp
 
buf
, 
Ën
));

1421 
ZEXTERN
 
z_size_t
 
ZEXPORT
 
gzä—d
 
OF
((
voidp
 
buf
, z_size_ˆ
size
, z_size_ˆ
n™ems
,

1422 
gzFe
 
fe
));

1447 
ZEXTERN
 
ZEXPORT
 
gzwr™e
 
OF
((
gzFe
 
fe
,

1448 
voidpc
 
buf
, 
Ën
));

1455 
ZEXTERN
 
z_size_t
 
ZEXPORT
 
gzfwr™e
 
OF
((
voidpc
 
buf
, z_size_ˆ
size
,

1456 
z_size_t
 
n™ems
, 
gzFe
 
fe
));

1469 
ZEXTERN
 
ZEXPORTVA
 
gz´štf
 
Z_ARG
((
gzFe
 
fe
, cÚ¡ *
fÜm©
, ...));

1484 
ZEXTERN
 
ZEXPORT
 
gzputs
 
OF
((
gzFe
 
fe
, cÚ¡ *
s
));

1492 
ZEXTERN
 * 
ZEXPORT
 
gzg‘s
 
OF
((
gzFe
 
fe
, *
buf
, 
Ën
));

1505 
ZEXTERN
 
ZEXPORT
 
gzputc
 
OF
((
gzFe
 
fe
, 
c
));

1511 
ZEXTERN
 
ZEXPORT
 
gzg‘c
 
OF
((
gzFe
 
fe
));

1520 
ZEXTERN
 
ZEXPORT
 
gzung‘c
 
OF
((
c
, 
gzFe
 
fe
));

1532 
ZEXTERN
 
ZEXPORT
 
gzæush
 
OF
((
gzFe
 
fe
, 
æush
));

1567 
ZEXTERN
 
ZEXPORT
 
gz»wšd
 
OF
((
gzFe
 
fe
));

1595 
ZEXTERN
 
ZEXPORT
 
gzeof
 
OF
((
gzFe
 
fe
));

1610 
ZEXTERN
 
ZEXPORT
 
gzdœeù
 
OF
((
gzFe
 
fe
));

1631 
ZEXTERN
 
ZEXPORT
 
gzşo£
 
OF
((
gzFe
 
fe
));

1644 
ZEXTERN
 
ZEXPORT
 
gzşo£_r
 
OF
((
gzFe
 
fe
));

1645 
ZEXTERN
 
ZEXPORT
 
gzşo£_w
 
OF
((
gzFe
 
fe
));

1656 
ZEXTERN
 cÚ¡ * 
ZEXPORT
 
gz”rÜ
 
OF
((
gzFe
 
fe
, *
”ºum
));

1672 
ZEXTERN
 
ZEXPORT
 
gzş—»¼
 
OF
((
gzFe
 
fe
));

1689 
ZEXTERN
 
uLÚg
 
ZEXPORT
 
adËr32
 
OF
((uLÚg 
adËr
, cÚ¡ 
By‹f
 *
buf
, 
uIÁ
 
Ën
));

1708 
ZEXTERN
 
uLÚg
 
ZEXPORT
 
adËr32_z
 
OF
((uLÚg 
adËr
, cÚ¡ 
By‹f
 *
buf
,

1709 
z_size_t
 
Ën
));

1726 
ZEXTERN
 
uLÚg
 
ZEXPORT
 
üc32
 
OF
((uLÚg 
üc
, cÚ¡ 
By‹f
 *
buf
, 
uIÁ
 
Ën
));

1743 
ZEXTERN
 
uLÚg
 
ZEXPORT
 
üc32_z
 
OF
((uLÚg 
adËr
, cÚ¡ 
By‹f
 *
buf
,

1744 
z_size_t
 
Ën
));

1765 
ZEXTERN
 
ZEXPORT
 
deæ©eIn™_
 
OF
((
z_¡»amp
 
¡rm
, 
Ëv–
,

1766 cÚ¡ *
v”siÚ
, 
¡»am_size
));

1767 
ZEXTERN
 
ZEXPORT
 
šæ©eIn™_
 
OF
((
z_¡»amp
 
¡rm
,

1768 cÚ¡ *
v”siÚ
, 
¡»am_size
));

1769 
ZEXTERN
 
ZEXPORT
 
deæ©eIn™2_
 
OF
((
z_¡»amp
 
¡rm
, 
Ëv–
, 
m‘hod
,

1770 
wšdowB™s
, 
memLev–
,

1771 
¡¿‹gy
, cÚ¡ *
v”siÚ
,

1772 
¡»am_size
));

1773 
ZEXTERN
 
ZEXPORT
 
šæ©eIn™2_
 
OF
((
z_¡»amp
 
¡rm
, 
wšdowB™s
,

1774 cÚ¡ *
v”siÚ
, 
¡»am_size
));

1775 
ZEXTERN
 
ZEXPORT
 
šæ©eBackIn™_
 
OF
((
z_¡»amp
 
¡rm
, 
wšdowB™s
,

1776 
FAR
 *
wšdow
,

1777 cÚ¡ *
v”siÚ
,

1778 
¡»am_size
));

1779 #ifdeà
Z_PREFIX_SET


1780 
	#z_deæ©eIn™
(
¡rm
, 
Ëv–
) \

1781 
	`deæ©eIn™_
((
¡rm
), (
Ëv–
), 
ZLIB_VERSION
, ()(
z_¡»am
))

	)

1782 
	#z_šæ©eIn™
(
¡rm
) \

1783 
	`šæ©eIn™_
((
¡rm
), 
ZLIB_VERSION
, ()(
z_¡»am
))

	)

1784 
	#z_deæ©eIn™2
(
¡rm
, 
Ëv–
, 
m‘hod
, 
wšdowB™s
, 
memLev–
, 
¡¿‹gy
) \

1785 
	`deæ©eIn™2_
((
¡rm
),(
Ëv–
),(
m‘hod
),(
wšdowB™s
),(
memLev–
),\

1786 (
¡¿‹gy
), 
ZLIB_VERSION
, ()(
z_¡»am
))

	)

1787 
	#z_šæ©eIn™2
(
¡rm
, 
wšdowB™s
) \

1788 
	`šæ©eIn™2_
((
¡rm
), (
wšdowB™s
), 
ZLIB_VERSION
, \

1789 ()(
z_¡»am
))

	)

1790 
	#z_šæ©eBackIn™
(
¡rm
, 
wšdowB™s
, 
wšdow
) \

1791 
	`šæ©eBackIn™_
((
¡rm
), (
wšdowB™s
), (
wšdow
), \

1792 
ZLIB_VERSION
, ()(
z_¡»am
))

	)

1794 
	#deæ©eIn™
(
¡rm
, 
Ëv–
) \

1795 
	`deæ©eIn™_
((
¡rm
), (
Ëv–
), 
ZLIB_VERSION
, ()(
z_¡»am
))

	)

1796 
	#šæ©eIn™
(
¡rm
) \

1797 
	`šæ©eIn™_
((
¡rm
), 
ZLIB_VERSION
, ()(
z_¡»am
))

	)

1798 
	#deæ©eIn™2
(
¡rm
, 
Ëv–
, 
m‘hod
, 
wšdowB™s
, 
memLev–
, 
¡¿‹gy
) \

1799 
	`deæ©eIn™2_
((
¡rm
),(
Ëv–
),(
m‘hod
),(
wšdowB™s
),(
memLev–
),\

1800 (
¡¿‹gy
), 
ZLIB_VERSION
, ()(
z_¡»am
))

	)

1801 
	#šæ©eIn™2
(
¡rm
, 
wšdowB™s
) \

1802 
	`šæ©eIn™2_
((
¡rm
), (
wšdowB™s
), 
ZLIB_VERSION
, \

1803 ()(
z_¡»am
))

	)

1804 
	#šæ©eBackIn™
(
¡rm
, 
wšdowB™s
, 
wšdow
) \

1805 
	`šæ©eBackIn™_
((
¡rm
), (
wšdowB™s
), (
wšdow
), \

1806 
ZLIB_VERSION
, ()(
z_¡»am
))

	)

1809 #iâdeà
Z_SOLO


1818 
	sgzFe_s
 {

1819 
have
;

1820 *
Ãxt
;

1821 
z_off64_t
 
pos
;

1823 
ZEXTERN
 
ZEXPORT
 
gzg‘c_
 
OF
((
gzFe
 
fe
));

1824 #ifdeà
Z_PREFIX_SET


1825 #undeà
z_gzg‘c


1826 
	#z_gzg‘c
(
g
) \

1827 ((
g
)->
have
 ? ((g)->have--, (g)->
pos
++, *((g)->
Ãxt
)++è: (
gzg‘c
)(g))

	)

1829 
	#gzg‘c
(
g
) \

1830 ((
g
)->
have
 ? ((g)->have--, (g)->
pos
++, *((g)->
Ãxt
)++è: (
gzg‘c
)(g))

	)

1839 #ifdeà
Z_LARGE64


1840 
ZEXTERN
 
gzFe
 
ZEXPORT
 
gzİ’64
 
OF
((const *, const *));

1841 
ZEXTERN
 
z_off64_t
 
ZEXPORT
 
gz£ek64
 
OF
((
gzFe
, z_off64_t, ));

1842 
ZEXTERN
 
z_off64_t
 
ZEXPORT
 
gz‹Î64
 
OF
((
gzFe
));

1843 
ZEXTERN
 
z_off64_t
 
ZEXPORT
 
gzoff£t64
 
OF
((
gzFe
));

1844 
ZEXTERN
 
uLÚg
 
ZEXPORT
 
adËr32_combše64
 
OF
((uLÚg, uLÚg, 
z_off64_t
));

1845 
ZEXTERN
 
uLÚg
 
ZEXPORT
 
üc32_combše64
 
OF
((uLÚg, uLÚg, 
z_off64_t
));

1848 #ià!
defšed
(
ZLIB_INTERNAL
è&& defšed(
Z_WANT64
)

1849 #ifdeà
Z_PREFIX_SET


1850 
	#z_gzİ’
 
z_gzİ’64


	)

1851 
	#z_gz£ek
 
z_gz£ek64


	)

1852 
	#z_gz‹Î
 
z_gz‹Î64


	)

1853 
	#z_gzoff£t
 
z_gzoff£t64


	)

1854 
	#z_adËr32_combše
 
z_adËr32_combše64


	)

1855 
	#z_üc32_combše
 
z_üc32_combše64


	)

1857 
	#gzİ’
 
gzİ’64


	)

1858 
	#gz£ek
 
gz£ek64


	)

1859 
	#gz‹Î
 
gz‹Î64


	)

1860 
	#gzoff£t
 
gzoff£t64


	)

1861 
	#adËr32_combše
 
adËr32_combše64


	)

1862 
	#üc32_combše
 
üc32_combše64


	)

1864 #iâdeà
Z_LARGE64


1865 
ZEXTERN
 
gzFe
 
ZEXPORT
 
gzİ’64
 
OF
((const *, const *));

1866 
ZEXTERN
 
z_off_t
 
ZEXPORT
 
gz£ek64
 
OF
((
gzFe
, z_off_t, ));

1867 
ZEXTERN
 
z_off_t
 
ZEXPORT
 
gz‹Î64
 
OF
((
gzFe
));

1868 
ZEXTERN
 
z_off_t
 
ZEXPORT
 
gzoff£t64
 
OF
((
gzFe
));

1869 
ZEXTERN
 
uLÚg
 
ZEXPORT
 
adËr32_combše64
 
OF
((uLÚg, uLÚg, 
z_off_t
));

1870 
ZEXTERN
 
uLÚg
 
ZEXPORT
 
üc32_combše64
 
OF
((uLÚg, uLÚg, 
z_off_t
));

1873 
ZEXTERN
 
gzFe
 
ZEXPORT
 
gzİ’
 
OF
((const *, const *));

1874 
ZEXTERN
 
z_off_t
 
ZEXPORT
 
gz£ek
 
OF
((
gzFe
, z_off_t, ));

1875 
ZEXTERN
 
z_off_t
 
ZEXPORT
 
gz‹Î
 
OF
((
gzFe
));

1876 
ZEXTERN
 
z_off_t
 
ZEXPORT
 
gzoff£t
 
OF
((
gzFe
));

1877 
ZEXTERN
 
uLÚg
 
ZEXPORT
 
adËr32_combše
 
OF
((uLÚg, uLÚg, 
z_off_t
));

1878 
ZEXTERN
 
uLÚg
 
ZEXPORT
 
üc32_combše
 
OF
((uLÚg, uLÚg, 
z_off_t
));

1883 
ZEXTERN
 
uLÚg
 
ZEXPORT
 
adËr32_combše
 
OF
((uLÚg, uLÚg, 
z_off_t
));

1884 
ZEXTERN
 
uLÚg
 
ZEXPORT
 
üc32_combše
 
OF
((uLÚg, uLÚg, 
z_off_t
));

1889 
ZEXTERN
 cÚ¡ * 
ZEXPORT
 
zE¼Ü
 
OF
(());

1890 
ZEXTERN
 
ZEXPORT
 
šæ©eSyncPošt
 
OF
((
z_¡»amp
));

1891 
ZEXTERN
 cÚ¡ 
z_üc_t
 
FAR
 * 
ZEXPORT
 
g‘_üc_bË
 
OF
(());

1892 
ZEXTERN
 
ZEXPORT
 
šæ©eUnd”mše
 
OF
((
z_¡»amp
, ));

1893 
ZEXTERN
 
ZEXPORT
 
šæ©eV®id©e
 
OF
((
z_¡»amp
, ));

1894 
ZEXTERN
 
ZEXPORT
 
šæ©eCodesU£d
 
OF
 ((
z_¡»amp
));

1895 
ZEXTERN
 
ZEXPORT
 
šæ©eRe£tK“p
 
OF
((
z_¡»amp
));

1896 
ZEXTERN
 
ZEXPORT
 
deæ©eRe£tK“p
 
OF
((
z_¡»amp
));

1897 #ià(
defšed
(
_WIN32
è|| defšed(
__CYGWIN__
)è&& !defšed(
Z_SOLO
)

1898 
ZEXTERN
 
gzFe
 
ZEXPORT
 
gzİ’_w
 
OF
((cÚ¡ 
wch¬_t
 *
·th
,

1899 cÚ¡ *
mode
));

1901 #ià
defšed
(
STDC
è|| defšed(
Z_HAVE_STDARG_H
)

1902 #iâdeà
Z_SOLO


1903 
ZEXTERN
 
ZEXPORTVA
 
gzv´štf
 
Z_ARG
((
gzFe
 
fe
,

1904 cÚ¡ *
fÜm©
,

1905 
va_li¡
 
va
));

1909 #ifdeà
__ılu¥lus


	@/usr/include/X11/X.h

3 #iâdeà
X_H


4 
	#X_H


	)

53 
	#X_PROTOCOL
 11

	)

54 
	#X_PROTOCOL_REVISION
 0

	)

63 #iâdeà
_XSERVER64


64 #iâdeà
_XTYPEDEF_XID


65 
	#_XTYPEDEF_XID


	)

66 
	tXID
;

68 #iâdeà
_XTYPEDEF_MASK


69 
	#_XTYPEDEF_MASK


	)

70 
	tMask
;

72 #iâdeà
_XTYPEDEF_ATOM


73 
	#_XTYPEDEF_ATOM


	)

74 
	tAtom
;

76 
	tVisu®ID
;

77 
	tTime
;

79 
	~<X11/Xmd.h
>

80 #iâdeà
_XTYPEDEF_XID


81 
	#_XTYPEDEF_XID


	)

82 
CARD32
 
	tXID
;

84 #iâdeà
_XTYPEDEF_MASK


85 
	#_XTYPEDEF_MASK


	)

86 
CARD32
 
	tMask
;

88 #iâdeà
_XTYPEDEF_ATOM


89 
	#_XTYPEDEF_ATOM


	)

90 
CARD32
 
	tAtom
;

92 
CARD32
 
	tVisu®ID
;

93 
CARD32
 
	tTime
;

96 
XID
 
	tWšdow
;

97 
XID
 
	tD¿wabË
;

98 #iâdeà
_XTYPEDEF_FONT


99 
	#_XTYPEDEF_FONT


	)

100 
XID
 
	tFÚt
;

102 
XID
 
	tPixm­
;

103 
XID
 
	tCursÜ
;

104 
XID
 
	tCŞÜm­
;

105 
XID
 
	tGCÚ‹xt
;

106 
XID
 
	tKeySym
;

108 
	tKeyCode
;

114 #iâdeà
NÚe


115 
	#NÚe
 0L

	)

118 
	#P¬’tR–©ive
 1L

	)

121 
	#CİyFromP¬’t
 0L

	)

126 
	#Poš‹rWšdow
 0L

	)

127 
	#IÅutFocus
 1L

	)

129 
	#Poš‹rRoÙ
 1L

	)

131 
	#AnyPrİ”tyTy³
 0L

	)

133 
	#AnyKey
 0L

	)

135 
	#AnyBu‰Ú
 0L

	)

137 
	#AÎTempÜ¬y
 0L

	)

139 
	#Cu¼’tTime
 0L

	)

141 
	#NoSymbŞ
 0L

	)

150 
	#NoEv’tMask
 0L

	)

151 
	#KeyP»ssMask
 (1L<<0)

	)

152 
	#KeyR–—£Mask
 (1L<<1)

	)

153 
	#Bu‰ÚP»ssMask
 (1L<<2)

	)

154 
	#Bu‰ÚR–—£Mask
 (1L<<3)

	)

155 
	#EÁ”WšdowMask
 (1L<<4)

	)

156 
	#L—veWšdowMask
 (1L<<5)

	)

157 
	#Poš‹rMÙiÚMask
 (1L<<6)

	)

158 
	#Poš‹rMÙiÚHštMask
 (1L<<7)

	)

159 
	#Bu‰Ú1MÙiÚMask
 (1L<<8)

	)

160 
	#Bu‰Ú2MÙiÚMask
 (1L<<9)

	)

161 
	#Bu‰Ú3MÙiÚMask
 (1L<<10)

	)

162 
	#Bu‰Ú4MÙiÚMask
 (1L<<11)

	)

163 
	#Bu‰Ú5MÙiÚMask
 (1L<<12)

	)

164 
	#Bu‰ÚMÙiÚMask
 (1L<<13)

	)

165 
	#Keym­S‹Mask
 (1L<<14)

	)

166 
	#Exposu»Mask
 (1L<<15)

	)

167 
	#Visib™yChªgeMask
 (1L<<16)

	)

168 
	#SŒuùu»NÙifyMask
 (1L<<17)

	)

169 
	#ResizeRedœeùMask
 (1L<<18)

	)

170 
	#Sub¡ruùu»NÙifyMask
 (1L<<19)

	)

171 
	#Sub¡ruùu»RedœeùMask
 (1L<<20)

	)

172 
	#FocusChªgeMask
 (1L<<21)

	)

173 
	#Prİ”tyChªgeMask
 (1L<<22)

	)

174 
	#CŞÜm­ChªgeMask
 (1L<<23)

	)

175 
	#OwÃrG¿bBu‰ÚMask
 (1L<<24)

	)

181 
	#KeyP»ss
 2

	)

182 
	#KeyR–—£
 3

	)

183 
	#Bu‰ÚP»ss
 4

	)

184 
	#Bu‰ÚR–—£
 5

	)

185 
	#MÙiÚNÙify
 6

	)

186 
	#EÁ”NÙify
 7

	)

187 
	#L—veNÙify
 8

	)

188 
	#FocusIn
 9

	)

189 
	#FocusOut
 10

	)

190 
	#Keym­NÙify
 11

	)

191 
	#Expo£
 12

	)

192 
	#G¿phicsExpo£
 13

	)

193 
	#NoExpo£
 14

	)

194 
	#Visib™yNÙify
 15

	)

195 
	#C»©eNÙify
 16

	)

196 
	#De¡royNÙify
 17

	)

197 
	#Unm­NÙify
 18

	)

198 
	#M­NÙify
 19

	)

199 
	#M­Reque¡
 20

	)

200 
	#R•¬’tNÙify
 21

	)

201 
	#CÚfigu»NÙify
 22

	)

202 
	#CÚfigu»Reque¡
 23

	)

203 
	#G¿v™yNÙify
 24

	)

204 
	#ResizeReque¡
 25

	)

205 
	#CœcuÏ‹NÙify
 26

	)

206 
	#CœcuÏ‹Reque¡
 27

	)

207 
	#Prİ”tyNÙify
 28

	)

208 
	#S–eùiÚCË¬
 29

	)

209 
	#S–eùiÚReque¡
 30

	)

210 
	#S–eùiÚNÙify
 31

	)

211 
	#CŞÜm­NÙify
 32

	)

212 
	#Cl›ÁMes§ge
 33

	)

213 
	#M­pšgNÙify
 34

	)

214 
	#G’”icEv’t
 35

	)

215 
	#LASTEv’t
 36

	)

221 
	#ShiáMask
 (1<<0)

	)

222 
	#LockMask
 (1<<1)

	)

223 
	#CÚŒŞMask
 (1<<2)

	)

224 
	#Mod1Mask
 (1<<3)

	)

225 
	#Mod2Mask
 (1<<4)

	)

226 
	#Mod3Mask
 (1<<5)

	)

227 
	#Mod4Mask
 (1<<6)

	)

228 
	#Mod5Mask
 (1<<7)

	)

233 
	#ShiáM­Index
 0

	)

234 
	#LockM­Index
 1

	)

235 
	#CÚŒŞM­Index
 2

	)

236 
	#Mod1M­Index
 3

	)

237 
	#Mod2M­Index
 4

	)

238 
	#Mod3M­Index
 5

	)

239 
	#Mod4M­Index
 6

	)

240 
	#Mod5M­Index
 7

	)

246 
	#Bu‰Ú1Mask
 (1<<8)

	)

247 
	#Bu‰Ú2Mask
 (1<<9)

	)

248 
	#Bu‰Ú3Mask
 (1<<10)

	)

249 
	#Bu‰Ú4Mask
 (1<<11)

	)

250 
	#Bu‰Ú5Mask
 (1<<12)

	)

252 
	#AnyModif›r
 (1<<15è

	)

259 
	#Bu‰Ú1
 1

	)

260 
	#Bu‰Ú2
 2

	)

261 
	#Bu‰Ú3
 3

	)

262 
	#Bu‰Ú4
 4

	)

263 
	#Bu‰Ú5
 5

	)

267 
	#NÙifyNÜm®
 0

	)

268 
	#NÙifyG¿b
 1

	)

269 
	#NÙifyUng¿b
 2

	)

270 
	#NÙifyWheG¿bbed
 3

	)

272 
	#NÙifyHšt
 1

	)

276 
	#NÙifyAnû¡Ü
 0

	)

277 
	#NÙifyVœtu®
 1

	)

278 
	#NÙifyInãriÜ
 2

	)

279 
	#NÙifyNÚlš—r
 3

	)

280 
	#NÙifyNÚlš—rVœtu®
 4

	)

281 
	#NÙifyPoš‹r
 5

	)

282 
	#NÙifyPoš‹rRoÙ
 6

	)

283 
	#NÙifyD‘aNÚe
 7

	)

287 
	#Visib™yUnobscu»d
 0

	)

288 
	#Visib™yP¬tŸÎyObscu»d
 1

	)

289 
	#Visib™yFuÎyObscu»d
 2

	)

293 
	#PÏûOnTİ
 0

	)

294 
	#PÏûOnBÙtom
 1

	)

298 
	#FamyIÁ”Ãt
 0

	)

299 
	#FamyDECÃt
 1

	)

300 
	#FamyChaos
 2

	)

301 
	#FamyIÁ”Ãt6
 6

	)

304 
	#FamyS”v”IÁ”´‘ed
 5

	)

308 
	#Prİ”tyNewV®ue
 0

	)

309 
	#Prİ”tyD–‘e
 1

	)

313 
	#CŞÜm­Unš¡®Ëd
 0

	)

314 
	#CŞÜm­In¡®Ëd
 1

	)

318 
	#G¿bModeSync
 0

	)

319 
	#G¿bModeAsync
 1

	)

323 
	#G¿bSucûss
 0

	)

324 
	#AÌ—dyG¿bbed
 1

	)

325 
	#G¿bInv®idTime
 2

	)

326 
	#G¿bNÙV›wabË
 3

	)

327 
	#G¿bFroz’
 4

	)

331 
	#AsyncPoš‹r
 0

	)

332 
	#SyncPoš‹r
 1

	)

333 
	#R•ÏyPoš‹r
 2

	)

334 
	#AsyncKeybßrd
 3

	)

335 
	#SyncKeybßrd
 4

	)

336 
	#R•ÏyKeybßrd
 5

	)

337 
	#AsyncBÙh
 6

	)

338 
	#SyncBÙh
 7

	)

342 
	#Rev”tToNÚe
 ()
NÚe


	)

343 
	#Rev”tToPoš‹rRoÙ
 ()
Poš‹rRoÙ


	)

344 
	#Rev”tToP¬’t
 2

	)

350 
	#Sucûss
 0

	)

351 
	#BadReque¡
 1

	)

352 
	#BadV®ue
 2

	)

353 
	#BadWšdow
 3

	)

354 
	#BadPixm­
 4

	)

355 
	#BadAtom
 5

	)

356 
	#BadCursÜ
 6

	)

357 
	#BadFÚt
 7

	)

358 
	#BadM©ch
 8

	)

359 
	#BadD¿wabË
 9

	)

360 
	#BadAcûss
 10

	)

369 
	#BadAÎoc
 11

	)

370 
	#BadCŞÜ
 12

	)

371 
	#BadGC
 13

	)

372 
	#BadIDChoiû
 14

	)

373 
	#BadName
 15

	)

374 
	#BadL’gth
 16

	)

375 
	#BadIm¶em’tiÚ
 17

	)

377 
	#Fœ¡Ex‹nsiÚE¼Ü
 128

	)

378 
	#La¡Ex‹nsiÚE¼Ü
 255

	)

387 
	#IÅutOuut
 1

	)

388 
	#IÅutOÆy
 2

	)

392 
	#CWBackPixm­
 (1L<<0)

	)

393 
	#CWBackPix–
 (1L<<1)

	)

394 
	#CWBÜd”Pixm­
 (1L<<2)

	)

395 
	#CWBÜd”Pix–
 (1L<<3)

	)

396 
	#CWB™G¿v™y
 (1L<<4)

	)

397 
	#CWWšG¿v™y
 (1L<<5)

	)

398 
	#CWBackšgStÜe
 (1L<<6)

	)

399 
	#CWBackšgPÏÃs
 (1L<<7)

	)

400 
	#CWBackšgPix–
 (1L<<8)

	)

401 
	#CWOv”rideRedœeù
 (1L<<9)

	)

402 
	#CWSaveUnd”
 (1L<<10)

	)

403 
	#CWEv’tMask
 (1L<<11)

	)

404 
	#CWDÚtPrİag©e
 (1L<<12)

	)

405 
	#CWCŞÜm­
 (1L<<13)

	)

406 
	#CWCursÜ
 (1L<<14)

	)

410 
	#CWX
 (1<<0)

	)

411 
	#CWY
 (1<<1)

	)

412 
	#CWWidth
 (1<<2)

	)

413 
	#CWHeight
 (1<<3)

	)

414 
	#CWBÜd”Width
 (1<<4)

	)

415 
	#CWSiblšg
 (1<<5)

	)

416 
	#CWSckMode
 (1<<6)

	)

421 
	#FÜg‘G¿v™y
 0

	)

422 
	#NÜthWe¡G¿v™y
 1

	)

423 
	#NÜthG¿v™y
 2

	)

424 
	#NÜthEa¡G¿v™y
 3

	)

425 
	#We¡G¿v™y
 4

	)

426 
	#C’‹rG¿v™y
 5

	)

427 
	#Ea¡G¿v™y
 6

	)

428 
	#SouthWe¡G¿v™y
 7

	)

429 
	#SouthG¿v™y
 8

	)

430 
	#SouthEa¡G¿v™y
 9

	)

431 
	#SticG¿v™y
 10

	)

435 
	#Unm­G¿v™y
 0

	)

439 
	#NÙU£ful
 0

	)

440 
	#Wh’M­³d
 1

	)

441 
	#Always
 2

	)

445 
	#IsUnm­³d
 0

	)

446 
	#IsUnv›wabË
 1

	)

447 
	#IsV›wabË
 2

	)

451 
	#S‘ModeIn£¹
 0

	)

452 
	#S‘ModeD–‘e
 1

	)

456 
	#De¡royAÎ
 0

	)

457 
	#R‘ašP”mª’t
 1

	)

458 
	#R‘ašTempÜ¬y
 2

	)

462 
	#Above
 0

	)

463 
	#B–ow
 1

	)

464 
	#TİIf
 2

	)

465 
	#BÙtomIf
 3

	)

466 
	#Oµos™e
 4

	)

470 
	#Rai£Lowe¡
 0

	)

471 
	#Low”Highe¡
 1

	)

475 
	#PrİModeR•Ïû
 0

	)

476 
	#PrİModeP»³nd
 1

	)

477 
	#PrİModeAµ’d
 2

	)

485 
	#GXş—r
 0x0

	)

486 
	#GXªd
 0x1

	)

487 
	#GXªdRev”£
 0x2

	)

488 
	#GXcİy
 0x3

	)

489 
	#GXªdInv”‹d
 0x4

	)

490 
	#GXnoİ
 0x5

	)

491 
	#GXxÜ
 0x6

	)

492 
	#GXÜ
 0x7

	)

493 
	#GXnÜ
 0x8

	)

494 
	#GXequiv
 0x9

	)

495 
	#GXšv”t
 0x¨

	)

496 
	#GXÜRev”£
 0xb

	)

497 
	#GXcİyInv”‹d
 0xø

	)

498 
	#GXÜInv”‹d
 0xd

	)

499 
	#GXÇnd
 0x

	)

500 
	#GX£t
 0xà

	)

504 
	#LšeSŞid
 0

	)

505 
	#LšeOnOffDash
 1

	)

506 
	#LšeDoubËDash
 2

	)

510 
	#C­NÙLa¡
 0

	)

511 
	#C­Bu‰
 1

	)

512 
	#C­Round
 2

	)

513 
	#C­Projeùšg
 3

	)

517 
	#JošM™”
 0

	)

518 
	#JošRound
 1

	)

519 
	#JošBev–
 2

	)

523 
	#FlSŞid
 0

	)

524 
	#FlTed
 1

	)

525 
	#FlSt¶ed
 2

	)

526 
	#FlO·queSt¶ed
 3

	)

530 
	#Ev’OddRuË
 0

	)

531 
	#WšdšgRuË
 1

	)

535 
	#ClByChd»n
 0

	)

536 
	#InşudeInãriÜs
 1

	)

540 
	#UnsÜ‹d
 0

	)

541 
	#YSÜ‹d
 1

	)

542 
	#YXSÜ‹d
 2

	)

543 
	#YXBªded
 3

	)

547 
	#CoÜdModeOrigš
 0

	)

548 
	#CoÜdModeP»vious
 1

	)

552 
	#Com¶ex
 0

	)

553 
	#NÚcÚvex
 1

	)

554 
	#CÚvex
 2

	)

558 
	#ArcChÜd
 0

	)

559 
	#ArcP›Sliû
 1

	)

564 
	#GCFunùiÚ
 (1L<<0)

	)

565 
	#GCPÏÃMask
 (1L<<1)

	)

566 
	#GCFÜeground
 (1L<<2)

	)

567 
	#GCBackground
 (1L<<3)

	)

568 
	#GCLšeWidth
 (1L<<4)

	)

569 
	#GCLšeStyË
 (1L<<5)

	)

570 
	#GCC­StyË
 (1L<<6)

	)

571 
	#GCJošStyË
 (1L<<7)

	)

572 
	#GCFlStyË
 (1L<<8)

	)

573 
	#GCFlRuË
 (1L<<9)

	)

574 
	#GCTe
 (1L<<10)

	)

575 
	#GCSt¶e
 (1L<<11)

	)

576 
	#GCTeStXOrigš
 (1L<<12)

	)

577 
	#GCTeStYOrigš
 (1L<<13)

	)

578 
	#GCFÚt
 (1L<<14)

	)

579 
	#GCSubwšdowMode
 (1L<<15)

	)

580 
	#GCG¿phicsExposu»s
 (1L<<16)

	)

581 
	#GCClXOrigš
 (1L<<17)

	)

582 
	#GCClYOrigš
 (1L<<18)

	)

583 
	#GCClMask
 (1L<<19)

	)

584 
	#GCDashOff£t
 (1L<<20)

	)

585 
	#GCDashLi¡
 (1L<<21)

	)

586 
	#GCArcMode
 (1L<<22)

	)

588 
	#GCLa¡B™
 22

	)

595 
	#FÚtLeáToRight
 0

	)

596 
	#FÚtRightToLeá
 1

	)

598 
	#FÚtChªge
 255

	)

606 
	#XYB™m­
 0

	)

607 
	#XYPixm­
 1

	)

608 
	#ZPixm­
 2

	)

616 
	#AÎocNÚe
 0

	)

617 
	#AÎocAÎ
 1

	)

622 
	#DoRed
 (1<<0)

	)

623 
	#DoG»’
 (1<<1)

	)

624 
	#DoBlue
 (1<<2)

	)

632 
	#CursÜSh­e
 0

	)

633 
	#TeSh­e
 1

	)

634 
	#St¶eSh­e
 2

	)

640 
	#AutoR•—tModeOff
 0

	)

641 
	#AutoR•—tModeOn
 1

	)

642 
	#AutoR•—tModeDeçuÉ
 2

	)

644 
	#LedModeOff
 0

	)

645 
	#LedModeOn
 1

	)

649 
	#KBKeyClickP”ûÁ
 (1L<<0)

	)

650 
	#KBB–lP”ûÁ
 (1L<<1)

	)

651 
	#KBB–lP™ch
 (1L<<2)

	)

652 
	#KBB–lDu¿tiÚ
 (1L<<3)

	)

653 
	#KBLed
 (1L<<4)

	)

654 
	#KBLedMode
 (1L<<5)

	)

655 
	#KBKey
 (1L<<6)

	)

656 
	#KBAutoR•—tMode
 (1L<<7)

	)

658 
	#M­pšgSucûss
 0

	)

659 
	#M­pšgBusy
 1

	)

660 
	#M­pšgFaed
 2

	)

662 
	#M­pšgModif›r
 0

	)

663 
	#M­pšgKeybßrd
 1

	)

664 
	#M­pšgPoš‹r
 2

	)

670 
	#DÚtP»ãrBÏnkšg
 0

	)

671 
	#P»ãrBÏnkšg
 1

	)

672 
	#DeçuÉBÏnkšg
 2

	)

674 
	#Di§bËSü“nSav”
 0

	)

675 
	#Di§bËSü“nIÁ”v®
 0

	)

677 
	#DÚtAÎowExposu»s
 0

	)

678 
	#AÎowExposu»s
 1

	)

679 
	#DeçuÉExposu»s
 2

	)

683 
	#Sü“nSav”Re£t
 0

	)

684 
	#Sü“nSav”Aùive
 1

	)

692 
	#Ho¡In£¹
 0

	)

693 
	#Ho¡D–‘e
 1

	)

697 
	#EÇbËAcûss
 1

	)

698 
	#Di§bËAcûss
 0

	)

704 
	#SticG¿y
 0

	)

705 
	#G¿ySÿË
 1

	)

706 
	#SticCŞÜ
 2

	)

707 
	#P£udoCŞÜ
 3

	)

708 
	#TrueCŞÜ
 4

	)

709 
	#DœeùCŞÜ
 5

	)

714 
	#LSBFœ¡
 0

	)

715 
	#MSBFœ¡
 1

	)

	@/usr/include/X11/Xfuncproto.h

29 #iâdeà
_XFUNCPROTO_H_


30 
	#_XFUNCPROTO_H_


	)

32 #iâdeà
N“dFunùiÚPrÙÙy³s


33 
	#N“dFunùiÚPrÙÙy³s
 1

	)

36 #iâdeà
N“dV¬¬gsPrÙÙy³s


37 
	#N“dV¬¬gsPrÙÙy³s
 1

	)

40 #ià
N“dFunùiÚPrÙÙy³s


42 #iâdeà
N“dNe¡edPrÙÙy³s


43 
	#N“dNe¡edPrÙÙy³s
 1

	)

46 #iâdeà
_XcÚ¡


47 
	#_XcÚ¡
 cÚ¡

	)

51 #ià!
defšed
(
NARROWPROTO
) && \

52 (
defšed
(
__lšux__
è|| defšed(
__F»eBSD__
è|| defšed(
__N‘BSD__
è|| 
	$defšed
(
__O³nBSD__
))

53 
	#NARROWPROTO


	)

55 #iâdeà
FUNCPROTO


56 
	#FUNCPROTO
 15

	)

59 #iâdeà
N“dWidePrÙÙy³s


60 #ifdeà
NARROWPROTO


61 
	#N“dWidePrÙÙy³s
 0

	)

63 
	#N“dWidePrÙÙy³s
 1

	)

69 #iâdeà
_XFUNCPROTOBEGIN


70 #ià
	`defšed
(
__ılu¥lus
è|| defšed(
c_¶u¥lus
)

71 
	#_XFUNCPROTOBEGIN
 "C" {

	)

72 
	#_XFUNCPROTOEND
 
	}

	)
}

74 
	#_XFUNCPROTOBEGIN


	)

75 
	#_XFUNCPROTOEND


	)

80 #iâdeà
__has_©Œibu‹


81 
	#__has_©Œibu‹
(
x
è0

	)

83 #iâdeà
__has_ã©u»


84 
	#__has_ã©u»
(
x
è0

	)

86 #iâdeà
__has_ex‹nsiÚ


87 
	#__has_ex‹nsiÚ
(
x
è0

	)

91 #ià
__has_©Œibu‹
(
__£Áš–__
è|| (
defšed
(
__GNUC__
) && (__GNUC__ >= 4))

92 
	#_X_SENTINEL
(
x
è
	`__©Œibu‹__
 ((
	`__£Áš–__
(x)))

	)

94 
	#_X_SENTINEL
(
x
)

	)

98 #ià(
__has_©Œibu‹
(
visib™y
è|| (
defšed
(
__GNUC__
) && (__GNUC__ >= 4))) \

99 && !
defšed
(
__CYGWIN__
è&& !
	$defšed
(
__MINGW32__
)

100 
	#_X_EXPORT
 
	`__©Œibu‹__
((
	`visib™y
("deçuÉ")))

	)

101 
	#_X_HIDDEN
 
	`__©Œibu‹__
((
	`visib™y
("hidd’")))

	)

102 
	#_X_INTERNAL
 
	`__©Œibu‹__
((
	`visib™y
("š‹º®")))

	)

103 #–ià
	`defšed
(
__SUNPRO_C
) && (__SUNPRO_C >= 0x550)

104 
	#_X_EXPORT
 
__glob®


	)

105 
	#_X_HIDDEN
 
__hidd’


	)

106 
	#_X_INTERNAL
 
__hidd’


	)

108 
	#_X_EXPORT


	)

109 
	#_X_HIDDEN


	)

110 
	#_X_INTERNAL


	)

115 #ià
	`defšed
(
__GNUC__
è&& ((__GNUC__ * 100 + 
__GNUC_MINOR__
) >= 303)

116 
	#_X_LIKELY
(
x
è
	`__butš_ex³ù
(!!(x), 1)

	)

117 
	#_X_UNLIKELY
(
x
è
	`__butš_ex³ù
(!!(x), 0)

	)

119 
	#_X_LIKELY
(
x
è(x)

	)

120 
	#_X_UNLIKELY
(
x
è(x)

	)

125 #ià
	`__has_©Œibu‹
(
__cŞd__
) || \

126 (
	`defšed
(
__GNUC__
è&& ((__GNUC__ * 100 + 
__GNUC_MINOR__
) >= 403))

127 
	#_X_COLD
 
	`__©Œibu‹__
((
__cŞd__
))

	)

129 
	#_X_COLD


	)

133 #ià
	`__has_©Œibu‹
(
d•»ÿ‹d
) \

134 || (
	`defšed
(
__GNUC__
è&& ((__GNUC__ * 100 + 
__GNUC_MINOR__
) >= 301)) \

135 || (
	`defšed
(
__SUNPRO_C
) && (__SUNPRO_C >= 0x5130))

136 
	#_X_DEPRECATED
 
	`__©Œibu‹__
((
d•»ÿ‹d
))

	)

138 
	#_X_DEPRECATED


	)

142 #ià
	`__has_ex‹nsiÚ
(
©Œibu‹_d•»ÿ‹d_w™h_mes§ge
) || \

143 (
	`defšed
(
__GNUC__
è&& ((__GNUC__ >ğ5è|| ((__GNUC__ =ğ4è&& (
__GNUC_MINOR__
 >= 5))))

144 
	#_X_DEPRECATED_MSG
(
_msg
è
	`__©Œibu‹__
((
	`d•»ÿ‹d
(_msg)))

	)

146 
	#_X_DEPRECATED_MSG
(
_msg
è
_X_DEPRECATED


	)

150 #ià
	`__has_©Œibu‹
(
nÜ‘uº
) \

151 || (
	`defšed
(
__GNUC__
è&& ((__GNUC__ * 100 + 
__GNUC_MINOR__
) >= 205)) \

152 || (
	`defšed
(
__SUNPRO_C
) && (__SUNPRO_C >= 0x590))

153 
	#_X_NORETURN
 
	`__©Œibu‹
((
nÜ‘uº
))

	)

155 
	#_X_NORETURN


	)

159 #ià
	`__has_©Œibu‹
(
__fÜm©__
) \

160 || 
	`defšed
(
__GNUC__
è&& ((__GNUC__ * 100 + 
__GNUC_MINOR__
) >= 203)

161 
	#_X_ATTRIBUTE_PRINTF
(
x
,
y
è
	`__©Œibu‹__
((
	`__fÜm©__
(
__´štf__
,x,y)))

	)

163 
	#_X_ATTRIBUTE_PRINTF
(
x
,
y
)

	)

169 #ià
	`__has_©Œibu‹
(
nÚnuÎ
) \

170 && 
	`defšed
(
__STDC_VERSION__
) && (__STDC_VERSION__ - 0 >= 199901L)

171 
	#_X_NONNULL
(...è
	`__©Œibu‹__
((
	`nÚnuÎ
(
__VA_ARGS__
)))

	)

172 #–ià
	`__has_©Œibu‹
(
nÚnuÎ
) \

173 || 
	`defšed
(
__GNUC__
è&& ((__GNUC__ * 100 + 
__GNUC_MINOR__
) >= 303)

174 
	#_X_NONNULL
(
¬gs
...è
	`__©Œibu‹__
((
	`nÚnuÎ
×rgs)))

	)

175 #–ià
	`defšed
(
__STDC_VERSION__
) && (__STDC_VERSION__ - 0 >= 199901L)

176 
	#_X_NONNULL
(...è

	)

180 #ià
	`__has_©Œibu‹
(
__unu£d__
) \

181 || 
	`defšed
(
__GNUC__
è&& ((__GNUC__ * 100 + 
__GNUC_MINOR__
) >= 205)

182 
	#_X_UNUSED
 
	`__©Œibu‹__
((
__unu£d__
))

	)

184 
	#_X_UNUSED


	)

190 #ià
	`defšed
(
šlše
) || \

191 (
	`defšed
(
__STDC_VERSION__
) && (__STDC_VERSION__ - 0 >= 199901L)) || \

192 (
	`defšed
(
__SUNPRO_C
) && (__SUNPRO_C >= 0x550))

193 
	#_X_INLINE
 
šlše


	)

194 #–ià
	`defšed
(
__GNUC__
è&& !defšed(
__STRICT_ANSI__
)

195 
	#_X_INLINE
 
__šlše__


	)

197 
	#_X_INLINE


	)

202 #iâdeà
_X_RESTRICT_KYWD


203 #ià
	`defšed
(
»¡riù
) || \

204 (
	`defšed
(
__STDC_VERSION__
) && (__STDC_VERSION__ - 0 >= 199901L) \

205 && !
	$defšed
(
__ılu¥lus
))

206 
	#_X_RESTRICT_KYWD
 
»¡riù


	)

207 #–ià
	`defšed
(
__GNUC__
è&& !defšed(
__STRICT_ANSI__
)

208 
	#_X_RESTRICT_KYWD
 
__»¡riù__


	)

210 
	#_X_RESTRICT_KYWD


	)

215 #ià
	`__has_©Œibu‹
(
no_§n™ize_th»ad
)

216 
	#_X_NOTSAN
 
	`__©Œibu‹__
((
no_§n™ize_th»ad
))

	)

218 
	#_X_NOTSAN


	)

	@/usr/include/X11/Xosdefs.h

27 #iâdeà
_XOSDEFS_H_


28 
	#_XOSDEFS_H_


	)

37 #ifdeà
_SCO_DS


38 #iâdeà
__SCO__


39 
	#__SCO__


	)

43 #ifdeà
__i386__


44 #ifdeà
SYSV


45 #ià!
defšed
(
__SCO__
) && \

46 !
defšed
(
__UNIXWARE__
è&& !
	$defšed
(
__sun
)

47 #ià!
	`defšed
(
_POSIX_SOURCE
)

48 
	#X_NOT_POSIX


	)

54 #ifdeà
__sun


58 #ià
	`defšed
(
__SVR4
è&& !defšed(
SVR4
)

59 
	#SVR4
 1

	)

61 #ifdeà
SVR4


63 
	#X_POSIX_C_SOURCE
 199300L

	)

67 #ifdeà
WIN32


68 #iâdeà
_POSIX_


69 
	#X_NOT_POSIX


	)

74 #ifdeà
__APPLE__


75 
	#NULL_NOT_ZERO


	)

82 #ià
	`defšed
(
_XOPEN_SOURCE
è|| defšed(
_POSIX_SOURCE
è|| defšed(
_POSIX_C_SOURCE
)

83 #iâdeà
_DARWIN_C_SOURCE


84 
	#_DARWIN_C_SOURCE


	)

90 #ifdeà
__GNU__


91 #iâdeà
PATH_MAX


92 
	#PATH_MAX
 4096

	)

94 #iâdeà
MAXPATHLEN


95 
	#MAXPATHLEN
 4096

	)

99 #ià
	`defšed
(
__SCO__
è|| defšed(
__UNIXWARE__
)

100 #iâdeà
PATH_MAX


101 
	#PATH_MAX
 1024

	)

103 #iâdeà
MAXPATHLEN


104 
	#MAXPATHLEN
 1024

	)

108 #ià
	`defšed
(
__O³nBSD__
è|| defšed(
__N‘BSD__
è|| defšed(
__F»eBSD__
) \

109 || 
	`defšed
(
__APPLE__
è|| 
	$defšed
(
__D¿gÚFly__
)

110 #iâdeà
CSRG_BASED


111 
	#CSRG_BASED


	)

	@/usr/include/X11/extensions/Xrender.h

25 #iâdeà
_XRENDER_H_


26 
	#_XRENDER_H_


	)

28 
	~<X11/Xlib.h
>

29 
	~<X11/XfunırÙo.h
>

30 
	~<X11/Xosdefs.h
>

31 
	~<X11/Xut.h
>

33 
	~<X11/ex‹nsiÚs/»nd”.h
>

36 
	m»d
;

37 
	m»dMask
;

38 
	mg»’
;

39 
	mg»’Mask
;

40 
	mblue
;

41 
	mblueMask
;

42 
	m®pha
;

43 
	m®phaMask
;

44 } 
	tXR’d”DœeùFÜm©
;

47 
PiùFÜm©
 
	mid
;

48 
	mty³
;

49 
	md•th
;

50 
XR’d”DœeùFÜm©
 
	mdœeù
;

51 
CŞÜm­
 
	mcŞÜm­
;

52 } 
	tXR’d”PiùFÜm©
;

54 
	#PiùFÜm©ID
 (1 << 0)

	)

55 
	#PiùFÜm©Ty³
 (1 << 1)

	)

56 
	#PiùFÜm©D•th
 (1 << 2)

	)

57 
	#PiùFÜm©Red
 (1 << 3)

	)

58 
	#PiùFÜm©RedMask
 (1 << 4)

	)

59 
	#PiùFÜm©G»’
 (1 << 5)

	)

60 
	#PiùFÜm©G»’Mask
 (1 << 6)

	)

61 
	#PiùFÜm©Blue
 (1 << 7)

	)

62 
	#PiùFÜm©BlueMask
 (1 << 8)

	)

63 
	#PiùFÜm©AÍha
 (1 << 9)

	)

64 
	#PiùFÜm©AÍhaMask
 (1 << 10)

	)

65 
	#PiùFÜm©CŞÜm­
 (1 << 11)

	)

67 
	s_XR’d”Piùu»A‰ribu‹s
 {

68 
	m»³©
;

69 
Piùu»
 
	m®pha_m­
;

70 
	m®pha_x_Üigš
;

71 
	m®pha_y_Üigš
;

72 
	mş_x_Üigš
;

73 
	mş_y_Üigš
;

74 
Pixm­
 
	mş_mask
;

75 
BoŞ
 
	mg¿phics_exposu»s
;

76 
	msubwšdow_mode
;

77 
	mpŞy_edge
;

78 
	mpŞy_mode
;

79 
Atom
 
	md™h”
;

80 
BoŞ
 
	mcompÚ’t_®pha
;

81 } 
	tXR’d”Piùu»A‰ribu‹s
;

84 
	m»d
;

85 
	mg»’
;

86 
	mblue
;

87 
	m®pha
;

88 } 
	tXR’d”CŞÜ
;

90 
	s_XGlyphInfo
 {

91 
	mwidth
;

92 
	mheight
;

93 
	mx
;

94 
	my
;

95 
	mxOff
;

96 
	myOff
;

97 } 
	tXGlyphInfo
;

99 
	s_XGlyphEÉ8
 {

100 
GlyphS‘
 
	mglyph£t
;

101 
_XcÚ¡
 *
	mch¬s
;

102 
	mnch¬s
;

103 
	mxOff
;

104 
	myOff
;

105 } 
	tXGlyphEÉ8
;

107 
	s_XGlyphEÉ16
 {

108 
GlyphS‘
 
	mglyph£t
;

109 
_XcÚ¡
 *
	mch¬s
;

110 
	mnch¬s
;

111 
	mxOff
;

112 
	myOff
;

113 } 
	tXGlyphEÉ16
;

115 
	s_XGlyphEÉ32
 {

116 
GlyphS‘
 
	mglyph£t
;

117 
_XcÚ¡
 *
	mch¬s
;

118 
	mnch¬s
;

119 
	mxOff
;

120 
	myOff
;

121 } 
	tXGlyphEÉ32
;

123 
	tXDoubË
;

125 
	s_XPoštDoubË
 {

126 
XDoubË
 
	mx
, 
	my
;

127 } 
	tXPoštDoubË
;

129 
	#XDoubËToFixed
(
f
è((
XFixed
è((fè* 65536))

	)

130 
	#XFixedToDoubË
(
f
è(((
XDoubË
è(f)è/ 65536)

	)

132 
	tXFixed
;

134 
	s_XPoštFixed
 {

135 
XFixed
 
	mx
, 
	my
;

136 } 
	tXPoštFixed
;

138 
	s_XLšeFixed
 {

139 
XPoštFixed
 
	mp1
, 
	mp2
;

140 } 
	tXLšeFixed
;

142 
	s_XTrŸngË
 {

143 
XPoštFixed
 
	mp1
, 
	mp2
, 
	mp3
;

144 } 
	tXTrŸngË
;

146 
	s_XCœşe
 {

147 
XFixed
 
	mx
;

148 
XFixed
 
	my
;

149 
XFixed
 
	m¿dius
;

150 } 
	tXCœşe
;

152 
	s_XT¿³zoid
 {

153 
XFixed
 
	mtİ
, 
	mbÙtom
;

154 
XLšeFixed
 
	mËá
, 
	mright
;

155 } 
	tXT¿³zoid
;

157 
	s_XT¿nsfÜm
 {

158 
XFixed
 
	mm©rix
[3][3];

159 } 
	tXT¿nsfÜm
;

161 
	s_XF‹rs
 {

162 
	mnf‹r
;

163 **
	mf‹r
;

164 
	mÇlŸs
;

165 *
	m®Ÿs
;

166 } 
	tXF‹rs
;

168 
	s_XIndexV®ue
 {

169 
	mpix–
;

170 
	m»d
, 
	mg»’
, 
	mblue
, 
	m®pha
;

171 } 
	tXIndexV®ue
;

173 
	s_XAnimCursÜ
 {

174 
CursÜ
 
	mcursÜ
;

175 
	md–ay
;

176 } 
	tXAnimCursÜ
;

178 
	s_XS·nFix
 {

179 
XFixed
 
	mËá
, 
	mright
, 
	my
;

180 } 
	tXS·nFix
;

182 
	s_XT¿p
 {

183 
XS·nFix
 
	mtİ
, 
	mbÙtom
;

184 } 
	tXT¿p
;

186 
	s_XLš—rG¿d›Á
 {

187 
XPoštFixed
 
	mp1
;

188 
XPoštFixed
 
	mp2
;

189 } 
	tXLš—rG¿d›Á
;

191 
	s_XRadŸlG¿d›Á
 {

192 
XCœşe
 
	mšÃr
;

193 
XCœşe
 
	mou‹r
;

194 } 
	tXRadŸlG¿d›Á
;

196 
	s_XCÚiÿlG¿d›Á
 {

197 
XPoštFixed
 
	mûÁ”
;

198 
XFixed
 
	mªgË
;

199 } 
	tXCÚiÿlG¿d›Á
;

201 
_XFUNCPROTOBEGIN


203 
BoŞ
 
XR’d”Qu”yEx‹nsiÚ
 (
Di¥Ïy
 *
dpy
, *
ev’t_ba£p
, *
”rÜ_ba£p
);

205 
Stus
 
XR’d”Qu”yV”siÚ
 (
Di¥Ïy
 *
dpy
,

206 *
majÜ_v”siÚp
,

207 *
mšÜ_v”siÚp
);

209 
Stus
 
XR’d”Qu”yFÜm©s
 (
Di¥Ïy
 *
dpy
);

211 
XR’d”Qu”ySubpix–Ord”
 (
Di¥Ïy
 *
dpy
, 
sü“n
);

213 
BoŞ
 
XR’d”S‘Subpix–Ord”
 (
Di¥Ïy
 *
dpy
, 
sü“n
, 
subpix–
);

215 
XR’d”PiùFÜm©
 *

216 
XR’d”FšdVisu®FÜm©
 (
Di¥Ïy
 *
dpy
, 
_XcÚ¡
 
Visu®
 *
visu®
);

218 
XR’d”PiùFÜm©
 *

219 
XR’d”FšdFÜm©
 (
Di¥Ïy
 *
dpy
,

220 
mask
,

221 
_XcÚ¡
 
XR’d”PiùFÜm©
 *
‹m¶
,

222 
couÁ
);

224 
	#PiùSnd¬dARGB32
 0

	)

225 
	#PiùSnd¬dRGB24
 1

	)

226 
	#PiùSnd¬dA8
 2

	)

227 
	#PiùSnd¬dA4
 3

	)

228 
	#PiùSnd¬dA1
 4

	)

229 
	#PiùSnd¬dNUM
 5

	)

231 
XR’d”PiùFÜm©
 *

232 
XR’d”FšdSnd¬dFÜm©
 (
Di¥Ïy
 *
dpy
,

233 
fÜm©
);

235 
XIndexV®ue
 *

236 
XR’d”Qu”yPiùIndexV®ues
(
Di¥Ïy
 *
dpy
,

237 
_XcÚ¡
 
XR’d”PiùFÜm©
 *
fÜm©
,

238 *
num
);

240 
Piùu»


241 
XR’d”C»©ePiùu»
 (
Di¥Ïy
 *
dpy
,

242 
D¿wabË
 
d¿wabË
,

243 
_XcÚ¡
 
XR’d”PiùFÜm©
 *
fÜm©
,

244 
v®uemask
,

245 
_XcÚ¡
 
XR’d”Piùu»A‰ribu‹s
 *
©Œibu‹s
);

248 
XR’d”ChªgePiùu»
 (
Di¥Ïy
 *
dpy
,

249 
Piùu»
 
piùu»
,

250 
v®uemask
,

251 
_XcÚ¡
 
XR’d”Piùu»A‰ribu‹s
 *
©Œibu‹s
);

254 
XR’d”S‘Piùu»ClReùªgËs
 (
Di¥Ïy
 *
dpy
,

255 
Piùu»
 
piùu»
,

256 
xOrigš
,

257 
yOrigš
,

258 
_XcÚ¡
 
XReùªgË
 *
»ùs
,

259 
n
);

262 
XR’d”S‘Piùu»ClRegiÚ
 (
Di¥Ïy
 *
dpy
,

263 
Piùu»
 
piùu»
,

264 
RegiÚ
 
r
);

267 
XR’d”S‘Piùu»T¿nsfÜm
 (
Di¥Ïy
 *
dpy
,

268 
Piùu»
 
piùu»
,

269 
XT¿nsfÜm
 *
ŒªsfÜm
);

272 
XR’d”F»ePiùu»
 (
Di¥Ïy
 *
dpy
,

273 
Piùu»
 
piùu»
);

276 
XR’d”Compos™e
 (
Di¥Ïy
 *
dpy
,

277 
İ
,

278 
Piùu»
 
¤c
,

279 
Piùu»
 
mask
,

280 
Piùu»
 
d¡
,

281 
¤c_x
,

282 
¤c_y
,

283 
mask_x
,

284 
mask_y
,

285 
d¡_x
,

286 
d¡_y
,

287 
width
,

288 
height
);

290 
GlyphS‘


291 
XR’d”C»©eGlyphS‘
 (
Di¥Ïy
 *
dpy
, 
_XcÚ¡
 
XR’d”PiùFÜm©
 *
fÜm©
);

293 
GlyphS‘


294 
XR’d”Reã»nûGlyphS‘
 (
Di¥Ïy
 *
dpy
, 
GlyphS‘
 
exi¡šg
);

297 
XR’d”F»eGlyphS‘
 (
Di¥Ïy
 *
dpy
, 
GlyphS‘
 
glyph£t
);

300 
XR’d”AddGlyphs
 (
Di¥Ïy
 *
dpy
,

301 
GlyphS‘
 
glyph£t
,

302 
_XcÚ¡
 
Glyph
 *
gids
,

303 
_XcÚ¡
 
XGlyphInfo
 *
glyphs
,

304 
nglyphs
,

305 
_XcÚ¡
 *
images
,

306 
nby‹_images
);

309 
XR’d”F»eGlyphs
 (
Di¥Ïy
 *
dpy
,

310 
GlyphS‘
 
glyph£t
,

311 
_XcÚ¡
 
Glyph
 *
gids
,

312 
nglyphs
);

315 
XR’d”Compos™eSŒšg8
 (
Di¥Ïy
 *
dpy
,

316 
İ
,

317 
Piùu»
 
¤c
,

318 
Piùu»
 
d¡
,

319 
_XcÚ¡
 
XR’d”PiùFÜm©
 *
maskFÜm©
,

320 
GlyphS‘
 
glyph£t
,

321 
xSrc
,

322 
ySrc
,

323 
xD¡
,

324 
yD¡
,

325 
_XcÚ¡
 *
¡ršg
,

326 
nch¬
);

329 
XR’d”Compos™eSŒšg16
 (
Di¥Ïy
 *
dpy
,

330 
İ
,

331 
Piùu»
 
¤c
,

332 
Piùu»
 
d¡
,

333 
_XcÚ¡
 
XR’d”PiùFÜm©
 *
maskFÜm©
,

334 
GlyphS‘
 
glyph£t
,

335 
xSrc
,

336 
ySrc
,

337 
xD¡
,

338 
yD¡
,

339 
_XcÚ¡
 *
¡ršg
,

340 
nch¬
);

343 
XR’d”Compos™eSŒšg32
 (
Di¥Ïy
 *
dpy
,

344 
İ
,

345 
Piùu»
 
¤c
,

346 
Piùu»
 
d¡
,

347 
_XcÚ¡
 
XR’d”PiùFÜm©
 *
maskFÜm©
,

348 
GlyphS‘
 
glyph£t
,

349 
xSrc
,

350 
ySrc
,

351 
xD¡
,

352 
yD¡
,

353 
_XcÚ¡
 *
¡ršg
,

354 
nch¬
);

357 
XR’d”Compos™eText8
 (
Di¥Ïy
 *
dpy
,

358 
İ
,

359 
Piùu»
 
¤c
,

360 
Piùu»
 
d¡
,

361 
_XcÚ¡
 
XR’d”PiùFÜm©
 *
maskFÜm©
,

362 
xSrc
,

363 
ySrc
,

364 
xD¡
,

365 
yD¡
,

366 
_XcÚ¡
 
XGlyphEÉ8
 *
–ts
,

367 
ÃÉ
);

370 
XR’d”Compos™eText16
 (
Di¥Ïy
 *
dpy
,

371 
İ
,

372 
Piùu»
 
¤c
,

373 
Piùu»
 
d¡
,

374 
_XcÚ¡
 
XR’d”PiùFÜm©
 *
maskFÜm©
,

375 
xSrc
,

376 
ySrc
,

377 
xD¡
,

378 
yD¡
,

379 
_XcÚ¡
 
XGlyphEÉ16
 *
–ts
,

380 
ÃÉ
);

383 
XR’d”Compos™eText32
 (
Di¥Ïy
 *
dpy
,

384 
İ
,

385 
Piùu»
 
¤c
,

386 
Piùu»
 
d¡
,

387 
_XcÚ¡
 
XR’d”PiùFÜm©
 *
maskFÜm©
,

388 
xSrc
,

389 
ySrc
,

390 
xD¡
,

391 
yD¡
,

392 
_XcÚ¡
 
XGlyphEÉ32
 *
–ts
,

393 
ÃÉ
);

396 
XR’d”FlReùªgË
 (
Di¥Ïy
 *
dpy
,

397 
İ
,

398 
Piùu»
 
d¡
,

399 
_XcÚ¡
 
XR’d”CŞÜ
 *
cŞÜ
,

400 
x
,

401 
y
,

402 
width
,

403 
height
);

406 
XR’d”FlReùªgËs
 (
Di¥Ïy
 *
dpy
,

407 
İ
,

408 
Piùu»
 
d¡
,

409 
_XcÚ¡
 
XR’d”CŞÜ
 *
cŞÜ
,

410 
_XcÚ¡
 
XReùªgË
 *
»ùªgËs
,

411 
n_»ùs
);

414 
XR’d”Compos™eT¿³zoids
 (
Di¥Ïy
 *
dpy
,

415 
İ
,

416 
Piùu»
 
¤c
,

417 
Piùu»
 
d¡
,

418 
_XcÚ¡
 
XR’d”PiùFÜm©
 *
maskFÜm©
,

419 
xSrc
,

420 
ySrc
,

421 
_XcÚ¡
 
XT¿³zoid
 *
Œ­s
,

422 
Á¿p
);

425 
XR’d”Compos™eTrŸngËs
 (
Di¥Ïy
 *
dpy
,

426 
İ
,

427 
Piùu»
 
¤c
,

428 
Piùu»
 
d¡
,

429 
_XcÚ¡
 
XR’d”PiùFÜm©
 *
maskFÜm©
,

430 
xSrc
,

431 
ySrc
,

432 
_XcÚ¡
 
XTrŸngË
 *
ŒŸngËs
,

433 
ÁrŸngË
);

436 
XR’d”Compos™eTriSŒ
 (
Di¥Ïy
 *
dpy
,

437 
İ
,

438 
Piùu»
 
¤c
,

439 
Piùu»
 
d¡
,

440 
_XcÚ¡
 
XR’d”PiùFÜm©
 *
maskFÜm©
,

441 
xSrc
,

442 
ySrc
,

443 
_XcÚ¡
 
XPoštFixed
 *
pošts
,

444 
Åošt
);

447 
XR’d”Compos™eTriFª
 (
Di¥Ïy
 *
dpy
,

448 
İ
,

449 
Piùu»
 
¤c
,

450 
Piùu»
 
d¡
,

451 
_XcÚ¡
 
XR’d”PiùFÜm©
 *
maskFÜm©
,

452 
xSrc
,

453 
ySrc
,

454 
_XcÚ¡
 
XPoštFixed
 *
pošts
,

455 
Åošt
);

458 
XR’d”Compos™eDoubËPŞy
 (
Di¥Ïy
 *
dpy
,

459 
İ
,

460 
Piùu»
 
¤c
,

461 
Piùu»
 
d¡
,

462 
_XcÚ¡
 
XR’d”PiùFÜm©
 *
maskFÜm©
,

463 
xSrc
,

464 
ySrc
,

465 
xD¡
,

466 
yD¡
,

467 
_XcÚ¡
 
XPoštDoubË
 *
åošts
,

468 
Åošts
,

469 
wšdšg
);

470 
Stus


471 
XR’d”P¬£CŞÜ
(
Di¥Ïy
 *
dpy
,

472 *
¥ec
,

473 
XR’d”CŞÜ
 *
def
);

475 
CursÜ


476 
XR’d”C»©eCursÜ
 (
Di¥Ïy
 *
dpy
,

477 
Piùu»
 
sourû
,

478 
x
,

479 
y
);

481 
XF‹rs
 *

482 
XR’d”Qu”yF‹rs
 (
Di¥Ïy
 *
dpy
, 
D¿wabË
 
d¿wabË
);

485 
XR’d”S‘Piùu»F‹r
 (
Di¥Ïy
 *
dpy
,

486 
Piùu»
 
piùu»
,

487 cÚ¡ *
f‹r
,

488 
XFixed
 *
·¿ms
,

489 
Å¬ams
);

491 
CursÜ


492 
XR’d”C»©eAnimCursÜ
 (
Di¥Ïy
 *
dpy
,

493 
ncursÜ
,

494 
XAnimCursÜ
 *
cursÜs
);

498 
XR’d”AddT¿ps
 (
Di¥Ïy
 *
dpy
,

499 
Piùu»
 
piùu»
,

500 
xOff
,

501 
yOff
,

502 
_XcÚ¡
 
XT¿p
 *
Œ­s
,

503 
Á¿p
);

505 
Piùu»
 
XR’d”C»©eSŞidFl
 (
Di¥Ïy
 *
dpy
,

506 cÚ¡ 
XR’d”CŞÜ
 *
cŞÜ
);

508 
Piùu»
 
XR’d”C»©eLš—rG¿d›Á
 (
Di¥Ïy
 *
dpy
,

509 cÚ¡ 
XLš—rG¿d›Á
 *
g¿d›Á
,

510 cÚ¡ 
XFixed
 *
¡İs
,

511 cÚ¡ 
XR’d”CŞÜ
 *
cŞÜs
,

512 
n¡İs
);

514 
Piùu»
 
XR’d”C»©eRadŸlG¿d›Á
 (
Di¥Ïy
 *
dpy
,

515 cÚ¡ 
XRadŸlG¿d›Á
 *
g¿d›Á
,

516 cÚ¡ 
XFixed
 *
¡İs
,

517 cÚ¡ 
XR’d”CŞÜ
 *
cŞÜs
,

518 
n¡İs
);

520 
Piùu»
 
XR’d”C»©eCÚiÿlG¿d›Á
 (
Di¥Ïy
 *
dpy
,

521 cÚ¡ 
XCÚiÿlG¿d›Á
 *
g¿d›Á
,

522 cÚ¡ 
XFixed
 *
¡İs
,

523 cÚ¡ 
XR’d”CŞÜ
 *
cŞÜs
,

524 
n¡İs
);

526 
	g_XFUNCPROTOEND


	@/usr/include/X11/extensions/randr.h

29 #iâdeà
_RANDR_H_


30 
	#_RANDR_H_


	)

32 
	tRÙ©iÚ
;

33 
	tSizeID
;

34 
	tSubpix–Ord”
;

35 
	tCÚÃùiÚ
;

36 
	tXRªdrRÙ©iÚ
;

37 
	tXRªdrSizeID
;

38 
	tXRªdrSubpix–Ord”
;

39 
	tXRªdrModeFÏgs
;

41 
	#RANDR_NAME
 "RANDR"

	)

42 
	#RANDR_MAJOR
 1

	)

43 
	#RANDR_MINOR
 6

	)

45 
	#RRNumb”E¼Üs
 5

	)

46 
	#RRNumb”Ev’ts
 2

	)

47 
	#RRNumb”Reque¡s
 47

	)

49 
	#X_RRQu”yV”siÚ
 0

	)

51 
	#X_RROldG‘Sü“nInfo
 1

	)

52 
	#X_RR1_0S‘Sü“nCÚfig
 2

	)

54 
	#X_RRS‘Sü“nCÚfig
 2

	)

55 
	#X_RROldSü“nChªgeS–eùIÅut
 3

	)

57 
	#X_RRS–eùIÅut
 4

	)

58 
	#X_RRG‘Sü“nInfo
 5

	)

61 
	#X_RRG‘Sü“nSizeRªge
 6

	)

62 
	#X_RRS‘Sü“nSize
 7

	)

63 
	#X_RRG‘Sü“nResourûs
 8

	)

64 
	#X_RRG‘OuutInfo
 9

	)

65 
	#X_RRLi¡OuutPrİ”t›s
 10

	)

66 
	#X_RRQu”yOuutPrİ”ty
 11

	)

67 
	#X_RRCÚfigu»OuutPrİ”ty
 12

	)

68 
	#X_RRChªgeOuutPrİ”ty
 13

	)

69 
	#X_RRD–‘eOuutPrİ”ty
 14

	)

70 
	#X_RRG‘OuutPrİ”ty
 15

	)

71 
	#X_RRC»©eMode
 16

	)

72 
	#X_RRDe¡royMode
 17

	)

73 
	#X_RRAddOuutMode
 18

	)

74 
	#X_RRD–‘eOuutMode
 19

	)

75 
	#X_RRG‘C¹cInfo
 20

	)

76 
	#X_RRS‘C¹cCÚfig
 21

	)

77 
	#X_RRG‘C¹cGammaSize
 22

	)

78 
	#X_RRG‘C¹cGamma
 23

	)

79 
	#X_RRS‘C¹cGamma
 24

	)

82 
	#X_RRG‘Sü“nResourûsCu¼’t
 25

	)

83 
	#X_RRS‘C¹cT¿nsfÜm
 26

	)

84 
	#X_RRG‘C¹cT¿nsfÜm
 27

	)

85 
	#X_RRG‘Pªnšg
 28

	)

86 
	#X_RRS‘Pªnšg
 29

	)

87 
	#X_RRS‘OuutPrim¬y
 30

	)

88 
	#X_RRG‘OuutPrim¬y
 31

	)

90 
	#RRT¿nsfÜmUn™
 (1L << 0)

	)

91 
	#RRT¿nsfÜmSÿËUp
 (1L << 1)

	)

92 
	#RRT¿nsfÜmSÿËDown
 (1L << 2)

	)

93 
	#RRT¿nsfÜmProjeùive
 (1L << 3)

	)

96 
	#X_RRG‘Provid”s
 32

	)

97 
	#X_RRG‘Provid”Info
 33

	)

98 
	#X_RRS‘Provid”OfæßdSšk
 34

	)

99 
	#X_RRS‘Provid”OuutSourû
 35

	)

100 
	#X_RRLi¡Provid”Prİ”t›s
 36

	)

101 
	#X_RRQu”yProvid”Prİ”ty
 37

	)

102 
	#X_RRCÚfigu»Provid”Prİ”ty
 38

	)

103 
	#X_RRChªgeProvid”Prİ”ty
 39

	)

104 
	#X_RRD–‘eProvid”Prİ”ty
 40

	)

105 
	#X_RRG‘Provid”Prİ”ty
 41

	)

108 
	#X_RRG‘MÚ™Üs
 42

	)

109 
	#X_RRS‘MÚ™Ü
 43

	)

110 
	#X_RRD–‘eMÚ™Ü
 44

	)

113 
	#X_RRC»©eL—£
 45

	)

114 
	#X_RRF»eL—£
 46

	)

117 
	#RRSü“nChªgeNÙifyMask
 (1L << 0)

	)

119 
	#RRC¹cChªgeNÙifyMask
 (1L << 1)

	)

120 
	#RROuutChªgeNÙifyMask
 (1L << 2)

	)

121 
	#RROuutPrİ”tyNÙifyMask
 (1L << 3)

	)

123 
	#RRProvid”ChªgeNÙifyMask
 (1L << 4)

	)

124 
	#RRProvid”Prİ”tyNÙifyMask
 (1L << 5)

	)

125 
	#RRResourûChªgeNÙifyMask
 (1L << 6)

	)

127 
	#RRL—£NÙifyMask
 (1L << 7)

	)

130 
	#RRSü“nChªgeNÙify
 0

	)

132 
	#RRNÙify
 1

	)

134 
	#RRNÙify_C¹cChªge
 0

	)

135 
	#RRNÙify_OuutChªge
 1

	)

136 
	#RRNÙify_OuutPrİ”ty
 2

	)

137 
	#RRNÙify_Provid”Chªge
 3

	)

138 
	#RRNÙify_Provid”Prİ”ty
 4

	)

139 
	#RRNÙify_ResourûChªge
 5

	)

141 
	#RRNÙify_L—£
 6

	)

143 
	#RR_RÙ©e_0
 1

	)

144 
	#RR_RÙ©e_90
 2

	)

145 
	#RR_RÙ©e_180
 4

	)

146 
	#RR_RÙ©e_270
 8

	)

150 
	#RR_Reæeù_X
 16

	)

151 
	#RR_Reæeù_Y
 32

	)

153 
	#RRS‘CÚfigSucûss
 0

	)

154 
	#RRS‘CÚfigInv®idCÚfigTime
 1

	)

155 
	#RRS‘CÚfigInv®idTime
 2

	)

156 
	#RRS‘CÚfigFaed
 3

	)

160 
	#RR_HSyncPos™ive
 0x00000001

	)

161 
	#RR_HSyncNeg©ive
 0x00000002

	)

162 
	#RR_VSyncPos™ive
 0x00000004

	)

163 
	#RR_VSyncNeg©ive
 0x00000008

	)

164 
	#RR_IÁ”Ïû
 0x00000010

	)

165 
	#RR_DoubËSÿn
 0x00000020

	)

166 
	#RR_CSync
 0x00000040

	)

167 
	#RR_CSyncPos™ive
 0x00000080

	)

168 
	#RR_CSyncNeg©ive
 0x00000100

	)

169 
	#RR_HSkewP»£Á
 0x00000200

	)

170 
	#RR_BCa¡
 0x00000400

	)

171 
	#RR_Pix–MuÉËx
 0x00000800

	)

172 
	#RR_DoubËClock
 0x00001000

	)

173 
	#RR_ClockDivideBy2
 0x00002000

	)

175 
	#RR_CÚÃùed
 0

	)

176 
	#RR_DiscÚÃùed
 1

	)

177 
	#RR_UnknownCÚÃùiÚ
 2

	)

179 
	#BadRROuut
 0

	)

180 
	#BadRRC¹c
 1

	)

181 
	#BadRRMode
 2

	)

182 
	#BadRRProvid”
 3

	)

183 
	#BadRRL—£
 4

	)

187 
	#RR_PROPERTY_BACKLIGHT
 "Backlight"

	)

188 
	#RR_PROPERTY_RANDR_EDID
 "EDID"

	)

189 
	#RR_PROPERTY_SIGNAL_FORMAT
 "SigÇlFÜm©"

	)

190 
	#RR_PROPERTY_SIGNAL_PROPERTIES
 "SigÇlPrİ”t›s"

	)

191 
	#RR_PROPERTY_CONNECTOR_TYPE
 "CÚÃùÜTy³"

	)

192 
	#RR_PROPERTY_CONNECTOR_NUMBER
 "CÚÃùÜNumb”"

	)

193 
	#RR_PROPERTY_COMPATIBILITY_LIST
 "Com·tib™yLi¡"

	)

194 
	#RR_PROPERTY_CLONE_LIST
 "ClÚeLi¡"

	)

195 
	#RR_PROPERTY_BORDER
 "BÜd”"

	)

196 
	#RR_PROPERTY_BORDER_DIMENSIONS
 "BÜd”Dim’siÚs"

	)

197 
	#RR_PROPERTY_GUID
 "GUID"

	)

198 
	#RR_PROPERTY_RANDR_TILE
 "TILE"

	)

199 
	#RR_PROPERTY_NON_DESKTOP
 "nÚ-desktİ"

	)

202 
	#RR_C­ab™y_NÚe
 0

	)

203 
	#RR_C­ab™y_SourûOuut
 1

	)

204 
	#RR_C­ab™y_SškOuut
 2

	)

205 
	#RR_C­ab™y_SourûOfæßd
 4

	)

206 
	#RR_C­ab™y_SškOfæßd
 8

	)

	@/usr/include/X11/extensions/shm.h

29 #iâdeà
_SHM_H_


30 
	#_SHM_H_


	)

32 
	#SHMNAME
 "MIT-SHM"

	)

34 
	#SHM_MAJOR_VERSION
 1

	)

35 
	#SHM_MINOR_VERSION
 2

	)

37 
	#ShmCom¶‘iÚ
 0

	)

38 
	#ShmNumb”Ev’ts
 (
ShmCom¶‘iÚ
 + 1)

	)

40 
	#BadShmSeg
 0

	)

41 
	#ShmNumb”E¼Üs
 (
BadShmSeg
 + 1)

	)

	@/usr/include/X11/keysymdef.h

115 
	#XK_VoidSymbŞ
 0xfffffà

	)

117 #ifdeà
XK_MISCELLANY


124 
	#XK_BackS·û
 0xff08

	)

125 
	#XK_Tab
 0xff09

	)

126 
	#XK_Lšeãed
 0xff0¨

	)

127 
	#XK_CË¬
 0xff0b

	)

128 
	#XK_R‘uº
 0xff0d

	)

129 
	#XK_Pau£
 0xff13

	)

130 
	#XK_SüŞl_Lock
 0xff14

	)

131 
	#XK_Sys_Req
 0xff15

	)

132 
	#XK_Esÿ³
 0xff1b

	)

133 
	#XK_D–‘e
 0xfffà

	)

139 
	#XK_MuÉi_key
 0xff20

	)

140 
	#XK_Codešput
 0xff37

	)

141 
	#XK_SšgËCªdid©e
 0xff3c

	)

142 
	#XK_MuÉËCªdid©e
 0xff3d

	)

143 
	#XK_P»viousCªdid©e
 0xff3e

	)

147 
	#XK_Kªji
 0xff21

	)

148 
	#XK_Muh’kª
 0xff22

	)

149 
	#XK_H’kª_Mode
 0xff23

	)

150 
	#XK_H’kª
 0xff23

	)

151 
	#XK_Romaji
 0xff24

	)

152 
	#XK_Hœagªa
 0xff25

	)

153 
	#XK_K©akªa
 0xff26

	)

154 
	#XK_Hœagªa_K©akªa
 0xff27

	)

155 
	#XK_Z’kaku
 0xff28

	)

156 
	#XK_Hªkaku
 0xff29

	)

157 
	#XK_Z’kaku_Hªkaku
 0xff2¨

	)

158 
	#XK_Touroku
 0xff2b

	)

159 
	#XK_Massyo
 0xff2ø

	)

160 
	#XK_Kªa_Lock
 0xff2d

	)

161 
	#XK_Kªa_Shiá
 0xff2

	)

162 
	#XK_Eisu_Shiá
 0xff2à

	)

163 
	#XK_Eisu_toggË
 0xff30

	)

164 
	#XK_Kªji_Bªgou
 0xff37

	)

165 
	#XK_Z’_Koho
 0xff3d

	)

166 
	#XK_M«_Koho
 0xff3

	)

172 
	#XK_Home
 0xff50

	)

173 
	#XK_Leá
 0xff51

	)

174 
	#XK_Up
 0xff52

	)

175 
	#XK_Right
 0xff53

	)

176 
	#XK_Down
 0xff54

	)

177 
	#XK_PriÜ
 0xff55

	)

178 
	#XK_Page_Up
 0xff55

	)

179 
	#XK_Next
 0xff56

	)

180 
	#XK_Page_Down
 0xff56

	)

181 
	#XK_End
 0xff57

	)

182 
	#XK_Begš
 0xff58

	)

187 
	#XK_S–eù
 0xff60

	)

188 
	#XK_Pršt
 0xff61

	)

189 
	#XK_Execu‹
 0xff62

	)

190 
	#XK_In£¹
 0xff63

	)

191 
	#XK_Undo
 0xff65

	)

192 
	#XK_Redo
 0xff66

	)

193 
	#XK_M’u
 0xff67

	)

194 
	#XK_Fšd
 0xff68

	)

195 
	#XK_Cªûl
 0xff69

	)

196 
	#XK_H–p
 0xff6¨

	)

197 
	#XK_B»ak
 0xff6b

	)

198 
	#XK_Mode_sw™ch
 0xff7

	)

199 
	#XK_süt_sw™ch
 0xff7

	)

200 
	#XK_Num_Lock
 0xff7f

	)

204 
	#XK_KP_S·û
 0xff80

	)

205 
	#XK_KP_Tab
 0xff89

	)

206 
	#XK_KP_EÁ”
 0xff8d

	)

207 
	#XK_KP_F1
 0xff91

	)

208 
	#XK_KP_F2
 0xff92

	)

209 
	#XK_KP_F3
 0xff93

	)

210 
	#XK_KP_F4
 0xff94

	)

211 
	#XK_KP_Home
 0xff95

	)

212 
	#XK_KP_Leá
 0xff96

	)

213 
	#XK_KP_Up
 0xff97

	)

214 
	#XK_KP_Right
 0xff98

	)

215 
	#XK_KP_Down
 0xff99

	)

216 
	#XK_KP_PriÜ
 0xff9a

	)

217 
	#XK_KP_Page_Up
 0xff9a

	)

218 
	#XK_KP_Next
 0xff9b

	)

219 
	#XK_KP_Page_Down
 0xff9b

	)

220 
	#XK_KP_End
 0xff9c

	)

221 
	#XK_KP_Begš
 0xff9d

	)

222 
	#XK_KP_In£¹
 0xff9e

	)

223 
	#XK_KP_D–‘e
 0xff9f

	)

224 
	#XK_KP_Equ®
 0xffbd

	)

225 
	#XK_KP_MuÉly
 0xfça

	)

226 
	#XK_KP_Add
 0xfçb

	)

227 
	#XK_KP_S•¬©Ü
 0xfçø

	)

228 
	#XK_KP_SubŒaù
 0xfçd

	)

229 
	#XK_KP_Decim®
 0xfçe

	)

230 
	#XK_KP_Divide
 0xfçf

	)

232 
	#XK_KP_0
 0xffb0

	)

233 
	#XK_KP_1
 0xffb1

	)

234 
	#XK_KP_2
 0xffb2

	)

235 
	#XK_KP_3
 0xffb3

	)

236 
	#XK_KP_4
 0xffb4

	)

237 
	#XK_KP_5
 0xffb5

	)

238 
	#XK_KP_6
 0xffb6

	)

239 
	#XK_KP_7
 0xffb7

	)

240 
	#XK_KP_8
 0xffb8

	)

241 
	#XK_KP_9
 0xffb9

	)

252 
	#XK_F1
 0xffbe

	)

253 
	#XK_F2
 0xffbf

	)

254 
	#XK_F3
 0xffc0

	)

255 
	#XK_F4
 0xffc1

	)

256 
	#XK_F5
 0xffc2

	)

257 
	#XK_F6
 0xffc3

	)

258 
	#XK_F7
 0xffc4

	)

259 
	#XK_F8
 0xffc5

	)

260 
	#XK_F9
 0xffc6

	)

261 
	#XK_F10
 0xffc7

	)

262 
	#XK_F11
 0xffc8

	)

263 
	#XK_L1
 0xffc8

	)

264 
	#XK_F12
 0xffc9

	)

265 
	#XK_L2
 0xffc9

	)

266 
	#XK_F13
 0xffÿ

	)

267 
	#XK_L3
 0xffÿ

	)

268 
	#XK_F14
 0xffcb

	)

269 
	#XK_L4
 0xffcb

	)

270 
	#XK_F15
 0xffcc

	)

271 
	#XK_L5
 0xffcc

	)

272 
	#XK_F16
 0xffcd

	)

273 
	#XK_L6
 0xffcd

	)

274 
	#XK_F17
 0xffû

	)

275 
	#XK_L7
 0xffû

	)

276 
	#XK_F18
 0xffcf

	)

277 
	#XK_L8
 0xffcf

	)

278 
	#XK_F19
 0xffd0

	)

279 
	#XK_L9
 0xffd0

	)

280 
	#XK_F20
 0xffd1

	)

281 
	#XK_L10
 0xffd1

	)

282 
	#XK_F21
 0xffd2

	)

283 
	#XK_R1
 0xffd2

	)

284 
	#XK_F22
 0xffd3

	)

285 
	#XK_R2
 0xffd3

	)

286 
	#XK_F23
 0xffd4

	)

287 
	#XK_R3
 0xffd4

	)

288 
	#XK_F24
 0xffd5

	)

289 
	#XK_R4
 0xffd5

	)

290 
	#XK_F25
 0xffd6

	)

291 
	#XK_R5
 0xffd6

	)

292 
	#XK_F26
 0xffd7

	)

293 
	#XK_R6
 0xffd7

	)

294 
	#XK_F27
 0xffd8

	)

295 
	#XK_R7
 0xffd8

	)

296 
	#XK_F28
 0xffd9

	)

297 
	#XK_R8
 0xffd9

	)

298 
	#XK_F29
 0xffda

	)

299 
	#XK_R9
 0xffda

	)

300 
	#XK_F30
 0xffdb

	)

301 
	#XK_R10
 0xffdb

	)

302 
	#XK_F31
 0xffdc

	)

303 
	#XK_R11
 0xffdc

	)

304 
	#XK_F32
 0xffdd

	)

305 
	#XK_R12
 0xffdd

	)

306 
	#XK_F33
 0xffde

	)

307 
	#XK_R13
 0xffde

	)

308 
	#XK_F34
 0xffdf

	)

309 
	#XK_R14
 0xffdf

	)

310 
	#XK_F35
 0xfã0

	)

311 
	#XK_R15
 0xfã0

	)

315 
	#XK_Shiá_L
 0xfã1

	)

316 
	#XK_Shiá_R
 0xfã2

	)

317 
	#XK_CÚŒŞ_L
 0xfã3

	)

318 
	#XK_CÚŒŞ_R
 0xfã4

	)

319 
	#XK_C­s_Lock
 0xfã5

	)

320 
	#XK_Shiá_Lock
 0xfã6

	)

322 
	#XK_M‘a_L
 0xfã7

	)

323 
	#XK_M‘a_R
 0xfã8

	)

324 
	#XK_AÉ_L
 0xfã9

	)

325 
	#XK_AÉ_R
 0xfã¨

	)

326 
	#XK_Su³r_L
 0xfãb

	)

327 
	#XK_Su³r_R
 0xfãø

	)

328 
	#XK_Hy³r_L
 0xfãd

	)

329 
	#XK_Hy³r_R
 0xfã

	)

338 #ifdeà
XK_XKB_KEYS


339 
	#XK_ISO_Lock
 0xã01

	)

340 
	#XK_ISO_Lev–2_L©ch
 0xã02

	)

341 
	#XK_ISO_Lev–3_Shiá
 0xã03

	)

342 
	#XK_ISO_Lev–3_L©ch
 0xã04

	)

343 
	#XK_ISO_Lev–3_Lock
 0xã05

	)

344 
	#XK_ISO_Lev–5_Shiá
 0xã11

	)

345 
	#XK_ISO_Lev–5_L©ch
 0xã12

	)

346 
	#XK_ISO_Lev–5_Lock
 0xã13

	)

347 
	#XK_ISO_Group_Shiá
 0xff7

	)

348 
	#XK_ISO_Group_L©ch
 0xã06

	)

349 
	#XK_ISO_Group_Lock
 0xã07

	)

350 
	#XK_ISO_Next_Group
 0xã08

	)

351 
	#XK_ISO_Next_Group_Lock
 0xã09

	)

352 
	#XK_ISO_P»v_Group
 0xã0a

	)

353 
	#XK_ISO_P»v_Group_Lock
 0xã0b

	)

354 
	#XK_ISO_Fœ¡_Group
 0xã0c

	)

355 
	#XK_ISO_Fœ¡_Group_Lock
 0xã0d

	)

356 
	#XK_ISO_La¡_Group
 0xã0e

	)

357 
	#XK_ISO_La¡_Group_Lock
 0xã0f

	)

359 
	#XK_ISO_Leá_Tab
 0xã20

	)

360 
	#XK_ISO_Move_Lše_Up
 0xã21

	)

361 
	#XK_ISO_Move_Lše_Down
 0xã22

	)

362 
	#XK_ISO_P¬tŸl_Lše_Up
 0xã23

	)

363 
	#XK_ISO_P¬tŸl_Lše_Down
 0xã24

	)

364 
	#XK_ISO_P¬tŸl_S·û_Leá
 0xã25

	)

365 
	#XK_ISO_P¬tŸl_S·û_Right
 0xã26

	)

366 
	#XK_ISO_S‘_M¬gš_Leá
 0xã27

	)

367 
	#XK_ISO_S‘_M¬gš_Right
 0xã28

	)

368 
	#XK_ISO_R–—£_M¬gš_Leá
 0xã29

	)

369 
	#XK_ISO_R–—£_M¬gš_Right
 0xã2a

	)

370 
	#XK_ISO_R–—£_BÙh_M¬gšs
 0xã2b

	)

371 
	#XK_ISO_Fa¡_CursÜ_Leá
 0xã2c

	)

372 
	#XK_ISO_Fa¡_CursÜ_Right
 0xã2d

	)

373 
	#XK_ISO_Fa¡_CursÜ_Up
 0xã2e

	)

374 
	#XK_ISO_Fa¡_CursÜ_Down
 0xã2f

	)

375 
	#XK_ISO_CÚtšuous_Und”lše
 0xã30

	)

376 
	#XK_ISO_DiscÚtšuous_Und”lše
 0xã31

	)

377 
	#XK_ISO_Emphasize
 0xã32

	)

378 
	#XK_ISO_C’‹r_Objeù
 0xã33

	)

379 
	#XK_ISO_EÁ”
 0xã34

	)

381 
	#XK_d—d_g¿ve
 0xã50

	)

382 
	#XK_d—d_acu‹
 0xã51

	)

383 
	#XK_d—d_cœcumæex
 0xã52

	)

384 
	#XK_d—d_tde
 0xã53

	)

385 
	#XK_d—d_³ri¥om’i
 0xã53

	)

386 
	#XK_d—d_maüÚ
 0xã54

	)

387 
	#XK_d—d_b»ve
 0xã55

	)

388 
	#XK_d—d_abovedÙ
 0xã56

	)

389 
	#XK_d—d_dŸ”esis
 0xã57

	)

390 
	#XK_d—d_abov”šg
 0xã58

	)

391 
	#XK_d—d_doubËacu‹
 0xã59

	)

392 
	#XK_d—d_ÿrÚ
 0xã5a

	)

393 
	#XK_d—d_ûdÏ
 0xã5b

	)

394 
	#XK_d—d_ogÚek
 0xã5c

	)

395 
	#XK_d—d_iÙa
 0xã5d

	)

396 
	#XK_d—d_voiûd_sound
 0xã5e

	)

397 
	#XK_d—d_£mivoiûd_sound
 0xã5f

	)

398 
	#XK_d—d_b–owdÙ
 0xã60

	)

399 
	#XK_d—d_hook
 0xã61

	)

400 
	#XK_d—d_hÜn
 0xã62

	)

401 
	#XK_d—d_¡roke
 0xã63

	)

402 
	#XK_d—d_abovecomma
 0xã64

	)

403 
	#XK_d—d_psi
 0xã64

	)

404 
	#XK_d—d_abov”ev”£dcomma
 0xã65

	)

405 
	#XK_d—d_dasŸ
 0xã65

	)

406 
	#XK_d—d_doubËg¿ve
 0xã66

	)

407 
	#XK_d—d_b–owršg
 0xã67

	)

408 
	#XK_d—d_b–owmaüÚ
 0xã68

	)

409 
	#XK_d—d_b–owcœcumæex
 0xã69

	)

410 
	#XK_d—d_b–owtde
 0xã6a

	)

411 
	#XK_d—d_b–owb»ve
 0xã6b

	)

412 
	#XK_d—d_b–owdŸ”esis
 0xã6c

	)

413 
	#XK_d—d_šv”‹db»ve
 0xã6d

	)

414 
	#XK_d—d_b–owcomma
 0xã6e

	)

415 
	#XK_d—d_cu¼’cy
 0xã6f

	)

418 
	#XK_d—d_lowlše
 0xã90

	)

419 
	#XK_d—d_abovev”tiÿÎše
 0xã91

	)

420 
	#XK_d—d_b–owv”tiÿÎše
 0xã92

	)

421 
	#XK_d—d_lÚgsŞidusov”Ïy
 0xã93

	)

424 
	#XK_d—d_a
 0xã80

	)

425 
	#XK_d—d_A
 0xã81

	)

426 
	#XK_d—d_e
 0xã82

	)

427 
	#XK_d—d_E
 0xã83

	)

428 
	#XK_d—d_i
 0xã84

	)

429 
	#XK_d—d_I
 0xã85

	)

430 
	#XK_d—d_o
 0xã86

	)

431 
	#XK_d—d_O
 0xã87

	)

432 
	#XK_d—d_u
 0xã88

	)

433 
	#XK_d—d_U
 0xã89

	)

434 
	#XK_d—d_sm®l_schwa
 0xã8a

	)

435 
	#XK_d—d_ÿp™®_schwa
 0xã8b

	)

437 
	#XK_d—d_g»ek
 0xã8c

	)

439 
	#XK_Fœ¡_Vœtu®_Sü“n
 0xãd0

	)

440 
	#XK_P»v_Vœtu®_Sü“n
 0xãd1

	)

441 
	#XK_Next_Vœtu®_Sü“n
 0xãd2

	)

442 
	#XK_La¡_Vœtu®_Sü“n
 0xãd4

	)

443 
	#XK_T”mš©e_S”v”
 0xãd5

	)

445 
	#XK_AcûssX_EÇbË
 0xã70

	)

446 
	#XK_AcûssX_F“dback_EÇbË
 0xã71

	)

447 
	#XK_R•—tKeys_EÇbË
 0xã72

	)

448 
	#XK_SlowKeys_EÇbË
 0xã73

	)

449 
	#XK_BounûKeys_EÇbË
 0xã74

	)

450 
	#XK_StickyKeys_EÇbË
 0xã75

	)

451 
	#XK_Mou£Keys_EÇbË
 0xã76

	)

452 
	#XK_Mou£Keys_Acûl_EÇbË
 0xã77

	)

453 
	#XK_Ov”Ïy1_EÇbË
 0xã78

	)

454 
	#XK_Ov”Ïy2_EÇbË
 0xã79

	)

455 
	#XK_AudibËB–l_EÇbË
 0xã7a

	)

457 
	#XK_Poš‹r_Leá
 0xãe0

	)

458 
	#XK_Poš‹r_Right
 0xãe1

	)

459 
	#XK_Poš‹r_Up
 0xãe2

	)

460 
	#XK_Poš‹r_Down
 0xãe3

	)

461 
	#XK_Poš‹r_UpLeá
 0xãe4

	)

462 
	#XK_Poš‹r_UpRight
 0xãe5

	)

463 
	#XK_Poš‹r_DownLeá
 0xãe6

	)

464 
	#XK_Poš‹r_DownRight
 0xãe7

	)

465 
	#XK_Poš‹r_Bu‰Ú_Dæt
 0xãe8

	)

466 
	#XK_Poš‹r_Bu‰Ú1
 0xãe9

	)

467 
	#XK_Poš‹r_Bu‰Ú2
 0xã—

	)

468 
	#XK_Poš‹r_Bu‰Ú3
 0xãeb

	)

469 
	#XK_Poš‹r_Bu‰Ú4
 0xãec

	)

470 
	#XK_Poš‹r_Bu‰Ú5
 0xãed

	)

471 
	#XK_Poš‹r_DblClick_Dæt
 0xã“

	)

472 
	#XK_Poš‹r_DblClick1
 0xãef

	)

473 
	#XK_Poš‹r_DblClick2
 0xãf0

	)

474 
	#XK_Poš‹r_DblClick3
 0xãf1

	)

475 
	#XK_Poš‹r_DblClick4
 0xãf2

	)

476 
	#XK_Poš‹r_DblClick5
 0xãf3

	)

477 
	#XK_Poš‹r_D¿g_Dæt
 0xãf4

	)

478 
	#XK_Poš‹r_D¿g1
 0xãf5

	)

479 
	#XK_Poš‹r_D¿g2
 0xãf6

	)

480 
	#XK_Poš‹r_D¿g3
 0xãf7

	)

481 
	#XK_Poš‹r_D¿g4
 0xãf8

	)

482 
	#XK_Poš‹r_D¿g5
 0xãfd

	)

484 
	#XK_Poš‹r_EÇbËKeys
 0xãf9

	)

485 
	#XK_Poš‹r_AcûË¿‹
 0xãç

	)

486 
	#XK_Poš‹r_DætBŠNext
 0xãfb

	)

487 
	#XK_Poš‹r_DætBŠP»v
 0xãfc

	)

491 
	#XK_ch
 0xãa0

	)

492 
	#XK_Ch
 0xãa1

	)

493 
	#XK_CH
 0xãa2

	)

494 
	#XK_c_h
 0xãa3

	)

495 
	#XK_C_h
 0xãa4

	)

496 
	#XK_C_H
 0xãa5

	)

505 #ifdeà
XK_3270


506 
	#XK_3270_Du¶iÿ‹
 0xfd01

	)

507 
	#XK_3270_F›ldM¬k
 0xfd02

	)

508 
	#XK_3270_Right2
 0xfd03

	)

509 
	#XK_3270_Leá2
 0xfd04

	)

510 
	#XK_3270_BackTab
 0xfd05

	)

511 
	#XK_3270_E¿£EOF
 0xfd06

	)

512 
	#XK_3270_E¿£IÅut
 0xfd07

	)

513 
	#XK_3270_Re£t
 0xfd08

	)

514 
	#XK_3270_Qu™
 0xfd09

	)

515 
	#XK_3270_PA1
 0xfd0a

	)

516 
	#XK_3270_PA2
 0xfd0b

	)

517 
	#XK_3270_PA3
 0xfd0c

	)

518 
	#XK_3270_Te¡
 0xfd0d

	)

519 
	#XK_3270_A‰n
 0xfd0e

	)

520 
	#XK_3270_CursÜBlšk
 0xfd0f

	)

521 
	#XK_3270_AÉCursÜ
 0xfd10

	)

522 
	#XK_3270_KeyClick
 0xfd11

	)

523 
	#XK_3270_Jump
 0xfd12

	)

524 
	#XK_3270_Id’t
 0xfd13

	)

525 
	#XK_3270_RuË
 0xfd14

	)

526 
	#XK_3270_Cİy
 0xfd15

	)

527 
	#XK_3270_PÏy
 0xfd16

	)

528 
	#XK_3270_S‘up
 0xfd17

	)

529 
	#XK_3270_RecÜd
 0xfd18

	)

530 
	#XK_3270_ChªgeSü“n
 0xfd19

	)

531 
	#XK_3270_D–‘eWÜd
 0xfd1a

	)

532 
	#XK_3270_ExS–eù
 0xfd1b

	)

533 
	#XK_3270_CursÜS–eù
 0xfd1c

	)

534 
	#XK_3270_PrštSü“n
 0xfd1d

	)

535 
	#XK_3270_EÁ”
 0xfd1e

	)

543 #ifdeà
XK_LATIN1


544 
	#XK_¥aû
 0x0020

	)

545 
	#XK_exşam
 0x0021

	)

546 
	#XK_quÙedbl
 0x0022

	)

547 
	#XK_numb”sign
 0x0023

	)

548 
	#XK_dŞÏr
 0x0024

	)

549 
	#XK_³rûÁ
 0x0025

	)

550 
	#XK_am³r§nd
 0x0026

	)

551 
	#XK_­o¡rİhe
 0x0027

	)

552 
	#XK_quÙ”ight
 0x0027

	)

553 
	#XK_·»Æeá
 0x0028

	)

554 
	#XK_·»Äight
 0x0029

	)

555 
	#XK_a¡”isk
 0x002¨

	)

556 
	#XK_¶us
 0x002b

	)

557 
	#XK_comma
 0x002ø

	)

558 
	#XK_mšus
 0x002d

	)

559 
	#XK_³riod
 0x002

	)

560 
	#XK_¦ash
 0x002à

	)

561 
	#XK_0
 0x0030

	)

562 
	#XK_1
 0x0031

	)

563 
	#XK_2
 0x0032

	)

564 
	#XK_3
 0x0033

	)

565 
	#XK_4
 0x0034

	)

566 
	#XK_5
 0x0035

	)

567 
	#XK_6
 0x0036

	)

568 
	#XK_7
 0x0037

	)

569 
	#XK_8
 0x0038

	)

570 
	#XK_9
 0x0039

	)

571 
	#XK_cŞÚ
 0x003¨

	)

572 
	#XK_£micŞÚ
 0x003b

	)

573 
	#XK_Ëss
 0x003ø

	)

574 
	#XK_equ®
 0x003d

	)

575 
	#XK_g»©”
 0x003

	)

576 
	#XK_que¡iÚ
 0x003à

	)

577 
	#XK_©
 0x0040

	)

578 
	#XK_A
 0x0041

	)

579 
	#XK_B
 0x0042

	)

580 
	#XK_C
 0x0043

	)

581 
	#XK_D
 0x0044

	)

582 
	#XK_E
 0x0045

	)

583 
	#XK_F
 0x0046

	)

584 
	#XK_G
 0x0047

	)

585 
	#XK_H
 0x0048

	)

586 
	#XK_I
 0x0049

	)

587 
	#XK_J
 0x004¨

	)

588 
	#XK_K
 0x004b

	)

589 
	#XK_L
 0x004ø

	)

590 
	#XK_M
 0x004d

	)

591 
	#XK_N
 0x004

	)

592 
	#XK_O
 0x004à

	)

593 
	#XK_P
 0x0050

	)

594 
	#XK_Q
 0x0051

	)

595 
	#XK_R
 0x0052

	)

596 
	#XK_S
 0x0053

	)

597 
	#XK_T
 0x0054

	)

598 
	#XK_U
 0x0055

	)

599 
	#XK_V
 0x0056

	)

600 
	#XK_W
 0x0057

	)

601 
	#XK_X
 0x0058

	)

602 
	#XK_Y
 0x0059

	)

603 
	#XK_Z
 0x005¨

	)

604 
	#XK_b¿ck‘Ëá
 0x005b

	)

605 
	#XK_back¦ash
 0x005ø

	)

606 
	#XK_b¿ck‘right
 0x005d

	)

607 
	#XK_asciicœcum
 0x005

	)

608 
	#XK_und”scÜe
 0x005à

	)

609 
	#XK_g¿ve
 0x0060

	)

610 
	#XK_quÙ–eá
 0x0060

	)

611 
	#XK_a
 0x0061

	)

612 
	#XK_b
 0x0062

	)

613 
	#XK_c
 0x0063

	)

614 
	#XK_d
 0x0064

	)

615 
	#XK_e
 0x0065

	)

616 
	#XK_f
 0x0066

	)

617 
	#XK_g
 0x0067

	)

618 
	#XK_h
 0x0068

	)

619 
	#XK_i
 0x0069

	)

620 
	#XK_j
 0x006¨

	)

621 
	#XK_k
 0x006b

	)

622 
	#XK_l
 0x006ø

	)

623 
	#XK_m
 0x006d

	)

624 
	#XK_n
 0x006

	)

625 
	#XK_o
 0x006à

	)

626 
	#XK_p
 0x0070

	)

627 
	#XK_q
 0x0071

	)

628 
	#XK_r
 0x0072

	)

629 
	#XK_s
 0x0073

	)

630 
	#XK_t
 0x0074

	)

631 
	#XK_u
 0x0075

	)

632 
	#XK_v
 0x0076

	)

633 
	#XK_w
 0x0077

	)

634 
	#XK_x
 0x0078

	)

635 
	#XK_y
 0x0079

	)

636 
	#XK_z
 0x007¨

	)

637 
	#XK_b¿ûËá
 0x007b

	)

638 
	#XK_b¬
 0x007ø

	)

639 
	#XK_b¿ûright
 0x007d

	)

640 
	#XK_asci™de
 0x007

	)

642 
	#XK_nob»ak¥aû
 0x00a0

	)

643 
	#XK_exşamdown
 0x00a1

	)

644 
	#XK_ûÁ
 0x00a2

	)

645 
	#XK_¡”lšg
 0x00a3

	)

646 
	#XK_cu¼’cy
 0x00a4

	)

647 
	#XK_y’
 0x00a5

	)

648 
	#XK_brok’b¬
 0x00a6

	)

649 
	#XK_£ùiÚ
 0x00a7

	)

650 
	#XK_dŸ”esis
 0x00a8

	)

651 
	#XK_cİyright
 0x00a9

	)

652 
	#XK_Üdãmšše
 0x00¯

	)

653 
	#XK_guËmÙËá
 0x00ab

	)

654 
	#XK_nÙsign
 0x00aø

	)

655 
	#XK_hyph’
 0x00ad

	)

656 
	#XK_»gi¡”ed
 0x00«

	)

657 
	#XK_maüÚ
 0x00aà

	)

658 
	#XK_deg»e
 0x00b0

	)

659 
	#XK_¶usmšus
 0x00b1

	)

660 
	#XK_twosu³riÜ
 0x00b2

	)

661 
	#XK_th»esu³riÜ
 0x00b3

	)

662 
	#XK_acu‹
 0x00b4

	)

663 
	#XK_mu
 0x00b5

	)

664 
	#XK_·¿g¿ph
 0x00b6

	)

665 
	#XK_³riodûÁ”ed
 0x00b7

	)

666 
	#XK_ûdÏ
 0x00b8

	)

667 
	#XK_Úesu³riÜ
 0x00b9

	)

668 
	#XK_masculše
 0x00b¨

	)

669 
	#XK_guËmÙright
 0x00bb

	)

670 
	#XK_Úequ¬‹r
 0x00bø

	)

671 
	#XK_Úeh®f
 0x00bd

	)

672 
	#XK_th»equ¬‹rs
 0x00b

	)

673 
	#XK_que¡iÚdown
 0x00bà

	)

674 
	#XK_Ag¿ve
 0x00c0

	)

675 
	#XK_Aacu‹
 0x00c1

	)

676 
	#XK_Acœcumæex
 0x00c2

	)

677 
	#XK_Atde
 0x00c3

	)

678 
	#XK_AdŸ”esis
 0x00c4

	)

679 
	#XK_Aršg
 0x00c5

	)

680 
	#XK_AE
 0x00c6

	)

681 
	#XK_CûdÏ
 0x00c7

	)

682 
	#XK_Eg¿ve
 0x00c8

	)

683 
	#XK_Eacu‹
 0x00c9

	)

684 
	#XK_Ecœcumæex
 0x00ÿ

	)

685 
	#XK_EdŸ”esis
 0x00cb

	)

686 
	#XK_Ig¿ve
 0x00cø

	)

687 
	#XK_Iacu‹
 0x00cd

	)

688 
	#XK_Icœcumæex
 0x00û

	)

689 
	#XK_IdŸ”esis
 0x00cà

	)

690 
	#XK_ETH
 0x00d0

	)

691 
	#XK_Eth
 0x00d0

	)

692 
	#XK_Ntde
 0x00d1

	)

693 
	#XK_Og¿ve
 0x00d2

	)

694 
	#XK_Oacu‹
 0x00d3

	)

695 
	#XK_Ocœcumæex
 0x00d4

	)

696 
	#XK_Otde
 0x00d5

	)

697 
	#XK_OdŸ”esis
 0x00d6

	)

698 
	#XK_muÉly
 0x00d7

	)

699 
	#XK_O¦ash
 0x00d8

	)

700 
	#XK_Ooblique
 0x00d8

	)

701 
	#XK_Ug¿ve
 0x00d9

	)

702 
	#XK_Uacu‹
 0x00d¨

	)

703 
	#XK_Ucœcumæex
 0x00db

	)

704 
	#XK_UdŸ”esis
 0x00dø

	)

705 
	#XK_Yacu‹
 0x00dd

	)

706 
	#XK_THORN
 0x00d

	)

707 
	#XK_ThÜn
 0x00d

	)

708 
	#XK_ssh¬p
 0x00dà

	)

709 
	#XK_ag¿ve
 0x00e0

	)

710 
	#XK_¯cu‹
 0x00e1

	)

711 
	#XK_acœcumæex
 0x00e2

	)

712 
	#XK_©de
 0x00e3

	)

713 
	#XK_adŸ”esis
 0x00e4

	)

714 
	#XK_¬šg
 0x00e5

	)

715 
	#XK_«
 0x00e6

	)

716 
	#XK_cûdÏ
 0x00e7

	)

717 
	#XK_eg¿ve
 0x00e8

	)

718 
	#XK_—cu‹
 0x00e9

	)

719 
	#XK_ecœcumæex
 0x00—

	)

720 
	#XK_edŸ”esis
 0x00eb

	)

721 
	#XK_ig¿ve
 0x00eø

	)

722 
	#XK_Ÿcu‹
 0x00ed

	)

723 
	#XK_icœcumæex
 0x00“

	)

724 
	#XK_idŸ”esis
 0x00eà

	)

725 
	#XK_‘h
 0x00f0

	)

726 
	#XK_Áde
 0x00f1

	)

727 
	#XK_og¿ve
 0x00f2

	)

728 
	#XK_ßcu‹
 0x00f3

	)

729 
	#XK_ocœcumæex
 0x00f4

	)

730 
	#XK_Ùde
 0x00f5

	)

731 
	#XK_odŸ”esis
 0x00f6

	)

732 
	#XK_divisiÚ
 0x00f7

	)

733 
	#XK_o¦ash
 0x00f8

	)

734 
	#XK_ooblique
 0x00f8

	)

735 
	#XK_ug¿ve
 0x00f9

	)

736 
	#XK_uacu‹
 0x00ç

	)

737 
	#XK_ucœcumæex
 0x00fb

	)

738 
	#XK_udŸ”esis
 0x00fø

	)

739 
	#XK_yacu‹
 0x00fd

	)

740 
	#XK_thÜn
 0x00ã

	)

741 
	#XK_ydŸ”esis
 0x00fà

	)

749 #ifdeà
XK_LATIN2


750 
	#XK_AogÚek
 0x01a1

	)

751 
	#XK_b»ve
 0x01a2

	)

752 
	#XK_L¡roke
 0x01a3

	)

753 
	#XK_LÿrÚ
 0x01a5

	)

754 
	#XK_Sacu‹
 0x01a6

	)

755 
	#XK_SÿrÚ
 0x01a9

	)

756 
	#XK_SûdÏ
 0x01¯

	)

757 
	#XK_TÿrÚ
 0x01ab

	)

758 
	#XK_Zacu‹
 0x01aø

	)

759 
	#XK_ZÿrÚ
 0x01«

	)

760 
	#XK_ZabovedÙ
 0x01aà

	)

761 
	#XK_aogÚek
 0x01b1

	)

762 
	#XK_ogÚek
 0x01b2

	)

763 
	#XK_l¡roke
 0x01b3

	)

764 
	#XK_lÿrÚ
 0x01b5

	)

765 
	#XK_§cu‹
 0x01b6

	)

766 
	#XK_ÿrÚ
 0x01b7

	)

767 
	#XK_sÿrÚ
 0x01b9

	)

768 
	#XK_sûdÏ
 0x01b¨

	)

769 
	#XK_tÿrÚ
 0x01bb

	)

770 
	#XK_zacu‹
 0x01bø

	)

771 
	#XK_doubËacu‹
 0x01bd

	)

772 
	#XK_zÿrÚ
 0x01b

	)

773 
	#XK_zabovedÙ
 0x01bà

	)

774 
	#XK_Racu‹
 0x01c0

	)

775 
	#XK_Ab»ve
 0x01c3

	)

776 
	#XK_Lacu‹
 0x01c5

	)

777 
	#XK_Cacu‹
 0x01c6

	)

778 
	#XK_CÿrÚ
 0x01c8

	)

779 
	#XK_EogÚek
 0x01ÿ

	)

780 
	#XK_EÿrÚ
 0x01cø

	)

781 
	#XK_DÿrÚ
 0x01cà

	)

782 
	#XK_D¡roke
 0x01d0

	)

783 
	#XK_Nacu‹
 0x01d1

	)

784 
	#XK_NÿrÚ
 0x01d2

	)

785 
	#XK_OdoubËacu‹
 0x01d5

	)

786 
	#XK_RÿrÚ
 0x01d8

	)

787 
	#XK_Uršg
 0x01d9

	)

788 
	#XK_UdoubËacu‹
 0x01db

	)

789 
	#XK_TûdÏ
 0x01d

	)

790 
	#XK_¿cu‹
 0x01e0

	)

791 
	#XK_ab»ve
 0x01e3

	)

792 
	#XK_Ïcu‹
 0x01e5

	)

793 
	#XK_ÿcu‹
 0x01e6

	)

794 
	#XK_cÿrÚ
 0x01e8

	)

795 
	#XK_eogÚek
 0x01—

	)

796 
	#XK_eÿrÚ
 0x01eø

	)

797 
	#XK_dÿrÚ
 0x01eà

	)

798 
	#XK_d¡roke
 0x01f0

	)

799 
	#XK_Çcu‹
 0x01f1

	)

800 
	#XK_nÿrÚ
 0x01f2

	)

801 
	#XK_odoubËacu‹
 0x01f5

	)

802 
	#XK_rÿrÚ
 0x01f8

	)

803 
	#XK_uršg
 0x01f9

	)

804 
	#XK_udoubËacu‹
 0x01fb

	)

805 
	#XK_tûdÏ
 0x01ã

	)

806 
	#XK_abovedÙ
 0x01fà

	)

814 #ifdeà
XK_LATIN3


815 
	#XK_H¡roke
 0x02a1

	)

816 
	#XK_Hcœcumæex
 0x02a6

	)

817 
	#XK_IabovedÙ
 0x02a9

	)

818 
	#XK_Gb»ve
 0x02ab

	)

819 
	#XK_Jcœcumæex
 0x02aø

	)

820 
	#XK_h¡roke
 0x02b1

	)

821 
	#XK_hcœcumæex
 0x02b6

	)

822 
	#XK_idÙËss
 0x02b9

	)

823 
	#XK_gb»ve
 0x02bb

	)

824 
	#XK_jcœcumæex
 0x02bø

	)

825 
	#XK_CabovedÙ
 0x02c5

	)

826 
	#XK_Ccœcumæex
 0x02c6

	)

827 
	#XK_GabovedÙ
 0x02d5

	)

828 
	#XK_Gcœcumæex
 0x02d8

	)

829 
	#XK_Ub»ve
 0x02dd

	)

830 
	#XK_Scœcumæex
 0x02d

	)

831 
	#XK_ÿbovedÙ
 0x02e5

	)

832 
	#XK_ccœcumæex
 0x02e6

	)

833 
	#XK_gabovedÙ
 0x02f5

	)

834 
	#XK_gcœcumæex
 0x02f8

	)

835 
	#XK_ub»ve
 0x02fd

	)

836 
	#XK_scœcumæex
 0x02ã

	)

845 #ifdeà
XK_LATIN4


846 
	#XK_k¿
 0x03a2

	)

847 
	#XK_k­·
 0x03a2

	)

848 
	#XK_RûdÏ
 0x03a3

	)

849 
	#XK_Itde
 0x03a5

	)

850 
	#XK_LûdÏ
 0x03a6

	)

851 
	#XK_EmaüÚ
 0x03¯

	)

852 
	#XK_GûdÏ
 0x03ab

	)

853 
	#XK_T¦ash
 0x03aø

	)

854 
	#XK_rûdÏ
 0x03b3

	)

855 
	#XK_™de
 0x03b5

	)

856 
	#XK_lûdÏ
 0x03b6

	)

857 
	#XK_emaüÚ
 0x03b¨

	)

858 
	#XK_gûdÏ
 0x03bb

	)

859 
	#XK_t¦ash
 0x03bø

	)

860 
	#XK_ENG
 0x03bd

	)

861 
	#XK_’g
 0x03bà

	)

862 
	#XK_AmaüÚ
 0x03c0

	)

863 
	#XK_IogÚek
 0x03c7

	)

864 
	#XK_EabovedÙ
 0x03cø

	)

865 
	#XK_ImaüÚ
 0x03cà

	)

866 
	#XK_NûdÏ
 0x03d1

	)

867 
	#XK_OmaüÚ
 0x03d2

	)

868 
	#XK_KûdÏ
 0x03d3

	)

869 
	#XK_UogÚek
 0x03d9

	)

870 
	#XK_Utde
 0x03dd

	)

871 
	#XK_UmaüÚ
 0x03d

	)

872 
	#XK_amaüÚ
 0x03e0

	)

873 
	#XK_iogÚek
 0x03e7

	)

874 
	#XK_—bovedÙ
 0x03eø

	)

875 
	#XK_imaüÚ
 0x03eà

	)

876 
	#XK_nûdÏ
 0x03f1

	)

877 
	#XK_omaüÚ
 0x03f2

	)

878 
	#XK_kûdÏ
 0x03f3

	)

879 
	#XK_uogÚek
 0x03f9

	)

880 
	#XK_utde
 0x03fd

	)

881 
	#XK_umaüÚ
 0x03ã

	)

887 #ifdeà
XK_LATIN8


888 
	#XK_Wcœcumæex
 0x1000174

	)

889 
	#XK_wcœcumæex
 0x1000175

	)

890 
	#XK_Ycœcumæex
 0x1000176

	)

891 
	#XK_ycœcumæex
 0x1000177

	)

892 
	#XK_BabovedÙ
 0x1001e02

	)

893 
	#XK_babovedÙ
 0x1001e03

	)

894 
	#XK_DabovedÙ
 0x1001e0¨

	)

895 
	#XK_dabovedÙ
 0x1001e0b

	)

896 
	#XK_FabovedÙ
 0x1001e1

	)

897 
	#XK_çbovedÙ
 0x1001e1à

	)

898 
	#XK_MabovedÙ
 0x1001e40

	)

899 
	#XK_mabovedÙ
 0x1001e41

	)

900 
	#XK_PabovedÙ
 0x1001e56

	)

901 
	#XK_·bovedÙ
 0x1001e57

	)

902 
	#XK_SabovedÙ
 0x1001e60

	)

903 
	#XK_§bovedÙ
 0x1001e61

	)

904 
	#XK_TabovedÙ
 0x1001e6¨

	)

905 
	#XK_bovedÙ
 0x1001e6b

	)

906 
	#XK_Wg¿ve
 0x1001e80

	)

907 
	#XK_wg¿ve
 0x1001e81

	)

908 
	#XK_Wacu‹
 0x1001e82

	)

909 
	#XK_wacu‹
 0x1001e83

	)

910 
	#XK_WdŸ”esis
 0x1001e84

	)

911 
	#XK_wdŸ”esis
 0x1001e85

	)

912 
	#XK_Yg¿ve
 0x1001ef2

	)

913 
	#XK_yg¿ve
 0x1001ef3

	)

921 #ifdeà
XK_LATIN9


922 
	#XK_OE
 0x13bø

	)

923 
	#XK_Û
 0x13bd

	)

924 
	#XK_YdŸ”esis
 0x13b

	)

932 #ifdeà
XK_KATAKANA


933 
	#XK_ov”lše
 0x047

	)

934 
	#XK_kªa_fuÎ¡İ
 0x04a1

	)

935 
	#XK_kªa_İ’šgb¿ck‘
 0x04a2

	)

936 
	#XK_kªa_şosšgb¿ck‘
 0x04a3

	)

937 
	#XK_kªa_comma
 0x04a4

	)

938 
	#XK_kªa_cÚjunùive
 0x04a5

	)

939 
	#XK_kªa_middËdÙ
 0x04a5

	)

940 
	#XK_kªa_WO
 0x04a6

	)

941 
	#XK_kªa_a
 0x04a7

	)

942 
	#XK_kªa_i
 0x04a8

	)

943 
	#XK_kªa_u
 0x04a9

	)

944 
	#XK_kªa_e
 0x04¯

	)

945 
	#XK_kªa_o
 0x04ab

	)

946 
	#XK_kªa_ya
 0x04aø

	)

947 
	#XK_kªa_yu
 0x04ad

	)

948 
	#XK_kªa_yo
 0x04«

	)

949 
	#XK_kªa_tsu
 0x04aà

	)

950 
	#XK_kªa_tu
 0x04aà

	)

951 
	#XK_´ŞÚgedsound
 0x04b0

	)

952 
	#XK_kªa_A
 0x04b1

	)

953 
	#XK_kªa_I
 0x04b2

	)

954 
	#XK_kªa_U
 0x04b3

	)

955 
	#XK_kªa_E
 0x04b4

	)

956 
	#XK_kªa_O
 0x04b5

	)

957 
	#XK_kªa_KA
 0x04b6

	)

958 
	#XK_kªa_KI
 0x04b7

	)

959 
	#XK_kªa_KU
 0x04b8

	)

960 
	#XK_kªa_KE
 0x04b9

	)

961 
	#XK_kªa_KO
 0x04b¨

	)

962 
	#XK_kªa_SA
 0x04bb

	)

963 
	#XK_kªa_SHI
 0x04bø

	)

964 
	#XK_kªa_SU
 0x04bd

	)

965 
	#XK_kªa_SE
 0x04b

	)

966 
	#XK_kªa_SO
 0x04bà

	)

967 
	#XK_kªa_TA
 0x04c0

	)

968 
	#XK_kªa_CHI
 0x04c1

	)

969 
	#XK_kªa_TI
 0x04c1

	)

970 
	#XK_kªa_TSU
 0x04c2

	)

971 
	#XK_kªa_TU
 0x04c2

	)

972 
	#XK_kªa_TE
 0x04c3

	)

973 
	#XK_kªa_TO
 0x04c4

	)

974 
	#XK_kªa_NA
 0x04c5

	)

975 
	#XK_kªa_NI
 0x04c6

	)

976 
	#XK_kªa_NU
 0x04c7

	)

977 
	#XK_kªa_NE
 0x04c8

	)

978 
	#XK_kªa_NO
 0x04c9

	)

979 
	#XK_kªa_HA
 0x04ÿ

	)

980 
	#XK_kªa_HI
 0x04cb

	)

981 
	#XK_kªa_FU
 0x04cø

	)

982 
	#XK_kªa_HU
 0x04cø

	)

983 
	#XK_kªa_HE
 0x04cd

	)

984 
	#XK_kªa_HO
 0x04û

	)

985 
	#XK_kªa_MA
 0x04cà

	)

986 
	#XK_kªa_MI
 0x04d0

	)

987 
	#XK_kªa_MU
 0x04d1

	)

988 
	#XK_kªa_ME
 0x04d2

	)

989 
	#XK_kªa_MO
 0x04d3

	)

990 
	#XK_kªa_YA
 0x04d4

	)

991 
	#XK_kªa_YU
 0x04d5

	)

992 
	#XK_kªa_YO
 0x04d6

	)

993 
	#XK_kªa_RA
 0x04d7

	)

994 
	#XK_kªa_RI
 0x04d8

	)

995 
	#XK_kªa_RU
 0x04d9

	)

996 
	#XK_kªa_RE
 0x04d¨

	)

997 
	#XK_kªa_RO
 0x04db

	)

998 
	#XK_kªa_WA
 0x04dø

	)

999 
	#XK_kªa_N
 0x04dd

	)

1000 
	#XK_voiûdsound
 0x04d

	)

1001 
	#XK_£mivoiûdsound
 0x04dà

	)

1002 
	#XK_kªa_sw™ch
 0xff7

	)

1010 #ifdeà
XK_ARABIC


1011 
	#XK_F¬si_0
 0x10006f0

	)

1012 
	#XK_F¬si_1
 0x10006f1

	)

1013 
	#XK_F¬si_2
 0x10006f2

	)

1014 
	#XK_F¬si_3
 0x10006f3

	)

1015 
	#XK_F¬si_4
 0x10006f4

	)

1016 
	#XK_F¬si_5
 0x10006f5

	)

1017 
	#XK_F¬si_6
 0x10006f6

	)

1018 
	#XK_F¬si_7
 0x10006f7

	)

1019 
	#XK_F¬si_8
 0x10006f8

	)

1020 
	#XK_F¬si_9
 0x10006f9

	)

1021 
	#XK_A¿bic_³rûÁ
 0x100066¨

	)

1022 
	#XK_A¿bic_su³rsüt_®ef
 0x1000670

	)

1023 
	#XK_A¿bic_‰eh
 0x1000679

	)

1024 
	#XK_A¿bic_³h
 0x100067

	)

1025 
	#XK_A¿bic_tcheh
 0x1000686

	)

1026 
	#XK_A¿bic_dd®
 0x1000688

	)

1027 
	#XK_A¿bic_¼eh
 0x1000691

	)

1028 
	#XK_A¿bic_comma
 0x05aø

	)

1029 
	#XK_A¿bic_fuÎ¡İ
 0x10006d4

	)

1030 
	#XK_A¿bic_0
 0x1000660

	)

1031 
	#XK_A¿bic_1
 0x1000661

	)

1032 
	#XK_A¿bic_2
 0x1000662

	)

1033 
	#XK_A¿bic_3
 0x1000663

	)

1034 
	#XK_A¿bic_4
 0x1000664

	)

1035 
	#XK_A¿bic_5
 0x1000665

	)

1036 
	#XK_A¿bic_6
 0x1000666

	)

1037 
	#XK_A¿bic_7
 0x1000667

	)

1038 
	#XK_A¿bic_8
 0x1000668

	)

1039 
	#XK_A¿bic_9
 0x1000669

	)

1040 
	#XK_A¿bic_£micŞÚ
 0x05bb

	)

1041 
	#XK_A¿bic_que¡iÚ_m¬k
 0x05bà

	)

1042 
	#XK_A¿bic_hamza
 0x05c1

	)

1043 
	#XK_A¿bic_maddaÚ®ef
 0x05c2

	)

1044 
	#XK_A¿bic_hamzaÚ®ef
 0x05c3

	)

1045 
	#XK_A¿bic_hamzaÚwaw
 0x05c4

	)

1046 
	#XK_A¿bic_hamzaund”®ef
 0x05c5

	)

1047 
	#XK_A¿bic_hamzaÚyeh
 0x05c6

	)

1048 
	#XK_A¿bic_®ef
 0x05c7

	)

1049 
	#XK_A¿bic_beh
 0x05c8

	)

1050 
	#XK_A¿bic_‹hm¬bu
 0x05c9

	)

1051 
	#XK_A¿bic_‹h
 0x05ÿ

	)

1052 
	#XK_A¿bic_theh
 0x05cb

	)

1053 
	#XK_A¿bic_j“m
 0x05cø

	)

1054 
	#XK_A¿bic_hah
 0x05cd

	)

1055 
	#XK_A¿bic_khah
 0x05û

	)

1056 
	#XK_A¿bic_d®
 0x05cà

	)

1057 
	#XK_A¿bic_th®
 0x05d0

	)

1058 
	#XK_A¿bic_¿
 0x05d1

	)

1059 
	#XK_A¿bic_zaš
 0x05d2

	)

1060 
	#XK_A¿bic_£’
 0x05d3

	)

1061 
	#XK_A¿bic_sh“n
 0x05d4

	)

1062 
	#XK_A¿bic_§d
 0x05d5

	)

1063 
	#XK_A¿bic_dad
 0x05d6

	)

1064 
	#XK_A¿bic_h
 0x05d7

	)

1065 
	#XK_A¿bic_zah
 0x05d8

	)

1066 
	#XK_A¿bic_aš
 0x05d9

	)

1067 
	#XK_A¿bic_ghaš
 0x05d¨

	)

1068 
	#XK_A¿bic_tw“l
 0x05e0

	)

1069 
	#XK_A¿bic_ãh
 0x05e1

	)

1070 
	#XK_A¿bic_qaf
 0x05e2

	)

1071 
	#XK_A¿bic_kaf
 0x05e3

	)

1072 
	#XK_A¿bic_Ïm
 0x05e4

	)

1073 
	#XK_A¿bic_m“m
 0x05e5

	)

1074 
	#XK_A¿bic_noÚ
 0x05e6

	)

1075 
	#XK_A¿bic_ha
 0x05e7

	)

1076 
	#XK_A¿bic_heh
 0x05e7

	)

1077 
	#XK_A¿bic_waw
 0x05e8

	)

1078 
	#XK_A¿bic_®efmaksu¿
 0x05e9

	)

1079 
	#XK_A¿bic_yeh
 0x05—

	)

1080 
	#XK_A¿bic_çth©ª
 0x05eb

	)

1081 
	#XK_A¿bic_damm©ª
 0x05eø

	)

1082 
	#XK_A¿bic_ka¤©ª
 0x05ed

	)

1083 
	#XK_A¿bic_çtha
 0x05“

	)

1084 
	#XK_A¿bic_damma
 0x05eà

	)

1085 
	#XK_A¿bic_ka¤a
 0x05f0

	)

1086 
	#XK_A¿bic_shadda
 0x05f1

	)

1087 
	#XK_A¿bic_sukun
 0x05f2

	)

1088 
	#XK_A¿bic_madda_above
 0x1000653

	)

1089 
	#XK_A¿bic_hamza_above
 0x1000654

	)

1090 
	#XK_A¿bic_hamza_b–ow
 0x1000655

	)

1091 
	#XK_A¿bic_jeh
 0x1000698

	)

1092 
	#XK_A¿bic_veh
 0x10006a4

	)

1093 
	#XK_A¿bic_keheh
 0x10006a9

	)

1094 
	#XK_A¿bic_gaf
 0x10006aà

	)

1095 
	#XK_A¿bic_noÚ_ghuÂa
 0x10006b¨

	)

1096 
	#XK_A¿bic_heh_dßchashm“
 0x10006b

	)

1097 
	#XK_F¬si_yeh
 0x10006cø

	)

1098 
	#XK_A¿bic_çrsi_yeh
 0x10006cø

	)

1099 
	#XK_A¿bic_yeh_b¬“
 0x10006d2

	)

1100 
	#XK_A¿bic_heh_gßl
 0x10006c1

	)

1101 
	#XK_A¿bic_sw™ch
 0xff7

	)

1108 #ifdeà
XK_CYRILLIC


1109 
	#XK_Cyrlic_GHE_b¬
 0x1000492

	)

1110 
	#XK_Cyrlic_ghe_b¬
 0x1000493

	)

1111 
	#XK_Cyrlic_ZHE_desûnd”
 0x1000496

	)

1112 
	#XK_Cyrlic_zhe_desûnd”
 0x1000497

	)

1113 
	#XK_Cyrlic_KA_desûnd”
 0x100049¨

	)

1114 
	#XK_Cyrlic_ka_desûnd”
 0x100049b

	)

1115 
	#XK_Cyrlic_KA_v”t¡roke
 0x100049ø

	)

1116 
	#XK_Cyrlic_ka_v”t¡roke
 0x100049d

	)

1117 
	#XK_Cyrlic_EN_desûnd”
 0x10004a2

	)

1118 
	#XK_Cyrlic_’_desûnd”
 0x10004a3

	)

1119 
	#XK_Cyrlic_U_¡¿ight
 0x10004«

	)

1120 
	#XK_Cyrlic_u_¡¿ight
 0x10004aà

	)

1121 
	#XK_Cyrlic_U_¡¿ight_b¬
 0x10004b0

	)

1122 
	#XK_Cyrlic_u_¡¿ight_b¬
 0x10004b1

	)

1123 
	#XK_Cyrlic_HA_desûnd”
 0x10004b2

	)

1124 
	#XK_Cyrlic_ha_desûnd”
 0x10004b3

	)

1125 
	#XK_Cyrlic_CHE_desûnd”
 0x10004b6

	)

1126 
	#XK_Cyrlic_che_desûnd”
 0x10004b7

	)

1127 
	#XK_Cyrlic_CHE_v”t¡roke
 0x10004b8

	)

1128 
	#XK_Cyrlic_che_v”t¡roke
 0x10004b9

	)

1129 
	#XK_Cyrlic_SHHA
 0x10004b¨

	)

1130 
	#XK_Cyrlic_shha
 0x10004bb

	)

1132 
	#XK_Cyrlic_SCHWA
 0x10004d8

	)

1133 
	#XK_Cyrlic_schwa
 0x10004d9

	)

1134 
	#XK_Cyrlic_I_maüÚ
 0x10004e2

	)

1135 
	#XK_Cyrlic_i_maüÚ
 0x10004e3

	)

1136 
	#XK_Cyrlic_O_b¬
 0x10004e8

	)

1137 
	#XK_Cyrlic_o_b¬
 0x10004e9

	)

1138 
	#XK_Cyrlic_U_maüÚ
 0x10004“

	)

1139 
	#XK_Cyrlic_u_maüÚ
 0x10004eà

	)

1141 
	#XK_S”bŸn_dje
 0x06a1

	)

1142 
	#XK_MaûdÚŸ_gje
 0x06a2

	)

1143 
	#XK_Cyrlic_io
 0x06a3

	)

1144 
	#XK_Uk¿šŸn_›
 0x06a4

	)

1145 
	#XK_Uk¿nŸn_je
 0x06a4

	)

1146 
	#XK_MaûdÚŸ_d£
 0x06a5

	)

1147 
	#XK_Uk¿šŸn_i
 0x06a6

	)

1148 
	#XK_Uk¿nŸn_i
 0x06a6

	)

1149 
	#XK_Uk¿šŸn_yi
 0x06a7

	)

1150 
	#XK_Uk¿nŸn_yi
 0x06a7

	)

1151 
	#XK_Cyrlic_je
 0x06a8

	)

1152 
	#XK_S”bŸn_je
 0x06a8

	)

1153 
	#XK_Cyrlic_lje
 0x06a9

	)

1154 
	#XK_S”bŸn_lje
 0x06a9

	)

1155 
	#XK_Cyrlic_nje
 0x06¯

	)

1156 
	#XK_S”bŸn_nje
 0x06¯

	)

1157 
	#XK_S”bŸn_tshe
 0x06ab

	)

1158 
	#XK_MaûdÚŸ_kje
 0x06aø

	)

1159 
	#XK_Uk¿šŸn_ghe_w™h_u±uº
 0x06ad

	)

1160 
	#XK_By–ÜussŸn_shÜtu
 0x06«

	)

1161 
	#XK_Cyrlic_dzhe
 0x06aà

	)

1162 
	#XK_S”bŸn_dze
 0x06aà

	)

1163 
	#XK_num”osign
 0x06b0

	)

1164 
	#XK_S”bŸn_DJE
 0x06b1

	)

1165 
	#XK_MaûdÚŸ_GJE
 0x06b2

	)

1166 
	#XK_Cyrlic_IO
 0x06b3

	)

1167 
	#XK_Uk¿šŸn_IE
 0x06b4

	)

1168 
	#XK_Uk¿nŸn_JE
 0x06b4

	)

1169 
	#XK_MaûdÚŸ_DSE
 0x06b5

	)

1170 
	#XK_Uk¿šŸn_I
 0x06b6

	)

1171 
	#XK_Uk¿nŸn_I
 0x06b6

	)

1172 
	#XK_Uk¿šŸn_YI
 0x06b7

	)

1173 
	#XK_Uk¿nŸn_YI
 0x06b7

	)

1174 
	#XK_Cyrlic_JE
 0x06b8

	)

1175 
	#XK_S”bŸn_JE
 0x06b8

	)

1176 
	#XK_Cyrlic_LJE
 0x06b9

	)

1177 
	#XK_S”bŸn_LJE
 0x06b9

	)

1178 
	#XK_Cyrlic_NJE
 0x06b¨

	)

1179 
	#XK_S”bŸn_NJE
 0x06b¨

	)

1180 
	#XK_S”bŸn_TSHE
 0x06bb

	)

1181 
	#XK_MaûdÚŸ_KJE
 0x06bø

	)

1182 
	#XK_Uk¿šŸn_GHE_WITH_UPTURN
 0x06bd

	)

1183 
	#XK_By–ÜussŸn_SHORTU
 0x06b

	)

1184 
	#XK_Cyrlic_DZHE
 0x06bà

	)

1185 
	#XK_S”bŸn_DZE
 0x06bà

	)

1186 
	#XK_Cyrlic_yu
 0x06c0

	)

1187 
	#XK_Cyrlic_a
 0x06c1

	)

1188 
	#XK_Cyrlic_be
 0x06c2

	)

1189 
	#XK_Cyrlic_t£
 0x06c3

	)

1190 
	#XK_Cyrlic_de
 0x06c4

	)

1191 
	#XK_Cyrlic_›
 0x06c5

	)

1192 
	#XK_Cyrlic_ef
 0x06c6

	)

1193 
	#XK_Cyrlic_ghe
 0x06c7

	)

1194 
	#XK_Cyrlic_ha
 0x06c8

	)

1195 
	#XK_Cyrlic_i
 0x06c9

	)

1196 
	#XK_Cyrlic_shÜti
 0x06ÿ

	)

1197 
	#XK_Cyrlic_ka
 0x06cb

	)

1198 
	#XK_Cyrlic_–
 0x06cø

	)

1199 
	#XK_Cyrlic_em
 0x06cd

	)

1200 
	#XK_Cyrlic_’
 0x06û

	)

1201 
	#XK_Cyrlic_o
 0x06cà

	)

1202 
	#XK_Cyrlic_³
 0x06d0

	)

1203 
	#XK_Cyrlic_ya
 0x06d1

	)

1204 
	#XK_Cyrlic_”
 0x06d2

	)

1205 
	#XK_Cyrlic_es
 0x06d3

	)

1206 
	#XK_Cyrlic_‹
 0x06d4

	)

1207 
	#XK_Cyrlic_u
 0x06d5

	)

1208 
	#XK_Cyrlic_zhe
 0x06d6

	)

1209 
	#XK_Cyrlic_ve
 0x06d7

	)

1210 
	#XK_Cyrlic_soásign
 0x06d8

	)

1211 
	#XK_Cyrlic_y”u
 0x06d9

	)

1212 
	#XK_Cyrlic_ze
 0x06d¨

	)

1213 
	#XK_Cyrlic_sha
 0x06db

	)

1214 
	#XK_Cyrlic_e
 0x06dø

	)

1215 
	#XK_Cyrlic_shcha
 0x06dd

	)

1216 
	#XK_Cyrlic_che
 0x06d

	)

1217 
	#XK_Cyrlic_h¬dsign
 0x06dà

	)

1218 
	#XK_Cyrlic_YU
 0x06e0

	)

1219 
	#XK_Cyrlic_A
 0x06e1

	)

1220 
	#XK_Cyrlic_BE
 0x06e2

	)

1221 
	#XK_Cyrlic_TSE
 0x06e3

	)

1222 
	#XK_Cyrlic_DE
 0x06e4

	)

1223 
	#XK_Cyrlic_IE
 0x06e5

	)

1224 
	#XK_Cyrlic_EF
 0x06e6

	)

1225 
	#XK_Cyrlic_GHE
 0x06e7

	)

1226 
	#XK_Cyrlic_HA
 0x06e8

	)

1227 
	#XK_Cyrlic_I
 0x06e9

	)

1228 
	#XK_Cyrlic_SHORTI
 0x06—

	)

1229 
	#XK_Cyrlic_KA
 0x06eb

	)

1230 
	#XK_Cyrlic_EL
 0x06eø

	)

1231 
	#XK_Cyrlic_EM
 0x06ed

	)

1232 
	#XK_Cyrlic_EN
 0x06“

	)

1233 
	#XK_Cyrlic_O
 0x06eà

	)

1234 
	#XK_Cyrlic_PE
 0x06f0

	)

1235 
	#XK_Cyrlic_YA
 0x06f1

	)

1236 
	#XK_Cyrlic_ER
 0x06f2

	)

1237 
	#XK_Cyrlic_ES
 0x06f3

	)

1238 
	#XK_Cyrlic_TE
 0x06f4

	)

1239 
	#XK_Cyrlic_U
 0x06f5

	)

1240 
	#XK_Cyrlic_ZHE
 0x06f6

	)

1241 
	#XK_Cyrlic_VE
 0x06f7

	)

1242 
	#XK_Cyrlic_SOFTSIGN
 0x06f8

	)

1243 
	#XK_Cyrlic_YERU
 0x06f9

	)

1244 
	#XK_Cyrlic_ZE
 0x06ç

	)

1245 
	#XK_Cyrlic_SHA
 0x06fb

	)

1246 
	#XK_Cyrlic_E
 0x06fø

	)

1247 
	#XK_Cyrlic_SHCHA
 0x06fd

	)

1248 
	#XK_Cyrlic_CHE
 0x06ã

	)

1249 
	#XK_Cyrlic_HARDSIGN
 0x06fà

	)

1258 #ifdeà
XK_GREEK


1259 
	#XK_G»ek_ALPHAacûÁ
 0x07a1

	)

1260 
	#XK_G»ek_EPSILONacûÁ
 0x07a2

	)

1261 
	#XK_G»ek_ETAacûÁ
 0x07a3

	)

1262 
	#XK_G»ek_IOTAacûÁ
 0x07a4

	)

1263 
	#XK_G»ek_IOTAd›»sis
 0x07a5

	)

1264 
	#XK_G»ek_IOTAdŸ”esis
 0x07a5

	)

1265 
	#XK_G»ek_OMICRONacûÁ
 0x07a7

	)

1266 
	#XK_G»ek_UPSILONacûÁ
 0x07a8

	)

1267 
	#XK_G»ek_UPSILONd›»sis
 0x07a9

	)

1268 
	#XK_G»ek_OMEGAacûÁ
 0x07ab

	)

1269 
	#XK_G»ek_acûÁd›»sis
 0x07«

	)

1270 
	#XK_G»ek_hÜizb¬
 0x07aà

	)

1271 
	#XK_G»ek_®ph¯cûÁ
 0x07b1

	)

1272 
	#XK_G»ek_•sÚacûÁ
 0x07b2

	)

1273 
	#XK_G»ek_‘¯cûÁ
 0x07b3

	)

1274 
	#XK_G»ek_iÙ¯cûÁ
 0x07b4

	)

1275 
	#XK_G»ek_iÙad›»sis
 0x07b5

	)

1276 
	#XK_G»ek_iÙ¯cûÁd›»sis
 0x07b6

	)

1277 
	#XK_G»ek_omiüÚacûÁ
 0x07b7

	)

1278 
	#XK_G»ek_upsÚacûÁ
 0x07b8

	)

1279 
	#XK_G»ek_upsÚd›»sis
 0x07b9

	)

1280 
	#XK_G»ek_upsÚacûÁd›»sis
 0x07b¨

	)

1281 
	#XK_G»ek_omeg¯cûÁ
 0x07bb

	)

1282 
	#XK_G»ek_ALPHA
 0x07c1

	)

1283 
	#XK_G»ek_BETA
 0x07c2

	)

1284 
	#XK_G»ek_GAMMA
 0x07c3

	)

1285 
	#XK_G»ek_DELTA
 0x07c4

	)

1286 
	#XK_G»ek_EPSILON
 0x07c5

	)

1287 
	#XK_G»ek_ZETA
 0x07c6

	)

1288 
	#XK_G»ek_ETA
 0x07c7

	)

1289 
	#XK_G»ek_THETA
 0x07c8

	)

1290 
	#XK_G»ek_IOTA
 0x07c9

	)

1291 
	#XK_G»ek_KAPPA
 0x07ÿ

	)

1292 
	#XK_G»ek_LAMDA
 0x07cb

	)

1293 
	#XK_G»ek_LAMBDA
 0x07cb

	)

1294 
	#XK_G»ek_MU
 0x07cø

	)

1295 
	#XK_G»ek_NU
 0x07cd

	)

1296 
	#XK_G»ek_XI
 0x07û

	)

1297 
	#XK_G»ek_OMICRON
 0x07cà

	)

1298 
	#XK_G»ek_PI
 0x07d0

	)

1299 
	#XK_G»ek_RHO
 0x07d1

	)

1300 
	#XK_G»ek_SIGMA
 0x07d2

	)

1301 
	#XK_G»ek_TAU
 0x07d4

	)

1302 
	#XK_G»ek_UPSILON
 0x07d5

	)

1303 
	#XK_G»ek_PHI
 0x07d6

	)

1304 
	#XK_G»ek_CHI
 0x07d7

	)

1305 
	#XK_G»ek_PSI
 0x07d8

	)

1306 
	#XK_G»ek_OMEGA
 0x07d9

	)

1307 
	#XK_G»ek_®pha
 0x07e1

	)

1308 
	#XK_G»ek_b‘a
 0x07e2

	)

1309 
	#XK_G»ek_gamma
 0x07e3

	)

1310 
	#XK_G»ek_d–
 0x07e4

	)

1311 
	#XK_G»ek_•sÚ
 0x07e5

	)

1312 
	#XK_G»ek_z‘a
 0x07e6

	)

1313 
	#XK_G»ek_‘a
 0x07e7

	)

1314 
	#XK_G»ek_th‘a
 0x07e8

	)

1315 
	#XK_G»ek_iÙa
 0x07e9

	)

1316 
	#XK_G»ek_k­·
 0x07—

	)

1317 
	#XK_G»ek_Ïmda
 0x07eb

	)

1318 
	#XK_G»ek_Ïmbda
 0x07eb

	)

1319 
	#XK_G»ek_mu
 0x07eø

	)

1320 
	#XK_G»ek_nu
 0x07ed

	)

1321 
	#XK_G»ek_xi
 0x07“

	)

1322 
	#XK_G»ek_omiüÚ
 0x07eà

	)

1323 
	#XK_G»ek_pi
 0x07f0

	)

1324 
	#XK_G»ek_rho
 0x07f1

	)

1325 
	#XK_G»ek_sigma
 0x07f2

	)

1326 
	#XK_G»ek_fš®sm®lsigma
 0x07f3

	)

1327 
	#XK_G»ek_u
 0x07f4

	)

1328 
	#XK_G»ek_upsÚ
 0x07f5

	)

1329 
	#XK_G»ek_phi
 0x07f6

	)

1330 
	#XK_G»ek_chi
 0x07f7

	)

1331 
	#XK_G»ek_psi
 0x07f8

	)

1332 
	#XK_G»ek_omega
 0x07f9

	)

1333 
	#XK_G»ek_sw™ch
 0xff7

	)

1342 #ifdeà
XK_TECHNICAL


1343 
	#XK_Ëá¿diÿl
 0x08a1

	)

1344 
	#XK_tİËá¿diÿl
 0x08a2

	)

1345 
	#XK_hÜizcÚÃùÜ
 0x08a3

	)

1346 
	#XK_tİš‹g¿l
 0x08a4

	)

1347 
	#XK_bÙš‹g¿l
 0x08a5

	)

1348 
	#XK_v”tcÚÃùÜ
 0x08a6

	)

1349 
	#XK_tİËásqb¿ck‘
 0x08a7

	)

1350 
	#XK_bÙËásqb¿ck‘
 0x08a8

	)

1351 
	#XK_tİrightsqb¿ck‘
 0x08a9

	)

1352 
	#XK_bÙrightsqb¿ck‘
 0x08¯

	)

1353 
	#XK_tİËá·»ns
 0x08ab

	)

1354 
	#XK_bÙËá·»ns
 0x08aø

	)

1355 
	#XK_tİrigh¬’s
 0x08ad

	)

1356 
	#XK_bÙrigh¬’s
 0x08«

	)

1357 
	#XK_ËámiddËcu¾yb¿û
 0x08aà

	)

1358 
	#XK_rightmiddËcu¾yb¿û
 0x08b0

	)

1359 
	#XK_tİËásumm©iÚ
 0x08b1

	)

1360 
	#XK_bÙËásumm©iÚ
 0x08b2

	)

1361 
	#XK_tİv”tsumm©iÚcÚÃùÜ
 0x08b3

	)

1362 
	#XK_bÙv”tsumm©iÚcÚÃùÜ
 0x08b4

	)

1363 
	#XK_tİrightsumm©iÚ
 0x08b5

	)

1364 
	#XK_bÙrightsumm©iÚ
 0x08b6

	)

1365 
	#XK_rightmiddËsumm©iÚ
 0x08b7

	)

1366 
	#XK_Ës¡hªequ®
 0x08bø

	)

1367 
	#XK_nÙequ®
 0x08bd

	)

1368 
	#XK_g»©”thªequ®
 0x08b

	)

1369 
	#XK_š‹g¿l
 0x08bà

	)

1370 
	#XK_th”efÜe
 0x08c0

	)

1371 
	#XK_v¬ŸtiÚ
 0x08c1

	)

1372 
	#XK_šfš™y
 0x08c2

	)

1373 
	#XK_ÇbÏ
 0x08c5

	)

1374 
	#XK_­´oxim©e
 0x08c8

	)

1375 
	#XK_sim¬equ®
 0x08c9

	)

1376 
	#XK_ifÚlyif
 0x08cd

	)

1377 
	#XK_im¶›s
 0x08û

	)

1378 
	#XK_id’tiÿl
 0x08cà

	)

1379 
	#XK_¿diÿl
 0x08d6

	)

1380 
	#XK_šşudedš
 0x08d¨

	)

1381 
	#XK_šşudes
 0x08db

	)

1382 
	#XK_š‹r£ùiÚ
 0x08dø

	)

1383 
	#XK_uniÚ
 0x08dd

	)

1384 
	#XK_logiÿÏnd
 0x08d

	)

1385 
	#XK_logiÿlÜ
 0x08dà

	)

1386 
	#XK_·¹Ÿld”iv©ive
 0x08eà

	)

1387 
	#XK_funùiÚ
 0x08f6

	)

1388 
	#XK_Ëá¬row
 0x08fb

	)

1389 
	#XK_u·¼ow
 0x08fø

	)

1390 
	#XK_righ¼ow
 0x08fd

	)

1391 
	#XK_dowÇ¼ow
 0x08ã

	)

1400 #ifdeà
XK_SPECIAL


1401 
	#XK_bÏnk
 0x09df

	)

1402 
	#XK_sŞiddŸmÚd
 0x09e0

	)

1403 
	#XK_check”bßrd
 0x09e1

	)

1404 
	#XK_ht
 0x09e2

	)

1405 
	#XK_ff
 0x09e3

	)

1406 
	#XK_ü
 0x09e4

	)

1407 
	#XK_lf
 0x09e5

	)

1408 
	#XK_Æ
 0x09e8

	)

1409 
	#XK_vt
 0x09e9

	)

1410 
	#XK_lowrightcÜÃr
 0x09—

	)

1411 
	#XK_u´ightcÜÃr
 0x09eb

	)

1412 
	#XK_u¶eácÜÃr
 0x09eø

	)

1413 
	#XK_lowËácÜÃr
 0x09ed

	)

1414 
	#XK_üossšglšes
 0x09“

	)

1415 
	#XK_hÜizlšesÿn1
 0x09eà

	)

1416 
	#XK_hÜizlšesÿn3
 0x09f0

	)

1417 
	#XK_hÜizlšesÿn5
 0x09f1

	)

1418 
	#XK_hÜizlšesÿn7
 0x09f2

	)

1419 
	#XK_hÜizlšesÿn9
 0x09f3

	)

1420 
	#XK_Ëát
 0x09f4

	)

1421 
	#XK_righ‰
 0x09f5

	)

1422 
	#XK_bÙt
 0x09f6

	)

1423 
	#XK_tİt
 0x09f7

	)

1424 
	#XK_v”tb¬
 0x09f8

	)

1434 #ifdeà
XK_PUBLISHING


1435 
	#XK_em¥aû
 0x0¯1

	)

1436 
	#XK_’¥aû
 0x0¯2

	)

1437 
	#XK_em3¥aû
 0x0¯3

	)

1438 
	#XK_em4¥aû
 0x0¯4

	)

1439 
	#XK_dig™¥aû
 0x0¯5

	)

1440 
	#XK_punù¥aû
 0x0¯6

	)

1441 
	#XK_thš¥aû
 0x0¯7

	)

1442 
	#XK_haœ¥aû
 0x0¯8

	)

1443 
	#XK_emdash
 0x0¯9

	)

1444 
	#XK_’dash
 0x0¯¨

	)

1445 
	#XK_signifbÏnk
 0x0¯ø

	)

1446 
	#XK_–lsis
 0x0¯

	)

1447 
	#XK_doubba£lšedÙ
 0x0¯à

	)

1448 
	#XK_Ú‘hœd
 0x0ab0

	)

1449 
	#XK_twÙhœds
 0x0ab1

	)

1450 
	#XK_Úefiáh
 0x0ab2

	)

1451 
	#XK_twofiáhs
 0x0ab3

	)

1452 
	#XK_th»efiáhs
 0x0ab4

	)

1453 
	#XK_fourfiáhs
 0x0ab5

	)

1454 
	#XK_Úesixth
 0x0ab6

	)

1455 
	#XK_fivesixths
 0x0ab7

	)

1456 
	#XK_ÿ»of
 0x0ab8

	)

1457 
	#XK_figdash
 0x0abb

	)

1458 
	#XK_ËáªgËb¿ck‘
 0x0abø

	)

1459 
	#XK_decim®pošt
 0x0abd

	)

1460 
	#XK_righngËb¿ck‘
 0x0ab

	)

1461 
	#XK_m¬k”
 0x0abf

	)

1462 
	#XK_Ú“ighth
 0x0ac3

	)

1463 
	#XK_th»“ighths
 0x0ac4

	)

1464 
	#XK_fiv“ighths
 0x0ac5

	)

1465 
	#XK_£v’eighths
 0x0ac6

	)

1466 
	#XK_Œadem¬k
 0x0ac9

	)

1467 
	#XK_sigÇtu»m¬k
 0x0aÿ

	)

1468 
	#XK_Œadem¬kšcœşe
 0x0acb

	)

1469 
	#XK_Ëáİ’ŒŸngË
 0x0acø

	)

1470 
	#XK_rightİ’ŒŸngË
 0x0acd

	)

1471 
	#XK_emİ’cœşe
 0x0aû

	)

1472 
	#XK_emİ’»ùªgË
 0x0acà

	)

1473 
	#XK_ËásšgËquÙem¬k
 0x0ad0

	)

1474 
	#XK_rightsšgËquÙem¬k
 0x0ad1

	)

1475 
	#XK_ËádoubËquÙem¬k
 0x0ad2

	)

1476 
	#XK_rightdoubËquÙem¬k
 0x0ad3

	)

1477 
	#XK_´esütiÚ
 0x0ad4

	)

1478 
	#XK_³rmË
 0x0ad5

	)

1479 
	#XK_mšu‹s
 0x0ad6

	)

1480 
	#XK_£cÚds
 0x0ad7

	)

1481 
	#XK_Ïtšüoss
 0x0ad9

	)

1482 
	#XK_hexag¿m
 0x0ada

	)

1483 
	#XK_fËd»ùbuÎ‘
 0x0adb

	)

1484 
	#XK_fËdËáŒibuÎ‘
 0x0adø

	)

1485 
	#XK_fËdrigh‰ribuÎ‘
 0x0add

	)

1486 
	#XK_emfËdcœşe
 0x0ad

	)

1487 
	#XK_emfËd»ù
 0x0adà

	)

1488 
	#XK_’İ’cœcbuÎ‘
 0x0«0

	)

1489 
	#XK_’İ’squ¬ebuÎ‘
 0x0«1

	)

1490 
	#XK_İ’»ùbuÎ‘
 0x0«2

	)

1491 
	#XK_İ’ŒibuÎ‘up
 0x0«3

	)

1492 
	#XK_İ’ŒibuÎ‘down
 0x0«4

	)

1493 
	#XK_İ’¡¬
 0x0«5

	)

1494 
	#XK_’fËdcœcbuÎ‘
 0x0«6

	)

1495 
	#XK_’fËdsqbuÎ‘
 0x0«7

	)

1496 
	#XK_fËdŒibuÎ‘up
 0x0«8

	)

1497 
	#XK_fËdŒibuÎ‘down
 0x0«9

	)

1498 
	#XK_Ëápoš‹r
 0x0«¨

	)

1499 
	#XK_righoš‹r
 0x0«b

	)

1500 
	#XK_şub
 0x0«ø

	)

1501 
	#XK_dŸmÚd
 0x0«d

	)

1502 
	#XK_h—¹
 0x0«

	)

1503 
	#XK_m®‹£üoss
 0x0af0

	)

1504 
	#XK_dagg”
 0x0af1

	)

1505 
	#XK_doubËdagg”
 0x0af2

	)

1506 
	#XK_checkm¬k
 0x0af3

	)

1507 
	#XK_b®lÙüoss
 0x0af4

	)

1508 
	#XK_musiÿlsh¬p
 0x0af5

	)

1509 
	#XK_musiÿlæ©
 0x0af6

	)

1510 
	#XK_m®esymbŞ
 0x0af7

	)

1511 
	#XK_ãm®esymbŞ
 0x0af8

	)

1512 
	#XK_‹ËphÚe
 0x0af9

	)

1513 
	#XK_‹ËphÚ”ecÜd”
 0x0aç

	)

1514 
	#XK_phÚog¿phcİyright
 0x0afb

	)

1515 
	#XK_ÿ»t
 0x0afø

	)

1516 
	#XK_sšgËlowquÙem¬k
 0x0afd

	)

1517 
	#XK_doubËlowquÙem¬k
 0x0aã

	)

1518 
	#XK_cursÜ
 0x0aff

	)

1526 #ifdeà
XK_APL


1527 
	#XK_Ëáÿ»t
 0x0ba3

	)

1528 
	#XK_rightÿ»t
 0x0ba6

	)

1529 
	#XK_downÿ»t
 0x0ba8

	)

1530 
	#XK_upÿ»t
 0x0ba9

	)

1531 
	#XK_ov”b¬
 0x0bc0

	)

1532 
	#XK_dowÁack
 0x0bc2

	)

1533 
	#XK_upshÛ
 0x0bc3

	)

1534 
	#XK_down¡e
 0x0bc4

	)

1535 
	#XK_und”b¬
 0x0bc6

	)

1536 
	#XK_jÙ
 0x0bÿ

	)

1537 
	#XK_quad
 0x0bcø

	)

1538 
	#XK_u±ack
 0x0bû

	)

1539 
	#XK_cœşe
 0x0bcà

	)

1540 
	#XK_up¡e
 0x0bd3

	)

1541 
	#XK_downshÛ
 0x0bd6

	)

1542 
	#XK_rightshÛ
 0x0bd8

	)

1543 
	#XK_ËáshÛ
 0x0bd¨

	)

1544 
	#XK_Ëáck
 0x0bdø

	)

1545 
	#XK_righ‰ack
 0x0bfø

	)

1553 #ifdeà
XK_HEBREW


1554 
	#XK_heb»w_doubËlowlše
 0x0cdà

	)

1555 
	#XK_heb»w_®•h
 0x0û0

	)

1556 
	#XK_heb»w_b‘
 0x0û1

	)

1557 
	#XK_heb»w_b‘h
 0x0û1

	)

1558 
	#XK_heb»w_gim–
 0x0û2

	)

1559 
	#XK_heb»w_gimm–
 0x0û2

	)

1560 
	#XK_heb»w_d®‘
 0x0û3

	)

1561 
	#XK_heb»w_d®‘h
 0x0û3

	)

1562 
	#XK_heb»w_he
 0x0û4

	)

1563 
	#XK_heb»w_waw
 0x0û5

	)

1564 
	#XK_heb»w_zaš
 0x0û6

	)

1565 
	#XK_heb»w_zayš
 0x0û6

	)

1566 
	#XK_heb»w_ch‘
 0x0û7

	)

1567 
	#XK_heb»w_h‘
 0x0û7

	)

1568 
	#XK_heb»w_‹t
 0x0û8

	)

1569 
	#XK_heb»w_‹th
 0x0û8

	)

1570 
	#XK_heb»w_yod
 0x0û9

	)

1571 
	#XK_heb»w_fš®k­h
 0x0û¨

	)

1572 
	#XK_heb»w_k­h
 0x0ûb

	)

1573 
	#XK_heb»w_Ïmed
 0x0ûø

	)

1574 
	#XK_heb»w_fš®mem
 0x0ûd

	)

1575 
	#XK_heb»w_mem
 0x0û

	)

1576 
	#XK_heb»w_fš®nun
 0x0ûà

	)

1577 
	#XK_heb»w_nun
 0x0cf0

	)

1578 
	#XK_heb»w_§mech
 0x0cf1

	)

1579 
	#XK_heb»w_§mekh
 0x0cf1

	)

1580 
	#XK_heb»w_ayš
 0x0cf2

	)

1581 
	#XK_heb»w_fš®³
 0x0cf3

	)

1582 
	#XK_heb»w_³
 0x0cf4

	)

1583 
	#XK_heb»w_fš®zade
 0x0cf5

	)

1584 
	#XK_heb»w_fš®zadi
 0x0cf5

	)

1585 
	#XK_heb»w_zade
 0x0cf6

	)

1586 
	#XK_heb»w_zadi
 0x0cf6

	)

1587 
	#XK_heb»w_qİh
 0x0cf7

	)

1588 
	#XK_heb»w_kuf
 0x0cf7

	)

1589 
	#XK_heb»w_»sh
 0x0cf8

	)

1590 
	#XK_heb»w_shš
 0x0cf9

	)

1591 
	#XK_heb»w_w
 0x0cç

	)

1592 
	#XK_heb»w_f
 0x0cç

	)

1593 
	#XK_Heb»w_sw™ch
 0xff7

	)

1601 #ifdeà
XK_THAI


1602 
	#XK_Thai_kokai
 0x0da1

	)

1603 
	#XK_Thai_khokhai
 0x0da2

	)

1604 
	#XK_Thai_khokhu©
 0x0da3

	)

1605 
	#XK_Thai_khokhwai
 0x0da4

	)

1606 
	#XK_Thai_khokhÚ
 0x0da5

	)

1607 
	#XK_Thai_khÜakhªg
 0x0da6

	)

1608 
	#XK_Thai_ngÚgu
 0x0da7

	)

1609 
	#XK_Thai_chochª
 0x0da8

	)

1610 
	#XK_Thai_chochšg
 0x0da9

	)

1611 
	#XK_Thai_chochªg
 0x0d¯

	)

1612 
	#XK_Thai_soso
 0x0dab

	)

1613 
	#XK_Thai_chochÛ
 0x0daø

	)

1614 
	#XK_Thai_yoyšg
 0x0dad

	)

1615 
	#XK_Thai_dochada
 0x0d«

	)

1616 
	#XK_Thai_tİ©ak
 0x0daà

	)

1617 
	#XK_Thai_thÙhª
 0x0db0

	)

1618 
	#XK_Thai_thÚªgmÚtho
 0x0db1

	)

1619 
	#XK_Thai_thİhuthao
 0x0db2

	)

1620 
	#XK_Thai_nÚ’
 0x0db3

	)

1621 
	#XK_Thai_dodek
 0x0db4

	)

1622 
	#XK_Thai_tÙao
 0x0db5

	)

1623 
	#XK_Thai_thÙhung
 0x0db6

	)

1624 
	#XK_Thai_thÙhahª
 0x0db7

	)

1625 
	#XK_Thai_thÙhÚg
 0x0db8

	)

1626 
	#XK_Thai_nÚu
 0x0db9

	)

1627 
	#XK_Thai_bobaimai
 0x0db¨

	)

1628 
	#XK_Thai_pİÏ
 0x0dbb

	)

1629 
	#XK_Thai_phİhung
 0x0dbø

	)

1630 
	#XK_Thai_foç
 0x0dbd

	)

1631 
	#XK_Thai_phİhª
 0x0db

	)

1632 
	#XK_Thai_foçn
 0x0dbà

	)

1633 
	#XK_Thai_pho§mphao
 0x0dc0

	)

1634 
	#XK_Thai_moma
 0x0dc1

	)

1635 
	#XK_Thai_yoyak
 0x0dc2

	)

1636 
	#XK_Thai_rÜua
 0x0dc3

	)

1637 
	#XK_Thai_ru
 0x0dc4

	)

1638 
	#XK_Thai_lŞšg
 0x0dc5

	)

1639 
	#XK_Thai_lu
 0x0dc6

	)

1640 
	#XK_Thai_wow«n
 0x0dc7

	)

1641 
	#XK_Thai_so§Ï
 0x0dc8

	)

1642 
	#XK_Thai_sÜusi
 0x0dc9

	)

1643 
	#XK_Thai_sosua
 0x0dÿ

	)

1644 
	#XK_Thai_hoh
 0x0dcb

	)

1645 
	#XK_Thai_lochuÏ
 0x0dcø

	)

1646 
	#XK_Thai_ßng
 0x0dcd

	)

1647 
	#XK_Thai_hÚokhuk
 0x0dû

	)

1648 
	#XK_Thai_·iyªnoi
 0x0dcà

	)

1649 
	#XK_Thai_§¿a
 0x0dd0

	)

1650 
	#XK_Thai_maihªak©
 0x0dd1

	)

1651 
	#XK_Thai_§¿¯
 0x0dd2

	)

1652 
	#XK_Thai_§¿am
 0x0dd3

	)

1653 
	#XK_Thai_§¿i
 0x0dd4

	)

1654 
	#XK_Thai_§¿ii
 0x0dd5

	)

1655 
	#XK_Thai_§¿ue
 0x0dd6

	)

1656 
	#XK_Thai_§¿u“
 0x0dd7

	)

1657 
	#XK_Thai_§¿u
 0x0dd8

	)

1658 
	#XK_Thai_§¿uu
 0x0dd9

	)

1659 
	#XK_Thai_phšthu
 0x0dd¨

	)

1660 
	#XK_Thai_maihªak©_ma™ho
 0x0dde

	)

1661 
	#XK_Thai_baht
 0x0ddà

	)

1662 
	#XK_Thai_§¿e
 0x0de0

	)

1663 
	#XK_Thai_§¿«
 0x0de1

	)

1664 
	#XK_Thai_§¿o
 0x0de2

	)

1665 
	#XK_Thai_§¿aimaimuª
 0x0de3

	)

1666 
	#XK_Thai_§¿aimaim®ai
 0x0de4

	)

1667 
	#XK_Thai_Ïkkhªgyao
 0x0de5

	)

1668 
	#XK_Thai_maiyamok
 0x0de6

	)

1669 
	#XK_Thai_ma™aikhu
 0x0de7

	)

1670 
	#XK_Thai_ma›k
 0x0de8

	)

1671 
	#XK_Thai_ma™ho
 0x0de9

	)

1672 
	#XK_Thai_ma™ri
 0x0d—

	)

1673 
	#XK_Thai_maich©wa
 0x0deb

	)

1674 
	#XK_Thai_thªthakh©
 0x0deø

	)

1675 
	#XK_Thai_nikhah™
 0x0ded

	)

1676 
	#XK_Thai_Ëksun
 0x0df0

	)

1677 
	#XK_Thai_Ëknung
 0x0df1

	)

1678 
	#XK_Thai_ËksÚg
 0x0df2

	)

1679 
	#XK_Thai_Ëk§m
 0x0df3

	)

1680 
	#XK_Thai_Ëksi
 0x0df4

	)

1681 
	#XK_Thai_Ëkha
 0x0df5

	)

1682 
	#XK_Thai_Ëkhok
 0x0df6

	)

1683 
	#XK_Thai_Ëkch‘
 0x0df7

	)

1684 
	#XK_Thai_Ëk·‘
 0x0df8

	)

1685 
	#XK_Thai_Ëkkao
 0x0df9

	)

1693 #ifdeà
XK_KOREAN


1695 
	#XK_Hªgul
 0xff31

	)

1696 
	#XK_Hªgul_S¹
 0xff32

	)

1697 
	#XK_Hªgul_End
 0xff33

	)

1698 
	#XK_Hªgul_Hªja
 0xff34

	)

1699 
	#XK_Hªgul_Jamo
 0xff35

	)

1700 
	#XK_Hªgul_Romaja
 0xff36

	)

1701 
	#XK_Hªgul_Codešput
 0xff37

	)

1702 
	#XK_Hªgul_JeÚja
 0xff38

	)

1703 
	#XK_Hªgul_Bªja
 0xff39

	)

1704 
	#XK_Hªgul_P»Hªja
 0xff3¨

	)

1705 
	#XK_Hªgul_Po¡Hªja
 0xff3b

	)

1706 
	#XK_Hªgul_SšgËCªdid©e
 0xff3ø

	)

1707 
	#XK_Hªgul_MuÉËCªdid©e
 0xff3d

	)

1708 
	#XK_Hªgul_P»viousCªdid©e
 0xff3

	)

1709 
	#XK_Hªgul_S³cŸl
 0xff3à

	)

1710 
	#XK_Hªgul_sw™ch
 0xff7

	)

1713 
	#XK_Hªgul_Kiyeog
 0x0—1

	)

1714 
	#XK_Hªgul_S§ngKiyeog
 0x0—2

	)

1715 
	#XK_Hªgul_KiyeogSios
 0x0—3

	)

1716 
	#XK_Hªgul_N›un
 0x0—4

	)

1717 
	#XK_Hªgul_N›unJ›uj
 0x0—5

	)

1718 
	#XK_Hªgul_N›unH›uh
 0x0—6

	)

1719 
	#XK_Hªgul_Dikeud
 0x0—7

	)

1720 
	#XK_Hªgul_S§ngDikeud
 0x0—8

	)

1721 
	#XK_Hªgul_R›ul
 0x0—9

	)

1722 
	#XK_Hªgul_R›ulKiyeog
 0x0—a

	)

1723 
	#XK_Hªgul_R›ulM›um
 0x0—b

	)

1724 
	#XK_Hªgul_R›ulP›ub
 0x0—c

	)

1725 
	#XK_Hªgul_R›ulSios
 0x0—d

	)

1726 
	#XK_Hªgul_R›ulT›ut
 0x0—e

	)

1727 
	#XK_Hªgul_R›ulPh›uf
 0x0—f

	)

1728 
	#XK_Hªgul_R›ulH›uh
 0x0eb0

	)

1729 
	#XK_Hªgul_M›um
 0x0eb1

	)

1730 
	#XK_Hªgul_P›ub
 0x0eb2

	)

1731 
	#XK_Hªgul_S§ngP›ub
 0x0eb3

	)

1732 
	#XK_Hªgul_P›ubSios
 0x0eb4

	)

1733 
	#XK_Hªgul_Sios
 0x0eb5

	)

1734 
	#XK_Hªgul_S§ngSios
 0x0eb6

	)

1735 
	#XK_Hªgul_Ieung
 0x0eb7

	)

1736 
	#XK_Hªgul_J›uj
 0x0eb8

	)

1737 
	#XK_Hªgul_S§ngJ›uj
 0x0eb9

	)

1738 
	#XK_Hªgul_C›uc
 0x0eba

	)

1739 
	#XK_Hªgul_Kh›uq
 0x0ebb

	)

1740 
	#XK_Hªgul_T›ut
 0x0ebc

	)

1741 
	#XK_Hªgul_Ph›uf
 0x0ebd

	)

1742 
	#XK_Hªgul_H›uh
 0x0ebe

	)

1745 
	#XK_Hªgul_A
 0x0ebf

	)

1746 
	#XK_Hªgul_AE
 0x0ec0

	)

1747 
	#XK_Hªgul_YA
 0x0ec1

	)

1748 
	#XK_Hªgul_YAE
 0x0ec2

	)

1749 
	#XK_Hªgul_EO
 0x0ec3

	)

1750 
	#XK_Hªgul_E
 0x0ec4

	)

1751 
	#XK_Hªgul_YEO
 0x0ec5

	)

1752 
	#XK_Hªgul_YE
 0x0ec6

	)

1753 
	#XK_Hªgul_O
 0x0ec7

	)

1754 
	#XK_Hªgul_WA
 0x0ec8

	)

1755 
	#XK_Hªgul_WAE
 0x0ec9

	)

1756 
	#XK_Hªgul_OE
 0x0eÿ

	)

1757 
	#XK_Hªgul_YO
 0x0ecb

	)

1758 
	#XK_Hªgul_U
 0x0ecc

	)

1759 
	#XK_Hªgul_WEO
 0x0ecd

	)

1760 
	#XK_Hªgul_WE
 0x0eû

	)

1761 
	#XK_Hªgul_WI
 0x0ecf

	)

1762 
	#XK_Hªgul_YU
 0x0ed0

	)

1763 
	#XK_Hªgul_EU
 0x0ed1

	)

1764 
	#XK_Hªgul_YI
 0x0ed2

	)

1765 
	#XK_Hªgul_I
 0x0ed3

	)

1768 
	#XK_Hªgul_J_Kiyeog
 0x0ed4

	)

1769 
	#XK_Hªgul_J_S§ngKiyeog
 0x0ed5

	)

1770 
	#XK_Hªgul_J_KiyeogSios
 0x0ed6

	)

1771 
	#XK_Hªgul_J_N›un
 0x0ed7

	)

1772 
	#XK_Hªgul_J_N›unJ›uj
 0x0ed8

	)

1773 
	#XK_Hªgul_J_N›unH›uh
 0x0ed9

	)

1774 
	#XK_Hªgul_J_Dikeud
 0x0eda

	)

1775 
	#XK_Hªgul_J_R›ul
 0x0edb

	)

1776 
	#XK_Hªgul_J_R›ulKiyeog
 0x0edc

	)

1777 
	#XK_Hªgul_J_R›ulM›um
 0x0edd

	)

1778 
	#XK_Hªgul_J_R›ulP›ub
 0x0ede

	)

1779 
	#XK_Hªgul_J_R›ulSios
 0x0edf

	)

1780 
	#XK_Hªgul_J_R›ulT›ut
 0x0“0

	)

1781 
	#XK_Hªgul_J_R›ulPh›uf
 0x0“1

	)

1782 
	#XK_Hªgul_J_R›ulH›uh
 0x0“2

	)

1783 
	#XK_Hªgul_J_M›um
 0x0“3

	)

1784 
	#XK_Hªgul_J_P›ub
 0x0“4

	)

1785 
	#XK_Hªgul_J_P›ubSios
 0x0“5

	)

1786 
	#XK_Hªgul_J_Sios
 0x0“6

	)

1787 
	#XK_Hªgul_J_S§ngSios
 0x0“7

	)

1788 
	#XK_Hªgul_J_Ieung
 0x0“8

	)

1789 
	#XK_Hªgul_J_J›uj
 0x0“9

	)

1790 
	#XK_Hªgul_J_C›uc
 0x0“a

	)

1791 
	#XK_Hªgul_J_Kh›uq
 0x0“b

	)

1792 
	#XK_Hªgul_J_T›ut
 0x0“c

	)

1793 
	#XK_Hªgul_J_Ph›uf
 0x0“d

	)

1794 
	#XK_Hªgul_J_H›uh
 0x0“e

	)

1797 
	#XK_Hªgul_R›ulYeÜšH›uh
 0x0“f

	)

1798 
	#XK_Hªgul_SunkyeÚgeumM›um
 0x0ef0

	)

1799 
	#XK_Hªgul_SunkyeÚgeumP›ub
 0x0ef1

	)

1800 
	#XK_Hªgul_PªSios
 0x0ef2

	)

1801 
	#XK_Hªgul_KkogjiD®ršIeung
 0x0ef3

	)

1802 
	#XK_Hªgul_SunkyeÚgeumPh›uf
 0x0ef4

	)

1803 
	#XK_Hªgul_YeÜšH›uh
 0x0ef5

	)

1806 
	#XK_Hªgul_A¿eA
 0x0ef6

	)

1807 
	#XK_Hªgul_A¿eAE
 0x0ef7

	)

1810 
	#XK_Hªgul_J_PªSios
 0x0ef8

	)

1811 
	#XK_Hªgul_J_KkogjiD®ršIeung
 0x0ef9

	)

1812 
	#XK_Hªgul_J_YeÜšH›uh
 0x0eç

	)

1815 
	#XK_KÜ—n_WÚ
 0x0efà

	)

1823 #ifdeà
XK_ARMENIAN


1824 
	#XK_Arm’Ÿn_lig©u»_ew
 0x1000587

	)

1825 
	#XK_Arm’Ÿn_fuÎ_¡İ
 0x1000589

	)

1826 
	#XK_Arm’Ÿn_v”jak‘
 0x1000589

	)

1827 
	#XK_Arm’Ÿn_£·¿tiÚ_m¬k
 0x100055d

	)

1828 
	#XK_Arm’Ÿn_but
 0x100055d

	)

1829 
	#XK_Arm’Ÿn_hyph’
 0x100058¨

	)

1830 
	#XK_Arm’Ÿn_y’mÇ
 0x100058¨

	)

1831 
	#XK_Arm’Ÿn_exşam
 0x100055ø

	)

1832 
	#XK_Arm’Ÿn_amªak
 0x100055ø

	)

1833 
	#XK_Arm’Ÿn_acûÁ
 0x100055b

	)

1834 
	#XK_Arm’Ÿn_shesht
 0x100055b

	)

1835 
	#XK_Arm’Ÿn_que¡iÚ
 0x100055

	)

1836 
	#XK_Arm’Ÿn_·ruyk
 0x100055

	)

1837 
	#XK_Arm’Ÿn_AYB
 0x1000531

	)

1838 
	#XK_Arm’Ÿn_ayb
 0x1000561

	)

1839 
	#XK_Arm’Ÿn_BEN
 0x1000532

	)

1840 
	#XK_Arm’Ÿn_b’
 0x1000562

	)

1841 
	#XK_Arm’Ÿn_GIM
 0x1000533

	)

1842 
	#XK_Arm’Ÿn_gim
 0x1000563

	)

1843 
	#XK_Arm’Ÿn_DA
 0x1000534

	)

1844 
	#XK_Arm’Ÿn_da
 0x1000564

	)

1845 
	#XK_Arm’Ÿn_YECH
 0x1000535

	)

1846 
	#XK_Arm’Ÿn_yech
 0x1000565

	)

1847 
	#XK_Arm’Ÿn_ZA
 0x1000536

	)

1848 
	#XK_Arm’Ÿn_za
 0x1000566

	)

1849 
	#XK_Arm’Ÿn_E
 0x1000537

	)

1850 
	#XK_Arm’Ÿn_e
 0x1000567

	)

1851 
	#XK_Arm’Ÿn_AT
 0x1000538

	)

1852 
	#XK_Arm’Ÿn_©
 0x1000568

	)

1853 
	#XK_Arm’Ÿn_TO
 0x1000539

	)

1854 
	#XK_Arm’Ÿn_to
 0x1000569

	)

1855 
	#XK_Arm’Ÿn_ZHE
 0x100053¨

	)

1856 
	#XK_Arm’Ÿn_zhe
 0x100056¨

	)

1857 
	#XK_Arm’Ÿn_INI
 0x100053b

	)

1858 
	#XK_Arm’Ÿn_ši
 0x100056b

	)

1859 
	#XK_Arm’Ÿn_LYUN
 0x100053ø

	)

1860 
	#XK_Arm’Ÿn_lyun
 0x100056ø

	)

1861 
	#XK_Arm’Ÿn_KHE
 0x100053d

	)

1862 
	#XK_Arm’Ÿn_khe
 0x100056d

	)

1863 
	#XK_Arm’Ÿn_TSA
 0x100053

	)

1864 
	#XK_Arm’Ÿn_t§
 0x100056

	)

1865 
	#XK_Arm’Ÿn_KEN
 0x100053à

	)

1866 
	#XK_Arm’Ÿn_k’
 0x100056à

	)

1867 
	#XK_Arm’Ÿn_HO
 0x1000540

	)

1868 
	#XK_Arm’Ÿn_ho
 0x1000570

	)

1869 
	#XK_Arm’Ÿn_DZA
 0x1000541

	)

1870 
	#XK_Arm’Ÿn_dza
 0x1000571

	)

1871 
	#XK_Arm’Ÿn_GHAT
 0x1000542

	)

1872 
	#XK_Arm’Ÿn_gh©
 0x1000572

	)

1873 
	#XK_Arm’Ÿn_TCHE
 0x1000543

	)

1874 
	#XK_Arm’Ÿn_tche
 0x1000573

	)

1875 
	#XK_Arm’Ÿn_MEN
 0x1000544

	)

1876 
	#XK_Arm’Ÿn_m’
 0x1000574

	)

1877 
	#XK_Arm’Ÿn_HI
 0x1000545

	)

1878 
	#XK_Arm’Ÿn_hi
 0x1000575

	)

1879 
	#XK_Arm’Ÿn_NU
 0x1000546

	)

1880 
	#XK_Arm’Ÿn_nu
 0x1000576

	)

1881 
	#XK_Arm’Ÿn_SHA
 0x1000547

	)

1882 
	#XK_Arm’Ÿn_sha
 0x1000577

	)

1883 
	#XK_Arm’Ÿn_VO
 0x1000548

	)

1884 
	#XK_Arm’Ÿn_vo
 0x1000578

	)

1885 
	#XK_Arm’Ÿn_CHA
 0x1000549

	)

1886 
	#XK_Arm’Ÿn_cha
 0x1000579

	)

1887 
	#XK_Arm’Ÿn_PE
 0x100054¨

	)

1888 
	#XK_Arm’Ÿn_³
 0x100057¨

	)

1889 
	#XK_Arm’Ÿn_JE
 0x100054b

	)

1890 
	#XK_Arm’Ÿn_je
 0x100057b

	)

1891 
	#XK_Arm’Ÿn_RA
 0x100054ø

	)

1892 
	#XK_Arm’Ÿn_¿
 0x100057ø

	)

1893 
	#XK_Arm’Ÿn_SE
 0x100054d

	)

1894 
	#XK_Arm’Ÿn_£
 0x100057d

	)

1895 
	#XK_Arm’Ÿn_VEV
 0x100054

	)

1896 
	#XK_Arm’Ÿn_vev
 0x100057

	)

1897 
	#XK_Arm’Ÿn_TYUN
 0x100054à

	)

1898 
	#XK_Arm’Ÿn_tyun
 0x100057à

	)

1899 
	#XK_Arm’Ÿn_RE
 0x1000550

	)

1900 
	#XK_Arm’Ÿn_»
 0x1000580

	)

1901 
	#XK_Arm’Ÿn_TSO
 0x1000551

	)

1902 
	#XK_Arm’Ÿn_tso
 0x1000581

	)

1903 
	#XK_Arm’Ÿn_VYUN
 0x1000552

	)

1904 
	#XK_Arm’Ÿn_vyun
 0x1000582

	)

1905 
	#XK_Arm’Ÿn_PYUR
 0x1000553

	)

1906 
	#XK_Arm’Ÿn_pyur
 0x1000583

	)

1907 
	#XK_Arm’Ÿn_KE
 0x1000554

	)

1908 
	#XK_Arm’Ÿn_ke
 0x1000584

	)

1909 
	#XK_Arm’Ÿn_O
 0x1000555

	)

1910 
	#XK_Arm’Ÿn_o
 0x1000585

	)

1911 
	#XK_Arm’Ÿn_FE
 0x1000556

	)

1912 
	#XK_Arm’Ÿn_ã
 0x1000586

	)

1913 
	#XK_Arm’Ÿn_­o¡rİhe
 0x100055¨

	)

1920 #ifdeà
XK_GEORGIAN


1921 
	#XK_GeÜgŸn_ª
 0x10010d0

	)

1922 
	#XK_GeÜgŸn_bª
 0x10010d1

	)

1923 
	#XK_GeÜgŸn_gª
 0x10010d2

	)

1924 
	#XK_GeÜgŸn_dÚ
 0x10010d3

	)

1925 
	#XK_GeÜgŸn_’
 0x10010d4

	)

1926 
	#XK_GeÜgŸn_vš
 0x10010d5

	)

1927 
	#XK_GeÜgŸn_z’
 0x10010d6

	)

1928 
	#XK_GeÜgŸn_n
 0x10010d7

	)

1929 
	#XK_GeÜgŸn_š
 0x10010d8

	)

1930 
	#XK_GeÜgŸn_kª
 0x10010d9

	)

1931 
	#XK_GeÜgŸn_Ïs
 0x10010d¨

	)

1932 
	#XK_GeÜgŸn_mª
 0x10010db

	)

1933 
	#XK_GeÜgŸn_Çr
 0x10010dø

	)

1934 
	#XK_GeÜgŸn_Ú
 0x10010dd

	)

1935 
	#XK_GeÜgŸn_·r
 0x10010d

	)

1936 
	#XK_GeÜgŸn_zh¬
 0x10010dà

	)

1937 
	#XK_GeÜgŸn_¿e
 0x10010e0

	)

1938 
	#XK_GeÜgŸn_§n
 0x10010e1

	)

1939 
	#XK_GeÜgŸn_r
 0x10010e2

	)

1940 
	#XK_GeÜgŸn_un
 0x10010e3

	)

1941 
	#XK_GeÜgŸn_ph¬
 0x10010e4

	)

1942 
	#XK_GeÜgŸn_kh¬
 0x10010e5

	)

1943 
	#XK_GeÜgŸn_ghª
 0x10010e6

	)

1944 
	#XK_GeÜgŸn_q¬
 0x10010e7

	)

1945 
	#XK_GeÜgŸn_shš
 0x10010e8

	)

1946 
	#XK_GeÜgŸn_chš
 0x10010e9

	)

1947 
	#XK_GeÜgŸn_ÿn
 0x10010—

	)

1948 
	#XK_GeÜgŸn_j
 0x10010eb

	)

1949 
	#XK_GeÜgŸn_c
 0x10010eø

	)

1950 
	#XK_GeÜgŸn_ch¬
 0x10010ed

	)

1951 
	#XK_GeÜgŸn_xª
 0x10010“

	)

1952 
	#XK_GeÜgŸn_jhª
 0x10010eà

	)

1953 
	#XK_GeÜgŸn_h«
 0x10010f0

	)

1954 
	#XK_GeÜgŸn_he
 0x10010f1

	)

1955 
	#XK_GeÜgŸn_h›
 0x10010f2

	)

1956 
	#XK_GeÜgŸn_we
 0x10010f3

	)

1957 
	#XK_GeÜgŸn_h¬
 0x10010f4

	)

1958 
	#XK_GeÜgŸn_hÛ
 0x10010f5

	)

1959 
	#XK_GeÜgŸn_fi
 0x10010f6

	)

1966 #ifdeà
XK_CAUCASUS


1968 
	#XK_XabovedÙ
 0x1001e8¨

	)

1969 
	#XK_Ib»ve
 0x100012ø

	)

1970 
	#XK_Z¡roke
 0x10001b5

	)

1971 
	#XK_GÿrÚ
 0x10001e6

	)

1972 
	#XK_OÿrÚ
 0x10001d1

	)

1973 
	#XK_Ob¬»d
 0x100019à

	)

1974 
	#XK_xabovedÙ
 0x1001e8b

	)

1975 
	#XK_ib»ve
 0x100012d

	)

1976 
	#XK_z¡roke
 0x10001b6

	)

1977 
	#XK_gÿrÚ
 0x10001e7

	)

1978 
	#XK_oÿrÚ
 0x10001d2

	)

1979 
	#XK_ob¬»d
 0x1000275

	)

1980 
	#XK_SCHWA
 0x100018à

	)

1981 
	#XK_schwa
 0x1000259

	)

1982 
	#XK_EZH
 0x10001b7

	)

1983 
	#XK_ezh
 0x1000292

	)

1986 
	#XK_Lb–owdÙ
 0x1001e36

	)

1987 
	#XK_lb–owdÙ
 0x1001e37

	)

1994 #ifdeà
XK_VIETNAMESE


1995 
	#XK_Ab–owdÙ
 0x1001—0

	)

1996 
	#XK_ab–owdÙ
 0x1001—1

	)

1997 
	#XK_Ahook
 0x1001—2

	)

1998 
	#XK_ahook
 0x1001—3

	)

1999 
	#XK_Acœcumæexacu‹
 0x1001—4

	)

2000 
	#XK_acœcumæexacu‹
 0x1001—5

	)

2001 
	#XK_Acœcumæexg¿ve
 0x1001—6

	)

2002 
	#XK_acœcumæexg¿ve
 0x1001—7

	)

2003 
	#XK_Acœcumæexhook
 0x1001—8

	)

2004 
	#XK_acœcumæexhook
 0x1001—9

	)

2005 
	#XK_Acœcumæextde
 0x1001—¨

	)

2006 
	#XK_acœcumæextde
 0x1001—b

	)

2007 
	#XK_Acœcumæexb–owdÙ
 0x1001—ø

	)

2008 
	#XK_acœcumæexb–owdÙ
 0x1001—d

	)

2009 
	#XK_Ab»v—cu‹
 0x1001—

	)

2010 
	#XK_ab»v—cu‹
 0x1001—à

	)

2011 
	#XK_Ab»veg¿ve
 0x1001eb0

	)

2012 
	#XK_ab»veg¿ve
 0x1001eb1

	)

2013 
	#XK_Ab»vehook
 0x1001eb2

	)

2014 
	#XK_ab»vehook
 0x1001eb3

	)

2015 
	#XK_Ab»v‘de
 0x1001eb4

	)

2016 
	#XK_ab»v‘de
 0x1001eb5

	)

2017 
	#XK_Ab»veb–owdÙ
 0x1001eb6

	)

2018 
	#XK_ab»veb–owdÙ
 0x1001eb7

	)

2019 
	#XK_Eb–owdÙ
 0x1001eb8

	)

2020 
	#XK_eb–owdÙ
 0x1001eb9

	)

2021 
	#XK_Ehook
 0x1001eb¨

	)

2022 
	#XK_ehook
 0x1001ebb

	)

2023 
	#XK_Etde
 0x1001ebø

	)

2024 
	#XK_‘de
 0x1001ebd

	)

2025 
	#XK_Ecœcumæexacu‹
 0x1001eb

	)

2026 
	#XK_ecœcumæexacu‹
 0x1001ebà

	)

2027 
	#XK_Ecœcumæexg¿ve
 0x1001ec0

	)

2028 
	#XK_ecœcumæexg¿ve
 0x1001ec1

	)

2029 
	#XK_Ecœcumæexhook
 0x1001ec2

	)

2030 
	#XK_ecœcumæexhook
 0x1001ec3

	)

2031 
	#XK_Ecœcumæextde
 0x1001ec4

	)

2032 
	#XK_ecœcumæextde
 0x1001ec5

	)

2033 
	#XK_Ecœcumæexb–owdÙ
 0x1001ec6

	)

2034 
	#XK_ecœcumæexb–owdÙ
 0x1001ec7

	)

2035 
	#XK_Ihook
 0x1001ec8

	)

2036 
	#XK_ihook
 0x1001ec9

	)

2037 
	#XK_Ib–owdÙ
 0x1001eÿ

	)

2038 
	#XK_ib–owdÙ
 0x1001ecb

	)

2039 
	#XK_Ob–owdÙ
 0x1001ecø

	)

2040 
	#XK_ob–owdÙ
 0x1001ecd

	)

2041 
	#XK_Ohook
 0x1001eû

	)

2042 
	#XK_ohook
 0x1001ecà

	)

2043 
	#XK_Ocœcumæexacu‹
 0x1001ed0

	)

2044 
	#XK_ocœcumæexacu‹
 0x1001ed1

	)

2045 
	#XK_Ocœcumæexg¿ve
 0x1001ed2

	)

2046 
	#XK_ocœcumæexg¿ve
 0x1001ed3

	)

2047 
	#XK_Ocœcumæexhook
 0x1001ed4

	)

2048 
	#XK_ocœcumæexhook
 0x1001ed5

	)

2049 
	#XK_Ocœcumæextde
 0x1001ed6

	)

2050 
	#XK_ocœcumæextde
 0x1001ed7

	)

2051 
	#XK_Ocœcumæexb–owdÙ
 0x1001ed8

	)

2052 
	#XK_ocœcumæexb–owdÙ
 0x1001ed9

	)

2053 
	#XK_OhÜÇcu‹
 0x1001ed¨

	)

2054 
	#XK_ohÜÇcu‹
 0x1001edb

	)

2055 
	#XK_OhÜng¿ve
 0x1001edø

	)

2056 
	#XK_ohÜng¿ve
 0x1001edd

	)

2057 
	#XK_OhÜnhook
 0x1001ed

	)

2058 
	#XK_ohÜnhook
 0x1001edà

	)

2059 
	#XK_OhÜÁde
 0x1001“0

	)

2060 
	#XK_ohÜÁde
 0x1001“1

	)

2061 
	#XK_OhÜnb–owdÙ
 0x1001“2

	)

2062 
	#XK_ohÜnb–owdÙ
 0x1001“3

	)

2063 
	#XK_Ub–owdÙ
 0x1001“4

	)

2064 
	#XK_ub–owdÙ
 0x1001“5

	)

2065 
	#XK_Uhook
 0x1001“6

	)

2066 
	#XK_uhook
 0x1001“7

	)

2067 
	#XK_UhÜÇcu‹
 0x1001“8

	)

2068 
	#XK_uhÜÇcu‹
 0x1001“9

	)

2069 
	#XK_UhÜng¿ve
 0x1001“¨

	)

2070 
	#XK_uhÜng¿ve
 0x1001“b

	)

2071 
	#XK_UhÜnhook
 0x1001“ø

	)

2072 
	#XK_uhÜnhook
 0x1001“d

	)

2073 
	#XK_UhÜÁde
 0x1001“

	)

2074 
	#XK_uhÜÁde
 0x1001“à

	)

2075 
	#XK_UhÜnb–owdÙ
 0x1001ef0

	)

2076 
	#XK_uhÜnb–owdÙ
 0x1001ef1

	)

2077 
	#XK_Yb–owdÙ
 0x1001ef4

	)

2078 
	#XK_yb–owdÙ
 0x1001ef5

	)

2079 
	#XK_Yhook
 0x1001ef6

	)

2080 
	#XK_yhook
 0x1001ef7

	)

2081 
	#XK_Ytde
 0x1001ef8

	)

2082 
	#XK_ytde
 0x1001ef9

	)

2083 
	#XK_OhÜn
 0x10001a0

	)

2084 
	#XK_ohÜn
 0x10001a1

	)

2085 
	#XK_UhÜn
 0x10001aà

	)

2086 
	#XK_uhÜn
 0x10001b0

	)

2090 #ifdeà
XK_CURRENCY


2091 
	#XK_EcuSign
 0x10020a0

	)

2092 
	#XK_CŞÚSign
 0x10020a1

	)

2093 
	#XK_CruzeœoSign
 0x10020a2

	)

2094 
	#XK_FF¿ncSign
 0x10020a3

	)

2095 
	#XK_LœaSign
 0x10020a4

	)

2096 
	#XK_MlSign
 0x10020a5

	)

2097 
	#XK_NaœaSign
 0x10020a6

	)

2098 
	#XK_Pe£Sign
 0x10020a7

	)

2099 
	#XK_Ru³eSign
 0x10020a8

	)

2100 
	#XK_WÚSign
 0x10020a9

	)

2101 
	#XK_NewSheq–Sign
 0x10020¯

	)

2102 
	#XK_DÚgSign
 0x10020ab

	)

2103 
	#XK_EuroSign
 0x20aø

	)

2106 #ifdeà
XK_MATHEMATICAL


2108 
	#XK_z”osu³riÜ
 0x1002070

	)

2109 
	#XK_foursu³riÜ
 0x1002074

	)

2110 
	#XK_fivesu³riÜ
 0x1002075

	)

2111 
	#XK_sixsu³riÜ
 0x1002076

	)

2112 
	#XK_£v’su³riÜ
 0x1002077

	)

2113 
	#XK_eightsu³riÜ
 0x1002078

	)

2114 
	#XK_nšesu³riÜ
 0x1002079

	)

2115 
	#XK_z”osubsüt
 0x1002080

	)

2116 
	#XK_Úesubsüt
 0x1002081

	)

2117 
	#XK_twosubsüt
 0x1002082

	)

2118 
	#XK_th»esubsüt
 0x1002083

	)

2119 
	#XK_foursubsüt
 0x1002084

	)

2120 
	#XK_fivesubsüt
 0x1002085

	)

2121 
	#XK_sixsubsüt
 0x1002086

	)

2122 
	#XK_£v’subsüt
 0x1002087

	)

2123 
	#XK_eightsubsüt
 0x1002088

	)

2124 
	#XK_nšesubsüt
 0x1002089

	)

2125 
	#XK_·¹difã»ÁŸl
 0x1002202

	)

2126 
	#XK_em±y£t
 0x1002205

	)

2127 
	#XK_–em’tof
 0x1002208

	)

2128 
	#XK_nÙ–em’tof
 0x1002209

	)

2129 
	#XK_cÚš§s
 0x100220B

	)

2130 
	#XK_squ¬”oÙ
 0x100221A

	)

2131 
	#XK_cub”oÙ
 0x100221B

	)

2132 
	#XK_fou¹hroÙ
 0x100221C

	)

2133 
	#XK_dš‹g¿l
 0x100222C

	)

2134 
	#XK_tš‹g¿l
 0x100222D

	)

2135 
	#XK_beÿu£
 0x1002235

	)

2136 
	#XK_­´oxeq
 0x1002248

	)

2137 
	#XK_nÙ­´oxeq
 0x1002247

	)

2138 
	#XK_nÙid’tiÿl
 0x1002262

	)

2139 
	#XK_¡riùeq
 0x1002263

	)

2142 #ifdeà
XK_BRAILLE


2143 
	#XK_b¿Ë_dÙ_1
 0xfff1

	)

2144 
	#XK_b¿Ë_dÙ_2
 0xfff2

	)

2145 
	#XK_b¿Ë_dÙ_3
 0xfff3

	)

2146 
	#XK_b¿Ë_dÙ_4
 0xfff4

	)

2147 
	#XK_b¿Ë_dÙ_5
 0xfff5

	)

2148 
	#XK_b¿Ë_dÙ_6
 0xfff6

	)

2149 
	#XK_b¿Ë_dÙ_7
 0xfff7

	)

2150 
	#XK_b¿Ë_dÙ_8
 0xfff8

	)

2151 
	#XK_b¿Ë_dÙ_9
 0xfff9

	)

2152 
	#XK_b¿Ë_dÙ_10
 0xffç

	)

2153 
	#XK_b¿Ë_bÏnk
 0x1002800

	)

2154 
	#XK_b¿Ë_dÙs_1
 0x1002801

	)

2155 
	#XK_b¿Ë_dÙs_2
 0x1002802

	)

2156 
	#XK_b¿Ë_dÙs_12
 0x1002803

	)

2157 
	#XK_b¿Ë_dÙs_3
 0x1002804

	)

2158 
	#XK_b¿Ë_dÙs_13
 0x1002805

	)

2159 
	#XK_b¿Ë_dÙs_23
 0x1002806

	)

2160 
	#XK_b¿Ë_dÙs_123
 0x1002807

	)

2161 
	#XK_b¿Ë_dÙs_4
 0x1002808

	)

2162 
	#XK_b¿Ë_dÙs_14
 0x1002809

	)

2163 
	#XK_b¿Ë_dÙs_24
 0x100280¨

	)

2164 
	#XK_b¿Ë_dÙs_124
 0x100280b

	)

2165 
	#XK_b¿Ë_dÙs_34
 0x100280ø

	)

2166 
	#XK_b¿Ë_dÙs_134
 0x100280d

	)

2167 
	#XK_b¿Ë_dÙs_234
 0x100280

	)

2168 
	#XK_b¿Ë_dÙs_1234
 0x100280à

	)

2169 
	#XK_b¿Ë_dÙs_5
 0x1002810

	)

2170 
	#XK_b¿Ë_dÙs_15
 0x1002811

	)

2171 
	#XK_b¿Ë_dÙs_25
 0x1002812

	)

2172 
	#XK_b¿Ë_dÙs_125
 0x1002813

	)

2173 
	#XK_b¿Ë_dÙs_35
 0x1002814

	)

2174 
	#XK_b¿Ë_dÙs_135
 0x1002815

	)

2175 
	#XK_b¿Ë_dÙs_235
 0x1002816

	)

2176 
	#XK_b¿Ë_dÙs_1235
 0x1002817

	)

2177 
	#XK_b¿Ë_dÙs_45
 0x1002818

	)

2178 
	#XK_b¿Ë_dÙs_145
 0x1002819

	)

2179 
	#XK_b¿Ë_dÙs_245
 0x100281¨

	)

2180 
	#XK_b¿Ë_dÙs_1245
 0x100281b

	)

2181 
	#XK_b¿Ë_dÙs_345
 0x100281ø

	)

2182 
	#XK_b¿Ë_dÙs_1345
 0x100281d

	)

2183 
	#XK_b¿Ë_dÙs_2345
 0x100281

	)

2184 
	#XK_b¿Ë_dÙs_12345
 0x100281à

	)

2185 
	#XK_b¿Ë_dÙs_6
 0x1002820

	)

2186 
	#XK_b¿Ë_dÙs_16
 0x1002821

	)

2187 
	#XK_b¿Ë_dÙs_26
 0x1002822

	)

2188 
	#XK_b¿Ë_dÙs_126
 0x1002823

	)

2189 
	#XK_b¿Ë_dÙs_36
 0x1002824

	)

2190 
	#XK_b¿Ë_dÙs_136
 0x1002825

	)

2191 
	#XK_b¿Ë_dÙs_236
 0x1002826

	)

2192 
	#XK_b¿Ë_dÙs_1236
 0x1002827

	)

2193 
	#XK_b¿Ë_dÙs_46
 0x1002828

	)

2194 
	#XK_b¿Ë_dÙs_146
 0x1002829

	)

2195 
	#XK_b¿Ë_dÙs_246
 0x100282¨

	)

2196 
	#XK_b¿Ë_dÙs_1246
 0x100282b

	)

2197 
	#XK_b¿Ë_dÙs_346
 0x100282ø

	)

2198 
	#XK_b¿Ë_dÙs_1346
 0x100282d

	)

2199 
	#XK_b¿Ë_dÙs_2346
 0x100282

	)

2200 
	#XK_b¿Ë_dÙs_12346
 0x100282à

	)

2201 
	#XK_b¿Ë_dÙs_56
 0x1002830

	)

2202 
	#XK_b¿Ë_dÙs_156
 0x1002831

	)

2203 
	#XK_b¿Ë_dÙs_256
 0x1002832

	)

2204 
	#XK_b¿Ë_dÙs_1256
 0x1002833

	)

2205 
	#XK_b¿Ë_dÙs_356
 0x1002834

	)

2206 
	#XK_b¿Ë_dÙs_1356
 0x1002835

	)

2207 
	#XK_b¿Ë_dÙs_2356
 0x1002836

	)

2208 
	#XK_b¿Ë_dÙs_12356
 0x1002837

	)

2209 
	#XK_b¿Ë_dÙs_456
 0x1002838

	)

2210 
	#XK_b¿Ë_dÙs_1456
 0x1002839

	)

2211 
	#XK_b¿Ë_dÙs_2456
 0x100283¨

	)

2212 
	#XK_b¿Ë_dÙs_12456
 0x100283b

	)

2213 
	#XK_b¿Ë_dÙs_3456
 0x100283ø

	)

2214 
	#XK_b¿Ë_dÙs_13456
 0x100283d

	)

2215 
	#XK_b¿Ë_dÙs_23456
 0x100283

	)

2216 
	#XK_b¿Ë_dÙs_123456
 0x100283à

	)

2217 
	#XK_b¿Ë_dÙs_7
 0x1002840

	)

2218 
	#XK_b¿Ë_dÙs_17
 0x1002841

	)

2219 
	#XK_b¿Ë_dÙs_27
 0x1002842

	)

2220 
	#XK_b¿Ë_dÙs_127
 0x1002843

	)

2221 
	#XK_b¿Ë_dÙs_37
 0x1002844

	)

2222 
	#XK_b¿Ë_dÙs_137
 0x1002845

	)

2223 
	#XK_b¿Ë_dÙs_237
 0x1002846

	)

2224 
	#XK_b¿Ë_dÙs_1237
 0x1002847

	)

2225 
	#XK_b¿Ë_dÙs_47
 0x1002848

	)

2226 
	#XK_b¿Ë_dÙs_147
 0x1002849

	)

2227 
	#XK_b¿Ë_dÙs_247
 0x100284¨

	)

2228 
	#XK_b¿Ë_dÙs_1247
 0x100284b

	)

2229 
	#XK_b¿Ë_dÙs_347
 0x100284ø

	)

2230 
	#XK_b¿Ë_dÙs_1347
 0x100284d

	)

2231 
	#XK_b¿Ë_dÙs_2347
 0x100284

	)

2232 
	#XK_b¿Ë_dÙs_12347
 0x100284à

	)

2233 
	#XK_b¿Ë_dÙs_57
 0x1002850

	)

2234 
	#XK_b¿Ë_dÙs_157
 0x1002851

	)

2235 
	#XK_b¿Ë_dÙs_257
 0x1002852

	)

2236 
	#XK_b¿Ë_dÙs_1257
 0x1002853

	)

2237 
	#XK_b¿Ë_dÙs_357
 0x1002854

	)

2238 
	#XK_b¿Ë_dÙs_1357
 0x1002855

	)

2239 
	#XK_b¿Ë_dÙs_2357
 0x1002856

	)

2240 
	#XK_b¿Ë_dÙs_12357
 0x1002857

	)

2241 
	#XK_b¿Ë_dÙs_457
 0x1002858

	)

2242 
	#XK_b¿Ë_dÙs_1457
 0x1002859

	)

2243 
	#XK_b¿Ë_dÙs_2457
 0x100285¨

	)

2244 
	#XK_b¿Ë_dÙs_12457
 0x100285b

	)

2245 
	#XK_b¿Ë_dÙs_3457
 0x100285ø

	)

2246 
	#XK_b¿Ë_dÙs_13457
 0x100285d

	)

2247 
	#XK_b¿Ë_dÙs_23457
 0x100285

	)

2248 
	#XK_b¿Ë_dÙs_123457
 0x100285à

	)

2249 
	#XK_b¿Ë_dÙs_67
 0x1002860

	)

2250 
	#XK_b¿Ë_dÙs_167
 0x1002861

	)

2251 
	#XK_b¿Ë_dÙs_267
 0x1002862

	)

2252 
	#XK_b¿Ë_dÙs_1267
 0x1002863

	)

2253 
	#XK_b¿Ë_dÙs_367
 0x1002864

	)

2254 
	#XK_b¿Ë_dÙs_1367
 0x1002865

	)

2255 
	#XK_b¿Ë_dÙs_2367
 0x1002866

	)

2256 
	#XK_b¿Ë_dÙs_12367
 0x1002867

	)

2257 
	#XK_b¿Ë_dÙs_467
 0x1002868

	)

2258 
	#XK_b¿Ë_dÙs_1467
 0x1002869

	)

2259 
	#XK_b¿Ë_dÙs_2467
 0x100286¨

	)

2260 
	#XK_b¿Ë_dÙs_12467
 0x100286b

	)

2261 
	#XK_b¿Ë_dÙs_3467
 0x100286ø

	)

2262 
	#XK_b¿Ë_dÙs_13467
 0x100286d

	)

2263 
	#XK_b¿Ë_dÙs_23467
 0x100286

	)

2264 
	#XK_b¿Ë_dÙs_123467
 0x100286à

	)

2265 
	#XK_b¿Ë_dÙs_567
 0x1002870

	)

2266 
	#XK_b¿Ë_dÙs_1567
 0x1002871

	)

2267 
	#XK_b¿Ë_dÙs_2567
 0x1002872

	)

2268 
	#XK_b¿Ë_dÙs_12567
 0x1002873

	)

2269 
	#XK_b¿Ë_dÙs_3567
 0x1002874

	)

2270 
	#XK_b¿Ë_dÙs_13567
 0x1002875

	)

2271 
	#XK_b¿Ë_dÙs_23567
 0x1002876

	)

2272 
	#XK_b¿Ë_dÙs_123567
 0x1002877

	)

2273 
	#XK_b¿Ë_dÙs_4567
 0x1002878

	)

2274 
	#XK_b¿Ë_dÙs_14567
 0x1002879

	)

2275 
	#XK_b¿Ë_dÙs_24567
 0x100287¨

	)

2276 
	#XK_b¿Ë_dÙs_124567
 0x100287b

	)

2277 
	#XK_b¿Ë_dÙs_34567
 0x100287ø

	)

2278 
	#XK_b¿Ë_dÙs_134567
 0x100287d

	)

2279 
	#XK_b¿Ë_dÙs_234567
 0x100287

	)

2280 
	#XK_b¿Ë_dÙs_1234567
 0x100287à

	)

2281 
	#XK_b¿Ë_dÙs_8
 0x1002880

	)

2282 
	#XK_b¿Ë_dÙs_18
 0x1002881

	)

2283 
	#XK_b¿Ë_dÙs_28
 0x1002882

	)

2284 
	#XK_b¿Ë_dÙs_128
 0x1002883

	)

2285 
	#XK_b¿Ë_dÙs_38
 0x1002884

	)

2286 
	#XK_b¿Ë_dÙs_138
 0x1002885

	)

2287 
	#XK_b¿Ë_dÙs_238
 0x1002886

	)

2288 
	#XK_b¿Ë_dÙs_1238
 0x1002887

	)

2289 
	#XK_b¿Ë_dÙs_48
 0x1002888

	)

2290 
	#XK_b¿Ë_dÙs_148
 0x1002889

	)

2291 
	#XK_b¿Ë_dÙs_248
 0x100288¨

	)

2292 
	#XK_b¿Ë_dÙs_1248
 0x100288b

	)

2293 
	#XK_b¿Ë_dÙs_348
 0x100288ø

	)

2294 
	#XK_b¿Ë_dÙs_1348
 0x100288d

	)

2295 
	#XK_b¿Ë_dÙs_2348
 0x100288

	)

2296 
	#XK_b¿Ë_dÙs_12348
 0x100288à

	)

2297 
	#XK_b¿Ë_dÙs_58
 0x1002890

	)

2298 
	#XK_b¿Ë_dÙs_158
 0x1002891

	)

2299 
	#XK_b¿Ë_dÙs_258
 0x1002892

	)

2300 
	#XK_b¿Ë_dÙs_1258
 0x1002893

	)

2301 
	#XK_b¿Ë_dÙs_358
 0x1002894

	)

2302 
	#XK_b¿Ë_dÙs_1358
 0x1002895

	)

2303 
	#XK_b¿Ë_dÙs_2358
 0x1002896

	)

2304 
	#XK_b¿Ë_dÙs_12358
 0x1002897

	)

2305 
	#XK_b¿Ë_dÙs_458
 0x1002898

	)

2306 
	#XK_b¿Ë_dÙs_1458
 0x1002899

	)

2307 
	#XK_b¿Ë_dÙs_2458
 0x100289¨

	)

2308 
	#XK_b¿Ë_dÙs_12458
 0x100289b

	)

2309 
	#XK_b¿Ë_dÙs_3458
 0x100289ø

	)

2310 
	#XK_b¿Ë_dÙs_13458
 0x100289d

	)

2311 
	#XK_b¿Ë_dÙs_23458
 0x100289

	)

2312 
	#XK_b¿Ë_dÙs_123458
 0x100289à

	)

2313 
	#XK_b¿Ë_dÙs_68
 0x10028a0

	)

2314 
	#XK_b¿Ë_dÙs_168
 0x10028a1

	)

2315 
	#XK_b¿Ë_dÙs_268
 0x10028a2

	)

2316 
	#XK_b¿Ë_dÙs_1268
 0x10028a3

	)

2317 
	#XK_b¿Ë_dÙs_368
 0x10028a4

	)

2318 
	#XK_b¿Ë_dÙs_1368
 0x10028a5

	)

2319 
	#XK_b¿Ë_dÙs_2368
 0x10028a6

	)

2320 
	#XK_b¿Ë_dÙs_12368
 0x10028a7

	)

2321 
	#XK_b¿Ë_dÙs_468
 0x10028a8

	)

2322 
	#XK_b¿Ë_dÙs_1468
 0x10028a9

	)

2323 
	#XK_b¿Ë_dÙs_2468
 0x10028¯

	)

2324 
	#XK_b¿Ë_dÙs_12468
 0x10028ab

	)

2325 
	#XK_b¿Ë_dÙs_3468
 0x10028aø

	)

2326 
	#XK_b¿Ë_dÙs_13468
 0x10028ad

	)

2327 
	#XK_b¿Ë_dÙs_23468
 0x10028«

	)

2328 
	#XK_b¿Ë_dÙs_123468
 0x10028aà

	)

2329 
	#XK_b¿Ë_dÙs_568
 0x10028b0

	)

2330 
	#XK_b¿Ë_dÙs_1568
 0x10028b1

	)

2331 
	#XK_b¿Ë_dÙs_2568
 0x10028b2

	)

2332 
	#XK_b¿Ë_dÙs_12568
 0x10028b3

	)

2333 
	#XK_b¿Ë_dÙs_3568
 0x10028b4

	)

2334 
	#XK_b¿Ë_dÙs_13568
 0x10028b5

	)

2335 
	#XK_b¿Ë_dÙs_23568
 0x10028b6

	)

2336 
	#XK_b¿Ë_dÙs_123568
 0x10028b7

	)

2337 
	#XK_b¿Ë_dÙs_4568
 0x10028b8

	)

2338 
	#XK_b¿Ë_dÙs_14568
 0x10028b9

	)

2339 
	#XK_b¿Ë_dÙs_24568
 0x10028b¨

	)

2340 
	#XK_b¿Ë_dÙs_124568
 0x10028bb

	)

2341 
	#XK_b¿Ë_dÙs_34568
 0x10028bø

	)

2342 
	#XK_b¿Ë_dÙs_134568
 0x10028bd

	)

2343 
	#XK_b¿Ë_dÙs_234568
 0x10028b

	)

2344 
	#XK_b¿Ë_dÙs_1234568
 0x10028bà

	)

2345 
	#XK_b¿Ë_dÙs_78
 0x10028c0

	)

2346 
	#XK_b¿Ë_dÙs_178
 0x10028c1

	)

2347 
	#XK_b¿Ë_dÙs_278
 0x10028c2

	)

2348 
	#XK_b¿Ë_dÙs_1278
 0x10028c3

	)

2349 
	#XK_b¿Ë_dÙs_378
 0x10028c4

	)

2350 
	#XK_b¿Ë_dÙs_1378
 0x10028c5

	)

2351 
	#XK_b¿Ë_dÙs_2378
 0x10028c6

	)

2352 
	#XK_b¿Ë_dÙs_12378
 0x10028c7

	)

2353 
	#XK_b¿Ë_dÙs_478
 0x10028c8

	)

2354 
	#XK_b¿Ë_dÙs_1478
 0x10028c9

	)

2355 
	#XK_b¿Ë_dÙs_2478
 0x10028ÿ

	)

2356 
	#XK_b¿Ë_dÙs_12478
 0x10028cb

	)

2357 
	#XK_b¿Ë_dÙs_3478
 0x10028cø

	)

2358 
	#XK_b¿Ë_dÙs_13478
 0x10028cd

	)

2359 
	#XK_b¿Ë_dÙs_23478
 0x10028û

	)

2360 
	#XK_b¿Ë_dÙs_123478
 0x10028cà

	)

2361 
	#XK_b¿Ë_dÙs_578
 0x10028d0

	)

2362 
	#XK_b¿Ë_dÙs_1578
 0x10028d1

	)

2363 
	#XK_b¿Ë_dÙs_2578
 0x10028d2

	)

2364 
	#XK_b¿Ë_dÙs_12578
 0x10028d3

	)

2365 
	#XK_b¿Ë_dÙs_3578
 0x10028d4

	)

2366 
	#XK_b¿Ë_dÙs_13578
 0x10028d5

	)

2367 
	#XK_b¿Ë_dÙs_23578
 0x10028d6

	)

2368 
	#XK_b¿Ë_dÙs_123578
 0x10028d7

	)

2369 
	#XK_b¿Ë_dÙs_4578
 0x10028d8

	)

2370 
	#XK_b¿Ë_dÙs_14578
 0x10028d9

	)

2371 
	#XK_b¿Ë_dÙs_24578
 0x10028d¨

	)

2372 
	#XK_b¿Ë_dÙs_124578
 0x10028db

	)

2373 
	#XK_b¿Ë_dÙs_34578
 0x10028dø

	)

2374 
	#XK_b¿Ë_dÙs_134578
 0x10028dd

	)

2375 
	#XK_b¿Ë_dÙs_234578
 0x10028d

	)

2376 
	#XK_b¿Ë_dÙs_1234578
 0x10028dà

	)

2377 
	#XK_b¿Ë_dÙs_678
 0x10028e0

	)

2378 
	#XK_b¿Ë_dÙs_1678
 0x10028e1

	)

2379 
	#XK_b¿Ë_dÙs_2678
 0x10028e2

	)

2380 
	#XK_b¿Ë_dÙs_12678
 0x10028e3

	)

2381 
	#XK_b¿Ë_dÙs_3678
 0x10028e4

	)

2382 
	#XK_b¿Ë_dÙs_13678
 0x10028e5

	)

2383 
	#XK_b¿Ë_dÙs_23678
 0x10028e6

	)

2384 
	#XK_b¿Ë_dÙs_123678
 0x10028e7

	)

2385 
	#XK_b¿Ë_dÙs_4678
 0x10028e8

	)

2386 
	#XK_b¿Ë_dÙs_14678
 0x10028e9

	)

2387 
	#XK_b¿Ë_dÙs_24678
 0x10028—

	)

2388 
	#XK_b¿Ë_dÙs_124678
 0x10028eb

	)

2389 
	#XK_b¿Ë_dÙs_34678
 0x10028eø

	)

2390 
	#XK_b¿Ë_dÙs_134678
 0x10028ed

	)

2391 
	#XK_b¿Ë_dÙs_234678
 0x10028“

	)

2392 
	#XK_b¿Ë_dÙs_1234678
 0x10028eà

	)

2393 
	#XK_b¿Ë_dÙs_5678
 0x10028f0

	)

2394 
	#XK_b¿Ë_dÙs_15678
 0x10028f1

	)

2395 
	#XK_b¿Ë_dÙs_25678
 0x10028f2

	)

2396 
	#XK_b¿Ë_dÙs_125678
 0x10028f3

	)

2397 
	#XK_b¿Ë_dÙs_35678
 0x10028f4

	)

2398 
	#XK_b¿Ë_dÙs_135678
 0x10028f5

	)

2399 
	#XK_b¿Ë_dÙs_235678
 0x10028f6

	)

2400 
	#XK_b¿Ë_dÙs_1235678
 0x10028f7

	)

2401 
	#XK_b¿Ë_dÙs_45678
 0x10028f8

	)

2402 
	#XK_b¿Ë_dÙs_145678
 0x10028f9

	)

2403 
	#XK_b¿Ë_dÙs_245678
 0x10028ç

	)

2404 
	#XK_b¿Ë_dÙs_1245678
 0x10028fb

	)

2405 
	#XK_b¿Ë_dÙs_345678
 0x10028fø

	)

2406 
	#XK_b¿Ë_dÙs_1345678
 0x10028fd

	)

2407 
	#XK_b¿Ë_dÙs_2345678
 0x10028ã

	)

2408 
	#XK_b¿Ë_dÙs_12345678
 0x10028fà

	)

2416 #ifdeà
XK_SINHALA


2417 
	#XK_Sšh_ng
 0x1000d82

	)

2418 
	#XK_Sšh_h2
 0x1000d83

	)

2419 
	#XK_Sšh_a
 0x1000d85

	)

2420 
	#XK_Sšh_¯
 0x1000d86

	)

2421 
	#XK_Sšh_«
 0x1000d87

	)

2422 
	#XK_Sšh_«e
 0x1000d88

	)

2423 
	#XK_Sšh_i
 0x1000d89

	)

2424 
	#XK_Sšh_ii
 0x1000d8¨

	)

2425 
	#XK_Sšh_u
 0x1000d8b

	)

2426 
	#XK_Sšh_uu
 0x1000d8ø

	)

2427 
	#XK_Sšh_ri
 0x1000d8d

	)

2428 
	#XK_Sšh_rii
 0x1000d8

	)

2429 
	#XK_Sšh_lu
 0x1000d8à

	)

2430 
	#XK_Sšh_luu
 0x1000d90

	)

2431 
	#XK_Sšh_e
 0x1000d91

	)

2432 
	#XK_Sšh_“
 0x1000d92

	)

2433 
	#XK_Sšh_ai
 0x1000d93

	)

2434 
	#XK_Sšh_o
 0x1000d94

	)

2435 
	#XK_Sšh_oo
 0x1000d95

	)

2436 
	#XK_Sšh_au
 0x1000d96

	)

2437 
	#XK_Sšh_ka
 0x1000d9¨

	)

2438 
	#XK_Sšh_kha
 0x1000d9b

	)

2439 
	#XK_Sšh_ga
 0x1000d9ø

	)

2440 
	#XK_Sšh_gha
 0x1000d9d

	)

2441 
	#XK_Sšh_ng2
 0x1000d9

	)

2442 
	#XK_Sšh_nga
 0x1000d9à

	)

2443 
	#XK_Sšh_ÿ
 0x1000da0

	)

2444 
	#XK_Sšh_cha
 0x1000da1

	)

2445 
	#XK_Sšh_ja
 0x1000da2

	)

2446 
	#XK_Sšh_jha
 0x1000da3

	)

2447 
	#XK_Sšh_nya
 0x1000da4

	)

2448 
	#XK_Sšh_jnya
 0x1000da5

	)

2449 
	#XK_Sšh_nja
 0x1000da6

	)

2450 
	#XK_Sšh_‰a
 0x1000da7

	)

2451 
	#XK_Sšh_‰ha
 0x1000da8

	)

2452 
	#XK_Sšh_dda
 0x1000da9

	)

2453 
	#XK_Sšh_ddha
 0x1000d¯

	)

2454 
	#XK_Sšh_Âa
 0x1000dab

	)

2455 
	#XK_Sšh_ndda
 0x1000daø

	)

2456 
	#XK_Sšh_tha
 0x1000dad

	)

2457 
	#XK_Sšh_thha
 0x1000d«

	)

2458 
	#XK_Sšh_dha
 0x1000daà

	)

2459 
	#XK_Sšh_dhha
 0x1000db0

	)

2460 
	#XK_Sšh_Ç
 0x1000db1

	)

2461 
	#XK_Sšh_ndha
 0x1000db3

	)

2462 
	#XK_Sšh_·
 0x1000db4

	)

2463 
	#XK_Sšh_pha
 0x1000db5

	)

2464 
	#XK_Sšh_ba
 0x1000db6

	)

2465 
	#XK_Sšh_bha
 0x1000db7

	)

2466 
	#XK_Sšh_ma
 0x1000db8

	)

2467 
	#XK_Sšh_mba
 0x1000db9

	)

2468 
	#XK_Sšh_ya
 0x1000db¨

	)

2469 
	#XK_Sšh_¿
 0x1000dbb

	)

2470 
	#XK_Sšh_Ï
 0x1000dbd

	)

2471 
	#XK_Sšh_va
 0x1000dc0

	)

2472 
	#XK_Sšh_sha
 0x1000dc1

	)

2473 
	#XK_Sšh_ssha
 0x1000dc2

	)

2474 
	#XK_Sšh_§
 0x1000dc3

	)

2475 
	#XK_Sšh_ha
 0x1000dc4

	)

2476 
	#XK_Sšh_Îa
 0x1000dc5

	)

2477 
	#XK_Sšh_ç
 0x1000dc6

	)

2478 
	#XK_Sšh_®
 0x1000dÿ

	)

2479 
	#XK_Sšh_¯2
 0x1000dcà

	)

2480 
	#XK_Sšh_«2
 0x1000dd0

	)

2481 
	#XK_Sšh_«e2
 0x1000dd1

	)

2482 
	#XK_Sšh_i2
 0x1000dd2

	)

2483 
	#XK_Sšh_ii2
 0x1000dd3

	)

2484 
	#XK_Sšh_u2
 0x1000dd4

	)

2485 
	#XK_Sšh_uu2
 0x1000dd6

	)

2486 
	#XK_Sšh_ru2
 0x1000dd8

	)

2487 
	#XK_Sšh_e2
 0x1000dd9

	)

2488 
	#XK_Sšh_“2
 0x1000dd¨

	)

2489 
	#XK_Sšh_ai2
 0x1000ddb

	)

2490 
	#XK_Sšh_o2
 0x1000ddø

	)

2491 
	#XK_Sšh_oo2
 0x1000ddd

	)

2492 
	#XK_Sšh_au2
 0x1000dd

	)

2493 
	#XK_Sšh_lu2
 0x1000ddà

	)

2494 
	#XK_Sšh_ruu2
 0x1000df2

	)

2495 
	#XK_Sšh_luu2
 0x1000df3

	)

2496 
	#XK_Sšh_kundd®iya
 0x1000df4

	)

	@/usr/include/features.h

18 #iâdef 
_FEATURES_H


19 
	#_FEATURES_H
 1

	)

126 #undeà
__USE_ISOC11


127 #undeà
__USE_ISOC99


128 #undeà
__USE_ISOC95


129 #undeà
__USE_ISOCXX11


130 #undeà
__USE_POSIX


131 #undeà
__USE_POSIX2


132 #undeà
__USE_POSIX199309


133 #undeà
__USE_POSIX199506


134 #undeà
__USE_XOPEN


135 #undeà
__USE_XOPEN_EXTENDED


136 #undeà
__USE_UNIX98


137 #undeà
__USE_XOPEN2K


138 #undeà
__USE_XOPEN2KXSI


139 #undeà
__USE_XOPEN2K8


140 #undeà
__USE_XOPEN2K8XSI


141 #undeà
__USE_LARGEFILE


142 #undeà
__USE_LARGEFILE64


143 #undeà
__USE_FILE_OFFSET64


144 #undeà
__USE_MISC


145 #undeà
__USE_ATFILE


146 #undeà
__USE_DYNAMIC_STACK_SIZE


147 #undeà
__USE_GNU


148 #undeà
__USE_FORTIFY_LEVEL


149 #undeà
__KERNEL_STRICT_NAMES


150 #undeà
__GLIBC_USE_ISOC2X


151 #undeà
__GLIBC_USE_DEPRECATED_GETS


152 #undeà
__GLIBC_USE_DEPRECATED_SCANF


156 #iâdeà
_LOOSE_KERNEL_NAMES


157 
	#__KERNEL_STRICT_NAMES


	)

167 #ià
defšed
 
__GNUC__
 && defšed 
__GNUC_MINOR__


168 
	#__GNUC_PREREQ
(
maj
, 
mš
) \

169 ((
__GNUC__
 << 16è+ 
__GNUC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

171 
	#__GNUC_PREREQ
(
maj
, 
mš
è0

	)

178 #ià
defšed
 
__şªg_majÜ__
 && defšed 
__şªg_mšÜ__


179 
	#__glibc_şªg_´”eq
(
maj
, 
mš
) \

180 ((
__şªg_majÜ__
 << 16è+ 
__şªg_mšÜ__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

182 
	#__glibc_şªg_´”eq
(
maj
, 
mš
è0

	)

186 
	#__GLIBC_USE
(
F
è
__GLIBC_USE_
 ## 
	)
F

192 #ià(
defšed
 
_BSD_SOURCE
 || defšed 
_SVID_SOURCE
) \

193 && !
defšed
 
	g_DEFAULT_SOURCE


195 #undeà
_DEFAULT_SOURCE


196 
	#_DEFAULT_SOURCE
 1

	)

200 #ifdeà
_GNU_SOURCE


201 #undeà
_ISOC95_SOURCE


202 
	#_ISOC95_SOURCE
 1

	)

203 #undeà
_ISOC99_SOURCE


204 
	#_ISOC99_SOURCE
 1

	)

205 #undeà
_ISOC11_SOURCE


206 
	#_ISOC11_SOURCE
 1

	)

207 #undeà
_ISOC2X_SOURCE


208 
	#_ISOC2X_SOURCE
 1

	)

209 #undeà
_POSIX_SOURCE


210 
	#_POSIX_SOURCE
 1

	)

211 #undeà
_POSIX_C_SOURCE


212 
	#_POSIX_C_SOURCE
 200809L

	)

213 #undeà
_XOPEN_SOURCE


214 
	#_XOPEN_SOURCE
 700

	)

215 #undeà
_XOPEN_SOURCE_EXTENDED


216 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

217 #undeà
_LARGEFILE64_SOURCE


218 
	#_LARGEFILE64_SOURCE
 1

	)

219 #undeà
_DEFAULT_SOURCE


220 
	#_DEFAULT_SOURCE
 1

	)

221 #undeà
_ATFILE_SOURCE


222 
	#_ATFILE_SOURCE
 1

	)

223 #undeà
_DYNAMIC_STACK_SIZE_SOURCE


224 
	#_DYNAMIC_STACK_SIZE_SOURCE
 1

	)

229 #ià(
defšed
 
_DEFAULT_SOURCE
 \

230 || (!
defšed
 
	g__STRICT_ANSI__
 \

231 && !
defšed
 
	g_ISOC99_SOURCE
 && !defšed 
	g_ISOC11_SOURCE
 \

232 && !
defšed
 
	g_ISOC2X_SOURCE
 \

233 && !
defšed
 
	g_POSIX_SOURCE
 && !defšed 
	g_POSIX_C_SOURCE
 \

234 && !
defšed
 
	g_XOPEN_SOURCE
))

235 #undeà
_DEFAULT_SOURCE


236 
	#_DEFAULT_SOURCE
 1

	)

240 #ià(
defšed
 
_ISOC2X_SOURCE
 \

241 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ > 201710L))

242 
	#__GLIBC_USE_ISOC2X
 1

	)

244 
	#__GLIBC_USE_ISOC2X
 0

	)

248 #ià(
defšed
 
_ISOC11_SOURCE
 || defšed 
_ISOC2X_SOURCE
 \

249 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 201112L))

250 
	#__USE_ISOC11
 1

	)

254 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

255 || 
defšed
 
_ISOC2X_SOURCE
 \

256 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

257 
	#__USE_ISOC99
 1

	)

261 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

262 || 
defšed
 
_ISOC2X_SOURCE
 \

263 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

264 
	#__USE_ISOC95
 1

	)

267 #ifdeà
__ılu¥lus


269 #ià
__ılu¥lus
 >= 201703L

270 
	#__USE_ISOC11
 1

	)

274 #ià
__ılu¥lus
 >ğ201103L || 
defšed
 
__GXX_EXPERIMENTAL_CXX0X__


275 
	#__USE_ISOCXX11
 1

	)

276 
	#__USE_ISOC99
 1

	)

283 #ifdeà
_DEFAULT_SOURCE


284 #ià!
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE


285 
	#__USE_POSIX_IMPLICITLY
 1

	)

287 #undeà
_POSIX_SOURCE


288 
	#_POSIX_SOURCE
 1

	)

289 #undeà
_POSIX_C_SOURCE


290 
	#_POSIX_C_SOURCE
 200809L

	)

293 #ià((!
defšed
 
__STRICT_ANSI__
 \

294 || (
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) >= 500)) \

295 && !
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE
)

296 
	#_POSIX_SOURCE
 1

	)

297 #ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

298 
	#_POSIX_C_SOURCE
 2

	)

299 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

300 
	#_POSIX_C_SOURCE
 199506L

	)

301 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

302 
	#_POSIX_C_SOURCE
 200112L

	)

304 
	#_POSIX_C_SOURCE
 200809L

	)

306 
	#__USE_POSIX_IMPLICITLY
 1

	)

315 #ià((!
defšed
 
_POSIX_C_SOURCE
 || (_POSIX_C_SOURCE - 0) < 199506L) \

316 && (
defšed
 
_REENTRANT
 || defšed 
_THREAD_SAFE
))

317 
	#_POSIX_SOURCE
 1

	)

318 #undeà
_POSIX_C_SOURCE


319 
	#_POSIX_C_SOURCE
 199506L

	)

322 #ià(
defšed
 
_POSIX_SOURCE
 \

323 || (
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >= 1) \

324 || 
defšed
 
_XOPEN_SOURCE
)

325 
	#__USE_POSIX
 1

	)

328 #ià
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >ğ2 || defšed 
_XOPEN_SOURCE


329 
	#__USE_POSIX2
 1

	)

332 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199309L

333 
	#__USE_POSIX199309
 1

	)

336 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199506L

337 
	#__USE_POSIX199506
 1

	)

340 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200112L

341 
	#__USE_XOPEN2K
 1

	)

342 #undeà
__USE_ISOC95


343 
	#__USE_ISOC95
 1

	)

344 #undeà
__USE_ISOC99


345 
	#__USE_ISOC99
 1

	)

348 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200809L

349 
	#__USE_XOPEN2K8
 1

	)

350 #undeà
_ATFILE_SOURCE


351 
	#_ATFILE_SOURCE
 1

	)

354 #ifdef 
_XOPEN_SOURCE


355 
	#__USE_XOPEN
 1

	)

356 #ià(
_XOPEN_SOURCE
 - 0) >= 500

357 
	#__USE_XOPEN_EXTENDED
 1

	)

358 
	#__USE_UNIX98
 1

	)

359 #undeà
_LARGEFILE_SOURCE


360 
	#_LARGEFILE_SOURCE
 1

	)

361 #ià(
_XOPEN_SOURCE
 - 0) >= 600

362 #ià(
_XOPEN_SOURCE
 - 0) >= 700

363 
	#__USE_XOPEN2K8
 1

	)

364 
	#__USE_XOPEN2K8XSI
 1

	)

366 
	#__USE_XOPEN2K
 1

	)

367 
	#__USE_XOPEN2KXSI
 1

	)

368 #undeà
__USE_ISOC95


369 
	#__USE_ISOC95
 1

	)

370 #undeà
__USE_ISOC99


371 
	#__USE_ISOC99
 1

	)

374 #ifdeà
_XOPEN_SOURCE_EXTENDED


375 
	#__USE_XOPEN_EXTENDED
 1

	)

380 #ifdeà
_LARGEFILE_SOURCE


381 
	#__USE_LARGEFILE
 1

	)

384 #ifdeà
_LARGEFILE64_SOURCE


385 
	#__USE_LARGEFILE64
 1

	)

388 #ià
defšed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

389 
	#__USE_FILE_OFFSET64
 1

	)

392 
	~<ã©u»s-time64.h
>

394 #ià
defšed
 
_DEFAULT_SOURCE


395 
	#__USE_MISC
 1

	)

398 #ifdef 
_ATFILE_SOURCE


399 
	#__USE_ATFILE
 1

	)

402 #ifdef 
_DYNAMIC_STACK_SIZE_SOURCE


403 
	#__USE_DYNAMIC_STACK_SIZE
 1

	)

406 #ifdef 
_GNU_SOURCE


407 
	#__USE_GNU
 1

	)

410 #ià
defšed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0

411 #ià!
defšed
 
__OPTIMIZE__
 || __OPTIMIZE__ <= 0

412 #–ià!
__GNUC_PREREQ
 (4, 1)

413 #–ià
_FORTIFY_SOURCE
 > 2 && 
__glibc_şªg_´”eq
 (9, 0)

414 #ià
_FORTIFY_SOURCE
 > 3

416 
	#__USE_FORTIFY_LEVEL
 3

	)

417 #–ià
_FORTIFY_SOURCE
 > 1

418 #ià
_FORTIFY_SOURCE
 > 2

420 
	#__USE_FORTIFY_LEVEL
 2

	)

422 
	#__USE_FORTIFY_LEVEL
 1

	)

425 #iâdeà
__USE_FORTIFY_LEVEL


426 
	#__USE_FORTIFY_LEVEL
 0

	)

433 #ià
defšed
 
__ılu¥lus
 ? __ılu¥lu >ğ201402L : defšed 
__USE_ISOC11


434 
	#__GLIBC_USE_DEPRECATED_GETS
 0

	)

436 
	#__GLIBC_USE_DEPRECATED_GETS
 1

	)

451 #ià(
defšed
 
__USE_GNU
 \

452 && (
defšed
 
	g__ılu¥lus
 \

453 ? (
	g__ılu¥lus
 < 201103L && !
defšed
 
	g__GXX_EXPERIMENTAL_CXX0X__
) \

454 : (!
defšed
 
__STDC_VERSION__
 || __STDC_VERSION__ < 199901L)))

455 
	#__GLIBC_USE_DEPRECATED_SCANF
 1

	)

457 
	#__GLIBC_USE_DEPRECATED_SCANF
 0

	)

462 
	~<¡dc-´edef.h
>

470 #undeà
__GNU_LIBRARY__


471 
	#__GNU_LIBRARY__
 6

	)

475 
	#__GLIBC__
 2

	)

476 
	#__GLIBC_MINOR__
 34

	)

478 
	#__GLIBC_PREREQ
(
maj
, 
mš
) \

479 ((
__GLIBC__
 << 16è+ 
__GLIBC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

482 #iâdeà
__ASSEMBLER__


483 #iâdeà
_SYS_CDEFS_H


484 
	~<sys/cdefs.h
>

489 #ià
defšed
 
__USE_FILE_OFFSET64
 && !defšed 
__REDIRECT


490 
	#__USE_LARGEFILE
 1

	)

491 
	#__USE_LARGEFILE64
 1

	)

497 #ià
__GNUC_PREREQ
 (2, 7è&& 
defšed
 
__OPTIMIZE__
 \

498 && !
defšed
 
	g__OPTIMIZE_SIZE__
 && !defšed 
	g__NO_INLINE__
 \

499 && 
defšed
 
	g__ex‹º_šlše


500 
	#__USE_EXTERN_INLINES
 1

	)

508 
	~<gnu/¡ubs.h
>

	@/usr/include/jerror.h

25 #iâdeà
JMESSAGE


26 #iâdeà
JERROR_H


28 
	#JMAKE_ENUM_LIST


	)

31 
	#JMESSAGE
(
code
, 
¡ršg
)

	)

35 #ifdeà
JMAKE_ENUM_LIST


39 
	#JMESSAGE
(
code
, 
¡ršg
ècode,

	)

43 
JMESSAGE
(
JMSG_NOMESSAGE
, "Bogus message code %d")

46 #ià
JPEG_LIB_VERSION
 < 70

47 
JMESSAGE
(
JERR_ARITH_NOTIMPL
, "Sorry,‡rithmetic coding is‚ot implemented")

49 
JMESSAGE
(
JERR_BAD_ALIGN_TYPE
, "ALIGN_TYPE is wrong,…lease fix")

50 
JMESSAGE
(
JERR_BAD_ALLOC_CHUNK
, "MAX_ALLOC_CHUNK is wrong,…lease fix")

51 
JMESSAGE
(
JERR_BAD_BUFFER_MODE
, "Bogus buffer control mode")

52 
JMESSAGE
(
JERR_BAD_COMPONENT_ID
, "Invalid component ID %d in SOS")

53 #ià
JPEG_LIB_VERSION
 >= 70

54 
JMESSAGE
(
JERR_BAD_CROP_SPEC
, "Invalid crop„equest")

56 
JMESSAGE
(
JERR_BAD_DCT_COEF
, "DCT coefficient out of„ange")

57 
JMESSAGE
(
JERR_BAD_DCTSIZE
, "IDCT output block size %d‚ot supported")

58 #ià
JPEG_LIB_VERSION
 >= 70

59 
JMESSAGE
(
JERR_BAD_DROP_SAMPLING
,

62 
JMESSAGE
(
JERR_BAD_HUFF_TABLE
, "Bogus Huffmanable definition")

63 
JMESSAGE
(
JERR_BAD_IN_COLORSPACE
, "Bogus input colorspace")

64 
JMESSAGE
(
JERR_BAD_J_COLORSPACE
, "Bogus JPEG colorspace")

65 
JMESSAGE
(
JERR_BAD_LENGTH
, "Bogus marker†ength")

66 
JMESSAGE
(
JERR_BAD_LIB_VERSION
,

68 
JMESSAGE
(
JERR_BAD_MCU_SIZE
, "Sampling factorsoo†arge for interleaved scan")

69 
JMESSAGE
(
JERR_BAD_POOL_ID
, "Invalid memory…ool code %d")

70 
JMESSAGE
(
JERR_BAD_PRECISION
, "Unsupported JPEG data…recision %d")

71 
JMESSAGE
(
JERR_BAD_PROGRESSION
,

73 
JMESSAGE
(
JERR_BAD_PROG_SCRIPT
,

75 
JMESSAGE
(
JERR_BAD_SAMPLING
, "Bogus sampling factors")

76 
JMESSAGE
(
JERR_BAD_SCAN_SCRIPT
, "Invalid scan script‡tƒntry %d")

77 
JMESSAGE
(
JERR_BAD_STATE
, "Improper callo JPEG†ibrary in state %d")

78 
JMESSAGE
(
JERR_BAD_STRUCT_SIZE
,

80 
JMESSAGE
(
JERR_BAD_VIRTUAL_ACCESS
, "Bogus virtual‡rray‡ccess")

81 
JMESSAGE
(
JERR_BUFFER_SIZE
, "Buffer…assedo JPEG†ibrary isoo small")

82 
JMESSAGE
(
JERR_CANT_SUSPEND
, "Suspension‚ot‡llowed here")

83 
JMESSAGE
(
JERR_CCIR601_NOTIMPL
, "CCIR601 sampling‚ot implemented yet")

84 
JMESSAGE
(
JERR_COMPONENT_COUNT
, "Too many color components: %d, max %d")

85 
JMESSAGE
(
JERR_CONVERSION_NOTIMPL
, "Unsupported color conversion„equest")

86 
JMESSAGE
(
JERR_DAC_INDEX
, "Bogus DAC index %d")

87 
JMESSAGE
(
JERR_DAC_VALUE
, "Bogus DAC value 0x%x")

88 
JMESSAGE
(
JERR_DHT_INDEX
, "Bogus DHT index %d")

89 
JMESSAGE
(
JERR_DQT_INDEX
, "Bogus DQT index %d")

90 
JMESSAGE
(
JERR_EMPTY_IMAGE
, "Empty JPEG image (DNL‚ot supported)")

91 
JMESSAGE
(
JERR_EMS_READ
, "Read from EMS failed")

92 
JMESSAGE
(
JERR_EMS_WRITE
, "Writeo EMS failed")

93 
JMESSAGE
(
JERR_EOI_EXPECTED
, "Didn'tƒxpect morehan one scan")

94 
JMESSAGE
(
JERR_FILE_READ
, "Input file„eadƒrror")

95 
JMESSAGE
(
JERR_FILE_WRITE
, "Output file writeƒrror --- out of disk space?")

96 
JMESSAGE
(
JERR_FRACT_SAMPLE_NOTIMPL
, "Fractional sampling‚ot implemented yet")

97 
JMESSAGE
(
JERR_HUFF_CLEN_OVERFLOW
, "Huffman code sizeable overflow")

98 
JMESSAGE
(
JERR_HUFF_MISSING_CODE
, "Missing Huffman codeableƒntry")

99 
JMESSAGE
(
JERR_IMAGE_TOO_BIG
, "Maximum supported image dimension is %u…ixels")

100 
JMESSAGE
(
JERR_INPUT_EMPTY
, "Empty input file")

101 
JMESSAGE
(
JERR_INPUT_EOF
, "Prematureƒnd of input file")

102 
JMESSAGE
(
JERR_MISMATCHED_QUANT_TABLE
,

104 
JMESSAGE
(
JERR_MISSING_DATA
, "Scan script does‚otransmit‡ll data")

105 
JMESSAGE
(
JERR_MODE_CHANGE
, "Invalid color quantization mode change")

106 
JMESSAGE
(
JERR_NOTIMPL
, "Not implemented yet")

107 
JMESSAGE
(
JERR_NOT_COMPILED
, "Requested feature was omitted‡t compileime")

108 #ià
JPEG_LIB_VERSION
 >= 70

109 
JMESSAGE
(
JERR_NO_ARITH_TABLE
, "Arithmeticable 0x%02x was‚ot defined")

111 
JMESSAGE
(
JERR_NO_BACKING_STORE
, "Backing store‚ot supported")

112 
JMESSAGE
(
JERR_NO_HUFF_TABLE
, "Huffmanable 0x%02x was‚ot defined")

113 
JMESSAGE
(
JERR_NO_IMAGE
, "JPEG datastream contains‚o image")

114 
JMESSAGE
(
JERR_NO_QUANT_TABLE
, "Quantizationable 0x%02x was‚ot defined")

115 
JMESSAGE
(
JERR_NO_SOI
, "Not‡ JPEG file: starts with 0x%02x 0x%02x")

116 
JMESSAGE
(
JERR_OUT_OF_MEMORY
, "Insufficient memory (case %d)")

117 
JMESSAGE
(
JERR_QUANT_COMPONENTS
,

119 
JMESSAGE
(
JERR_QUANT_FEW_COLORS
, "Cannot quantizeo fewerhan %d colors")

120 
JMESSAGE
(
JERR_QUANT_MANY_COLORS
, "Cannot quantizeo morehan %d colors")

121 
JMESSAGE
(
JERR_SOF_DUPLICATE
, "Invalid JPEG file structure:wo SOF markers")

122 
JMESSAGE
(
JERR_SOF_NO_SOS
, "Invalid JPEG file structure: missing SOS marker")

123 
JMESSAGE
(
JERR_SOF_UNSUPPORTED
, "Unsupported JPEG…rocess: SOFype 0x%02x")

124 
JMESSAGE
(
JERR_SOI_DUPLICATE
, "Invalid JPEG file structure:wo SOI markers")

125 
JMESSAGE
(
JERR_SOS_NO_SOF
, "Invalid JPEG file structure: SOS before SOF")

126 
JMESSAGE
(
JERR_TFILE_CREATE
, "Failedo createemporary file %s")

127 
JMESSAGE
(
JERR_TFILE_READ
, "Read failed onemporary file")

128 
JMESSAGE
(
JERR_TFILE_SEEK
, "Seek failed onemporary file")

129 
JMESSAGE
(
JERR_TFILE_WRITE
,

131 
JMESSAGE
(
JERR_TOO_LITTLE_DATA
, "Applicationransferredoo few scanlines")

132 
JMESSAGE
(
JERR_UNKNOWN_MARKER
, "Unsupported markerype 0x%02x")

133 
JMESSAGE
(
JERR_VIRTUAL_BUG
, "Virtual‡rray controller messed up")

134 
JMESSAGE
(
JERR_WIDTH_OVERFLOW
, "Imageoo wide forhis implementation")

135 
JMESSAGE
(
JERR_XMS_READ
, "Read from XMS failed")

136 
JMESSAGE
(
JERR_XMS_WRITE
, "Writeo XMS failed")

137 
JMESSAGE
(
JMSG_COPYRIGHT
, 
JCOPYRIGHT_SHORT
)

138 
JMESSAGE
(
JMSG_VERSION
, 
JVERSION
)

139 
JMESSAGE
(
JTRC_16BIT_TABLES
,

141 
JMESSAGE
(
JTRC_ADOBE
,

143 
JMESSAGE
(
JTRC_APP0
, "Unknown APP0 marker (not JFIF),†ength %u")

144 
JMESSAGE
(
JTRC_APP14
, "Unknown APP14 marker (not Adobe),†ength %u")

145 
JMESSAGE
(
JTRC_DAC
, "Define Arithmetic Table 0x%02x: 0x%02x")

146 
JMESSAGE
(
JTRC_DHT
, "Define Huffman Table 0x%02x")

147 
JMESSAGE
(
JTRC_DQT
, "Define Quantization Table %d…recision %d")

148 
JMESSAGE
(
JTRC_DRI
, "Define Restart Interval %u")

149 
JMESSAGE
(
JTRC_EMS_CLOSE
, "Freed EMS handle %u")

150 
JMESSAGE
(
JTRC_EMS_OPEN
, "Obtained EMS handle %u")

151 
JMESSAGE
(
JTRC_EOI
, "End Of Image")

152 
JMESSAGE
(
JTRC_HUFFBITS
, " %3d %3d %3d %3d %3d %3d %3d %3d")

153 
JMESSAGE
(
JTRC_JFIF
, "JFIF APP0 marker: version %d.%02d, density %dx%d %d")

154 
JMESSAGE
(
JTRC_JFIF_BADTHUMBNAILSIZE
,

156 
JMESSAGE
(
JTRC_JFIF_EXTENSION
, "JFIFƒxtension marker:ype 0x%02x,†ength %u")

157 
JMESSAGE
(
JTRC_JFIF_THUMBNAIL
, " with %d x %dhumbnail image")

158 
JMESSAGE
(
JTRC_MISC_MARKER
, "Miscellaneous marker 0x%02x,†ength %u")

159 
JMESSAGE
(
JTRC_PARMLESS_MARKER
, "Unexpected marker 0x%02x")

160 
JMESSAGE
(
JTRC_QUANTVALS
, " %4u %4u %4u %4u %4u %4u %4u %4u")

161 
JMESSAGE
(
JTRC_QUANT_3_NCOLORS
, "Quantizingo %d = %d*%d*%d colors")

162 
JMESSAGE
(
JTRC_QUANT_NCOLORS
, "Quantizingo %d colors")

163 
JMESSAGE
(
JTRC_QUANT_SELECTED
, "Selected %d colors for quantization")

164 
JMESSAGE
(
JTRC_RECOVERY_ACTION
, "At marker 0x%02x,„ecovery‡ction %d")

165 
JMESSAGE
(
JTRC_RST
, "RST%d")

166 
JMESSAGE
(
JTRC_SMOOTH_NOTIMPL
,

168 
JMESSAGE
(
JTRC_SOF
, "Start Of Frame 0x%02x: width=%u, height=%u, components=%d")

169 
JMESSAGE
(
JTRC_SOF_COMPONENT
, " Component %d: %dhx%dv q=%d")

170 
JMESSAGE
(
JTRC_SOI
, "Start of Image")

171 
JMESSAGE
(
JTRC_SOS
, "Start Of Scan: %d components")

172 
JMESSAGE
(
JTRC_SOS_COMPONENT
, " Component %d: dc=%d‡c=%d")

173 
JMESSAGE
(
JTRC_SOS_PARAMS
, " Ss=%d, Se=%d, Ah=%d, Al=%d")

174 
JMESSAGE
(
JTRC_TFILE_CLOSE
, "Closedemporary file %s")

175 
JMESSAGE
(
JTRC_TFILE_OPEN
, "Openedemporary file %s")

176 
JMESSAGE
(
JTRC_THUMB_JPEG
,

178 
JMESSAGE
(
JTRC_THUMB_PALETTE
,

180 
JMESSAGE
(
JTRC_THUMB_RGB
,

182 
JMESSAGE
(
JTRC_UNKNOWN_IDS
,

184 
JMESSAGE
(
JTRC_XMS_CLOSE
, "Freed XMS handle %u")

185 
JMESSAGE
(
JTRC_XMS_OPEN
, "Obtained XMS handle %u")

186 
JMESSAGE
(
JWRN_ADOBE_XFORM
, "Unknown Adobe colorransform code %d")

187 #ià
JPEG_LIB_VERSION
 >= 70

188 
JMESSAGE
(
JWRN_ARITH_BAD_CODE
, "Corrupt JPEG data: bad‡rithmetic code")

190 
JMESSAGE
(
JWRN_BOGUS_PROGRESSION
,

192 
JMESSAGE
(
JWRN_EXTRANEOUS_DATA
,

194 
JMESSAGE
(
JWRN_HIT_MARKER
, "Corrupt JPEG data:…rematureƒnd of data segment")

195 
JMESSAGE
(
JWRN_HUFF_BAD_CODE
, "Corrupt JPEG data: bad Huffman code")

196 
JMESSAGE
(
JWRN_JFIF_MAJOR
, "Warning: unknown JFIF„evision‚umber %d.%02d")

197 
JMESSAGE
(
JWRN_JPEG_EOF
, "Prematureƒnd of JPEG file")

198 
JMESSAGE
(
JWRN_MUST_RESYNC
,

200 
JMESSAGE
(
JWRN_NOT_SEQUENTIAL
, "Invalid SOS…arameters for sequential JPEG")

201 
JMESSAGE
(
JWRN_TOO_MUCH_DATA
, "Applicationransferredoo many scanlines")

202 #ià
JPEG_LIB_VERSION
 < 70

203 
JMESSAGE
(
JERR_BAD_CROP_SPEC
, "Invalid crop„equest")

204 #ià
defšed
(
C_ARITH_CODING_SUPPORTED
è|| defšed(
D_ARITH_CODING_SUPPORTED
)

205 
JMESSAGE
(
JERR_NO_ARITH_TABLE
, "Arithmeticable 0x%02x was‚ot defined")

206 
JMESSAGE
(
JWRN_ARITH_BAD_CODE
, "Corrupt JPEG data: bad‡rithmetic code")

209 
JMESSAGE
(
JWRN_BOGUS_ICC
, "Corrupt JPEG data: bad ICC marker")

211 #ifdeà
JMAKE_ENUM_LIST


213 
	mJMSG_LASTMSGCODE


214 } 
	tJ_MESSAGE_CODE
;

216 #undeà
JMAKE_ENUM_LIST


220 #undeà
JMESSAGE


223 #iâdeà
JERROR_H


224 
	#JERROR_H


	)

230 
	#ERREXIT
(
cšfo
, 
code
) \

231 ((
cšfo
)->
”r
->
msg_code
 = (
code
), \

232 (*(
cšfo
)->
”r
->
”rÜ_ex™
è((
j_commÚ_±r
)(cšfo)))

	)

233 
	#ERREXIT1
(
cšfo
, 
code
, 
p1
) \

234 ((
cšfo
)->
”r
->
msg_code
 = (
code
), \

235 (
cšfo
)->
”r
->
msg_·rm
.
i
[0] = (
p1
), \

236 (*(
cšfo
)->
”r
->
”rÜ_ex™
è((
j_commÚ_±r
)(cšfo)))

	)

237 
	#ERREXIT2
(
cšfo
, 
code
, 
p1
, 
p2
) \

238 ((
cšfo
)->
”r
->
msg_code
 = (
code
), \

239 (
cšfo
)->
”r
->
msg_·rm
.
i
[0] = (
p1
), \

240 (
cšfo
)->
”r
->
msg_·rm
.
i
[1] = (
p2
), \

241 (*(
cšfo
)->
”r
->
”rÜ_ex™
è((
j_commÚ_±r
)(cšfo)))

	)

242 
	#ERREXIT3
(
cšfo
, 
code
, 
p1
, 
p2
, 
p3
) \

243 ((
cšfo
)->
”r
->
msg_code
 = (
code
), \

244 (
cšfo
)->
”r
->
msg_·rm
.
i
[0] = (
p1
), \

245 (
cšfo
)->
”r
->
msg_·rm
.
i
[1] = (
p2
), \

246 (
cšfo
)->
”r
->
msg_·rm
.
i
[2] = (
p3
), \

247 (*(
cšfo
)->
”r
->
”rÜ_ex™
è((
j_commÚ_±r
)(cšfo)))

	)

248 
	#ERREXIT4
(
cšfo
, 
code
, 
p1
, 
p2
, 
p3
, 
p4
) \

249 ((
cšfo
)->
”r
->
msg_code
 = (
code
), \

250 (
cšfo
)->
”r
->
msg_·rm
.
i
[0] = (
p1
), \

251 (
cšfo
)->
”r
->
msg_·rm
.
i
[1] = (
p2
), \

252 (
cšfo
)->
”r
->
msg_·rm
.
i
[2] = (
p3
), \

253 (
cšfo
)->
”r
->
msg_·rm
.
i
[3] = (
p4
), \

254 (*(
cšfo
)->
”r
->
”rÜ_ex™
è((
j_commÚ_±r
)(cšfo)))

	)

255 
	#ERREXITS
(
cšfo
, 
code
, 
¡r
) \

256 ((
cšfo
)->
”r
->
msg_code
 = (
code
), \

257 
	`¡ºıy
((
cšfo
)->
”r
->
msg_·rm
.
s
, (
¡r
), 
JMSG_STR_PARM_MAX
), \

258 (*(
cšfo
)->
”r
->
”rÜ_ex™
è((
j_commÚ_±r
)(cšfo)))

	)

260 
	#MAKESTMT
(
¡uff
èdØ{ stufà} 0)

	)

263 
	#WARNMS
(
cšfo
, 
code
) \

264 ((
cšfo
)->
”r
->
msg_code
 = (
code
), \

265 (*(
cšfo
)->
”r
->
em™_mes§ge
è((
j_commÚ_±r
)(cšfo), -1))

	)

266 
	#WARNMS1
(
cšfo
, 
code
, 
p1
) \

267 ((
cšfo
)->
”r
->
msg_code
 = (
code
), \

268 (
cšfo
)->
”r
->
msg_·rm
.
i
[0] = (
p1
), \

269 (*(
cšfo
)->
”r
->
em™_mes§ge
è((
j_commÚ_±r
)(cšfo), -1))

	)

270 
	#WARNMS2
(
cšfo
, 
code
, 
p1
, 
p2
) \

271 ((
cšfo
)->
”r
->
msg_code
 = (
code
), \

272 (
cšfo
)->
”r
->
msg_·rm
.
i
[0] = (
p1
), \

273 (
cšfo
)->
”r
->
msg_·rm
.
i
[1] = (
p2
), \

274 (*(
cšfo
)->
”r
->
em™_mes§ge
è((
j_commÚ_±r
)(cšfo), -1))

	)

277 
	#TRACEMS
(
cšfo
, 
lvl
, 
code
) \

278 ((
cšfo
)->
”r
->
msg_code
 = (
code
), \

279 (*(
cšfo
)->
”r
->
em™_mes§ge
è((
j_commÚ_±r
)(cšfo), (
lvl
)))

	)

280 
	#TRACEMS1
(
cšfo
, 
lvl
, 
code
, 
p1
) \

281 ((
cšfo
)->
”r
->
msg_code
 = (
code
), \

282 (
cšfo
)->
”r
->
msg_·rm
.
i
[0] = (
p1
), \

283 (*(
cšfo
)->
”r
->
em™_mes§ge
è((
j_commÚ_±r
)(cšfo), (
lvl
)))

	)

284 
	#TRACEMS2
(
cšfo
, 
lvl
, 
code
, 
p1
, 
p2
) \

285 ((
cšfo
)->
”r
->
msg_code
 = (
code
), \

286 (
cšfo
)->
”r
->
msg_·rm
.
i
[0] = (
p1
), \

287 (
cšfo
)->
”r
->
msg_·rm
.
i
[1] = (
p2
), \

288 (*(
cšfo
)->
”r
->
em™_mes§ge
è((
j_commÚ_±r
)(cšfo), (
lvl
)))

	)

289 
	#TRACEMS3
(
cšfo
, 
lvl
, 
code
, 
p1
, 
p2
, 
p3
) \

290 
	`MAKESTMT
(*
_mp
 = (
cšfo
)->
”r
->
msg_·rm
.
i
; \

291 
_mp
[0] = (
p1
); _mp[1] = (
p2
); _mp[2] = (
p3
); \

292 (
cšfo
)->
”r
->
msg_code
 = (
code
); \

293 (*(
cšfo
)->
”r
->
em™_mes§ge
è((
j_commÚ_±r
)(cšfo), (
lvl
)); )

	)

294 
	#TRACEMS4
(
cšfo
, 
lvl
, 
code
, 
p1
, 
p2
, 
p3
, 
p4
) \

295 
	`MAKESTMT
(*
_mp
 = (
cšfo
)->
”r
->
msg_·rm
.
i
; \

296 
_mp
[0] = (
p1
); _mp[1] = (
p2
); _mp[2] = (
p3
); _mp[3] = (
p4
); \

297 (
cšfo
)->
”r
->
msg_code
 = (
code
); \

298 (*(
cšfo
)->
”r
->
em™_mes§ge
è((
j_commÚ_±r
)(cšfo), (
lvl
)); )

	)

299 
	#TRACEMS5
(
cšfo
, 
lvl
, 
code
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
) \

300 
	`MAKESTMT
(*
_mp
 = (
cšfo
)->
”r
->
msg_·rm
.
i
; \

301 
_mp
[0] = (
p1
); _mp[1] = (
p2
); _mp[2] = (
p3
); _mp[3] = (
p4
); \

302 
_mp
[4] = (
p5
); \

303 (
cšfo
)->
”r
->
msg_code
 = (
code
); \

304 (*(
cšfo
)->
”r
->
em™_mes§ge
è((
j_commÚ_±r
)(cšfo), (
lvl
)); )

	)

305 
	#TRACEMS8
(
cšfo
, 
lvl
, 
code
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, 
p7
, 
p8
) \

306 
	`MAKESTMT
(*
_mp
 = (
cšfo
)->
”r
->
msg_·rm
.
i
; \

307 
_mp
[0] = (
p1
); _mp[1] = (
p2
); _mp[2] = (
p3
); _mp[3] = (
p4
); \

308 
_mp
[4] = (
p5
); _mp[5] = (
p6
); _mp[6] = (
p7
); _mp[7] = (
p8
); \

309 (
cšfo
)->
”r
->
msg_code
 = (
code
); \

310 (*(
cšfo
)->
”r
->
em™_mes§ge
è((
j_commÚ_±r
)(cšfo), (
lvl
)); )

	)

311 
	#TRACEMSS
(
cšfo
, 
lvl
, 
code
, 
¡r
) \

312 ((
cšfo
)->
”r
->
msg_code
 = (
code
), \

313 
	`¡ºıy
((
cšfo
)->
”r
->
msg_·rm
.
s
, (
¡r
), 
JMSG_STR_PARM_MAX
), \

314 (*(
cšfo
)->
”r
->
em™_mes§ge
è((
j_commÚ_±r
)(cšfo), (
lvl
)))

	)

	@/usr/include/jmorecfg.h

27 
	#MAX_COMPONENTS
 10

	)

44 #ià
BITS_IN_JSAMPLE
 == 8

49 #ifdeà
HAVE_UNSIGNED_CHAR


51 
	tJSAMPLE
;

52 
	#GETJSAMPLE
(
v®ue
è(()(v®ue))

	)

56 
	tJSAMPLE
;

57 #ifdeà
__CHAR_UNSIGNED__


58 
	#GETJSAMPLE
(
v®ue
è(()(v®ue))

	)

60 
	#GETJSAMPLE
(
v®ue
è(()(v®ueè& 0xFF)

	)

65 
	#MAXJSAMPLE
 255

	)

66 
	#CENTERJSAMPLE
 128

	)

71 #ià
BITS_IN_JSAMPLE
 == 12

76 
	tJSAMPLE
;

77 
	#GETJSAMPLE
(
v®ue
è(()(v®ue))

	)

79 
	#MAXJSAMPLE
 4095

	)

80 
	#CENTERJSAMPLE
 2048

	)

91 
	tJCOEF
;

100 #ifdeà
HAVE_UNSIGNED_CHAR


102 
	tJOCTET
;

103 
	#GETJOCTET
(
v®ue
è(v®ue)

	)

107 
	tJOCTET
;

108 #ifdeà
__CHAR_UNSIGNED__


109 
	#GETJOCTET
(
v®ue
è(v®ue)

	)

111 
	#GETJOCTET
(
v®ue
è((v®ueè& 0xFF)

	)

126 #ifdeà
HAVE_UNSIGNED_CHAR


127 
	tUINT8
;

129 #ifdeà
__CHAR_UNSIGNED__


130 
	tUINT8
;

132 
	tUINT8
;

138 #ifdeà
HAVE_UNSIGNED_SHORT


139 
	tUINT16
;

141 
	tUINT16
;

146 #iâdeà
XMD_H


147 
	tINT16
;

175 #iâdeà
XMD_H


176 #iâdeà
_BASETSD_H_


177 #iâdeà
_BASETSD_H


178 #iâdeà
QGLOBAL_H


179 
	tINT32
;

194 
	tJDIMENSION
;

196 
	#JPEG_MAX_DIMENSION
 65500L

	)

207 
	#METHODDEF
(
ty³
è
	)
type

209 
	#LOCAL
(
ty³
è
	)
type

211 
	#GLOBAL
(
ty³
è
	)
type

213 
	#EXTERN
(
ty³
è
	)
type

223 
	#JMETHOD
(
ty³
, 
m‘hodÇme
, 
¬gli¡
è
	`ty³
 (*m‘hodÇmeè
	)
arglist

230 #undeà
FAR


231 
	#FAR


	)

241 #iâdeà
HAVE_BOOLEAN


242 
	tboŞ—n
;

244 #iâdeà
FALSE


245 
	#FALSE
 0

	)

247 #iâdeà
TRUE


248 
	#TRUE
 1

	)

259 #ifdeà
JPEG_INTERNALS


260 
	#JPEG_INTERNAL_OPTIONS


	)

263 #ifdeà
JPEG_INTERNAL_OPTIONS


276 
	#DCT_ISLOW_SUPPORTED


	)

277 
	#DCT_IFAST_SUPPORTED


	)

278 
	#DCT_FLOAT_SUPPORTED


	)

282 
	#C_MULTISCAN_FILES_SUPPORTED


	)

283 
	#C_PROGRESSIVE_SUPPORTED


	)

284 
	#ENTROPY_OPT_SUPPORTED


	)

293 
	#INPUT_SMOOTHING_SUPPORTED


	)

297 
	#D_MULTISCAN_FILES_SUPPORTED


	)

298 
	#D_PROGRESSIVE_SUPPORTED


	)

299 
	#SAVE_MARKERS_SUPPORTED


	)

300 
	#BLOCK_SMOOTHING_SUPPORTED


	)

301 
	#IDCT_SCALING_SUPPORTED


	)

302 #undeà
UPSAMPLE_SCALING_SUPPORTED


303 
	#UPSAMPLE_MERGING_SUPPORTED


	)

304 
	#QUANT_1PASS_SUPPORTED


	)

305 
	#QUANT_2PASS_SUPPORTED


	)

331 
	#RGB_RED
 0

	)

332 
	#RGB_GREEN
 1

	)

333 
	#RGB_BLUE
 2

	)

334 
	#RGB_PIXELSIZE
 3

	)

336 
	#JPEG_NUMCS
 17

	)

338 
	#EXT_RGB_RED
 0

	)

339 
	#EXT_RGB_GREEN
 1

	)

340 
	#EXT_RGB_BLUE
 2

	)

341 
	#EXT_RGB_PIXELSIZE
 3

	)

343 
	#EXT_RGBX_RED
 0

	)

344 
	#EXT_RGBX_GREEN
 1

	)

345 
	#EXT_RGBX_BLUE
 2

	)

346 
	#EXT_RGBX_PIXELSIZE
 4

	)

348 
	#EXT_BGR_RED
 2

	)

349 
	#EXT_BGR_GREEN
 1

	)

350 
	#EXT_BGR_BLUE
 0

	)

351 
	#EXT_BGR_PIXELSIZE
 3

	)

353 
	#EXT_BGRX_RED
 2

	)

354 
	#EXT_BGRX_GREEN
 1

	)

355 
	#EXT_BGRX_BLUE
 0

	)

356 
	#EXT_BGRX_PIXELSIZE
 4

	)

358 
	#EXT_XBGR_RED
 3

	)

359 
	#EXT_XBGR_GREEN
 2

	)

360 
	#EXT_XBGR_BLUE
 1

	)

361 
	#EXT_XBGR_PIXELSIZE
 4

	)

363 
	#EXT_XRGB_RED
 1

	)

364 
	#EXT_XRGB_GREEN
 2

	)

365 
	#EXT_XRGB_BLUE
 3

	)

366 
	#EXT_XRGB_PIXELSIZE
 4

	)

368 cÚ¡ 
	grgb_»d
[
JPEG_NUMCS
] = {

369 -1, -1, 
RGB_RED
, -1, -1, -1, 
EXT_RGB_RED
, 
EXT_RGBX_RED
,

370 
EXT_BGR_RED
, 
EXT_BGRX_RED
, 
EXT_XBGR_RED
, 
EXT_XRGB_RED
,

371 
EXT_RGBX_RED
, 
EXT_BGRX_RED
, 
EXT_XBGR_RED
, 
EXT_XRGB_RED
,

375 cÚ¡ 
	grgb_g»’
[
JPEG_NUMCS
] = {

376 -1, -1, 
RGB_GREEN
, -1, -1, -1, 
EXT_RGB_GREEN
, 
EXT_RGBX_GREEN
,

377 
EXT_BGR_GREEN
, 
EXT_BGRX_GREEN
, 
EXT_XBGR_GREEN
, 
EXT_XRGB_GREEN
,

378 
EXT_RGBX_GREEN
, 
EXT_BGRX_GREEN
, 
EXT_XBGR_GREEN
, 
EXT_XRGB_GREEN
,

382 cÚ¡ 
	grgb_blue
[
JPEG_NUMCS
] = {

383 -1, -1, 
RGB_BLUE
, -1, -1, -1, 
EXT_RGB_BLUE
, 
EXT_RGBX_BLUE
,

384 
EXT_BGR_BLUE
, 
EXT_BGRX_BLUE
, 
EXT_XBGR_BLUE
, 
EXT_XRGB_BLUE
,

385 
EXT_RGBX_BLUE
, 
EXT_BGRX_BLUE
, 
EXT_XBGR_BLUE
, 
EXT_XRGB_BLUE
,

389 cÚ¡ 
	grgb_pix–size
[
JPEG_NUMCS
] = {

390 -1, -1, 
RGB_PIXELSIZE
, -1, -1, -1, 
EXT_RGB_PIXELSIZE
, 
EXT_RGBX_PIXELSIZE
,

391 
EXT_BGR_PIXELSIZE
, 
EXT_BGRX_PIXELSIZE
, 
EXT_XBGR_PIXELSIZE
, 
EXT_XRGB_PIXELSIZE
,

392 
EXT_RGBX_PIXELSIZE
, 
EXT_BGRX_PIXELSIZE
, 
EXT_XBGR_PIXELSIZE
, 
EXT_XRGB_PIXELSIZE
,

403 #iâdeà
MULTIPLIER


404 #iâdeà
WITH_SIMD


405 
	#MULTIPLIER
 

	)

407 
	#MULTIPLIER
 

	)

417 #iâdeà
FAST_FLOAT


418 
	#FAST_FLOAT
 

	)

	@/usr/include/jpegint.h

22 
	mJBUF_PASS_THRU
,

24 
	mJBUF_SAVE_SOURCE
,

25 
	mJBUF_CRANK_DEST
,

26 
	mJBUF_SAVE_AND_PASS


27 } 
	tJ_BUF_MODE
;

30 
	#CSTATE_START
 100

	)

31 
	#CSTATE_SCANNING
 101

	)

32 
	#CSTATE_RAW_OK
 102

	)

33 
	#CSTATE_WRCOEFS
 103

	)

34 
	#DSTATE_START
 200

	)

35 
	#DSTATE_INHEADER
 201

	)

36 
	#DSTATE_READY
 202

	)

37 
	#DSTATE_PRELOAD
 203

	)

38 
	#DSTATE_PRESCAN
 204

	)

39 
	#DSTATE_SCANNING
 205

	)

40 
	#DSTATE_RAW_OK
 206

	)

41 
	#DSTATE_BUFIMAGE
 207

	)

42 
	#DSTATE_BUFPOST
 208

	)

43 
	#DSTATE_RDCOEFS
 209

	)

44 
	#DSTATE_STOPPING
 210

	)

48 
	tJLONG
;

56 
	#LEFT_SHIFT
(
a
, 
b
è((
JLONG
)(()×è<< (b)))

	)

62 
	sj³g_comp_ma¡”
 {

63 (*
	m´•¬e_fÜ_·ss
è(
j_com´ess_±r
 
	mcšfo
);

64 (*
	m·ss_¡¬tup
è(
j_com´ess_±r
 
	mcšfo
);

65 (*
	mfšish_·ss
è(
j_com´ess_±r
 
	mcšfo
);

68 
boŞ—n
 
	mÿÎ_·ss_¡¬tup
;

69 
boŞ—n
 
	mis_Ï¡_·ss
;

73 
	sj³g_c_maš_cÚŒŞËr
 {

74 (*
	m¡¬t_·ss
è(
j_com´ess_±r
 
	mcšfo
, 
J_BUF_MODE
 
	m·ss_mode
);

75 (*
	m´oûss_d©a
è(
j_com´ess_±r
 
	mcšfo
, 
JSAMPARRAY
 
	mšput_buf
,

76 
JDIMENSION
 *
	mš_row_ùr
, JDIMENSION 
	mš_rows_ava
);

80 
	sj³g_c_´•_cÚŒŞËr
 {

81 (*
	m¡¬t_·ss
è(
j_com´ess_±r
 
	mcšfo
, 
J_BUF_MODE
 
	m·ss_mode
);

82 (*
	m´e_´oûss_d©a
è(
j_com´ess_±r
 
	mcšfo
, 
JSAMPARRAY
 
	mšput_buf
,

83 
JDIMENSION
 *
	mš_row_ùr
, JDIMENSION 
	mš_rows_ava
,

84 
JSAMPIMAGE
 
	mouut_buf
,

85 
JDIMENSION
 *
	mout_row_group_ùr
,

86 
JDIMENSION
 
	mout_row_groups_ava
);

90 
	sj³g_c_cÛf_cÚŒŞËr
 {

91 (*
	m¡¬t_·ss
è(
j_com´ess_±r
 
	mcšfo
, 
J_BUF_MODE
 
	m·ss_mode
);

92 
boŞ—n
 (*
com´ess_d©a
è(
j_com´ess_±r
 
	mcšfo
, 
JSAMPIMAGE
 
	mšput_buf
);

96 
	sj³g_cŞÜ_cÚv”‹r
 {

97 (*
	m¡¬t_·ss
è(
j_com´ess_±r
 
	mcšfo
);

98 (*
	mcŞÜ_cÚv”t
è(
j_com´ess_±r
 
	mcšfo
, 
JSAMPARRAY
 
	mšput_buf
,

99 
JSAMPIMAGE
 
	mouut_buf
, 
JDIMENSION
 
	mouut_row
,

100 
	mnum_rows
);

104 
	sj³g_down§m¶”
 {

105 (*
	m¡¬t_·ss
è(
j_com´ess_±r
 
	mcšfo
);

106 (*
	mdown§m¶e
è(
j_com´ess_±r
 
	mcšfo
, 
JSAMPIMAGE
 
	mšput_buf
,

107 
JDIMENSION
 
	mš_row_šdex
, 
JSAMPIMAGE
 
	mouut_buf
,

108 
JDIMENSION
 
	mout_row_group_šdex
);

110 
boŞ—n
 
	mÃed_cÚ‹xt_rows
;

114 
	sj³g_fÜw¬d_dù
 {

115 (*
	m¡¬t_·ss
è(
j_com´ess_±r
 
	mcšfo
);

117 (*
	mfÜw¬d_DCT
è(
j_com´ess_±r
 
	mcšfo
, 
j³g_compÚ’t_šfo
 *
	mcomµŒ
,

118 
JSAMPARRAY
 
	m§m¶e_d©a
, 
JBLOCKROW
 
	mcÛf_blocks
,

119 
JDIMENSION
 
	m¡¬t_row
, JDIMENSION 
	m¡¬t_cŞ
,

120 
JDIMENSION
 
	mnum_blocks
);

124 
	sj³g_’Œİy_’cod”
 {

125 (*
	m¡¬t_·ss
è(
j_com´ess_±r
 
	mcšfo
, 
boŞ—n
 
	mg©h”_¡©i¡ics
);

126 
boŞ—n
 (*
’code_mcu
è(
j_com´ess_±r
 
	mcšfo
, 
JBLOCKROW
 *
	mMCU_d©a
);

127 (*
	mfšish_·ss
è(
j_com´ess_±r
 
	mcšfo
);

131 
	sj³g_m¬k”_wr™”
 {

132 (*
	mwr™e_fe_h—d”
è(
j_com´ess_±r
 
	mcšfo
);

133 (*
	mwr™e_äame_h—d”
è(
j_com´ess_±r
 
	mcšfo
);

134 (*
	mwr™e_sÿn_h—d”
è(
j_com´ess_±r
 
	mcšfo
);

135 (*
	mwr™e_fe_Œa”
è(
j_com´ess_±r
 
	mcšfo
);

136 (*
	mwr™e_bËs_Úly
è(
j_com´ess_±r
 
	mcšfo
);

139 (*
	mwr™e_m¬k”_h—d”
è(
j_com´ess_±r
 
	mcšfo
, 
	mm¬k”
,

140 
	md©®’
);

141 (*
	mwr™e_m¬k”_by‹
è(
j_com´ess_±r
 
	mcšfo
, 
	mv®
);

148 
	sj³g_decomp_ma¡”
 {

149 (*
	m´•¬e_fÜ_ouut_·ss
è(
j_decom´ess_±r
 
	mcšfo
);

150 (*
	mfšish_ouut_·ss
è(
j_decom´ess_±r
 
	mcšfo
);

153 
boŞ—n
 
	mis_dummy_·ss
;

156 
JDIMENSION
 
	mfœ¡_iMCU_cŞ
;

157 
JDIMENSION
 
	mÏ¡_iMCU_cŞ
;

158 
JDIMENSION
 
	mfœ¡_MCU_cŞ
[
MAX_COMPONENTS
];

159 
JDIMENSION
 
	mÏ¡_MCU_cŞ
[
MAX_COMPONENTS
];

160 
boŞ—n
 
	mjš™_up§m¶”_no_®loc
;

164 
	sj³g_šput_cÚŒŞËr
 {

165 (*
	mcÚsume_šput
è(
j_decom´ess_±r
 
	mcšfo
);

166 (*
	m»£t_šput_cÚŒŞËr
è(
j_decom´ess_±r
 
	mcšfo
);

167 (*
	m¡¬t_šput_·ss
è(
j_decom´ess_±r
 
	mcšfo
);

168 (*
	mfšish_šput_·ss
è(
j_decom´ess_±r
 
	mcšfo
);

171 
boŞ—n
 
	mhas_muÉË_sÿns
;

172 
boŞ—n
 
	meoi_»ached
;

176 
	sj³g_d_maš_cÚŒŞËr
 {

177 (*
	m¡¬t_·ss
è(
j_decom´ess_±r
 
	mcšfo
, 
J_BUF_MODE
 
	m·ss_mode
);

178 (*
	m´oûss_d©a
è(
j_decom´ess_±r
 
	mcšfo
, 
JSAMPARRAY
 
	mouut_buf
,

179 
JDIMENSION
 *
	mout_row_ùr
, JDIMENSION 
	mout_rows_ava
);

183 
	sj³g_d_cÛf_cÚŒŞËr
 {

184 (*
	m¡¬t_šput_·ss
è(
j_decom´ess_±r
 
	mcšfo
);

185 (*
	mcÚsume_d©a
è(
j_decom´ess_±r
 
	mcšfo
);

186 (*
	m¡¬t_ouut_·ss
è(
j_decom´ess_±r
 
	mcšfo
);

187 (*
	mdecom´ess_d©a
è(
j_decom´ess_±r
 
	mcšfo
, 
JSAMPIMAGE
 
	mouut_buf
);

189 
jvœt_b¬¿y_±r
 *
	mcÛf_¬¿ys
;

193 
	sj³g_d_po¡_cÚŒŞËr
 {

194 (*
	m¡¬t_·ss
è(
j_decom´ess_±r
 
	mcšfo
, 
J_BUF_MODE
 
	m·ss_mode
);

195 (*
	mpo¡_´oûss_d©a
è(
j_decom´ess_±r
 
	mcšfo
, 
JSAMPIMAGE
 
	mšput_buf
,

196 
JDIMENSION
 *
	mš_row_group_ùr
,

197 
JDIMENSION
 
	mš_row_groups_ava
,

198 
JSAMPARRAY
 
	mouut_buf
, 
JDIMENSION
 *
	mout_row_ùr
,

199 
JDIMENSION
 
	mout_rows_ava
);

203 
	sj³g_m¬k”_»ad”
 {

204 (*
	m»£t_m¬k”_»ad”
è(
j_decom´ess_±r
 
	mcšfo
);

209 (*
	m»ad_m¬k”s
è(
j_decom´ess_±r
 
	mcšfo
);

211 
j³g_m¬k”_·r£r_m‘hod
 
	m»ad_»¡¬t_m¬k”
;

216 
boŞ—n
 
	m§w_SOI
;

217 
boŞ—n
 
	m§w_SOF
;

218 
	mÃxt_»¡¬t_num
;

219 
	mdisÿrded_by‹s
;

223 
	sj³g_’Œİy_decod”
 {

224 (*
	m¡¬t_·ss
è(
j_decom´ess_±r
 
	mcšfo
);

225 
boŞ—n
 (*
decode_mcu
è(
j_decom´ess_±r
 
	mcšfo
, 
JBLOCKROW
 *
	mMCU_d©a
);

229 
boŞ—n
 
	mšsuffic›Á_d©a
;

233 (*
	tšv”£_DCT_m‘hod_±r
è(
	tj_decom´ess_±r
 
	tcšfo
,

234 
	tj³g_compÚ’t_šfo
 *
	tcomµŒ
,

235 
	tJCOEFPTR
 
	tcÛf_block
,

236 
	tJSAMPARRAY
 
	touut_buf
,

237 
	tJDIMENSION
 
	touut_cŞ
);

239 
	sj³g_šv”£_dù
 {

240 (*
¡¬t_·ss
è(
j_decom´ess_±r
 
cšfo
);

242 
šv”£_DCT_m‘hod_±r
 
šv”£_DCT
[
MAX_COMPONENTS
];

246 
	sj³g_up§m¶”
 {

247 (*
¡¬t_·ss
è(
j_decom´ess_±r
 
cšfo
);

248 (*
up§m¶e
è(
j_decom´ess_±r
 
cšfo
, 
JSAMPIMAGE
 
šput_buf
,

249 
JDIMENSION
 *
š_row_group_ùr
,

250 
JDIMENSION
 
š_row_groups_ava
, 
JSAMPARRAY
 
ouut_buf
,

251 
JDIMENSION
 *
out_row_ùr
, JDIMENSION 
out_rows_ava
);

253 
boŞ—n
 
Ãed_cÚ‹xt_rows
;

257 
	sj³g_cŞÜ_decÚv”‹r
 {

258 (*
¡¬t_·ss
è(
j_decom´ess_±r
 
cšfo
);

259 (*
cŞÜ_cÚv”t
è(
j_decom´ess_±r
 
cšfo
, 
JSAMPIMAGE
 
šput_buf
,

260 
JDIMENSION
 
šput_row
, 
JSAMPARRAY
 
ouut_buf
,

261 
num_rows
);

265 
	sj³g_cŞÜ_quªtiz”
 {

266 (*
¡¬t_·ss
è(
j_decom´ess_±r
 
cšfo
, 
boŞ—n
 
is_´e_sÿn
);

267 (*
cŞÜ_quªtize
è(
j_decom´ess_±r
 
cšfo
, 
JSAMPARRAY
 
šput_buf
,

268 
JSAMPARRAY
 
ouut_buf
, 
num_rows
);

269 (*
fšish_·ss
è(
j_decom´ess_±r
 
cšfo
);

270 (*
Ãw_cŞÜ_m­
è(
j_decom´ess_±r
 
cšfo
);

276 #undeà
MAX


277 
	#MAX
(
a
, 
b
è(×è> (bè? (aè: (b))

	)

278 #undeà
MIN


279 
	#MIN
(
a
, 
b
è(×è< (bè? (aè: (b))

	)

292 #ifdeà
RIGHT_SHIFT_IS_UNSIGNED


293 
	#SHIFT_TEMPS
 
JLONG
 
shiá_‹mp
;

	)

294 
	#RIGHT_SHIFT
(
x
, 
shá
) \

295 ((
shiá_‹mp
 = (
x
)) < 0 ? \

296 (
shiá_‹mp
 >> (
shá
)è| ((~((
JLONG
)0)) << (32 - (shft))) : \

297 (
shiá_‹mp
 >> (
shá
)))

	)

299 
	#SHIFT_TEMPS


	)

300 
	#RIGHT_SHIFT
(
x
, 
shá
è((xè>> (shá))

	)

305 
	$EXTERN
(è
	`jš™_com´ess_ma¡”
(
j_com´ess_±r
 
cšfo
);

306 
	$EXTERN
(è
	`jš™_c_ma¡”_cÚŒŞ
(
j_com´ess_±r
 
cšfo
,

307 
boŞ—n
 
Œªscode_Úly
);

308 
	$EXTERN
(è
	`jš™_c_maš_cÚŒŞËr
(
j_com´ess_±r
 
cšfo
,

309 
boŞ—n
 
Ãed_fuÎ_bufãr
);

310 
	$EXTERN
(è
	`jš™_c_´•_cÚŒŞËr
(
j_com´ess_±r
 
cšfo
,

311 
boŞ—n
 
Ãed_fuÎ_bufãr
);

312 
	$EXTERN
(è
	`jš™_c_cÛf_cÚŒŞËr
(
j_com´ess_±r
 
cšfo
,

313 
boŞ—n
 
Ãed_fuÎ_bufãr
);

314 
	$EXTERN
(è
	`jš™_cŞÜ_cÚv”‹r
(
j_com´ess_±r
 
cšfo
);

315 
	$EXTERN
(è
	`jš™_down§m¶”
(
j_com´ess_±r
 
cšfo
);

316 
	$EXTERN
(è
	`jš™_fÜw¬d_dù
(
j_com´ess_±r
 
cšfo
);

317 
	$EXTERN
(è
	`jš™_huff_’cod”
(
j_com´ess_±r
 
cšfo
);

318 
	$EXTERN
(è
	`jš™_phuff_’cod”
(
j_com´ess_±r
 
cšfo
);

319 
	$EXTERN
(è
	`jš™_¬™h_’cod”
(
j_com´ess_±r
 
cšfo
);

320 
	$EXTERN
(è
	`jš™_m¬k”_wr™”
(
j_com´ess_±r
 
cšfo
);

322 
	$EXTERN
(è
	`jš™_ma¡”_decom´ess
(
j_decom´ess_±r
 
cšfo
);

323 
	$EXTERN
(è
	`jš™_d_maš_cÚŒŞËr
(
j_decom´ess_±r
 
cšfo
,

324 
boŞ—n
 
Ãed_fuÎ_bufãr
);

325 
	$EXTERN
(è
	`jš™_d_cÛf_cÚŒŞËr
(
j_decom´ess_±r
 
cšfo
,

326 
boŞ—n
 
Ãed_fuÎ_bufãr
);

327 
	$EXTERN
(è
	`jš™_d_po¡_cÚŒŞËr
(
j_decom´ess_±r
 
cšfo
,

328 
boŞ—n
 
Ãed_fuÎ_bufãr
);

329 
	$EXTERN
(è
	`jš™_šput_cÚŒŞËr
(
j_decom´ess_±r
 
cšfo
);

330 
	$EXTERN
(è
	`jš™_m¬k”_»ad”
(
j_decom´ess_±r
 
cšfo
);

331 
	$EXTERN
(è
	`jš™_huff_decod”
(
j_decom´ess_±r
 
cšfo
);

332 
	$EXTERN
(è
	`jš™_phuff_decod”
(
j_decom´ess_±r
 
cšfo
);

333 
	$EXTERN
(è
	`jš™_¬™h_decod”
(
j_decom´ess_±r
 
cšfo
);

334 
	$EXTERN
(è
	`jš™_šv”£_dù
(
j_decom´ess_±r
 
cšfo
);

335 
	$EXTERN
(è
	`jš™_up§m¶”
(
j_decom´ess_±r
 
cšfo
);

336 
	$EXTERN
(è
	`jš™_cŞÜ_decÚv”‹r
(
j_decom´ess_±r
 
cšfo
);

337 
	$EXTERN
(è
	`jš™_1·ss_quªtiz”
(
j_decom´ess_±r
 
cšfo
);

338 
	$EXTERN
(è
	`jš™_2·ss_quªtiz”
(
j_decom´ess_±r
 
cšfo
);

339 
	$EXTERN
(è
	`jš™_m”ged_up§m¶”
(
j_decom´ess_±r
 
cšfo
);

341 
	$EXTERN
(è
	`jš™_memÜy_mgr
(
j_commÚ_±r
 
cšfo
);

344 
	$EXTERN
(è
	`jdiv_round_up
(
a
, 
b
);

345 
	$EXTERN
(è
	`jround_up
(
a
, 
b
);

346 
	$EXTERN
(è
	`jcİy_§m¶e_rows
(
JSAMPARRAY
 
šput_¬¿y
, 
sourû_row
,

347 
JSAMPARRAY
 
ouut_¬¿y
, 
de¡_row
,

348 
num_rows
, 
JDIMENSION
 
num_cŞs
);

349 
	$EXTERN
(è
	`jcİy_block_row
(
JBLOCKROW
 
šput_row
, JBLOCKROW 
ouut_row
,

350 
JDIMENSION
 
num_blocks
);

351 
	$EXTERN
(è
	`jz”o_çr
(*
rg‘
, 
size_t
 
by‹¡oz”o
);

354 cÚ¡ 
j³g_zigzag_Üd”
[];

356 cÚ¡ 
j³g_Çtu¿l_Üd”
[];

359 cÚ¡ 
JLONG
 
j³g_¬™ab
[];

363 #ifdeà
INCOMPLETE_TYPES_BROKEN


364 #iâdeà
AM_MEMORY_MANAGER


365 
	sjvœt_§¼ay_cÚŒŞ
 { 
dummy
; };

366 
	sjvœt_b¬¿y_cÚŒŞ
 { 
dummy
; };

	@/usr/include/pngconf.h

21 #iâdeà
PNGCONF_H


22 
	#PNGCONF_H


	)

24 #iâdeà
PNG_BUILDING_SYMBOL_TABLE


31 
	~<lim™s.h
>

32 
	~<¡ddef.h
>

44 #ifdeà
PNG_STDIO_SUPPORTED


46 
	~<¡dio.h
>

49 #ifdeà
PNG_SETJMP_SUPPORTED


51 
	~<£tjmp.h
>

54 #ifdeà
PNG_CONVERT_tIME_SUPPORTED


56 
	~<time.h
>

64 
	#PNG_CONST
 cÚ¡

	)

72 #iâdeà
PNG_READ_INT_FUNCTIONS_SUPPORTED


73 
	#PNG_USE_READ_MACROS


	)

75 #ià!
defšed
(
PNG_NO_USE_READ_MACROS
è&& !defšed(
PNG_USE_READ_MACROS
)

76 #ià
PNG_DEFAULT_READ_MACROS


77 
	#PNG_USE_READ_MACROS


	)

93 #iâdeà
PNGARG


94 
	#PNGARG
(
¬gli¡
è
	)
arglist

183 #ià
defšed
(
_Wšdows
è|| defšed(
_WINDOWS
è|| defšed(
WIN32
) ||\

184 
defšed
(
_WIN32
è|| defšed(
__WIN32__
è|| 
	$defšed
(
__CYGWIN__
)

190 #ià
PNG_API_RULE
 == 2

196 
	#PNGCAPI
 
__w©ÿÎ


	)

199 #ià
	`defšed
(
__GNUC__
è|| (defšed(
_MSC_VER
) && (_MSC_VER >= 800))

200 
	#PNGCAPI
 
__cdeş


	)

201 #ià
PNG_API_RULE
 == 1

205 
	#PNGAPI
 
__¡dÿÎ


	)

212 #iâdeà
PNGCAPI


213 
	#PNGCAPI
 
_cdeş


	)

215 #ià
PNG_API_RULE
 =ğ1 && !
	`defšed
(
PNGAPI
)

216 
	#PNGAPI
 
_¡dÿÎ


	)

222 #ià
	`defšed
(
PNGAPI
è&& !defšed(
PNG_USER_PRIVATEBUILD
)

226 #ià(
	`defšed
(
_MSC_VER
) && _MSC_VER < 800) ||\

227 (
	`defšed
(
__BORLANDC__
) && __BORLANDC__ < 0x500)

232 #iâdeà
PNG_EXPORT_TYPE


233 
	#PNG_EXPORT_TYPE
(
ty³
èty³ 
PNG_IMPEXP


	)

235 
	#PNG_DLL_EXPORT
 
__expÜt


	)

237 
	#PNG_DLL_EXPORT
 
	`__deş¥ec
(
dÎexpÜt
)

	)

238 #iâdeà
PNG_DLL_IMPORT


239 
	#PNG_DLL_IMPORT
 
	`__deş¥ec
(
dÎimpÜt
)

	)

244 #ià(
	`defšed
(
__IBMC__
è|| defšed(
__IBMCPP__
)è&& defšed(
__OS2__
)

245 
	#PNGAPI
 
_Sy¡em


	)

254 #iâdeà
PNGCAPI


255 
	#PNGCAPI


	)

257 #iâdeà
PNGCBAPI


258 
	#PNGCBAPI
 
PNGCAPI


	)

260 #iâdeà
PNGAPI


261 
	#PNGAPI
 
PNGCAPI


	)

268 #iâdeà
PNG_IMPEXP


269 #ià
	`defšed
(
PNG_USE_DLL
è&& defšed(
PNG_DLL_IMPORT
)

271 
	#PNG_IMPEXP
 
PNG_DLL_IMPORT


	)

274 #iâdeà
PNG_IMPEXP


275 
	#PNG_IMPEXP


	)

286 #iâdeà
PNG_FUNCTION


287 
	#PNG_FUNCTION
(
ty³
, 
Çme
, 
¬gs
, 
©Œibu‹s
è©Œibu‹ ty³‚am
	)
args

290 #iâdeà
PNG_EXPORT_TYPE


291 
	#PNG_EXPORT_TYPE
(
ty³
è
PNG_IMPEXP
 
	)
type

299 #iâdeà
PNG_EXPORTA


300 
	#PNG_EXPORTA
(
Üdš®
, 
ty³
, 
Çme
, 
¬gs
, 
©Œibu‹s
) \

301 
	`PNG_FUNCTION
(
	`PNG_EXPORT_TYPE
(
ty³
), (
PNGAPI
 
Çme
), 
	`PNGARG
(
¬gs
), \

302 
PNG_LINKAGE_API
 
©Œibu‹s
)

	)

308 
	#PNG_EMPTY


	)

310 
	#PNG_EXPORT
(
Üdš®
, 
ty³
, 
Çme
, 
¬gs
) \

311 
	`PNG_EXPORTA
(
Üdš®
, 
ty³
, 
Çme
, 
¬gs
, 
PNG_EMPTY
)

	)

314 #iâdeà
PNG_REMOVED


315 
	#PNG_REMOVED
(
Üdš®
, 
ty³
, 
Çme
, 
¬gs
, 
©Œibu‹s
)

	)

318 #iâdeà
PNG_CALLBACK


319 
	#PNG_CALLBACK
(
ty³
, 
Çme
, 
¬gs
è
	`ty³
 (
PNGCBAPI
‚ameè
	`PNGARG
×rgs)

	)

329 #iâdeà
PNG_NO_PEDANTIC_WARNINGS


330 #iâdeà
PNG_PEDANTIC_WARNINGS_SUPPORTED


331 
	#PNG_PEDANTIC_WARNINGS_SUPPORTED


	)

335 #ifdeà
PNG_PEDANTIC_WARNINGS_SUPPORTED


342 #ià
	`defšed
(
__şªg__
è&& defšed(
__has_©Œibu‹
)

344 #ià!
	`defšed
(
PNG_USE_RESULT
è&& 
	`__has_©Œibu‹
(
__w¬n_unu£d_»suÉ__
)

345 
	#PNG_USE_RESULT
 
	`__©Œibu‹__
((
__w¬n_unu£d_»suÉ__
))

	)

347 #ià!
	`defšed
(
PNG_NORETURN
è&& 
	`__has_©Œibu‹
(
__nÜ‘uº__
)

348 
	#PNG_NORETURN
 
	`__©Œibu‹__
((
__nÜ‘uº__
))

	)

350 #ià!
	`defšed
(
PNG_ALLOCATED
è&& 
	`__has_©Œibu‹
(
__m®loc__
)

351 
	#PNG_ALLOCATED
 
	`__©Œibu‹__
((
__m®loc__
))

	)

353 #ià!
	`defšed
(
PNG_DEPRECATED
è&& 
	`__has_©Œibu‹
(
__d•»ÿ‹d__
)

354 
	#PNG_DEPRECATED
 
	`__©Œibu‹__
((
__d•»ÿ‹d__
))

	)

356 #ià!
	`defšed
(
PNG_PRIVATE
)

357 #ifdeà
__has_ex‹nsiÚ


358 #ià
	`__has_ex‹nsiÚ
(
©Œibu‹_uÇvaabË_w™h_mes§ge
)

359 
	#PNG_PRIVATE
 
	`__©Œibu‹__
((
	`__uÇvaabË__
(\

360 "Thi funùiÚ i nÙƒxpÜ‹d by†ib²g.")))

	)

364 #iâdeà
PNG_RESTRICT


365 
	#PNG_RESTRICT
 
__»¡riù


	)

368 #–ià
	`defšed
(
__GNUC__
)

369 #iâdeà
PNG_USE_RESULT


370 
	#PNG_USE_RESULT
 
	`__©Œibu‹__
((
__w¬n_unu£d_»suÉ__
))

	)

372 #iâdeà
PNG_NORETURN


373 
	#PNG_NORETURN
 
	`__©Œibu‹__
((
__nÜ‘uº__
))

	)

375 #ià
__GNUC__
 >= 3

376 #iâdeà
PNG_ALLOCATED


377 
	#PNG_ALLOCATED
 
	`__©Œibu‹__
((
__m®loc__
))

	)

379 #iâdeà
PNG_DEPRECATED


380 
	#PNG_DEPRECATED
 
	`__©Œibu‹__
((
__d•»ÿ‹d__
))

	)

382 #iâdeà
PNG_PRIVATE


384 
	#PNG_PRIVATE
 \

385 
	`__©Œibu‹__
((
	`w¬nšg
("Thi funùiÚ i nÙƒxpÜ‹d by†ib²g.")))

	)

387 
	#PNG_PRIVATE
 \

388 
	`__©Œibu‹__
((
__d•»ÿ‹d__
))

	)

391 #ià((
__GNUC__
 > 3è|| !
	`defšed
(
__GNUC_MINOR__
) || (__GNUC_MINOR__ >= 1))

392 #iâdeà
PNG_RESTRICT


393 
	#PNG_RESTRICT
 
__»¡riù


	)

398 #–ià
	`defšed
(
_MSC_VER
) && (_MSC_VER >= 1300)

399 #iâdeà
PNG_USE_RESULT


400 
	#PNG_USE_RESULT


	)

402 #iâdeà
PNG_NORETURN


403 
	#PNG_NORETURN
 
	`__deş¥ec
(
nÜ‘uº
)

	)

405 #iâdeà
PNG_ALLOCATED


406 #ià(
_MSC_VER
 >= 1400)

407 
	#PNG_ALLOCATED
 
	`__deş¥ec
(
»¡riù
)

	)

410 #iâdeà
PNG_DEPRECATED


411 
	#PNG_DEPRECATED
 
	`__deş¥ec
(
d•»ÿ‹d
)

	)

413 #iâdeà
PNG_PRIVATE


414 
	#PNG_PRIVATE
 
	`__deş¥ec
(
d•»ÿ‹d
)

	)

416 #iâdeà
PNG_RESTRICT


417 #ià(
_MSC_VER
 >= 1400)

418 
	#PNG_RESTRICT
 
__»¡riù


	)

422 #–ià
	`defšed
(
__WATCOMC__
)

423 #iâdeà
PNG_RESTRICT


424 
	#PNG_RESTRICT
 
__»¡riù


	)

429 #iâdeà
PNG_DEPRECATED


430 
	#PNG_DEPRECATED


	)

432 #iâdeà
PNG_USE_RESULT


433 
	#PNG_USE_RESULT


	)

435 #iâdeà
PNG_NORETURN


436 
	#PNG_NORETURN


	)

438 #iâdeà
PNG_ALLOCATED


439 
	#PNG_ALLOCATED


	)

441 #iâdeà
PNG_PRIVATE


442 
	#PNG_PRIVATE


	)

444 #iâdeà
PNG_RESTRICT


445 
	#PNG_RESTRICT


	)

448 #iâdeà
PNG_FP_EXPORT


449 #ifdeà
PNG_FLOATING_POINT_SUPPORTED


450 
	#PNG_FP_EXPORT
(
Üdš®
, 
ty³
, 
Çme
, 
¬gs
)\

451 
	`PNG_EXPORT
(
Üdš®
, 
ty³
, 
Çme
, 
¬gs
);

	)

453 
	#PNG_FP_EXPORT
(
Üdš®
, 
ty³
, 
Çme
, 
¬gs
)

	)

456 #iâdeà
PNG_FIXED_EXPORT


457 #ifdeà
PNG_FIXED_POINT_SUPPORTED


458 
	#PNG_FIXED_EXPORT
(
Üdš®
, 
ty³
, 
Çme
, 
¬gs
)\

459 
	`PNG_EXPORT
(
Üdš®
, 
ty³
, 
Çme
, 
¬gs
);

	)

461 
	#PNG_FIXED_EXPORT
(
Üdš®
, 
ty³
, 
Çme
, 
¬gs
)

	)

465 #iâdeà
PNG_BUILDING_SYMBOL_TABLE


480 #ià
CHAR_BIT
 =ğ8 && 
UCHAR_MAX
 == 255

481 
	t²g_by‹
;

486 #ià
INT_MIN
 =ğ-32768 && 
INT_MAX
 == 32767

487 
	t²g_št_16
;

488 #–ià
SHRT_MIN
 =ğ-32768 && 
SHRT_MAX
 == 32767

489 
	t²g_št_16
;

494 #ià
UINT_MAX
 == 65535

495 
	t²g_ušt_16
;

496 #–ià
USHRT_MAX
 == 65535

497 
	t²g_ušt_16
;

502 #ià
INT_MIN
 < -2147483646 && 
INT_MAX
 > 2147483646

503 
	t²g_št_32
;

504 #–ià
LONG_MIN
 < -2147483646 && 
LONG_MAX
 > 2147483646

505 
	t²g_št_32
;

510 #ià
UINT_MAX
 > 4294967294U

511 
	t²g_ušt_32
;

512 #–ià
ULONG_MAX
 > 4294967294U

513 
	t²g_ušt_32
;

523 
size_t
 
	t²g_size_t
;

524 
±rdiff_t
 
	t²g_±rdiff_t
;

531 #iâdeà
PNG_SMALL_SIZE_T


536 #ià(
	`defšed
(
__TURBOC__
è&& !defšed(
__FLAT__
)) ||\

537 (
	`defšed
(
_MSC_VER
è&& 
	$defšed
(
MAXSEG_64K
))

538 
	#PNG_SMALL_SIZE_T


	)

554 #ifdeà
PNG_SMALL_SIZE_T


555 
²g_ušt_32
 
	t²g_®loc_size_t
;

557 
size_t
 
	t²g_®loc_size_t
;

574 
²g_št_32
 
	t²g_fixed_pošt
;

577 * 
	t²g_voidp
;

578 cÚ¡ * 
	t²g_cÚ¡_voidp
;

579 
²g_by‹
 * 
	t²g_by‹p
;

580 cÚ¡ 
	t²g_by‹
 * 
	t²g_cÚ¡_by‹p
;

581 
²g_ušt_32
 * 
	t²g_ušt_32p
;

582 cÚ¡ 
	t²g_ušt_32
 * 
	t²g_cÚ¡_ušt_32p
;

583 
²g_št_32
 * 
	t²g_št_32p
;

584 cÚ¡ 
	t²g_št_32
 * 
	t²g_cÚ¡_št_32p
;

585 
²g_ušt_16
 * 
	t²g_ušt_16p
;

586 cÚ¡ 
	t²g_ušt_16
 * 
	t²g_cÚ¡_ušt_16p
;

587 
²g_št_16
 * 
	t²g_št_16p
;

588 cÚ¡ 
	t²g_št_16
 * 
	t²g_cÚ¡_št_16p
;

589 * 
	t²g_ch¬p
;

590 cÚ¡ * 
	t²g_cÚ¡_ch¬p
;

591 
²g_fixed_pošt
 * 
	t²g_fixed_pošt_p
;

592 cÚ¡ 
	t²g_fixed_pošt
 * 
	t²g_cÚ¡_fixed_pošt_p
;

593 
size_t
 * 
	t²g_size_
;

594 cÚ¡ 
	tsize_t
 * 
	t²g_cÚ¡_size_
;

596 #ifdeà
PNG_STDIO_SUPPORTED


597 
FILE
 * 
	t²g_FILE_p
;

600 #ifdeà
PNG_FLOATING_POINT_SUPPORTED


601 * 
	t²g_doubËp
;

602 cÚ¡ * 
	t²g_cÚ¡_doubËp
;

606 
²g_by‹
 * * 
	t²g_by‹µ
;

607 
²g_ušt_32
 * * 
	t²g_ušt_32µ
;

608 
²g_št_32
 * * 
	t²g_št_32µ
;

609 
²g_ušt_16
 * * 
	t²g_ušt_16µ
;

610 
²g_št_16
 * * 
	t²g_št_16µ
;

611 cÚ¡ * * 
	t²g_cÚ¡_ch¬µ
;

612 * * 
	t²g_ch¬µ
;

613 
²g_fixed_pošt
 * * 
	t²g_fixed_pošt_µ
;

614 #ifdeà
PNG_FLOATING_POINT_SUPPORTED


615 * * 
	t²g_doubËµ
;

619 * * * 
	t²g_ch¬µp
;

	@/usr/include/pnglibconf.h

15 #iâdeà
PNGLCONF_H


16 
	#PNGLCONF_H


	)

18 
	#PNG_16BIT_SUPPORTED


	)

19 
	#PNG_ALIGNED_MEMORY_SUPPORTED


	)

22 
	#PNG_BENIGN_ERRORS_SUPPORTED


	)

23 
	#PNG_BENIGN_READ_ERRORS_SUPPORTED


	)

25 
	#PNG_BUILD_GRAYSCALE_PALETTE_SUPPORTED


	)

26 
	#PNG_CHECK_FOR_INVALID_INDEX_SUPPORTED


	)

27 
	#PNG_COLORSPACE_SUPPORTED


	)

28 
	#PNG_CONSOLE_IO_SUPPORTED


	)

29 
	#PNG_CONVERT_tIME_SUPPORTED


	)

30 
	#PNG_EASY_ACCESS_SUPPORTED


	)

32 
	#PNG_ERROR_TEXT_SUPPORTED


	)

33 
	#PNG_FIXED_POINT_SUPPORTED


	)

34 
	#PNG_FLOATING_ARITHMETIC_SUPPORTED


	)

35 
	#PNG_FLOATING_POINT_SUPPORTED


	)

36 
	#PNG_FORMAT_AFIRST_SUPPORTED


	)

37 
	#PNG_FORMAT_BGR_SUPPORTED


	)

38 
	#PNG_GAMMA_SUPPORTED


	)

39 
	#PNG_GET_PALETTE_MAX_SUPPORTED


	)

40 
	#PNG_HANDLE_AS_UNKNOWN_SUPPORTED


	)

41 
	#PNG_INCH_CONVERSIONS_SUPPORTED


	)

42 
	#PNG_INFO_IMAGE_SUPPORTED


	)

43 
	#PNG_IO_STATE_SUPPORTED


	)

44 
	#PNG_MNG_FEATURES_SUPPORTED


	)

45 
	#PNG_POINTER_INDEXING_SUPPORTED


	)

48 
	#PNG_PROGRESSIVE_READ_SUPPORTED


	)

49 
	#PNG_READ_16BIT_SUPPORTED


	)

50 
	#PNG_READ_ALPHA_MODE_SUPPORTED


	)

51 
	#PNG_READ_ANCILLARY_CHUNKS_SUPPORTED


	)

52 
	#PNG_READ_BACKGROUND_SUPPORTED


	)

53 
	#PNG_READ_BGR_SUPPORTED


	)

54 
	#PNG_READ_CHECK_FOR_INVALID_INDEX_SUPPORTED


	)

55 
	#PNG_READ_COMPOSITE_NODIV_SUPPORTED


	)

56 
	#PNG_READ_COMPRESSED_TEXT_SUPPORTED


	)

57 
	#PNG_READ_EXPAND_16_SUPPORTED


	)

58 
	#PNG_READ_EXPAND_SUPPORTED


	)

59 
	#PNG_READ_FILLER_SUPPORTED


	)

60 
	#PNG_READ_GAMMA_SUPPORTED


	)

61 
	#PNG_READ_GET_PALETTE_MAX_SUPPORTED


	)

62 
	#PNG_READ_GRAY_TO_RGB_SUPPORTED


	)

63 
	#PNG_READ_INTERLACING_SUPPORTED


	)

64 
	#PNG_READ_INT_FUNCTIONS_SUPPORTED


	)

65 
	#PNG_READ_INVERT_ALPHA_SUPPORTED


	)

66 
	#PNG_READ_INVERT_SUPPORTED


	)

67 
	#PNG_READ_OPT_PLTE_SUPPORTED


	)

68 
	#PNG_READ_PACKSWAP_SUPPORTED


	)

69 
	#PNG_READ_PACK_SUPPORTED


	)

70 
	#PNG_READ_QUANTIZE_SUPPORTED


	)

71 
	#PNG_READ_RGB_TO_GRAY_SUPPORTED


	)

72 
	#PNG_READ_SCALE_16_TO_8_SUPPORTED


	)

73 
	#PNG_READ_SHIFT_SUPPORTED


	)

74 
	#PNG_READ_STRIP_16_TO_8_SUPPORTED


	)

75 
	#PNG_READ_STRIP_ALPHA_SUPPORTED


	)

76 
	#PNG_READ_SUPPORTED


	)

77 
	#PNG_READ_SWAP_ALPHA_SUPPORTED


	)

78 
	#PNG_READ_SWAP_SUPPORTED


	)

79 
	#PNG_READ_TEXT_SUPPORTED


	)

80 
	#PNG_READ_TRANSFORMS_SUPPORTED


	)

81 
	#PNG_READ_UNKNOWN_CHUNKS_SUPPORTED


	)

82 
	#PNG_READ_USER_CHUNKS_SUPPORTED


	)

83 
	#PNG_READ_USER_TRANSFORM_SUPPORTED


	)

84 
	#PNG_READ_bKGD_SUPPORTED


	)

85 
	#PNG_READ_cHRM_SUPPORTED


	)

86 
	#PNG_READ_eXIf_SUPPORTED


	)

87 
	#PNG_READ_gAMA_SUPPORTED


	)

88 
	#PNG_READ_hIST_SUPPORTED


	)

89 
	#PNG_READ_iCCP_SUPPORTED


	)

90 
	#PNG_READ_iTXt_SUPPORTED


	)

91 
	#PNG_READ_oFFs_SUPPORTED


	)

92 
	#PNG_READ_pCAL_SUPPORTED


	)

93 
	#PNG_READ_pHYs_SUPPORTED


	)

94 
	#PNG_READ_sBIT_SUPPORTED


	)

95 
	#PNG_READ_sCAL_SUPPORTED


	)

96 
	#PNG_READ_sPLT_SUPPORTED


	)

97 
	#PNG_READ_sRGB_SUPPORTED


	)

98 
	#PNG_READ_tEXt_SUPPORTED


	)

99 
	#PNG_READ_tIME_SUPPORTED


	)

100 
	#PNG_READ_tRNS_SUPPORTED


	)

101 
	#PNG_READ_zTXt_SUPPORTED


	)

102 
	#PNG_SAVE_INT_32_SUPPORTED


	)

103 
	#PNG_SAVE_UNKNOWN_CHUNKS_SUPPORTED


	)

104 
	#PNG_SEQUENTIAL_READ_SUPPORTED


	)

105 
	#PNG_SETJMP_SUPPORTED


	)

106 
	#PNG_SET_OPTION_SUPPORTED


	)

107 
	#PNG_SET_UNKNOWN_CHUNKS_SUPPORTED


	)

108 
	#PNG_SET_USER_LIMITS_SUPPORTED


	)

109 
	#PNG_SIMPLIFIED_READ_AFIRST_SUPPORTED


	)

110 
	#PNG_SIMPLIFIED_READ_BGR_SUPPORTED


	)

111 
	#PNG_SIMPLIFIED_READ_SUPPORTED


	)

112 
	#PNG_SIMPLIFIED_WRITE_AFIRST_SUPPORTED


	)

113 
	#PNG_SIMPLIFIED_WRITE_BGR_SUPPORTED


	)

114 
	#PNG_SIMPLIFIED_WRITE_STDIO_SUPPORTED


	)

115 
	#PNG_SIMPLIFIED_WRITE_SUPPORTED


	)

116 
	#PNG_STDIO_SUPPORTED


	)

117 
	#PNG_STORE_UNKNOWN_CHUNKS_SUPPORTED


	)

118 
	#PNG_TEXT_SUPPORTED


	)

119 
	#PNG_TIME_RFC1123_SUPPORTED


	)

120 
	#PNG_UNKNOWN_CHUNKS_SUPPORTED


	)

121 
	#PNG_USER_CHUNKS_SUPPORTED


	)

122 
	#PNG_USER_LIMITS_SUPPORTED


	)

123 
	#PNG_USER_MEM_SUPPORTED


	)

124 
	#PNG_USER_TRANSFORM_INFO_SUPPORTED


	)

125 
	#PNG_USER_TRANSFORM_PTR_SUPPORTED


	)

126 
	#PNG_WARNINGS_SUPPORTED


	)

127 
	#PNG_WRITE_16BIT_SUPPORTED


	)

128 
	#PNG_WRITE_ANCILLARY_CHUNKS_SUPPORTED


	)

129 
	#PNG_WRITE_BGR_SUPPORTED


	)

130 
	#PNG_WRITE_CHECK_FOR_INVALID_INDEX_SUPPORTED


	)

131 
	#PNG_WRITE_COMPRESSED_TEXT_SUPPORTED


	)

132 
	#PNG_WRITE_CUSTOMIZE_COMPRESSION_SUPPORTED


	)

133 
	#PNG_WRITE_CUSTOMIZE_ZTXT_COMPRESSION_SUPPORTED


	)

134 
	#PNG_WRITE_FILLER_SUPPORTED


	)

135 
	#PNG_WRITE_FILTER_SUPPORTED


	)

136 
	#PNG_WRITE_FLUSH_SUPPORTED


	)

137 
	#PNG_WRITE_GET_PALETTE_MAX_SUPPORTED


	)

138 
	#PNG_WRITE_INTERLACING_SUPPORTED


	)

139 
	#PNG_WRITE_INT_FUNCTIONS_SUPPORTED


	)

140 
	#PNG_WRITE_INVERT_ALPHA_SUPPORTED


	)

141 
	#PNG_WRITE_INVERT_SUPPORTED


	)

142 
	#PNG_WRITE_OPTIMIZE_CMF_SUPPORTED


	)

143 
	#PNG_WRITE_PACKSWAP_SUPPORTED


	)

144 
	#PNG_WRITE_PACK_SUPPORTED


	)

145 
	#PNG_WRITE_SHIFT_SUPPORTED


	)

146 
	#PNG_WRITE_SUPPORTED


	)

147 
	#PNG_WRITE_SWAP_ALPHA_SUPPORTED


	)

148 
	#PNG_WRITE_SWAP_SUPPORTED


	)

149 
	#PNG_WRITE_TEXT_SUPPORTED


	)

150 
	#PNG_WRITE_TRANSFORMS_SUPPORTED


	)

151 
	#PNG_WRITE_UNKNOWN_CHUNKS_SUPPORTED


	)

152 
	#PNG_WRITE_USER_TRANSFORM_SUPPORTED


	)

153 
	#PNG_WRITE_WEIGHTED_FILTER_SUPPORTED


	)

154 
	#PNG_WRITE_bKGD_SUPPORTED


	)

155 
	#PNG_WRITE_cHRM_SUPPORTED


	)

156 
	#PNG_WRITE_eXIf_SUPPORTED


	)

157 
	#PNG_WRITE_gAMA_SUPPORTED


	)

158 
	#PNG_WRITE_hIST_SUPPORTED


	)

159 
	#PNG_WRITE_iCCP_SUPPORTED


	)

160 
	#PNG_WRITE_iTXt_SUPPORTED


	)

161 
	#PNG_WRITE_oFFs_SUPPORTED


	)

162 
	#PNG_WRITE_pCAL_SUPPORTED


	)

163 
	#PNG_WRITE_pHYs_SUPPORTED


	)

164 
	#PNG_WRITE_sBIT_SUPPORTED


	)

165 
	#PNG_WRITE_sCAL_SUPPORTED


	)

166 
	#PNG_WRITE_sPLT_SUPPORTED


	)

167 
	#PNG_WRITE_sRGB_SUPPORTED


	)

168 
	#PNG_WRITE_tEXt_SUPPORTED


	)

169 
	#PNG_WRITE_tIME_SUPPORTED


	)

170 
	#PNG_WRITE_tRNS_SUPPORTED


	)

171 
	#PNG_WRITE_zTXt_SUPPORTED


	)

172 
	#PNG_bKGD_SUPPORTED


	)

173 
	#PNG_cHRM_SUPPORTED


	)

174 
	#PNG_eXIf_SUPPORTED


	)

175 
	#PNG_gAMA_SUPPORTED


	)

176 
	#PNG_hIST_SUPPORTED


	)

177 
	#PNG_iCCP_SUPPORTED


	)

178 
	#PNG_iTXt_SUPPORTED


	)

179 
	#PNG_oFFs_SUPPORTED


	)

180 
	#PNG_pCAL_SUPPORTED


	)

181 
	#PNG_pHYs_SUPPORTED


	)

182 
	#PNG_sBIT_SUPPORTED


	)

183 
	#PNG_sCAL_SUPPORTED


	)

184 
	#PNG_sPLT_SUPPORTED


	)

185 
	#PNG_sRGB_SUPPORTED


	)

186 
	#PNG_tEXt_SUPPORTED


	)

187 
	#PNG_tIME_SUPPORTED


	)

188 
	#PNG_tRNS_SUPPORTED


	)

189 
	#PNG_zTXt_SUPPORTED


	)

192 
	#PNG_API_RULE
 0

	)

193 
	#PNG_DEFAULT_READ_MACROS
 1

	)

194 
	#PNG_GAMMA_THRESHOLD_FIXED
 5000

	)

195 
	#PNG_IDAT_READ_SIZE
 
PNG_ZBUF_SIZE


	)

196 
	#PNG_INFLATE_BUF_SIZE
 1024

	)

197 
	#PNG_LINKAGE_API
 

	)

198 
	#PNG_LINKAGE_CALLBACK
 

	)

199 
	#PNG_LINKAGE_DATA
 

	)

200 
	#PNG_LINKAGE_FUNCTION
 

	)

201 
	#PNG_MAX_GAMMA_8
 11

	)

202 
	#PNG_QUANTIZE_BLUE_BITS
 5

	)

203 
	#PNG_QUANTIZE_GREEN_BITS
 5

	)

204 
	#PNG_QUANTIZE_RED_BITS
 5

	)

205 
	#PNG_TEXT_Z_DEFAULT_COMPRESSION
 (-1)

	)

206 
	#PNG_TEXT_Z_DEFAULT_STRATEGY
 0

	)

207 
	#PNG_USER_CHUNK_CACHE_MAX
 1000

	)

208 
	#PNG_USER_CHUNK_MALLOC_MAX
 8000000

	)

209 
	#PNG_USER_HEIGHT_MAX
 1000000

	)

210 
	#PNG_USER_WIDTH_MAX
 1000000

	)

211 
	#PNG_ZBUF_SIZE
 8192

	)

212 
	#PNG_ZLIB_VERNUM
 0x12b0

	)

213 
	#PNG_Z_DEFAULT_COMPRESSION
 (-1)

	)

214 
	#PNG_Z_DEFAULT_NOFILTER_STRATEGY
 0

	)

215 
	#PNG_Z_DEFAULT_STRATEGY
 1

	)

216 
	#PNG_sCAL_PRECISION
 5

	)

217 
	#PNG_sRGB_PROFILE_CHECKS
 2

	)

	@/usr/include/sched.h

19 #iâdef 
_SCHED_H


20 
	#_SCHED_H
 1

	)

22 
	~<ã©u»s.h
>

25 
	~<b™s/ty³s.h
>

27 
	#__Ãed_size_t


	)

28 
	#__Ãed_NULL


	)

29 
	~<¡ddef.h
>

31 
	~<b™s/ty³s/time_t.h
>

32 
	~<b™s/ty³s/¡ruù_time¥ec.h
>

33 #iâdeà
__USE_XOPEN2K


34 
	~<time.h
>

37 #iâdeà
__pid_t_defšed


38 
__pid_t
 
	tpid_t
;

39 
	#__pid_t_defšed


	)

43 
	~<b™s/sched.h
>

44 
	~<b™s/ıu-£t.h
>

47 
	#sched_´iÜ™y
 
sched_´iÜ™y


	)

48 
	#__sched_´iÜ™y
 
sched_´iÜ™y


	)

51 
__BEGIN_DECLS


54 
	$sched_£¬am
 (
__pid_t
 
__pid
, cÚ¡ 
sched_·¿m
 *
__·¿m
)

55 
__THROW
;

58 
	$sched_g‘·¿m
 (
__pid_t
 
__pid
, 
sched_·¿m
 *
__·¿m
è
__THROW
;

61 
	$sched_£tscheduËr
 (
__pid_t
 
__pid
, 
__pŞicy
,

62 cÚ¡ 
sched_·¿m
 *
__·¿m
è
__THROW
;

65 
	$sched_g‘scheduËr
 (
__pid_t
 
__pid
è
__THROW
;

68 
	$sched_y›ld
 (è
__THROW
;

71 
	$sched_g‘_´iÜ™y_max
 (
__®gÜ™hm
è
__THROW
;

74 
	$sched_g‘_´iÜ™y_mš
 (
__®gÜ™hm
è
__THROW
;

77 #iâdeà
__USE_TIME_BITS64


78 
	$sched_¼_g‘_š‹rv®
 (
__pid_t
 
__pid
, 
time¥ec
 *
__t
è
__THROW
;

80 #ifdeà
__REDIRECT_NTH


81 
	`__REDIRECT_NTH
 (
sched_¼_g‘_š‹rv®
,

82 (
__pid_t
 
__pid
, 
time¥ec
 *
__t
),

83 
__sched_¼_g‘_š‹rv®64
);

85 
	#sched_¼_g‘_š‹rv®
 
__sched_¼_g‘_š‹rv®64


	)

89 #ifdeà
__USE_GNU


91 
	#CPU_SETSIZE
 
__CPU_SETSIZE


	)

92 
	#CPU_SET
(
ıu
, 
ıu£
è
	`__CPU_SET_S
 (ıu,  (
ıu_£t_t
), cpu£)

	)

93 
	#CPU_CLR
(
ıu
, 
ıu£
è
	`__CPU_CLR_S
 (ıu,  (
ıu_£t_t
), cpu£)

	)

94 
	#CPU_ISSET
(
ıu
, 
ıu£
è
	`__CPU_ISSET_S
 (ıu,  (
ıu_£t_t
), \

95 
ıu£
)

	)

96 
	#CPU_ZERO
(
ıu£
è
	`__CPU_ZERO_S
 ( (
ıu_£t_t
), cpu£)

	)

97 
	#CPU_COUNT
(
ıu£
è
	`__CPU_COUNT_S
 ( (
ıu_£t_t
), cpu£)

	)

99 
	#CPU_SET_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_SET_S
 (ıu, s‘size, cpu£)

	)

100 
	#CPU_CLR_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_CLR_S
 (ıu, s‘size, cpu£)

	)

101 
	#CPU_ISSET_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_ISSET_S
 (cpu, setsize, \

102 
ıu£
)

	)

103 
	#CPU_ZERO_S
(
£tsize
, 
ıu£
è
	`__CPU_ZERO_S
 (£tsize, cpu£)

	)

104 
	#CPU_COUNT_S
(
£tsize
, 
ıu£
è
	`__CPU_COUNT_S
 (£tsize, cpu£)

	)

106 
	#CPU_EQUAL
(
ıu£1
, 
ıu£2
) \

107 
	`__CPU_EQUAL_S
 ( (
ıu_£t_t
), 
ıu£1
, 
ıu£2
)

	)

108 
	#CPU_EQUAL_S
(
£tsize
, 
ıu£1
, 
ıu£2
) \

109 
	`__CPU_EQUAL_S
 (
£tsize
, 
ıu£1
, 
ıu£2
)

	)

111 
	#CPU_AND
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

112 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, &)

	)

113 
	#CPU_OR
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

114 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, |)

	)

115 
	#CPU_XOR
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

116 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, ^)

	)

117 
	#CPU_AND_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

118 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, &)

	)

119 
	#CPU_OR_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

120 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, |)

	)

121 
	#CPU_XOR_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

122 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, ^)

	)

124 
	#CPU_ALLOC_SIZE
(
couÁ
è
	`__CPU_ALLOC_SIZE
 (couÁ)

	)

125 
	#CPU_ALLOC
(
couÁ
è
	`__CPU_ALLOC
 (couÁ)

	)

126 
	#CPU_FREE
(
ıu£t
è
	`__CPU_FREE
 (ıu£t)

	)

130 
	$sched_£ffš™y
 (
__pid_t
 
__pid
, 
size_t
 
__ıu£tsize
,

131 cÚ¡ 
ıu_£t_t
 *
__ıu£t
è
__THROW
;

134 
	$sched_g‘affš™y
 (
__pid_t
 
__pid
, 
size_t
 
__ıu£tsize
,

135 
ıu_£t_t
 *
__ıu£t
è
__THROW
;

138 
__END_DECLS


	@/usr/include/stdint.h

22 #iâdeà
_STDINT_H


23 
	#_STDINT_H
 1

	)

25 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

26 
	~<b™s/libc-h—d”-¡¬t.h
>

27 
	~<b™s/ty³s.h
>

28 
	~<b™s/wch¬.h
>

29 
	~<b™s/wÜdsize.h
>

34 
	~<b™s/¡dšt-šŠ.h
>

37 
	~<b™s/¡dšt-ušŠ.h
>

43 
__št_Ëa¡8_t
 
	tšt_Ëa¡8_t
;

44 
__št_Ëa¡16_t
 
	tšt_Ëa¡16_t
;

45 
__št_Ëa¡32_t
 
	tšt_Ëa¡32_t
;

46 
__št_Ëa¡64_t
 
	tšt_Ëa¡64_t
;

49 
__ušt_Ëa¡8_t
 
	tušt_Ëa¡8_t
;

50 
__ušt_Ëa¡16_t
 
	tušt_Ëa¡16_t
;

51 
__ušt_Ëa¡32_t
 
	tušt_Ëa¡32_t
;

52 
__ušt_Ëa¡64_t
 
	tušt_Ëa¡64_t
;

58 sigÃd 
	tšt_ç¡8_t
;

59 #ià
__WORDSIZE
 == 64

60 
	tšt_ç¡16_t
;

61 
	tšt_ç¡32_t
;

62 
	tšt_ç¡64_t
;

64 
	tšt_ç¡16_t
;

65 
	tšt_ç¡32_t
;

66 
__ex‹nsiÚ__


67 
	tšt_ç¡64_t
;

71 
	tušt_ç¡8_t
;

72 #ià
__WORDSIZE
 == 64

73 
	tušt_ç¡16_t
;

74 
	tušt_ç¡32_t
;

75 
	tušt_ç¡64_t
;

77 
	tušt_ç¡16_t
;

78 
	tušt_ç¡32_t
;

79 
__ex‹nsiÚ__


80 
	tušt_ç¡64_t
;

85 #ià
__WORDSIZE
 == 64

86 #iâdeà
__šŒ_t_defšed


87 
	tšŒ_t
;

88 
	#__šŒ_t_defšed


	)

90 
	tušŒ_t
;

92 #iâdeà
__šŒ_t_defšed


93 
	tšŒ_t
;

94 
	#__šŒ_t_defšed


	)

96 
	tušŒ_t
;

101 
__štmax_t
 
	tštmax_t
;

102 
__uštmax_t
 
	tuštmax_t
;

105 #ià
__WORDSIZE
 == 64

106 
	#__INT64_C
(
c
èø## 
L


	)

107 
	#__UINT64_C
(
c
èø## 
UL


	)

109 
	#__INT64_C
(
c
èø## 
LL


	)

110 
	#__UINT64_C
(
c
èø## 
ULL


	)

116 
	#INT8_MIN
 (-128)

	)

117 
	#INT16_MIN
 (-32767-1)

	)

118 
	#INT32_MIN
 (-2147483647-1)

	)

119 
	#INT64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

121 
	#INT8_MAX
 (127)

	)

122 
	#INT16_MAX
 (32767)

	)

123 
	#INT32_MAX
 (2147483647)

	)

124 
	#INT64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

127 
	#UINT8_MAX
 (255)

	)

128 
	#UINT16_MAX
 (65535)

	)

129 
	#UINT32_MAX
 (4294967295U)

	)

130 
	#UINT64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

134 
	#INT_LEAST8_MIN
 (-128)

	)

135 
	#INT_LEAST16_MIN
 (-32767-1)

	)

136 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

137 
	#INT_LEAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

139 
	#INT_LEAST8_MAX
 (127)

	)

140 
	#INT_LEAST16_MAX
 (32767)

	)

141 
	#INT_LEAST32_MAX
 (2147483647)

	)

142 
	#INT_LEAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

145 
	#UINT_LEAST8_MAX
 (255)

	)

146 
	#UINT_LEAST16_MAX
 (65535)

	)

147 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

148 
	#UINT_LEAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

152 
	#INT_FAST8_MIN
 (-128)

	)

153 #ià
__WORDSIZE
 == 64

154 
	#INT_FAST16_MIN
 (-9223372036854775807L-1)

	)

155 
	#INT_FAST32_MIN
 (-9223372036854775807L-1)

	)

157 
	#INT_FAST16_MIN
 (-2147483647-1)

	)

158 
	#INT_FAST32_MIN
 (-2147483647-1)

	)

160 
	#INT_FAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

162 
	#INT_FAST8_MAX
 (127)

	)

163 #ià
__WORDSIZE
 == 64

164 
	#INT_FAST16_MAX
 (9223372036854775807L)

	)

165 
	#INT_FAST32_MAX
 (9223372036854775807L)

	)

167 
	#INT_FAST16_MAX
 (2147483647)

	)

168 
	#INT_FAST32_MAX
 (2147483647)

	)

170 
	#INT_FAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

173 
	#UINT_FAST8_MAX
 (255)

	)

174 #ià
__WORDSIZE
 == 64

175 
	#UINT_FAST16_MAX
 (18446744073709551615UL)

	)

176 
	#UINT_FAST32_MAX
 (18446744073709551615UL)

	)

178 
	#UINT_FAST16_MAX
 (4294967295U)

	)

179 
	#UINT_FAST32_MAX
 (4294967295U)

	)

181 
	#UINT_FAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

185 #ià
__WORDSIZE
 == 64

186 
	#INTPTR_MIN
 (-9223372036854775807L-1)

	)

187 
	#INTPTR_MAX
 (9223372036854775807L)

	)

188 
	#UINTPTR_MAX
 (18446744073709551615UL)

	)

190 
	#INTPTR_MIN
 (-2147483647-1)

	)

191 
	#INTPTR_MAX
 (2147483647)

	)

192 
	#UINTPTR_MAX
 (4294967295U)

	)

197 
	#INTMAX_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

199 
	#INTMAX_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

202 
	#UINTMAX_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

208 #ià
__WORDSIZE
 == 64

209 
	#PTRDIFF_MIN
 (-9223372036854775807L-1)

	)

210 
	#PTRDIFF_MAX
 (9223372036854775807L)

	)

212 #ià
__WORDSIZE32_PTRDIFF_LONG


213 
	#PTRDIFF_MIN
 (-2147483647L-1)

	)

214 
	#PTRDIFF_MAX
 (2147483647L)

	)

216 
	#PTRDIFF_MIN
 (-2147483647-1)

	)

217 
	#PTRDIFF_MAX
 (2147483647)

	)

222 
	#SIG_ATOMIC_MIN
 (-2147483647-1)

	)

223 
	#SIG_ATOMIC_MAX
 (2147483647)

	)

226 #ià
__WORDSIZE
 == 64

227 
	#SIZE_MAX
 (18446744073709551615UL)

	)

229 #ià
__WORDSIZE32_SIZE_ULONG


230 
	#SIZE_MAX
 (4294967295UL)

	)

232 
	#SIZE_MAX
 (4294967295U)

	)

237 #iâdeà
WCHAR_MIN


239 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

240 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

244 
	#WINT_MIN
 (0u)

	)

245 
	#WINT_MAX
 (4294967295u)

	)

248 
	#INT8_C
(
c
è
	)
c

249 
	#INT16_C
(
c
è
	)
c

250 
	#INT32_C
(
c
è
	)
c

251 #ià
__WORDSIZE
 == 64

252 
	#INT64_C
(
c
èø## 
L


	)

254 
	#INT64_C
(
c
èø## 
LL


	)

258 
	#UINT8_C
(
c
è
	)
c

259 
	#UINT16_C
(
c
è
	)
c

260 
	#UINT32_C
(
c
èø## 
U


	)

261 #ià
__WORDSIZE
 == 64

262 
	#UINT64_C
(
c
èø## 
UL


	)

264 
	#UINT64_C
(
c
èø## 
ULL


	)

268 #ià
__WORDSIZE
 == 64

269 
	#INTMAX_C
(
c
èø## 
L


	)

270 
	#UINTMAX_C
(
c
èø## 
UL


	)

272 
	#INTMAX_C
(
c
èø## 
LL


	)

273 
	#UINTMAX_C
(
c
èø## 
ULL


	)

276 #ià
__GLIBC_USE
 (
IEC_60559_BFP_EXT_C2X
)

278 
	#INT8_WIDTH
 8

	)

279 
	#UINT8_WIDTH
 8

	)

280 
	#INT16_WIDTH
 16

	)

281 
	#UINT16_WIDTH
 16

	)

282 
	#INT32_WIDTH
 32

	)

283 
	#UINT32_WIDTH
 32

	)

284 
	#INT64_WIDTH
 64

	)

285 
	#UINT64_WIDTH
 64

	)

287 
	#INT_LEAST8_WIDTH
 8

	)

288 
	#UINT_LEAST8_WIDTH
 8

	)

289 
	#INT_LEAST16_WIDTH
 16

	)

290 
	#UINT_LEAST16_WIDTH
 16

	)

291 
	#INT_LEAST32_WIDTH
 32

	)

292 
	#UINT_LEAST32_WIDTH
 32

	)

293 
	#INT_LEAST64_WIDTH
 64

	)

294 
	#UINT_LEAST64_WIDTH
 64

	)

296 
	#INT_FAST8_WIDTH
 8

	)

297 
	#UINT_FAST8_WIDTH
 8

	)

298 
	#INT_FAST16_WIDTH
 
__WORDSIZE


	)

299 
	#UINT_FAST16_WIDTH
 
__WORDSIZE


	)

300 
	#INT_FAST32_WIDTH
 
__WORDSIZE


	)

301 
	#UINT_FAST32_WIDTH
 
__WORDSIZE


	)

302 
	#INT_FAST64_WIDTH
 64

	)

303 
	#UINT_FAST64_WIDTH
 64

	)

305 
	#INTPTR_WIDTH
 
__WORDSIZE


	)

306 
	#UINTPTR_WIDTH
 
__WORDSIZE


	)

308 
	#INTMAX_WIDTH
 64

	)

309 
	#UINTMAX_WIDTH
 64

	)

311 
	#PTRDIFF_WIDTH
 
__WORDSIZE


	)

312 
	#SIG_ATOMIC_WIDTH
 32

	)

313 
	#SIZE_WIDTH
 
__WORDSIZE


	)

314 
	#WCHAR_WIDTH
 32

	)

315 
	#WINT_WIDTH
 32

	)

	@/usr/include/stdlib.h

22 #iâdef 
_STDLIB_H


24 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

25 
	~<b™s/libc-h—d”-¡¬t.h
>

28 
	#__Ãed_size_t


	)

29 
	#__Ãed_wch¬_t


	)

30 
	#__Ãed_NULL


	)

31 
	~<¡ddef.h
>

33 
	g__BEGIN_DECLS


35 
	#_STDLIB_H
 1

	)

37 #ià(
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8
è&& !defšed 
_SYS_WAIT_H


39 
	~<b™s/wa™æags.h
>

40 
	~<b™s/wa™¡©us.h
>

43 
	#WEXITSTATUS
(
¡©us
è
	`__WEXITSTATUS
 (¡©us)

	)

44 
	#WTERMSIG
(
¡©us
è
	`__WTERMSIG
 (¡©us)

	)

45 
	#WSTOPSIG
(
¡©us
è
	`__WSTOPSIG
 (¡©us)

	)

46 
	#WIFEXITED
(
¡©us
è
	`__WIFEXITED
 (¡©us)

	)

47 
	#WIFSIGNALED
(
¡©us
è
	`__WIFSIGNALED
 (¡©us)

	)

48 
	#WIFSTOPPED
(
¡©us
è
	`__WIFSTOPPED
 (¡©us)

	)

49 #ifdeà
__WIFCONTINUED


50 
	#WIFCONTINUED
(
¡©us
è
	`__WIFCONTINUED
 (¡©us)

	)

55 
	~<b™s/æßŠ.h
>

60 
	mquÙ
;

61 
	m»m
;

62 } 
	tdiv_t
;

65 #iâdeà
__ldiv_t_defšed


68 
	mquÙ
;

69 
	m»m
;

70 } 
	tldiv_t
;

71 
	#__ldiv_t_defšed
 1

	)

74 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__Îdiv_t_defšed


76 
__ex‹nsiÚ__
 struct

78 
	mquÙ
;

79 
	m»m
;

80 } 
	tÎdiv_t
;

81 
	#__Îdiv_t_defšed
 1

	)

86 
	#RAND_MAX
 2147483647

	)

91 
	#EXIT_FAILURE
 1

	)

92 
	#EXIT_SUCCESS
 0

	)

96 
	#MB_CUR_MAX
 (
	`__ùy³_g‘_mb_cur_max
 ())

	)

97 
size_t
 
	$__ùy³_g‘_mb_cur_max
 (è
__THROW
 
__wur
;

101 
	$©of
 (cÚ¡ *
__ÅŒ
)

102 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

104 
	$©oi
 (cÚ¡ *
__ÅŒ
)

105 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

107 
	$©Ş
 (cÚ¡ *
__ÅŒ
)

108 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

110 #ifdeà
__USE_ISOC99


112 
__ex‹nsiÚ__
 
	$©Şl
 (cÚ¡ *
__ÅŒ
)

113 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

117 
	$¡¹od
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

118 **
__»¡riù
 
__’d±r
)

119 
__THROW
 
	`__nÚnuÎ
 ((1));

121 #ifdef 
__USE_ISOC99


123 
	$¡¹of
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

124 **
__»¡riù
 
__’d±r
è
__THROW
 
	`__nÚnuÎ
 ((1));

126 
	$¡¹Şd
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

127 **
__»¡riù
 
__’d±r
)

128 
__THROW
 
	`__nÚnuÎ
 ((1));

133 #ià
__HAVE_FLOAT16
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

134 
_Flßt16
 
	$¡¹of16
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

135 **
__»¡riù
 
__’d±r
)

136 
__THROW
 
	`__nÚnuÎ
 ((1));

139 #ià
__HAVE_FLOAT32
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

140 
_Flßt32
 
	$¡¹of32
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

141 **
__»¡riù
 
__’d±r
)

142 
__THROW
 
	`__nÚnuÎ
 ((1));

145 #ià
__HAVE_FLOAT64
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

146 
_Flßt64
 
	$¡¹of64
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

147 **
__»¡riù
 
__’d±r
)

148 
__THROW
 
	`__nÚnuÎ
 ((1));

151 #ià
__HAVE_FLOAT128
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

152 
_Flßt128
 
	$¡¹of128
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

153 **
__»¡riù
 
__’d±r
)

154 
__THROW
 
	`__nÚnuÎ
 ((1));

157 #ià
__HAVE_FLOAT32X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

158 
_Flßt32x
 
	$¡¹of32x
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

159 **
__»¡riù
 
__’d±r
)

160 
__THROW
 
	`__nÚnuÎ
 ((1));

163 #ià
__HAVE_FLOAT64X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

164 
_Flßt64x
 
	$¡¹of64x
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

165 **
__»¡riù
 
__’d±r
)

166 
__THROW
 
	`__nÚnuÎ
 ((1));

169 #ià
__HAVE_FLOAT128X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

170 
_Flßt128x
 
	$¡¹of128x
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

171 **
__»¡riù
 
__’d±r
)

172 
__THROW
 
	`__nÚnuÎ
 ((1));

176 
	$¡¹Ş
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

177 **
__»¡riù
 
__’d±r
, 
__ba£
)

178 
__THROW
 
	`__nÚnuÎ
 ((1));

180 
	$¡¹oul
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

181 **
__»¡riù
 
__’d±r
, 
__ba£
)

182 
__THROW
 
	`__nÚnuÎ
 ((1));

184 #ifdeà
__USE_MISC


186 
__ex‹nsiÚ__


187 
	$¡¹oq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

188 **
__»¡riù
 
__’d±r
, 
__ba£
)

189 
__THROW
 
	`__nÚnuÎ
 ((1));

191 
__ex‹nsiÚ__


192 
	$¡¹ouq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

193 **
__»¡riù
 
__’d±r
, 
__ba£
)

194 
__THROW
 
	`__nÚnuÎ
 ((1));

197 #ifdeà
__USE_ISOC99


199 
__ex‹nsiÚ__


200 
	$¡¹Şl
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

201 **
__»¡riù
 
__’d±r
, 
__ba£
)

202 
__THROW
 
	`__nÚnuÎ
 ((1));

204 
__ex‹nsiÚ__


205 
	$¡¹ouÎ
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

206 **
__»¡riù
 
__’d±r
, 
__ba£
)

207 
__THROW
 
	`__nÚnuÎ
 ((1));

211 #ià
	`__GLIBC_USE
 (
IEC_60559_BFP_EXT_C2X
)

212 
	$¡räomd
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ *
__fÜm©
,

213 
__f
)

214 
__THROW
 
	`__nÚnuÎ
 ((3));

216 
	$¡räomf
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ *
__fÜm©
,

217 
__f
)

218 
__THROW
 
	`__nÚnuÎ
 ((3));

220 
	$¡räoml
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ *
__fÜm©
,

221 
__f
)

222 
__THROW
 
	`__nÚnuÎ
 ((3));

225 #ià
__HAVE_FLOAT16
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

226 
	$¡räomf16
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

227 
_Flßt16
 
__f
)

228 
__THROW
 
	`__nÚnuÎ
 ((3));

231 #ià
__HAVE_FLOAT32
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

232 
	$¡räomf32
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

233 
_Flßt32
 
__f
)

234 
__THROW
 
	`__nÚnuÎ
 ((3));

237 #ià
__HAVE_FLOAT64
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

238 
	$¡räomf64
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

239 
_Flßt64
 
__f
)

240 
__THROW
 
	`__nÚnuÎ
 ((3));

243 #ià
__HAVE_FLOAT128
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

244 
	$¡räomf128
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

245 
_Flßt128
 
__f
)

246 
__THROW
 
	`__nÚnuÎ
 ((3));

249 #ià
__HAVE_FLOAT32X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

250 
	$¡räomf32x
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

251 
_Flßt32x
 
__f
)

252 
__THROW
 
	`__nÚnuÎ
 ((3));

255 #ià
__HAVE_FLOAT64X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

256 
	$¡räomf64x
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

257 
_Flßt64x
 
__f
)

258 
__THROW
 
	`__nÚnuÎ
 ((3));

261 #ià
__HAVE_FLOAT128X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

262 
	$¡räomf128x
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

263 
_Flßt128x
 
__f
)

264 
__THROW
 
	`__nÚnuÎ
 ((3));

268 #ifdeà
__USE_GNU


272 
	~<b™s/ty³s/loÿË_t.h
>

274 
	$¡¹Ş_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

275 **
__»¡riù
 
__’d±r
, 
__ba£
,

276 
loÿË_t
 
__loc
è
__THROW
 
	`__nÚnuÎ
 ((1, 4));

278 
	$¡¹oul_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

279 **
__»¡riù
 
__’d±r
,

280 
__ba£
, 
loÿË_t
 
__loc
)

281 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

283 
__ex‹nsiÚ__


284 
	$¡¹Şl_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

285 **
__»¡riù
 
__’d±r
, 
__ba£
,

286 
loÿË_t
 
__loc
)

287 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

289 
__ex‹nsiÚ__


290 
	$¡¹ouÎ_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

291 **
__»¡riù
 
__’d±r
,

292 
__ba£
, 
loÿË_t
 
__loc
)

293 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

295 
	$¡¹od_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

296 **
__»¡riù
 
__’d±r
, 
loÿË_t
 
__loc
)

297 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

299 
	$¡¹of_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

300 **
__»¡riù
 
__’d±r
, 
loÿË_t
 
__loc
)

301 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

303 
	$¡¹Şd_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

304 **
__»¡riù
 
__’d±r
,

305 
loÿË_t
 
__loc
)

306 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

308 #ià
__HAVE_FLOAT16


309 
_Flßt16
 
	$¡¹of16_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

310 **
__»¡riù
 
__’d±r
,

311 
loÿË_t
 
__loc
)

312 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

315 #ià
__HAVE_FLOAT32


316 
_Flßt32
 
	$¡¹of32_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

317 **
__»¡riù
 
__’d±r
,

318 
loÿË_t
 
__loc
)

319 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

322 #ià
__HAVE_FLOAT64


323 
_Flßt64
 
	$¡¹of64_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

324 **
__»¡riù
 
__’d±r
,

325 
loÿË_t
 
__loc
)

326 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

329 #ià
__HAVE_FLOAT128


330 
_Flßt128
 
	$¡¹of128_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

331 **
__»¡riù
 
__’d±r
,

332 
loÿË_t
 
__loc
)

333 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

336 #ià
__HAVE_FLOAT32X


337 
_Flßt32x
 
	$¡¹of32x_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

338 **
__»¡riù
 
__’d±r
,

339 
loÿË_t
 
__loc
)

340 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

343 #ià
__HAVE_FLOAT64X


344 
_Flßt64x
 
	$¡¹of64x_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

345 **
__»¡riù
 
__’d±r
,

346 
loÿË_t
 
__loc
)

347 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

350 #ià
__HAVE_FLOAT128X


351 
_Flßt128x
 
	$¡¹of128x_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

352 **
__»¡riù
 
__’d±r
,

353 
loÿË_t
 
__loc
)

354 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

359 #ifdeà
__USE_EXTERN_INLINES


360 
__ex‹º_šlše
 

361 
	`__NTH
 (
	$©oi
 (cÚ¡ *
__ÅŒ
))

363  (è
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

364 
	}
}

365 
__ex‹º_šlše
 

366 
__NTH
 (
	$©Ş
 (cÚ¡ *
__ÅŒ
))

368  
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

369 
	}
}

371 #ifdeà
__USE_ISOC99


372 
__ex‹nsiÚ__
 
__ex‹º_šlše
 

373 
__NTH
 (
	$©Şl
 (cÚ¡ *
__ÅŒ
))

375  
	`¡¹Şl
 (
__ÅŒ
, (**è
NULL
, 10);

376 
	}
}

381 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


385 *
	$l64a
 (
__n
è
__THROW
 
__wur
;

388 
	$a64l
 (cÚ¡ *
__s
)

389 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

393 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


394 
	~<sys/ty³s.h
>

401 
	$¿ndom
 (è
__THROW
;

404 
	$¤ªdom
 (
__£ed
è
__THROW
;

410 *
	$š™¡©e
 (
__£ed
, *
__¡©ebuf
,

411 
size_t
 
__¡©–’
è
__THROW
 
	`__nÚnuÎ
 ((2));

415 *
	$£t¡©e
 (*
__¡©ebuf
è
__THROW
 
	`__nÚnuÎ
 ((1));

418 #ifdeà
__USE_MISC


423 
	s¿ndom_d©a


425 
št32_t
 *
åŒ
;

426 
št32_t
 *
½Œ
;

427 
št32_t
 *
¡©e
;

428 
¿nd_ty³
;

429 
¿nd_deg
;

430 
¿nd_£p
;

431 
št32_t
 *
’d_±r
;

434 
	$¿ndom_r
 (
¿ndom_d©a
 *
__»¡riù
 
__buf
,

435 
št32_t
 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

437 
	$¤ªdom_r
 (
__£ed
, 
¿ndom_d©a
 *
__buf
)

438 
__THROW
 
	`__nÚnuÎ
 ((2));

440 
	$š™¡©e_r
 (
__£ed
, *
__»¡riù
 
__¡©ebuf
,

441 
size_t
 
__¡©–’
,

442 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

443 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

445 
	$£t¡©e_r
 (*
__»¡riù
 
__¡©ebuf
,

446 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

447 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

453 
	$¿nd
 (è
__THROW
;

455 
	$¤ªd
 (
__£ed
è
__THROW
;

457 #ifdeà
__USE_POSIX199506


459 
	$¿nd_r
 (*
__£ed
è
__THROW
;

463 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


467 
	$d¿nd48
 (è
__THROW
;

468 
	$”ªd48
 (
__xsubi
[3]è
__THROW
 
	`__nÚnuÎ
 ((1));

471 
	$Ìªd48
 (è
__THROW
;

472 
	$Äªd48
 (
__xsubi
[3])

473 
__THROW
 
	`__nÚnuÎ
 ((1));

476 
	$m¿nd48
 (è
__THROW
;

477 
	$j¿nd48
 (
__xsubi
[3])

478 
__THROW
 
	`__nÚnuÎ
 ((1));

481 
	$¤ªd48
 (
__£edv®
è
__THROW
;

482 *
	$£ed48
 (
__£ed16v
[3])

483 
__THROW
 
	`__nÚnuÎ
 ((1));

484 
	$lcÚg48
 (
__·¿m
[7]è
__THROW
 
	`__nÚnuÎ
 ((1));

486 #ifdeà
__USE_MISC


490 
	sd¿nd48_d©a


492 
__x
[3];

493 
__Şd_x
[3];

494 
__c
;

495 
__š™
;

496 
__ex‹nsiÚ__
 
__a
;

501 
	$d¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

502 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

503 
	$”ªd48_r
 (
__xsubi
[3],

504 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

505 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

508 
	$Ìªd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

509 *
__»¡riù
 
__»suÉ
)

510 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

511 
	$Äªd48_r
 (
__xsubi
[3],

512 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

513 *
__»¡riù
 
__»suÉ
)

514 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

517 
	$m¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

518 *
__»¡riù
 
__»suÉ
)

519 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

520 
	$j¿nd48_r
 (
__xsubi
[3],

521 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

522 *
__»¡riù
 
__»suÉ
)

523 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

526 
	$¤ªd48_r
 (
__£edv®
, 
d¿nd48_d©a
 *
__bufãr
)

527 
__THROW
 
	`__nÚnuÎ
 ((2));

529 
	$£ed48_r
 (
__£ed16v
[3],

530 
d¿nd48_d©a
 *
__bufãr
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

532 
	$lcÚg48_r
 (
__·¿m
[7],

533 
d¿nd48_d©a
 *
__bufãr
)

534 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

539 *
	$m®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__


540 
	`__©Œibu‹_®loc_size__
 ((1)è
__wur
;

542 *
	$ÿÎoc
 (
size_t
 
__nmemb
, size_ˆ
__size
)

543 
__THROW
 
__©Œibu‹_m®loc__
 
	`__©Œibu‹_®loc_size__
 ((1, 2)è
__wur
;

550 *
	$»®loc
 (*
__±r
, 
size_t
 
__size
)

551 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
 
	`__©Œibu‹_®loc_size__
 ((2));

554 
	$ä“
 (*
__±r
è
__THROW
;

556 #ifdeà
__USE_MISC


562 *
	$»®loÿ¼ay
 (*
__±r
, 
size_t
 
__nmemb
, size_ˆ
__size
)

563 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__


564 
	`__©Œibu‹_®loc_size__
 ((2, 3))

565 
__©Œ_d—Îoc_ä“
;

568 *
	$»®loÿ¼ay
 (*
__±r
, 
size_t
 
__nmemb
, size_ˆ
__size
)

569 
__THROW
 
	`__©Œ_d—Îoc
 (
»®loÿ¼ay
, 1);

572 #ifdeà
__USE_MISC


573 
	~<®loÿ.h
>

576 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

577 || 
defšed
 
__USE_MISC


579 *
	$v®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__


580 
	`__©Œibu‹_®loc_size__
 ((1)è
__wur
;

583 #ifdeà
__USE_XOPEN2K


585 
	$posix_mem®ign
 (**
__mem±r
, 
size_t
 
__®ignm’t
, size_ˆ
__size
)

586 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

589 #ifdeà
__USE_ISOC11


591 *
	$®igÃd_®loc
 (
size_t
 
__®ignm’t
, size_ˆ
__size
)

592 
__THROW
 
__©Œibu‹_m®loc__
 
	`__©Œibu‹_®loc_size__
 ((2)è
__wur
;

596 
	$abÜt
 (è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

600 
	$©ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

602 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


604 #ifdeà
__ılu¥lus


605 "C++" 
	$©_quick_ex™
 ((*
__func
) ())

606 
__THROW
 
	`__asm
 ("©_quick_ex™"è
	`__nÚnuÎ
 ((1));

608 
	$©_quick_ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

612 #ifdef 
__USE_MISC


615 
	$Ú_ex™
 ((*
__func
è(
__¡©us
, *
__¬g
), *__arg)

616 
__THROW
 
	`__nÚnuÎ
 ((1));

622 
	$ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

624 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


628 
	$quick_ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

631 #ifdeà
__USE_ISOC99


634 
	$_Ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

639 *
	$g‘’v
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

641 #ifdeà
__USE_GNU


644 *
	$£cu»_g‘’v
 (cÚ¡ *
__Çme
)

645 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

648 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


652 
	$pu‹nv
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

655 #ifdeà
__USE_XOPEN2K


658 
	$£‹nv
 (cÚ¡ *
__Çme
, cÚ¡ *
__v®ue
, 
__»¶aû
)

659 
__THROW
 
	`__nÚnuÎ
 ((2));

662 
	$un£‹nv
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

665 #ifdef 
__USE_MISC


669 
	$ş—»nv
 (è
__THROW
;

673 #ià
defšed
 
__USE_MISC
 \

674 || (
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
)

680 *
	$mk‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1));

683 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


692 #iâdeà
__USE_FILE_OFFSET64


693 
	$mk¡emp
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

695 #ifdeà
__REDIRECT


696 
	`__REDIRECT
 (
mk¡emp
, (*
__‹m¶©e
), 
mk¡emp64
)

697 
	`__nÚnuÎ
 ((1)è
__wur
;

699 
	#mk¡emp
 
mk¡emp64


	)

702 #ifdeà
__USE_LARGEFILE64


703 
	$mk¡emp64
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

707 #ifdeà
__USE_MISC


714 #iâdeà
__USE_FILE_OFFSET64


715 
	$mk¡emps
 (*
__‹m¶©e
, 
__suffixËn
è
	`__nÚnuÎ
 ((1)è
__wur
;

717 #ifdeà
__REDIRECT


718 
	`__REDIRECT
 (
mk¡emps
, (*
__‹m¶©e
, 
__suffixËn
),

719 
mk¡emps64
è
	`__nÚnuÎ
 ((1)è
__wur
;

721 
	#mk¡emps
 
mk¡emps64


	)

724 #ifdeà
__USE_LARGEFILE64


725 
	$mk¡emps64
 (*
__‹m¶©e
, 
__suffixËn
)

726 
	`__nÚnuÎ
 ((1)è
__wur
;

730 #ifdeà
__USE_XOPEN2K8


736 *
	$mkd‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

739 #ifdeà
__USE_GNU


746 #iâdeà
__USE_FILE_OFFSET64


747 
	$mko¡emp
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

749 #ifdeà
__REDIRECT


750 
	`__REDIRECT
 (
mko¡emp
, (*
__‹m¶©e
, 
__æags
), 
mko¡emp64
)

751 
	`__nÚnuÎ
 ((1)è
__wur
;

753 
	#mko¡emp
 
mko¡emp64


	)

756 #ifdeà
__USE_LARGEFILE64


757 
	$mko¡emp64
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

766 #iâdeà
__USE_FILE_OFFSET64


767 
	$mko¡emps
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

768 
	`__nÚnuÎ
 ((1)è
__wur
;

770 #ifdeà
__REDIRECT


771 
	`__REDIRECT
 (
mko¡emps
, (*
__‹m¶©e
, 
__suffixËn
,

772 
__æags
), 
mko¡emps64
)

773 
	`__nÚnuÎ
 ((1)è
__wur
;

775 
	#mko¡emps
 
mko¡emps64


	)

778 #ifdeà
__USE_LARGEFILE64


779 
	$mko¡emps64
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

780 
	`__nÚnuÎ
 ((1)è
__wur
;

789 
	$sy¡em
 (cÚ¡ *
__commªd
è
__wur
;

792 #ifdef 
__USE_GNU


795 *
	$ÿnÚiÿlize_fe_Çme
 (cÚ¡ *
__Çme
)

796 
__THROW
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_m®loc__


797 
__©Œ_d—Îoc_ä“
 
__wur
;

800 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


806 *
	$»®·th
 (cÚ¡ *
__»¡riù
 
__Çme
,

807 *
__»¡riù
 
__»sŞved
è
__THROW
 
__wur
;

812 #iâdeà
__COMPAR_FN_T


813 
	#__COMPAR_FN_T


	)

814 (*
	t__com·r_â_t
) (const *, const *);

816 #ifdef 
__USE_GNU


817 
__com·r_â_t
 
	tcom·risÚ_â_t
;

820 #ifdeà
__USE_GNU


821 (*
	t__com·r_d_â_t
) (const *, const *, *);

826 *
	$b£¬ch
 (cÚ¡ *
__key
, cÚ¡ *
__ba£
,

827 
size_t
 
__nmemb
, size_ˆ
__size
, 
__com·r_â_t
 
__com·r
)

828 
	`__nÚnuÎ
 ((1, 2, 5)è
__wur
;

830 #ifdeà
__USE_EXTERN_INLINES


831 
	~<b™s/¡dlib-b£¬ch.h
>

836 
	$qsÜt
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

837 
__com·r_â_t
 
__com·r
è
	`__nÚnuÎ
 ((1, 4));

838 #ifdeà
__USE_GNU


839 
	$qsÜt_r
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

840 
__com·r_d_â_t
 
__com·r
, *
__¬g
)

841 
	`__nÚnuÎ
 ((1, 4));

846 
	$abs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

847 
	$Ïbs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

849 #ifdeà
__USE_ISOC99


850 
__ex‹nsiÚ__
 
	$Îabs
 (
__x
)

851 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

858 
div_t
 
	$div
 (
__num”
, 
__d’om
)

859 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

860 
ldiv_t
 
	$ldiv
 (
__num”
, 
__d’om
)

861 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

863 #ifdeà
__USE_ISOC99


864 
__ex‹nsiÚ__
 
Îdiv_t
 
	$Îdiv
 (
__num”
,

865 
__d’om
)

866 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

870 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

871 || 
defšed
 
__USE_MISC


878 *
	$ecvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

879 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

884 *
	$fcvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

885 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

890 *
	$gcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

891 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

894 #ifdeà
__USE_MISC


896 *
	$qecvt
 (
__v®ue
, 
__ndig™
,

897 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

898 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

899 *
	$qfcvt
 (
__v®ue
, 
__ndig™
,

900 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

901 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

902 *
	$qgcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

903 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

908 
	$ecvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

909 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

910 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

911 
	$fcvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

912 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

913 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

915 
	$qecvt_r
 (
__v®ue
, 
__ndig™
,

916 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

917 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

918 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

919 
	$qfcvt_r
 (
__v®ue
, 
__ndig™
,

920 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

921 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

922 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

928 
	$mbËn
 (cÚ¡ *
__s
, 
size_t
 
__n
è
__THROW
;

931 
	$mbtowc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

932 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

935 
	$wùomb
 (*
__s
, 
wch¬_t
 
__wch¬
è
__THROW
;

939 
size_t
 
	$mb¡owcs
 (
wch¬_t
 *
__»¡riù
 
__pwcs
,

940 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW


941 
	`__©Œ_acûss
 ((
__»ad_Úly__
, 2));

943 
size_t
 
	$wc¡ombs
 (*
__»¡riù
 
__s
,

944 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__pwcs
, 
size_t
 
__n
)

945 
__THROW


946 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 1, 3)è__©Œ_acûs ((
__»ad_Úly__
, 2));

948 #ifdeà
__USE_MISC


953 
	$½m©ch
 (cÚ¡ *
__»¥Ú£
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

957 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


964 
	$g‘subİt
 (**
__»¡riù
 
__İtiÚp
,

965 *cÚ¡ *
__»¡riù
 
__tok’s
,

966 **
__»¡riù
 
__v®u•
)

967 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3)è
__wur
;

973 #ifdeà
__USE_XOPEN2KXSI


975 
	$posix_İ’±
 (
__oæag
è
__wur
;

978 #ifdeà
__USE_XOPEN_EXTENDED


983 
	$g¿Á±
 (
__fd
è
__THROW
;

987 
	$uÆock±
 (
__fd
è
__THROW
;

992 *
	$±¢ame
 (
__fd
è
__THROW
 
__wur
;

995 #ifdeà
__USE_GNU


999 
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

1000 
__THROW
 
	`__nÚnuÎ
 ((2)è
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 2, 3));

1003 
	`g‘±
 ();

1006 #ifdeà
__USE_MISC


1010 
	$g‘lßdavg
 (
__lßdavg
[], 
__ÃËm
)

1011 
__THROW
 
	`__nÚnuÎ
 ((1));

1014 #ià
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K


1017 
	$‰y¦Ù
 (è
__THROW
;

1020 
	~<b™s/¡dlib-æßt.h
>

1023 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


1024 
	~<b™s/¡dlib.h
>

1027 
	~<b™s/æßŠ.h
>

1028 #ià
defšed
 
__LDBL_COMPAT
 || 
__LDOUBLE_REDIRECTS_TO_FLOAT128_ABI
 == 1

1029 
	~<b™s/¡dlib-ldbl.h
>

1032 
__END_DECLS


	@/usr/include/time.h

22 #iâdef 
_TIME_H


23 
	#_TIME_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	#__Ãed_size_t


	)

28 
	#__Ãed_NULL


	)

29 
	~<¡ddef.h
>

33 
	~<b™s/time.h
>

37 
	~<b™s/ty³s/şock_t.h
>

38 
	~<b™s/ty³s/time_t.h
>

39 
	~<b™s/ty³s/¡ruù_tm.h
>

41 #ià
defšed
 
__USE_POSIX199309
 || defšed 
__USE_ISOC11


42 
	~<b™s/ty³s/¡ruù_time¥ec.h
>

45 #ifdeà
__USE_POSIX199309


46 
	~<b™s/ty³s/şockid_t.h
>

47 
	~<b™s/ty³s/tim”_t.h
>

48 
	~<b™s/ty³s/¡ruù_™im”¥ec.h
>

49 
	gsigev’t
;

52 #ifdeà
__USE_XOPEN2K


53 #iâdeà
__pid_t_defšed


54 
__pid_t
 
	tpid_t
;

55 
	#__pid_t_defšed


	)

59 #ifdeà
__USE_XOPEN2K8


60 
	~<b™s/ty³s/loÿË_t.h
>

63 #ifdeà
__USE_ISOC11


65 
	#TIME_UTC
 1

	)

68 
__BEGIN_DECLS


72 
şock_t
 
	$şock
 (è
__THROW
;

74 #iâdeà
__USE_TIME_BITS64


76 
time_t
 
	$time
 (
time_t
 *
__tim”
è
__THROW
;

79 
	$difáime
 (
time_t
 
__time1
,ime_ˆ
__time0
)

80 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

83 
time_t
 
	$mktime
 (
tm
 *
__
è
__THROW
;

85 #ifdeà
__REDIRECT_NTH


86 
time_t
 
	`__REDIRECT_NTH
 (
time
, (time_ˆ*
__tim”
), 
__time64
);

87 
	`__REDIRECT_NTH
 (
difáime
, (
time_t
 
__time1
,ime_ˆ
__time0
),

88 
__difáime64
è
	`__©Œibu‹__
 ((
__cÚ¡__
));

89 
time_t
 
	`__REDIRECT_NTH
 (
mktime
, (
tm
 *
__
), 
__mktime64
);

91 
	#time
 
__time64


	)

92 
	#difáime
 
__difáime64


	)

93 
	#mktime
 
__mktime64


	)

100 
size_t
 
	$¡ráime
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

101 cÚ¡ *
__»¡riù
 
__fÜm©
,

102 cÚ¡ 
tm
 *
__»¡riù
 
__
è
__THROW
;

104 #ifdeà
__USE_XOPEN


107 *
	$¡½time
 (cÚ¡ *
__»¡riù
 
__s
,

108 cÚ¡ *
__»¡riù
 
__fmt
, 
tm
 *
__
)

109 
__THROW
;

112 #ifdeà
__USE_XOPEN2K8


116 
size_t
 
	$¡ráime_l
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

117 cÚ¡ *
__»¡riù
 
__fÜm©
,

118 cÚ¡ 
tm
 *
__»¡riù
 
__
,

119 
loÿË_t
 
__loc
è
__THROW
;

122 #ifdeà
__USE_GNU


123 *
	$¡½time_l
 (cÚ¡ *
__»¡riù
 
__s
,

124 cÚ¡ *
__»¡riù
 
__fmt
, 
tm
 *
__
,

125 
loÿË_t
 
__loc
è
__THROW
;

129 #iâdeà
__USE_TIME_BITS64


132 
tm
 *
	$gmtime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

136 
tm
 *
	$loÿÉime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

139 #ifdeà
__REDIRECT_NTH


140 
tm
*
	`__REDIRECT_NTH
 (
gmtime
, (cÚ¡ 
time_t
 *
__tim”
), 
__gmtime64
);

141 
tm
 *
	`__REDIRECT_NTH
 (
loÿÉime
, (cÚ¡ 
time_t
 *
__tim”
),

142 
__loÿÉime64
);

144 
	#gmtime
 
__gmtime64


	)

145 
	#loÿÉime
 
__loÿÉime64


	)

150 #ià
defšed
 
__USE_POSIX
 || 
	`__GLIBC_USE
 (
ISOC2X
)

151 #iâdeà
__USE_TIME_BITS64


154 
tm
 *
	$gmtime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

155 
tm
 *
__»¡riù
 
__
è
__THROW
;

159 
tm
 *
	$loÿÉime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

160 
tm
 *
__»¡riù
 
__
è
__THROW
;

162 #ifdeà
__REDIRECT_NTH


163 
tm
*
	`__REDIRECT_NTH
 (
gmtime_r
, (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

164 
tm
 *
__»¡riù
 
__
),

165 
__gmtime64_r
);

167 
tm
*
	`__REDIRECT_NTH
 (
loÿÉime_r
, (cÚ¡ 
time_t
 *
__»¡riù
 
__t
,

168 
tm
 *
__»¡riù
 
__
),

169 
__loÿÉime64_r
);

171 
	#gmtime_r
 
__gmtime64_r


	)

172 
	#loÿÉime_r
 
__loÿÉime_r


	)

179 *
	$asùime
 (cÚ¡ 
tm
 *
__
è
__THROW
;

182 #iâdeà
__USE_TIME_BITS64


183 *
	$ùime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

185 #ifdeà
__REDIRECT_NTH


186 *
	`__REDIRECT_NTH
 (
ùime
, (cÚ¡ 
time_t
 *
__tim”
), 
__ùime64
);

188 
	#ùime
 
__ùime64


	)

192 #ifdeà
__USE_POSIX


197 *
	$asùime_r
 (cÚ¡ 
tm
 *
__»¡riù
 
__
,

198 *
__»¡riù
 
__buf
è
__THROW
;

201 #iâdeà
__USE_TIME_BITS64


202 *
	$ùime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

203 *
__»¡riù
 
__buf
è
__THROW
;

205 #ifdeà
__REDIRECT_NTH


206 *
	`__REDIRECT_NTH
 (
ùime_r
, (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

207 *
__»¡riù
 
__buf
), 
__ùime64_r
);

209 
	#ùime_r
 
__ùime64_r


	)

217 *
__tzÇme
[2];

218 
__daylight
;

219 
__timezÚe
;

222 #ifdef 
__USE_POSIX


224 *
tzÇme
[2];

228 
	$tz£t
 (è
__THROW
;

231 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


232 
daylight
;

233 
timezÚe
;

239 
	#__i¦—p
(
y—r
) \

240 ((
y—r
è% 4 =ğ0 && ((y—rè% 100 !ğ0 || (y—rè% 400 =ğ0))

	)

243 #ifdeà
__USE_MISC


247 #iâdeà
__USE_TIME_BITS64


249 
time_t
 
	$timegm
 (
tm
 *
__
è
__THROW
;

251 
time_t
 
	$tim–oÿl
 (
tm
 *
__
è
__THROW
;

253 #ifdeà
__REDIRECT_NTH


254 
time_t
 
	`__REDIRECT_NTH
 (
timegm
, (
tm
 *
__
), 
__timegm64
);

255 
time_t
 
	`__REDIRECT_NTH
 (
tim–oÿl
, (
tm
 *
__
), 
__mktime64
);

257 
	#timegm
 
__timegm64


	)

262 
	$dysize
 (
__y—r
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

266 #ifdeà
__USE_POSIX199309


267 #iâdeà
__USE_TIME_BITS64


272 
	`Çno¦“p
 (cÚ¡ 
time¥ec
 *
__»que¡ed_time
,

273 
time¥ec
 *
__»maššg
);

276 
	$şock_g‘»s
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__»s
è
__THROW
;

279 
	$şock_g‘time
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__
è
__THROW
;

282 
	$şock_£‰ime
 (
şockid_t
 
__şock_id
, cÚ¡ 
time¥ec
 *
__
)

283 
__THROW
;

285 #ifdeà
__REDIRECT


286 
	`__REDIRECT
 (
Çno¦“p
, (cÚ¡ 
time¥ec
 *
__»que¡ed_time
,

287 
time¥ec
 *
__»maššg
),

288 
__Çno¦“p64
);

289 
	`__REDIRECT_NTH
 (
şock_g‘»s
, (
şockid_t
 
__şock_id
,

290 
time¥ec
 *
__»s
),

291 
__şock_g‘»s64
);

292 
	`__REDIRECT_NTH
 (
şock_g‘time
, (
şockid_t
 
__şock_id
, 

293 
time¥ec
 *
__
), 
__şock_g‘time64
);

294 
	`__REDIRECT_NTH
 (
şock_£‰ime
, (
şockid_t
 
__şock_id
, const 

295 
time¥ec
 *
__
), 
__şock_£‰ime64
);

297 
	#Çno¦“p
 
__Çno¦“p64


	)

298 
	#şock_g‘»s
 
__şock_g‘»s64


	)

299 
	#şock_g‘time
 
__şock_g‘time64


	)

300 
	#şock_£‰ime
 
__şock_£‰ime64


	)

305 #ifdeà
__USE_XOPEN2K


310 #iâdeà
__USE_TIME_BITS64


311 
	`şock_Çno¦“p
 (
şockid_t
 
__şock_id
, 
__æags
,

312 cÚ¡ 
time¥ec
 *
__»q
,

313 
time¥ec
 *
__»m
);

315 #ifdeà
__REDIRECT


316 
	`__REDIRECT
 (
şock_Çno¦“p
, (
şockid_t
 
__şock_id
, 
__æags
,

317 cÚ¡ 
time¥ec
 *
__»q
,

318 
time¥ec
 *
__»m
),

319 
__şock_Çno¦“p_time64
);

321 
	#şock_Çno¦“p
 
__şock_Çno¦“p_time64


	)

326 
	$şock_g‘ıuşockid
 (
pid_t
 
__pid
, 
şockid_t
 *
__şock_id
è
__THROW
;

331 
	$tim”_ü—‹
 (
şockid_t
 
__şock_id
,

332 
sigev’t
 *
__»¡riù
 
__evp
,

333 
tim”_t
 *
__»¡riù
 
__tim”id
è
__THROW
;

336 
	$tim”_d–‘e
 (
tim”_t
 
__tim”id
è
__THROW
;

339 #iâdeà
__USE_TIME_BITS64


340 
	$tim”_£‰ime
 (
tim”_t
 
__tim”id
, 
__æags
,

341 cÚ¡ 
™im”¥ec
 *
__»¡riù
 
__v®ue
,

342 
™im”¥ec
 *
__»¡riù
 
__ov®ue
è
__THROW
;

345 
	$tim”_g‘time
 (
tim”_t
 
__tim”id
, 
™im”¥ec
 *
__v®ue
)

346 
__THROW
;

348 #ifdeà
__REDIRECT_NTH


349 
	`__REDIRECT_NTH
 (
tim”_£‰ime
, (
tim”_t
 
__tim”id
, 
__æags
,

350 cÚ¡ 
™im”¥ec
 *
__»¡riù
 
__v®ue
,

351 
™im”¥ec
 *
__»¡riù
 
__ov®ue
),

352 
__tim”_£‰ime64
);

354 
	`__REDIRECT_NTH
 (
tim”_g‘time
, (
tim”_t
 
__tim”id
,

355 
™im”¥ec
 *
__v®ue
),

356 
__tim”_g‘time64
);

358 
	#tim”_£‰ime
 
__tim”_£‰ime64


	)

359 
	#tim”_g‘time
 
__tim”_g‘time64


	)

364 
	$tim”_g‘ov”run
 (
tim”_t
 
__tim”id
è
__THROW
;

368 #ifdeà
__USE_ISOC11


369 #iâdeà
__USE_TIME_BITS64


371 
	$time¥ec_g‘
 (
time¥ec
 *
__ts
, 
__ba£
)

372 
__THROW
 
	`__nÚnuÎ
 ((1));

374 #ifdeà
__REDIRECT_NTH


375 
	`__REDIRECT_NTH
 (
time¥ec_g‘
, (
time¥ec
 *
__ts
, 
__ba£
),

376 
__time¥ec_g‘64
è
	`__nÚnuÎ
 ((1));

378 
	#time¥ec_g‘
 
__time¥ec_g‘64


	)

384 #ià
	`__GLIBC_USE
 (
ISOC2X
)

385 #iâdeà
__USE_TIME_BITS64


387 
	$time¥ec_g‘»s
 (
time¥ec
 *
__ts
, 
__ba£
)

388 
__THROW
;

390 #ifdeà
__REDIRECT_NTH


391 
	`__REDIRECT_NTH
 (
time¥ec_g‘»s
, (
time¥ec
 *
__ts
,

392 
__ba£
),

393 
__time¥ec_g‘»s64
);

395 
	#time¥ec_g‘»s
 
__time¥ec_g‘»s64


	)

401 #ifdeà
__USE_XOPEN_EXTENDED


413 
g‘d©e_”r
;

422 
tm
 *
	`g‘d©e
 (cÚ¡ *
__¡ršg
);

425 #ifdeà
__USE_GNU


436 
	`g‘d©e_r
 (cÚ¡ *
__»¡riù
 
__¡ršg
,

437 
tm
 *
__»¡riù
 
__»sbuå
);

440 
__END_DECLS


	@/usr/include/zconf.h

8 #iâdeà
ZCONF_H


9 
	#ZCONF_H


	)

17 #ifdeà
Z_PREFIX


18 
	#Z_PREFIX_SET


	)

21 
	#_di¡_code
 
z__di¡_code


	)

22 
	#_Ëngth_code
 
z__Ëngth_code


	)

23 
	#_Œ_®ign
 
z__Œ_®ign


	)

24 
	#_Œ_æush_b™s
 
z__Œ_æush_b™s


	)

25 
	#_Œ_æush_block
 
z__Œ_æush_block


	)

26 
	#_Œ_š™
 
z__Œ_š™


	)

27 
	#_Œ_¡Üed_block
 
z__Œ_¡Üed_block


	)

28 
	#_Œ_Îy
 
z__Œ_Îy


	)

29 
	#adËr32
 
z_adËr32


	)

30 
	#adËr32_combše
 
z_adËr32_combše


	)

31 
	#adËr32_combše64
 
z_adËr32_combše64


	)

32 
	#adËr32_z
 
z_adËr32_z


	)

33 #iâdeà
Z_SOLO


34 
	#com´ess
 
z_com´ess


	)

35 
	#com´ess2
 
z_com´ess2


	)

36 
	#com´essBound
 
z_com´essBound


	)

38 
	#üc32
 
z_üc32


	)

39 
	#üc32_combše
 
z_üc32_combše


	)

40 
	#üc32_combše64
 
z_üc32_combše64


	)

41 
	#üc32_z
 
z_üc32_z


	)

42 
	#deæ©e
 
z_deæ©e


	)

43 
	#deæ©eBound
 
z_deæ©eBound


	)

44 
	#deæ©eCİy
 
z_deæ©eCİy


	)

45 
	#deæ©eEnd
 
z_deæ©eEnd


	)

46 
	#deæ©eG‘DiùiÚ¬y
 
z_deæ©eG‘DiùiÚ¬y


	)

47 
	#deæ©eIn™
 
z_deæ©eIn™


	)

48 
	#deæ©eIn™2
 
z_deæ©eIn™2


	)

49 
	#deæ©eIn™2_
 
z_deæ©eIn™2_


	)

50 
	#deæ©eIn™_
 
z_deæ©eIn™_


	)

51 
	#deæ©eP¬ams
 
z_deæ©eP¬ams


	)

52 
	#deæ©eP’dšg
 
z_deæ©eP’dšg


	)

53 
	#deæ©ePrime
 
z_deæ©ePrime


	)

54 
	#deæ©eRe£t
 
z_deæ©eRe£t


	)

55 
	#deæ©eRe£tK“p
 
z_deæ©eRe£tK“p


	)

56 
	#deæ©eS‘DiùiÚ¬y
 
z_deæ©eS‘DiùiÚ¬y


	)

57 
	#deæ©eS‘H—d”
 
z_deæ©eS‘H—d”


	)

58 
	#deæ©eTuÃ
 
z_deæ©eTuÃ


	)

59 
	#deæ©e_cİyright
 
z_deæ©e_cİyright


	)

60 
	#g‘_üc_bË
 
z_g‘_üc_bË


	)

61 #iâdeà
Z_SOLO


62 
	#gz_”rÜ
 
z_gz_”rÜ


	)

63 
	#gz_štmax
 
z_gz_štmax


	)

64 
	#gz_¡rwš”rÜ
 
z_gz_¡rwš”rÜ


	)

65 
	#gzbufãr
 
z_gzbufãr


	)

66 
	#gzş—»¼
 
z_gzş—»¼


	)

67 
	#gzşo£
 
z_gzşo£


	)

68 
	#gzşo£_r
 
z_gzşo£_r


	)

69 
	#gzşo£_w
 
z_gzşo£_w


	)

70 
	#gzdœeù
 
z_gzdœeù


	)

71 
	#gzdİ’
 
z_gzdİ’


	)

72 
	#gzeof
 
z_gzeof


	)

73 
	#gz”rÜ
 
z_gz”rÜ


	)

74 
	#gzæush
 
z_gzæush


	)

75 
	#gzä—d
 
z_gzä—d


	)

76 
	#gzfwr™e
 
z_gzfwr™e


	)

77 
	#gzg‘c
 
z_gzg‘c


	)

78 
	#gzg‘c_
 
z_gzg‘c_


	)

79 
	#gzg‘s
 
z_gzg‘s


	)

80 
	#gzoff£t
 
z_gzoff£t


	)

81 
	#gzoff£t64
 
z_gzoff£t64


	)

82 
	#gzİ’
 
z_gzİ’


	)

83 
	#gzİ’64
 
z_gzİ’64


	)

84 #ifdeà
_WIN32


85 
	#gzİ’_w
 
z_gzİ’_w


	)

87 
	#gz´štf
 
z_gz´štf


	)

88 
	#gzputc
 
z_gzputc


	)

89 
	#gzputs
 
z_gzputs


	)

90 
	#gz»ad
 
z_gz»ad


	)

91 
	#gz»wšd
 
z_gz»wšd


	)

92 
	#gz£ek
 
z_gz£ek


	)

93 
	#gz£ek64
 
z_gz£ek64


	)

94 
	#gz£¬ams
 
z_gz£¬ams


	)

95 
	#gz‹Î
 
z_gz‹Î


	)

96 
	#gz‹Î64
 
z_gz‹Î64


	)

97 
	#gzung‘c
 
z_gzung‘c


	)

98 
	#gzv´štf
 
z_gzv´štf


	)

99 
	#gzwr™e
 
z_gzwr™e


	)

101 
	#šæ©e
 
z_šæ©e


	)

102 
	#šæ©eBack
 
z_šæ©eBack


	)

103 
	#šæ©eBackEnd
 
z_šæ©eBackEnd


	)

104 
	#šæ©eBackIn™
 
z_šæ©eBackIn™


	)

105 
	#šæ©eBackIn™_
 
z_šæ©eBackIn™_


	)

106 
	#šæ©eCodesU£d
 
z_šæ©eCodesU£d


	)

107 
	#šæ©eCİy
 
z_šæ©eCİy


	)

108 
	#šæ©eEnd
 
z_šæ©eEnd


	)

109 
	#šæ©eG‘DiùiÚ¬y
 
z_šæ©eG‘DiùiÚ¬y


	)

110 
	#šæ©eG‘H—d”
 
z_šæ©eG‘H—d”


	)

111 
	#šæ©eIn™
 
z_šæ©eIn™


	)

112 
	#šæ©eIn™2
 
z_šæ©eIn™2


	)

113 
	#šæ©eIn™2_
 
z_šæ©eIn™2_


	)

114 
	#šæ©eIn™_
 
z_šæ©eIn™_


	)

115 
	#šæ©eM¬k
 
z_šæ©eM¬k


	)

116 
	#šæ©ePrime
 
z_šæ©ePrime


	)

117 
	#šæ©eRe£t
 
z_šæ©eRe£t


	)

118 
	#šæ©eRe£t2
 
z_šæ©eRe£t2


	)

119 
	#šæ©eRe£tK“p
 
z_šæ©eRe£tK“p


	)

120 
	#šæ©eS‘DiùiÚ¬y
 
z_šæ©eS‘DiùiÚ¬y


	)

121 
	#šæ©eSync
 
z_šæ©eSync


	)

122 
	#šæ©eSyncPošt
 
z_šæ©eSyncPošt


	)

123 
	#šæ©eUnd”mše
 
z_šæ©eUnd”mše


	)

124 
	#šæ©eV®id©e
 
z_šæ©eV®id©e


	)

125 
	#šæ©e_cİyright
 
z_šæ©e_cİyright


	)

126 
	#šæ©e_ç¡
 
z_šæ©e_ç¡


	)

127 
	#šæ©e_bË
 
z_šæ©e_bË


	)

128 #iâdeà
Z_SOLO


129 
	#uncom´ess
 
z_uncom´ess


	)

130 
	#uncom´ess2
 
z_uncom´ess2


	)

132 
	#zE¼Ü
 
z_zE¼Ü


	)

133 #iâdeà
Z_SOLO


134 
	#zÿÎoc
 
z_zÿÎoc


	)

135 
	#zcä“
 
z_zcä“


	)

137 
	#zlibCompeFÏgs
 
z_zlibCompeFÏgs


	)

138 
	#zlibV”siÚ
 
z_zlibV”siÚ


	)

141 
	#By‹
 
z_By‹


	)

142 
	#By‹f
 
z_By‹f


	)

143 
	#®loc_func
 
z_®loc_func


	)

144 
	#ch¬f
 
z_ch¬f


	)

145 
	#ä“_func
 
z_ä“_func


	)

146 #iâdeà
Z_SOLO


147 
	#gzFe
 
z_gzFe


	)

149 
	#gz_h—d”
 
z_gz_h—d”


	)

150 
	#gz_h—d”p
 
z_gz_h—d”p


	)

151 
	#š_func
 
z_š_func


	)

152 
	#štf
 
z_štf


	)

153 
	#out_func
 
z_out_func


	)

154 
	#uIÁ
 
z_uIÁ


	)

155 
	#uIÁf
 
z_uIÁf


	)

156 
	#uLÚg
 
z_uLÚg


	)

157 
	#uLÚgf
 
z_uLÚgf


	)

158 
	#voidp
 
z_voidp


	)

159 
	#voidpc
 
z_voidpc


	)

160 
	#voidpf
 
z_voidpf


	)

163 
	#gz_h—d”_s
 
z_gz_h—d”_s


	)

164 
	#š‹º®_¡©e
 
z_š‹º®_¡©e


	)

168 #ià
defšed
(
__MSDOS__
è&& !defšed(
MSDOS
)

169 
	#MSDOS


	)

171 #ià(
defšed
(
OS_2
è|| defšed(
__OS2__
)è&& !defšed(
OS2
)

172 
	#OS2


	)

174 #ià
defšed
(
_WINDOWS
è&& !defšed(
WINDOWS
)

175 
	#WINDOWS


	)

177 #ià
defšed
(
_WIN32
è|| defšed(
_WIN32_WCE
è|| defšed(
__WIN32__
)

178 #iâdeà
WIN32


179 
	#WIN32


	)

182 #ià(
defšed
(
MSDOS
è|| defšed(
OS2
è|| defšed(
WINDOWS
)è&& !defšed(
WIN32
)

183 #ià!
defšed
(
__GNUC__
è&& !defšed(
__FLAT__
è&& !defšed(
__386__
)

184 #iâdeà
SYS16BIT


185 
	#SYS16BIT


	)

194 #ifdeà
SYS16BIT


195 
	#MAXSEG_64K


	)

197 #ifdeà
MSDOS


198 
	#UNALIGNED_OK


	)

201 #ifdeà
__STDC_VERSION__


202 #iâdeà
STDC


203 
	#STDC


	)

205 #ià
__STDC_VERSION__
 >= 199901L

206 #iâdeà
STDC99


207 
	#STDC99


	)

211 #ià!
defšed
(
STDC
è&& (defšed(
__STDC__
è|| defšed(
__ılu¥lus
))

212 
	#STDC


	)

214 #ià!
defšed
(
STDC
è&& (defšed(
__GNUC__
è|| defšed(
__BORLANDC__
))

215 
	#STDC


	)

217 #ià!
defšed
(
STDC
è&& (defšed(
MSDOS
è|| defšed(
WINDOWS
è|| defšed(
WIN32
))

218 
	#STDC


	)

220 #ià!
defšed
(
STDC
è&& (defšed(
OS2
è|| defšed(
__HOS_AIX__
))

221 
	#STDC


	)

224 #ià
defšed
(
__OS400__
è&& !defšed(
STDC
)

225 
	#STDC


	)

228 #iâdeà
STDC


230 cÚ¡

	)

234 #ià
defšed
(
ZLIB_CONST
è&& !defšed(
z_cÚ¡
)

235 
	#z_cÚ¡
 cÚ¡

	)

237 
	#z_cÚ¡


	)

240 #ifdeà
Z_SOLO


241 
	tz_size_t
;

243 
	#z_lÚglÚg
 

	)

244 #ià
defšed
(
NO_SIZE_T
)

245 
	tNO_SIZE_T
 
	tz_size_t
;

246 #–ià
defšed
(
STDC
)

247 
	~<¡ddef.h
>

248 
size_t
 
	tz_size_t
;

250 
	tz_size_t
;

252 #undeà
z_lÚglÚg


256 #iâdeà
MAX_MEM_LEVEL


257 #ifdeà
MAXSEG_64K


258 
	#MAX_MEM_LEVEL
 8

	)

260 
	#MAX_MEM_LEVEL
 9

	)

269 #iâdeà
MAX_WBITS


270 
	#MAX_WBITS
 15

	)

288 #iâdeà
OF


289 #ifdeà
STDC


290 
	#OF
(
¬gs
è
	)
args

292 
	#OF
(
¬gs
è()

	)

296 #iâdeà
Z_ARG


297 #ià
defšed
(
STDC
è|| defšed(
Z_HAVE_STDARG_H
)

298 
	#Z_ARG
(
¬gs
è
	)
args

300 
	#Z_ARG
(
¬gs
è()

	)

310 #ifdeà
SYS16BIT


311 #ià
defšed
(
M_I86SM
è|| defšed(
M_I86MM
)

313 
	#SMALL_MEDIUM


	)

314 #ifdeà
_MSC_VER


315 
	#FAR
 
_çr


	)

317 
	#FAR
 
çr


	)

320 #ià(
defšed
(
__SMALL__
è|| defšed(
__MEDIUM__
))

322 
	#SMALL_MEDIUM


	)

323 #ifdeà
__BORLANDC__


324 
	#FAR
 
_çr


	)

326 
	#FAR
 
çr


	)

331 #ià
defšed
(
WINDOWS
è|| defšed(
WIN32
)

335 #ifdeà
ZLIB_DLL


336 #ià
defšed
(
WIN32
è&& (!defšed(
__BORLANDC__
) || (__BORLANDC__ >= 0x500))

337 #ifdeà
ZLIB_INTERNAL


338 
	#ZEXTERN
 
	`__deş¥ec
(
dÎexpÜt
)

	)

340 
	#ZEXTERN
 
	`__deş¥ec
(
dÎimpÜt
)

	)

348 #ifdeà
ZLIB_WINAPI


349 #ifdeà
FAR


350 #undeà
FAR


352 
	~<wšdows.h
>

355 
	#ZEXPORT
 
WINAPI


	)

356 #ifdeà
WIN32


357 
	#ZEXPORTVA
 
WINAPIV


	)

359 
	#ZEXPORTVA
 
FAR
 
CDECL


	)

364 #ià
defšed
 (
__BEOS__
)

365 #ifdeà
ZLIB_DLL


366 #ifdeà
ZLIB_INTERNAL


367 
	#ZEXPORT
 
	`__deş¥ec
(
dÎexpÜt
)

	)

368 
	#ZEXPORTVA
 
	`__deş¥ec
(
dÎexpÜt
)

	)

370 
	#ZEXPORT
 
	`__deş¥ec
(
dÎimpÜt
)

	)

371 
	#ZEXPORTVA
 
	`__deş¥ec
(
dÎimpÜt
)

	)

376 #iâdeà
ZEXTERN


377 
	#ZEXTERN
 

	)

379 #iâdeà
ZEXPORT


380 
	#ZEXPORT


	)

382 #iâdeà
ZEXPORTVA


383 
	#ZEXPORTVA


	)

386 #iâdeà
FAR


387 
	#FAR


	)

390 #ià!
defšed
(
__MACTYPES__
)

391 
	tBy‹
;

393 
	tuIÁ
;

394 
	tuLÚg
;

396 #ifdeà
SMALL_MEDIUM


398 
	#By‹f
 
By‹
 
FAR


	)

400 
By‹
 
	tFAR
 
	tBy‹f
;

402 
	tFAR
 
	tch¬f
;

403 
	tFAR
 
	tštf
;

404 
uIÁ
 
	tFAR
 
	tuIÁf
;

405 
uLÚg
 
	tFAR
 
	tuLÚgf
;

407 #ifdeà
STDC


408 cÚ¡ *
	tvoidpc
;

409 
	tFAR
 *
	tvoidpf
;

410 *
	tvoidp
;

412 
By‹
 cÚ¡ *
	tvoidpc
;

413 
By‹
 
	tFAR
 *
	tvoidpf
;

414 
By‹
 *
	tvoidp
;

417 #ià!
defšed
(
Z_U4
è&& !defšed(
Z_SOLO
è&& defšed(
STDC
)

418 
	~<lim™s.h
>

419 #ià(
UINT_MAX
 == 0xffffffffUL)

420 
	#Z_U4
 

	)

421 #–ià(
ULONG_MAX
 == 0xffffffffUL)

422 
	#Z_U4
 

	)

423 #–ià(
USHRT_MAX
 == 0xffffffffUL)

424 
	#Z_U4
 

	)

428 #ifdeà
Z_U4


429 
Z_U4
 
	tz_üc_t
;

431 
	tz_üc_t
;

435 
	#Z_HAVE_UNISTD_H


	)

439 
	#Z_HAVE_STDARG_H


	)

442 #ifdeà
STDC


443 #iâdeà
Z_SOLO


444 
	~<sys/ty³s.h
>

448 #ià
defšed
(
STDC
è|| defšed(
Z_HAVE_STDARG_H
)

449 #iâdeà
Z_SOLO


450 
	~<¡d¬g.h
>

454 #ifdeà
_WIN32


455 #iâdeà
Z_SOLO


456 
	~<¡ddef.h
>

466 #ià
defšed
(
_LARGEFILE64_SOURCE
) && -_LARGEFILE64_SOURCE - -1 == 1

467 #undeà
_LARGEFILE64_SOURCE


470 #ià
defšed
(
__WATCOMC__
è&& !defšed(
Z_HAVE_UNISTD_H
)

471 
	#Z_HAVE_UNISTD_H


	)

473 #iâdeà
Z_SOLO


474 #ià
defšed
(
Z_HAVE_UNISTD_H
è|| defšed(
_LARGEFILE64_SOURCE
)

475 
	~<uni¡d.h
>

476 #ifdeà
VMS


477 
	~<unixio.h
>

479 #iâdeà
z_off_t


480 
	#z_off_t
 
off_t


	)

485 #ià
defšed
(
_LFS64_LARGEFILE
) && _LFS64_LARGEFILE-0

486 
	#Z_LFS64


	)

489 #ià
defšed
(
_LARGEFILE64_SOURCE
è&& defšed(
Z_LFS64
)

490 
	#Z_LARGE64


	)

493 #ià
defšed
(
_FILE_OFFSET_BITS
è&& _FILE_OFFSET_BITS-0 =ğ64 && defšed(
Z_LFS64
)

494 
	#Z_WANT64


	)

497 #ià!
defšed
(
SEEK_SET
è&& !defšed(
Z_SOLO
)

498 
	#SEEK_SET
 0

	)

499 
	#SEEK_CUR
 1

	)

500 
	#SEEK_END
 2

	)

503 #iâdeà
z_off_t


504 
	#z_off_t
 

	)

507 #ià!
defšed
(
_WIN32
è&& defšed(
Z_LARGE64
)

508 
	#z_off64_t
 
off64_t


	)

510 #ià
defšed
(
_WIN32
è&& !defšed(
__GNUC__
è&& !defšed(
Z_SOLO
)

511 
	#z_off64_t
 
__št64


	)

513 
	#z_off64_t
 
z_off_t


	)

518 #ià
defšed
(
__MVS__
)

519 #´agm¨
m­
(
deæ©eIn™_
,"DEIN")

520 #´agm¨
m­
(
deæ©eIn™2_
,"DEIN2")

521 #´agm¨
m­
(
deæ©eEnd
,"DEEND")

522 #´agm¨
m­
(
deæ©eBound
,"DEBND")

523 #´agm¨
m­
(
šæ©eIn™_
,"ININ")

524 #´agm¨
m­
(
šæ©eIn™2_
,"ININ2")

525 #´agm¨
m­
(
šæ©eEnd
,"INEND")

526 #´agm¨
m­
(
šæ©eSync
,"INSY")

527 #´agm¨
m­
(
šæ©eS‘DiùiÚ¬y
,"INSEDI")

528 #´agm¨
m­
(
com´essBound
,"CMBND")

529 #´agm¨
m­
(
šæ©e_bË
,"INTABL")

530 #´agm¨
m­
(
šæ©e_ç¡
,"INFA")

531 #´agm¨
m­
(
šæ©e_cİyright
,"INCOPY")

	@/usr/include/X11/Xmd.h

47 #iâdeà
XMD_H


48 
	#XMD_H
 1

	)

56 #ià
defšed
(
__sun
è&& defšed(
__SVR4
)

57 
	~<sys/i§_defs.h
>

60 #ià
defšed
 (
_LP64
è|| defšed(
__LP64__
) || \

61 
defšed
(
__®pha
è|| defšed(
__®pha__
) || \

62 
defšed
(
__Ÿ64__
è|| defšed(
Ÿ64
) || \

63 
defšed
(
__¥¬c64__
) || \

64 
defšed
(
__s390x__
) || \

65 
defšed
(
__amd64__
è|| defšed(
amd64
) || \

66 
	$defšed
(
__pow”pc64__
)

67 #ià!
	`defšed
(
__ILP32__
)

68 
	#LONG64


	)

86 
	#_SIZEOF
(
x
è
sz_
##
	)
x

87 
	#SIZEOF
(
x
è
	`_SIZEOF
(x)

	)

94 
	#B32


	)

95 
	#B16


	)

96 #ifdeà
LONG64


97 
	tINT64
;

98 
	tINT32
;

100 
	tINT32
;

102 
	tINT16
;

104 sigÃd 
	tINT8
;

106 #ifdeà
LONG64


107 
	tCARD64
;

108 
	tCARD32
;

110 
	tCARD64
;

111 
	tCARD32
;

113 
	tCARD16
;

114 
	tCARD8
;

116 
CARD32
 
	tBITS32
;

117 
CARD16
 
	tBITS16
;

119 
CARD8
 
	tBYTE
;

120 
CARD8
 
	tBOOL
;

126 
	#cvtINT8toIÁ
(
v®
è(v®)

	)

127 
	#cvtINT16toIÁ
(
v®
è(v®)

	)

128 
	#cvtINT32toIÁ
(
v®
è(v®)

	)

129 
	#cvtINT8toShÜt
(
v®
è(v®)

	)

130 
	#cvtINT16toShÜt
(
v®
è(v®)

	)

131 
	#cvtINT32toShÜt
(
v®
è(v®)

	)

132 
	#cvtINT8toLÚg
(
v®
è(v®)

	)

133 
	#cvtINT16toLÚg
(
v®
è(v®)

	)

134 
	#cvtINT32toLÚg
(
v®
è(v®)

	)

140 
	#NEXTPTR
(
p
,
t
è((Ñ *)Õ)è+ 1)

	)

	@/usr/include/X11/extensions/render.h

24 #iâdeà
_RENDER_H_


25 
	#_RENDER_H_


	)

27 
	~<X11/Xdefs.h
>

29 
XID
 
	tGlyph
;

30 
XID
 
	tGlyphS‘
;

31 
XID
 
	tPiùu»
;

32 
XID
 
	tPiùFÜm©
;

34 
	#RENDER_NAME
 "RENDER"

	)

35 
	#RENDER_MAJOR
 0

	)

36 
	#RENDER_MINOR
 11

	)

38 
	#X_R’d”Qu”yV”siÚ
 0

	)

39 
	#X_R’d”Qu”yPiùFÜm©s
 1

	)

40 
	#X_R’d”Qu”yPiùIndexV®ues
 2

	)

41 
	#X_R’d”Qu”yD™h”s
 3

	)

42 
	#X_R’d”C»©ePiùu»
 4

	)

43 
	#X_R’d”ChªgePiùu»
 5

	)

44 
	#X_R’d”S‘Piùu»ClReùªgËs
 6

	)

45 
	#X_R’d”F»ePiùu»
 7

	)

46 
	#X_R’d”Compos™e
 8

	)

47 
	#X_R’d”SÿË
 9

	)

48 
	#X_R’d”T¿³zoids
 10

	)

49 
	#X_R’d”TrŸngËs
 11

	)

50 
	#X_R’d”TriSŒ
 12

	)

51 
	#X_R’d”TriFª
 13

	)

52 
	#X_R’d”CŞÜT¿³zoids
 14

	)

53 
	#X_R’d”CŞÜTrŸngËs
 15

	)

55 
	#X_R’d”C»©eGlyphS‘
 17

	)

56 
	#X_R’d”Reã»nûGlyphS‘
 18

	)

57 
	#X_R’d”F»eGlyphS‘
 19

	)

58 
	#X_R’d”AddGlyphs
 20

	)

59 
	#X_R’d”AddGlyphsFromPiùu»
 21

	)

60 
	#X_R’d”F»eGlyphs
 22

	)

61 
	#X_R’d”Compos™eGlyphs8
 23

	)

62 
	#X_R’d”Compos™eGlyphs16
 24

	)

63 
	#X_R’d”Compos™eGlyphs32
 25

	)

64 
	#X_R’d”FlReùªgËs
 26

	)

66 
	#X_R’d”C»©eCursÜ
 27

	)

68 
	#X_R’d”S‘Piùu»T¿nsfÜm
 28

	)

69 
	#X_R’d”Qu”yF‹rs
 29

	)

70 
	#X_R’d”S‘Piùu»F‹r
 30

	)

72 
	#X_R’d”C»©eAnimCursÜ
 31

	)

74 
	#X_R’d”AddT¿ps
 32

	)

76 
	#X_R’d”C»©eSŞidFl
 33

	)

77 
	#X_R’d”C»©eLš—rG¿d›Á
 34

	)

78 
	#X_R’d”C»©eRadŸlG¿d›Á
 35

	)

79 
	#X_R’d”C»©eCÚiÿlG¿d›Á
 36

	)

80 
	#R’d”Numb”Reque¡s
 (
X_R’d”C»©eCÚiÿlG¿d›Á
+1)

	)

82 
	#BadPiùFÜm©
 0

	)

83 
	#BadPiùu»
 1

	)

84 
	#BadPiùOp
 2

	)

85 
	#BadGlyphS‘
 3

	)

86 
	#BadGlyph
 4

	)

87 
	#R’d”Numb”E¼Üs
 (
BadGlyph
+1)

	)

89 
	#PiùTy³Indexed
 0

	)

90 
	#PiùTy³Dœeù
 1

	)

92 
	#PiùOpMšimum
 0

	)

93 
	#PiùOpCË¬
 0

	)

94 
	#PiùOpSrc
 1

	)

95 
	#PiùOpD¡
 2

	)

96 
	#PiùOpOv”
 3

	)

97 
	#PiùOpOv”Rev”£
 4

	)

98 
	#PiùOpIn
 5

	)

99 
	#PiùOpInRev”£
 6

	)

100 
	#PiùOpOut
 7

	)

101 
	#PiùOpOutRev”£
 8

	)

102 
	#PiùOpAtİ
 9

	)

103 
	#PiùOpAtİRev”£
 10

	)

104 
	#PiùOpXÜ
 11

	)

105 
	#PiùOpAdd
 12

	)

106 
	#PiùOpS©u¿‹
 13

	)

107 
	#PiùOpMaximum
 13

	)

112 
	#PiùOpDisjoštMšimum
 0x10

	)

113 
	#PiùOpDisjoštCË¬
 0x10

	)

114 
	#PiùOpDisjoštSrc
 0x11

	)

115 
	#PiùOpDisjoštD¡
 0x12

	)

116 
	#PiùOpDisjoštOv”
 0x13

	)

117 
	#PiùOpDisjoštOv”Rev”£
 0x14

	)

118 
	#PiùOpDisjoštIn
 0x15

	)

119 
	#PiùOpDisjoštInRev”£
 0x16

	)

120 
	#PiùOpDisjoštOut
 0x17

	)

121 
	#PiùOpDisjoštOutRev”£
 0x18

	)

122 
	#PiùOpDisjoštAtİ
 0x19

	)

123 
	#PiùOpDisjoštAtİRev”£
 0x1a

	)

124 
	#PiùOpDisjoštXÜ
 0x1b

	)

125 
	#PiùOpDisjoštMaximum
 0x1b

	)

127 
	#PiùOpCÚjoštMšimum
 0x20

	)

128 
	#PiùOpCÚjoštCË¬
 0x20

	)

129 
	#PiùOpCÚjoštSrc
 0x21

	)

130 
	#PiùOpCÚjoštD¡
 0x22

	)

131 
	#PiùOpCÚjoštOv”
 0x23

	)

132 
	#PiùOpCÚjoštOv”Rev”£
 0x24

	)

133 
	#PiùOpCÚjoštIn
 0x25

	)

134 
	#PiùOpCÚjoštInRev”£
 0x26

	)

135 
	#PiùOpCÚjoštOut
 0x27

	)

136 
	#PiùOpCÚjoštOutRev”£
 0x28

	)

137 
	#PiùOpCÚjoštAtİ
 0x29

	)

138 
	#PiùOpCÚjoštAtİRev”£
 0x2a

	)

139 
	#PiùOpCÚjoštXÜ
 0x2b

	)

140 
	#PiùOpCÚjoštMaximum
 0x2b

	)

145 
	#PiùOpBËndMšimum
 0x30

	)

146 
	#PiùOpMuÉly
 0x30

	)

147 
	#PiùOpSü“n
 0x31

	)

148 
	#PiùOpOv”Ïy
 0x32

	)

149 
	#PiùOpD¬k’
 0x33

	)

150 
	#PiùOpLigh‹n
 0x34

	)

151 
	#PiùOpCŞÜDodge
 0x35

	)

152 
	#PiùOpCŞÜBuº
 0x36

	)

153 
	#PiùOpH¬dLight
 0x37

	)

154 
	#PiùOpSoáLight
 0x38

	)

155 
	#PiùOpDifã»nû
 0x39

	)

156 
	#PiùOpExşusiÚ
 0x3a

	)

157 
	#PiùOpHSLHue
 0x3b

	)

158 
	#PiùOpHSLS©u¿tiÚ
 0x3c

	)

159 
	#PiùOpHSLCŞÜ
 0x3d

	)

160 
	#PiùOpHSLLumšos™y
 0x3e

	)

161 
	#PiùOpBËndMaximum
 0x3e

	)

163 
	#PŞyEdgeSh¬p
 0

	)

164 
	#PŞyEdgeSmoÙh
 1

	)

166 
	#PŞyModeP»ci£
 0

	)

167 
	#PŞyModeIm´eci£
 1

	)

169 
	#CPR•—t
 (1 << 0)

	)

170 
	#CPAÍhaM­
 (1 << 1)

	)

171 
	#CPAÍhaXOrigš
 (1 << 2)

	)

172 
	#CPAÍhaYOrigš
 (1 << 3)

	)

173 
	#CPClXOrigš
 (1 << 4)

	)

174 
	#CPClYOrigš
 (1 << 5)

	)

175 
	#CPClMask
 (1 << 6)

	)

176 
	#CPG¿phicsExposu»
 (1 << 7)

	)

177 
	#CPSubwšdowMode
 (1 << 8)

	)

178 
	#CPPŞyEdge
 (1 << 9)

	)

179 
	#CPPŞyMode
 (1 << 10)

	)

180 
	#CPD™h”
 (1 << 11)

	)

181 
	#CPCompÚ’tAÍha
 (1 << 12)

	)

182 
	#CPLa¡B™
 12

	)

185 
	#F‹rN—»¡
 "Ã¬e¡"

	)

186 
	#F‹rBš—r
 "bš—r"

	)

188 
	#F‹rCÚvŞutiÚ
 "cÚvŞutiÚ"

	)

190 
	#F‹rFa¡
 "ç¡"

	)

191 
	#F‹rGood
 "good"

	)

192 
	#F‹rBe¡
 "be¡"

	)

194 
	#F‹rAlŸsNÚe
 -1

	)

197 
	#SubPix–Unknown
 0

	)

198 
	#SubPix–HÜizÚlRGB
 1

	)

199 
	#SubPix–HÜizÚlBGR
 2

	)

200 
	#SubPix–V”tiÿlRGB
 3

	)

201 
	#SubPix–V”tiÿlBGR
 4

	)

202 
	#SubPix–NÚe
 5

	)

205 
	#R•—tNÚe
 0

	)

206 
	#R•—tNÜm®
 1

	)

207 
	#R•—tPad
 2

	)

208 
	#R•—tReæeù
 3

	)

	@/usr/include/alloca.h

18 #iâdef 
_ALLOCA_H


19 
	#_ALLOCA_H
 1

	)

21 
	~<ã©u»s.h
>

23 
	#__Ãed_size_t


	)

24 
	~<¡ddef.h
>

26 
	g__BEGIN_DECLS


29 #undeà
®loÿ


32 *
	$®loÿ
 (
size_t
 
__size
è
__THROW
;

34 #ifdef 
__GNUC__


35 
	#®loÿ
(
size
è
	`__butš_®loÿ
 (size)

	)

38 
__END_DECLS


	@/usr/include/features-time64.h

20 
	~<b™s/wÜdsize.h
>

21 
	~<b™s/timesize.h
>

23 #ià
defšed
 
_TIME_BITS


24 #ià
_TIME_BITS
 == 64

25 #ià! 
defšed
 (
_FILE_OFFSET_BITS
) || _FILE_OFFSET_BITS != 64

27 #–ià
__TIMESIZE
 == 32

28 
	#__USE_TIME_BITS64
 1

	)

30 #–ià
_TIME_BITS
 == 32

31 #ià
__TIMESIZE
 > 32

35 #”rÜ 
Inv®id
 
_TIME_BITS
 
v®ue
 (
ÿn
 
Úly
 
be
 32 
Ü
 64-
b™
)

	@/usr/include/limits.h

22 #iâdeà
_LIBC_LIMITS_H_


23 
	#_LIBC_LIMITS_H_
 1

	)

25 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

26 
	~<b™s/libc-h—d”-¡¬t.h
>

32 
	#MB_LEN_MAX
 16

	)

37 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2

42 #iâdeà
_LIMITS_H


43 
	#_LIMITS_H
 1

	)

45 
	~<b™s/wÜdsize.h
>

54 
	#CHAR_BIT
 8

	)

57 
	#SCHAR_MIN
 (-128)

	)

58 
	#SCHAR_MAX
 127

	)

61 
	#UCHAR_MAX
 255

	)

64 #ifdeà
__CHAR_UNSIGNED__


65 
	#CHAR_MIN
 0

	)

66 
	#CHAR_MAX
 
UCHAR_MAX


	)

68 
	#CHAR_MIN
 
SCHAR_MIN


	)

69 
	#CHAR_MAX
 
SCHAR_MAX


	)

73 
	#SHRT_MIN
 (-32768)

	)

74 
	#SHRT_MAX
 32767

	)

77 
	#USHRT_MAX
 65535

	)

80 
	#INT_MIN
 (-
INT_MAX
 - 1)

	)

81 
	#INT_MAX
 2147483647

	)

84 
	#UINT_MAX
 4294967295U

	)

87 #ià
__WORDSIZE
 == 64

88 
	#LONG_MAX
 9223372036854775807L

	)

90 
	#LONG_MAX
 2147483647L

	)

92 
	#LONG_MIN
 (-
LONG_MAX
 - 1L)

	)

95 #ià
__WORDSIZE
 == 64

96 
	#ULONG_MAX
 18446744073709551615UL

	)

98 
	#ULONG_MAX
 4294967295UL

	)

101 #ifdeà
__USE_ISOC99


104 
	#LLONG_MAX
 9223372036854775807LL

	)

105 
	#LLONG_MIN
 (-
LLONG_MAX
 - 1LL)

	)

108 
	#ULLONG_MAX
 18446744073709551615ULL

	)

122 #ià
defšed
 
__GNUC__
 && !defšed 
_GCC_LIMITS_H_


124 #šşude_Ãxˆ<
lim™s
.
h
>

130 #ià
defšed
 
__USE_ISOC99
 && defšed 
__GNUC__


131 #iâdeà
LLONG_MIN


132 
	#LLONG_MIN
 (-
LLONG_MAX
-1)

	)

134 #iâdeà
LLONG_MAX


135 
	#LLONG_MAX
 
__LONG_LONG_MAX__


	)

137 #iâdeà
ULLONG_MAX


138 
	#ULLONG_MAX
 (
LLONG_MAX
 * 2ULL + 1)

	)

145 #ià
__GLIBC_USE
 (
IEC_60559_BFP_EXT_C2X
)

146 #iâdeà
CHAR_WIDTH


147 
	#CHAR_WIDTH
 8

	)

149 #iâdeà
SCHAR_WIDTH


150 
	#SCHAR_WIDTH
 8

	)

152 #iâdeà
UCHAR_WIDTH


153 
	#UCHAR_WIDTH
 8

	)

155 #iâdeà
SHRT_WIDTH


156 
	#SHRT_WIDTH
 16

	)

158 #iâdeà
USHRT_WIDTH


159 
	#USHRT_WIDTH
 16

	)

161 #iâdeà
INT_WIDTH


162 
	#INT_WIDTH
 32

	)

164 #iâdeà
UINT_WIDTH


165 
	#UINT_WIDTH
 32

	)

167 #iâdeà
LONG_WIDTH


168 
	#LONG_WIDTH
 
__WORDSIZE


	)

170 #iâdeà
ULONG_WIDTH


171 
	#ULONG_WIDTH
 
__WORDSIZE


	)

173 #iâdeà
LLONG_WIDTH


174 
	#LLONG_WIDTH
 64

	)

176 #iâdeà
ULLONG_WIDTH


177 
	#ULLONG_WIDTH
 64

	)

184 #ià
__GLIBC_USE
 (
ISOC2X
)

185 #iâdeà
BOOL_MAX


186 
	#BOOL_MAX
 1

	)

188 #iâdeà
BOOL_WIDTH


189 
	#BOOL_WIDTH
 1

	)

193 #ifdef 
__USE_POSIX


195 
	~<b™s/posix1_lim.h
>

198 #ifdef 
__USE_POSIX2


199 
	~<b™s/posix2_lim.h
>

202 #ifdef 
__USE_XOPEN


203 
	~<b™s/xİ’_lim.h
>

	@/usr/include/stdc-predef.h

18 #iâdef 
_STDC_PREDEF_H


19 
	#_STDC_PREDEF_H
 1

	)

36 #ifdeà
__GCC_IEC_559


37 #ià
__GCC_IEC_559
 > 0

38 
	#__STDC_IEC_559__
 1

	)

41 
	#__STDC_IEC_559__
 1

	)

44 #ifdeà
__GCC_IEC_559_COMPLEX


45 #ià
__GCC_IEC_559_COMPLEX
 > 0

46 
	#__STDC_IEC_559_COMPLEX__
 1

	)

49 
	#__STDC_IEC_559_COMPLEX__
 1

	)

58 
	#__STDC_ISO_10646__
 201706L

	)

	@/usr/include/X11/Xdefs.h

28 #iâdeà
_XDEFS_H


29 
	#_XDEFS_H


	)

31 #ifdeà
_XSERVER64


32 
	~<X11/Xmd.h
>

35 #iâdeà
_XTYPEDEF_ATOM


36 
	#_XTYPEDEF_ATOM


	)

37 #iâdeà
_XSERVER64


38 
	tAtom
;

40 
CARD32
 
	tAtom
;

44 #iâdeà
BoŞ


45 #iâdeà
_XTYPEDEF_BOOL


46 
	#_XTYPEDEF_BOOL


	)

47 
	tBoŞ
;

51 #iâdeà
_XTYPEDEF_POINTER


52 
	#_XTYPEDEF_POINTER


	)

53 *
	tpoš‹r
;

56 #iâdeà
_XTYPEDEF_CLIENTPTR


57 
_Cl›Á
 *
	tCl›ÁPŒ
;

58 
	#_XTYPEDEF_CLIENTPTR


	)

61 #iâdeà
_XTYPEDEF_XID


62 
	#_XTYPEDEF_XID


	)

63 #iâdeà
_XSERVER64


64 
	tXID
;

66 
CARD32
 
	tXID
;

70 #iâdeà
_XTYPEDEF_MASK


71 
	#_XTYPEDEF_MASK


	)

72 #iâdeà
_XSERVER64


73 
	tMask
;

75 
CARD32
 
	tMask
;

79 #iâdeà
_XTYPEDEF_FONTPTR


80 
	#_XTYPEDEF_FONTPTR


	)

81 
_FÚt
 *
	tFÚtPŒ
;

84 #iâdeà
_XTYPEDEF_FONT


85 
	#_XTYPEDEF_FONT


	)

86 
XID
 
	tFÚt
;

89 #iâdeà
_XTYPEDEF_FSID


90 #iâdeà
_XSERVER64


91 
	tFSID
;

93 
CARD32
 
	tFSID
;

97 
FSID
 
	tAccCÚ‹xt
;

101 
timev®
 **
	tOSTimePŒ
;

104 (* 
	tBlockHªdËrProcPŒ
)(* ,

105 
	tOSTimePŒ
 ,

	@
1
.
1
/usr/include
75
1548
analysis.cpp
basicTypes.cpp
basicTypes.h
createBarrier.cpp
endOfGeneration.cpp
endOfSimStep.cpp
executeActions.cpp
feedForward.cpp
genome-compare.cpp
genome-neurons.h
genome.cpp
getSensor.cpp
grid.cpp
grid.h
imageWriter.cpp
imageWriter.h
indiv.cpp
indiv.h
main.cpp
params.cpp
params.h
peeps.cpp
peeps.h
random.cpp
random.h
sensors-actions.h
signals.cpp
signals.h
simulator.cpp
simulator.h
spawnNewGeneration.cpp
survival-criteria.cpp
unitTestBasicTypes.cpp
unitTestConnectNeuralNetWiringFromGenome.cpp
unitTestGridVisitNeighborhood.cpp
/usr/include/CImg.h
/usr/include/X11/Xlib.h
/usr/include/X11/Xutil.h
/usr/include/X11/extensions/XShm.h
/usr/include/X11/extensions/Xrandr.h
/usr/include/X11/keysym.h
/usr/include/dirent.h
/usr/include/fnmatch.h
/usr/include/jpeglib.h
/usr/include/png.h
/usr/include/pthread.h
/usr/include/setjmp.h
/usr/include/stdio.h
/usr/include/unistd.h
/usr/include/zlib.h
/usr/include/X11/X.h
/usr/include/X11/Xfuncproto.h
/usr/include/X11/Xosdefs.h
/usr/include/X11/extensions/Xrender.h
/usr/include/X11/extensions/randr.h
/usr/include/X11/extensions/shm.h
/usr/include/X11/keysymdef.h
/usr/include/features.h
/usr/include/jerror.h
/usr/include/jmorecfg.h
/usr/include/jpegint.h
/usr/include/pngconf.h
/usr/include/pnglibconf.h
/usr/include/sched.h
/usr/include/stdint.h
/usr/include/stdlib.h
/usr/include/time.h
/usr/include/zconf.h
/usr/include/X11/Xmd.h
/usr/include/X11/extensions/render.h
/usr/include/alloca.h
/usr/include/features-time64.h
/usr/include/limits.h
/usr/include/stdc-predef.h
/usr/include/X11/Xdefs.h
